{"fetchDate": "2019-12-19", "content": [{"sha": "8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "node_id": "MDY6Q29tbWl0NDUwODIwMjM6OGZhYjJhNmUzZWRmNTg2YzIxYTRhMWFlYzJlNTlmMjMxNmU4Yjg1OQ==", "commit": {"author": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2017-07-14T23:40:06Z"}, "committer": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2017-07-14T23:40:06Z"}, "message": "Reworked Singapore/Malaysia + warp fix\n\nReworked many aspects of the Malaysia/Singapore region (added DB data,\nenabled Latanica & Scarga expedition, fixed maps). Fixed some issues\nrelated with player warping.", "tree": {"sha": "480aa75bd39565ada9f790c11e81aac84d125711", "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/trees/480aa75bd39565ada9f790c11e81aac84d125711"}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/commits/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "html_url": "https://github.com/ronancpl/HeavenMS/commit/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "comments_url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/comments", "author": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7f80f45553fcded331bbbabe8704ea81dc0c3862", "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/7f80f45553fcded331bbbabe8704ea81dc0c3862", "html_url": "https://github.com/ronancpl/HeavenMS/commit/7f80f45553fcded331bbbabe8704ea81dc0c3862"}], "stats": {"total": 28399, "additions": 14662, "deletions": 13737}, "files": [{"sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391", "filename": "MobBookUpdate/build/classes/.netbeans_automatic_build", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/MobBookUpdate/build/classes/.netbeans_automatic_build", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/MobBookUpdate/build/classes/.netbeans_automatic_build", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/MobBookUpdate/build/classes/.netbeans_automatic_build?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391", "filename": "MobBookUpdate/build/classes/.netbeans_update_resources", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/MobBookUpdate/build/classes/.netbeans_update_resources", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/MobBookUpdate/build/classes/.netbeans_update_resources", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/MobBookUpdate/build/classes/.netbeans_update_resources?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "45dc15e91630b050e2d79ebc8303f3f7bb18a8d4", "filename": "MobBookUpdate/build/classes/mobbookupdate/MobBookUpdate.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/MobBookUpdate/build/classes/mobbookupdate/MobBookUpdate.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/MobBookUpdate/build/classes/mobbookupdate/MobBookUpdate.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/MobBookUpdate/build/classes/mobbookupdate/MobBookUpdate.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "559ad9277bd90ab131f22bb0460777cd628516a4", "filename": "MobBookUpdate/lib/MonsterBook_updated.img.xml", "status": "modified", "additions": 38, "deletions": 34, "changes": 72, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/MobBookUpdate/lib/MonsterBook_updated.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/MobBookUpdate/lib/MonsterBook_updated.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/MobBookUpdate/lib/MonsterBook_updated.img.xml?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -1268,11 +1268,12 @@\n       <int name=\"50\" value=\"2070000\" />\n       <int name=\"51\" value=\"2210006\" />\n       <int name=\"52\" value=\"2330000\" />\n-      <int name=\"53\" value=\"4000000\" />\n-      <int name=\"54\" value=\"4000016\" />\n-      <int name=\"55\" value=\"4000019\" />\n-      <int name=\"56\" value=\"4010000\" />\n-      <int name=\"57\" value=\"4020000\" />\n+      <int name=\"53\" value=\"2388000\" />\n+      <int name=\"54\" value=\"4000000\" />\n+      <int name=\"55\" value=\"4000016\" />\n+      <int name=\"56\" value=\"4000019\" />\n+      <int name=\"57\" value=\"4010000\" />\n+      <int name=\"58\" value=\"4020000\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  20\\nForm : Mammal\\n\\nThe oldest snail in Maple World. It has a huge body that has developed over the years and white mustache that suits his old age. He enjoys the morning dew, so one may frequently spot him wandering around to consume the dew on green leaves every morning. If fortunate enough, one can acquire a Rainbow-colored Snail Shell which is said to grant its owner a wish.\" />\n   </imgdir>\n@@ -6152,12 +6153,13 @@\n       <int name=\"13\" value=\"2040901\" />\n       <int name=\"14\" value=\"2044602\" />\n       <int name=\"15\" value=\"2044902\" />\n-      <int name=\"16\" value=\"4000360\" />\n-      <int name=\"17\" value=\"4004002\" />\n-      <int name=\"18\" value=\"4020005\" />\n-      <int name=\"19\" value=\"4130000\" />\n-      <int name=\"20\" value=\"4130004\" />\n-      <int name=\"21\" value=\"4130006\" />\n+      <int name=\"16\" value=\"2383016\" />\n+      <int name=\"17\" value=\"4000360\" />\n+      <int name=\"18\" value=\"4004002\" />\n+      <int name=\"19\" value=\"4020005\" />\n+      <int name=\"20\" value=\"4130000\" />\n+      <int name=\"21\" value=\"4130004\" />\n+      <int name=\"22\" value=\"4130006\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  50\\nForm : Enchanted\\n\\nA form of Mithril enhanced by mixing other metals to rival the powerful strength of Orihalcon, rendering it more powerful than regular Mithril Mutae..\" />\n   </imgdir>\n@@ -6185,14 +6187,15 @@\n       <int name=\"14\" value=\"2040323\" />\n       <int name=\"15\" value=\"2040422\" />\n       <int name=\"16\" value=\"2043017\" />\n-      <int name=\"17\" value=\"4000364\" />\n-      <int name=\"18\" value=\"4004004\" />\n-      <int name=\"19\" value=\"4007000\" />\n-      <int name=\"20\" value=\"4007006\" />\n-      <int name=\"21\" value=\"4020005\" />\n-      <int name=\"22\" value=\"4130001\" />\n-      <int name=\"23\" value=\"4130005\" />\n-      <int name=\"24\" value=\"4130006\" />\n+      <int name=\"17\" value=\"2383028\" />\n+      <int name=\"18\" value=\"4000364\" />\n+      <int name=\"19\" value=\"4004004\" />\n+      <int name=\"20\" value=\"4007000\" />\n+      <int name=\"21\" value=\"4007006\" />\n+      <int name=\"22\" value=\"4020005\" />\n+      <int name=\"23\" value=\"4130001\" />\n+      <int name=\"24\" value=\"4130005\" />\n+      <int name=\"25\" value=\"4130006\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  54\\nForm : Enchanted\\n\\nA robot built by alchemists in Magatia. It is small but has the power that will exceed your expectation, and also has an extremely intricate internal structure. \" />\n   </imgdir>\n@@ -11724,21 +11727,22 @@\n       <int name=\"26\" value=\"2040401\" />\n       <int name=\"27\" value=\"2043019\" />\n       <int name=\"28\" value=\"2044702\" />\n-      <int name=\"29\" value=\"4000150\" />\n-      <int name=\"30\" value=\"4001107\" />\n-      <int name=\"31\" value=\"4006001\" />\n-      <int name=\"32\" value=\"4007002\" />\n-      <int name=\"33\" value=\"4010001\" />\n-      <int name=\"34\" value=\"4010002\" />\n-      <int name=\"35\" value=\"4031170\" />\n-      <int name=\"36\" value=\"4031171\" />\n-      <int name=\"37\" value=\"4031175\" />\n-      <int name=\"38\" value=\"4031176\" />\n-      <int name=\"39\" value=\"4031177\" />\n-      <int name=\"40\" value=\"4031178\" />\n-      <int name=\"41\" value=\"4130011\" />\n-      <int name=\"42\" value=\"4130016\" />\n-      <int name=\"43\" value=\"4130017\" />\n+      <int name=\"29\" value=\"2386010\" />\n+      <int name=\"30\" value=\"4000150\" />\n+      <int name=\"31\" value=\"4001107\" />\n+      <int name=\"32\" value=\"4006001\" />\n+      <int name=\"33\" value=\"4007002\" />\n+      <int name=\"34\" value=\"4010001\" />\n+      <int name=\"35\" value=\"4010002\" />\n+      <int name=\"36\" value=\"4031170\" />\n+      <int name=\"37\" value=\"4031171\" />\n+      <int name=\"38\" value=\"4031175\" />\n+      <int name=\"39\" value=\"4031176\" />\n+      <int name=\"40\" value=\"4031177\" />\n+      <int name=\"41\" value=\"4031178\" />\n+      <int name=\"42\" value=\"4130011\" />\n+      <int name=\"43\" value=\"4130016\" />\n+      <int name=\"44\" value=\"4130017\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  99\\nForm : Devil\\nSpecial Trait : Vulnerable to Sanctity Attribute Attacks. Vulnerable to Fire Attribute Attacks. Ice Attribute Attacks Cancelled.\\n\\nA long time ago, the king of Ludibrium punished the sinners of heinous crimes by locking them inside a clock, forcing them to reflect on their sins for eternity. However, the evil spirits that were locked inside the clocks were awoken during the Temporal Schism, and rather than seeking forgiveness and redemption, the evil spirits grew even more vengeful against Ludibrium. Although said evil spirits are still imprisoned in the clock, their escape is becoming more and more plausible, not to mention that Grim Phantom Watch has already begun to freely attack the adventurers. \" />\n   </imgdir>"}, {"sha": "2adb918f9fb71b5544a8a8a686b1b58a7ac33b7c", "filename": "build/built-jar.properties", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/built-jar.properties", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/built-jar.properties", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/built-jar.properties?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -1,4 +1,4 @@\n-#Wed, 12 Jul 2017 02:19:32 -0300\n+#Fri, 14 Jul 2017 20:30:46 -0300\n \n \n C\\:\\\\Nexon\\\\MapleSolaxia\\\\MapleSolaxiaV2="}, {"sha": "0505eb84cf07d19c9d6be38edcde177519bc9cb7", "filename": "build/classes/client/MapleCharacter$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$1.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "10d9dcaa08354de8e029e02758824d8eb40afb4c", "filename": "build/classes/client/MapleCharacter$10.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$10.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$10.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$10.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "af4aa3a79eef1b26a629092fa470658135f187ab", "filename": "build/classes/client/MapleCharacter$11.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$11.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$11.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$11.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "8b58c1dc5a9f508ecb416c34274fa77320a41ae3", "filename": "build/classes/client/MapleCharacter$12.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$12.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$12.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$12.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "cf93b81839c0c757ecdc62c3603223ab81445410", "filename": "build/classes/client/MapleCharacter$13.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$13.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$13.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$13.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "10397fa014e20be90583c29b00bf9adbf554633e", "filename": "build/classes/client/MapleCharacter$14.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$14.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$14.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$14.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "f4f5ff222671217622eac9ca494b91df6452e749", "filename": "build/classes/client/MapleCharacter$15.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$15.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$15.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$15.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "0209201d5c69075a752993ee3029c1c60b1bcfce", "filename": "build/classes/client/MapleCharacter$16.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$16.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$16.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$16.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "b6567ae405c8b7699ccb1df5cfbb7f571c06c6d3", "filename": "build/classes/client/MapleCharacter$17.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$17.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$17.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$17.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "7a42d4725be19805624773a6a1e57a08c2a88084", "filename": "build/classes/client/MapleCharacter$18.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$18.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$18.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$18.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "d0806ddda6887032485907fc21390bbeee2e502f", "filename": "build/classes/client/MapleCharacter$19.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$19.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$19.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$19.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "db810ee408509c26fa4daa93380a113b5b170599", "filename": "build/classes/client/MapleCharacter$2.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$2.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$2.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$2.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "960077084946b8618a3f24994a3a00bb814c7068", "filename": "build/classes/client/MapleCharacter$3.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$3.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$3.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$3.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "c2887c186a745e76103b21528c1df6d96c1ad7a6", "filename": "build/classes/client/MapleCharacter$4.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$4.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$4.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$4.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "6f0f062a6ea9d7c619740cb0e8303da632b577e5", "filename": "build/classes/client/MapleCharacter$5.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$5.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$5.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$5.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "d93fafaeba960ac4405f13c28192e4ddd5c2c69d", "filename": "build/classes/client/MapleCharacter$6.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$6.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$6.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$6.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "ad52d7a26c2c638db2fb5323c0eb7a82e2f007b0", "filename": "build/classes/client/MapleCharacter$7.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$7.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$7.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$7.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "f9c44ddd8faeedbf7a7b20fd63451d3e87c2061a", "filename": "build/classes/client/MapleCharacter$8.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$8.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$8.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$8.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "ac54f970b647a96e9f97a2f4efb3cc724f759839", "filename": "build/classes/client/MapleCharacter$9.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$9.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$9.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$9.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "42d625d2bd3f475aa0cce22207b941850841505f", "filename": "build/classes/client/MapleCharacter$CancelCooldownAction.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$CancelCooldownAction.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$CancelCooldownAction.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$CancelCooldownAction.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "053bbb8a6c19c999252921951355c3b313efc8e1", "filename": "build/classes/client/MapleCharacter$FameStatus.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$FameStatus.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$FameStatus.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$FameStatus.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "57823446a1cee7b3acd7c0656cda970b740a4689", "filename": "build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "fad21f871d6354bd88acbec81d79bfffa532e6b3", "filename": "build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "26db7907ceafcfd5bee7fd1004b824adcab16014", "filename": "build/classes/client/MapleCharacter$SkillEntry.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$SkillEntry.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter$SkillEntry.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$SkillEntry.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "cc1fdb292ce0d8f921238ee744a36e8e4734f490", "filename": "build/classes/client/MapleCharacter.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/MapleCharacter.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "666de6414335135e1f54f21e2e8f02d44d25e791", "filename": "build/classes/client/command/Commands$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/command/Commands$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/command/Commands$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/command/Commands$1.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "c11e79ce4a9fcb3633037091522b690674ad96e5", "filename": "build/classes/client/command/Commands.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/command/Commands.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/client/command/Commands.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/command/Commands.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "256e7256f2123e67ba60b0aadf4102ad703f8d8a", "filename": "build/classes/scripting/AbstractPlayerInteraction.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/scripting/AbstractPlayerInteraction.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/scripting/AbstractPlayerInteraction.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/scripting/AbstractPlayerInteraction.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "20466f0ca50a866f284d25843b790755407544e2", "filename": "build/classes/scripting/event/EventInstanceManager$3.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/scripting/event/EventInstanceManager$3.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/scripting/event/EventInstanceManager$3.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/scripting/event/EventInstanceManager$3.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "10b989fe1acaf7e0e0ce1d3656abf3f0f4eb028c", "filename": "build/classes/scripting/event/EventInstanceManager.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/scripting/event/EventInstanceManager.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/scripting/event/EventInstanceManager.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/scripting/event/EventInstanceManager.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "40e4f65fcfb2877af1fedc0ce4c1b05fd9cc57b5", "filename": "build/classes/scripting/reactor/ReactorActionManager$1.class", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/scripting/reactor/ReactorActionManager$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/scripting/reactor/ReactorActionManager$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/scripting/reactor/ReactorActionManager$1.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "f024c6e970887c6c9c5ec866146426dd4e07fcf5", "filename": "build/classes/scripting/reactor/ReactorActionManager$2.class", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/scripting/reactor/ReactorActionManager$2.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/scripting/reactor/ReactorActionManager$2.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/scripting/reactor/ReactorActionManager$2.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "fbedb443bc88abb4d70582ec39e62ad744ed2429", "filename": "build/classes/scripting/reactor/ReactorActionManager.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/scripting/reactor/ReactorActionManager.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/scripting/reactor/ReactorActionManager.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/scripting/reactor/ReactorActionManager.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "d02660fd8cc75045df8aa89caed1d79d4f6b1a3f", "filename": "build/classes/scripting/reactor/ReactorScriptManager.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/scripting/reactor/ReactorScriptManager.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/scripting/reactor/ReactorScriptManager.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/scripting/reactor/ReactorScriptManager.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "def2e8a947d7841cb218f59a50d2331951ec7dab", "filename": "build/classes/server/MapleItemInformationProvider$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/MapleItemInformationProvider$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/MapleItemInformationProvider$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleItemInformationProvider$1.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "9d55b0c8ca9bad80485abda1e9d56894564d66be", "filename": "build/classes/server/MapleItemInformationProvider$RewardItem.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/MapleItemInformationProvider$RewardItem.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/MapleItemInformationProvider$RewardItem.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleItemInformationProvider$RewardItem.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "19b4aed669e43a6da2085256f1d242ccf508588e", "filename": "build/classes/server/MapleItemInformationProvider$scriptedItem.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/MapleItemInformationProvider$scriptedItem.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/MapleItemInformationProvider$scriptedItem.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleItemInformationProvider$scriptedItem.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "ea4745fcd99af3e3b52bf4e63fe751e7579f63e6", "filename": "build/classes/server/MapleItemInformationProvider.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/MapleItemInformationProvider.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/MapleItemInformationProvider.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleItemInformationProvider.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "4c852e6c2f0f16f504315a1852539d80fa694a3d", "filename": "build/classes/server/MapleStatEffect.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/MapleStatEffect.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/MapleStatEffect.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleStatEffect.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "7764991837d62a4a965d242fec8f34ec783b6ab7", "filename": "build/classes/server/expeditions/MapleExpedition$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/expeditions/MapleExpedition$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/expeditions/MapleExpedition$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/expeditions/MapleExpedition$1.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "2cb4ca5e3794edcb4bab5452792f46cce28a31ad", "filename": "build/classes/server/expeditions/MapleExpedition.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/expeditions/MapleExpedition.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/expeditions/MapleExpedition.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/expeditions/MapleExpedition.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "a1f3dbd8c9045273864aa676b36f29af98570df8", "filename": "build/classes/server/maps/MapleMap$27.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/maps/MapleMap$27.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/maps/MapleMap$27.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$27.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "84be30017427947c033b78b34bd614de68406d54", "filename": "build/classes/server/maps/MapleMap$28$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/maps/MapleMap$28$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/maps/MapleMap$28$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$28$1.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "16124c73eb3bb978cf2eb62337eb3ca0151c12af", "filename": "build/classes/server/maps/MapleMap$28.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/maps/MapleMap$28.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/maps/MapleMap$28.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$28.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "68bbbcaf249d662b540475901f5a92972e6ffe2f", "filename": "build/classes/server/maps/MapleMap$29.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/maps/MapleMap$29.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/maps/MapleMap$29.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$29.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "63f15254950779c9d8244b8136c8d641330179f9", "filename": "build/classes/server/maps/MapleMap$ActivateItemReactor$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/maps/MapleMap$ActivateItemReactor$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/maps/MapleMap$ActivateItemReactor$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$ActivateItemReactor$1.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "d54ec89ea1c4e30d6d6017c3070ced8e2e14bed7", "filename": "build/classes/server/maps/MapleMap$ActivateItemReactor.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/maps/MapleMap$ActivateItemReactor.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/maps/MapleMap$ActivateItemReactor.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$ActivateItemReactor.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "54096ed509b23e732cc92a3a8bbca3c0cccf395e", "filename": "build/classes/server/maps/MapleMap$ExpireMapItemJob.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/maps/MapleMap$ExpireMapItemJob.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/maps/MapleMap$ExpireMapItemJob.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$ExpireMapItemJob.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "1e7f873e91acbbe7798a080d40f0cfa0b5866cc6", "filename": "build/classes/server/maps/MapleMap.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/maps/MapleMap.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/maps/MapleMap.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "59a90e4c8725c316fc32223a0c0943f33e7070ea", "filename": "build/classes/server/maps/MapleMiniDungeon.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/maps/MapleMiniDungeon.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/maps/MapleMiniDungeon.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMiniDungeon.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "bbef8dd35577cffb96a32d894b8a93496b7bade1", "filename": "build/classes/server/quest/actions/ItemAction$ItemData.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/quest/actions/ItemAction$ItemData.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/quest/actions/ItemAction$ItemData.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/quest/actions/ItemAction$ItemData.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "9754437172377aee564b54c06e3822cb837fe142", "filename": "build/classes/server/quest/actions/ItemAction.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/quest/actions/ItemAction.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/build/classes/server/quest/actions/ItemAction.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/quest/actions/ItemAction.class?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "c339772c35c52782144f8a07c59e2b4696f9f5e9", "filename": "dist/MapleSolaxia.jar", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/dist/MapleSolaxia.jar", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/dist/MapleSolaxia.jar", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/dist/MapleSolaxia.jar?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "e81bdcd398cb2b07fb92911ea71dd47ec33354b6", "filename": "feature_list.txt", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/feature_list.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/feature_list.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/feature_list.txt?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -10,9 +10,11 @@ Feature list:\n PQs:\n * HPQ/KPQ/LPQ/LMPQ/OPQ/EllinPQ/PiratePQ 100%.\n * CWKPQ as Expedition-based event 100%.\n+* Expeditions: Scarga 100%.\n * GuildPQ 100% + Guild queue with multi-lobby systems available.\n * Brand-new PQ: Boss Rush PQ 100%.\n * BalrogPQ semi-functional.\n+* Capt. Latanica remade as an event (parties can now fight the boss).\n \n Quests:\n * Doll house quest 100%.\n@@ -39,7 +41,8 @@ Server potentials:\n * Player level rates.\n * Gain fame by quests.\n * Every monsterbook card is now droppable by overworld mobs.\n-* Added Boss HP Bar for dozens of bosses (needs provided custom wz);\n+* Monsterbook displays drop data info conformant with the underlying DB (needs custom wz). See more on the MobBookUpdate feature.\n+* Added Boss HP Bar for dozens of bosses (needs provided custom wz).\n * Custom jail system (needs provided custom wz).\n * Delete Character 100% (requires ENABLE_PIC activated).\n "}, {"sha": "5957ce62f8f150ed9bf4d4ff52136abd9587f8da", "filename": "mychanges_ptbr.txt", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/mychanges_ptbr.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/mychanges_ptbr.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/mychanges_ptbr.txt?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -365,4 +365,12 @@ Abertas novas quests para a regi\n Codificados novos NPCs para a regi\ufffdo de Masteria.\n Adicionado drop data para mobs na Pendergast Mansion.\n Corrigido Mystic Doors podendo ser lan\ufffdadas em declives, potencialmente mal-colocando players em mapas-alvo.\n-Corrigido mount equipado por player de nivel baixo potencialmente crashando o client.\n\\ No newline at end of file\n+Corrigido mount equipado por player de nivel baixo potencialmente crashando o client.\n+\n+12 - 14 Julho 2017,\n+Corrigido quests onde player pode escolher recompensa n\ufffdo recompensando corretamente.\n+Corrigido mapas em CBD/Singapore fazendo jogador \"cair\" do mapa.\n+Adicionado no sql lojas de NPCs de Malaysia.\n+Adicionado minidungeon \"ByeBye station\" (Malaysia).\n+Codificada expedi\ufffd\ufffdo Scarlion/Targa.\n+Corrigido exploit com mini-dungeons (toda party, independente de localiza\ufffd\ufffdo atual, movida para dentro da MD).\n\\ No newline at end of file"}, {"sha": "9f8dd3d7bb3b903449cfbb2ce838f1c1f67a70d2", "filename": "nbproject/private/private.xml", "status": "modified", "additions": 33, "deletions": 11, "changes": 44, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/nbproject/private/private.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/nbproject/private/private.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/nbproject/private/private.xml?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -3,21 +3,43 @@\n     <editor-bookmarks xmlns=\"http://www.netbeans.org/ns/editor-bookmarks/2\" lastBookmarkId=\"1\"/>\n     <open-files xmlns=\"http://www.netbeans.org/ns/projectui-open-files/2\">\n         <group>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/RecvOpcode.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/npc/1032102.js</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/MapleServerHandler.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/maps/MapleDoor.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/npc/2091005.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/expeditions/MapleExpeditionType.java</file>\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/MapleStatEffect.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/PacketProcessor.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/channel/handlers/DoorHandler.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/constants/ServerConstants.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/provider/MapleDataTool.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/maps/MapleDoorObject.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/event/ScargaBattle.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/scripting/AbstractPlayerInteraction.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/event/KerningPQ.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/portal/captinsg00.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/event/GuildQuest.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/event/CWKPQ.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/npc/9270033.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/scripting/event/EventInstanceManager.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/npc/9201113.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/npc/2091005_old.js</file>\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/maps/MapleMap.java</file>\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/MapleCharacter.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/channel/handlers/CharInfoRequestHandler.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/MapleItemInformationProvider.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/reactor/5511001.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/event/PiratePQ.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/scripting/event/EventManager.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/scripting/reactor/ReactorActionManager.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/channel/Channel.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/npc/9270047.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/expeditions/MapleExpedition.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/reactor/5511000.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/maps/MapleReactor.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/npc/2133004.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/portal/MD_high.js</file>\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/tools/MaplePacketCreator.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/life/MapleMonster.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/TimerManager.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/scripting/reactor/ReactorScriptManager.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/event/HenesysPQ.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/portal/MD_drakeroom.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/event/BossRushPQ.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/scripting/npc/NPCConversationManager.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/npc/9020001.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/event/LatanicaBattle.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/MapleClient.java</file>\n         </group>\n     </open-files>\n </project-private>"}, {"sha": "5d62b852e92d4973513a28bccdd7b6e78624039a", "filename": "scripts/NPC Base.js", "status": "modified", "additions": 19, "deletions": 12, "changes": 31, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/NPC%20Base.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/NPC%20Base.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/NPC%20Base.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -27,19 +27,26 @@\n var status;\n  \n function start() {\n-    status = -1;\n-    action(1, 0, 0);\n+        status = -1;\n+        action(1, 0, 0);\n }\n \n function action(mode, type, selection) {\n-    if (mode < 0)\n-        cm.dispose();\n-    else {\n-        if (mode == 1)\n-            status++;\n-        else\n-            status--;\n-        if (status == 0 && mode == 1) {\n-\t\t}\n-    }\n+        if (mode == -1) {\n+                cm.dispose();\n+        } else {\n+                if (mode == 0 && status == 0) {\n+                        cm.dispose();\n+                        return;\n+                }\n+                if (mode == 1)\n+                        status++;\n+                else\n+                        status--;\n+    \n+                if(status == 0) {\n+                        cm.sendOk(\"Sample text.\");\n+                        cm.dispose();\n+                }\n+        }\n }\n\\ No newline at end of file"}, {"sha": "39bdf6cf5f615be4cf508b69ad80a47750f9e15f", "filename": "scripts/event/BossRushPQ.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/event/BossRushPQ.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/event/BossRushPQ.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/BossRushPQ.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -5,7 +5,7 @@\n \n var isPq = true;\n var minPlayers = 1, maxPlayers = 6;\n-var minLevel = 1, maxLevel = 200;\n+var minLevel = 1, maxLevel = 255;\n var entryMap = 970030100;\n var exitMap = 970030000;\n var recruitMap = 970030000;"}, {"sha": "70e036019151d608bf37552137f1e8fb7824c646", "filename": "scripts/event/GuildQuest.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/event/GuildQuest.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/event/GuildQuest.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/GuildQuest.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -26,7 +26,7 @@\n \n var isPq = true;\n var minPlayers = 1, maxPlayers = 30;\n-var minLevel = 1, maxLevel = 200;\n+var minLevel = 1, maxLevel = 255;\n var entryMap = 990000000;\n var exitMap = 990001100;\n var recruitMap = 101030104;"}, {"sha": "382b1beff9ea9c2e8fb2a84f974c9a21a1343f4b", "filename": "scripts/event/HenesysPQ.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/event/HenesysPQ.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/event/HenesysPQ.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/HenesysPQ.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -5,7 +5,7 @@\n \n var isPq = true;\n var minPlayers = 3, maxPlayers = 6;\n-var minLevel = 10, maxLevel = 200;\n+var minLevel = 10, maxLevel = 255;\n var entryMap = 910010000;\n var exitMap = 910010300;\n var recruitMap = 100000200;"}, {"sha": "b2346be44c150a17295eba1dcea3940299d0fd4d", "filename": "scripts/event/LatanicaBattle.js", "status": "added", "additions": 208, "deletions": 0, "changes": 208, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/event/LatanicaBattle.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/event/LatanicaBattle.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/LatanicaBattle.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -0,0 +1,208 @@\n+/**\n+ * @author: Ronan\n+ * @event: Vs Latanica\n+*/\n+\n+var isPq = true;\n+var minPlayers = 1, maxPlayers = 6;\n+var minLevel = 1, maxLevel = 255;\n+var entryMap = 541010100;\n+var exitMap = 541010110;\n+var recruitMap = 541010060;\n+var clearMap = 541010110;\n+\n+var minMapId = 541010100;\n+var maxMapId = 541010100;\n+\n+var eventTime = 10;     // 10 minutes\n+\n+var lobbyRange = [0, 0];\n+\n+function init() {\n+        setEventRequirements();\n+}\n+\n+function setLobbyRange() {\n+        return lobbyRange;\n+}\n+\n+function setEventRequirements() {\n+        var reqStr = \"\";\n+        \n+        reqStr += \"\\r\\n    Number of players: \";\n+        if(maxPlayers - minPlayers >= 1) reqStr += minPlayers + \" ~ \" + maxPlayers;\n+        else reqStr += minPlayers;\n+        \n+        reqStr += \"\\r\\n    Level range: \";\n+        if(maxLevel - minLevel >= 1) reqStr += minLevel + \" ~ \" + maxLevel;\n+        else reqStr += minLevel;\n+        \n+        reqStr += \"\\r\\n    Time limit: \";\n+        reqStr += eventTime + \" minutes\";\n+        \n+        em.setProperty(\"party\", reqStr);\n+}\n+\n+function setEventExclusives(eim) {\n+        var itemSet = [];\n+        eim.setExclusiveItems(itemSet);\n+}\n+\n+function setEventRewards(eim) {\n+        var itemSet, itemQty, evLevel, expStages;\n+\n+        evLevel = 1;    //Rewards at clear PQ\n+        itemSet = [];\n+        itemQty = [];\n+        eim.setEventRewards(evLevel, itemSet, itemQty);\n+        \n+        expStages = [];    //bonus exp given on CLEAR stage signal\n+        eim.setEventClearStageExp(expStages);\n+}\n+\n+function getEligibleParty(party) {      //selects, from the given party, the team that is allowed to attempt this event\n+        var eligible = [];\n+        var hasLeader = false;\n+        \n+        if(party.size() > 0) {\n+                var partyList = party.toArray();\n+\n+                for(var i = 0; i < party.size(); i++) {\n+                        var ch = partyList[i];\n+\n+                        if(ch.getMapId() == recruitMap && ch.getLevel() >= minLevel && ch.getLevel() <= maxLevel) {\n+                                if(ch.isLeader()) hasLeader = true;\n+                                eligible.push(ch);\n+                        }\n+                }\n+        }\n+        \n+        if(!(hasLeader && eligible.length >= minPlayers && eligible.length <= maxPlayers)) eligible = [];\n+        return eligible;\n+}\n+\n+function setup(level, lobbyid) {\n+        var eim = em.newInstance(\"Latanica\" + lobbyid);\n+        eim.setProperty(\"level\", level);\n+        eim.setProperty(\"boss\", \"0\");\n+        \n+        eim.getInstanceMap(541010100).resetPQ(level);\n+        \n+        respawnStages(eim);\n+        eim.startEventTimer(eventTime * 60000);\n+        setEventRewards(eim);\n+        setEventExclusives(eim);\n+        return eim;\n+}\n+\n+function afterSetup(eim) {}\n+\n+function respawnStages(eim) {}\n+\n+function playerEntry(eim, player) {\n+        var map = eim.getMapInstance(entryMap);\n+        player.changeMap(map, map.getPortal(0));\n+}\n+\n+function scheduledTimeout(eim) {\n+        end(eim);\n+}\n+\n+function playerUnregistered(eim, player) {}\n+\n+function playerExit(eim, player) {\n+        eim.unregisterPlayer(player);\n+        player.changeMap(exitMap, 0);\n+}\n+\n+function changedMap(eim, player, mapid) {\n+        if (mapid < minMapId || mapid > maxMapId) {\n+                if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                        eim.unregisterPlayer(player);\n+                        end(eim);\n+                }\n+                else\n+                        eim.unregisterPlayer(player);\n+        }\n+}\n+\n+function changedLeader(eim, leader) {\n+        var mapid = leader.getMapId();\n+        if (!eim.isEventCleared() && (mapid < minMapId || mapid > maxMapId)) {\n+                end(eim);\n+        }\n+}\n+\n+function playerDead(eim, player) {}\n+\n+function playerRevive(eim, player) { // player presses ok on the death pop up.\n+        if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                eim.unregisterPlayer(player);\n+                end(eim);\n+        }\n+        else\n+                eim.unregisterPlayer(player);\n+}\n+\n+function playerDisconnected(eim, player) {\n+        if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                eim.unregisterPlayer(player);\n+                end(eim);\n+        }\n+        else\n+                eim.unregisterPlayer(player);\n+}\n+\n+function leftParty(eim, player) {\n+        if (eim.isEventTeamLackingNow(false, minPlayers, player)) {\n+                eim.unregisterPlayer(player);\n+                end(eim);\n+        }\n+        else\n+                eim.unregisterPlayer(player);\n+}\n+\n+function disbandParty(eim) {\n+        end(eim);\n+}\n+\n+function monsterValue(eim, mobId) {\n+        return 1;\n+}\n+\n+function end(eim) {\n+        var party = eim.getPlayers();\n+        \n+        for (var i = 0; i < party.size(); i++) {\n+                playerExit(eim, party.get(i));\n+        }\n+        eim.dispose();\n+}\n+\n+function giveRandomEventReward(eim, player) {\n+        eim.giveEventReward(player);\n+}\n+\n+function clearPQ(eim) {\n+        eim.stopEventTimer();\n+        eim.setEventCleared();\n+}\n+\n+function isLatanica(mob) {\n+        var mobid = mob.getId();\n+        return mobid == 9420513;\n+}\n+\n+function monsterKilled(mob, eim) {\n+        if(isLatanica(mob)) {\n+                eim.showClearEffect();\n+                eim.clearPQ();\n+        }\n+}\n+\n+function allMonstersDead(eim) {}\n+\n+function cancelSchedule() {}\n+\n+function dispose(eim) {}\n+"}, {"sha": "2304b9012b9eed66f670d3af1cb60f6d500174a5", "filename": "scripts/event/PiratePQ.js", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/event/PiratePQ.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/event/PiratePQ.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/PiratePQ.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -257,8 +257,13 @@ function clearPQ(eim) {\n         eim.warpEventTeam(925100600);\n }\n \n+function isLordPirate(mob) {\n+        var mobid = mob.getId();\n+        return (mobid == 9300105) || (mobid == 9300106) || (mobid == 9300107) || (mobid == 9300119);\n+}\n+\n function monsterKilled(mob, eim) {\n-        if(mob.isBoss()) {  // lord pirate defeated, spawn the little fella!\n+        if(isLordPirate(mob)) {  // lord pirate defeated, spawn the little fella!\n             mob.getMap().broadcastStringMessage(5, \"As Lord Pirate dies, Wu Yang is released!\");\n             eim.spawnNpc(2094001, new java.awt.Point(777, 140), mob.getMap());\n         }"}, {"sha": "ecb5f00600d4e7ecee50b94c1f0b04680fcc2cc6", "filename": "scripts/event/ScargaBattle.js", "status": "modified", "additions": 144, "deletions": 119, "changes": 263, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/event/ScargaBattle.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/event/ScargaBattle.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/ScargaBattle.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -1,163 +1,188 @@\n-/* \n- * This file is part of the OdinMS Maple Story Server\n-    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc> \n-                       Matthias Butz <matze@odinms.de>\n-                       Jan Christian Meyer <vimes@odinms.de>\n-\n-    This program is free software: you can redistribute it and/or modify\n-    it under the terms of the GNU Affero General Public License version 3\n-    as published by the Free Software Foundation. You may not use, modify\n-    or distribute this program under any other version of the\n-    GNU Affero General Public License.\n-\n-    This program is distributed in the hope that it will be useful,\n-    but WITHOUT ANY WARRANTY; without even the implied warranty of\n-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-    GNU Affero General Public License for more details.\n-\n-    You should have received a copy of the GNU Affero General Public License\n-    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n- */\n-\n-/*\n- * @Author SharpAceX(Alan)\n- * Scarga Battle\n- */\n-\n-var exitMap;\n-var battleMap;\n-var minPlayers = 1;\n-var fightTime = 60;\n+/**\n+ * @author: Ronan\n+ * @event: Scarga Battle\n+*/\n+\n+var isPq = true;\n+var minPlayers = 6, maxPlayers = 30;\n+var minLevel = 70, maxLevel = 255;\n+var entryMap = 551030200;\n+var exitMap = 551030100;\n+var recruitMap = 551030100;\n+var clearMap = 551030100;\n+\n+var minMapId = 551030200;\n+var maxMapId = 551030200;\n+\n+var eventTime = 60;     // 60 minutes for boss stg\n+\n+var lobbyRange = [0, 0];\n \n function init() {\n-    em.setProperty(\"shuffleReactors\",\"false\");\n-\texitMap = em.getChannelServer().getMapFactory().getMap(551030100);\n-\tbattleMap = em.getChannelServer().getMapFactory().getMap(551030200);\n+        setEventRequirements();\n+}\n+\n+function setLobbyRange() {\n+        return lobbyRange;\n+}\n+\n+function setEventRequirements() {\n+        var reqStr = \"\";\n+        \n+        reqStr += \"\\r\\n    Number of players: \";\n+        if(maxPlayers - minPlayers >= 1) reqStr += minPlayers + \" ~ \" + maxPlayers;\n+        else reqStr += minPlayers;\n+        \n+        reqStr += \"\\r\\n    Level range: \";\n+        if(maxLevel - minLevel >= 1) reqStr += minLevel + \" ~ \" + maxLevel;\n+        else reqStr += minLevel;\n+        \n+        reqStr += \"\\r\\n    Time limit: \";\n+        reqStr += eventTime + \" minutes\";\n+        \n+        em.setProperty(\"party\", reqStr);\n+}\n+\n+function setEventExclusives(eim) {\n+        var itemSet = [];\n+        eim.setExclusiveItems(itemSet);\n }\n \n-function setup() {\n-        var eim = em.newInstance(\"ScargaBattle_\" + em.getProperty(\"channel\"));\n-\tvar timer = 1000 * 60 * fightTime;\n-\teim.setProperty(\"summoned\", \"false\");\n-        em.schedule(\"timeOut\", eim, timer);\n-\teim.startEventTimer(timer);\n-\treturn eim;\n+function setEventRewards(eim) {\n+        var itemSet, itemQty, evLevel, expStages, mesoStages;\n+\n+        evLevel = 1;    //Rewards at clear PQ\n+        itemSet = [];\n+        itemQty = [];\n+        eim.setEventRewards(evLevel, itemSet, itemQty);\n+        \n+        expStages = [];    //bonus exp given on CLEAR stage signal\n+        eim.setEventClearStageExp(expStages);\n+        \n+        mesoStages = [];    //bonus meso given on CLEAR stage signal\n+        eim.setEventClearStageMeso(mesoStages);\n }\n \n function afterSetup(eim) {}\n \n-function playerEntry(eim,player) {\n-\tvar battle = eim.getMapInstance(battleMap.getId());\n-    player.changeMap(battle, battle.getPortal(0));\n+function setup(channel) {\n+    var eim = em.newInstance(\"Scarga\" + channel);\n+    eim.setProperty(\"canJoin\", 1);\n+    eim.setProperty(\"defeatedBoss\", 1);\n+\n+    var level = 1;\n+    eim.getInstanceMap(551030200).resetPQ(level);\n+    \n+    eim.startEventTimer(eventTime * 60000);\n+    setEventRewards(eim);\n+    setEventExclusives(eim);\n+    \n+    return eim;\n+}\n \n-    if (battle == null)\n-        debug(eim, \"The battle map was not properly linked.\");\n+function playerEntry(eim, player) {\n+    eim.dropMessage(5, \"[Expedition] \" + player.getName() + \" has entered the map.\");\n+    var map = eim.getMapInstance(entryMap);\n+    player.changeMap(map, map.getPortal(0));\n }\n \n-function playerRevive(eim,player) {\n-    player.setHp(500);\n-    player.setStance(0);\n-    eim.unregisterPlayer(player);\n-    player.changeMap(exitMap, exitMap.getPortal(0));\n-    var exped = eim.getPlayers();\n-    if (exped.size() < minPlayers)\n-        end(eim,\"There are not enough players remaining, the battle is over.\");\n-    return false;\n+function scheduledTimeout(eim) {\n+    end(eim);\n }\n \n-function playerDead(eim,player) {\n+function changedMap(eim, player, mapid) {\n+    if (mapid < minMapId || mapid > maxMapId) {\n+\tif (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+            eim.dropMessage(5, \"[Expedition] Either the leader has quitted the event or there is no longer the minimum number of members required to continue this event.\");\n+            eim.unregisterPlayer(player);\n+            end(eim);\n+        }\n+        else {\n+            eim.dropMessage(5, \"[Expedition] \" + player.getName() + \" has left the event.\");\n+            eim.unregisterPlayer(player);\n+        }\n+    }\n }\n \n-function playerDisconnected(eim,player) {\n-    var exped = eim.getPlayers();\n-    if (player.getName().equals(eim.getProperty(\"leader\"))) {\n-        var iter = exped.iterator();\n-        while (iter.hasNext()) {\n-            iter.next().getPlayer().dropMessage(6, \"The leader of the expedition has disconnected.\");\n-\t\t}\n+function changedLeader(eim, leader) {}\n+\n+function playerDead(eim, player) {}\n+\n+function playerRevive(eim, player) {\n+    if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+        eim.unregisterPlayer(player);\n+        eim.dropMessage(5, \"[Expedition] Either the leader has quitted the event or there is no longer the minimum number of members required to continue this event.\");\n+        end(eim);\n     }\n-    //If the expedition is too small.\n-    if (exped.size() < minPlayers) {\n-        end(eim,\"There are not enough players remaining. The Battle is over.\");\n+    else {\n+        eim.dropMessage(5, \"[Expedition] \" + player.getName() + \" has left the event.\");\n+        eim.unregisterPlayer(player);\n     }\n }\n \n-function monsterValue(eim,mobId) { // potentially display time of death? does not seem to work\n-    return -1;\n+function playerDisconnected(eim, player) {\n+    if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+        eim.dropMessage(5, \"[Expedition] Either the leader has quitted the event or there is no longer the minimum number of members required to continue this event.\");\n+        eim.unregisterPlayer(player);\n+        end(eim);\n+    }\n+    else {\n+        eim.dropMessage(5, \"[Expedition] \" + player.getName() + \" has left the event.\");\n+        eim.unregisterPlayer(player);\n+    }\n }\n \n-function leftParty(eim,player) {\n-}\n+function leftParty (eim, player) {}\n \n-function disbandParty(eim) {\n+function disbandParty (eim) {}\n+\n+function monsterValue(eim, mobId) {\n+    return 1;\n }\n \n function playerUnregistered(eim, player) {}\n \n-function playerExit(eim,player) {\n+function playerExit(eim, player) {\n     eim.unregisterPlayer(player);\n-    player.changeMap(exitMap, exitMap.getPortal(0));\n-    if (eim.getPlayers().size() < minPlayers) {//not enough after someone left\n-        end(eim, \"There are no longer enough players to continue, and those remaining shall be warped out.\");\n-\t}\n+    player.changeMap(exitMap, 0);\n }\n \n-function end(eim,msg) {\n-    var iter = eim.getPlayers().iterator();\n-    while (iter.hasNext()) {\n-        var player = iter.next();\n-        player.getPlayer().dropMessage(6,msg);\n-        eim.unregisterPlayer(player);\n-        if (player != null){\n-            player.changeMap(exitMap, exitMap.getPortal(0));\n-\t\t}\n+function end(eim) {\n+    var party = eim.getPlayers();\n+    for (var i = 0; i < party.size(); i++) {\n+        playerExit(eim, party.get(i));\n     }\n     eim.dispose();\n }\n \n-function removePlayer(eim,player) {\n-    eim.unregisterPlayer(player);\n-    player.getMap().removePlayer(player);\n-    player.setMap(exitMap);\n+function giveRandomEventReward(eim, player) {\n+    eim.giveEventReward(player);\n }\n \n-function clearPQ(eim) { //When the hell does this get executed?\n-    end(eim,\"As the sound of battle fades away, you feel strangely unsatisfied.\");\n+function clearPQ(eim) {\n+    eim.stopEventTimer();\n+    eim.setEventCleared();\n }\n \n-function finish(eim) {\n-    var iter = eim.getPlayers().iterator();\n-    while (iter.hasNext()) {\n-        var player = iter.next();\n-        eim.unregisterPlayer(player);\n-        player.changeMap(exitMap, exitMap.getPortal(0));\n-    }\n-    eim.dispose();\n+function isScarga(mob) {\n+        var mobid = mob.getId();\n+        return (mobid == 9420544) || (mobid == 9420549);\n }\n \n-function monsterKilled(mob, eim) {}\n+function monsterKilled(mob, eim) {\n+    if(isScarga(mob)) {\n+        var killed = eim.getIntProperty(\"defeatedBoss\");\n+        if(killed == 1) {\n+            eim.showClearEffect();\n+            eim.clearPQ();\n+        }\n+        \n+        eim.setIntProperty(\"defeatedBoss\", killed + 1);\n+    }\n+}\n \n function allMonstersDead(eim) {}\n \n function cancelSchedule() {}\n \n-function timeOut(eim) {\n-    if (eim != null) {\n-        if (eim.getPlayerCount() > 0) {\n-            var pIter = eim.getPlayers().iterator();\n-            while (pIter.hasNext()){\n-\t\tvar player = pIter.next();\n-\t\tplayer.dropMessage(6, \"You have run out of time to defeat Scarlion and Targa!\");\n-                playerExit(eim, player);\n-            }\n-        }\n-        eim.dispose();\n-    }\n-}\n-\n-function debug(eim,msg) {\n-    var iter = eim.getPlayers().iterator();\n-    while (iter.hasNext()) {\n-        iter.next().getClient().getSession().write(Packages.tools.MaplePacketCreator.serverNotice(6,msg));\n-    }\n-}\n\\ No newline at end of file\n+function dispose(eim) {}\n\\ No newline at end of file"}, {"sha": "6e77b61afeb68084904cbc9e6bbeb4243748bc92", "filename": "scripts/npc/2091005.js", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/npc/2091005.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/npc/2091005.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2091005.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -146,13 +146,13 @@ function action(mode, type, selection) {\n                     cm.dispose();\n \t\t    return;\n                 } else {\n-\t\t\t\t\tfor (var i = 1 ; i < 39; i++) { //only 32 stages, but 38 maps\n-\t\t\t\t\t\tif(cm.getClient().getChannelServer().getMapFactory().getMap(925020000 + 100 * i).getCharacters().size() > 0) {\n-\t\t\t\t\t\t\tcm.sendOk(\"Someone is already in the Dojo.\");\n-\t\t\t\t\t\t\tcm.dispose();\n-\t\t\t\t\t\t\treturn;\n-\t\t\t\t\t\t}\n-\t\t\t\t\t}\n+                    for (var i = 1 ; i < 39; i++) { //only 32 stages, but 38 maps\n+                            if(cm.getClient().getChannelServer().getMapFactory().getMap(925020000 + 100 * i).getCharacters().size() > 0) {\n+                                    cm.sendOk(\"Someone is already in the Dojo.\");\n+                                    cm.dispose();\n+                                    return;\n+                            }\n+                    }\n                     cm.getClient().getChannelServer().getMapFactory().getMap(925020100).resetReactors();\n                     cm.getClient().getChannelServer().getMapFactory().getMap(925020100).killAllMonsters();\n                     cm.warpParty(925020100);"}, {"sha": "4a4af5d907420973a904a34f20e1cf63b1dbc31b", "filename": "scripts/npc/2091005_old.js", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/npc/2091005_old.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/npc/2091005_old.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2091005_old.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -133,13 +133,13 @@ function action(mode, type, selection) {\n                 } else if (!isBetween30) {\n                     cm.sendNext(\"Your partys level ranges are too broad to enter. Please make sure all of your party members are within #r30 levels#k of each other.\");\n                 } else {\n-\t\t\t\t\tfor (var i = 1 ; i < 39; i++) { //only 32 stages, but 38 maps\n-\t\t\t\t\t\tif(cm.getClient().getChannelServer().getMapFactory().getMap(925020000 + 100 * i).getCharacters().size() > 0) {\n-\t\t\t\t\t\t\tcm.sendOk(\"Someone is already in the Dojo.\");\n-\t\t\t\t\t\t\tcm.dispose();\n-\t\t\t\t\t\t\treturn;\n-\t\t\t\t\t\t}\n-\t\t\t\t\t}\n+                    for (var i = 1 ; i < 39; i++) { //only 32 stages, but 38 maps\n+                            if(cm.getClient().getChannelServer().getMapFactory().getMap(925020000 + 100 * i).getCharacters().size() > 0) {\n+                                    cm.sendOk(\"Someone is already in the Dojo.\");\n+                                    cm.dispose();\n+                                    return;\n+                            }\n+                    }\n                     cm.getClient().getChannelServer().getMapFactory().getMap(925020100).resetReactors();\n                     cm.getClient().getChannelServer().getMapFactory().getMap(925020100).killAllMonsters();\n                     cm.warpParty(925020100);"}, {"sha": "b5c77a83194c46f7cb440018b6412a9a2596a943", "filename": "scripts/npc/2133001.js", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/npc/2133001.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/npc/2133001.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2133001.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -21,11 +21,11 @@ function action(mode, type, selection) {\n \t    cm.sendNext(\"We have to eliminate all these contaminated reactors!\");\n \t    break;\n \tcase 930000300:\n-\t    cm.warpParty(930000400);\n+            cm.getEventInstance().warpEventTeam(930000400);\n \t    break;\n \tcase 930000400:\n \t    if (cm.haveItem(4001169,20)) {\n-\t\tcm.warpParty(930000500);\n+                cm.getEventInstance().warpEventTeam(930000500);\n \t\tcm.gainItem(4001169,-20);\n \t    } else if (!cm.haveItem(2270004)) {\n                 if(cm.canHold(2270004,10)) {"}, {"sha": "922c582d6f3ee0da007b4b16b47c12f0386f5c35", "filename": "scripts/npc/2133004.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/npc/2133004.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/npc/2133004.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2133004.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -15,7 +15,7 @@ function action(mode, type, selection) {\n \t    if (!cm.haveItem(4001163)) {\n \t    \tcm.sendNext(\"Get me the Purple Stone of Magic from here.\");\n \t    } else {\n-\t\tcm.warpParty(930000600);\n+\t\tcm.getEventInstance().warpEventTeam(930000600);\n \t    }\n \t    break;\n     }"}, {"sha": "e85cf4189d80318004e5c72a951eff73551262b3", "filename": "scripts/npc/9201113.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/npc/9201113.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/npc/9201113.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201113.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -20,7 +20,7 @@\n */\n /*Jack\n  *\n- *@author SharpAceX (Alan)\n+ *@author SharpAceX (Alan), Ronan\n  */\n importPackage(Packages.server.expeditions);\n importPackage(Packages.tools);"}, {"sha": "a6ae74e25216e4287c473e1a5bad552bb089246b", "filename": "scripts/npc/9201134.js", "status": "modified", "additions": 23, "deletions": 20, "changes": 43, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/npc/9201134.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/npc/9201134.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201134.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -21,31 +21,34 @@\n */\n /* Aldol\n  * \n- * @Author Alan (SharpAceX)\n+ * @Author Ronan\n  */\n- importPackage(Packages.server.expeditions);\n+ \n+var status;\n  \n function start() {\n-    cm.sendYesNo(\"If you leave now, you won't be able to return. Are you sure you want to leave?\");\n+    status = -1;\n+    action(1, 0, 0);\n }\n \n function action(mode, type, selection) {\n-\tvar scarga = MapleExpeditionType.SCARGA;\n-    var expedition = cm.getExpedition(scarga);\n-    if (mode < 1)\n-        cm.dispose();\n-    else {\n-        if (cm.getPlayer().getMap().getCharacters().size() < 2){\n-            cm.getPlayer().getMap().killAllMonsters();\n-            cm.getPlayer().getMap().resetReactors();\n-\t\t\tif (expedition != null){\n-\t\t\t\tcm.endExpedition(expedition);\n-\t\t\t}\n+        if (mode == -1) {\n+                cm.dispose();\n+        } else {\n+                if (mode == 0 && status == 0) {\n+                        cm.dispose();\n+                        return;\n+                }\n+                if (mode == 1)\n+                        status++;\n+                else\n+                        status--;\n+    \n+                if (status == 0) {\n+                        cm.sendYesNo(\"If you leave now, you won't be able to return. Are you sure you want to leave?\");\n+                } else if (status == 1) {\n+                        cm.warp(551030100, 2);\n+                        cm.dispose();\n+                }\n         }\n-        if (cm.getPlayer().getEventInstance() != null)\n-            cm.getPlayer().getEventInstance().removePlayer(cm.getPlayer());\n-        else\n-            cm.warp(551030100);\n-        cm.dispose();\n-    }\n }\n\\ No newline at end of file"}, {"sha": "a376184a51189ba3893a45b010da1d1f1d56c5ee", "filename": "scripts/npc/9270023.js", "status": "modified", "additions": 17, "deletions": 11, "changes": 28, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/npc/9270023.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/npc/9270023.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9270023.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -31,22 +31,30 @@ var fface = Array(21001, 21002, 21003, 21004, 21005, 21006, 21008, 21012, 21014,\n var facenew = Array();\n \n function start() {\n-    cm.sendSimple(\"If you use this regular coupon, your face may transform into a random new look...do you still want to do it using #b#t5152037##k, I will do it anyways for you. But don't forget, it will be random!\\r\\n\\#L2#OK!#l\");\n+    cm.sendSimple(\"If you use this regular coupon, your face may transform into a random new look...do you still want to do it using #b#t5152037##k, I will do it anyways for you. But don't forget, it will be random!\\r\\n\\#L2#OK! (Uses #i5152037# #t5152037#)#l\");\n }\n \n function action(mode, type, selection) {\n     if (mode == -1) \n         cm.dispose();\n     else {\n-        if (mode == 0 && status == 0) \n+        if (mode == 0 && status >= 0) {\n             cm.dispose();\n+            return;\n+        }\n+        \n         if (mode == 1)\n             status++;\n         else\n             status--;\n-        if (status == 1)\n-            cm.dispose();\n-        else if (selection == 2) {\n+        \n+        if (status == 1) {\n+            if (!cm.haveItem(5152037)) {\n+                cm.sendOk(\"Hmm ... it looks like you don't have the coupon specifically for this place. Sorry to say this, but without the coupon, there's no plastic surgery for you...\");\n+                cm.dispose();\n+                return;\n+            }\n+            \n             facenew = Array();\n             if (cm.getPlayer().getGender() == 0)\n                 for(var i = 0; i < mface.length; i++) \n@@ -56,13 +64,11 @@ function action(mode, type, selection) {\n                     facenew.push(fface[i] + cm.getPlayer().getFace()% 1000 - (cm.getPlayer().getFace()% 100));\n             cm.sendYesNo(\"If you use the regular coupon, your face may transform into a random new look...do you still want to do it using #b#t5152037##k?\");\n         } else if (status == 2){\n+            cm.gainItem(5152037 , -1);\n+            cm.setFace(facenew[Math.floor(Math.random() * facenew.length)]);\n+            cm.sendOk(\"Enjoy your new and improved face!\");\n+            \n             cm.dispose();\n-            if (cm.haveItem(5152037)){\n-                cm.gainItem(5152037 , -1);\n-                cm.setFace(facenew[Math.floor(Math.random() * facenew.length)]);\n-                cm.sendOk(\"Enjoy your new and improved face!\");\n-            } else \n-                cm.sendOk(\"Hmm ... it looks like you don't have the coupon specifically for this place. Sorry to say this, but without the coupon, there's no plastic surgery for you...\");\n         }\n     }\n }"}, {"sha": "e633bb9686e498b898780ee35c5b8f5cc9540ec8", "filename": "scripts/npc/9270024.js", "status": "modified", "additions": 16, "deletions": 12, "changes": 28, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/npc/9270024.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/npc/9270024.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9270024.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -37,18 +37,25 @@ function start() {\n function action(mode, type, selection) {\n     if (mode == -1) \n         cm.dispose();\n-     else {\n-        if (mode == 0 && status == 0)\n+    else {\n+        if (mode == 0 && status >= 0) {\n             cm.dispose();\n+            return;\n+        }\n \n         if (mode == 1)\n             status++;\n         else\n             status--;\n         if (status == 0) {\n-            cm.sendSimple(\"Let's see...I can totally transform your face into something new. Don't you want to try it? For #b#t5152038##k, you can get the face of your liking. Take your time in choosing the face of your preference...\\r\\n\\#L2#Let me get my dream face!#l\");\n-            cm.dispose();\n-        } else if (selection == 2) {\n+            cm.sendSimple(\"Let's see...I can totally transform your face into something new. Don't you want to try it? For #b#t5152038##k, you can get the face of your liking. Take your time in choosing the face of your preference...\\r\\n\\#L2#Let me get my dream face! (Uses #i5152038# #t5152038#)#l\");\n+        } else if (status == 1) {\n+            if (!cm.haveItem(5152038)) {\n+                cm.sendOk(\"Hmm ... it looks like you don't have the coupon specifically for this place. Sorry to say this, but without the coupon, there's no plastic surgery for you...\");\n+                cm.dispose();\n+                return;\n+            }\n+            \n             facenew = Array();\n             if (cm.getPlayer().getGender() == 0) {\n                 for(var i = 0; i < mface.length; i++)\n@@ -62,14 +69,11 @@ function action(mode, type, selection) {\n             cm.sendStyle(\"Let's see... I can totally transform your face into something new. Don't you want to try it? For #b#t5152038##k, you can get the face of your liking. Take your time in choosing the face of your preference...\", facenew);\n         }\n         else if (status == 2){\n+            cm.gainItem(5152038, -1);\n+            cm.setFace(facenew[selection]);\n+            cm.sendOk(\"Enjoy your new and improved face!\");\n+            \n             cm.dispose();\n-            if (cm.haveItem(5152038)){\n-                cm.gainItem(5152038, -1);\n-                cm.setFace(facenew[selection]);\n-                cm.sendOk(\"Enjoy your new and improved face!\");\n-            } else {\n-                cm.sendOk(\"Hmm ... it looks like you don't have the coupon specifically for this place. Sorry to say this, but without the coupon, there's no plastic surgery for you...\");\n-            }\n         }\n     }\n }"}, {"sha": "a6fdc0c2af6c2199c2f60c1c0436f604fd54c204", "filename": "scripts/npc/9270025.js", "status": "modified", "additions": 26, "deletions": 8, "changes": 34, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/npc/9270025.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/npc/9270025.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9270025.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -24,24 +24,42 @@\n     by Moogra\n */\n var skin = Array(0, 1, 2, 3, 4);\n+var status;\n \n function start() {\n-    cm.sendSimple(\"Well, hello! Welcome to the Lian Hua Hua Skin-Care! Would you like to have a firm, tight, healthy looking skin like mine?  With #b#tCBD Skin Coupon##k, you can let us take care of the rest and have the kind of skin you've always wanted!\\r\\n\\#L1#Sounds Good!#l\");\n+    status = -1;\n+    action(1, 0, 0);\n }\n \n function action(mode, type, selection) {\n     if (mode < 1)\n         cm.dispose();\n     else {\n-        if (selection == 1)\n+        if (mode == 0 && status >= 0) {\n+                cm.dispose();\n+                return;\n+        }\n+        if (mode == 1)\n+                status++;\n+        else\n+                status--;\n+        \n+        if (status == 0) {\n+            cm.sendSimple(\"Well, hello! Welcome to the Lian Hua Hua Skin-Care! Would you like to have a firm, tight, healthy looking skin like mine?  With #b#tCBD Skin Coupon##k, you can let us take care of the rest and have the kind of skin you've always wanted!\\r\\n\\#L1#Sounds Good! (uses #i5153010# #t5153010#)#l\");\n+        }\n+        else if (status == 1) {\n+            if (!cm.haveItem(5153010)) {\n+                cm.sendOk(\"It looks like you don't have the coupon you need to receive the treatment. I'm sorry but it looks like we cannot do it for you.\");\n+                cm.dispose();\n+                return;\n+            }\n             cm.sendStyle(\"With our specialized service, you can see the way you'll look after the treatment in advance. What kind of a skin-treatment would you like to do? Go ahead and choose the style of your liking...\", skin);\n+        }\n         else {\n-            if (cm.haveItem(5153010)){\n-                cm.gainItem(5153010 , -1);\n-                cm.setSkin(selection);\n-                cm.sendOk(\"Enjoy your new and improved skin!\");\n-            } else\n-                cm.sendOk(\"It looks like you don't have the coupon you need to receive the treatment. I'm sorry but it looks like we cannot do it for you.\");\n+            cm.gainItem(5153010, -1);\n+            cm.setSkin(selection);\n+            cm.sendOk(\"Enjoy your new and improved skin!\");\n+            \n             cm.dispose();\n         }\n     }"}, {"sha": "8901c233e47a904ccc5b5dbd80a499cee93f43df", "filename": "scripts/npc/9270031.js", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/npc/9270031.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/npc/9270031.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9270031.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -0,0 +1,31 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+/* Dave & Iris\n+\t ()\n+\t\n+\t\n+*/\n+\n+function start() {\n+    cm.sendOk(\"We had our wedding at Amoria, such a beautiful place, and their people are even more amiable. Now our honeymoon on this paradisiac place... Ah, glorious, glorious!\");\n+    cm.dispose();\n+}"}, {"sha": "fa038e915e3efc44871bb93a2d44d5145f503266", "filename": "scripts/npc/9270033.js", "status": "modified", "additions": 43, "deletions": 4, "changes": 47, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/npc/9270033.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/npc/9270033.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9270033.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -20,9 +20,48 @@\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n /* \tEngine room - Bob\n- * \t@author Moogra\n+ * \t@author Ronan\n */\n+\n+var eim;\n+var status = 0;\n+\n function start() {\n-    cm.warp(541010110);\n-    cm.dispose();\n-}\n\\ No newline at end of file\n+\tstatus = -1;\n+\taction(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+        if (mode == -1) {\n+                cm.dispose();\n+        } else {\n+                if (mode == 0 && status == 0) {\n+                        cm.dispose();\n+                        return;\n+                }\n+                if (mode == 1)\n+                        status++;\n+                else\n+                        status--;\n+    \n+                eim = cm.getEventInstance();\n+                if(status == 0) {\n+                        if(!eim.isEventCleared()) {\n+                                cm.sendYesNo(\"Are you ready to leave this place?\");\n+                        } else {\n+                                cm.sendYesNo(\"You have defeated Capt. Latanica, well done! Are you ready to leave this place?\");\n+                        }\n+                } else if(status == 1) {\n+                        if(eim.isEventCleared()) {\n+                                if(!eim.giveEventReward(cm.getPlayer)) {\n+                                        cm.sendOk(\"Please make a room on your inventory to receive the loot.\");\n+                                        cm.dispose();\n+                                        return;\n+                                }\n+                        }\n+                    \n+                        cm.warp(541010110);\n+                        cm.dispose();\n+                }\n+        }\n+}"}, {"sha": "ba4855a2f733e47a80c6dad11f76cf015030a822", "filename": "scripts/npc/9270038.js", "status": "modified", "additions": 11, "deletions": 5, "changes": 16, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/npc/9270038.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/npc/9270038.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9270038.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -53,11 +53,17 @@ function action(mode, type, selection) {\n \t\toldSelection = selection;\n \t}else if(status == 1){\n \t\tif(oldSelection == 0){\n-\t\t\tif (cm.getPlayer().getMeso() > 4999 && cm.getPlayer().haveItem(4031732) == false) {\n-\t\t\t\tcm.gainMeso(-5000);\n-\t\t\t\tcm.gainItem(4031732);\n-\t\t\t\tcm.sendOk(\"Thank you for choosing Wizet Airline! Enjoy your flight!\");\n-\t\t\t\tcm.dispose();\n+\t\t\tif (cm.getPlayer().getMeso() > 4999 && !cm.getPlayer().haveItem(4031732)) {\n+                                if(cm.getPlayer().canHold(4031732, 1)) {\n+                                        cm.gainMeso(-5000);\n+                                        cm.gainItem(4031732);\n+                                        cm.sendOk(\"Thank you for choosing Wizet Airline! Enjoy your flight!\");\n+                                        cm.dispose();\n+                                }\n+\t\t\t\telse {\n+                                        cm.sendOk(\"You don't have a free slot on your ETC inventory for the ticket, please make a room beforehand.\");\n+                                        cm.dispose();\n+                                }\n \t\t\t} else {\n \t\t\t\tcm.sendOk(\"You do not have enough mesos or you've already purchased a ticket.\");\n \t\t\t\tcm.dispose();"}, {"sha": "22d62468efb99b2896b693747179efab068b0596", "filename": "scripts/npc/9270041.js", "status": "modified", "additions": 11, "deletions": 5, "changes": 16, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/npc/9270041.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/npc/9270041.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9270041.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -53,11 +53,17 @@ function action(mode, type, selection) {\n \t\toldSelection = selection;\n \t}else if(status == 1){\n \t\tif(oldSelection == 0){\n-\t\t\tif (cm.getPlayer().getMeso() > 4999 && cm.getPlayer().haveItem(4031731) == false) {\n-\t\t\t\tcm.gainMeso(-5000);\n-\t\t\t\tcm.gainItem(4031731);\n-\t\t\t\tcm.sendOk(\"Thank you for choosing Wizet Airline! Enjoy your flight!\");\n-\t\t\t\tcm.dispose();\n+\t\t\tif (cm.getPlayer().getMeso() > 4999 && !cm.getPlayer().haveItem(4031731)) {\n+                                if(cm.canHold(4031731, 1)) {\n+                                        cm.gainMeso(-5000);\n+                                        cm.gainItem(4031731);\n+                                        cm.sendOk(\"Thank you for choosing Wizet Airline! Enjoy your flight!\");\n+                                        cm.dispose();\n+                                }\n+                                else {\n+                                        cm.sendOk(\"You don't have a free slot on your ETC inventory for the ticket, please make a room beforehand.\");\n+                                        cm.dispose();\n+                                }\n \t\t\t} else {\n \t\t\t\tcm.sendOk(\"You do not have enough mesos or you've already purchased a ticket.\");\n \t\t\t\tcm.dispose();"}, {"sha": "55f5c99d78a17d886430433df349949e613b3e04", "filename": "scripts/npc/9270047.js", "status": "modified", "additions": 123, "deletions": 94, "changes": 217, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/npc/9270047.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/npc/9270047.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9270047.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -18,9 +18,9 @@\n     You should have received a copy of the GNU Affero General Public License\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n-/*Adobis\n+/*Aldol\n  *\n- *@author SharpAceX (Alan)\n+ *@author SharpAceX (Alan), Ronan\n  */\n importPackage(Packages.server.expeditions);\n importPackage(Packages.tools);\n@@ -30,7 +30,11 @@ var status = 0;\n var expedition;\n var player;\n var em;\n-var scarga = MapleExpeditionType.SCARGA;\n+var exped = MapleExpeditionType.SCARGA;\n+var expedBoss = \"Scarlion and Targa\";\n+var expedMap = \"Spooky World\";\n+var expedItem = 4032246;\n+\n var list = \"What would you like to do?#b\\r\\n\\r\\n#L1#View current Expedition members#l\\r\\n#L2#Start the fight!#l\\r\\n#L3#Stop the expedition.#l\";\n \n function start() {\n@@ -40,114 +44,139 @@ function start() {\n function action(mode, type, selection) {\n \n     player = cm.getPlayer();\n-    expedition = cm.getExpedition(scarga);\n+    expedition = cm.getExpedition(exped);\n     em = cm.getEventManager(\"ScargaBattle\");\n \n-    if (mode < 1) {\n+    if (mode == -1) {\n         cm.dispose();\n-        return;\n-    }\n-    if (status == 0) {\n-        //cm.removeExpedition(expedition);\n-        if (player.getClient().getChannel() != 1) { //Only channel 1\n-            cm.sendOk(\"Sorry, Scarlion and Targa may only be challenged on #bChannel 1#k.\");\n+    } else {\n+        if (mode == 0) {\n             cm.dispose();\n-        } else if (player.getLevel() < scarga.getMinLevel() && player.getLevel() > scarga.getMaxLevel()) { //Don't fit requirement\n-            cm.sendOk(\"You do not meet the criteria to take on Scarlion and Targa!\");\n-            cm.dispose();\n-        } else if (expedition == null) { //Start an expedition\n-            cm.sendSimple(\"Would you like to assemble a team to take on #rScarlion and Targa#k?\\r\\n#b#L1#Lets get this going!#l\\r\\n\\#L2#No, I think I'll wait a bit...#l\");\n-            status = 1;\n-        } else if (expedition.isLeader(player)) { //If you're the leader, manage the exped\n-            cm.sendSimple(list);\n-            status = 2;\n-        } else if (expedition.isRegistering()) { //If the expedition is registering\n-            if (expedition.contains(player)) { //If you're in it but it hasn't started, be patient\n-                cm.sendOk(\"You have already registered for the expedition. Please wait for \" + expedition.getLeader().getName() + \" to begin the expedition.\");\n-                cm.dispose();\n-            } else { //If you aren't in it, you're going to get added\n-                cm.sendOk(expedition.addMember(cm.getPlayer()));\n+            return;\n+        }\n+\n+        if (status == 0) {\n+            if (player.getLevel() < exped.getMinLevel() && player.getLevel() > exped.getMaxLevel()) { //Don't fit requirement\n+                cm.sendOk(\"You do not meet the criteria to battle \" + expedBoss + \"!\");\n                 cm.dispose();\n+            } else if (expedition == null) { //Start an expedition\n+                cm.sendSimple(\"#e#b<Expedition: Scarlion & Targa>\\r\\n#k#n\" + em.getProperty(\"party\") + \"\\r\\n\\r\\nWould you like to assemble a team to take on #r\" + expedBoss + \"#k?\\r\\n#b#L1#Lets get this going!#l\\r\\n\\#L2#No, I think I'll wait a bit...#l\");\n+                status = 1;\n+            } else if (expedition.isLeader(player)) { //If you're the leader, manage the exped\n+                cm.sendSimple(list);\n+                status = 2;\n+            } else if (expedition.isRegistering()) { //If the expedition is registering\n+                if (expedition.contains(player)) { //If you're in it but it hasn't started, be patient\n+                    cm.sendOk(\"You have already registered for the expedition. Please wait for #r\" + expedition.getLeader().getName() + \"#k to begin the expedition.\");\n+                    cm.dispose();\n+                } else { //If you aren't in it, you're going to get added\n+                    cm.sendOk(expedition.addMember(cm.getPlayer()));\n+                    cm.dispose();\n+                }\n+            } else if (expedition.isInProgress()) { //Only if the expedition is in progress\n+                if (expedition.contains(player)) { //If you're registered, warp you in\n+                    var eim = em.getInstance(\"Scarga\" + player.getClient().getChannel());\n+                    if(eim.getIntProperty(\"canJoin\") == 1) {\n+                        eim.registerPlayer(player);\n+                    } else {\n+                        cm.sendOk(\"Your expedition already started the battle against \" + expedBoss + \". Lets pray for those brave souls.\");\n+                    }\n+                    \n+                    cm.dispose();\n+                } else { //If you're not in by now, tough luck\n+                    cm.sendOk(\"Another expedition has taken the initiative to challenge \" + expedBoss + \", lets pray for those brave souls.\");\n+                    cm.dispose();\n+                }\n             }\n-        } else if (expedition.isInProgress()) { //Only if the expedition is in progress\n-            if (expedition.contains(player)) { //If you're registered, warp you in\n-                em.getInstance(\"ScargaBattle_\" + player.getClient().getChannel()).registerPlayer(player);\n+        } else if (status == 1) {\n+            if (selection == 1) {\n+                if (!cm.haveItem(expedItem)) {\n+                    cm.sendOk(\"As the expedition leader, you must have on your inventory a #b#t\" + expedItem + \"##k to battle \" + expedBoss + \"!\");\n+                    cm.dispose();\n+                    return;\n+                }\n+                \n+                expedition = cm.getExpedition(exped);\n+                if(expedition != null) {\n+                    cm.sendOk(\"Someone already taken the initiative to be the leader of the expedition. Try joining them!\");\n+                    cm.dispose();\n+                    return;\n+                }\n+                \n+                cm.createExpedition(exped);\n+                cm.sendOk(\"The #r\" + expedBoss + \" Expedition#k has been created.\\r\\n\\r\\nTalk to me again to view the current team, or start the fight!\");\n                 cm.dispose();\n-            } else { //If you're not in by now, tough luck\n-                cm.sendOk(\"Another expedition has taken the initiative to fight Scarlion and Targa, lets pray for those brave souls.\");\n+                return;\n+            } else if (selection == 2) {\n+                cm.sendOk(\"Sure, not everyone's up to challenging \" + expedBoss + \".\");\n                 cm.dispose();\n+                return;\n             }\n-        }\n-    } else if (status == 1) {\n-        if (selection == 1) {\n-            cm.createExpedition(scarga);\n-            cm.sendOk(\"The #rScarlion and Targa Expedition#k has been created.\\r\\n\\r\\nTalk to me again to view the current team, or start the fight!\");\n-            cm.dispose();\n-            return;\n-        } else if (selection == 2) {\n-            cm.sendOk(\"Sure, not everyone's up to challenging the might of Scarlion and Targa.\");\n-            cm.dispose();\n-            return;\n-        }\n-    } else if (status == 2) {\n-        if (selection == 1) {\n-            if (expedition == null) {\n-                cm.sendOk(\"The expedition could not be loaded.\");\n+        } else if (status == 2) {\n+            if (selection == 1) {\n+                if (expedition == null) {\n+                    cm.sendOk(\"The expedition could not be loaded.\");\n+                    cm.dispose();\n+                    return;\n+                }\n+                var size = expedition.getMembers().size();\n+                if (size == 1) {\n+                    cm.sendOk(\"You are the only member of the expedition.\");\n+                    cm.dispose();\n+                    return;\n+                }\n+                var text = \"The following members make up your expedition (Click on them to expel them):\\r\\n\";\n+                text += \"\\r\\n\\t\\t1.\" + expedition.getLeader().getName();\n+                for (var i = 1; i < size; i++) {\n+                    text += \"\\r\\n#b#L\" + (i + 1) + \"#\" + (i + 1) + \". \" + expedition.getMembers().get(i).getName() + \"#l\\n\";\n+                }\n+                cm.sendSimple(text);\n+                status = 6;\n+            } else if (selection == 2) {\n+                var min = exped.getMinSize();\n+                var size = expedition.getMembers().size();\n+                if (size < min) {\n+                    cm.sendOk(\"You need at least \" + min + \" players registered in your expedition.\");\n+                    cm.dispose();\n+                    return;\n+                }\n+                \n+                cm.sendOk(\"The expedition will begin and you will now be escorted to the #b\" + expedMap + \"#k.\");\n+                status = 4;\n+            } else if (selection == 3) {\n+                player.getMap().broadcastMessage(MaplePacketCreator.serverNotice(6, expedition.getLeader().getName() + \" has ended the expedition.\"));\n+                cm.endExpedition(expedition);\n+                cm.sendOk(\"The expedition has now ended. Sometimes the best strategy is to run away.\");\n                 cm.dispose();\n                 return;\n             }\n-            var size = expedition.getMembers().size();\n-            if (size == 1) {\n-                cm.sendOk(\"You are the only member of the expedition.\");\n+        } else if (status == 4) {\n+            if (em == null) {\n+                cm.sendOk(\"The event could not be initialized, please report this on the forum.\");\n                 cm.dispose();\n                 return;\n             }\n-            var text = \"The following members make up your expedition (Click on them to expel them):\\r\\n\";\n-            text += \"\\r\\n\\t\\t1.\" + expedition.getLeader().getName();\n-            for (var i = 1; i < size; i++) {\n-                text += \"\\r\\n#b#L\" + (i + 1) + \"#\" + (i + 1) + \". \" + expedition.getMembers().get(i).getName() + \"#l\\n\";\n+\n+            em.setProperty(\"leader\", player.getName());\n+            em.setProperty(\"channel\", player.getClient().getChannel());\n+            if(!em.startInstance(expedition)) {\n+                cm.sendOk(\"Another expedition has taken the initiative to challenge \" + expedBoss + \", lets pray for those brave souls.\");\n+                cm.dispose();\n+                return;\n             }\n-            cm.sendSimple(text);\n-            status = 6;\n-        } else if (selection == 2) {\n-            cm.sendOk(\"The expedition will begin and you will now be escorted to the #bSpooky World#k.\");\n-            status = 4;\n-        } else if (selection == 3) {\n-\t\t\tplayer.getMap().broadcastMessage(MaplePacketCreator.removeClock());\n-\t\t\tplayer.getMap().broadcastMessage(MaplePacketCreator.serverNotice(6, expedition.getLeader().getName() + \" has ended the expedition.\"));\n-\t\t\tcm.endExpedition(expedition);\n-            cm.sendOk(\"The expedition has now ended. Sometimes the best strategy is to run away.\");\n-\t\t\tcm.dispose();\n-            return;\n-        }\n-    } else if (status == 4) {\n-        var min = 1; //scarga.getMinSize();\n-        var size = expedition.getMembers().size();\n-        if (size < min) {\n-            cm.sendOk(\"You need at least \" + min + \" players registered in your expedition.\");\n-            cm.dispose();\n-            return;\n-        }\n-        if (em == null) {\n-            cm.sendOk(\"The event could not be found, please report this on the forum.\");\n+            \n             cm.dispose();\n             return;\n-        }\n-        cm.sendOk(\"Good luck! Scarlion and Targa are worthy foes!\");\n-\t\tem.setProperty(\"leader\", player.getName());\n-        em.setProperty(\"channel\", player.getClient().getChannel());\n-        em.startInstance(expedition);\n-        cm.dispose();\n-        return;\n-    } else if (status == 6) {\n-        if (selection > 0) {\n-           var banned = expedition.getMembers().get(selection);\n-            expedition.ban(banned);\n-            cm.sendOk(\"You have banned \" + banned.getName() + \" from the expedition.\");\n-            cm.dispose();\n-        } else {\n-            cm.sendSimple(list);\n-            status = 2;\n+        } else if (status == 6) {\n+            if (selection > 0) {\n+                var banned = expedition.getMembers().get(selection - 1);\n+                expedition.ban(banned);\n+                cm.sendOk(\"You have banned \" + banned.getName() + \" from the expedition.\");\n+                cm.dispose();\n+            } else {\n+                cm.sendSimple(list);\n+                status = 2;\n+            }\n         }\n     }\n-}\n\\ No newline at end of file\n+}"}, {"sha": "bdf6c3eda16c250510c07cd2c350aaa690f323b3", "filename": "scripts/portal/MD_drakeroom.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/MD_drakeroom.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/MD_drakeroom.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/MD_drakeroom.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -36,7 +36,7 @@ function enter(pi) {\n \t\t\t    }\n \t\t\t}\n \t\t    } else {\n-\t\t    \tpi.playerMessage(5, \"You are not the leader of the party.\");\n+\t\t    \tpi.playerMessage(5, \"Only solo or party leaders are supposed to enter the Mini-Dungeon.\");\n \t\t    \treturn false;\n \t\t    }\n \t\t} else {"}, {"sha": "84abdc35db47d09ce9b6113b782a2241bd1c8e19", "filename": "scripts/portal/MD_golem.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/MD_golem.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/MD_golem.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/MD_golem.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -38,7 +38,7 @@ function enter(pi) {\n \t\t\t    }\n \t\t\t}\n \t\t    } else {\n-\t\t    \tpi.playerMessage(5, \"You are not the leader of the party.\");\n+\t\t    \tpi.playerMessage(5, \"Only solo or party leaders are supposed to enter the Mini-Dungeon.\");\n \t\t    \treturn false;\n \t\t    }\n \t\t} else {"}, {"sha": "f06301773b1cb8ca9c590735e707d8c33767c7af", "filename": "scripts/portal/MD_high.js", "status": "added", "additions": 63, "deletions": 0, "changes": 63, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/MD_high.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/MD_high.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/MD_high.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -0,0 +1,63 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc> \n+                       Matthias Butz <matze@odinms.de>\n+                       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License version 3\n+    as published by the Free Software Foundation. You may not use, modify\n+    or distribute this program under any other version of the\n+    GNU Affero General Public License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+\n+/*\n+MiniDungeon - Longest Ride on ByeBye Station\n+*/ \n+\n+var baseid = 551030000;\n+var dungeonid = 551030001;\n+var dungeons = 19;\n+\n+function enter(pi) {\n+    if (pi.getMapId() == baseid) {\n+\tif (pi.getPlayer().getFame() < 10) {\n+\t    pi.playerMessage(5, \"You need 10 Fame to enter.\");\n+\t    return;\n+\t}\n+\tif (pi.getParty() != null) {\n+\t    if (pi.isLeader()) {\n+\t\tfor (var i = 0; i < dungeons; i++) {\n+\t\t    if (pi.getPlayerCount(dungeonid + i) == 0) {\n+\t\t\tpi.warpParty(dungeonid + i);\n+\t\t\treturn true;\n+\t\t    }\n+\t\t}\n+\t    } else {\n+\t\tpi.playerMessage(5, \"Only solo or party leaders are supposed to enter the Mini-Dungeon.\");\n+                return false;\n+\t    }\n+\t} else {\n+\t    for (var i = 0; i < dungeons; i++) {\n+\t\tif (pi.getPlayerCount(dungeonid + i) == 0) {\n+\t\t    pi.warp(dungeonid + i);\n+\t\t    return true;\n+\t\t}\n+\t    }\n+\t}\n+\tpi.playerMessage(5, \"All of the Mini-Dungeons are in use right now, please try again later.\");\n+        return false;\n+    } else {\n+        pi.playPortalSound();\n+\tpi.warp(baseid, \"MD00\");\n+        return true;\n+    }\n+}\n\\ No newline at end of file"}, {"sha": "ffafdfe3d8b1d87e36a1aa7089bd2510f2abbed1", "filename": "scripts/portal/MD_mushroom.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/MD_mushroom.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/MD_mushroom.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/MD_mushroom.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -38,7 +38,7 @@ function enter(pi) {\n \t\t\t    }\n \t\t\t}\n \t\t    } else {\n-\t\t    \tpi.playerMessage(5, \"You are not the leader of the party.\");\n+\t\t    \tpi.playerMessage(5, \"Only solo or party leaders are supposed to enter the Mini-Dungeon.\");\n \t\t    \treturn false;\n \t\t    }\n \t\t} else {"}, {"sha": "ee976c5006a0c71cd1fabfe56498b872780bc70b", "filename": "scripts/portal/MD_pig.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/MD_pig.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/MD_pig.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/MD_pig.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -38,7 +38,7 @@ function enter(pi) {\n \t\t\t    }\n \t\t\t}\n \t\t    } else {\n-\t\t    \tpi.playerMessage(5, \"You are not the leader of the party.\");\n+\t\t    \tpi.playerMessage(5, \"Only solo or party leaders are supposed to enter the Mini-Dungeon.\");\n \t\t    \treturn false;\n \t\t    }\n \t\t} else {"}, {"sha": "f84717d8dddc4ee884611e69d7e6eea57fa70c5e", "filename": "scripts/portal/MD_protect.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/MD_protect.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/MD_protect.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/MD_protect.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -36,7 +36,7 @@ function enter(pi) {\n \t\t\t    }\n \t\t\t}\n \t\t    } else {\n-\t\t    \tpi.playerMessage(5, \"You are not the leader of the party.\");\n+\t\t    \tpi.playerMessage(5, \"Only solo or party leaders are supposed to enter the Mini-Dungeon.\");\n \t\t    \treturn false;\n \t\t    }\n \t\t} else {"}, {"sha": "eba7e2823e7067d491c0949b6087d2d567d14d76", "filename": "scripts/portal/MD_rabbit.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/MD_rabbit.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/MD_rabbit.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/MD_rabbit.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -36,7 +36,7 @@ function enter(pi) {\n \t\t\t    }\n \t\t\t}\n \t\t    } else {\n-\t\t    \tpi.playerMessage(5, \"You are not the leader of the party.\");\n+\t\t    \tpi.playerMessage(5, \"Only solo or party leaders are supposed to enter the Mini-Dungeon.\");\n \t\t    \treturn false;\n \t\t    }\n \t\t} else {"}, {"sha": "1eac064a380aa03adc8e81fb2bd3058371a450c6", "filename": "scripts/portal/MD_remember.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/MD_remember.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/MD_remember.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/MD_remember.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -36,7 +36,7 @@ function enter(pi) {\n \t\t\t    }\n \t\t\t}\n \t\t    } else {\n-\t\t    \tpi.playerMessage(5, \"You are not the leader of the party.\");\n+\t\t    \tpi.playerMessage(5, \"Only solo or party leaders are supposed to enter the Mini-Dungeon.\");\n \t\t    \treturn false;\n \t\t    }\n \t\t} else {"}, {"sha": "4b169e40c71ff81c994748beacdc0d3544562a16", "filename": "scripts/portal/MD_roundTable.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/MD_roundTable.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/MD_roundTable.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/MD_roundTable.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -36,7 +36,7 @@ function enter(pi) {\n \t\t\t    }\n \t\t\t}\n \t\t    } else {\n-\t\t    \tpi.playerMessage(5, \"You are not the leader of the party.\");\n+\t\t    \tpi.playerMessage(5, \"Only solo or party leaders are supposed to enter the Mini-Dungeon.\");\n \t\t    \treturn false;\n \t\t    }\n \t\t} else {"}, {"sha": "d8e39deb72416fdc7a4a50ce615a98a0d7bb84ca", "filename": "scripts/portal/MD_sand.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/MD_sand.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/MD_sand.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/MD_sand.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -36,7 +36,7 @@ function enter(pi) {\n \t\t\t    }\n \t\t\t}\n \t\t    } else {\n-\t\t    \tpi.playerMessage(5, \"You are not the leader of the party.\");\n+\t\t    \tpi.playerMessage(5, \"Only solo or party leaders are supposed to enter the Mini-Dungeon.\");\n \t\t    \treturn false;\n \t\t    }\n \t\t} else {"}, {"sha": "d51e09eba7bec699a54c1bb342cb3ff8fad957b2", "filename": "scripts/portal/MD_treasure.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/MD_treasure.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/MD_treasure.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/MD_treasure.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -36,7 +36,7 @@ function enter(pi) {\n \t\t\t    }\n \t\t\t}\n \t\t    } else {\n-\t\t    \tpi.playerMessage(5, \"You are not the leader of the party.\");\n+\t\t    \tpi.playerMessage(5, \"Only solo or party leaders are supposed to enter the Mini-Dungeon.\");\n \t\t    \treturn false;\n \t\t    }\n \t\t} else {"}, {"sha": "afd398df007426687a7dacbb6b438e41bbdf8d50", "filename": "scripts/portal/captinsg00.js", "status": "modified", "additions": 32, "deletions": 36, "changes": 68, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/captinsg00.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/captinsg00.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/captinsg00.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -1,36 +1,32 @@\n-//importPackage(server.maps);\n-//importPackage(net.channel);\n-//importPackage(tools);\n-//\n-//function enter(pi) {\n-//    var mapid = 541010100;\n-//    var map = ChannelServer.getInstance(pi.getPlayer().getClient().getChannel()).getMapFactory().getMap(mapid);\n-//    var mapchars = map.getCharacters();\n-//    if (mapchars.isEmpty()) {\n-//        var mapobjects = map.getMapObjects();\n-//        var iter = mapobjects.iterator();\n-//        while (iter.hasNext()) {\n-//            o = iter.next();\n-//            if (o.getType() == MapleMapObjectType.MONSTER){\n-//                map.removeMapObject(o);\n-//            }\n-//        }\n-//        map.resetReactors();\n-//    } else {\n-//        var mapobjects = map.getMapObjects();\n-//        var boss = null;\n-//        var iter = mapobjects.iterator();\n-//        while (iter.hasNext()) {\n-//            o = iter.next();\n-//            if (o.getType() == MapleMapObjectType.MONSTER){\n-//                boss = o;\n-//            }\n-//        }\n-//        if (boss != null) {\n-//            pi.getPlayer().dropMessage(5, \"The battle against the boss has already begun, so you may not enter this place.\");\n-//            return false;\n-//        }\n-//    }\n-//    pi.warp(541010100, \"sp\");\n-//    return true;\n-//}\n\\ No newline at end of file\n+/* By RonanLana */\n+\n+function enter(pi) {\n+        if (!pi.haveItem(4000381)) {\n+                pi.playerMessage(5, \"You do not have White Essence.\");\n+                return false;\n+        } else {\n+                var em = pi.getEventManager(\"LatanicaBattle\");\n+\n+                if (pi.getParty() == null) {\n+                        pi.playerMessage(5, \"You are currently not in a party, create one to attempt the boss.\");\n+                        return false;\n+                } else if(!pi.isLeader()) {\n+                        pi.playerMessage(5, \"Your party leader must enter the portal to start the battle.\");\n+                        return false;\n+                } else {\n+                        var eli = em.getEligibleParty(pi.getParty());\n+                        if(eli.size() > 0) {\n+                                if(!em.startInstance(pi.getParty(), pi.getPlayer().getMap(), 1)) {\n+                                        pi.playerMessage(5, \"The battle against the boss has already begun, so you may not enter this place.\");\n+                                        return false;\n+                                }\n+                        }\n+                        else {  //this should never appear\n+                                pi.playerMessage(5, \"You cannot start this battle yet, because either your party is not in the range size, some of your party members are not eligible to attempt it or they are not in this map. If you're having trouble finding party members, try Party Search.\");\n+                                return false;\n+                        }\n+\n+                        return true;\n+                }\n+        }\n+}\n\\ No newline at end of file"}, {"sha": "25620f65e2ec252f204c5c5429c0173e59600e4d", "filename": "scripts/portal/jail_in.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/jail_in.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/jail_in.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/jail_in.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -4,6 +4,6 @@\n */\n \n function enter(pi) {\n-        pi.warp(300000012,0);\n+        pi.warp(300000012,\"portal\");\n         return(true);\n }\n\\ No newline at end of file"}, {"sha": "590022b03c3e30b1ec8e31a2d91accec9e5b7b5d", "filename": "scripts/portal/jail_out.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/jail_out.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/jail_out.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/jail_out.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -7,7 +7,7 @@ function enter(pi) {\n         var jailedTime = pi.getJailTimeLeft();\n     \n         if(jailedTime <= 0) {\n-                pi.warp(300000010,0);\n+                pi.warp(300000010,\"in01\");\n                 return(true);\n         }\n         else {"}, {"sha": "52bd0eda823327aa4c60b191825df92da1cb4319", "filename": "scripts/portal/market00.js", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/market00.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/portal/market00.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/market00.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -20,8 +20,9 @@\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n function enter(pi) {\n-    try { \n-        pi.warp(pi.getPlayer().getSavedLocation(\"FREE_MARKET\"));\n+    try {\n+        var toMap = pi.getPlayer().getSavedLocation(\"FREE_MARKET\");\n+        pi.warp(toMap, pi.getMarketPortalId(toMap));\n     } catch(err) {\n         pi.warp(100000000);\n     }"}, {"sha": "8279dc0300548176bd10683d48461dc85e4d1d49", "filename": "scripts/reactor/5411000.js", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/reactor/5411000.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/reactor/5411000.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/reactor/5411000.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -22,5 +22,6 @@\n function act(){\n     rm.changeMusic(\"Bgm09/TimeAttack\");\n     rm.spawnMonster(9420513, -146, 225);\n+    rm.getEventInstance().setIntProperty(\"boss\", 1);\n     rm.mapMessage(5, \"As you wish, here comes Capt Latanica.\");\n }\n\\ No newline at end of file"}, {"sha": "748aabe1aa8402088437358d09da41f1e552cae6", "filename": "scripts/reactor/5511000.js", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/reactor/5511000.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/reactor/5511000.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/reactor/5511000.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -2,10 +2,14 @@\n * 5511000.js: Summons Targa.\n */\n \n+function summonBoss() {\n+        rm.spawnMonster(9420542,-527,637);\n+        rm.changeMusic(\"Bgm09/TimeAttack\");\n+        rm.mapMessage(6, \"Beware! The furious Targa has shown himself!\");\n+}\n+\n function act() {\n \tif (rm.getReactor().getMap().getMonsterById(9420542) == null) {\n-\t\trm.spawnMonster(9420542,-527,637);\n-\t\trm.changeMusic(\"Bgm09/TimeAttack\");\n-\t\trm.mapMessage(6, \"Beware! The furious Targa has shown himself!\");\n+                rm.schedule(\"summonBoss\", 3200);\n \t}\n }\n\\ No newline at end of file"}, {"sha": "8dc042274d4efd5afe970e041f63d70d652a3cc2", "filename": "scripts/reactor/5511001.js", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/reactor/5511001.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/scripts/reactor/5511001.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/reactor/5511001.js?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -2,10 +2,14 @@\n * 5511001.js: Summons Scarlion.\n */\n \n+function summonBoss() {\n+        rm.spawnMonster(9420547,-238,636);\n+        rm.changeMusic(\"Bgm09/TimeAttack\");\n+        rm.mapMessage(6, \"Beware! The furious Scarlion has shown himself!\");\n+}\n+\n function act() {\n \tif (rm.getReactor().getMap().getMonsterById(9420547) == null) {\n-\t\trm.spawnMonster(9420547,-238,636);\n-\t\trm.changeMusic(\"Bgm09/TimeAttack\");\n-\t\trm.mapMessage(6, \"Beware! The furious Scarlion has shown himself!\");\n+\t\trm.schedule(\"summonBoss\", 3200);\n \t}\n }\n\\ No newline at end of file"}, {"sha": "afa7d5ea81cc188065128eb4a5a69a4a5706e969", "filename": "sql/db_database.sql", "status": "modified", "additions": 195, "deletions": 2, "changes": 197, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/sql/db_database.sql", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/sql/db_database.sql", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/sql/db_database.sql?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -20762,7 +20762,196 @@ INSERT INTO `shopitems` (`shopitemid`, `shopid`, `itemid`, `price`, `pitch`, `po\n (20061, 9201099, 2020013, 5000, 0, 15),\n (20062, 9201099, 2020012, 4500, 0, 16),\n (20063, 9201099, 2050000, 200, 0, 17),\n-(20064, 9201099, 2050004, 400, 0, 18);\n+(20064, 9201099, 2050004, 400, 0, 18),\n+(20065, 9270057, 2022015, 12000, 0, 1),\n+(20066, 9270057, 2061000, 1, 0, 2),\n+(20067, 9270057, 2060000, 1, 0, 3),\n+(20068, 9270057, 2030000, 400, 0, 4),\n+(20069, 9270057, 2050003, 500, 0, 5),\n+(20070, 9270057, 2050002, 300, 0, 6),\n+(20071, 9270057, 2050001, 200, 0, 7),\n+(20072, 9270057, 2050000, 200, 0, 8),\n+(20073, 9270057, 2020028, 3000, 0, 9),\n+(20074, 9270057, 2010004, 310, 0, 10),\n+(20075, 9270057, 2010003, 100, 0, 11),\n+(20076, 9270057, 2010001, 106, 0, 12),\n+(20077, 9270057, 2010002, 50, 0, 13),\n+(20078, 9270057, 2010000, 30, 0, 14),\n+(20079, 9270057, 2001002, 4000, 0, 15),\n+(20080, 9270057, 2001001, 2300, 0, 16),\n+(20081, 9270057, 2001000, 3200, 0, 17),\n+(20082, 9270057, 2022000, 1650, 0, 18),\n+(20083, 9270057, 2022003, 1100, 0, 19),\n+(20084, 9270057, 2002005, 500, 0, 20),\n+(20085, 9270057, 2002004, 500, 0, 21),\n+(20086, 9270057, 2002002, 500, 0, 22),\n+(20087, 9270057, 2002001, 400, 0, 23),\n+(20088, 9270057, 2002000, 500, 0, 24),\n+(20089, 9270057, 2000006, 620, 0, 25),\n+(20090, 9270057, 2000003, 200, 0, 26),\n+(20091, 9270057, 2000002, 320, 0, 27),\n+(20092, 9270057, 2000001, 160, 0, 28),\n+(20093, 9270057, 2000000, 50, 0, 29),\n+(20094, 9270055, 1492006, 160000, 0, 1), \n+(20095, 9270055, 1492005, 100000, 0, 2),\n+(20096, 9270055, 1492004, 50000, 0, 3),\n+(20097, 9270055, 1492003, 22000, 0, 4),\n+(20098, 9270055, 1482006, 150000, 0, 5),\n+(20099, 9270055, 1482005, 100000, 0, 6),\n+(20100, 9270055, 1482004, 52000, 0, 7),\n+(20101, 9270055, 1482003, 20000, 0, 8),\n+(20102, 9270055, 1472007, 60000, 0, 9),\n+(20103, 9270055, 1472004, 30000, 0, 10),\n+(20104, 9270055, 1472001, 20000, 0, 11),\n+(20105, 9270055, 1462005, 250000, 0, 12),\n+(20106, 9270055, 1462004, 200000, 0, 13),\n+(20107, 9270055, 1462000, 30000, 0, 14),\n+(20108, 9270055, 1452007, 375000, 0, 15),\n+(20109, 9270055, 1452006, 250000, 0, 16),\n+(20110, 9270055, 1452005, 150000, 0, 17),\n+(20111, 9270055, 1442009, 300000, 0, 18),\n+(20112, 9270055, 1442003, 175000, 0, 19),\n+(20113, 9270055, 1442001, 60000, 0, 20),\n+(20114, 9270055, 1432005, 225000, 0, 21),\n+(20115, 9270055, 1432003, 175000, 0, 22),\n+(20116, 9270055, 1432002, 60000, 0, 23),\n+(20117, 9270055, 1422007, 250000, 0, 24),\n+(20118, 9270055, 1422008, 200000, 0, 25),\n+(20119, 9270055, 1422001, 45000, 0, 26),\n+(20120, 9270055, 1412005, 250000, 0, 27),\n+(20121, 9270055, 1412004, 200000, 0, 28),\n+(20122, 9270055, 1412006, 45000, 0, 29),\n+(20123, 9270055, 1402007, 450000, 0, 30),\n+(20124, 9270055, 1402006, 350000, 0, 31),\n+(20125, 9270055, 1402002, 150000, 0, 32),\n+(20126, 9270055, 1382002, 20000, 0, 33),\n+(20127, 9270055, 1372000, 400000, 0, 34),\n+(20128, 9270055, 1372001, 175000, 0, 35),\n+(20129, 9270055, 1372003, 38000, 0, 36),\n+(20130, 9270055, 1332011, 425000, 0, 37),\n+(20131, 9270055, 1332014, 375000, 0, 38),\n+(20132, 9270055, 1332001, 200000, 0, 39),\n+(20133, 9270055, 1332012, 40000, 0, 40),\n+(20134, 9270055, 1332009, 42000, 0, 41),\n+(20135, 9270055, 1322016, 175000, 0, 42),\n+(20136, 9270055, 1322015, 100000, 0, 43),\n+(20137, 9270055, 1322014, 40000, 0, 44),\n+(20138, 9270055, 1312007, 175000, 0, 45),\n+(20139, 9270055, 1312006, 100000, 0, 46),\n+(20140, 9270055, 1312005, 40000, 0, 47),\n+(20141, 9270055, 1302009, 225000, 0, 48),\n+(20142, 9270055, 1302004, 100000, 0, 49),\n+(20143, 9270055, 1302008, 40000, 0, 50),\n+(20144, 9270056, 1002625, 75000, 0, 104),\n+(20145, 9270056, 1052113, 120000, 0, 108),\n+(20146, 9270056, 1052110, 100000, 0, 112),\n+(20147, 9270056, 1061069, 160000, 0, 116),\n+(20148, 9270056, 1061070, 160000, 0, 120),\n+(20149, 9270056, 1060072, 160000, 0, 124),\n+(20150, 9270056, 1060071, 160000, 0, 128),\n+(20151, 9270056, 1060052, 108000, 0, 132),\n+(20152, 9270056, 1060050, 108000, 0, 136),\n+(20153, 9270056, 1060051, 108000, 0, 140),\n+(20154, 9270056, 1051009, 111000, 0, 144),\n+(20155, 9270056, 1051008, 111000, 0, 148),\n+(20156, 9270056, 1051007, 111000, 0, 152),\n+(20157, 9270056, 1041074, 180000, 0, 156),\n+(20158, 9270056, 1041075, 180000, 0, 160),\n+(20159, 9270056, 1040083, 180000, 0, 164),\n+(20160, 9270056, 1040082, 180000, 0, 168),\n+(20161, 9270056, 1040061, 114000, 0, 172),\n+(20162, 9270056, 1040062, 114000, 0, 176),\n+(20163, 9270056, 1040063, 114000, 0, 180),\n+(20164, 9270056, 1002180, 100000, 0, 184),\n+(20165, 9270056, 1002179, 100000, 0, 188),\n+(20166, 9270056, 1002178, 100000, 0, 192),\n+(20167, 9270056, 1002177, 100000, 0, 196),\n+(20168, 9270056, 1002176, 100000, 0, 200),\n+(20169, 9270056, 1061080, 160000, 0, 204),\n+(20170, 9270056, 1061081, 160000, 0, 208),\n+(20171, 9270056, 1061062, 108000, 0, 212),\n+(20172, 9270056, 1061060, 108000, 0, 216),\n+(20173, 9270056, 1061064, 108000, 0, 220),\n+(20174, 9270056, 1061061, 108000, 0, 224),\n+(20175, 9270056, 1060069, 160000, 0, 228),\n+(20176, 9270056, 1060070, 160000, 0, 232),\n+(20177, 9270056, 1060063, 108000, 0, 236),\n+(20178, 9270056, 1060061, 108000, 0, 240),\n+(20179, 9270056, 1060065, 108000, 0, 244),\n+(20180, 9270056, 1060062, 108000, 0, 248),\n+(20181, 9270056, 1041081, 180000, 0, 252),\n+(20182, 9270056, 1041082, 180000, 0, 256),\n+(20183, 9270056, 1041067, 114000, 0, 260),\n+(20184, 9270056, 1041065, 114000, 0, 264),\n+(20185, 9270056, 1041069, 114000, 0, 268),\n+(20186, 9270056, 1041066, 114000, 0, 272),\n+(20187, 9270056, 1040079, 180000, 0, 276),\n+(20188, 9270056, 1040081, 180000, 0, 280),\n+(20189, 9270056, 1040076, 114000, 0, 284),\n+(20190, 9270056, 1040074, 114000, 0, 288),\n+(20191, 9270056, 1040073, 114000, 0, 292),\n+(20192, 9270056, 1040072, 114000, 0, 296),\n+(20193, 9270056, 1002137, 100000, 0, 300),\n+(20194, 9270056, 1002135, 100000, 0, 304),\n+(20195, 9270056, 1002139, 100000, 0, 308),\n+(20196, 9270056, 1002138, 100000, 0, 312),\n+(20197, 9270056, 1061047, 120000, 0, 316),\n+(20198, 9270056, 1061048, 120000, 0, 320),\n+(20199, 9270056, 1051027, 450000, 0, 324),\n+(20200, 9270056, 1051024, 450000, 0, 328),\n+(20201, 9270056, 1051025, 450000, 0, 332),\n+(20202, 9270056, 1051023, 450000, 0, 336),\n+(20203, 9270056, 1050037, 450000, 0, 340),\n+(20204, 9270056, 1050036, 450000, 0, 344),\n+(20205, 9270056, 1050038, 450000, 0, 348),\n+(20206, 9270056, 1050035, 450000, 0, 352),\n+(20207, 9270056, 1050002, 300000, 0, 356),\n+(20208, 9270056, 1050031, 300000, 0, 360),\n+(20209, 9270056, 1041051, 120000, 0, 364),\n+(20210, 9270056, 1041052, 120000, 0, 368),\n+(20211, 9270056, 1002144, 96000, 0, 372),\n+(20212, 9270056, 1002143, 96000, 0, 376),\n+(20213, 9270056, 1002142, 96000, 0, 380),\n+(20214, 9270056, 1002141, 96000, 0, 384),\n+(20215, 9270056, 1092002, 200000, 0, 388),\n+(20216, 9270056, 1092001, 100000, 0, 392),\n+(20217, 9270056, 1061084, 180000, 0, 396),\n+(20218, 9270056, 1061083, 180000, 0, 400),\n+(20219, 9270056, 1060074, 180000, 0, 404),\n+(20220, 9270056, 1060075, 180000, 0, 408),\n+(20221, 9270056, 1051014, 112500, 0, 412),\n+(20222, 9270056, 1051001, 112500, 0, 416),\n+(20223, 9270056, 1050021, 112500, 0, 420),\n+(20224, 9270056, 1050000, 112500, 0, 424),\n+(20225, 9270056, 1041085, 200000, 0, 428),\n+(20226, 9270056, 1041084, 200000, 0, 432),\n+(20227, 9270056, 1040085, 200000, 0, 436),\n+(20228, 9270056, 1040000, 200000, 0, 440),\n+(20229, 9270056, 1002004, 160000, 0, 444),\n+\n+(20230, 9270065, 2061000, 1, 0, 1),\n+(20231, 9270065, 2060000, 1, 0, 2),\n+(20232, 9270065, 2030000, 400, 0, 3),\n+(20233, 9270065, 2050003, 500, 0, 4),\n+(20234, 9270065, 2050002, 300, 0, 5),\n+(20235, 9270065, 2050001, 200, 0, 6),\n+(20236, 9270065, 2050000, 200, 0, 7),\n+(20237, 9270065, 2022215, 6800, 0, 8),\n+(20238, 9270065, 2022214, 3200, 0, 9),\n+(20239, 9270065, 2022211, 6400, 0, 10),\n+(20240, 9270065, 2022210, 3200, 0, 11),\n+(20241, 9270065, 2022209, 1600, 0, 12),\n+(20242, 9270065, 2022208, 1000, 0, 13),\n+(20243, 9270065, 2022207, 2600, 0, 14),\n+(20244, 9270065, 2022206, 2200, 0, 15),\n+(20245, 9270065, 2022205, 1800, 0, 16),\n+(20246, 9270065, 2022204, 1200, 0, 17),\n+(20247, 9270065, 2022203, 800, 0, 18),\n+(20248, 9270065, 2022480, 12000, 0, 19),\n+(20249, 9270065, 2022479, 3800, 0, 20),\n+(20250, 9270065, 2022478, 3200, 0, 21),\n+(20251, 9270065, 2022477, 9200, 0, 22),\n+(20252, 9270065, 2022476, 4200, 0, 23);\n \n CREATE TABLE IF NOT EXISTS `shops` (\n   `shopid` int(10) unsigned NOT NULL AUTO_INCREMENT,\n@@ -20871,7 +21060,11 @@ INSERT INTO `shops` (`shopid`, `npcid`) VALUES\n (9999999, 9001002),\n (1337, 11000),\n (9000069, 9000069),\n-(1338, 9090000);\n+(1338, 9090000),\n+(9270055, 9270055),\n+(9270056, 9270056),\n+(9270057, 9270057),\n+(9270065, 9270065);\n \n  -- Rudi Shop (Happyville) \n INSERT INTO `shops` (`shopid`, `npcid`) VALUES ( 57, 2002001 );"}, {"sha": "86c21bd006397f3d0422c0733b325a30ad098ef7", "filename": "sql/db_drops.sql", "status": "modified", "additions": 42, "deletions": 2, "changes": 44, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/sql/db_drops.sql", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/sql/db_drops.sql", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/sql/db_drops.sql?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -11356,7 +11356,6 @@\n (9300080, 1082204, 1, 1, 0, 700), \n (9300241, 1082204, 1, 1, 0, 700), \n (9420512, 4000383, 1, 1, 0, 200000), \n-(9420512, 4000381, 1, 1, 0, 200000), \n (9420512, 2070005, 1, 1, 0, 400), \n (9420512, 2041022, 1, 1, 0, 750), \n (9420512, 2043301, 1, 1, 0, 750),\n@@ -19129,10 +19128,51 @@\n (9400640, 1002281, 1, 1, 0, 1500),\n (9400640, 1082074, 1, 1, 0, 2000),\n (9400640, 1002285, 1, 1, 0, 1500),\n-(9400640, 1002210, 1, 1, 0, 2000);\n+(9400640, 1002210, 1, 1, 0, 2000),\n+(9420544, 1003023, 1, 1, 0, 50000),\n+(9420544, 1003024, 1, 1, 0, 50000),\n+(9420549, 1003025, 1, 1, 0, 50000),\n+(9420549, 1003026, 1, 1, 0, 50000);\n \n # (dropperid, itemid, minqty, maxqty, questid, chance)\n \n+  # delete item drops from other mobs named Freezer\n+  DELETE FROM temp_data WHERE dropperid=9300090;\n+  DELETE FROM temp_data WHERE dropperid=9420501;\n+\n+  # reinsert other Freezer's data\n+  INSERT IGNORE INTO temp_data (`dropperid`, `itemid`, `minimum_quantity`, `maximum_quantity`, `questid`, `chance`) VALUES\n+(9420501, 0, 92, 138, 0, 400000),\n+(9420501, 4000372, 1, 1, 0, 300000),\n+(9420501, 400003, 1, 1, 0, 10000),\n+(9420501, 400002, 1, 1, 0, 10000),\n+(9420501, 404000, 1, 1, 0, 300),\n+(9420501, 4010005, 1, 1, 0, 300),\n+(9420501, 2043301, 1, 1, 0, 1000),\n+(9420501, 1072103, 1, 1, 0, 2000),\n+(9420501, 1032008, 1, 1, 0, 1800),\n+(9420501, 1050011, 1, 1, 0, 1800),\n+(9420501, 1040044, 1, 1, 0, 2000),\n+(9420501, 1060033, 1, 1, 0, 2000),\n+(9420501, 1302017, 1, 1, 0, 1800),\n+(9420501, 2048005, 1, 1, 0, 1000),\n+(9420501, 2020028, 1, 1, 0, 20000),\n+(9420501, 1050051, 1, 1, 0, 1800),\n+(9420501, 1040099, 1, 1, 0, 2000),\n+(9420501, 1060088, 1, 1, 0, 2000),\n+(9420501, 1050058, 1, 1, 0, 1800),\n+(9420501, 1332020, 1, 1, 0, 1500),\n+(9420501, 4006001, 1, 1, 0, 5000),\n+(9420501, 4030012, 1, 1, 0, 300),\n+(9420501, 1072297, 1, 1, 0, 2000),\n+(9420501, 1482001, 1, 1, 0, 2000),\n+(9420501, 1482005, 1, 1, 0, 2000),\n+(9420501, 1492005, 1, 1, 0, 2000);\n+\n+  INSERT IGNORE INTO temp_data (`dropperid`, `itemid`, `minimum_quantity`, `maximum_quantity`, `questid`, `chance`) VALUES\n+(9300090, 0, 1500, 4000, 0, 400000),\n+(9300090, 4001114, 1, 1, 0, 400000);\n+\n   # delete item drops from Seruf in inactive form\n   DELETE FROM temp_data WHERE dropperid=4220001;\n "}, {"sha": "227a9397a6664b2a40952202e3412ad5ac529514", "filename": "src/client/MapleCharacter.java", "status": "modified", "additions": 32, "deletions": 11, "changes": 43, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/src/client/MapleCharacter.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/src/client/MapleCharacter.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleCharacter.java?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -288,6 +288,8 @@\n     private long petLootCd;\n     private long lastHpDec = 0;\n     private int newWarpMap = -1;\n+    private boolean canWarpMap = true;  //only one \"warp\" must be used per call, and this will define the right one.\n+    private int canWarpCounter = 0;     //counts how many times \"inner warps\" have been called.\n \n     private MapleCharacter() {\n         useCS = false;\n@@ -1141,6 +1143,12 @@ public void warpAhead(int map) {\n     private void eventChangedMap(int map) {\n         if (getEventInstance() != null) getEventInstance().changedMap(this, map);\n     }\n+    \n+    public void changeMapBanish(int mapid, String portal, String msg) {\n+        dropMessage(5, msg);\n+        MapleMap map_ = client.getChannelServer().getMapFactory().getMap(mapid);\n+        changeMap(map_, map_.getPortal(portal));\n+    }\n \n     public void changeMap(int map) {\n         MapleMap warpMap;\n@@ -1190,21 +1198,31 @@ public void changeMap(MapleMap to) {\n         changeMap(to, to.getPortal(0));\n     }\n \n-    public void changeMap(final MapleMap to, final MaplePortal pto) {\n-        eventChangedMap(to.getId());\n+    // not always the MapleMap target will be the map the player will be inserted, why would this even exist? Whatever.\n+    public void changeMap(final MapleMap target, final MaplePortal pto) {\n+        canWarpCounter++;\n+        \n+        eventChangedMap(target.getId());    // player can be dropped from an event here, hence the new warping target.\n+        MapleMap to = getWarpMap(target.getId());\n         changeMapInternal(to, pto.getPosition(), MaplePacketCreator.getWarpToMap(to, pto.getId(), this));\n+        canWarpMap = false;\n+        \n+        canWarpCounter--;\n+        if(canWarpCounter == 0) canWarpMap = true;\n     }\n \n-    public void changeMap(final MapleMap to, final Point pos) {\n+    public void changeMap(final MapleMap target, final Point pos) {\n+        canWarpCounter++;\n+        \n+        eventChangedMap(target.getId());\n+        MapleMap to = getWarpMap(target.getId());\n         changeMapInternal(to, pos, MaplePacketCreator.getWarpToMap(to, 0x80, this));//Position :O (LEFT)\n+        canWarpMap = false;\n+        \n+        canWarpCounter--;\n+        if(canWarpCounter == 0) canWarpMap = true;\n     }\n-\n-    public void changeMapBanish(int mapid, String portal, String msg) {\n-        dropMessage(5, msg);\n-        MapleMap map_ = client.getChannelServer().getMapFactory().getMap(mapid);\n-        changeMap(map_, map_.getPortal(portal));\n-    }\n-\n+    \n     private boolean buffMapProtection() {    \n         for(Entry<MapleBuffStat, MapleBuffStatValueHolder> mbs : effects.entrySet()) {\n             if(mbs.getKey() == MapleBuffStat.MAP_PROTECTION) {\n@@ -1226,8 +1244,9 @@ private boolean buffMapProtection() {\n     }\n     \n     private void changeMapInternal(final MapleMap to, final Point pos, final byte[] warpPacket) {\n-        this.closePlayerInteractions();\n+        if(!canWarpMap) return;\n         \n+        this.closePlayerInteractions();\n         client.announce(warpPacket);\n         map.removePlayer(this);\n         if (client.getChannelServer().getPlayerStorage().getCharacterById(getId()) != null) {\n@@ -1249,6 +1268,8 @@ private void changeMapInternal(final MapleMap to, final Point pos, final byte[]\n         \n         //alas, new map has been specified when a warping was being processed...\n         if(newWarpMap != -1) {\n+            canWarpMap = true;\n+            \n             int temp = newWarpMap;\n             newWarpMap = -1;\n             changeMap(temp);"}, {"sha": "2b84627e975907509b4c051b448e09714aeade4a", "filename": "src/client/command/Commands.java", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/src/client/command/Commands.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/src/client/command/Commands.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/Commands.java?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -1041,11 +1041,10 @@ else if (sub[0].equals(\"sp\")) {\n \t\t\t\t\treturn true;\n \t\t\t\t}\n \t\t\t\tif (player.getEventInstance() != null) {\n-\t\t\t\t\tplayer.getEventInstance().removePlayer(player);\n+\t\t\t\t\tplayer.getEventInstance().leftParty(player);\n \t\t\t\t}\n-\t\t\t\tplayer.changeMap(target, target.getPortal(0));\n+\t\t\t\tplayer.changeMap(target, target.getRandomPlayerSpawnpoint());\n \t\t\t} catch (Exception ex) {\n-                                ex.printStackTrace();\n \t\t\t\tplayer.yellowMessage(\"Map ID \" + sub[1] + \" is invalid.\");\n \t\t\t\treturn true;\n \t\t\t}"}, {"sha": "f86479138c8fb269ea26250d814fbbdb071c0241", "filename": "src/scripting/AbstractPlayerInteraction.java", "status": "modified", "additions": 23, "deletions": 7, "changes": 30, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/src/scripting/AbstractPlayerInteraction.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/src/scripting/AbstractPlayerInteraction.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/scripting/AbstractPlayerInteraction.java?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -89,9 +89,16 @@ public MapleMap getMap() {\n                 return c.getPlayer().getMap();\n         }\n         \n+        public int getMarketPortalId(int mapId) {\n+            return getMarketPortalId(getWarpMap(mapId));\n+        }\n+        \n+        private int getMarketPortalId(MapleMap map) {\n+            return (map.findMarketPortal() != null) ? map.findMarketPortal().getId() : map.getRandomPlayerSpawnpoint().getId();\n+        }\n+        \n \tpublic void warp(int mapid) {\n-                MapleMap map = getWarpMap(mapid);\n-\t\tgetPlayer().changeMap(map, map.getRandomPlayerSpawnpoint());\n+\t\tgetPlayer().changeMap(mapid);\n \t}\n \n \tpublic void warp(int map, int portal) {\n@@ -107,11 +114,20 @@ public void warpMap(int map) {\n \t}\n \n \tpublic void warpParty(int id) {\n-\t\tfor (MapleCharacter mc : getPartyMembers()) {\n-\t\t\tif (id == 925020100) {\n-\t\t\t\tmc.setDojoParty(true);\n-\t\t\t}\n-\t\t\tmc.changeMap(getWarpMap(id));\n+                if (getPlayer().getParty() != null) {\n+                        MaplePartyCharacter leader = getPlayer().getParty().getMemberById(getPlayer().getParty().getLeaderId());\n+                        if(leader != null) {\n+                                int leaderMapId = leader.getMapId();\n+            \n+                                for (MapleCharacter mc : getPartyMembers()) {\n+                                        if(mc.getMapId() == leaderMapId) {\n+                                                if (id == 925020100) {\n+                                                        mc.setDojoParty(true);\n+                                                }\n+                                                mc.changeMap(id);\n+                                        }\n+                                }\n+                        }\n \t\t}\n \t}\n "}, {"sha": "918f136215f2dfc22f075e96bc63f793e2cd2c5a", "filename": "src/scripting/event/EventInstanceManager.java", "status": "modified", "additions": 11, "deletions": 6, "changes": 17, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/src/scripting/event/EventInstanceManager.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/src/scripting/event/EventInstanceManager.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/scripting/event/EventInstanceManager.java?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -524,12 +524,7 @@ public void dispose() {\n                 cancelSchedule();\n                 killCount.clear();\n                 \n-                if (expedition != null) {\n-                        expedition.dispose(true);    \n-                        em.getChannelServer().getExpeditions().remove(expedition);\n-                        \n-                        expedition = null;\n-                }\n+                disposeExpedition();\n                 if(!eventCleared) em.disposeInstance(name);\n                 em = null;\n \t}\n@@ -863,9 +858,19 @@ public final boolean giveEventReward(MapleCharacter player, int eventLevel) {\n                 }\n         }\n         \n+        private void disposeExpedition() {\n+                if (expedition != null) {\n+                        expedition.dispose(eventCleared);    \n+                        em.getChannelServer().getExpeditions().remove(expedition);\n+                        \n+                        expedition = null;\n+                }\n+        }\n+        \n         public final void setEventCleared() {\n                 eventCleared = true;\n                 em.disposeInstance(name);\n+                disposeExpedition();\n         }\n         \n         public final boolean isEventCleared() {"}, {"sha": "3e17b54adbb81163c7c8c13b6797c90e00d0e267", "filename": "src/scripting/reactor/ReactorActionManager.java", "status": "modified", "additions": 40, "deletions": 4, "changes": 44, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/src/scripting/reactor/ReactorActionManager.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/src/scripting/reactor/ReactorActionManager.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/scripting/reactor/ReactorActionManager.java?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -29,26 +29,34 @@\n import java.util.Iterator;\n import java.util.LinkedList;\n import java.util.List;\n+import java.util.concurrent.ScheduledFuture;\n+import java.util.logging.Level;\n+import java.util.logging.Logger;\n+import javax.script.Invocable;\n+import javax.script.ScriptException;\n import scripting.AbstractPlayerInteraction;\n+import scripting.event.EventInstanceManager;\n+import scripting.event.EventManager;\n import server.MapleItemInformationProvider;\n+import server.TimerManager;\n import server.life.MapleLifeFactory;\n-import server.life.MapleNPC;\n import server.maps.MapMonitor;\n import server.maps.MapleReactor;\n import server.maps.ReactorDropEntry;\n-import tools.MaplePacketCreator;\n \n /**\n- * @author Lerk\n+ * @author Lerk, Ronan\n  */\n public class ReactorActionManager extends AbstractPlayerInteraction {\n     private MapleReactor reactor;\n     private MapleClient client;\n+    private Invocable iv;\n \n-    public ReactorActionManager(MapleClient c, MapleReactor reactor) {\n+    public ReactorActionManager(MapleClient c, MapleReactor reactor, Invocable iv) {\n         super(c);\n         this.reactor = reactor;\n         this.client = c;\n+        this.iv = iv;\n     }\n \n     public void dropItems() {\n@@ -154,4 +162,32 @@ public MapleReactor getReactor() {\n     public void spawnFakeMonster(int id) {\n         reactor.getMap().spawnFakeMonsterOnGroundBelow(MapleLifeFactory.getMonster(id), getPosition());\n     }\n+    \n+    public ScheduledFuture<?> schedule(String methodName, long delay) {\n+        return schedule(methodName, null, delay);\n+    }\n+\n+    public ScheduledFuture<?> schedule(final String methodName, final EventInstanceManager eim, long delay) {\n+        return TimerManager.getInstance().schedule(new Runnable() {\n+            public void run() {\n+                try {\n+                    iv.invokeFunction(methodName, eim);\n+                } catch (ScriptException | NoSuchMethodException ex) {\n+                    Logger.getLogger(EventManager.class.getName()).log(Level.SEVERE, null, ex);\n+                }\n+            }\n+        }, delay);\n+    }\n+\n+    public ScheduledFuture<?> scheduleAtTimestamp(final String methodName, long timestamp) {\n+        return TimerManager.getInstance().scheduleAtTimestamp(new Runnable() {\n+            public void run() {\n+                try {\n+                    iv.invokeFunction(methodName, (Object) null);\n+                } catch (ScriptException | NoSuchMethodException ex) {\n+                    Logger.getLogger(EventManager.class.getName()).log(Level.SEVERE, null, ex);\n+                }\n+            }\n+        }, timestamp);\n+    }\n }\n\\ No newline at end of file"}, {"sha": "9ea6c59839f444a259be9dd5a91862c65ba59777", "filename": "src/scripting/reactor/ReactorScriptManager.java", "status": "modified", "additions": 9, "deletions": 12, "changes": 21, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/src/scripting/reactor/ReactorScriptManager.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/src/scripting/reactor/ReactorScriptManager.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/scripting/reactor/ReactorScriptManager.java?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -50,11 +50,10 @@ public synchronized static ReactorScriptManager getInstance() {\n     \n     public void onHit(MapleClient c, MapleReactor reactor) {\n         try {\n-            ReactorActionManager rm = new ReactorActionManager(c, reactor);\n             Invocable iv = getInvocable(\"reactor/\" + reactor.getId() + \".js\", c);\n-            if (iv == null) {\n-            \treturn;\n-            }\n+            if (iv == null) return;\n+            \n+            ReactorActionManager rm = new ReactorActionManager(c, reactor, iv);\n             engine.put(\"rm\", rm);\n             iv.invokeFunction(\"hit\");\n         } catch(final NoSuchMethodException e) {\n@@ -67,11 +66,10 @@ public void onHit(MapleClient c, MapleReactor reactor) {\n \n     public void act(MapleClient c, MapleReactor reactor) {\n         try {\n-            ReactorActionManager rm = new ReactorActionManager(c, reactor);\n             Invocable iv = getInvocable(\"reactor/\" + reactor.getId() + \".js\", c);\n-            if (iv == null) {\n-            \treturn;\n-            }\n+            if (iv == null) return;\n+            \n+            ReactorActionManager rm = new ReactorActionManager(c, reactor, iv);\n             engine.put(\"rm\", rm);\n             iv.invokeFunction(\"act\");\n         } catch (final ScriptException | NoSuchMethodException | NullPointerException e) {\n@@ -114,11 +112,10 @@ public void untouch(MapleClient c, MapleReactor reactor) {\n \n     public synchronized void touching(MapleClient c, MapleReactor reactor, boolean touching) {\n         try {\n-            ReactorActionManager rm = new ReactorActionManager(c, reactor);\n             Invocable iv = getInvocable(\"reactor/\" + reactor.getId() + \".js\", c);\n-            if (iv == null) {\n-                return;\n-            }\n+            if (iv == null) return;\n+            \n+            ReactorActionManager rm = new ReactorActionManager(c, reactor, iv);\n             engine.put(\"rm\", rm);\n             if (touching) {\n                 iv.invokeFunction(\"touch\");"}, {"sha": "ae338c88fc1000b2f624afe97b2348f5779e1fbc", "filename": "src/server/MapleItemInformationProvider.java", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/src/server/MapleItemInformationProvider.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/src/server/MapleItemInformationProvider.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/MapleItemInformationProvider.java?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -561,7 +561,6 @@ public Item scrollEquipWithId(Item equip, int scrollId, boolean usingWhiteScroll\n             Map<String, Integer> stats = this.getEquipStats(scrollId);\n             Map<String, Integer> eqstats = this.getEquipStats(equip.getItemId());\n             \n-            System.out.println(\"GM: \" + isGM + \"\\tWS: \" + usingWhiteScroll + \"\\tITEM: \" + scrollId);\n             if (((nEquip.getUpgradeSlots() > 0 || isCleanSlate(scrollId))) || isGM) {\n                 if(isGM || rollSuccessChance((double)stats.get(\"success\"))) {\n                     short flag = nEquip.getFlag();"}, {"sha": "ff2ee71593ab50eeaf716b9bc62d4e890e3e51d7", "filename": "src/server/MapleStatEffect.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/src/server/MapleStatEffect.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/src/server/MapleStatEffect.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/MapleStatEffect.java?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -861,7 +861,7 @@ private boolean applyTo(MapleCharacter applyfrom, MapleCharacter applyto, boolea\n                 door.getTown().spawnDoor(door.getTownDoor());\n             } else {\n                 if(door.getOwnerId() == -1) applyto.dropMessage(5, \"There are no door portals available for the town at this moment. Try again later.\");\n-                else applyto.dropMessage(5, \"This position is not suitable for a Mystic Door, try elsewhere.\");\n+                else applyto.dropMessage(5, \"Mystic Door cannot be cast on a slope, try elsewhere.\");\n                 \n                 applyto.cancelBuffStats(MapleBuffStat.SOULARROW);  // cancel door buff\n             }"}, {"sha": "07899f87fdfbb58371011b6cecba835d99ae31a1", "filename": "src/server/expeditions/MapleExpedition.java", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/src/server/expeditions/MapleExpedition.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/src/server/expeditions/MapleExpedition.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/expeditions/MapleExpedition.java?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -111,9 +111,8 @@ public void run() {\n \t\t\t\t\tleader.getClient().getChannelServer().getExpeditions().remove(exped);\n \t\t\t\t\tstartMap.broadcastMessage(MaplePacketCreator.serverNotice(6, \"Time limit has been reached. Expedition has been disbanded.\"));\n                                         \n-                                        broadcastExped(MaplePacketCreator.removeClock());\n+                                        dispose(false);\n \t\t\t\t}\n-\t\t\t\tdispose(false);\n \t\t\t}\n \t\t}, type.getRegistrationTime() * 60 * 1000);\n \t}"}, {"sha": "610cdcd69a0a2a8835683c16eb90dfa2603556be", "filename": "src/server/maps/MapleMap.java", "status": "modified", "additions": 12, "deletions": 2, "changes": 14, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/src/server/maps/MapleMap.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/src/server/maps/MapleMap.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/MapleMap.java?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -1604,7 +1604,7 @@ public void run() {\n             }\n         }, time);\n     }\n-\n+    \n     public void addPlayer(final MapleCharacter chr) {\n         chrWLock.lock();\n         try {\n@@ -1849,6 +1849,16 @@ public MaplePortal findClosestPortal(Point from) {\n         }\n         return closest;\n     }\n+    \n+    public MaplePortal findMarketPortal() {\n+        for (MaplePortal portal : portals.values()) {\n+            String ptScript = portal.getScriptName();\n+            if(ptScript != null && ptScript.contains(\"market\")) {\n+                return portal;\n+            }\n+        }\n+        return null;\n+    }\n \n     public Collection<MaplePortal> getPortals() {\n         return Collections.unmodifiableCollection(portals.values());\n@@ -2769,7 +2779,7 @@ public MapleSnowball getSnowball(int team) {\n     private boolean specialEquip() {//Maybe I shouldn't use fieldType :\\\n         return fieldType == 4 || fieldType == 19;\n     }\n-\n+    \n     public void setCoconut(MapleCoconut nut) {\n         this.coconut = nut;\n     }"}, {"sha": "1acdc3a94a9793c8d0691b2b9e4bd60b4d81066d", "filename": "src/server/maps/MapleMiniDungeon.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/src/server/maps/MapleMiniDungeon.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/src/server/maps/MapleMiniDungeon.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/MapleMiniDungeon.java?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -42,7 +42,7 @@\n \tTHE_RESTORING_MEMORY(240040511, 240040800, 19),\n \tNEWT_SECURED_ZONE(240040520, 240040900, 19),\n \tPILLAGE_OF_TREASURE_ISLAND(251010402, 251010410, 30),\n-\t;\n+\tLONGEST_RIDE_ON_BYEBYE_STATION(551030000, 551030001, 19);\n \n \tprivate int baseId;\n \tprivate int dungeonId;"}, {"sha": "61fe2c5ad2ed20f56f55b0ccf1bf26ebc2a8b358", "filename": "src/server/quest/actions/ItemAction.java", "status": "modified", "additions": 20, "deletions": 27, "changes": 47, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/src/server/quest/actions/ItemAction.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/src/server/quest/actions/ItemAction.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/quest/actions/ItemAction.java?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -22,7 +22,6 @@\n package server.quest.actions;\n \n import client.MapleCharacter;\n-import client.MapleJob;\n import client.inventory.Item;\n import client.inventory.MapleInventory;\n import client.inventory.MapleInventoryType;\n@@ -43,10 +42,10 @@\n \n /**\n  *\n- * @author Tyler (Twdtwd)\n+ * @author Tyler (Twdtwd), Ronan\n  */\n public class ItemAction extends MapleQuestAction {\n-\tMap<Integer, ItemData> items = new HashMap<>();\n+\tList<ItemData> items = new ArrayList<>();\n \t\n \tpublic ItemAction(MapleQuest quest, MapleData data) {\n \t\tsuper(MapleQuestActionType.ITEM, quest);\n@@ -73,36 +72,41 @@ public void processData(MapleData data) {\n \t\t\tif (iEntry.getChildByPath(\"job\") != null)\n \t\t\t\tjob = MapleDataTool.getInt(iEntry.getChildByPath(\"job\"));\n \t\t\t\n-\t\t\titems.put(id, new ItemData(id, count, prop, job, gender));\n+\t\t\titems.add(new ItemData(id, count, prop, job, gender));\n \t\t}\n \t}\n \t\n \t@Override\n \tpublic void run(MapleCharacter chr, Integer extSelection) {\n \t\tMapleItemInformationProvider ii = MapleItemInformationProvider.getInstance();\n-                Map<Integer, Integer> props = new HashMap<>();\n-\t\tfor(ItemData item : items.values()) {\n+                int props = 0, rndProps = 0, accProps = 0;\n+\t\tfor(ItemData item : items) {\n \t\t\tif(item.getProp() != null && item.getProp() != -1 && canGetItem(item, chr)) {\n-\t\t\t\tfor (int i = 0; i < item.getProp(); i++) {\n-\t\t\t\t\tprops.put(props.size(), item.getId());\n-\t\t\t\t}\n+                                props += item.getProp();\n \t\t\t}\n \t\t}\n-\t\tint selection = 0;\n+\t\t\n \t\tint extNum = 0;\n-\t\tif (props.size() > 0) {\n-\t\t\tselection = props.get(Randomizer.nextInt(props.size()));\n+\t\tif (props > 0) {\n+\t\t\trndProps = Randomizer.nextInt(props);\n \t\t}\n-\t\tfor (ItemData iEntry : items.values()) {\n+\t\tfor (ItemData iEntry : items) {\n \t\t\tif (!canGetItem(iEntry, chr)) {\n \t\t\t\tcontinue;\n \t\t\t}\n \t\t\tif(iEntry.getProp() != null) {\n \t\t\t\tif(iEntry.getProp() == -1) {\n \t\t\t\t\tif(extSelection != extNum++)\n \t\t\t\t\t\tcontinue;\n-\t\t\t\t} else if(iEntry.getId() != selection)\n-\t\t\t\t\tcontinue;\n+\t\t\t\t} else {\n+                                        accProps += iEntry.getProp();\n+                                        \n+                                        if(accProps <= rndProps) {\n+                                                continue;\n+                                        } else {\n+                                                accProps = Integer.MIN_VALUE;\n+                                        }\n+                                }\n \t\t\t}\n \t\t\t\n \t\t\tif(iEntry.getCount() < 0) { // Remove Items\n@@ -135,7 +139,7 @@ public boolean check(MapleCharacter chr, Integer extSelection) {\n \t\tMapleItemInformationProvider ii = MapleItemInformationProvider.getInstance();\n                 EnumMap<MapleInventoryType, Integer> props = new EnumMap<>(MapleInventoryType.class);\n \t\tList<Pair<Item, MapleInventoryType>> itemList = new ArrayList<>();\n-\t\tfor(ItemData item : items.values()) {\n+\t\tfor(ItemData item : items) {\n \t\t\tif (!canGetItem(item, chr)) {\n \t\t\t\tcontinue;\n \t\t\t}\n@@ -188,17 +192,6 @@ private boolean canGetItem(ItemData item, MapleCharacter chr) {\n                             break;\n                         }\n                     }\n-                    /*\n-                    if (!jobFound && item.jobEx > 0) {\n-                        final List<Integer> codeEx = getJobBySimpleEncoding(item.jobEx);\n-                        for (int codec : codeEx) {\n-                            if ((codec / 100 % 10) == (chr.getJob().getId() / 100 % 10)) {\n-                                jobFound = true;\n-                                break;\n-                            }\n-                        }\n-                    }\n-                    */\n                     return jobFound;\n                 }\n         return true;"}, {"sha": "6d2da29ada96b57c22521cac7e0d064a47268c1f", "filename": "todo.txt", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/todo.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/todo.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/todo.txt?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -1,5 +1,5 @@\n gaviota?\n cash drop from equipped\n-NPCs masteria\n \n-PQs\n\\ No newline at end of file\n+PQs\n+quests doesnt need to have a free slot to give an stackable item...\n\\ No newline at end of file"}, {"sha": "c234a627f7d13c1c332de3e432d4f6b8abd5dea3", "filename": "wz/Map.wz/Map/Map5/541000000.img.xml", "status": "modified", "additions": 2792, "deletions": 2755, "changes": 5547, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/wz/Map.wz/Map/Map5/541000000.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/wz/Map.wz/Map/Map5/541000000.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map5/541000000.img.xml?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "f432b11d99d5b196a822ceddd1d01138831f829b", "filename": "wz/Map.wz/Map/Map5/541000100.img.xml", "status": "modified", "additions": 4353, "deletions": 4364, "changes": 8717, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/wz/Map.wz/Map/Map5/541000100.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/wz/Map.wz/Map/Map5/541000100.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map5/541000100.img.xml?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "6f55c337a2a274a260daf30dfa22393df8d434de", "filename": "wz/Map.wz/Map/Map5/541000300.img.xml", "status": "modified", "additions": 4487, "deletions": 4478, "changes": 8965, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/wz/Map.wz/Map/Map5/541000300.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/wz/Map.wz/Map/Map5/541000300.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map5/541000300.img.xml?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "0cc9b03c511ba6a62dc3472d389c3cfa9751d73c", "filename": "wz/Map.wz/Map/Map5/541010110.img.xml", "status": "modified", "additions": 1604, "deletions": 1515, "changes": 3119, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/wz/Map.wz/Map/Map5/541010110.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/wz/Map.wz/Map/Map5/541010110.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map5/541010110.img.xml?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859"}, {"sha": "559ad9277bd90ab131f22bb0460777cd628516a4", "filename": "wz/String.wz/MonsterBook.img.xml", "status": "modified", "additions": 126, "deletions": 126, "changes": 252, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/wz/String.wz/MonsterBook.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/8fab2a6e3edf586c21a4a1aec2e59f2316e8b859/wz/String.wz/MonsterBook.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/String.wz/MonsterBook.img.xml?ref=8fab2a6e3edf586c21a4a1aec2e59f2316e8b859", "patch": "@@ -166,33 +166,32 @@\n     <imgdir name=\"reward\">\n       <int name=\"0\" value=\"1002039\" />\n       <int name=\"1\" value=\"1002613\" />\n-      <int name=\"2\" value=\"1012031\" />\n-      <int name=\"3\" value=\"1032001\" />\n-      <int name=\"4\" value=\"1041018\" />\n-      <int name=\"5\" value=\"1041061\" />\n-      <int name=\"6\" value=\"1061013\" />\n-      <int name=\"7\" value=\"1061057\" />\n-      <int name=\"8\" value=\"1092003\" />\n-      <int name=\"9\" value=\"1302006\" />\n-      <int name=\"10\" value=\"1382000\" />\n-      <int name=\"11\" value=\"1432012\" />\n-      <int name=\"12\" value=\"1442000\" />\n-      <int name=\"13\" value=\"1482000\" />\n-      <int name=\"14\" value=\"2000000\" />\n-      <int name=\"15\" value=\"2000001\" />\n-      <int name=\"16\" value=\"2000003\" />\n-      <int name=\"17\" value=\"2040802\" />\n-      <int name=\"18\" value=\"2060000\" />\n-      <int name=\"19\" value=\"2061000\" />\n-      <int name=\"20\" value=\"2380008\" />\n-      <int name=\"21\" value=\"4000005\" />\n-      <int name=\"22\" value=\"4001344\" />\n-      <int name=\"23\" value=\"4001356\" />\n-      <int name=\"24\" value=\"4001360\" />\n-      <int name=\"25\" value=\"4010001\" />\n-      <int name=\"26\" value=\"4020000\" />\n-      <int name=\"27\" value=\"4030009\" />\n-      <int name=\"28\" value=\"4031773\" />\n+      <int name=\"2\" value=\"1032001\" />\n+      <int name=\"3\" value=\"1041018\" />\n+      <int name=\"4\" value=\"1041061\" />\n+      <int name=\"5\" value=\"1061013\" />\n+      <int name=\"6\" value=\"1061057\" />\n+      <int name=\"7\" value=\"1092003\" />\n+      <int name=\"8\" value=\"1302006\" />\n+      <int name=\"9\" value=\"1382000\" />\n+      <int name=\"10\" value=\"1432012\" />\n+      <int name=\"11\" value=\"1442000\" />\n+      <int name=\"12\" value=\"1482000\" />\n+      <int name=\"13\" value=\"2000000\" />\n+      <int name=\"14\" value=\"2000001\" />\n+      <int name=\"15\" value=\"2000003\" />\n+      <int name=\"16\" value=\"2040802\" />\n+      <int name=\"17\" value=\"2060000\" />\n+      <int name=\"18\" value=\"2061000\" />\n+      <int name=\"19\" value=\"2380008\" />\n+      <int name=\"20\" value=\"4000005\" />\n+      <int name=\"21\" value=\"4001344\" />\n+      <int name=\"22\" value=\"4001356\" />\n+      <int name=\"23\" value=\"4001360\" />\n+      <int name=\"24\" value=\"4010001\" />\n+      <int name=\"25\" value=\"4020000\" />\n+      <int name=\"26\" value=\"4030009\" />\n+      <int name=\"27\" value=\"4031773\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  10\\nForm : Plant\\nSpecial Trait : Vulnerable to Fire Attribute Attacks.\\n\\nA slightly darker version of Stump, the tree stump monster. These monsters are often spotted around mountain highlands. While they are very similar to the Stump in their dried-up appearance, but these Dark Stumps have some moisture left in their bodies, still growing leaves somewhere inside their body. The Dark Stump has a lot stronger attacks and defenses as compared to Stump, so be careful not to confuse the two, especially if you're a beginner!\" />\n   </imgdir>\n@@ -1269,11 +1268,12 @@\n       <int name=\"50\" value=\"2070000\" />\n       <int name=\"51\" value=\"2210006\" />\n       <int name=\"52\" value=\"2330000\" />\n-      <int name=\"53\" value=\"4000000\" />\n-      <int name=\"54\" value=\"4000016\" />\n-      <int name=\"55\" value=\"4000019\" />\n-      <int name=\"56\" value=\"4010000\" />\n-      <int name=\"57\" value=\"4020000\" />\n+      <int name=\"53\" value=\"2388000\" />\n+      <int name=\"54\" value=\"4000000\" />\n+      <int name=\"55\" value=\"4000016\" />\n+      <int name=\"56\" value=\"4000019\" />\n+      <int name=\"57\" value=\"4010000\" />\n+      <int name=\"58\" value=\"4020000\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  20\\nForm : Mammal\\n\\nThe oldest snail in Maple World. It has a huge body that has developed over the years and white mustache that suits his old age. He enjoys the morning dew, so one may frequently spot him wandering around to consume the dew on green leaves every morning. If fortunate enough, one can acquire a Rainbow-colored Snail Shell which is said to grant its owner a wish.\" />\n   </imgdir>\n@@ -2995,62 +2995,61 @@\n       <int name=\"2\" value=\"1002170\" />\n       <int name=\"3\" value=\"1002185\" />\n       <int name=\"4\" value=\"1002628\" />\n-      <int name=\"5\" value=\"1012031\" />\n-      <int name=\"6\" value=\"1040080\" />\n-      <int name=\"7\" value=\"1040084\" />\n-      <int name=\"8\" value=\"1040085\" />\n-      <int name=\"9\" value=\"1041076\" />\n-      <int name=\"10\" value=\"1041083\" />\n-      <int name=\"11\" value=\"1041086\" />\n-      <int name=\"12\" value=\"1050039\" />\n-      <int name=\"13\" value=\"1051026\" />\n-      <int name=\"14\" value=\"1052113\" />\n-      <int name=\"15\" value=\"1072087\" />\n-      <int name=\"16\" value=\"1072107\" />\n-      <int name=\"17\" value=\"1072117\" />\n-      <int name=\"18\" value=\"1072118\" />\n-      <int name=\"19\" value=\"1072126\" />\n-      <int name=\"20\" value=\"1072300\" />\n-      <int name=\"21\" value=\"1082025\" />\n-      <int name=\"22\" value=\"1082064\" />\n-      <int name=\"23\" value=\"1082073\" />\n-      <int name=\"24\" value=\"1082074\" />\n-      <int name=\"25\" value=\"1082195\" />\n-      <int name=\"26\" value=\"1322027\" />\n-      <int name=\"27\" value=\"2000001\" />\n-      <int name=\"28\" value=\"2000003\" />\n-      <int name=\"29\" value=\"2012002\" />\n-      <int name=\"30\" value=\"2040402\" />\n-      <int name=\"31\" value=\"2040502\" />\n-      <int name=\"32\" value=\"2040602\" />\n-      <int name=\"33\" value=\"2040701\" />\n-      <int name=\"34\" value=\"2040801\" />\n-      <int name=\"35\" value=\"2040901\" />\n-      <int name=\"36\" value=\"2041001\" />\n-      <int name=\"37\" value=\"2041004\" />\n-      <int name=\"38\" value=\"2041010\" />\n-      <int name=\"39\" value=\"2041016\" />\n-      <int name=\"40\" value=\"2041017\" />\n-      <int name=\"41\" value=\"2041043\" />\n-      <int name=\"42\" value=\"2041045\" />\n-      <int name=\"43\" value=\"2043001\" />\n-      <int name=\"44\" value=\"2043101\" />\n-      <int name=\"45\" value=\"2043201\" />\n-      <int name=\"46\" value=\"2044002\" />\n-      <int name=\"47\" value=\"2044112\" />\n-      <int name=\"48\" value=\"2044201\" />\n-      <int name=\"49\" value=\"2044412\" />\n-      <int name=\"50\" value=\"2060000\" />\n-      <int name=\"51\" value=\"2061000\" />\n-      <int name=\"52\" value=\"2070009\" />\n-      <int name=\"53\" value=\"2388025\" />\n-      <int name=\"54\" value=\"4000003\" />\n-      <int name=\"55\" value=\"4000005\" />\n-      <int name=\"56\" value=\"4000018\" />\n-      <int name=\"57\" value=\"4000195\" />\n-      <int name=\"58\" value=\"4003001\" />\n-      <int name=\"59\" value=\"4010000\" />\n-      <int name=\"60\" value=\"4020001\" />\n+      <int name=\"5\" value=\"1040080\" />\n+      <int name=\"6\" value=\"1040084\" />\n+      <int name=\"7\" value=\"1040085\" />\n+      <int name=\"8\" value=\"1041076\" />\n+      <int name=\"9\" value=\"1041083\" />\n+      <int name=\"10\" value=\"1041086\" />\n+      <int name=\"11\" value=\"1050039\" />\n+      <int name=\"12\" value=\"1051026\" />\n+      <int name=\"13\" value=\"1052113\" />\n+      <int name=\"14\" value=\"1072087\" />\n+      <int name=\"15\" value=\"1072107\" />\n+      <int name=\"16\" value=\"1072117\" />\n+      <int name=\"17\" value=\"1072118\" />\n+      <int name=\"18\" value=\"1072126\" />\n+      <int name=\"19\" value=\"1072300\" />\n+      <int name=\"20\" value=\"1082025\" />\n+      <int name=\"21\" value=\"1082064\" />\n+      <int name=\"22\" value=\"1082073\" />\n+      <int name=\"23\" value=\"1082074\" />\n+      <int name=\"24\" value=\"1082195\" />\n+      <int name=\"25\" value=\"1322027\" />\n+      <int name=\"26\" value=\"2000001\" />\n+      <int name=\"27\" value=\"2000003\" />\n+      <int name=\"28\" value=\"2012002\" />\n+      <int name=\"29\" value=\"2040402\" />\n+      <int name=\"30\" value=\"2040502\" />\n+      <int name=\"31\" value=\"2040602\" />\n+      <int name=\"32\" value=\"2040701\" />\n+      <int name=\"33\" value=\"2040801\" />\n+      <int name=\"34\" value=\"2040901\" />\n+      <int name=\"35\" value=\"2041001\" />\n+      <int name=\"36\" value=\"2041004\" />\n+      <int name=\"37\" value=\"2041010\" />\n+      <int name=\"38\" value=\"2041016\" />\n+      <int name=\"39\" value=\"2041017\" />\n+      <int name=\"40\" value=\"2041043\" />\n+      <int name=\"41\" value=\"2041045\" />\n+      <int name=\"42\" value=\"2043001\" />\n+      <int name=\"43\" value=\"2043101\" />\n+      <int name=\"44\" value=\"2043201\" />\n+      <int name=\"45\" value=\"2044002\" />\n+      <int name=\"46\" value=\"2044112\" />\n+      <int name=\"47\" value=\"2044201\" />\n+      <int name=\"48\" value=\"2044412\" />\n+      <int name=\"49\" value=\"2060000\" />\n+      <int name=\"50\" value=\"2061000\" />\n+      <int name=\"51\" value=\"2070009\" />\n+      <int name=\"52\" value=\"2388025\" />\n+      <int name=\"53\" value=\"4000003\" />\n+      <int name=\"54\" value=\"4000005\" />\n+      <int name=\"55\" value=\"4000018\" />\n+      <int name=\"56\" value=\"4000195\" />\n+      <int name=\"57\" value=\"4003001\" />\n+      <int name=\"58\" value=\"4010000\" />\n+      <int name=\"59\" value=\"4020001\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  35\\nForm : Plant\\n\\nAccording to Winston, who has devoted a good chunk of his life to studying the plateaus of Perion, Perion in ancient times was not a dry and barren land. Rather, he suggests that it was a place of which bountiful forests rivaled those of current Ellinia. The soil in Perion had been saturated with moisture and nutrients in the past, supporting the necessary conditions for huge plants like Stumpy to grow. However, it has turned into a dry land, and Stumpy, which can be considered a legacy of ancient Perion, now survives on what, little, is left of the barren land.    \" />\n   </imgdir>\n@@ -6154,12 +6153,13 @@\n       <int name=\"13\" value=\"2040901\" />\n       <int name=\"14\" value=\"2044602\" />\n       <int name=\"15\" value=\"2044902\" />\n-      <int name=\"16\" value=\"4000360\" />\n-      <int name=\"17\" value=\"4004002\" />\n-      <int name=\"18\" value=\"4020005\" />\n-      <int name=\"19\" value=\"4130000\" />\n-      <int name=\"20\" value=\"4130004\" />\n-      <int name=\"21\" value=\"4130006\" />\n+      <int name=\"16\" value=\"2383016\" />\n+      <int name=\"17\" value=\"4000360\" />\n+      <int name=\"18\" value=\"4004002\" />\n+      <int name=\"19\" value=\"4020005\" />\n+      <int name=\"20\" value=\"4130000\" />\n+      <int name=\"21\" value=\"4130004\" />\n+      <int name=\"22\" value=\"4130006\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  50\\nForm : Enchanted\\n\\nA form of Mithril enhanced by mixing other metals to rival the powerful strength of Orihalcon, rendering it more powerful than regular Mithril Mutae..\" />\n   </imgdir>\n@@ -6187,14 +6187,15 @@\n       <int name=\"14\" value=\"2040323\" />\n       <int name=\"15\" value=\"2040422\" />\n       <int name=\"16\" value=\"2043017\" />\n-      <int name=\"17\" value=\"4000364\" />\n-      <int name=\"18\" value=\"4004004\" />\n-      <int name=\"19\" value=\"4007000\" />\n-      <int name=\"20\" value=\"4007006\" />\n-      <int name=\"21\" value=\"4020005\" />\n-      <int name=\"22\" value=\"4130001\" />\n-      <int name=\"23\" value=\"4130005\" />\n-      <int name=\"24\" value=\"4130006\" />\n+      <int name=\"17\" value=\"2383028\" />\n+      <int name=\"18\" value=\"4000364\" />\n+      <int name=\"19\" value=\"4004004\" />\n+      <int name=\"20\" value=\"4007000\" />\n+      <int name=\"21\" value=\"4007006\" />\n+      <int name=\"22\" value=\"4020005\" />\n+      <int name=\"23\" value=\"4130001\" />\n+      <int name=\"24\" value=\"4130005\" />\n+      <int name=\"25\" value=\"4130006\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  54\\nForm : Enchanted\\n\\nA robot built by alchemists in Magatia. It is small but has the power that will exceed your expectation, and also has an extremely intricate internal structure. \" />\n   </imgdir>\n@@ -13480,28 +13481,27 @@\n       <int name=\"0\" value=\"222010402\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"1032030\" />\n-      <int name=\"1\" value=\"1302012\" />\n-      <int name=\"2\" value=\"1312010\" />\n-      <int name=\"3\" value=\"1322019\" />\n-      <int name=\"4\" value=\"1332018\" />\n-      <int name=\"5\" value=\"1332019\" />\n-      <int name=\"6\" value=\"1382007\" />\n-      <int name=\"7\" value=\"1412008\" />\n-      <int name=\"8\" value=\"1432007\" />\n-      <int name=\"9\" value=\"2000004\" />\n-      <int name=\"10\" value=\"2000005\" />\n-      <int name=\"11\" value=\"2043001\" />\n-      <int name=\"12\" value=\"2043101\" />\n-      <int name=\"13\" value=\"2043301\" />\n-      <int name=\"14\" value=\"2043701\" />\n-      <int name=\"15\" value=\"2044001\" />\n-      <int name=\"16\" value=\"2044201\" />\n-      <int name=\"17\" value=\"2044301\" />\n-      <int name=\"18\" value=\"2044501\" />\n-      <int name=\"19\" value=\"2044601\" />\n-      <int name=\"20\" value=\"2044701\" />\n-      <int name=\"21\" value=\"2388053\" />\n+      <int name=\"0\" value=\"1302012\" />\n+      <int name=\"1\" value=\"1312010\" />\n+      <int name=\"2\" value=\"1322019\" />\n+      <int name=\"3\" value=\"1332018\" />\n+      <int name=\"4\" value=\"1332019\" />\n+      <int name=\"5\" value=\"1382007\" />\n+      <int name=\"6\" value=\"1412008\" />\n+      <int name=\"7\" value=\"1432007\" />\n+      <int name=\"8\" value=\"2000004\" />\n+      <int name=\"9\" value=\"2000005\" />\n+      <int name=\"10\" value=\"2043001\" />\n+      <int name=\"11\" value=\"2043101\" />\n+      <int name=\"12\" value=\"2043301\" />\n+      <int name=\"13\" value=\"2043701\" />\n+      <int name=\"14\" value=\"2044001\" />\n+      <int name=\"15\" value=\"2044201\" />\n+      <int name=\"16\" value=\"2044301\" />\n+      <int name=\"17\" value=\"2044501\" />\n+      <int name=\"18\" value=\"2044601\" />\n+      <int name=\"19\" value=\"2044701\" />\n+      <int name=\"20\" value=\"2388053\" />\n     </imgdir>\n     <string name=\"episode\" value=\"\ub808\ubca8 : Lv.90\\n\ud615\ud0dc : \uc2dd\ubb3c\ud615\\n\\n\ubc14\uae65\ubcf4\ub2e4\ub294 \uc9d1\uc744 \uc88b\uc544\ud558\ub294 \uba38\uc26c\ub9d8\uc758 \ud2b9\uc131 \ub54c\ubb38\uc77c\uae4c? \uba38\uc26c\ub9d8\uc758 \ubcc0\uc885\uc778 \ube14\ub8e8 \uba38\uc26c\ub9d8\ub3c4 \uc790\uc2e0\uc774 \uba38\ubb34\ub97c \uc9d1\uc744 \ucc3e\uc558\ub2e4. \uadf8\ub7f0\ub370 \uc9d1\uc740 \uc9d1\uc778\ub370 \uc544\ubb34\ub798\ub3c4 \uc8fc\uc18c\ub97c \uc798\ubabb\ucc3e\uc740 \ub4ef! \uc544\ub7ab\ub9c8\uc744 \ub3c4\uae68\ube44\uc9d1\uc5d0 \ub09c\ub370\uc5c6\uc774 \ub098\ud0c0\ub09c \ube14\ub8e8 \uba38\uc26c\ub9d8 \ub54c\ubb38\uc5d0 \ub3c4\uae68\ube44\ub4e4\uc774 \uace4\uc695\uc744 \uce58\ub974\uace0 \uc788\ub2e4. \uac11\uc790\uae30 \ud280\uc5b4\ub098\uc640\uc11c \uc655\ub3c4\uae68\ube44\ub4e4\uc744 \uae5c\uc9dd \ub180\ub77c\ud0a4\uace0 \uc788\ub294 \ube14\ub8e8 \uba38\uc26c\ub9d8\uc740 \uc655\ub3c4\uae68\ube44\ub4e4\uc758 \ubd88\ub9cc\uc2a4\ub7ec\uc6b4 \uc794\uc18c\ub9ac\uc5d0\ub3c4 \uc544\ub791\uacf3\ud558\uc9c0 \uc54a\ub294\ub2e4. \ub2e4 \uc4f0\ub7ec\uc838\uac00\ub294 \ub3c4\uae68\ube44\uc9d1\uc774 \ubb34\ucc99\uc774\ub098 \ub9c8\uc74c\uc5d0 \ub4dc\ub294 \ub4ef \ud558\ub2e4.\" />\n   </imgdir>\n@@ -14059,7 +14059,7 @@\n   </imgdir>\n   <imgdir name=\"9500317\">\n     <imgdir name=\"map\">\n-      <int name=\"0\" value=\"209080000\" />\n+      <int name=\"0\" value=\"999999998\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n       <int name=\"0\" value=\"4001141\" />\n@@ -14069,7 +14069,7 @@\n   </imgdir>\n   <imgdir name=\"9500320\">\n     <imgdir name=\"map\">\n-      <int name=\"0\" value=\"209080000\" />\n+      <int name=\"0\" value=\"999999998\" />\n     </imgdir>\n     <imgdir name=\"reward\" />\n     <string name=\"episode\" value=\" Lv. : Unknown\\nForm : Mammal\\nSpecial Trait : Looks just like a reindeer.\\n\\nSanta Cliff's once adored and loved pet. This Rudolf that used to live with Santa Cliff in Happyville came out for a walk on its own and lost its way back home. Some has claimed that this Rudolf has been seen around Maple World which sounds quite likely considering that it travels fast and tends to be curious about everything; however, it is nowhere to be found. Cliff is still clinging onto hope that his Rudolph will one day come back to his arms, but he hasn't had any luck.\\nBecause it looks a lot like the reindeers that live in Mu Lung, there have been countless false notifications, claiming that Rudolph has been found. Remember to contact Cliff in Happyville if you happen to find the lost Rudolph; it has a big, round red nose so you'll know when you see it!\" />"}]}]},
