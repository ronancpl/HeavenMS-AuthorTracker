{"fetchDate": "2019-12-19", "content": [{"sha": "ad812de0012d48c28a8493d6205c62122bb2933a", "node_id": "MDY6Q29tbWl0NDUwODIwMjM6YWQ4MTJkZTAwMTJkNDhjMjhhODQ5M2Q2MjA1YzYyMTIyYmIyOTMzYQ==", "commit": {"author": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2018-07-14T16:10:40Z"}, "committer": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2018-07-14T16:10:40Z"}, "message": "Improved login phase + C. scheduler & EXP share & MoveLifeHandler fix\n\nRefactored login system, caching account data, merging some queries and using way less DB queries on login.\nServer now uses associative tables for character-account and character-world, lowering considerably usage of some DB queries.\nFixed getPartyMembersOnSameMap method trying to access disconnected members, promptly throwing nulls.\nImproved EXP distribution system, now crediting damage-contributing EXP to the party when the player is not present on the map.\nImproved the \"View-all-chars\" feature mechanics, not so often disconnecting players for server response timeout anymore.\nImproved Mystic Doors mechanics, now correctly spawning party players at actual door location on the off-town map.\nFixed \"fly\" command not working properly. All characters of that account are able to use this mechanic (client session limitation).\nFixed a critical deadlock issue on the new channel scheduler system.\nFixed some mobs not using skills, issue brought on the latest MoveLifeHandler update.\nImproved slightly skill/movement synergy on the MoveLifeHandler responses.\nGMs no longer creates Hall-of-fame PlayerNPCs when reaching max class level.\nFixed monsterValue script method being triggered multiple times for party members.\nFixed pinkbean not dropping items inside expedition.\nMoved \"recharge\" command from Donator to JrGM.", "tree": {"sha": "1b9055477d3c6eee680200e1291a0acc2ff47546", "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/trees/1b9055477d3c6eee680200e1291a0acc2ff47546"}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/commits/ad812de0012d48c28a8493d6205c62122bb2933a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/ad812de0012d48c28a8493d6205c62122bb2933a", "html_url": "https://github.com/ronancpl/HeavenMS/commit/ad812de0012d48c28a8493d6205c62122bb2933a", "comments_url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/ad812de0012d48c28a8493d6205c62122bb2933a/comments", "author": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5dc16d0cabe3ccf695be6ed17807258d3a36267c", "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/5dc16d0cabe3ccf695be6ed17807258d3a36267c", "html_url": "https://github.com/ronancpl/HeavenMS/commit/5dc16d0cabe3ccf695be6ed17807258d3a36267c"}], "stats": {"total": 88500, "additions": 1869, "deletions": 86631}, "files": [{"sha": "7b1be7e003ea38c32906cc63085426548e70730a", "filename": "docs/issues.txt", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/docs/issues.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/docs/issues.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/issues.txt?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -21,7 +21,6 @@ Missing features list:\n - Miniroom tooltips (such as number of players in store/host awaiting game) not showing up properly.\n - Change name/World transfer.\n - Some pirate skills doesn't work for 3rd parties.\n-- Medal quests.\n - Cache frequently used SQL data.\n ---------------------------\n \n@@ -35,6 +34,7 @@ Missing features list:\n \n ---------------------------\n ** Quest **\n+- Family & Medal quests.\n ---------------------------\n \n "}, {"sha": "2f2affb4f8aa156bebfd70ac98e7194b89be82b9", "filename": "docs/mychanges_ptbr.txt", "status": "modified", "additions": 24, "deletions": 2, "changes": 26, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/docs/mychanges_ptbr.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/docs/mychanges_ptbr.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mychanges_ptbr.txt?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -6,7 +6,7 @@\n \tAbdula -> 9209000\n \n CUSTOM NPC SHOPS:\n-\tSpindle -> 9201082\n+\tAsia -> 2082014\n \tT-1337 -> 9201101\n \n LOGS:\n@@ -1107,4 +1107,26 @@ Melhorado libera\u00e7\u00e3o de recursos ao finalizar objeto MapleMonster.\n 03 - 04 Julho 2018,\n Adicionado server flag que permite usar clean slates mesmo em equipamentos sem slots vazios (onde falhou o scroll).\n Corrigido um poss\u00edvel ponto cr\u00edtico de deadlock com MapleServerHandler.\n-Adicionado portal SFX para v\u00e1rios portais scriptados que ainda faltavam o efeito.\n\\ No newline at end of file\n+Adicionado portal SFX para v\u00e1rios portais scriptados que ainda faltavam o efeito.\n+\n+08 - 10 Julho 2018,\n+Refatorado sistema de login, agora utilizando caches para manter dados recorrentes, diminuindo consideravelmente consultas a DB.\n+Server agora usa registros associativos de conta, personagem e mundo em seus objetos, diminuindo bastante o uso da DB e, por consequ\u00eancia, uma melhor fluidez em demais processos, mais not\u00e1veis aqueles referentes a fase de login.\n+Corrigido metodo que localiza membros de party no mesmo mapa tentando acessar poss\u00edvel campo \"map\", que fica nulo para jogadores desconectados.\n+\n+11 - 12 Julho 2018,\n+Otimizado chamadas a DB na fase de login, agora utilizando uma mesma query para recuperar dados de todos os personagens de uma dada conta (diminuindo drasticamente a quantidade de consultas a DB).\n+Melhorado sistema de distribuicao de EXP, agora creditando EXP aos membros de party presentes no mapa mesmo quando o jogador que contribuiu com a a\u00e7\u00e3o nao se encontra presente no mesmo.\n+Corrigido jogadores nao podendo usar portais apos logarem via \"view-all-chars\".\n+Corrigido cash shop inventory de Cygnus e Aran nao propagando itens de cash comprado para outros personagens de mesma classe base da mesma conta.\n+Melhorado mec\u00e2nica de Magic Doors, permitindo jogadores serem spawnados corretamente ao atravessar portais quando em party.\n+Corrigido comando \"fly\" nao atuando corretamente. Todos os personagens da conta poderao usar desta mec\u00e2nica.\n+Corrigido deadlock cr\u00edtico introduzido no sistema abstrato de temporizadores em channels.\n+Corrigido alguns mobs nao lan\u00e7ando skills, problema introduzido na \u00faltima atualiza\u00e7\u00e3o do MoveLifeHandler.\n+Ajustado MoveLifeHandler para melhor aplicar as skills/movimenta\u00e7\u00f5es dos mobs.\n+GMs nao mais geram playernpcs ao atingir level 200 (agora somente via comando).\n+Corrigido fun\u00e7\u00e3o monsterValue dos scripts de eventos sendo processado m\u00faltiplas vezes no cen\u00e1rio onde jogadores estao em party.\n+Corrigido pinkbean nao dropando itens dentro da expedi\u00e7\u00e3o.\n+\n+14 Julho 2018,\n+Movido \"recharge\" de Donator para JrGM.\n\\ No newline at end of file"}, {"sha": "e4ee83165d090cc1d0e390e472b802a152672ba6", "filename": "scripts/event/PinkBeanBattle.js", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/event/PinkBeanBattle.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/event/PinkBeanBattle.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/PinkBeanBattle.js?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -162,6 +162,12 @@ function playerRevive(eim, player) {\n     return true;\n }\n \n+function monsterRevive(eim, mob) {\n+        if(isPinkBean(mob)) {\n+                mob.enableDrops();\n+        }\n+}\n+\n function playerDisconnected(eim, player) {\n     if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n         eim.dropMessage(5, \"[Expedition] Either the leader has quit the expedition or there is no longer the minimum number of members required to continue it.\");"}, {"sha": "06180624c932ffd652657502b1539a81ff4fddf3", "filename": "scripts/map/onUserEnter/677000012.js", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/map/onUserEnter/677000012.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/map/onUserEnter/677000012.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/map/onUserEnter/677000012.js?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -0,0 +1,17 @@\n+importPackage(Packages.server.life);\n+\n+function start(ms) {\n+        var pos = new java.awt.Point(842, 0);\n+\tvar mobId = 9400633;\n+        var mobName = \"Astaroth\";\n+        \n+\tvar player = ms.getPlayer();\n+\tvar map = player.getMap();\n+\n+\tif(map.getMonsterById(mobId) != null){\n+\t\treturn;   \t       \n+\t}\n+\n+\tmap.spawnMonsterOnGroundBelow(MapleLifeFactory.getMonster(mobId), pos);\n+\tplayer.message(mobName + \" has appeared!\");\n+}\n\\ No newline at end of file"}, {"sha": "1d501ebf8c2f75838e4b4ff366848e27882cbe4a", "filename": "scripts/npc/1032001.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/1032001.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/1032001.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1032001.js?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -50,7 +50,7 @@ function start() {\n             if (cm.getLevel() >= 8 && cm.canGetFirstJob(jobType))\n                 cm.sendNext(\"Want to be a magician? There are some standards to meet. because we can't just accept EVERYONE in... #bYour level should be at least 8#k, with getting INT as your top priority. Let's see.\");\n             else {\n-                cm.sendOk(\"Train a bit more until you reach #blevel 10, \" + cm.getFirstJobStatRequirement(jobType) + \"#k and I can show you the way of the #rMagician#k.\");\n+                cm.sendOk(\"Train a bit more until you reach #blevel 8, \" + cm.getFirstJobStatRequirement(jobType) + \"#k and I can show you the way of the #rMagician#k.\");\n                 cm.dispose();\n             }\n         } else if (cm.getLevel() >= 30 && cm.getJobId() == 200) {"}, {"sha": "c50775950a36c934f0f4c931639c3d6c53205e8d", "filename": "scripts/npc/2071012.js", "status": "added", "additions": 47, "deletions": 0, "changes": 47, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/2071012.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/2071012.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2071012.js?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -0,0 +1,47 @@\n+/* A Familiar Lady\n+    Hidden Street : Gloomy Forest (922220000)\n+ */\n+\n+var status;\n+ \n+function start() {\n+    status = -1;\n+    action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+        if (mode == -1) {\n+            cm.dispose();\n+        } else {\n+            if (mode == 0 && type > 0) {\n+                cm.dispose();\n+                return;\n+            }\n+            if (mode == 1)\n+                status++;\n+            else\n+                status--;\n+\n+            if(status == 0) {\n+                if(cm.getQuestProgress(23647, 0) != 0) {\n+                    cm.dispose();\n+                    return;\n+                }\n+                \n+                if(!cm.haveItem(4031793, 1)) {\n+                    cm.sendOk(\"Umm... Hey... Would you help me find a #bsoft and shiny silver fur#k that I lost on the woods? I need it, I need it, I need it sooooo much!\");\n+                    cm.dispose();\n+                    return;\n+                }\n+                \n+                cm.sendYesNo(\"Hey... Umm... Would you help me find a #bsoft and shiny silver fur#k that I lost on the woods? I need it, I need it, I need it sooooo much! ... Oh you found it!!! Will you give it to me?\");\n+            } else if(status == 1) {\n+                cm.sendNext(\"Teehehee~ That's your reward for taking it from me, serves you well.\");\n+                cm.gainItem(4031793, -1);\n+                cm.gainFame(-5);\n+                cm.setQuestProgress(23647, 0, 1);\n+                \n+                cm.dispose();\n+            }\n+        }\n+}\n\\ No newline at end of file"}, {"sha": "fe125a47b7600eea0fe73b1c3fbb02ee7b1fd061", "filename": "scripts/npc/9201000.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201000.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201000.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201000.js?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -1,5 +1,5 @@\n /*\n-    This file is part of the HeavenMS (MapleSolaxiaV2) MapleStory Server\n+    This file is part of the HeavenMS MapleStory Server\n     Copyleft (L) 2017 RonanLana\n \n     This program is free software: you can redistribute it and/or modify"}, {"sha": "d654fed7716b9501e957d67878cffeb0190576df", "filename": "scripts/npc/9201001.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201001.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201001.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201001.js?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -1,5 +1,5 @@\n /*\n-    This file is part of the HeavenMS (MapleSolaxiaV2) MapleStory Server\n+    This file is part of the HeavenMS MapleStory Server\n     Copyleft (L) 2017 RonanLana\n \n     This program is free software: you can redistribute it and/or modify"}, {"sha": "6f9345bd262d8ba0d7543cdabab0a628cc34973f", "filename": "scripts/npc/9201002.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201002.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201002.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201002.js?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -1,5 +1,5 @@\n /*\n-    This file is part of the HeavenMS (MapleSolaxiaV2) MapleStory Server\n+    This file is part of the HeavenMS MapleStory Server\n     Copyleft (L) 2017 RonanLana\n \n     This program is free software: you can redistribute it and/or modify"}, {"sha": "6447f313c818841fdfeb94acc735c22e31c04bda", "filename": "scripts/npc/9201004.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201004.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201004.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201004.js?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -1,5 +1,5 @@\n /*\n-    This file is part of the HeavenMS (MapleSolaxiaV2) MapleStory Server\n+    This file is part of the HeavenMS MapleStory Server\n     Copyleft (L) 2017 RonanLana\n \n     This program is free software: you can redistribute it and/or modify"}, {"sha": "762645ecf0cb90fb154d776470723880156e3634", "filename": "scripts/npc/9201005.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201005.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201005.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201005.js?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -1,5 +1,5 @@\n /*\n-    This file is part of the HeavenMS (MapleSolaxiaV2) MapleStory Server\n+    This file is part of the HeavenMS MapleStory Server\n     Copyleft (L) 2017 RonanLana\n \n     This program is free software: you can redistribute it and/or modify"}, {"sha": "e9d6d410ca1d2d3b90f6ed0304f6c78d45ffa16c", "filename": "scripts/npc/9201008.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201008.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201008.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201008.js?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -1,5 +1,5 @@\n /*\n-    This file is part of the HeavenMS (MapleSolaxiaV2) MapleStory Server\n+    This file is part of the HeavenMS MapleStory Server\n     Copyleft (L) 2017 RonanLana\n \n     This program is free software: you can redistribute it and/or modify"}, {"sha": "01fbba44d11dd935a03ac759e792c0af0c644a30", "filename": "scripts/npc/9201011.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201011.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201011.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201011.js?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -1,5 +1,5 @@\n /*\n-    This file is part of the HeavenMS (MapleSolaxiaV2) MapleStory Server\n+    This file is part of the HeavenMS MapleStory Server\n     Copyleft (L) 2017 RonanLana\n \n     This program is free software: you can redistribute it and/or modify"}, {"sha": "0028013dca3b89ae2bdea9db6ee085b98157f109", "filename": "scripts/npc/9201012.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201012.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201012.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201012.js?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -1,5 +1,5 @@\n /*\n-    This file is part of the HeavenMS (MapleSolaxiaV2) MapleStory Server\n+    This file is part of the HeavenMS MapleStory Server\n     Copyleft (L) 2017 RonanLana\n \n     This program is free software: you can redistribute it and/or modify"}, {"sha": "d654fed7716b9501e957d67878cffeb0190576df", "filename": "scripts/npc/9201023.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201023.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201023.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201023.js?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -1,5 +1,5 @@\n /*\n-    This file is part of the HeavenMS (MapleSolaxiaV2) MapleStory Server\n+    This file is part of the HeavenMS MapleStory Server\n     Copyleft (L) 2017 RonanLana\n \n     This program is free software: you can redistribute it and/or modify"}, {"sha": "d654fed7716b9501e957d67878cffeb0190576df", "filename": "scripts/npc/9201024.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201024.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201024.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201024.js?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -1,5 +1,5 @@\n /*\n-    This file is part of the HeavenMS (MapleSolaxiaV2) MapleStory Server\n+    This file is part of the HeavenMS MapleStory Server\n     Copyleft (L) 2017 RonanLana\n \n     This program is free software: you can redistribute it and/or modify"}, {"sha": "d654fed7716b9501e957d67878cffeb0190576df", "filename": "scripts/npc/9201025.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201025.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201025.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201025.js?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -1,5 +1,5 @@\n /*\n-    This file is part of the HeavenMS (MapleSolaxiaV2) MapleStory Server\n+    This file is part of the HeavenMS MapleStory Server\n     Copyleft (L) 2017 RonanLana\n \n     This program is free software: you can redistribute it and/or modify"}, {"sha": "d654fed7716b9501e957d67878cffeb0190576df", "filename": "scripts/npc/9201026.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201026.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201026.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201026.js?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -1,5 +1,5 @@\n /*\n-    This file is part of the HeavenMS (MapleSolaxiaV2) MapleStory Server\n+    This file is part of the HeavenMS MapleStory Server\n     Copyleft (L) 2017 RonanLana\n \n     This program is free software: you can redistribute it and/or modify"}, {"sha": "d654fed7716b9501e957d67878cffeb0190576df", "filename": "scripts/npc/9201027.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201027.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201027.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201027.js?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -1,5 +1,5 @@\n /*\n-    This file is part of the HeavenMS (MapleSolaxiaV2) MapleStory Server\n+    This file is part of the HeavenMS MapleStory Server\n     Copyleft (L) 2017 RonanLana\n \n     This program is free software: you can redistribute it and/or modify"}, {"sha": "2066d213af5308e163daae473452f874ea80b8b0", "filename": "scripts/npc/9201049.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201049.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201049.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201049.js?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -1,5 +1,5 @@\n /*\n-    This file is part of the HeavenMS (MapleSolaxiaV2) MapleStory Server\n+    This file is part of the HeavenMS MapleStory Server\n     Copyleft (L) 2017 RonanLana\n \n     This program is free software: you can redistribute it and/or modify"}, {"sha": "8f6f9c8e6ea277c4ff92f184742fd79a140437d2", "filename": "scripts/npc/9201133.js", "status": "added", "additions": 45, "deletions": 0, "changes": 45, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201133.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9201133.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201133.js?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -0,0 +1,45 @@\n+var map = 677000010;\n+var quest = 28283;\n+var status = -1;\n+var inHuntingGround;\n+\n+function start(mode, type, selection) {\n+        inHuntingGround = (cm.getMapId() >= 677000010 && cm.getMapId() <= 677000012);\n+\taction(1, 0, 0);        \n+}\n+\n+function action(mode, type, selection) {\n+    if (mode == 1) {\n+\tstatus++;\n+    } else {\n+\tcm.dispose();\n+\treturn;\n+    }\n+    if (status == 0) {\n+        if(!inHuntingGround) {\n+            if (cm.isQuestStarted(quest)) {\n+                if(!cm.getPlayer().haveItemEquipped(1003036)) {\n+                    cm.sendOk(\"The path ahead has a weird stench... Equip the #rgas mask#k before entering.\");\n+                    cm.dispose();\n+                    return;\n+                }\n+\n+                cm.sendYesNo(\"Would you like to move to #b#m\" + map + \"##k?\");\n+            } else {\n+                cm.sendOk(\"The entrance is blocked by a strange force.\");\n+                cm.dispose();\n+            }\n+        } else {\n+            if(cm.getMapId() == 677000011) {\n+                map = 677000012;\n+                cm.sendYesNo(\"Would you like to move to #b#m\" + map + \"##k?\");\n+            } else {\n+                map = 105050400;\n+                cm.sendYesNo(\"Would you like to #bexit this place#k?\");\n+            }\n+        }\n+    } else {\n+        cm.warp(map, 0);\n+\tcm.dispose();\n+    }\n+}\n\\ No newline at end of file"}, {"sha": "6d30fe057817d4b0dd234e138d3376db3b13ba61", "filename": "scripts/npc/9977777.js", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9977777.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/9977777.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9977777.js?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -156,6 +156,7 @@ function writeFeatureTab_Serverpotentials() {\n         addFeature(\"Custom jail system.\");\n         addFeature(\"Custom buyback system, uses mesos / NX, via MTS.\");\n         addFeature(\"Delete Character.\");\n+        addFeature(\"Smooth view-all-char, now showing all account chars.\");\n         addFeature(\"Autosaver (periodically saves player's data on DB).\");\n         addFeature(\"Fixed and randomized HP/MP growth rate available.\");\n         addFeature(\"Prevented 'NPC gone after some uptime' issue.\");\n@@ -199,6 +200,7 @@ function writeFeatureTab_Project() {\n         addFeature(\"Uncovered many opcodes throughout the source.\");\n         addFeature(\"Reviewed many Java aspects that needed attention.\");\n         addFeature(\"Reviewed SQL data, eliminating duplicated entries.\");\n+        addFeature(\"Improved login phase, using cache over DB queries.\");\n         addFeature(\"Protected many flaws with login management system.\");\n         addFeature(\"Developed many survey tools for content profiling.\");\n         addFeature(\"ThreadTracker: runtime tool for deadlock detection.\");"}, {"sha": "e0ad2d6aceb739d0a5b801fbe8c5ce1a65337ec1", "filename": "scripts/npc/commands.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/commands.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/npc/commands.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/commands.js?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -162,6 +162,7 @@ function writeHeavenMSCommandsLv2() {    //JrGM\n         comm_cursor = comm_lv2;\n         desc_cursor = desc_lv2;\n \n+        addCommand(\"recharge\", \"\");\n         addCommand(\"whereami\", \"\");\n         addCommand(\"hide\", \"\");\n         addCommand(\"unhide\", \"\");\n@@ -205,7 +206,6 @@ function writeHeavenMSCommandsLv1() {    //Donator\n         addCommand(\"whodrops\", \"\");\n         addCommand(\"buffme\", \"\");\n         addCommand(\"goto\", \"\");\n-        addCommand(\"recharge\", \"\");\n }\n \n function writeHeavenMSCommandsLv0() {    //Common"}, {"sha": "c9532a08d50299cb6f3e30e4188a7e8907080ee8", "filename": "scripts/portal/foxLaidy_map.js", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/portal/foxLaidy_map.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/scripts/portal/foxLaidy_map.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/foxLaidy_map.js?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -1,4 +1,10 @@\n function enter(pi) {\n-\tpi.playPortalSound(); pi.warp(222010200, \"east00\");\n+        if(!(pi.isQuestStarted(3647) && pi.haveItem(4031793, 1))) {\n+            pi.playPortalSound(); pi.warp(222010200, \"east00\");\n+        } else {\n+            if(!pi.isQuestStarted(23647)) pi.forceStartQuest(23647);\n+            pi.playPortalSound(); pi.warp(922220000, \"east00\");\n+        }\n+        \n \treturn true;\n }"}, {"sha": "4998b029af367b852c29b85ab42489ccfeba37fb", "filename": "sql/db_drops.sql", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/sql/db_drops.sql", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/sql/db_drops.sql", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/sql/db_drops.sql?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -19288,8 +19288,7 @@ USE `heavenms`;\n (4230117, 2382055, 1, 1, 0, 10000),\n (4230118, 2382067, 1, 1, 0, 10000),\n (4240000, 2383011, 1, 1, 0, 10000),\n-(1210102, 4001354, 1, 1, 28209, 10000),\n-(2110200, 4001368, 1, 1, 28258, 10000),\n+(1210102, 4001354, 1, 1, 28209, 80000),\n (1110101, 4031773, 1, 1, 2145, 80000),\n (1130100, 4031773, 1, 1, 2145, 80000),\n (1140100, 4031773, 1, 1, 2145, 80000),\n@@ -19811,13 +19810,14 @@ USE `heavenms`;\n (9400120, 2290109, 1, 1, 0, 10000),\n (3210100, 4001000, 1, 1, 2017, 20000),\n (4300013, 4000538, 1, 1, 2288, 400000),\n-(2130100, 4001367, 1, 1, 28257, 10000),\n-(1110100, 4001369, 1, 1, 28259, 10000),\n-(1210101, 4001370, 1, 1, 28260, 10000),\n-(1110101, 4001371, 1, 1, 28261, 10000),\n+(2130100, 4001367, 1, 1, 28257, 40000),\n+(2110200, 4001368, 1, 1, 28258, 40000),\n+(1110100, 4001369, 1, 1, 28259, 40000),\n+(1210101, 4001370, 1, 1, 28260, 40000),\n+(1110101, 4001371, 1, 1, 28261, 40000),\n (3300003, 4001317, 1, 1, 2326, 20000),\n-(1210102, 4001364, 1, 1, 28192, 10000),\n-(1120100, 4001365, 1, 1, 28192, 10000),\n+(1210102, 4001364, 1, 1, 28192, 80000),\n+(1120100, 4001365, 1, 1, 28192, 80000),\n (1210103, 4032137, 1, 1, 20711, 40000),\n (1210103, 4032139, 1, 1, 20713, 40000),\n (1210101, 4001357, 1, 1, 28244, 70000),"}, {"sha": "38b1600f35b55a6718d6ccd0c2c6ba942d045fdd", "filename": "src/client/MapleCharacter.java", "status": "modified", "additions": 134, "deletions": 14, "changes": 148, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/client/MapleCharacter.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/client/MapleCharacter.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleCharacter.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -1350,7 +1350,7 @@ public void changeMap(final MapleMap target, final Point pos) {\n         \n         eventChangedMap(target.getId());\n         MapleMap to = getWarpMap(target.getId());\n-        changeMapInternal(to, pos, MaplePacketCreator.getWarpToMap(to, 0x80, this));//Position :O (LEFT)\n+        changeMapInternal(to, pos, MaplePacketCreator.getWarpToMap(to, 0x80, pos, this));\n         canWarpMap = false;\n         \n         canWarpCounter--;\n@@ -1394,6 +1394,25 @@ private boolean buffMapProtection() {\n         return false;\n     }\n     \n+    public List<Integer> getLastVisitedMapids() {\n+        List<Integer> lastVisited = new ArrayList<>(5);\n+        \n+        petLock.lock();\n+        try {\n+            for(WeakReference<MapleMap> lv : lastVisitedMaps) {\n+                MapleMap lvm = lv.get();\n+                \n+                if(lvm != null) {\n+                    lastVisited.add(lvm.getId());\n+                }\n+            }\n+        } finally {\n+            petLock.unlock();\n+        }\n+        \n+        return lastVisited;\n+    }\n+    \n     public void updateMapDropsUponPartyOperation(List<MapleCharacter> exPartyMembers) {\n         List<WeakReference<MapleMap>> mapids;\n         \n@@ -1890,7 +1909,7 @@ public void deleteBuddy(int otherCid) {\n     \n     public static boolean deleteCharFromDB(MapleCharacter player, int senderAccId) {\n             int cid = player.getId();\n-            if(!Server.getInstance().haveCharacterid(senderAccId, cid)) {\n+            if(!Server.getInstance().haveCharacterEntry(senderAccId, cid)) {\n                     return false;\n             }\n             \n@@ -2050,7 +2069,7 @@ public static boolean deleteCharFromDB(MapleCharacter player, int senderAccId) {\n                     }\n                     \n                     con.close();\n-                    Server.getInstance().deleteCharacterid(accId, cid);\n+                    Server.getInstance().deleteCharacterEntry(accId, cid);\n                     return true;\n             } catch (SQLException e) {\n                     e.printStackTrace();\n@@ -4583,7 +4602,8 @@ public int getPartyId() {\n             if(party != null) {\n                 for(MaplePartyCharacter partyMembers: party.getMembers()) {\n                     MapleCharacter chr = partyMembers.getPlayer();\n-                    if(chr.getMap().hashCode() == thisMapHash && chr.isLoggedinWorld()) list.add(chr);\n+                    MapleMap chrMap = chr.getMap();\n+                    if(chrMap != null && chrMap.hashCode() == thisMapHash && chr.isLoggedinWorld()) list.add(chr);\n                 }\n             }\n         } finally {\n@@ -5284,15 +5304,15 @@ public boolean isBuffFrom(MapleBuffStat stat, Skill skill) {\n             effLock.unlock();\n         }\n     }\n-\n-    public boolean isCygnus() {\n-        return getJobType() == 1;\n-    }\n     \n     public boolean isGmJob() {\n         int jn = job.getJobNiche();\n         return jn >= 8 && jn <= 9;\n     }\n+    \n+    public boolean isCygnus() {\n+        return getJobType() == 1;\n+    }\n \n     public boolean isAran() {\n         return job.getId() >= 2000 && job.getId() <= 2112;\n@@ -5423,7 +5443,7 @@ public void levelUp(boolean takeexp) {\n         maxmp = Math.min(30000, maxmp);\n         if (level == 200) {\n             exp.set(0);\n-            if(ServerConstants.PLAYERNPC_AUTODEPLOY) MaplePlayerNPC.spawnPlayerNPC(GameConstants.getHallOfFameMapid(job), this);\n+            if(ServerConstants.PLAYERNPC_AUTODEPLOY && !this.isGM()) MaplePlayerNPC.spawnPlayerNPC(GameConstants.getHallOfFameMapid(job), this);\n         }\n         recalcLocalStats();\n         hp = localmaxhp;\n@@ -5787,6 +5807,104 @@ public void addPlayerRing(MapleRing ring) {\n         }\n     }\n     \n+    public static MapleCharacter loadCharacterEntryFromDB(ResultSet rs, List<Item> equipped) {\n+        MapleCharacter ret = new MapleCharacter();\n+        \n+        try {\n+            ret.accountid = rs.getInt(\"accountid\");\n+            ret.id = rs.getInt(\"id\");\n+            ret.name = rs.getString(\"name\");\n+            ret.gender = rs.getInt(\"gender\");\n+            ret.skinColor = MapleSkinColor.getById(rs.getInt(\"skincolor\"));\n+            ret.face = rs.getInt(\"face\");\n+            ret.hair = rs.getInt(\"hair\");\n+\n+            // skipping pets, probably unneeded here\n+\n+            ret.level = rs.getInt(\"level\");\n+            ret.job = MapleJob.getById(rs.getInt(\"job\"));\n+            ret.str = rs.getInt(\"str\");\n+            ret.dex = rs.getInt(\"dex\");\n+            ret.int_ = rs.getInt(\"int\");\n+            ret.luk = rs.getInt(\"luk\");\n+            ret.hp = rs.getInt(\"hp\");\n+            ret.maxhp = rs.getInt(\"maxhp\");\n+            ret.mp = rs.getInt(\"mp\");\n+            ret.maxmp = rs.getInt(\"maxmp\");\n+\n+            ret.remainingAp = rs.getInt(\"ap\");\n+            String[] skillPoints = rs.getString(\"sp\").split(\",\");\n+            for (int i = 0; i < ret.remainingSp.length; i++) {\n+                ret.remainingSp[i] = Integer.parseInt(skillPoints[i]);\n+            }\n+\n+            ret.exp.set(rs.getInt(\"exp\"));\n+            ret.fame = rs.getInt(\"fame\");\n+            ret.gachaexp.set(rs.getInt(\"gachaexp\"));\n+            ret.mapid = rs.getInt(\"map\");\n+            ret.initialSpawnPoint = rs.getInt(\"spawnpoint\");\n+            \n+            ret.gmLevel = rs.getInt(\"gm\");\n+            ret.world = rs.getByte(\"world\");\n+            ret.rank = rs.getInt(\"rank\");\n+            ret.rankMove = rs.getInt(\"rankMove\");\n+            ret.jobRank = rs.getInt(\"jobRank\");\n+            ret.jobRankMove = rs.getInt(\"jobRankMove\");\n+            \n+            MapleInventory inv = ret.inventory[MapleInventoryType.EQUIPPED.ordinal()];\n+            for (Item item : equipped) {\n+                inv.addItemFromDB(item);\n+            }\n+        } catch (SQLException sqle) {\n+            sqle.printStackTrace();\n+        }\n+        \n+        return ret;\n+    }\n+    \n+    public MapleCharacter generateCharacterEntry() {\n+        MapleCharacter ret = new MapleCharacter();\n+        \n+        ret.accountid = this.getAccountID();\n+        ret.id = this.getId();\n+        ret.name = this.getName();\n+        ret.gender = this.getGender();\n+        ret.skinColor = this.getSkinColor();\n+        ret.face = this.getFace();\n+        ret.hair = this.getHair();\n+        \n+        // skipping pets, probably unneeded here\n+        \n+        ret.level = this.getLevel();\n+        ret.job = this.getJob();\n+        ret.str = this.getStr();\n+        ret.dex = this.getDex();\n+        ret.int_ = this.getInt();\n+        ret.luk = this.getLuk();\n+        ret.hp = this.getHp();\n+        ret.maxhp = this.getMaxHp();\n+        ret.mp = this.getMp();\n+        ret.maxmp = this.getMaxMp();\n+        ret.remainingAp = this.getRemainingAp();\n+        ret.remainingSp = this.getRemainingSps();\n+        ret.exp.set(this.getExp());\n+        ret.fame = this.getFame();\n+        ret.gachaexp.set(this.getGachaExp());\n+        ret.mapid = this.getMapId();\n+        ret.initialSpawnPoint = this.getInitialSpawnpoint();\n+        \n+        ret.inventory[MapleInventoryType.EQUIPPED.ordinal()] = this.getInventory(MapleInventoryType.EQUIPPED);\n+        \n+        ret.gmLevel = this.gmLevel();\n+        ret.world = this.getWorld();\n+        ret.rank = this.getRank();\n+        ret.rankMove = this.getRankMove();\n+        ret.jobRank = this.getJobRank();\n+        ret.jobRankMove = this.getJobRankMove();\n+        \n+        return ret;\n+    }\n+    \n     public static MapleCharacter loadCharFromDB(int charid, MapleClient client, boolean channelserver) throws SQLException {\n         try {\n             MapleCharacter ret = new MapleCharacter();\n@@ -6845,31 +6963,33 @@ public final boolean insertNewChar(CharacterFactoryRecipe recipe) {\n         }\n     }\n \n-    public void saveToDB() {\n+    public void saveCharToDB() {\n         if(ServerConstants.USE_AUTOSAVE) {\n             Runnable r = new Runnable() {\n                 @Override\n                 public void run() {\n-                    saveToDB(true);\n+                    saveCharToDB(true);\n                 }\n             };\n             \n             Thread t = new Thread(r);  //spawns a new thread to deal with this\n             t.start();\n         } else {\n-            saveToDB(true);\n+            saveCharToDB(true);\n         }\n     }\n     \n     //ItemFactory saveItems and monsterbook.saveCards are the most time consuming here.\n-    public synchronized void saveToDB(boolean notAutosave) {\n+    public synchronized void saveCharToDB(boolean notAutosave) {\n         if(!loggedIn) return;\n         \n         Calendar c = Calendar.getInstance();\n         \n         if(notAutosave) FilePrinter.print(FilePrinter.SAVING_CHARACTER, \"Attempting to save \" + name + \" at \" + c.getTime().toString());\n         else FilePrinter.print(FilePrinter.AUTOSAVING_CHARACTER, \"Attempting to autosave \" + name + \" at \" + c.getTime().toString());\n         \n+        Server.getInstance().updateCharacterEntry(this);\n+        \n         Connection con = null;\n         try {\n             con = DatabaseConnection.getConnection();\n@@ -7693,7 +7813,7 @@ public boolean gainSlots(int type, int slots, boolean update) {\n         if (slots <= 96) {\n             inventory[type].setSlotLimit(slots);\n \n-            this.saveToDB();\n+            this.saveCharToDB();\n             if (update) {\n                 client.announce(MaplePacketCreator.updateInventorySlotLimit(type, slots));\n             }"}, {"sha": "f8181b6b65bec355e6673be0877d32109a123871", "filename": "src/client/MapleClient.java", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/client/MapleClient.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/client/MapleClient.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleClient.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -841,7 +841,7 @@ public final synchronized void disconnect(boolean shutdown, boolean cashshop) {/\n                             \n                                 removePlayer();\n                                 player.saveCooldowns();\n-                                player.saveToDB(true);\n+                                player.saveCharToDB(true);\n                             \n                                 clear();\n \t\t\t\treturn;\n@@ -924,7 +924,7 @@ public final synchronized void disconnect(boolean shutdown, boolean cashshop) {/\n                                         //getChannelServer().removePlayer(player); already being done\n                                         \n                                         player.saveCooldowns();\n-                                        player.saveToDB(true);\n+                                        player.saveCharToDB(true);\n \t\t\t\t\tif (player != null) {//no idea, occur :(\n \t\t\t\t\t\tplayer.empty(false);\n \t\t\t\t\t}\n@@ -933,7 +933,7 @@ public final synchronized void disconnect(boolean shutdown, boolean cashshop) {/\n                                         getChannelServer().removePlayer(player);\n \n                                         player.saveCooldowns();\n-                                        player.saveToDB();\n+                                        player.saveCharToDB();\n                                 }\n \t\t\t}\n \t\t}"}, {"sha": "37c93969db7d44dfe3cdcff4533933a1b6a38415", "filename": "src/client/command/Commands.java", "status": "modified", "additions": 23, "deletions": 23, "changes": 46, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/client/command/Commands.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/client/command/Commands.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/Commands.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -784,26 +784,6 @@ public static boolean executeHeavenMsCommandLv1(Channel cserv, Server srv, Maple\n \t\t\t\tplayer.dropMessage(5, \"That map does not exist.\");\n \t\t\t}\n                                 break;\n-\t\t\t\t\t\t\t\t\n-                case \"recharge\":\n-                        MapleItemInformationProvider ii = MapleItemInformationProvider.getInstance();\n-                        for (Item torecharge : c.getPlayer().getInventory(MapleInventoryType.USE).list()) {\n-                                if (ItemConstants.isThrowingStar(torecharge.getItemId())){\n-                                        torecharge.setQuantity(ii.getSlotMax(c, torecharge.getItemId()));\n-                                        c.getPlayer().forceUpdateItem(torecharge);\n-                                } else if (ItemConstants.isArrow(torecharge.getItemId())){\n-                                        torecharge.setQuantity(ii.getSlotMax(c, torecharge.getItemId()));\n-                                        c.getPlayer().forceUpdateItem(torecharge);\n-                                } else if (ItemConstants.isBullet(torecharge.getItemId())){\n-                                        torecharge.setQuantity(ii.getSlotMax(c, torecharge.getItemId()));\n-                                        c.getPlayer().forceUpdateItem(torecharge);\n-                                } else if (ItemConstants.isConsumable(torecharge.getItemId())){\n-                                        torecharge.setQuantity(ii.getSlotMax(c, torecharge.getItemId()));\n-                                        c.getPlayer().forceUpdateItem(torecharge);\n-                                }\n-                        }\n-                        player.dropMessage(5, \"USE Recharged.\");\n-                                break;\n \t\t            \n                 default:\n                         return false;\n@@ -818,6 +798,26 @@ public static boolean executeHeavenMsCommandLv2(Channel cserv, Server srv, Maple\n                 Skill skill;\n             \n                 switch(sub[0]) {\n+                case \"recharge\":\n+                        MapleItemInformationProvider mii = MapleItemInformationProvider.getInstance();\n+                        for (Item torecharge : c.getPlayer().getInventory(MapleInventoryType.USE).list()) {\n+                                if (ItemConstants.isThrowingStar(torecharge.getItemId())){\n+                                        torecharge.setQuantity(mii.getSlotMax(c, torecharge.getItemId()));\n+                                        c.getPlayer().forceUpdateItem(torecharge);\n+                                } else if (ItemConstants.isArrow(torecharge.getItemId())){\n+                                        torecharge.setQuantity(mii.getSlotMax(c, torecharge.getItemId()));\n+                                        c.getPlayer().forceUpdateItem(torecharge);\n+                                } else if (ItemConstants.isBullet(torecharge.getItemId())){\n+                                        torecharge.setQuantity(mii.getSlotMax(c, torecharge.getItemId()));\n+                                        c.getPlayer().forceUpdateItem(torecharge);\n+                                } else if (ItemConstants.isConsumable(torecharge.getItemId())){\n+                                        torecharge.setQuantity(mii.getSlotMax(c, torecharge.getItemId()));\n+                                        c.getPlayer().forceUpdateItem(torecharge);\n+                                }\n+                        }\n+                        player.dropMessage(5, \"USE Recharged.\");\n+                                break;\n+                    \n                 case \"whereami\":\n \t\t\tplayer.yellowMessage(\"Map ID: \" + player.getMap().getId());\n \t\t\tplayer.yellowMessage(\"Players on this map:\");\n@@ -1653,7 +1653,7 @@ public static boolean executeHeavenMsCommandLv3(Channel cserv, Server srv, Maple\n                         }\n                 break;\n                     \n-                case \"fly\":\n+                case \"fly\": // fly option will become available for any character of that account\n                         if (sub.length < 2) {\n \t\t\t\tplayer.yellowMessage(\"Syntax: !fly <on/off>\");\n \t\t\t\tbreak;\n@@ -2776,7 +2776,7 @@ public static boolean executeHeavenMsCommandLv6(Channel cserv, Server srv, Maple\n \t\t\t\t\tplayer.getMap().removePlayer(player);//LOL FORGOT THIS ><                    \n \t\t\t\t\tc.updateLoginState(MapleClient.LOGIN_SERVER_TRANSITION);\n \t\t\t\t\tplayer.setWorld(worldb);\n-\t\t\t\t\tplayer.saveToDB();//To set the new world :O (true because else 2 player instances are created, one in both worlds)\n+\t\t\t\t\tplayer.saveCharToDB();//To set the new world :O (true because else 2 player instances are created, one in both worlds)\n \t\t\t\t\tc.announce(MaplePacketCreator.getChannelChange(InetAddress.getByName(socket[0]), Integer.parseInt(socket[1])));\n \t\t\t\t} catch (UnknownHostException | NumberFormatException ex) {\n                                         ex.printStackTrace();\n@@ -2791,7 +2791,7 @@ public static boolean executeHeavenMsCommandLv6(Channel cserv, Server srv, Maple\n                     case \"saveall\":\n \t\t\tfor (World world : Server.getInstance().getWorlds()) {\n \t\t\t\tfor (MapleCharacter chr : world.getPlayerStorage().getAllCharacters()) {\n-\t\t\t\t\tchr.saveToDB();\n+\t\t\t\t\tchr.saveCharToDB();\n \t\t\t\t}\n \t\t\t}\n \t\t\tString message = player.getName() + \" used !saveall.\";"}, {"sha": "ba84b0e29692273a2f637c5c4df9ce496060dd9c", "filename": "src/client/creator/CharacterFactory.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/client/creator/CharacterFactory.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/client/creator/CharacterFactory.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/creator/CharacterFactory.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -86,7 +86,7 @@ protected synchronized static int createNewCharacter(MapleClient c, String name,\n                 }\n                 c.announce(MaplePacketCreator.addNewCharEntry(newchar));\n \n-                Server.getInstance().createCharacterid(newchar.getAccountID(), newchar.getId(), newchar.getWorld());\n+                Server.getInstance().createCharacterEntry(newchar);\n                 Server.getInstance().broadcastGMMessage(c.getWorld(), MaplePacketCreator.sendYellowTip(\"[NEW CHAR]: \" + c.getAccountName() + \" has created a new character with IGN \" + name));\n                 \n                 return 0;"}, {"sha": "f802ae021a40f15f07d8871e73d396630d81a354", "filename": "src/client/inventory/ItemFactory.java", "status": "modified", "additions": 66, "deletions": 58, "changes": 124, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/client/inventory/ItemFactory.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/client/inventory/ItemFactory.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/inventory/ItemFactory.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -42,8 +42,8 @@\n     INVENTORY(1, false),\n     STORAGE(2, true),\n     CASH_EXPLORER(3, true),\n-    CASH_CYGNUS(4, false),\n-    CASH_ARAN(5, false),\n+    CASH_CYGNUS(4, true),\n+    CASH_ARAN(5, true),\n     MERCHANT(6, false);\n     private final int value;\n     private final boolean account;\n@@ -72,6 +72,68 @@ public synchronized void saveItems(List<Pair<Item, MapleInventoryType>> items, L\n         else saveItemsMerchant(items, bundlesList, id, con);\n     }\n     \n+    private static Equip loadEquipFromResultSet(ResultSet rs) throws SQLException {\n+        Equip equip = new Equip(rs.getInt(\"itemid\"), (short) rs.getInt(\"position\"));\n+        equip.setOwner(rs.getString(\"owner\"));\n+        equip.setQuantity((short) rs.getInt(\"quantity\"));\n+        equip.setAcc((short) rs.getInt(\"acc\"));\n+        equip.setAvoid((short) rs.getInt(\"avoid\"));\n+        equip.setDex((short) rs.getInt(\"dex\"));\n+        equip.setHands((short) rs.getInt(\"hands\"));\n+        equip.setHp((short) rs.getInt(\"hp\"));\n+        equip.setInt((short) rs.getInt(\"int\"));\n+        equip.setJump((short) rs.getInt(\"jump\"));\n+        equip.setVicious((short) rs.getInt(\"vicious\"));\n+        equip.setFlag((byte) rs.getInt(\"flag\"));\n+        equip.setLuk((short) rs.getInt(\"luk\"));\n+        equip.setMatk((short) rs.getInt(\"matk\"));\n+        equip.setMdef((short) rs.getInt(\"mdef\"));\n+        equip.setMp((short) rs.getInt(\"mp\"));\n+        equip.setSpeed((short) rs.getInt(\"speed\"));\n+        equip.setStr((short) rs.getInt(\"str\"));\n+        equip.setWatk((short) rs.getInt(\"watk\"));\n+        equip.setWdef((short) rs.getInt(\"wdef\"));\n+        equip.setUpgradeSlots((byte) rs.getInt(\"upgradeslots\"));\n+        equip.setLevel((byte) rs.getByte(\"level\"));\n+        equip.setItemExp(rs.getInt(\"itemexp\"));\n+        equip.setItemLevel(rs.getByte(\"itemlevel\"));\n+        equip.setExpiration(rs.getLong(\"expiration\"));\n+        equip.setGiftFrom(rs.getString(\"giftFrom\"));\n+        equip.setRingId(rs.getInt(\"ringid\"));\n+        \n+        return equip;\n+    }\n+    \n+    public static List<Pair<Item, Integer>> loadEquippedItems(int id, boolean isAccount, boolean login) throws SQLException {\n+        List<Pair<Item, Integer>> items = new ArrayList<>();\n+        \n+        StringBuilder query = new StringBuilder();\n+        query.append(\"SELECT * FROM \");\n+        query.append(\"(SELECT id, accountid FROM characters) AS accountterm \");\n+        query.append(\"RIGHT JOIN \");\n+        query.append(\"(SELECT * FROM (`inventoryitems` LEFT JOIN `inventoryequipment` USING(`inventoryitemid`))) AS equipterm\");\n+        query.append(\" ON accountterm.id=equipterm.characterid \");\n+        query.append(\"WHERE accountterm.`\");\n+        query.append(isAccount ? \"accountid\" : \"characterid\");\n+        query.append(\"` = ?\");\n+        query.append(login ? \" AND `inventorytype` = \" + MapleInventoryType.EQUIPPED.getType() : \"\");\n+        \n+        try (Connection con = DatabaseConnection.getConnection()) {\n+            try (PreparedStatement ps = con.prepareStatement(query.toString())) {\n+                ps.setInt(1, id);\n+                \n+                try (ResultSet rs = ps.executeQuery()) {\n+                    while (rs.next()) {\n+                        Integer cid = rs.getInt(\"characterid\");\n+                        items.add(new Pair<Item, Integer>(loadEquipFromResultSet(rs), cid));\n+                    }\n+                }\n+            }\n+        }\n+        \n+        return items;\n+    }\n+    \n     private List<Pair<Item, MapleInventoryType>> loadItemsCommon(int id, boolean login) throws SQLException {\n         List<Pair<Item, MapleInventoryType>> items = new ArrayList<>();\n \t\t\n@@ -96,34 +158,7 @@ public synchronized void saveItems(List<Pair<Item, MapleInventoryType>> items, L\n                 MapleInventoryType mit = MapleInventoryType.getByType(rs.getByte(\"inventorytype\"));\n \n                 if (mit.equals(MapleInventoryType.EQUIP) || mit.equals(MapleInventoryType.EQUIPPED)) {\n-                    Equip equip = new Equip(rs.getInt(\"itemid\"), (short) rs.getInt(\"position\"));\n-                    equip.setOwner(rs.getString(\"owner\"));\n-                    equip.setQuantity((short) rs.getInt(\"quantity\"));\n-                    equip.setAcc((short) rs.getInt(\"acc\"));\n-                    equip.setAvoid((short) rs.getInt(\"avoid\"));\n-                    equip.setDex((short) rs.getInt(\"dex\"));\n-                    equip.setHands((short) rs.getInt(\"hands\"));\n-                    equip.setHp((short) rs.getInt(\"hp\"));\n-                    equip.setInt((short) rs.getInt(\"int\"));\n-                    equip.setJump((short) rs.getInt(\"jump\"));\n-                    equip.setVicious((short) rs.getInt(\"vicious\"));\n-                    equip.setFlag((byte) rs.getInt(\"flag\"));\n-                    equip.setLuk((short) rs.getInt(\"luk\"));\n-                    equip.setMatk((short) rs.getInt(\"matk\"));\n-                    equip.setMdef((short) rs.getInt(\"mdef\"));\n-                    equip.setMp((short) rs.getInt(\"mp\"));\n-                    equip.setSpeed((short) rs.getInt(\"speed\"));\n-                    equip.setStr((short) rs.getInt(\"str\"));\n-                    equip.setWatk((short) rs.getInt(\"watk\"));\n-                    equip.setWdef((short) rs.getInt(\"wdef\"));\n-                    equip.setUpgradeSlots((byte) rs.getInt(\"upgradeslots\"));\n-                    equip.setLevel((byte) rs.getByte(\"level\"));\n-                    equip.setItemExp(rs.getInt(\"itemexp\"));\n-                    equip.setItemLevel(rs.getByte(\"itemlevel\"));\n-                    equip.setExpiration(rs.getLong(\"expiration\"));\n-                    equip.setGiftFrom(rs.getString(\"giftFrom\"));\n-                    equip.setRingId(rs.getInt(\"ringid\"));\n-                    items.add(new Pair<Item, MapleInventoryType>(equip, mit));\n+                    items.add(new Pair<Item, MapleInventoryType>(loadEquipFromResultSet(rs), mit));\n                 } else {\n                     Item item = new Item(rs.getInt(\"itemid\"), (byte) rs.getInt(\"position\"), (short) rs.getInt(\"quantity\"), rs.getInt(\"petid\"));\n                     item.setOwner(rs.getString(\"owner\"));\n@@ -277,34 +312,7 @@ private void saveItemsCommon(List<Pair<Item, MapleInventoryType>> items, int id,\n                 MapleInventoryType mit = MapleInventoryType.getByType(rs.getByte(\"inventorytype\"));\n \n                 if (mit.equals(MapleInventoryType.EQUIP) || mit.equals(MapleInventoryType.EQUIPPED)) {\n-                    Equip equip = new Equip(rs.getInt(\"itemid\"), (short) rs.getInt(\"position\"));\n-                    equip.setOwner(rs.getString(\"owner\"));\n-                    equip.setQuantity((short) rs.getInt(\"quantity\"));\n-                    equip.setAcc((short) rs.getInt(\"acc\"));\n-                    equip.setAvoid((short) rs.getInt(\"avoid\"));\n-                    equip.setDex((short) rs.getInt(\"dex\"));\n-                    equip.setHands((short) rs.getInt(\"hands\"));\n-                    equip.setHp((short) rs.getInt(\"hp\"));\n-                    equip.setInt((short) rs.getInt(\"int\"));\n-                    equip.setJump((short) rs.getInt(\"jump\"));\n-                    equip.setVicious((short) rs.getInt(\"vicious\"));\n-                    equip.setFlag((byte) rs.getInt(\"flag\"));\n-                    equip.setLuk((short) rs.getInt(\"luk\"));\n-                    equip.setMatk((short) rs.getInt(\"matk\"));\n-                    equip.setMdef((short) rs.getInt(\"mdef\"));\n-                    equip.setMp((short) rs.getInt(\"mp\"));\n-                    equip.setSpeed((short) rs.getInt(\"speed\"));\n-                    equip.setStr((short) rs.getInt(\"str\"));\n-                    equip.setWatk((short) rs.getInt(\"watk\"));\n-                    equip.setWdef((short) rs.getInt(\"wdef\"));\n-                    equip.setUpgradeSlots((byte) rs.getInt(\"upgradeslots\"));\n-                    equip.setLevel((byte) rs.getByte(\"level\"));\n-                    equip.setItemExp(rs.getInt(\"itemexp\"));\n-                    equip.setItemLevel(rs.getByte(\"itemlevel\"));\n-                    equip.setExpiration(rs.getLong(\"expiration\"));\n-                    equip.setGiftFrom(rs.getString(\"giftFrom\"));\n-                    equip.setRingId(rs.getInt(\"ringid\"));\n-                    items.add(new Pair<Item, MapleInventoryType>(equip, mit));\n+                    items.add(new Pair<Item, MapleInventoryType>(loadEquipFromResultSet(rs), mit));\n                 } else {\n                     if(bundles > 0) {\n                         Item item = new Item(rs.getInt(\"itemid\"), (byte) rs.getInt(\"position\"), (short)(bundles * rs.getInt(\"quantity\")), rs.getInt(\"petid\"));"}, {"sha": "987c5ceb7880f159fc4991f6d1c543bdaf1b1401", "filename": "src/client/newyear/NewYearCardRecord.java", "status": "modified", "additions": 4, "deletions": 19, "changes": 23, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/client/newyear/NewYearCardRecord.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/client/newyear/NewYearCardRecord.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/newyear/NewYearCardRecord.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -241,38 +241,23 @@ public static void printNewYearRecords(MapleCharacter chr) {\n         }\n     }\n     \n-    private static int getCharacterWorld(int receiverid) {\n-        try (Connection con = DatabaseConnection.getConnection()) {\n-            try (PreparedStatement ps = con.prepareStatement(\"SELECT world FROM characters WHERE id = ?\")) {\n-                ps.setInt(1, receiverid);\n-                try (ResultSet rs = ps.executeQuery()) {\n-                    if (rs.next()) {\n-                        return rs.getInt(\"world\");\n-                    }\n-                }\n-            }\n-        } catch(SQLException sqle) {\n-            sqle.printStackTrace();\n-        }\n-        \n-        return -1;\n-    }\n-    \n     public void startNewYearCardTask() {\n         if(sendTask != null) return;\n         \n         sendTask = TimerManager.getInstance().register(new Runnable() {\n             @Override\n             public void run() {\n-                int world = getCharacterWorld(receiverId);\n+                Server server = Server.getInstance();\n+                \n+                int world = server.getCharacterWorld(receiverId);\n                 if(world == -1) {\n                     sendTask.cancel(false);\n                     sendTask = null;\n                     \n                     return;\n                 }\n                 \n-                MapleCharacter target = Server.getInstance().getWorld(world).getPlayerStorage().getCharacterById(receiverId);\n+                MapleCharacter target = server.getWorld(world).getPlayerStorage().getCharacterById(receiverId);\n                 if(target != null && target.isLoggedinWorld()) {\n                     target.announce(MaplePacketCreator.onNewYearCardRes(target, NewYearCardRecord.this, 0xC, 0));\n                 }"}, {"sha": "0f366cc88c7872de495d5ae92a6f20f98fa1e98c", "filename": "src/constants/ServerConstants.java", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/constants/ServerConstants.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/constants/ServerConstants.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/constants/ServerConstants.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -23,6 +23,7 @@\n     public static final long PURGING_INTERVAL = 5 * 60 * 1000;\n     public static final long RANKING_INTERVAL = 60 * 60 * 1000;\t//60 minutes, 3600000.\n     public static final long  COUPON_INTERVAL = 60 * 60 * 1000;\t//60 minutes, 3600000.\n+    public static final long  UPDATE_INTERVAL = 777;\n     \n     public static final boolean ENABLE_PIC = false;             //Pick true/false to enable or disable Pic. Delete character needs this feature ENABLED.\n     public static final boolean ENABLE_PIN = false;             //Pick true/false to enable or disable Pin.\n@@ -66,7 +67,7 @@\n     public static final boolean USE_ENFORCE_JOB_LEVEL_RANGE = false;//Caps the player level on the minimum required to advance their current jobs.\n     public static final boolean USE_ENFORCE_OWL_SUGGESTIONS = false;//Forces the Owl of Minerva to always display the defined item array on GameConstants.OWL_DATA instead of those featured by the players.\n     public static final boolean USE_ENFORCE_UNMERCHABLE_PET = true; //Forces players to not sell pets via merchants. (since non-named pets gets dirty name and other possible DB-related issues)\n-    public static final boolean USE_ENFORCE_MDOOR_POSITION = true;  //Forces mystic door to be spawned near spawnpoints. (since things bugs out other way, and this helps players to locate the door faster)\n+    public static final boolean USE_ENFORCE_MDOOR_POSITION = false; //Forces mystic door to be spawned near spawnpoints.\n     public static final boolean USE_ERASE_PERMIT_ON_OPENSHOP = true;//Forces \"shop permit\" item to be consumed when player deploy his/her player shop.\n     public static final boolean USE_ERASE_UNTRADEABLE_DROP = true;  //Forces flagged untradeable items to disappear when dropped.\n     public static final boolean USE_ERASE_PET_ON_EXPIRATION = false;//Forces pets to be removed from inventory when expire time comes, rather than converting it to a doll."}, {"sha": "e43cebd324f395a24ad0577bba0574dba295f1e1", "filename": "src/net/PacketProcessor.java", "status": "modified", "additions": 9, "deletions": 7, "changes": 16, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/PacketProcessor.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/PacketProcessor.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/PacketProcessor.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -24,6 +24,7 @@\n import java.util.LinkedHashMap;\n import java.util.Map;\n \n+import net.opcodes.RecvOpcode;\n import net.server.channel.handlers.*;\n import net.server.handlers.CustomPacketHandler;\n import net.server.handlers.KeepAliveHandler;\n@@ -38,16 +39,16 @@\n import net.server.handlers.login.DeleteCharHandler;\n import net.server.handlers.login.GuestLoginHandler;\n import net.server.handlers.login.LoginPasswordHandler;\n-import net.server.handlers.login.PickCharHandler;\n import net.server.handlers.login.RegisterPicHandler;\n import net.server.handlers.login.RegisterPinHandler;\n import net.server.handlers.login.RelogRequestHandler;\n import net.server.handlers.login.ServerStatusRequestHandler;\n import net.server.handlers.login.ServerlistRequestHandler;\n import net.server.handlers.login.SetGenderHandler;\n+import net.server.handlers.login.ViewAllCharHandler;\n+import net.server.handlers.login.ViewAllCharRegisterPicHandler;\n+import net.server.handlers.login.ViewAllCharSelectedHandler;\n import net.server.handlers.login.ViewAllCharSelectedWithPicHandler;\n-import net.server.handlers.login.ViewAllPicRegisterHandler;\n-import net.server.handlers.login.ViewCharHandler;\n \n public final class PacketProcessor {\n \n@@ -114,15 +115,15 @@ public void reset(int channel) {\n             registerHandler(RecvOpcode.CHECK_CHAR_NAME, new CheckCharNameHandler());\n             registerHandler(RecvOpcode.CREATE_CHAR, new CreateCharHandler());\n             registerHandler(RecvOpcode.DELETE_CHAR, new DeleteCharHandler());\n-            registerHandler(RecvOpcode.VIEW_ALL_CHAR, new ViewCharHandler());\n-            registerHandler(RecvOpcode.PICK_ALL_CHAR, new PickCharHandler());\n+            registerHandler(RecvOpcode.VIEW_ALL_CHAR, new ViewAllCharHandler());\n+            registerHandler(RecvOpcode.PICK_ALL_CHAR, new ViewAllCharSelectedHandler());\n             registerHandler(RecvOpcode.REGISTER_PIN, new RegisterPinHandler());\n             registerHandler(RecvOpcode.GUEST_LOGIN, new GuestLoginHandler());\n             registerHandler(RecvOpcode.REGISTER_PIC, new RegisterPicHandler());\n             registerHandler(RecvOpcode.CHAR_SELECT_WITH_PIC, new CharSelectedWithPicHandler());\n             registerHandler(RecvOpcode.SET_GENDER, new SetGenderHandler());\n             registerHandler(RecvOpcode.VIEW_ALL_WITH_PIC, new ViewAllCharSelectedWithPicHandler());\n-            registerHandler(RecvOpcode.VIEW_ALL_PIC_REGISTER, new ViewAllPicRegisterHandler());\n+            registerHandler(RecvOpcode.VIEW_ALL_PIC_REGISTER, new ViewAllCharRegisterPicHandler());\n         } else {\n             //CHANNEL HANDLERS\n             registerHandler(RecvOpcode.NAME_TRANSFER, new TransferNameHandler());\n@@ -237,7 +238,8 @@ public void reset(int channel) {\n             registerHandler(RecvOpcode.ACCEPT_FAMILY, new AcceptFamilyHandler());\n             registerHandler(RecvOpcode.DUEY_ACTION, new DueyHandler());\n             registerHandler(RecvOpcode.USE_DEATHITEM, new UseDeathItemHandler());\n-            registerHandler(RecvOpcode.PLAYER_UPDATE, new PlayerUpdateHandler());\n+            //registerHandler(RecvOpcode.PLAYER_UPDATE, new PlayerUpdateHandler()); unused\n+            registerHandler(RecvOpcode.PLAYER_MAP_TRANSFER, new PlayerMapTransitionHandler());\n             registerHandler(RecvOpcode.USE_MAPLELIFE, new UseMapleLifeHandler());\n             registerHandler(RecvOpcode.USE_CATCH_ITEM, new UseCatchItemHandler());\n             registerHandler(RecvOpcode.MOB_DAMAGE_MOB_FRIENDLY, new MobDamageMobFriendlyHandler());"}, {"sha": "8b8c6e3e09d5e4e213d168e37f381d5a65387dd6", "filename": "src/net/opcodes/RecvOpcode.java", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/opcodes/RecvOpcode.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/opcodes/RecvOpcode.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/opcodes/RecvOpcode.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -19,7 +19,7 @@\n     You should have received a copy of the GNU Affero General Public License\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n-package net;\n+package net.opcodes;\n \n public enum RecvOpcode {\n     CUSTOM_PACKET(0x3713),//13 37 lol\n@@ -174,7 +174,7 @@\n     ITEM_PICKUP(0xCA),\n     DAMAGE_REACTOR(0xCD),\n     TOUCHING_REACTOR(0xCE),\n-    TEMP_SKILL(0xCF),\n+    PLAYER_MAP_TRANSFER(0xCF),\n     MAPLETV(0xFFFE),//Don't know\n     SNOWBALL(0xD3),\n     LEFT_KNOCKBACK(0xD4),", "previous_filename": "src/net/RecvOpcode.java"}, {"sha": "193c761d9238a93482d7630f2804522858afbdfd", "filename": "src/net/opcodes/SendOpcode.java", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/opcodes/SendOpcode.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/opcodes/SendOpcode.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/opcodes/SendOpcode.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -19,7 +19,7 @@\n  You should have received a copy of the GNU Affero General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  */\n-package net;\n+package net.opcodes;\n \n public enum SendOpcode {\n ", "previous_filename": "src/net/SendOpcode.java"}, {"sha": "d87b65d38323ee8079cc548b0c3ef48eccb6f40f", "filename": "src/net/server/Server.java", "status": "modified", "additions": 199, "deletions": 74, "changes": 273, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/Server.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/Server.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/Server.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -21,9 +21,6 @@\n  */\n package net.server;\n \n-import net.server.worker.CharacterDiseaseWorker;\n-import net.server.worker.CouponWorker;\n-import net.server.worker.RankingWorker;\n import java.io.FileInputStream;\n import java.io.IOException;\n import java.net.InetSocketAddress;\n@@ -43,14 +40,22 @@\n import java.util.Map.Entry;\n import java.util.Properties;\n import java.util.Set;\n+import java.util.concurrent.atomic.AtomicLong;\n import tools.locks.MonitoredReentrantLock;\n+import tools.locks.MonitoredReentrantReadWriteLock;\n import java.util.concurrent.locks.Lock;\n+import java.util.concurrent.locks.ReentrantReadWriteLock;\n+import java.util.concurrent.locks.ReentrantReadWriteLock.ReadLock;\n+import java.util.concurrent.locks.ReentrantReadWriteLock.WriteLock;\n import net.MapleServerHandler;\n import net.mina.MapleCodecFactory;\n import net.server.channel.Channel;\n import net.server.guild.MapleAlliance;\n import net.server.guild.MapleGuild;\n import net.server.guild.MapleGuildCharacter;\n+import net.server.worker.CharacterDiseaseWorker;\n+import net.server.worker.CouponWorker;\n+import net.server.worker.RankingWorker;\n import net.server.world.World;\n \n import org.apache.mina.core.buffer.IoBuffer;\n@@ -64,6 +69,8 @@\n import client.MapleClient;\n import client.MapleCharacter;\n import client.SkillFactory;\n+import client.inventory.Item;\n+import client.inventory.ItemFactory;\n import client.newyear.NewYearCardRecord;\n import constants.ItemConstants;\n import constants.GameConstants;\n@@ -96,14 +103,18 @@\n     private final Map<Integer, MapleGuild> guilds = new HashMap<>(100);\n     private final Map<MapleClient, Long> inLoginState = new HashMap<>(100);\n     private final Lock srvLock = new MonitoredReentrantLock(MonitoredLockType.SERVER);\n-    private final Lock lgnLock = new MonitoredReentrantLock(MonitoredLockType.SERVER_LOGIN);\n     private final Lock disLock = new MonitoredReentrantLock(MonitoredLockType.SERVER_DISEASES);\n+    private final ReentrantReadWriteLock lgnLock = new MonitoredReentrantReadWriteLock(MonitoredLockType.SERVER_LOGIN, true);\n+    private final ReadLock lgnRLock = lgnLock.readLock();\n+    private final WriteLock lgnWLock = lgnLock.writeLock();\n     private final PlayerBuffStorage buffStorage = new PlayerBuffStorage();\n     private final Map<Integer, MapleAlliance> alliances = new HashMap<>(100);\n     private final Map<Integer, NewYearCardRecord> newyears = new HashMap<>();\n     private final List<MapleClient> processDiseaseAnnouncePlayers = new LinkedList<>();\n     private final List<MapleClient> registeredDiseaseAnnouncePlayers = new LinkedList<>();\n     \n+    private final AtomicLong currentTime = new AtomicLong(0);\n+    \n     private boolean availableDeveloperRoom = false;\n     private boolean online = false;\n     public static long uptime = System.currentTimeMillis();\n@@ -115,6 +126,20 @@ public static Server getInstance() {\n         return instance;\n     }\n \n+    public void updateCurrentTime() {\n+        currentTime.addAndGet(ServerConstants.UPDATE_INTERVAL);\n+    }\n+    \n+    public long forceUpdateCurrentTime() {\n+        long timeNow = System.currentTimeMillis();\n+        currentTime.set(timeNow);\n+        return timeNow;\n+    }\n+    \n+    public long getCurrentTime() {  // returns a slightly delayed time value\n+        return currentTime.get();\n+    }\n+    \n     public boolean isOnline() {\n         return online;\n     }\n@@ -372,7 +397,7 @@ public void init() {\n         disconnectIdlesOnLoginTask();\n         \n         long timeLeft = getTimeLeftForNextHour();\n-        tMan.register(new CharacterDiseaseWorker(), 777, 777);\n+        tMan.register(new CharacterDiseaseWorker(), ServerConstants.UPDATE_INTERVAL, ServerConstants.UPDATE_INTERVAL);\n         tMan.register(new CouponWorker(), ServerConstants.COUPON_INTERVAL, timeLeft);\n         tMan.register(new RankingWorker(), ServerConstants.RANKING_INTERVAL, timeLeft);\n         \n@@ -822,122 +847,222 @@ public World getWorld(int id) {\n     public List<World> getWorlds() {\n         return worlds;\n     }\n-\n-    private static void loadCharacteridsFromDb(Integer accountid, Set<Integer> accChars) {\n+    \n+    public int getCharacterWorld(Integer chrid) {\n+        lgnRLock.lock();\n         try {\n-            try (Connection con = DatabaseConnection.getConnection()) {\n-                try (PreparedStatement ps = con.prepareStatement(\"SELECT id FROM characters WHERE accountid = ?\")) {\n-                    ps.setInt(1, accountid);\n-\n-                    try (ResultSet rs = ps.executeQuery()) {\n-                        while(rs.next()) {\n-                            accChars.add(rs.getInt(\"id\"));\n-                        }\n-                    }\n-                }\n-            }\n-        } catch (SQLException sqle) {\n-            sqle.printStackTrace();\n+            Integer worldid = worldChars.get(chrid);\n+            return worldid != null ? worldid : -1;\n+        } finally {\n+            lgnRLock.unlock();\n         }\n     }\n     \n-    public boolean haveCharacterid(Integer accountid, Integer chrid) {\n-        lgnLock.lock();\n+    public boolean haveCharacterEntry(Integer accountid, Integer chrid) {\n+        lgnRLock.lock();\n         try {\n             Set<Integer> accChars = accountChars.get(accountid);\n-            if(accChars == null) {\n-                accChars = new HashSet<>(5);\n-                loadCharacteridsFromDb(accountid, accChars);\n-\n-                accountChars.put(accountid, accChars);\n-            }\n-\n             return accChars.contains(chrid);\n         } finally {\n-            lgnLock.unlock();\n+            lgnRLock.unlock();\n+        }\n+    }\n+    \n+    private Set<Integer> getAccountCharacterEntries(Integer accountid) {\n+        lgnRLock.lock();\n+        try {\n+            return new HashSet<>(accountChars.get(accountid));\n+        } finally {\n+            lgnRLock.unlock();\n+        }\n+    }\n+    \n+    public void updateCharacterEntry(MapleCharacter chr) {\n+        MapleCharacter chrView = chr.generateCharacterEntry();\n+        World wserv = worlds.get(chrView.getWorld());\n+        \n+        lgnWLock.lock();\n+        try {\n+            wserv.registerAccountCharacterView(chrView.getAccountID(), chrView);\n+        } finally {\n+            lgnWLock.unlock();\n         }\n     }\n     \n-    public void createCharacterid(Integer accountid, Integer chrid, Integer world) {\n-        lgnLock.lock();\n+    public void createCharacterEntry(MapleCharacter chr) {\n+        Integer accountid = chr.getAccountID(), chrid = chr.getId(), world = chr.getWorld();\n+        \n+        lgnWLock.lock();\n         try {\n             Set<Integer> accChars = accountChars.get(accountid);\n-            if(accChars == null) {\n-                accChars = new HashSet<>(5);\n-                accountChars.put(accountid, accChars);\n-            }\n-\n             accChars.add(chrid);\n+            \n             worldChars.put(chrid, world);\n+            \n+            MapleCharacter chrView = chr.generateCharacterEntry();\n+            World wserv = worlds.get(chrView.getWorld());\n+            wserv.registerAccountCharacterView(chrView.getAccountID(), chrView);\n         } finally {\n-            lgnLock.unlock();\n+            lgnWLock.unlock();\n         }\n     }\n     \n-    public void deleteCharacterid(Integer accountid, Integer chrid) {\n-        lgnLock.lock();\n+    public void deleteCharacterEntry(Integer accountid, Integer chrid) {\n+        lgnWLock.lock();\n         try {\n             Set<Integer> accChars = accountChars.get(accountid);\n-            if(accChars != null) {\n-                accChars.remove(chrid);\n+            accChars.remove(chrid);\n+            \n+            Integer world = worldChars.remove(chrid);\n+            if(world != null) {\n+                World wserv = worlds.get(world);\n+                wserv.unregisterAccountCharacterView(accountid, chrid);\n+            }\n+        } finally {\n+            lgnWLock.unlock();\n+        }\n+    }\n+    \n+    public void transferWorldCharacterEntry(MapleCharacter chr, Integer toWorld) { // used before setting the new worldid on the character object\n+        lgnWLock.lock();\n+        try {\n+            Integer chrid = chr.getId(), accountid = chr.getAccountID(), world = worldChars.get(chr.getId());\n+            if(world != null) {\n+                World wserv = worlds.get(world);\n+                wserv.unregisterAccountCharacterView(accountid, chrid);\n             }\n             \n-            worldChars.remove(chrid);\n+            worldChars.put(chrid, toWorld);\n+            \n+            MapleCharacter chrView = chr.generateCharacterEntry();\n+            World wserv = worlds.get(toWorld);\n+            wserv.registerAccountCharacterView(chrView.getAccountID(), chrView);\n+        } finally {\n+            lgnWLock.unlock();\n+        }\n+    }\n+    \n+    /*\n+    public void deleteAccountEntry(Integer accountid) { is this even a thing?\n+        lgnWLock.lock();\n+        try {\n+            accountChars.remove(accountid);\n         } finally {\n-            lgnLock.unlock();\n+            lgnWLock.unlock();\n         }\n     }\n+    */\n     \n-    private static int getCharacterWorldFromDB(int chrid) {\n-        int world = -1;\n+    private static List<List<MapleCharacter>> loadAccountCharactersViewFromDb(MapleClient c, int wlen) {\n+        List<List<MapleCharacter>> wchars = new ArrayList<>(wlen);\n+        for(int i = 0; i < wlen; i++) wchars.add(i, new LinkedList<MapleCharacter>());\n         \n+        List<MapleCharacter> chars = new LinkedList<>();\n+        int curWorld = 0;\n         try {\n+            List<Pair<Item, Integer>> accEquips = ItemFactory.loadEquippedItems(c.getAccID(), true, true);\n+            Map<Integer, List<Item>> accPlayerEquips = new HashMap<>();\n+            \n+            for(Pair<Item, Integer> ae : accEquips) {\n+                List<Item> playerEquips = accPlayerEquips.get(ae.getRight());\n+                if(playerEquips == null) {\n+                    playerEquips = new LinkedList<>();\n+                    accPlayerEquips.put(ae.getRight(), playerEquips);\n+                }\n+                \n+                playerEquips.add(ae.getLeft());\n+            }\n+            \n             Connection con = DatabaseConnection.getConnection();\n+            try (PreparedStatement ps = con.prepareStatement(\"SELECT * FROM characters WHERE accountid = ? ORDER BY world, id\")) {\n+                ps.setInt(1, c.getAccID());\n+                try (ResultSet rs = ps.executeQuery()) {\n+                    while (rs.next()) {\n+                        int cworld = rs.getByte(\"world\");\n+                        if(cworld >= wlen) break;\n \n-            try (PreparedStatement ps = con.prepareStatement(\"SELECT world FROM characters WHERE id = ?\")) {\n-                ps.setInt(1, chrid);\n+                        if(cworld > curWorld) {\n+                            wchars.add(curWorld, chars);\n \n-                try (ResultSet rs = ps.executeQuery()) {\n-                    if(rs.next()) {\n-                        world = rs.getInt(\"world\");\n+                            curWorld = cworld;\n+                            chars = new LinkedList<>();\n+                        }\n+                        \n+                        Integer cid = rs.getInt(\"id\");\n+                        chars.add(MapleCharacter.loadCharacterEntryFromDB(rs, accPlayerEquips.get(cid)));\n                     }\n                 }\n             }\n-\n             con.close();\n+            \n+            wchars.add(curWorld, chars);\n         } catch (SQLException sqle) {\n             sqle.printStackTrace();\n         }\n         \n-        return world;\n+        return wchars;\n     }\n     \n-    public int getCharacterWorld(Integer chrid) {\n-        lgnLock.lock();\n+    public void loadAccountCharactersView(MapleClient c) {\n+        int accId = c.getAccID();\n+        int gmLevel = 0;\n+        boolean firstAccountLogin;\n+        \n+        lgnRLock.lock();\n         try {\n-            Integer worldid = worldChars.get(chrid);\n+            firstAccountLogin = !accountChars.containsKey(accId);\n+        } finally {\n+            lgnRLock.unlock();\n+        }\n+        \n+        if(!firstAccountLogin) {\n+            Set<Integer> accWorlds = new HashSet<>();\n+            \n+            lgnRLock.lock();\n+            try {\n+                for(Integer chrid : getAccountCharacterEntries(accId)) {\n+                    accWorlds.add(worldChars.get(chrid));\n+                }\n+            } finally {\n+                lgnRLock.unlock();\n+            }\n             \n-            if(worldid == null) {\n-                worldid = getCharacterWorldFromDB(chrid);\n-                worldChars.put(chrid, worldid);\n+            for(Integer aw : accWorlds) {\n+                for(MapleCharacter chr : worlds.get(aw).getAllCharactersView()) {\n+                    if(gmLevel < chr.gmLevel()) gmLevel = chr.gmLevel();\n+                }\n             }\n             \n-            return worldid;\n-        } finally {\n-            lgnLock.unlock();\n+            c.setGMLevel(gmLevel);\n+            return;\n         }\n-    }\n-    \n-    /*\n-    public void deleteAccount(Integer accountid) { is this even a thing?\n-        lgnLock.lock();\n+        \n+        List<List<MapleCharacter>> accChars = loadAccountCharactersViewFromDb(c, worlds.size());\n+        \n+        lgnWLock.lock();\n         try {\n-            accountChars.remove(accountid);\n+            Set<Integer> chars = new HashSet<>(5);\n+            for(int wid = 0; wid < worlds.size(); wid++) {\n+                World w = worlds.get(wid);\n+                List<MapleCharacter> wchars = accChars.get(wid);\n+                w.loadAccountCharactersView(accId, wchars);\n+                \n+                for(MapleCharacter chr : wchars) {\n+                    int cid = chr.getId();\n+                    if(gmLevel < chr.gmLevel()) gmLevel = chr.gmLevel();\n+                    \n+                    chars.add(cid);\n+                    worldChars.put(cid, wid);\n+                }\n+            }\n+            \n+            accountChars.put(accId, chars);\n         } finally {\n-            lgnLock.unlock();\n+            lgnWLock.unlock();\n         }\n+        \n+        c.setGMLevel(gmLevel);\n     }\n-    */\n     \n     private static String getRemoteIp(InetSocketAddress isa) {\n         return isa.getAddress().getHostAddress();\n@@ -946,23 +1071,23 @@ private static String getRemoteIp(InetSocketAddress isa) {\n     public void setCharacteridInTransition(InetSocketAddress isa, int charId) {\n         String remoteIp = getRemoteIp(isa);\n         \n-        lgnLock.lock();\n+        lgnWLock.lock();\n         try {\n             transitioningChars.put(remoteIp, charId);\n         } finally {\n-            lgnLock.unlock();\n+            lgnWLock.unlock();\n         }\n     }\n     \n     public boolean validateCharacteridInTransition(InetSocketAddress isa, int charId) {\n         String remoteIp = getRemoteIp(isa);\n         \n-        lgnLock.lock();\n+        lgnWLock.lock();\n         try {\n             Integer cid = transitioningChars.remove(remoteIp);\n             return cid != null && cid.equals(charId);\n         } finally {\n-            lgnLock.unlock();\n+            lgnWLock.unlock();\n         }\n     }\n     "}, {"sha": "01de5ce5fe7cfb25e87c43214e985a71400c1353", "filename": "src/net/server/channel/handlers/AdminCommandHandler.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/AdminCommandHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/AdminCommandHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/AdminCommandHandler.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -132,7 +132,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                     MapleMonster monster = (MapleMonster) monsterx.get(x);\n                     if (monster.getId() == mobToKill) {\n                         c.getPlayer().getMap().killMonster(monster, c.getPlayer(), true);\n-                        monster.giveExpToCharacter(c.getPlayer(), monster.getExp(), true, 1);\n+                        //monster.giveExpToCharacter(c.getPlayer(), monster.getExp(), true, 1); already being done\n                     }\n                 }\n                 break;"}, {"sha": "f03f59b9450f34705ac787b70d545dcc82510705", "filename": "src/net/server/channel/handlers/AllianceOperationHandler.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/AllianceOperationHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/AllianceOperationHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/AllianceOperationHandler.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -24,7 +24,7 @@\n import client.MapleCharacter;\n import client.MapleClient;\n import net.AbstractMaplePacketHandler;\n-import net.SendOpcode;\n+import net.opcodes.SendOpcode;\n import net.server.Server;\n import net.server.guild.MapleGuild;\n import net.server.guild.MapleGuildCharacter;"}, {"sha": "56e99e18989352186169404d58e85dc794bbe90e", "filename": "src/net/server/channel/handlers/ChangeMapHandler.java", "status": "modified", "additions": 16, "deletions": 9, "changes": 25, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/ChangeMapHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/ChangeMapHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/ChangeMapHandler.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -23,17 +23,19 @@\n \n import java.net.InetAddress;\n import java.net.UnknownHostException;\n+import java.util.Calendar;\n \n import net.AbstractMaplePacketHandler;\n+import client.MapleCharacter;\n+import client.MapleClient;\n+import client.inventory.MapleInventoryType;\n import client.inventory.manipulator.MapleInventoryManipulator;\n import server.MaplePortal;\n import server.MapleTrade;\n import server.maps.MapleMap;\n+import tools.FilePrinter;\n import tools.MaplePacketCreator;\n import tools.data.input.SeekableLittleEndianAccessor;\n-import client.MapleCharacter;\n-import client.MapleClient;\n-import client.inventory.MapleInventoryType;\n \n public final class ChangeMapHandler extends AbstractMaplePacketHandler {\n \n@@ -42,14 +44,18 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n \t\tMapleCharacter chr = c.getPlayer();\n \n \t\tif (chr.isChangingMaps() || chr.isBanned()) {\n+                        if(chr.isChangingMaps()) {\n+                                FilePrinter.printError(FilePrinter.PORTAL_STUCK + chr.getName() + \".txt\", \"Player \" + chr.getName() + \" got stuck when changing maps. Timestamp: \" + Calendar.getInstance().getTime().toString() + \" Last visited mapids: \" + chr.getLastVisitedMapids());\n+                        }\n+                    \n                         c.announce(MaplePacketCreator.enableActions());\n \t\t\treturn;\n \t\t}\n \t\tif (chr.getTrade() != null) {\n \t\t\tMapleTrade.cancelTrade(chr);\n \t\t}\n \t\tif (slea.available() == 0) { //Cash Shop :)\n-\t\t\tif(!chr.getCashShop().isOpened()) {                 \n+\t\t\tif(!chr.getCashShop().isOpened()) {\n                                 c.disconnect(false, false);\n \t\t\t\treturn;           \n \t\t\t}\n@@ -62,7 +68,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                             ex.printStackTrace();\n \t\t\t}\n \t\t} else {\n-\t\t\tif(chr.getCashShop().isOpened()) {                 \n+\t\t\tif(chr.getCashShop().isOpened()) {\n \t\t\t\tc.disconnect(false, false);\n \t\t\t\treturn;           \n \t\t\t}\n@@ -138,21 +144,22 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n \t\t\t\t\tc.announce(MaplePacketCreator.enableActions());\n \t\t\t\t\treturn;\n \t\t\t\t}\n+                                \n \t\t\t\tif (chr.getMapId() == 109040004) {\n \t\t\t\t\tchr.getFitness().resetTimes();\n-\t\t\t\t}\n-\t\t\t\tif (chr.getMapId() == 109030003 || chr.getMapId() == 109030103) {\n+\t\t\t\t} else if (chr.getMapId() == 109030003 || chr.getMapId() == 109030103) {\n \t\t\t\t\tchr.getOla().resetTimes();\n \t\t\t\t}\n+                                \n \t\t\t\tif (portal != null) {\n \t\t\t\t\tif(portal.getPosition().distanceSq(chr.getPosition()) > 400000) {\n-\t\t\t\t\t\tc.announce(MaplePacketCreator.enableActions());\n+                                                c.announce(MaplePacketCreator.enableActions());\n \t\t\t\t\t\treturn;\n \t\t\t\t\t}\n \t\t\t\t\t\n \t\t\t\t\tportal.enterPortal(c);\n \t\t\t\t} else {\n-\t\t\t\t\tc.announce(MaplePacketCreator.enableActions());\n+                                        c.announce(MaplePacketCreator.enableActions());\n \t\t\t\t}\n \t\t\t} catch (Exception e) {\n \t\t\t\te.printStackTrace();"}, {"sha": "ee3d97dfec481efc155ed121fb28ee49e6d972e4", "filename": "src/net/server/channel/handlers/DoorHandler.java", "status": "modified", "additions": 21, "deletions": 3, "changes": 24, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/DoorHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/DoorHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/DoorHandler.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -21,10 +21,14 @@\n */\n package net.server.channel.handlers;\n \n+import java.util.Calendar;\n+import client.MapleCharacter;\n import client.MapleClient;\n import net.AbstractMaplePacketHandler;\n import server.maps.MapleDoorObject;\n import server.maps.MapleMapObject;\n+import tools.FilePrinter;\n+import tools.MaplePacketCreator;\n import tools.data.input.SeekableLittleEndianAccessor;\n \n /**\n@@ -35,15 +39,29 @@\n     @Override\n     public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n         int ownerid = slea.readInt();\n-        boolean mode = (slea.readByte() == 0); // specifies if backwarp or not, 1 town to target, 0 target to town\n-        for (MapleMapObject obj : c.getPlayer().getMap().getMapObjects()) {\n+        slea.readByte(); // specifies if backwarp or not, 1 town to target, 0 target to town\n+        \n+        MapleCharacter chr = c.getPlayer();\n+        if (chr.isChangingMaps() || chr.isBanned()) {\n+            if(chr.isChangingMaps()) {\n+                FilePrinter.printError(FilePrinter.PORTAL_STUCK + chr.getName() + \".txt\", \"Player \" + chr.getName() + \" got stuck when changing maps (using Mystic Door). Timestamp: \" + Calendar.getInstance().getTime().toString() + \" Last visited mapids: \" + chr.getLastVisitedMapids());\n+            }\n+\n+            c.announce(MaplePacketCreator.enableActions());\n+            return;\n+        }\n+        \n+        for (MapleMapObject obj : chr.getMap().getMapObjects()) {\n             if (obj instanceof MapleDoorObject) {\n                 MapleDoorObject door = (MapleDoorObject) obj;\n                 if (door.getOwnerId() == ownerid) {\n-                    door.warp(c.getPlayer(), mode);\n+                    door.warp(chr);\n                     return;\n                 }\n             }\n         }\n+        \n+        c.announce(MaplePacketCreator.blockedMessage(6));\n+        c.announce(MaplePacketCreator.enableActions());\n     }\n }"}, {"sha": "3becadcb9b82c79e5c8f70505d7786e7e0d7bae3", "filename": "src/net/server/channel/handlers/EnterCashShopHandler.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/EnterCashShopHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/EnterCashShopHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/EnterCashShopHandler.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -81,7 +81,7 @@ public void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n             c.getChannelServer().removePlayer(mc);\n             mc.getMap().removePlayer(mc);\n             mc.getCashShop().open(true);\n-            mc.saveToDB();\n+            mc.saveCharToDB();\n         } catch (Exception e) {\n             e.printStackTrace();\n         }"}, {"sha": "d6bf850f1602dbf3a2c27b47aed82060f8824dff", "filename": "src/net/server/channel/handlers/EnterMTSHandler.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/EnterMTSHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/EnterMTSHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/EnterMTSHandler.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -95,7 +95,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             chr.forfeitExpirableQuests();\n             chr.cancelQuestExpirationTask();\n \n-            chr.saveToDB();\n+            chr.saveCharToDB();\n             chr.getMap().removePlayer(c.getPlayer());\n             try {\n                 c.announce(MaplePacketCreator.openCashShop(c, true));"}, {"sha": "38af1f49da5ed87ec52689a0eb3dcaf18ea1e7a5", "filename": "src/net/server/channel/handlers/FamilyUseHandler.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/FamilyUseHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/FamilyUseHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/FamilyUseHandler.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -25,7 +25,7 @@\n import client.MapleCharacter;\n import client.MapleClient;\n import net.AbstractMaplePacketHandler;\n-import net.SendOpcode;\n+import net.opcodes.SendOpcode;\n import tools.data.input.SeekableLittleEndianAccessor;\n import tools.data.output.MaplePacketLittleEndianWriter;\n "}, {"sha": "905bdd21a5e3bb33dc24a24dd76bb5cda45493dc", "filename": "src/net/server/channel/handlers/MoveLifeHandler.java", "status": "modified", "additions": 36, "deletions": 24, "changes": 60, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/MoveLifeHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/MoveLifeHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/MoveLifeHandler.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -26,12 +26,14 @@\n import java.awt.Point;\n import java.util.ArrayList;\n import java.util.List;\n+import net.server.Server;\n import server.life.MapleMonster;\n import server.life.MapleMonsterInformationProvider;\n //import server.life.MobAttackInfo;\n //import server.life.MobAttackInfoFactory;\n import server.life.MobSkill;\n import server.life.MobSkillFactory;\n+import server.maps.MapleMap;\n import server.maps.MapleMapObject;\n import server.maps.MapleMapObjectType;\n import server.movement.LifeMovementFragment;\n@@ -48,9 +50,12 @@\n public final class MoveLifeHandler extends AbstractMovementPacketHandler {\n \t@Override\n \tpublic final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n+                MapleCharacter player = c.getPlayer();\n+                MapleMap map = player.getMap();\n+            \n \t\tint objectid = slea.readInt();\n \t\tshort moveid = slea.readShort();\n-\t\tMapleMapObject mmo = c.getPlayer().getMap().getMapObject(objectid);\n+\t\tMapleMapObject mmo = map.getMapObject(objectid);\n \t\tif (mmo == null || mmo.getType() != MapleMapObjectType.MONSTER) {\n \t\t\treturn;\n \t\t}\n@@ -95,8 +100,18 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                                 nextCastSkill = skillToUse.getLeft();\n                                 nextCastSkillLevel = skillToUse.getRight();\n                                 toUse = MobSkillFactory.getMobSkill(nextCastSkill, nextCastSkillLevel);\n+                                \n+                                if (!isSkill && !isAttack) {\n+                                        long curtime = Server.getInstance().getCurrentTime();\n+                                        if(curtime >= monster.getNextBasicSkillTime()) {  // dont use the special attack too often, chase the player f3\n+                                                //MobAttackInfo mobAttack = MobAttackInfoFactory.getMobAttackInfo(monster, attackId);\n+                                                monster.setNextBasicSkillTime(curtime);\n+                                        } else {\n+                                                toUse = null;   // paliative measure for suspicious mob movement\n+                                        }\n+                                }\n \n-                                if (isSkill || isAttack) {\n+                                if (toUse != null) {\n                                         int percHpLeft = (int) (((float) monster.getHp() / monster.getMaxHp()) * 100);\n                                         if (nextCastSkill != toUse.getSkillId() || nextCastSkillLevel != toUse.getSkillLevel()) {\n                                                 //toUse.resetAnticipatedSkill();\n@@ -106,25 +121,13 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                                         } else if (monster.canUseSkill(toUse)) {\n                                                 int animationTime = MapleMonsterInformationProvider.getInstance().getMobSkillAnimationTime(monster.getId(), rndSkill);\n                                                 if(animationTime > 0) {\n-                                                        toUse.applyDelayedEffect(c.getPlayer(), monster, true, banishPlayers, animationTime);\n+                                                        toUse.applyDelayedEffect(player, monster, true, banishPlayers, animationTime);\n                                                 } else {\n-                                                        toUse.applyEffect(c.getPlayer(), monster, true, banishPlayers);\n+                                                        toUse.applyEffect(player, monster, true, banishPlayers);\n                                                 }\n                                         } else {\n                                                 toUse = null;\n                                         }\n-                                } else {\n-                                        toUse = null; // paliative measure for suspicious mob movement\n-\n-                                        /*\n-                                        long curtime = System.currentTimeMillis();\n-                                        if(curtime >= monster.getNextBasicSkillTime()) {  // dont use the special attack too often, chase the player f3\n-                                                MobAttackInfo mobAttack = MobAttackInfoFactory.getMobAttackInfo(monster, attackId);\n-                                                monster.setNextBasicSkillTime(curtime);\n-                                        } else {\n-                                                toUse = null;\n-                                        }\n-                                        */\n                                 }\n                         }\n                 } else {\n@@ -133,35 +136,44 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                         }\n                 }\n                 \n+                if(toUse == null) {\n+                        useSkillId = 0;\n+                        useSkillLevel = 0;\n+                        rawActivity = -1;\n+                        pOption = 0;\n+                }\n+                \n \t\tslea.readByte();\n \t\tslea.readInt(); // whatever\n \t\tshort start_x = slea.readShort(); // hmm.. startpos?\n \t\tshort start_y = slea.readShort(); // hmm...\n \t\tPoint startPos = new Point(start_x, start_y);\n \t\tres = parseMovement(slea);\n-\t\tif (monster.getController() != c.getPlayer()) {\n-\t\t\tif (monster.isAttackedBy(c.getPlayer())) {\n-\t\t\t\tmonster.switchController(c.getPlayer(), true);\n+\t\tif (monster.getController() != player) {\n+\t\t\tif (monster.isAttackedBy(player)) {\n+\t\t\t\tmonster.switchController(player, true);\n \t\t\t} else {\n \t\t\t\treturn;\n \t\t\t}\n \t\t} else if (rawActivity == -1 && monster.isControllerKnowsAboutAggro() && !monster.isMobile() && !monster.isFirstAttack()) {\n-\t\t\tmonster.setControllerHasAggro(false);\n+                        monster.setControllerHasAggro(false);\n \t\t\tmonster.setControllerKnowsAboutAggro(false);\n \t\t}\n \t\tboolean aggro = monster.isControllerHasAggro();\n-\t\tif (toUse != null) {\n-\t\t\tc.announce(MaplePacketCreator.moveMonsterResponse(objectid, moveid, monster.getMp(), aggro, toUse.getSkillId(), toUse.getSkillLevel()));\n+\t\t\n+                if (toUse != null) {\n+                        c.announce(MaplePacketCreator.moveMonsterResponse(objectid, moveid, monster.getMp(), aggro, toUse.getSkillId(), toUse.getSkillLevel()));\n \t\t} else {\n \t\t\tc.announce(MaplePacketCreator.moveMonsterResponse(objectid, moveid, monster.getMp(), aggro));\n \t\t}\n+                \n \t\tif (aggro) {\n \t\t\tmonster.setControllerKnowsAboutAggro(true);\n \t\t}\n \t\tif (res != null) {\n-\t\t\tc.getPlayer().getMap().broadcastMessage(c.getPlayer(), MaplePacketCreator.moveMonster(objectid, nextMovementCouldBeSkill, rawActivity, useSkillId, useSkillLevel, pOption, startPos, res), monster.getPosition());\n+                        map.broadcastMessage(player, MaplePacketCreator.moveMonster(objectid, nextMovementCouldBeSkill, rawActivity, useSkillId, useSkillLevel, pOption, startPos, res), monster.getPosition());\n \t\t\tupdatePosition(res, monster, -1);\n-\t\t\tc.getPlayer().getMap().moveMonster(monster, monster.getPosition());\n+\t\t\tmap.moveMonster(monster, monster.getPosition());\n \t\t}\n                 \n                 for (MapleCharacter chr : banishPlayers) {"}, {"sha": "8acec784699f4ed55361293dfe993f47f168b82c", "filename": "src/net/server/channel/handlers/NPCAnimationHandler.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/NPCAnimationHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/NPCAnimationHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/NPCAnimationHandler.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -23,7 +23,7 @@\n \n import client.MapleClient;\n import net.AbstractMaplePacketHandler;\n-import net.SendOpcode;\n+import net.opcodes.SendOpcode;\n import tools.data.input.SeekableLittleEndianAccessor;\n import tools.data.output.MaplePacketLittleEndianWriter;\n "}, {"sha": "da797948edfb37151bdb53efa4103fa2f3053b0f", "filename": "src/net/server/channel/handlers/PlayerMapTransitionHandler.java", "status": "added", "additions": 37, "deletions": 0, "changes": 37, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/PlayerMapTransitionHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/PlayerMapTransitionHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/PlayerMapTransitionHandler.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -0,0 +1,37 @@\n+/*\n+    This file is part of the HeavenMS MapleStory Server\n+    Copyleft (L) 2016 - 2018 RonanLana\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+\n+package net.server.channel.handlers;\n+\n+import client.MapleClient;\n+import net.AbstractMaplePacketHandler;\n+import tools.data.input.SeekableLittleEndianAccessor;\n+\n+/**\n+ *\n+ * @author Ronan\n+ */\n+public final class PlayerMapTransitionHandler extends AbstractMaplePacketHandler {\n+    \n+    @Override\n+    public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n+        c.getPlayer().setMapTransitionComplete();\n+    }\n+}\n\\ No newline at end of file"}, {"sha": "672c2af3a656442e39017e9328222bfb2e25bf97", "filename": "src/net/server/channel/handlers/PlayerUpdateHandler.java", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/PlayerUpdateHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/PlayerUpdateHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/PlayerUpdateHandler.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -26,9 +26,7 @@\n import tools.data.input.SeekableLittleEndianAccessor;\n \n public final class PlayerUpdateHandler extends AbstractMaplePacketHandler {\n-\n+    \n     @Override\n-    public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n-        c.getPlayer().setMapTransitionComplete();\n-    }\n+    public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {}\n }\n\\ No newline at end of file"}, {"sha": "373c101ceacc0dc9562f6b4483998ac1033ef30e", "filename": "src/net/server/channel/handlers/TransferNameHandler.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/TransferNameHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/TransferNameHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/TransferNameHandler.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -1,5 +1,5 @@\n /*\n-    This file is part of the HeavenMS (MapleSolaxiaV2) MapleStory Server\n+    This file is part of the HeavenMS MapleStory Server\n     Copyleft (L) 2016 - 2018 RonanLana\n \n     This program is free software: you can redistribute it and/or modify"}, {"sha": "b12999a384af6c846f190bf195bf5223cfe0fd10", "filename": "src/net/server/channel/handlers/TransferNameResultHandler.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/TransferNameResultHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/TransferNameResultHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/TransferNameResultHandler.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -1,5 +1,5 @@\n /*\n-    This file is part of the HeavenMS (MapleSolaxiaV2) MapleStory Server\n+    This file is part of the HeavenMS MapleStory Server\n     Copyleft (L) 2016 - 2018 RonanLana\n \n     This program is free software: you can redistribute it and/or modify"}, {"sha": "79657dfca1f391b60428afb3f3c911981f9476d4", "filename": "src/net/server/channel/handlers/TransferWorldHandler.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/TransferWorldHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/TransferWorldHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/TransferWorldHandler.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -1,5 +1,5 @@\n /*\n-    This file is part of the HeavenMS (MapleSolaxiaV2) MapleStory Server\n+    This file is part of the HeavenMS MapleStory Server\n     Copyleft (L) 2016 - 2018 RonanLana\n \n     This program is free software: you can redistribute it and/or modify"}, {"sha": "0a8f0aec84402cb8cec9989c22c7fbacfbc3cd3a", "filename": "src/net/server/channel/handlers/WeddingTalkHandler.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/WeddingTalkHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/WeddingTalkHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/WeddingTalkHandler.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -1,5 +1,5 @@\n /*\n-    This file is part of the HeavenMS (MapleSolaxiaV2) MapleStory Server\n+    This file is part of the HeavenMS MapleStory Server\n     Copyleft (L) 2016 - 2018 RonanLana\n \n     This program is free software: you can redistribute it and/or modify"}, {"sha": "ded6c80bf043c51acef4a5c677364c3e136cdca6", "filename": "src/net/server/channel/handlers/WeddingTalkMoreHandler.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/WeddingTalkMoreHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/handlers/WeddingTalkMoreHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/WeddingTalkMoreHandler.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -1,5 +1,5 @@\n /*\n-    This file is part of the HeavenMS (MapleSolaxiaV2) MapleStory Server\n+    This file is part of the HeavenMS MapleStory Server\n     Copyleft (L) 2016 - 2018 RonanLana\n \n     This program is free software: you can redistribute it and/or modify"}, {"sha": "e643e4a8ce5d6f34aa77f301f8cfee60f1b64912", "filename": "src/net/server/channel/worker/BaseScheduler.java", "status": "modified", "additions": 13, "deletions": 11, "changes": 24, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/worker/BaseScheduler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/worker/BaseScheduler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/worker/BaseScheduler.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -60,6 +60,8 @@ protected void addListener(SchedulerListener listener) {\n     }\n     \n     private void runBaseSchedule() {\n+        List<Object> toRemove;\n+        \n         schedulerLock.lock();\n         try {\n             if(registeredEntries.isEmpty()) {\n@@ -77,7 +79,7 @@ private void runBaseSchedule() {\n             idleProcs = 0;\n             \n             long timeNow = System.currentTimeMillis();\n-            List<Object> toRemove = new LinkedList<>();\n+            toRemove = new LinkedList<>();\n             for(Entry<Object, Pair<Runnable, Long>> rmd : registeredEntries.entrySet()) {\n                 Pair<Runnable, Long> r = rmd.getValue();\n                 \n@@ -90,17 +92,11 @@ private void runBaseSchedule() {\n             for(Object mse : toRemove) {\n                 registeredEntries.remove(mse);\n             }\n-            \n-            dispatchRemovedEntries(toRemove, true);\n         } finally {\n             schedulerLock.unlock();\n         }\n-    }\n-    \n-    private void dispatchRemovedEntries(List<Object> toRemove, boolean fromUpdate) {\n-        for (SchedulerListener listener : listeners.toArray(new SchedulerListener[listeners.size()])) {\n-            listener.removedScheduledEntries(toRemove, fromUpdate);\n-        }\n+        \n+        dispatchRemovedEntries(toRemove, true);\n     }\n     \n     protected void registerEntry(Object key, Runnable removalAction, long duration) {\n@@ -122,10 +118,16 @@ protected void interruptEntry(Object key) {\n         try {\n             Pair<Runnable, Long> rm = registeredEntries.remove(key);\n             if(rm != null) rm.getLeft().run();\n-            \n-            dispatchRemovedEntries(Collections.singletonList(key), false);\n         } finally {\n             schedulerLock.unlock();\n         }\n+        \n+        dispatchRemovedEntries(Collections.singletonList(key), false);\n+    }\n+    \n+    private void dispatchRemovedEntries(List<Object> toRemove, boolean fromUpdate) {\n+        for (SchedulerListener listener : listeners.toArray(new SchedulerListener[listeners.size()])) {\n+            listener.removedScheduledEntries(toRemove, fromUpdate);\n+        }\n     }\n }"}, {"sha": "fdf68754300ed01a802d51b5a0dd5104b614ed35", "filename": "src/net/server/channel/worker/MobAnimationScheduler.java", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/worker/MobAnimationScheduler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/channel/worker/MobAnimationScheduler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/worker/MobAnimationScheduler.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -62,7 +62,9 @@ public void removedScheduledEntries(List<Object> toRemove, boolean update) {\n     public boolean registerAnimationMode(Integer mobHash, long animationTime) {\n         animationLock.lock();\n         try {\n-            if(onAnimationMobs.contains(mobHash)) return false;\n+            if(onAnimationMobs.contains(mobHash)) {\n+                return false;\n+            }\n             \n             registerEntry(mobHash, r, animationTime);\n             onAnimationMobs.add(mobHash);"}, {"sha": "f48d8876a61a48b34eb07298c3dd31af8276b4c1", "filename": "src/net/server/handlers/login/AfterLoginHandler.java", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/handlers/login/AfterLoginHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/handlers/login/AfterLoginHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/handlers/login/AfterLoginHandler.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -30,7 +30,6 @@\n \n     @Override\n     public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n-        \n         byte c2 = slea.readByte();\n         byte c3 = 5;\n         if (slea.available() > 0) {"}, {"sha": "b25c637301615c17f206a3c7bd3a27d0d8148f40", "filename": "src/net/server/handlers/login/CharSelectedHandler.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/handlers/login/CharSelectedHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/handlers/login/CharSelectedHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/handlers/login/CharSelectedHandler.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -46,7 +46,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n         }\n \n         Server server = Server.getInstance();\n-        if(!server.haveCharacterid(c.getAccID(), charId)) {\n+        if(!server.haveCharacterEntry(c.getAccID(), charId)) {\n             c.getSession().close(true);\n             return;\n         }"}, {"sha": "55fa741b5699fccd6e29960d697d18e363a639d4", "filename": "src/net/server/handlers/login/CharSelectedWithPicHandler.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/handlers/login/CharSelectedWithPicHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/handlers/login/CharSelectedWithPicHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/handlers/login/CharSelectedWithPicHandler.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -27,7 +27,7 @@ public void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n         }\n         \n         Server server = Server.getInstance();\n-        if(!server.haveCharacterid(c.getAccID(), charId)) {\n+        if(!server.haveCharacterEntry(c.getAccID(), charId)) {\n             c.getSession().close(true);\n             return;\n         }"}, {"sha": "5cfea94e4e7030e447afedd1735809559c835763", "filename": "src/net/server/handlers/login/LoginPasswordHandler.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/handlers/login/LoginPasswordHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/handlers/login/LoginPasswordHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/handlers/login/LoginPasswordHandler.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -113,6 +113,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n     }\n \n     private static void login(MapleClient c){\n+        Server.getInstance().loadAccountCharactersView(c);    // locks the login session until data is recovered from the cache or the DB.\n         c.announce(MaplePacketCreator.getAuthSuccess(c));//why the fk did I do c.getAccountName()?\n \n         Server.getInstance().registerLoginState(c);"}, {"sha": "bc0d6e67f75b870f21bf1595cdd5db2e6306f59c", "filename": "src/net/server/handlers/login/RegisterPicHandler.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/handlers/login/RegisterPicHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/handlers/login/RegisterPicHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/handlers/login/RegisterPicHandler.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -27,7 +27,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n         }\n         \n         Server server = Server.getInstance();\n-        if(!server.haveCharacterid(c.getAccID(), charId)) {\n+        if(!server.haveCharacterEntry(c.getAccID(), charId)) {\n             c.getSession().close(true);\n             return;\n         }"}, {"sha": "b2c37b302a18e0cb2d8674a72720b7e55f5e8493", "filename": "src/net/server/handlers/login/ServerStatusRequestHandler.java", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/handlers/login/ServerStatusRequestHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/handlers/login/ServerStatusRequestHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/handlers/login/ServerStatusRequestHandler.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -32,10 +32,13 @@\n \n     @Override\n     public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n-        byte world = (byte) slea.readShort();//Wuuu? ):\n+        byte world = (byte) slea.readShort();\n         World wserv = Server.getInstance().getWorld(world);\n-        int status = wserv.getWorldCapacityStatus();\n-        \n-        c.announce(MaplePacketCreator.getServerStatus(status));\n+        if(wserv != null) {\n+            int status = wserv.getWorldCapacityStatus();\n+            c.announce(MaplePacketCreator.getServerStatus(status));\n+        } else {\n+            c.announce(MaplePacketCreator.getServerStatus(2));\n+        }\n     }\n }"}, {"sha": "5808224def8aa4347f25ab89a7b552f438fd7f05", "filename": "src/net/server/handlers/login/ViewAllCharHandler.java", "status": "added", "additions": 80, "deletions": 0, "changes": 80, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/handlers/login/ViewAllCharHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/handlers/login/ViewAllCharHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/handlers/login/ViewAllCharHandler.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -0,0 +1,80 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package net.server.handlers.login;\n+\n+import client.MapleCharacter;\n+import client.MapleClient;\n+import constants.ServerConstants;\n+import java.util.ArrayList;\n+import java.util.List;\n+import net.AbstractMaplePacketHandler;\n+import net.server.Server;\n+import net.server.world.World;\n+import tools.MaplePacketCreator;\n+import tools.data.input.SeekableLittleEndianAccessor;\n+import tools.Pair;\n+\n+public final class ViewAllCharHandler extends AbstractMaplePacketHandler {\n+    @Override\n+    public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n+        try {\n+            List<World> wlist = Server.getInstance().getWorlds();\n+            List<Pair<Integer, List<MapleCharacter>>> worldChars = new ArrayList<>(wlist.size() + 1);\n+            \n+            int chrTotal = 0;\n+            int accountId = c.getAccID();\n+            List<MapleCharacter> lastwchars = null;\n+            for(World w : wlist) {\n+                List<MapleCharacter> wchars = w.getAccountCharactersView(accountId);\n+                \n+                if(!wchars.isEmpty()) {\n+                    lastwchars = wchars;\n+                    \n+                    worldChars.add(new Pair<>(w.getId(), wchars));\n+                    chrTotal += wchars.size();\n+                }\n+            }\n+            \n+            if (chrTotal > 9) {\n+                int padRight = chrTotal % 3;\n+                if (padRight > 0 && lastwchars != null) {\n+                    MapleCharacter chr = lastwchars.get(lastwchars.size() - 1);\n+                    \n+                    for(int i = padRight; i < 3; i++) { // filling the remaining slots with the last character loaded\n+                        chrTotal++;\n+                        lastwchars.add(chr);\n+                    }\n+                }\n+            }\n+            \n+            int charsSize = chrTotal;\n+            int unk = charsSize + (3 - charsSize % 3); //rowSize?\n+            c.announce(MaplePacketCreator.showAllCharacter(charsSize, unk));\n+            \n+            for (Pair<Integer, List<MapleCharacter>> wchars : worldChars) {\n+                c.announce(MaplePacketCreator.showAllCharacterInfo(wchars.getLeft(), wchars.getRight(), ServerConstants.ENABLE_PIC));\n+            }\n+        } catch (Exception e) {\n+            e.printStackTrace();\n+        }\n+    }\n+}"}, {"sha": "6a9f063d8f8a63ea0e02f0b941c08ff904949ef4", "filename": "src/net/server/handlers/login/ViewAllCharRegisterPicHandler.java", "status": "renamed", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/handlers/login/ViewAllCharRegisterPicHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/handlers/login/ViewAllCharRegisterPicHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/handlers/login/ViewAllCharRegisterPicHandler.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -10,7 +10,7 @@\n import tools.Randomizer;\n import tools.data.input.SeekableLittleEndianAccessor;\n \n-public final class ViewAllPicRegisterHandler extends AbstractMaplePacketHandler { //Gey class name lol\n+public final class ViewAllCharRegisterPicHandler extends AbstractMaplePacketHandler { //Gey class name lol\n \n \n     @Override\n@@ -20,7 +20,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n         slea.readInt(); // please don't let the client choose which world they should login\n         \n         Server server = Server.getInstance();\n-        if(!server.haveCharacterid(c.getAccID(), charId)) {\n+        if(!server.haveCharacterEntry(c.getAccID(), charId)) {\n             c.getSession().close(true);\n             return;\n         }\n@@ -31,7 +31,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             return;\n         }\n         \n-        int channel = Randomizer.rand(0, server.getWorld(c.getWorld()).getChannels().size());\n+        int channel = Randomizer.rand(1, server.getWorld(c.getWorld()).getChannels().size());\n         c.setChannel(channel);\n         \n         String mac = slea.readMapleAsciiString();", "previous_filename": "src/net/server/handlers/login/ViewAllPicRegisterHandler.java"}, {"sha": "bf8cf2c1d0083bf99800c2487e30db84e9e3f4be", "filename": "src/net/server/handlers/login/ViewAllCharSelectedHandler.java", "status": "renamed", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/handlers/login/ViewAllCharSelectedHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/handlers/login/ViewAllCharSelectedHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/handlers/login/ViewAllCharSelectedHandler.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -31,15 +31,15 @@\n import tools.Randomizer;\n import tools.data.input.SeekableLittleEndianAccessor;\n \n-public final class PickCharHandler extends AbstractMaplePacketHandler {\n+public final class ViewAllCharSelectedHandler extends AbstractMaplePacketHandler {\n \n     @Override\n     public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n         int charId = slea.readInt();\n         slea.readInt(); // please don't let the client choose which world they should login\n         \n         Server server = Server.getInstance();\n-        if(!server.haveCharacterid(c.getAccID(), charId)) {\n+        if(!server.haveCharacterEntry(c.getAccID(), charId)) {\n             c.getSession().close(true);\n             return;\n         }\n@@ -58,7 +58,8 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n         }\n         \n         try {\n-            c.setChannel(Randomizer.nextInt(c.getWorldServer().getChannels().size()));\n+            int channel = Randomizer.rand(1, c.getWorldServer().getChannels().size());\n+            c.setChannel(channel);\n         } catch (Exception e) {\n             e.printStackTrace();\n             c.setChannel(1);", "previous_filename": "src/net/server/handlers/login/PickCharHandler.java"}, {"sha": "0865a4bc705a41a5e2ec7d140fece8a9dd31558c", "filename": "src/net/server/handlers/login/ViewAllCharSelectedWithPicHandler.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/handlers/login/ViewAllCharSelectedWithPicHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/handlers/login/ViewAllCharSelectedWithPicHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/handlers/login/ViewAllCharSelectedWithPicHandler.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -21,13 +21,13 @@ public void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n         slea.readInt(); // please don't let the client choose which world they should login\n         \n         Server server = Server.getInstance();\n-        if(!server.haveCharacterid(c.getAccID(), charId)) {\n+        if(!server.haveCharacterEntry(c.getAccID(), charId)) {\n             c.getSession().close(true);\n             return;\n         }\n         \n         c.setWorld(server.getCharacterWorld(charId));\n-        int channel = Randomizer.rand(0, c.getWorldServer().getChannels().size());\n+        int channel = Randomizer.rand(1, c.getWorldServer().getChannels().size());\n         c.setChannel(channel);\n         \n         String macs = slea.readMapleAsciiString();"}, {"sha": "3014c606b6547e1479f75a78c17e8a94a721a449", "filename": "src/net/server/handlers/login/ViewCharHandler.java", "status": "removed", "additions": 0, "deletions": 92, "changes": 92, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/5dc16d0cabe3ccf695be6ed17807258d3a36267c/src/net/server/handlers/login/ViewCharHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/5dc16d0cabe3ccf695be6ed17807258d3a36267c/src/net/server/handlers/login/ViewCharHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/handlers/login/ViewCharHandler.java?ref=5dc16d0cabe3ccf695be6ed17807258d3a36267c", "patch": "@@ -1,92 +0,0 @@\n-/*\n-\tThis file is part of the OdinMS Maple Story Server\n-    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n-\t\t       Matthias Butz <matze@odinms.de>\n-\t\t       Jan Christian Meyer <vimes@odinms.de>\n-\n-    This program is free software: you can redistribute it and/or modify\n-    it under the terms of the GNU Affero General Public License as\n-    published by the Free Software Foundation version 3 as published by\n-    the Free Software Foundation. You may not use, modify or distribute\n-    this program under any other version of the GNU Affero General Public\n-    License.\n-\n-    This program is distributed in the hope that it will be useful,\n-    but WITHOUT ANY WARRANTY; without even the implied warranty of\n-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-    GNU Affero General Public License for more details.\n-\n-    You should have received a copy of the GNU Affero General Public License\n-    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n-*/\n-package net.server.handlers.login;\n-\n-import client.MapleCharacter;\n-import client.MapleClient;\n-import java.sql.Connection;\n-import java.sql.PreparedStatement;\n-import java.sql.ResultSet;\n-import java.util.ArrayList;\n-import java.util.Iterator;\n-import java.util.List;\n-import net.AbstractMaplePacketHandler;\n-import net.server.Server;\n-import tools.DatabaseConnection;\n-import tools.MaplePacketCreator;\n-import tools.data.input.SeekableLittleEndianAccessor;\n-\n-public final class ViewCharHandler extends AbstractMaplePacketHandler {\n-    @Override\n-    public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n-        try {\n-            short charsNum;\n-            List<Integer> worlds;\n-            List<MapleCharacter> chars;\n-            \n-            int wlen = Server.getInstance().getWorlds().size();\n-            \n-            Connection con = DatabaseConnection.getConnection();\n-            try (PreparedStatement ps = con.prepareStatement(\"SELECT world, id FROM characters WHERE accountid = ?\")) {\n-                ps.setInt(1, c.getAccID());\n-                charsNum = 0;\n-                worlds = new ArrayList<>();\n-                chars = new ArrayList<>();\n-                try (ResultSet rs = ps.executeQuery()) {\n-                    while (rs.next()) {\n-                        int cworld = rs.getByte(\"world\");\n-                        if(cworld >= wlen) continue;\n-                        \n-                        boolean inside = false;\n-                        for (int w : worlds) {\n-                            if (w == cworld) {\n-                                inside = true;\n-                            }\n-                        }\n-                        if (!inside) {\n-                            worlds.add(cworld);\n-                        }\n-                        MapleCharacter chr = MapleCharacter.loadCharFromDB(rs.getInt(\"id\"), c, false);\n-                        chars.add(chr);\n-                        charsNum++;\n-                    }\n-                }\n-            }\n-            int unk = charsNum + 3 - charsNum % 3;\n-            c.announce(MaplePacketCreator.showAllCharacter(charsNum, unk));\n-            for (Iterator<Integer> it = worlds.iterator(); it.hasNext();) {\n-                int w = it.next();\n-                List<MapleCharacter> chrsinworld = new ArrayList<>();\n-                for (MapleCharacter chr : chars) {\n-                    if (chr.getWorld() == w) {\n-                        chrsinworld.add(chr);\n-                    }\n-                }\n-                c.announce(MaplePacketCreator.showAllCharacterInfo(w, chrsinworld));\n-            }\n-            \n-            con.close();\n-        } catch (Exception e) {\n-            e.printStackTrace();\n-        }\n-    }\n-}"}, {"sha": "a10934d4e8b901275af2d0dac207c49c3fc29224", "filename": "src/net/server/worker/CharacterAutosaverWorker.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/worker/CharacterAutosaverWorker.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/worker/CharacterAutosaverWorker.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/worker/CharacterAutosaverWorker.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -36,7 +36,7 @@ public void run() {\n         PlayerStorage ps = wserv.getPlayerStorage();\n         for(MapleCharacter chr: ps.getAllCharacters()) {\n             if(chr != null && chr.isLoggedin()) {\n-                chr.saveToDB(false);\n+                chr.saveCharToDB(false);\n             }\n         }\n     }"}, {"sha": "c9c5c2f7de86ba59bcb963212abcf6f121a5bc5b", "filename": "src/net/server/worker/CharacterDiseaseWorker.java", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/worker/CharacterDiseaseWorker.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/worker/CharacterDiseaseWorker.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/worker/CharacterDiseaseWorker.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -28,6 +28,9 @@\n public class CharacterDiseaseWorker implements Runnable {\n     @Override\n     public void run() {\n-        Server.getInstance().runAnnouncePlayerDiseasesSchedule();\n+        Server serv = Server.getInstance();\n+        \n+        serv.updateCurrentTime();\n+        serv.runAnnouncePlayerDiseasesSchedule();\n     }\n }"}, {"sha": "8ee90890c454e33017fbaa6c03ff942cfba963be", "filename": "src/net/server/worker/WeddingReservationWorker.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/worker/WeddingReservationWorker.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/worker/WeddingReservationWorker.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/worker/WeddingReservationWorker.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -1,5 +1,5 @@\n /*\n-    This file is part of the HeavenMS (MapleSolaxiaV2) MapleStory Server\n+    This file is part of the HeavenMS MapleStory Server\n     Copyleft (L) 2017 RonanLana\n \n     This program is free software: you can redistribute it and/or modify"}, {"sha": "35ba8dc474014b9852cefd8b0279eb0e823c7c70", "filename": "src/net/server/world/World.java", "status": "modified", "additions": 155, "deletions": 5, "changes": 160, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/world/World.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/net/server/world/World.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/world/World.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -35,6 +35,7 @@\n import java.sql.SQLException;\n import java.sql.Statement;\n import java.util.ArrayList;\n+import java.util.Collection;\n import java.util.Collections;\n import java.util.Comparator;\n import java.util.LinkedList;\n@@ -43,6 +44,8 @@\n import java.util.LinkedHashMap;\n import java.util.Map;\n import java.util.Map.Entry;\n+import java.util.SortedMap;\n+import java.util.TreeMap;\n import java.util.concurrent.atomic.AtomicInteger;\n import java.util.concurrent.locks.Lock;\n import tools.locks.MonitoredReentrantLock;\n@@ -77,7 +80,7 @@\n /**\n  *\n  * @author kevintjuh93\n- * @author Ronan (thread-oriented world schedules)\n+ * @author Ronan (thread-oriented world schedules, guild queue, marriages & party chars)\n  */\n public class World {\n \n@@ -94,10 +97,14 @@\n     private Map<Integer, MapleGuildSummary> gsStore = new HashMap<>();\n     private PlayerStorage players = new PlayerStorage();\n     \n+    private Map<Integer, SortedMap<Integer, MapleCharacter>> accountChars = new HashMap<>();\n+    private Lock accountCharsLock = new MonitoredReentrantLock(MonitoredLockType.WORLD_CHARS, true);\n+    \n     private Set<Integer> queuedGuilds = new HashSet<>();\n     private Map<Integer, Pair<Pair<Boolean, Boolean>, Pair<Integer, Integer>>> queuedMarriages = new HashMap<>();\n     private Map<Integer, Set<Integer>> marriageGuests = new HashMap<>();\n     \n+    private Map<Integer, Integer> partyChars = new HashMap<>();\n     private Map<Integer, MapleParty> parties = new HashMap<>();\n     private AtomicInteger runningPartyId = new AtomicInteger();\n     private Lock partyLock = new MonitoredReentrantLock(MonitoredLockType.WORLD_PARTY, true);\n@@ -242,6 +249,87 @@ public void setQuestRate(int quest) {\n         this.questrate = quest;\n     }\n \n+    public void loadAccountCharactersView(Integer accountId, List<MapleCharacter> chars) {\n+        SortedMap<Integer, MapleCharacter> charsMap = new TreeMap<>();\n+        for(MapleCharacter chr : chars) {\n+            charsMap.put(chr.getId(), chr);\n+        }\n+        \n+        accountCharsLock.lock();    // accountCharsLock should be used after server's lgnWLock for compliance\n+        try {\n+            accountChars.put(accountId, charsMap);\n+        } finally {\n+            accountCharsLock.unlock();\n+        }\n+    }\n+    \n+    public void registerAccountCharacterView(Integer accountId, MapleCharacter chr) {\n+        accountCharsLock.lock();\n+        try {\n+            accountChars.get(accountId).put(chr.getId(), chr);\n+        } finally {\n+            accountCharsLock.unlock();\n+        }\n+    }\n+    \n+    public void unregisterAccountCharacterView(Integer accountId, Integer chrId) {\n+        accountCharsLock.lock();\n+        try {\n+            accountChars.get(accountId).remove(chrId);\n+        } finally {\n+            accountCharsLock.unlock();\n+        }\n+    }\n+    \n+    private static List<Entry<Integer, SortedMap<Integer, MapleCharacter>>> getSortedAccountCharacterView(Map<Integer, SortedMap<Integer, MapleCharacter>> map) {\n+        List<Entry<Integer, SortedMap<Integer, MapleCharacter>>> list = new ArrayList<>(map.size());\n+        for(Entry<Integer, SortedMap<Integer, MapleCharacter>> e : map.entrySet()) {\n+            list.add(e);\n+        }\n+        \n+        Collections.sort(list, new Comparator<Entry<Integer, SortedMap<Integer, MapleCharacter>>>() {\n+            @Override\n+            public int compare(Entry<Integer, SortedMap<Integer, MapleCharacter>> o1, Entry<Integer, SortedMap<Integer, MapleCharacter>> o2) {\n+                return o1.getKey() - o2.getKey();\n+            }\n+        });\n+        \n+        return list;\n+    }\n+    \n+    public List<MapleCharacter> getAllCharactersView() {    // sorted by accountid, charid\n+        List<MapleCharacter> chrList = new LinkedList<>();\n+        Map<Integer, SortedMap<Integer, MapleCharacter>> accChars;\n+        \n+        accountCharsLock.lock();\n+        try {\n+            accChars = new HashMap<>(accountChars);\n+        } finally {\n+            accountCharsLock.unlock();\n+        }\n+        \n+        for (Entry<Integer, SortedMap<Integer, MapleCharacter>> e : getSortedAccountCharacterView(accChars)) {\n+            for (MapleCharacter chr : e.getValue().values()) {\n+                chrList.add(chr);\n+            }\n+        }\n+        \n+        return chrList;\n+    }\n+    \n+    public List<MapleCharacter> getAccountCharactersView(Integer accountId) {\n+        List<MapleCharacter> chrList;\n+                \n+        accountCharsLock.lock();\n+        try {\n+            chrList = new LinkedList<>(accountChars.get(accountId).values());\n+        } finally {\n+            accountCharsLock.unlock();\n+        }\n+        \n+        return chrList;\n+    }\n+    \n     public PlayerStorage getPlayerStorage() {\n         return players;\n     }\n@@ -511,13 +599,45 @@ public void debugMarriageStatus() {\n         System.out.println(\"Guest list: \" + marriageGuests);\n     }\n     \n+    private void registerCharacterParty(Integer chrid, Integer partyid) {\n+        partyLock.lock();\n+        try {\n+            partyChars.put(chrid, partyid);\n+        } finally {\n+            partyLock.unlock();\n+        }\n+    }\n+    \n+    private void unregisterCharacterPartyInternal(Integer chrid) {\n+        partyChars.remove(chrid);\n+    }\n+    \n+    private void unregisterCharacterParty(Integer chrid) {\n+        partyLock.lock();\n+        try {\n+            unregisterCharacterPartyInternal(chrid);\n+        } finally {\n+            partyLock.unlock();\n+        }\n+    }\n+    \n+    public Integer getCharacterPartyid(Integer chrid) {\n+        partyLock.lock();\n+        try {\n+            return partyChars.get(chrid);\n+        } finally {\n+            partyLock.unlock();\n+        }\n+    }\n+    \n     public MapleParty createParty(MaplePartyCharacter chrfor) {\n         int partyid = runningPartyId.getAndIncrement();\n         MapleParty party = new MapleParty(partyid, chrfor);\n         \n         partyLock.lock();\n         try {\n             parties.put(party.getId(), party);\n+            registerCharacterParty(chrfor.getId(), partyid);\n         } finally {\n             partyLock.unlock();\n         }\n@@ -534,17 +654,47 @@ public MapleParty getParty(int partyid) {\n         }\n     }\n \n-    public MapleParty disbandParty(int partyid) {\n+    private MapleParty disbandParty(int partyid) {\n         partyLock.lock();\n         try {\n             return parties.remove(partyid);\n         } finally {\n             partyLock.unlock();\n         }\n     }\n-\n-    public void updateParty(MapleParty party, PartyOperation operation, MaplePartyCharacter target) {\n-        for (MaplePartyCharacter partychar : party.getMembers()) {\n+    \n+    private void updateCharacterParty(MapleParty party, PartyOperation operation, MaplePartyCharacter target, Collection<MaplePartyCharacter> partyMembers) {\n+        switch (operation) {\n+            case JOIN:\n+                registerCharacterParty(target.getId(), party.getId());\n+                break;\n+            \n+            case LEAVE:\n+            case EXPEL:\n+                unregisterCharacterParty(target.getId());\n+                break;\n+                \n+            case DISBAND:\n+                partyLock.lock();\n+                try {\n+                    for (MaplePartyCharacter partychar : partyMembers) {\n+                        unregisterCharacterPartyInternal(partychar.getId());\n+                    }\n+                } finally {\n+                    partyLock.unlock();\n+                }\n+                break;\n+                \n+            default:\n+                break;\n+        }\n+    }\n+    \n+    private void updateParty(MapleParty party, PartyOperation operation, MaplePartyCharacter target) {\n+        Collection<MaplePartyCharacter> partyMembers = party.getMembers();\n+        updateCharacterParty(party, operation, target, partyMembers);\n+        \n+        for (MaplePartyCharacter partychar : partyMembers) {\n             MapleCharacter chr = getPlayerStorage().getCharacterByName(partychar.getName());\n             if (chr != null) {\n                 if (operation == PartyOperation.DISBAND) {"}, {"sha": "3f2451c1380606a53759aa770e55397b98a58cb0", "filename": "src/scripting/AbstractPlayerInteraction.java", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/scripting/AbstractPlayerInteraction.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/scripting/AbstractPlayerInteraction.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/scripting/AbstractPlayerInteraction.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -495,7 +495,6 @@ public Item gainItem(int id, short quantity, boolean randomStats, boolean showMe\n \t\t\t}\n \t\t\tif (ItemConstants.getInventoryType(id) == MapleInventoryType.EQUIP) {\n \t\t\t\tif (randomStats) {\n-\t\t\t\t\titem = ii.randomizeStats((Equip) item);\n \t\t\t\t\tMapleInventoryManipulator.addFromDrop(c, ii.randomizeStats((Equip) item), false, petId);\n \t\t\t\t} else {\n \t\t\t\t\tMapleInventoryManipulator.addFromDrop(c, (Equip) item, false, petId);"}, {"sha": "5847d3c1f695741a2916bf4fc7f6994e1f2be598", "filename": "src/scripting/event/EventInstanceManager.java", "status": "modified", "additions": 14, "deletions": 1, "changes": 15, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/scripting/event/EventInstanceManager.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/scripting/event/EventInstanceManager.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/scripting/event/EventInstanceManager.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -558,6 +558,19 @@ public void playerKilled(MapleCharacter chr) {\n \t\t}\n \t}\n \n+        public void reviveMonster(MapleMonster mob) {\n+\t\ttry {\n+                        sL.lock();\n+                        try {\n+                                em.getIv().invokeFunction(\"monsterRevive\", this, mob);\n+                        } finally {\n+                                sL.unlock();\n+                        }\n+\t\t} catch (ScriptException | NoSuchMethodException ex) {\n+\t\t\tex.printStackTrace();\n+\t\t}\n+\t}\n+        \n \tpublic boolean revivePlayer(MapleCharacter chr) {\n \t\ttry {\n                         Object b;\n@@ -577,7 +590,7 @@ public boolean revivePlayer(MapleCharacter chr) {\n \t\t}\n \t\treturn true;\n \t}\n-\n+        \n \tpublic void playerDisconnected(MapleCharacter chr) {\n \t\ttry {\n                         sL.lock();"}, {"sha": "721a59c0fb743c4d418568c9c1ef1b737016cb5a", "filename": "src/scripting/npc/NPCConversationManager.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/scripting/npc/NPCConversationManager.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/scripting/npc/NPCConversationManager.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/scripting/npc/NPCConversationManager.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -317,7 +317,7 @@ public void displayGuildRanks() {\n         \n         public boolean canSpawnPlayerNpc(int mapid) {\n                 MapleCharacter chr = getPlayer();\n-                return !ServerConstants.PLAYERNPC_AUTODEPLOY && chr.getLevel() >= chr.getMaxClassLevel() && MaplePlayerNPC.canSpawnPlayerNpc(chr.getName(), mapid);\n+                return !ServerConstants.PLAYERNPC_AUTODEPLOY && chr.getLevel() >= chr.getMaxClassLevel() && !chr.isGM() && MaplePlayerNPC.canSpawnPlayerNpc(chr.getName(), mapid);\n         }\n         \n         public MaplePlayerNPC getPlayerNPCByScriptid(int scriptId) {"}, {"sha": "3723da4d8fd5a0df18c0777e6ec7bec7ea0ad6b4", "filename": "src/server/TimerManager.java", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/server/TimerManager.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/server/TimerManager.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/TimerManager.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -27,6 +27,7 @@\n import java.util.concurrent.ThreadFactory;\n import java.util.concurrent.TimeUnit;\n import java.util.concurrent.atomic.AtomicInteger;\n+import net.server.Server;\n import javax.management.MBeanServer;\n import javax.management.ObjectName;\n import tools.FilePrinter;\n@@ -78,7 +79,9 @@ public void stop() {\n \t\n     public Runnable purge() {//Yay?\n         return new Runnable() {\n+            @Override\n             public void run() {\n+                Server.getInstance().forceUpdateCurrentTime();\n                 ses.purge();\n             }\n         };"}, {"sha": "ffe783a6c789d69444bb3caa81cf34ee631662e7", "filename": "src/server/life/MapleMonster.java", "status": "modified", "additions": 51, "deletions": 17, "changes": 68, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/server/life/MapleMonster.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/server/life/MapleMonster.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/life/MapleMonster.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -56,9 +56,12 @@\n import java.util.concurrent.atomic.AtomicLong;\n import java.util.concurrent.locks.Lock;\n import tools.locks.MonitoredReentrantLock;\n+import net.server.Server;\n import net.server.channel.Channel;\n+import net.server.world.World;\n import net.server.world.MapleParty;\n import net.server.world.MaplePartyCharacter;\n+import scripting.event.EventInstanceManager;\n import server.TimerManager;\n import server.life.MapleLifeFactory.BanishInfo;\n import server.maps.MapleMap;\n@@ -128,6 +131,10 @@ public void disableDrops() {\n         this.dropsDisabled = true;\n     }\n \n+    public void enableDrops() {\n+        this.dropsDisabled = false;\n+    }\n+    \n     public boolean dropsDisabled() {\n         return dropsDisabled;\n     }\n@@ -233,7 +240,7 @@ public void setHpZero() {     // force HP = 0\n     \n     public boolean applyAnimationIfRoaming(int attackPos, int skillPos) {   // roam: not casting attack or skill animations\n         if(!animationLock.tryLock()) return false;\n-        \n+    \n         try {\n             long animationTime;\n         \n@@ -394,12 +401,13 @@ private int calcThresholdLevel(boolean isPqMob) {\n         }\n     }\n     \n-    public void distributeExperience(int killerId) {\n+    private void distributeExperience(int killerId) {\n         if (isAlive()) {\n             return;\n         }\n         \n-        int minThresholdLevel = calcThresholdLevel(this.getMap().getEventInstance() != null);\n+        EventInstanceManager eim = getMap().getEventInstance();\n+        int minThresholdLevel = calcThresholdLevel(eim != null);\n         int exp = getExp();\n         long totalHealth = maxHpPlusHeal.get();\n         Map<Integer, Float> expDist = new HashMap<>();\n@@ -412,12 +420,19 @@ public void distributeExperience(int killerId) {\n             expDist.put(damage.getKey(), exp8perHp * damage.getValue().get());\n         }\n         \n-        Collection<MapleCharacter> chrs = map.getCharacters();\n         Set<MapleCharacter> underleveled = new HashSet<>();\n-        for (MapleCharacter mc : chrs) {\n-            if (expDist.containsKey(mc.getId())) {\n+        Collection<MapleCharacter> mapChrs = map.getCharacters();\n+        for (MapleCharacter mc : mapChrs) {\n+            Float mcExp = expDist.remove(mc.getId());\n+            if (mcExp != null) {\n                 boolean isKiller = (mc.getId() == killerId);\n-                float xp = expDist.get(mc.getId());\n+                if (isKiller) {\n+                    if (eim != null) {\n+                        eim.monsterKilled(mc, this);\n+                    }\n+                }\n+                \n+                float xp = mcExp;\n                 if (isKiller) {\n                     xp += exp2;\n                 }\n@@ -438,6 +453,24 @@ public void distributeExperience(int killerId) {\n             }\n         }\n         \n+        if(!expDist.isEmpty()) {    // locate on world server the partyid of the missing characters\n+            World wserv = Server.getInstance().getWorld(map.getWorld());\n+            \n+            for (Entry<Integer, Float> ed : expDist.entrySet()) {\n+                boolean isKiller = (ed.getKey() == killerId);\n+                float xp = ed.getValue();\n+                if (isKiller) {\n+                    xp += exp2;\n+                }\n+\n+                Integer pID = wserv.getCharacterPartyid(ed.getKey());\n+                if (pID != null) {\n+                    float pXP = xp + (partyExp.containsKey(pID) ? partyExp.get(pID) : 0);\n+                    partyExp.put(pID, pXP);\n+                }\n+            }\n+        }\n+        \n         for (Entry<Integer, Float> party : partyExp.entrySet()) {\n             distributeExperienceToParty(party.getKey(), party.getValue(), killerId, underleveled, minThresholdLevel);\n         }\n@@ -447,13 +480,7 @@ public void distributeExperience(int killerId) {\n         }\n     }\n \n-    public void giveExpToCharacter(MapleCharacter attacker, float exp, boolean isKiller, int numExpSharers) {\n-        if (isKiller) {\n-            if (getMap().getEventInstance() != null) {\n-                getMap().getEventInstance().monsterKilled(attacker, this);\n-            }\n-        }\n-        \n+    private void giveExpToCharacter(MapleCharacter attacker, float exp, boolean isKiller, int numExpSharers) {\n         //PARTY BONUS: 2p -> +2% , 3p -> +4% , 4p -> +6% , 5p -> +8% , 6p -> +10%\n         final float partyModifier = numExpSharers <= 1 ? 0.0f : 0.02f * (numExpSharers - 1);\n         \n@@ -528,6 +555,8 @@ public MapleCharacter killBy(final MapleCharacter killer) {\n             }\n             \n             if(toSpawn.size() > 0) {\n+                final EventInstanceManager eim = this.getMap().getEventInstance();\n+                \n                 TimerManager.getInstance().schedule(new Runnable() {\n                     @Override\n                     public void run() {\n@@ -564,6 +593,10 @@ public void run() {\n                                 for(int i = 8810017; i >= 8810010; i--)\n                                     reviveMap.killMonster(reviveMap.getMonsterById(i), killer, true);\n                             }\n+                            \n+                            if(eim != null) {\n+                                eim.reviveMonster(mob);\n+                            }\n                         }\n                     }\n                 }, getAnimationTime(\"die1\"));\n@@ -599,11 +632,12 @@ public synchronized void dispatchMonsterKilled(boolean hasKiller) {\n             dispatchUpdateQuestMobCount();\n         }\n         \n-        if (getMap().getEventInstance() != null) {\n+        EventInstanceManager eim = getMap().getEventInstance();\n+        if (eim != null) {\n             if (!this.getStats().isFriendly()) {\n-                getMap().getEventInstance().monsterKilled(this, hasKiller);\n+                eim.monsterKilled(this, hasKiller);\n             } else {\n-                getMap().getEventInstance().friendlyKilled(this, hasKiller);\n+                eim.friendlyKilled(this, hasKiller);\n             }\n         }\n         "}, {"sha": "45c654eda8d0930517659a2f921fd8a07a045e42", "filename": "src/server/life/MaplePlayerNPC.java", "status": "modified", "additions": 3, "deletions": 34, "changes": 37, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/server/life/MaplePlayerNPC.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/server/life/MaplePlayerNPC.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/life/MaplePlayerNPC.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -403,11 +403,9 @@ private static int getNextScriptId(byte branch) {\n     private static MaplePlayerNPC createPlayerNPCInternal(MapleMap map, Point pos, MapleCharacter chr) {\n         int mapId = map.getId();\n         \n-        /*\n         if(!canSpawnPlayerNpc(chr.getName(), mapId)) {\n             return null;\n         }\n-        */\n         \n         byte branch = GameConstants.getHallOfFameBranch(chr.getJob(), mapId);\n         \n@@ -613,39 +611,10 @@ public static void removePlayerNPC(MapleCharacter chr) {\n         }\n     }\n     \n-    private static List<Integer> loadCharacteridsFromDB(int world) {\n-        List<Integer> list = new LinkedList<>();\n-        \n-        try {\n-            Connection con = DatabaseConnection.getConnection();\n-            PreparedStatement ps = con.prepareStatement(\"SELECT id FROM characters WHERE world = ?\");\n-            ps.setInt(1, world);\n-            \n-            ResultSet rs = ps.executeQuery();\n-            while(rs.next()) {\n-                list.add(rs.getInt(1));\n-            }\n-            \n-            rs.close();\n-            ps.close();\n-            con.close();\n-        } catch (SQLException e) {\n-            e.printStackTrace();\n-        }\n-        \n-        return list;\n-    }\n-    \n     public static void multicastSpawnPlayerNPC(int mapid, int world) {\n-        MapleClient mockClient = new MapleClient(null, null, null);\n-        \n-        for(Integer cid : loadCharacteridsFromDB(world)) {\n-            try {\n-                MapleCharacter mc = MapleCharacter.loadCharFromDB(cid, mockClient, false);\n-                spawnPlayerNPC(mapid, mc);\n-            } catch (SQLException sqle) {\n-                sqle.printStackTrace();\n-            }\n+        World wserv = Server.getInstance().getWorld(world);\n+        for(MapleCharacter mc : wserv.getAllCharactersView()) {\n+            spawnPlayerNPC(mapid, mc);\n         }\n     }\n     "}, {"sha": "650f209416fae4e056f601fb1317d6b130549697", "filename": "src/server/life/MobSkill.java", "status": "modified", "additions": 3, "deletions": 5, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/server/life/MobSkill.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/server/life/MobSkill.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/life/MobSkill.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -154,7 +154,7 @@ public void applyEffect(MapleCharacter player, MapleMonster monster, boolean ski\n \t\t}\n \t\tbreak;\n \t    case 120:\n-\t    \tdisease = MapleDisease.SEAL;\n+                disease = MapleDisease.SEAL;\n \t\tbreak;\n \t    case 121:\n \t    \tdisease = MapleDisease.DARKNESS;\n@@ -309,7 +309,7 @@ public void applyEffect(MapleCharacter player, MapleMonster monster, boolean ski\n             if (lt != null && rb != null && skill) {\n                 int i = 0;\n                 for (MapleCharacter character : getPlayersInRange(monster, player)) {\n-                    if (!character.isActiveBuffedValue(2321005)) {\n+                    if (!character.isActiveBuffedValue(2321005)) {  // holy shield\n                         if (disease.equals(MapleDisease.SEDUCE)) {\n                             if (i < 10) {\n                                 character.giveDebuff(MapleDisease.SEDUCE, this);\n@@ -329,9 +329,7 @@ public void applyEffect(MapleCharacter player, MapleMonster monster, boolean ski\n     }\n \n     private List<MapleCharacter> getPlayersInRange(MapleMonster monster, MapleCharacter player) {\n-        List<MapleCharacter> players = new ArrayList<MapleCharacter>();\n-        players.add(player);\n-        return monster.getMap().getPlayersInRange(calculateBoundingBox(monster.getPosition(), monster.isFacingLeft()), players);\n+        return monster.getMap().getPlayersInRange(calculateBoundingBox(monster.getPosition(), monster.isFacingLeft()), Collections.singletonList(player));\n     }\n \n     public int getSkillId() {"}, {"sha": "750d60c0e470d437ad1bddfc80ce13a138835861", "filename": "src/server/maps/MapleDoorObject.java", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/server/maps/MapleDoorObject.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/server/maps/MapleDoorObject.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/MapleDoorObject.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -19,11 +19,10 @@\n */\n package server.maps;\n \n-import client.MapleCharacter;\n import java.awt.Point;\n-\n-import tools.MaplePacketCreator;\n+import client.MapleCharacter;\n import client.MapleClient;\n+import tools.MaplePacketCreator;\n \n /**\n  *\n@@ -49,10 +48,9 @@ public MapleDoorObject(int owner, MapleMap destination, MapleMap origin, boolean\n         toPos = toPosition;\n     }\n     \n-    public void warp(final MapleCharacter chr, boolean toTown) {\n+    public void warp(final MapleCharacter chr) {\n         if (chr.getId() == ownerId || (chr.getParty() != null && chr.getParty().getMemberById(ownerId) != null)) {\n-            if(chr.getParty() == null && (to.isLastDoorOwner(chr.getId()) || toTown)) chr.changeMap(to, toPos);\n-            else chr.changeMap(to, to.findClosestPlayerSpawnpoint(toPos));    // weird issues happens with party, relocating players elsewhere....\n+            chr.changeMap(to, toPos);\n         } else {\n             chr.getClient().announce(MaplePacketCreator.blockedMessage(6));\n             chr.getClient().announce(MaplePacketCreator.enableActions());"}, {"sha": "7ce092931be18f1e4f8ae3ec370f608c5fd65ee9", "filename": "src/server/maps/MaplePlayerShop.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/server/maps/MaplePlayerShop.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/server/maps/MaplePlayerShop.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/MaplePlayerShop.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -38,7 +38,7 @@\n import java.util.concurrent.atomic.AtomicBoolean;\n import java.util.concurrent.locks.Lock;\n import tools.locks.MonitoredReentrantLock;\n-import net.SendOpcode;\n+import net.opcodes.SendOpcode;\n import server.MapleItemInformationProvider;\n import tools.MaplePacketCreator;\n import tools.Pair;"}, {"sha": "e5d9e3875e510116358d8c7334376073c6788499", "filename": "src/tools/FilePrinter.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/tools/FilePrinter.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/tools/FilePrinter.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/tools/FilePrinter.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -22,6 +22,7 @@\n             SQL_EXCEPTION = \"sqlexceptions.txt\",\n             PACKET_HANDLER = \"PacketHandler/\",\n             PORTAL = \"portals/\",\n+            PORTAL_STUCK = \"portalblocks/\",\n             NPC = \"npcs/\",\n             INVOCABLE = \"invocable/\",\n             REACTOR = \"reactors/\","}, {"sha": "d7f457ba72d640af085b76c08e4c0f743bfc4a44", "filename": "src/tools/MapleLogger.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/tools/MapleLogger.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/tools/MapleLogger.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/tools/MapleLogger.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -23,7 +23,7 @@\n import java.util.ArrayList;\n import java.util.List;\n \n-import net.RecvOpcode;\n+import net.opcodes.RecvOpcode;\n import client.MapleClient;\n \n /**"}, {"sha": "11148ab768fa326ad61fb791a5492e1a8bf0ec85", "filename": "src/tools/MaplePacketCreator.java", "status": "modified", "additions": 28, "deletions": 8, "changes": 36, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/tools/MaplePacketCreator.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/tools/MaplePacketCreator.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/tools/MaplePacketCreator.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -35,7 +35,7 @@\n import java.util.Map.Entry;\n import java.util.Set;\n \n-import net.SendOpcode;\n+import net.opcodes.SendOpcode;\n import net.server.PlayerCoolDownValueHolder;\n import net.server.Server;\n import net.server.channel.Channel;\n@@ -152,9 +152,10 @@ private static void addCharStats(final MaplePacketLittleEndianWriter mplew, Mapl\n                 mplew.writeInt(chr.getHair()); // hair\n \n                 for (int i = 0; i < 3; i++) {\n-                        if (chr.getPet(i) != null) //Checked GMS.. and your pets stay when going into the cash shop.\n+                        MaplePet pet = chr.getPet(i);\n+                        if (pet != null) //Checked GMS.. and your pets stay when going into the cash shop.\n                         {\n-                                mplew.writeLong(chr.getPet(i).getUniqueId());\n+                                mplew.writeLong(pet.getUniqueId());\n                         } else {\n                                 mplew.writeLong(0);\n                         }\n@@ -328,7 +329,7 @@ private static void addCharEntry(final MaplePacketLittleEndianWriter mplew, Mapl\n                 mplew.writeInt(chr.getJobRank()); // job rank\n                 mplew.writeInt(chr.getJobRankMove()); // move (negative is downwards)\n         }\n-\n+        \n         private static void addQuestInfo(final MaplePacketLittleEndianWriter mplew, MapleCharacter chr) {\n                 mplew.writeShort(chr.getStartedQuestsSize());\n                 for (MapleQuestStatus q : chr.getStartedQuests()) {\n@@ -1035,11 +1036,29 @@ public int compare(Pair<MapleStat, Integer> o1, Pair<MapleStat, Integer> o2) {\n                 mplew.writeInt(to.getId());\n                 mplew.write(spawnPoint);\n                 mplew.writeShort(chr.getHp());\n-                mplew.write(0);\n+                mplew.writeBool(false);\n                 mplew.writeLong(getTime(System.currentTimeMillis()));\n+                mplew.writeShort(0);\n                 return mplew.getPacket();\n         }\n-\n+        \n+        public static byte[] getWarpToMap(MapleMap to, int spawnPoint, Point spawnPosition, MapleCharacter chr) {\n+                final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n+                mplew.writeShort(SendOpcode.SET_FIELD.getValue());\n+                mplew.writeInt(chr.getClient().getChannel() - 1);\n+                mplew.writeInt(0);//updated\n+                mplew.write(0);//updated\n+                mplew.writeInt(to.getId());\n+                mplew.write(spawnPoint);\n+                mplew.writeShort(chr.getHp());\n+                mplew.writeBool(true);\n+                mplew.writeInt(spawnPosition.x);    // spawn position placement thanks to Arnah (Vertisy)\n+                mplew.writeInt(spawnPosition.y);\n+                mplew.writeLong(getTime(System.currentTimeMillis()));\n+                mplew.writeShort(0);\n+                return mplew.getPacket();\n+        }\n+        \n         /**\n          * Gets a packet to spawn a portal.\n          *\n@@ -4873,13 +4892,13 @@ private static void addPetInfo(final MaplePacketLittleEndianWriter mplew, MapleP\n         public static byte[] showAllCharacter(int chars, int unk) {\n                 final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter(11);\n                 mplew.writeShort(SendOpcode.VIEW_ALL_CHAR.getValue());\n-                mplew.write(1);\n+                mplew.write(chars > 0 ? 1 : 5); // 2: already connected to server, 3 : unk error (view-all-characters), 5 : cannot find any\n                 mplew.writeInt(chars);\n                 mplew.writeInt(unk);\n                 return mplew.getPacket();\n         }\n \n-        public static byte[] showAllCharacterInfo(int worldid, List<MapleCharacter> chars) {\n+        public static byte[] showAllCharacterInfo(int worldid, List<MapleCharacter> chars, boolean usePic) {\n                 final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n                 mplew.writeShort(SendOpcode.VIEW_ALL_CHAR.getValue());\n                 mplew.write(0);\n@@ -4888,6 +4907,7 @@ private static void addPetInfo(final MaplePacketLittleEndianWriter mplew, MapleP\n                 for (MapleCharacter chr : chars) {\n                         addCharEntry(mplew, chr, true);\n                 }\n+                mplew.write(usePic ? 1 : 2);\n                 return mplew.getPacket();\n         }\n "}, {"sha": "6a7b8b980afa792691d6d071cc8ad90e1ff1d709", "filename": "src/tools/locks/MonitoredLockType.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/src/tools/locks/MonitoredLockType.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/src/tools/locks/MonitoredLockType.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/tools/locks/MonitoredLockType.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -55,6 +55,7 @@\n     WORLD_PARTY,\n     WORLD_OWL,\n     WORLD_PETS,\n+    WORLD_CHARS,\n     WORLD_MOUNTS,\n     WORLD_PSHOPS,\n     WORLD_MERCHS,"}, {"sha": "e81f16c253f617dd70f673fddd14ee6efdd618a2", "filename": "tools/MapleMobBookUpdate/lib/MonsterBook_updated.img.xml", "status": "modified", "additions": 136, "deletions": 147, "changes": 283, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/tools/MapleMobBookUpdate/lib/MonsterBook_updated.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/tools/MapleMobBookUpdate/lib/MonsterBook_updated.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleMobBookUpdate/lib/MonsterBook_updated.img.xml?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -2489,23 +2489,22 @@\n       <int name=\"18\" value=\"2000001\" />\n       <int name=\"19\" value=\"2000002\" />\n       <int name=\"20\" value=\"2000003\" />\n-      <int name=\"21\" value=\"2060005\" />\n-      <int name=\"22\" value=\"2070001\" />\n-      <int name=\"23\" value=\"2070003\" />\n-      <int name=\"24\" value=\"2382003\" />\n-      <int name=\"25\" value=\"4000021\" />\n-      <int name=\"26\" value=\"4000024\" />\n-      <int name=\"27\" value=\"4001000\" />\n-      <int name=\"28\" value=\"4006001\" />\n-      <int name=\"29\" value=\"4007001\" />\n-      <int name=\"30\" value=\"4007003\" />\n-      <int name=\"31\" value=\"4010001\" />\n-      <int name=\"32\" value=\"4010002\" />\n-      <int name=\"33\" value=\"4020000\" />\n-      <int name=\"34\" value=\"4020007\" />\n-      <int name=\"35\" value=\"4130011\" />\n-      <int name=\"36\" value=\"4130016\" />\n-      <int name=\"37\" value=\"4130017\" />\n+      <int name=\"21\" value=\"2070001\" />\n+      <int name=\"22\" value=\"2070003\" />\n+      <int name=\"23\" value=\"2382003\" />\n+      <int name=\"24\" value=\"4000021\" />\n+      <int name=\"25\" value=\"4000024\" />\n+      <int name=\"26\" value=\"4001000\" />\n+      <int name=\"27\" value=\"4006001\" />\n+      <int name=\"28\" value=\"4007001\" />\n+      <int name=\"29\" value=\"4007003\" />\n+      <int name=\"30\" value=\"4010001\" />\n+      <int name=\"31\" value=\"4010002\" />\n+      <int name=\"32\" value=\"4020000\" />\n+      <int name=\"33\" value=\"4020007\" />\n+      <int name=\"34\" value=\"4130011\" />\n+      <int name=\"35\" value=\"4130016\" />\n+      <int name=\"36\" value=\"4130017\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  32\\nForm : Mammal\\nSpecial Trait : -50% Fire Attribute Damage. Vulnerable to Ice Attribute Attacks.\\n\\nThe Wild Boar was training hard in the mountain plateaus when it was inspired by the heated sunlight which caused a big spark on its back. The Boars' such a fighting spirit has become a great example for all the fighters of Perion. Once in a while, though, the overly zealous Wild Boar would spark too big of a fire on its back and turn itself into a piece of roasted barbecue, offering themselves as great meals for the fighters of Perion. \" />\n   </imgdir>\n@@ -2856,19 +2855,18 @@\n       <int name=\"18\" value=\"2043214\" />\n       <int name=\"19\" value=\"2049000\" />\n       <int name=\"20\" value=\"2060000\" />\n-      <int name=\"21\" value=\"2060005\" />\n-      <int name=\"22\" value=\"2061000\" />\n-      <int name=\"23\" value=\"2070008\" />\n-      <int name=\"24\" value=\"2382017\" />\n-      <int name=\"25\" value=\"4000113\" />\n-      <int name=\"26\" value=\"4004000\" />\n-      <int name=\"27\" value=\"4020000\" />\n-      <int name=\"28\" value=\"4020002\" />\n-      <int name=\"29\" value=\"4020007\" />\n-      <int name=\"30\" value=\"4031992\" />\n-      <int name=\"31\" value=\"4130007\" />\n-      <int name=\"32\" value=\"4130008\" />\n-      <int name=\"33\" value=\"4131011\" />\n+      <int name=\"21\" value=\"2061000\" />\n+      <int name=\"22\" value=\"2070008\" />\n+      <int name=\"23\" value=\"2382017\" />\n+      <int name=\"24\" value=\"4000113\" />\n+      <int name=\"25\" value=\"4004000\" />\n+      <int name=\"26\" value=\"4020000\" />\n+      <int name=\"27\" value=\"4020002\" />\n+      <int name=\"28\" value=\"4020007\" />\n+      <int name=\"29\" value=\"4031992\" />\n+      <int name=\"30\" value=\"4130007\" />\n+      <int name=\"31\" value=\"4130008\" />\n+      <int name=\"32\" value=\"4131011\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  34\\nForm : Spirit\\n\\nThere are particular entities that linger the infinitude of the space-time continuum, where no ordinary creature can reach by ordinary means; Tick is one of them. Capitalizing on the Dimensional Schism, Tick can be found in the deserted Ludibrium Clocktower, feeding on time. \" />\n   </imgdir>\n@@ -2996,21 +2994,20 @@\n       <int name=\"20\" value=\"2000003\" />\n       <int name=\"21\" value=\"2041010\" />\n       <int name=\"22\" value=\"2044414\" />\n-      <int name=\"23\" value=\"2060005\" />\n-      <int name=\"24\" value=\"2070003\" />\n-      <int name=\"25\" value=\"2070008\" />\n-      <int name=\"26\" value=\"2382029\" />\n-      <int name=\"27\" value=\"4000021\" />\n-      <int name=\"28\" value=\"4000026\" />\n-      <int name=\"29\" value=\"4000029\" />\n-      <int name=\"30\" value=\"4003004\" />\n-      <int name=\"31\" value=\"4010004\" />\n-      <int name=\"32\" value=\"4020003\" />\n-      <int name=\"33\" value=\"4020004\" />\n-      <int name=\"34\" value=\"4030012\" />\n-      <int name=\"35\" value=\"4130001\" />\n-      <int name=\"36\" value=\"4130008\" />\n-      <int name=\"37\" value=\"4130010\" />\n+      <int name=\"23\" value=\"2070003\" />\n+      <int name=\"24\" value=\"2070008\" />\n+      <int name=\"25\" value=\"2382029\" />\n+      <int name=\"26\" value=\"4000021\" />\n+      <int name=\"27\" value=\"4000026\" />\n+      <int name=\"28\" value=\"4000029\" />\n+      <int name=\"29\" value=\"4003004\" />\n+      <int name=\"30\" value=\"4010004\" />\n+      <int name=\"31\" value=\"4020003\" />\n+      <int name=\"32\" value=\"4020004\" />\n+      <int name=\"33\" value=\"4030012\" />\n+      <int name=\"34\" value=\"4130001\" />\n+      <int name=\"35\" value=\"4130008\" />\n+      <int name=\"36\" value=\"4130010\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  37\\nForm : Mammal\\n\\nA cute monkey monster that loves banana and toys. It apparently was influenced by the magic powers of Ellinia which would cause Lupin to inadvertently cast magic attacks once in a while. It's apparently an extremely stubborn monster that will, once agitated, throw its banana and go after an adventurer to the very end. If you have high magic defenses, then you'll be able to protect yourself from the banana that Lupin may throw at you. \" />\n   </imgdir>\n@@ -11913,14 +11910,13 @@\n       <int name=\"34\" value=\"2044902\" />\n       <int name=\"35\" value=\"2044904\" />\n       <int name=\"36\" value=\"2070007\" />\n-      <int name=\"37\" value=\"2280001\" />\n-      <int name=\"38\" value=\"2280013\" />\n-      <int name=\"39\" value=\"2290070\" />\n-      <int name=\"40\" value=\"2290091\" />\n-      <int name=\"41\" value=\"2388017\" />\n-      <int name=\"42\" value=\"4001111\" />\n-      <int name=\"43\" value=\"4030012\" />\n-      <int name=\"44\" value=\"4031906\" />\n+      <int name=\"37\" value=\"2280013\" />\n+      <int name=\"38\" value=\"2290070\" />\n+      <int name=\"39\" value=\"2290091\" />\n+      <int name=\"40\" value=\"2388017\" />\n+      <int name=\"41\" value=\"4001111\" />\n+      <int name=\"42\" value=\"4030012\" />\n+      <int name=\"43\" value=\"4031906\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  100\\nForm : Devil\\nSpecial Trait : Resistant to Poison Attribute Attacks. Vulnerable to Sanctity Attribute Attacks.\\n\\nA monster that attacks the ship of adventurers near the continent of Ossyria. It looks similar to the Jr. Balrogs that are found near Victoria Island, but the Crimson Balrogs fly using their huge wings. Some say that the habitat of Crimson Balrogs is an island like Orbis, but such claim has not been confirmed. Due to its force of attack and magic skills that will surpass your expectation, it is suggested that you evade to a safe area rather than hastily attack back should you find yourself in the midst of their attack. They are vulnerable to sanctity attribute.\" />\n   </imgdir>\n@@ -11953,26 +11949,25 @@\n       <int name=\"21\" value=\"2041043\" />\n       <int name=\"22\" value=\"2044902\" />\n       <int name=\"23\" value=\"2044904\" />\n-      <int name=\"24\" value=\"2280011\" />\n-      <int name=\"25\" value=\"2290042\" />\n-      <int name=\"26\" value=\"2290053\" />\n-      <int name=\"27\" value=\"2290073\" />\n-      <int name=\"28\" value=\"2290102\" />\n-      <int name=\"29\" value=\"2290118\" />\n-      <int name=\"30\" value=\"2386012\" />\n-      <int name=\"31\" value=\"4000180\" />\n-      <int name=\"32\" value=\"4004002\" />\n-      <int name=\"33\" value=\"4006000\" />\n-      <int name=\"34\" value=\"4006001\" />\n-      <int name=\"35\" value=\"4010005\" />\n-      <int name=\"36\" value=\"4030012\" />\n-      <int name=\"37\" value=\"4031252\" />\n-      <int name=\"38\" value=\"4031254\" />\n-      <int name=\"39\" value=\"4031255\" />\n-      <int name=\"40\" value=\"4130004\" />\n-      <int name=\"41\" value=\"4130006\" />\n-      <int name=\"42\" value=\"4130007\" />\n-      <int name=\"43\" value=\"4161018\" />\n+      <int name=\"24\" value=\"2290042\" />\n+      <int name=\"25\" value=\"2290053\" />\n+      <int name=\"26\" value=\"2290073\" />\n+      <int name=\"27\" value=\"2290102\" />\n+      <int name=\"28\" value=\"2290118\" />\n+      <int name=\"29\" value=\"2386012\" />\n+      <int name=\"30\" value=\"4000180\" />\n+      <int name=\"31\" value=\"4004002\" />\n+      <int name=\"32\" value=\"4006000\" />\n+      <int name=\"33\" value=\"4006001\" />\n+      <int name=\"34\" value=\"4010005\" />\n+      <int name=\"35\" value=\"4030012\" />\n+      <int name=\"36\" value=\"4031252\" />\n+      <int name=\"37\" value=\"4031254\" />\n+      <int name=\"38\" value=\"4031255\" />\n+      <int name=\"39\" value=\"4130004\" />\n+      <int name=\"40\" value=\"4130006\" />\n+      <int name=\"41\" value=\"4130007\" />\n+      <int name=\"42\" value=\"4161018\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  100\\nForm : Fish\\nSpecial Trait : -50% Fire Attribute Damage.\\n\\nA shark found in the deep waters of Aqua Road. The Shark turned even more ferocious as the purifying force of Aqua Road weakened. It attacks with its sharp teeth that can inflict deadly injuries, and some daring adventurers hunt these Sharks to collect their teeth as a trophy.\" />\n   </imgdir>\n@@ -12743,9 +12738,8 @@\n       <int name=\"48\" value=\"4007007\" />\n       <int name=\"49\" value=\"4010001\" />\n       <int name=\"50\" value=\"4020001\" />\n-      <int name=\"51\" value=\"4031461\" />\n-      <int name=\"52\" value=\"4130001\" />\n-      <int name=\"53\" value=\"4130014\" />\n+      <int name=\"51\" value=\"4130001\" />\n+      <int name=\"52\" value=\"4130014\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  110\\nForm : Immortal\\nSpecial Trait : Vulnerable to Sanctity Attribute Attacks.\\n\\nA group of skeletons that belong to the dragon family. The Skelegons can be found roaming around the dragon nests, unaware that they have died and have become Undeads. They are the reincarnation of dead dragons who were killed during the Dragon War, and will attack anything that comes near regardless of whether the approaching enemy is a human, a dragon, or any other forms of life. \" />\n   </imgdir>\n@@ -12782,33 +12776,32 @@\n       <int name=\"22\" value=\"2044201\" />\n       <int name=\"23\" value=\"2044214\" />\n       <int name=\"24\" value=\"2044801\" />\n-      <int name=\"25\" value=\"2280000\" />\n-      <int name=\"26\" value=\"2290002\" />\n-      <int name=\"27\" value=\"2290009\" />\n-      <int name=\"28\" value=\"2290021\" />\n-      <int name=\"29\" value=\"2290034\" />\n-      <int name=\"30\" value=\"2290041\" />\n-      <int name=\"31\" value=\"2290052\" />\n-      <int name=\"32\" value=\"2290053\" />\n-      <int name=\"33\" value=\"2290058\" />\n-      <int name=\"34\" value=\"2290068\" />\n-      <int name=\"35\" value=\"2290071\" />\n-      <int name=\"36\" value=\"2290073\" />\n-      <int name=\"37\" value=\"2290090\" />\n-      <int name=\"38\" value=\"2290112\" />\n-      <int name=\"39\" value=\"2290121\" />\n-      <int name=\"40\" value=\"2290130\" />\n-      <int name=\"41\" value=\"2387003\" />\n-      <int name=\"42\" value=\"4000244\" />\n-      <int name=\"43\" value=\"4000245\" />\n-      <int name=\"44\" value=\"4000273\" />\n-      <int name=\"45\" value=\"4004004\" />\n-      <int name=\"46\" value=\"4006000\" />\n-      <int name=\"47\" value=\"4006001\" />\n-      <int name=\"48\" value=\"4020002\" />\n-      <int name=\"49\" value=\"4020006\" />\n-      <int name=\"50\" value=\"4130010\" />\n-      <int name=\"51\" value=\"4130022\" />\n+      <int name=\"25\" value=\"2290002\" />\n+      <int name=\"26\" value=\"2290009\" />\n+      <int name=\"27\" value=\"2290021\" />\n+      <int name=\"28\" value=\"2290034\" />\n+      <int name=\"29\" value=\"2290041\" />\n+      <int name=\"30\" value=\"2290052\" />\n+      <int name=\"31\" value=\"2290053\" />\n+      <int name=\"32\" value=\"2290058\" />\n+      <int name=\"33\" value=\"2290068\" />\n+      <int name=\"34\" value=\"2290071\" />\n+      <int name=\"35\" value=\"2290073\" />\n+      <int name=\"36\" value=\"2290090\" />\n+      <int name=\"37\" value=\"2290112\" />\n+      <int name=\"38\" value=\"2290121\" />\n+      <int name=\"39\" value=\"2290130\" />\n+      <int name=\"40\" value=\"2387003\" />\n+      <int name=\"41\" value=\"4000244\" />\n+      <int name=\"42\" value=\"4000245\" />\n+      <int name=\"43\" value=\"4000273\" />\n+      <int name=\"44\" value=\"4004004\" />\n+      <int name=\"45\" value=\"4006000\" />\n+      <int name=\"46\" value=\"4006001\" />\n+      <int name=\"47\" value=\"4020002\" />\n+      <int name=\"48\" value=\"4020006\" />\n+      <int name=\"49\" value=\"4130010\" />\n+      <int name=\"50\" value=\"4130022\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  113\\nForm : Immortal\\nSpecial Trait : Vulnerable to Sanctity Attribute Attacks.\\n\\nA group of skeletons that belong to the dragon family. The Skelegons can be found roaming around the dragon nests, unaware that they have died and have become Undeads. They are the reincarnation of dead dragons who were killed during the Dragon War, and will attack anything that comes near regardless of whether the approaching enemy is a human, a dragon, or any other forms of life. Looking at the cane that they hold in one hand, they are suspected to have been a group of old veteran dragons.\" />\n   </imgdir>\n@@ -13044,19 +13037,18 @@\n       <int name=\"12\" value=\"2040932\" />\n       <int name=\"13\" value=\"2044012\" />\n       <int name=\"14\" value=\"2044013\" />\n-      <int name=\"15\" value=\"2280011\" />\n-      <int name=\"16\" value=\"2280014\" />\n-      <int name=\"17\" value=\"2290078\" />\n-      <int name=\"18\" value=\"2290079\" />\n-      <int name=\"19\" value=\"2290095\" />\n-      <int name=\"20\" value=\"2387006\" />\n-      <int name=\"21\" value=\"4000449\" />\n-      <int name=\"22\" value=\"4000451\" />\n-      <int name=\"23\" value=\"4004000\" />\n-      <int name=\"24\" value=\"4010004\" />\n-      <int name=\"25\" value=\"4020001\" />\n-      <int name=\"26\" value=\"4020009\" />\n-      <int name=\"27\" value=\"4130005\" />\n+      <int name=\"15\" value=\"2280014\" />\n+      <int name=\"16\" value=\"2290078\" />\n+      <int name=\"17\" value=\"2290079\" />\n+      <int name=\"18\" value=\"2290095\" />\n+      <int name=\"19\" value=\"2387006\" />\n+      <int name=\"20\" value=\"4000449\" />\n+      <int name=\"21\" value=\"4000451\" />\n+      <int name=\"22\" value=\"4004000\" />\n+      <int name=\"23\" value=\"4010004\" />\n+      <int name=\"24\" value=\"4020001\" />\n+      <int name=\"25\" value=\"4020009\" />\n+      <int name=\"26\" value=\"4130005\" />\n     </imgdir>\n     <string name=\"episode\" value=\"Level : Lv.106\\nForm : Spirit\\n\\nThe Qualm Monks stand at the Road of Regrets, beyond the Gate of the Past, inside the Temple of Time.  They serve Rhinne, the Goddess of Time.  In order to never have any regrets, they wear a neutral mask to restrain all emotions.  However, no one knows what they are really feeling beneath those masks.\" />\n   </imgdir>\n@@ -13297,24 +13289,23 @@\n       <int name=\"9\" value=\"2022003\" />\n       <int name=\"10\" value=\"2040501\" />\n       <int name=\"11\" value=\"2043701\" />\n-      <int name=\"12\" value=\"2280002\" />\n-      <int name=\"13\" value=\"2290041\" />\n-      <int name=\"14\" value=\"2290092\" />\n-      <int name=\"15\" value=\"2290093\" />\n-      <int name=\"16\" value=\"2290115\" />\n-      <int name=\"17\" value=\"2290137\" />\n-      <int name=\"18\" value=\"2290139\" />\n-      <int name=\"19\" value=\"2387013\" />\n-      <int name=\"20\" value=\"4000458\" />\n-      <int name=\"21\" value=\"4000459\" />\n-      <int name=\"22\" value=\"4004002\" />\n-      <int name=\"23\" value=\"4007001\" />\n-      <int name=\"24\" value=\"4007007\" />\n-      <int name=\"25\" value=\"4010000\" />\n-      <int name=\"26\" value=\"4020000\" />\n-      <int name=\"27\" value=\"4020009\" />\n-      <int name=\"28\" value=\"4130003\" />\n-      <int name=\"29\" value=\"4130012\" />\n+      <int name=\"12\" value=\"2290041\" />\n+      <int name=\"13\" value=\"2290092\" />\n+      <int name=\"14\" value=\"2290093\" />\n+      <int name=\"15\" value=\"2290115\" />\n+      <int name=\"16\" value=\"2290137\" />\n+      <int name=\"17\" value=\"2290139\" />\n+      <int name=\"18\" value=\"2387013\" />\n+      <int name=\"19\" value=\"4000458\" />\n+      <int name=\"20\" value=\"4000459\" />\n+      <int name=\"21\" value=\"4004002\" />\n+      <int name=\"22\" value=\"4007001\" />\n+      <int name=\"23\" value=\"4007007\" />\n+      <int name=\"24\" value=\"4010000\" />\n+      <int name=\"25\" value=\"4020000\" />\n+      <int name=\"26\" value=\"4020009\" />\n+      <int name=\"27\" value=\"4130003\" />\n+      <int name=\"28\" value=\"4130012\" />\n     </imgdir>\n     <string name=\"episode\" value=\"Level : Lv.131\\nForm : Spirit\\n\\nThe chief of the Oblivion Guardians stands at the Road to Oblivion, beyond the Gate of the Past, inside the Temple of Time.  Its sole purpose is to protect Rhinne, the Goddess of Time.  Compared to other guardians, its armor seems more sturdy and brilliantly decorated.  It once was a human knight, but throughout the many years of protecting the goddess inside the temple, it has cast off its humanness.  Now it only exists to serve the goddess.  The only evidence left of its lost humanity is its shriveled heart that remains as an empty shell of lost memories.\" />\n   </imgdir>\n@@ -13752,10 +13743,9 @@\n       <int name=\"28\" value=\"2044501\" />\n       <int name=\"29\" value=\"2044601\" />\n       <int name=\"30\" value=\"2044701\" />\n-      <int name=\"31\" value=\"2280012\" />\n-      <int name=\"32\" value=\"2290031\" />\n-      <int name=\"33\" value=\"2290129\" />\n-      <int name=\"34\" value=\"2388054\" />\n+      <int name=\"31\" value=\"2290031\" />\n+      <int name=\"32\" value=\"2290129\" />\n+      <int name=\"33\" value=\"2388054\" />\n     </imgdir>\n     <string name=\"episode\" value=\"\ub808\ubca8 : Lv.85\\n\ud615\ud0dc : \ubb34\uae30\ubb3c\ud615\\n\\n\ube45\ud1a0\ub9ac\uc544\uc911\uc559\ub358\uc804\uc758 \uac1c\ubbf8\uad74\uad11\uc7a5\uc5d0\ub294 \uc720\uba85\ud55c \ub178\uc810\uc0c1\uc778\uc774 \uc788\ub2e4. \ud558\uc9c0\ub9cc \uadf8 \ubcf4\ub2e4 \ub354 \uae4a\uc740 \ub358\uc804\uc5d0 \uac00\ub054\uc529 \uc815\uccb4\ubd88\uba85\uc758 \ud3ec\uc7a5\ub9c8\ucc28\uac00 \ubb38\uc744 \uc5f0\ub2e4\ub294\ub370... \ub354 \ud2b9\uc774\ud55c \uc810\uc740 \uc774 \ud3ec\uc7a5\ub9c8\ucc28\uc5d0\uc11c \ubb3c\uac74\uc744 \uc0ac \ubcf8 \uc0ac\ub78c\uc740 \uc544\uc9c1 \ud55c \uba85\ub3c4 \uc5c6\ub2e4\ub294 \uac83\uc774\ub2e4. \uadf8 \uc774\uc720\ub294 \uac00\uae4c\uc774 \ub2e4\uac00\uac00\uae30\ub9cc \ud558\uba74 \uac11\uc790\uae30 \ud0dc\ub3c4\uac00 180\ub3c4  \ub2ec\ub77c\uc9c0\uae30 \ub54c\ubb38\uc774\ub77c\ub294\ub370... \uac1c\ubbf8\uad74 \uad11\uc7a5\uc758 \ub178\uc810\uc0c1\uc778\uc740 \uacbd\uc7c1\uc790\uc758 \ucd9c\ud604\uc5d0 \uc2ec\uae30\uac00 \ubd88\ud3b8\ud55c\uac83 \uac19\ub2e4.\" />\n   </imgdir>\n@@ -14234,15 +14224,14 @@\n       <int name=\"0\" value=\"990000900\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2280003\" />\n-      <int name=\"1\" value=\"2280015\" />\n-      <int name=\"2\" value=\"2290026\" />\n-      <int name=\"3\" value=\"2290064\" />\n-      <int name=\"4\" value=\"2290075\" />\n-      <int name=\"5\" value=\"2290093\" />\n-      <int name=\"6\" value=\"2290096\" />\n-      <int name=\"7\" value=\"2388021\" />\n-      <int name=\"8\" value=\"4001024\" />\n+      <int name=\"0\" value=\"2280015\" />\n+      <int name=\"1\" value=\"2290026\" />\n+      <int name=\"2\" value=\"2290064\" />\n+      <int name=\"3\" value=\"2290075\" />\n+      <int name=\"4\" value=\"2290093\" />\n+      <int name=\"5\" value=\"2290096\" />\n+      <int name=\"6\" value=\"2388021\" />\n+      <int name=\"7\" value=\"4001024\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  Unknown\\nForm : Immortal\\nSpecial Trait : -50% Damage of All Attributes.\\n\\nSharen III, the ruler of the great empire that once existed in the highlands known as Sharenian, called out this evil spirit to guard the legendary jewel, Rubian. Ergoth, whom Sharen III revived, betrayed Sharen III by using the power of Rubian to destroy Sharenian and building his own empire on top of the remains. After a long time passed, the ruins of Sharenian was discovered, and the people who went inside to explore laid their hands on Rubian; this awakened Ergoth, who had been asleep for a long time.\" />\n   </imgdir>"}, {"sha": "9b6910314254cdb6db9895015a3c5959546a3e5d", "filename": "tools/MapleQuestItemFetcher/src/maplequestitemfetcher/MapleQuestItemFetcher.java", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/tools/MapleQuestItemFetcher/src/maplequestitemfetcher/MapleQuestItemFetcher.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/tools/MapleQuestItemFetcher/src/maplequestitemfetcher/MapleQuestItemFetcher.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleQuestItemFetcher/src/maplequestitemfetcher/MapleQuestItemFetcher.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -429,7 +429,7 @@ private static void printReportFileHeader() {\n         printWriter.println();\n     }\n     \n-    static private List<Entry<Integer, Integer>> getSortedMapEntries0(Map<Integer, Integer> map) {\n+    private static List<Entry<Integer, Integer>> getSortedMapEntries0(Map<Integer, Integer> map) {\n         List<Entry<Integer, Integer>> list = new ArrayList<>(map.size());\n         for(Entry<Integer, Integer> e : map.entrySet()) {\n             list.add(e);\n@@ -445,7 +445,7 @@ public int compare(Entry<Integer, Integer> o1, Entry<Integer, Integer> o2) {\n         return list;\n     }\n     \n-    static private List<Entry<Integer, int[]>> getSortedMapEntries1(Map<Integer, int[]> map) {\n+    private static List<Entry<Integer, int[]>> getSortedMapEntries1(Map<Integer, int[]> map) {\n         List<Entry<Integer, int[]>> list = new ArrayList<>(map.size());\n         for(Entry<Integer, int[]> e : map.entrySet()) {\n             list.add(e);\n@@ -461,7 +461,7 @@ public int compare(Entry<Integer, int[]> o1, Entry<Integer, int[]> o2) {\n         return list;\n     }\n     \n-    static private List<Pair<Integer, List<Integer>>> getSortedMapEntries2(Map<Integer, Set<Integer>> map) {\n+    private static List<Pair<Integer, List<Integer>>> getSortedMapEntries2(Map<Integer, Set<Integer>> map) {\n         List<Pair<Integer, List<Integer>>> list = new ArrayList<>(map.size());\n         for(Entry<Integer, Set<Integer>> e : map.entrySet()) {\n             List<Integer> il = new ArrayList<>(2);"}, {"sha": "572a7263503667ae86eeb4b8c11fb156cc851337", "filename": "tools/MapleQuestlineFetcher/src/maplequestlinefetcher/MapleQuestlineFetcher.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/tools/MapleQuestlineFetcher/src/maplequestlinefetcher/MapleQuestlineFetcher.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/tools/MapleQuestlineFetcher/src/maplequestlinefetcher/MapleQuestlineFetcher.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleQuestlineFetcher/src/maplequestlinefetcher/MapleQuestlineFetcher.java?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -380,7 +380,7 @@ private static void ReportQuestlineData() {\n     }\n     \n     /*\n-    static private List<Pair<Integer, List<Integer>>> getSortedMapEntries(Map<Integer, List<Integer>> map) {\n+    private static List<Pair<Integer, List<Integer>>> getSortedMapEntries(Map<Integer, List<Integer>> map) {\n         List<Pair<Integer, List<Integer>>> list = new ArrayList<>(map.size());\n         for(Map.Entry<Integer, List<Integer>> e : map.entrySet()) {\n             List<Integer> il = new ArrayList<>(2);"}, {"sha": "57eda21771028fc63b799d200bed4ddaa33c03c0", "filename": "wz/Map.wz/Map/Map6/677000010.img.xml", "status": "modified", "additions": 1, "deletions": 1044, "changes": 1045, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/wz/Map.wz/Map/Map6/677000010.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/wz/Map.wz/Map/Map6/677000010.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map6/677000010.img.xml?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -1,1044 +1 @@\n-<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n-<imgdir name=\"677000010.img\">\n-  <imgdir name=\"info\">\n-    <int name=\"version\" value=\"10\"/>\n-    <int name=\"cloud\" value=\"0\"/>\n-    <int name=\"town\" value=\"0\"/>\n-    <int name=\"swim\" value=\"0\"/>\n-    <int name=\"returnMap\" value=\"105050400\"/>\n-    <int name=\"forcedReturn\" value=\"999999999\"/>\n-    <float name=\"mobRate\" value=\"1.0\"/>\n-    <string name=\"bgm\" value=\"Bgm00/SleepyWood\"/>\n-    <string name=\"mapMark\" value=\"Dungeon\"/>\n-    <int name=\"hideMinimap\" value=\"1\"/>\n-    <int name=\"fieldLimit\" value=\"12286\"/>\n-  </imgdir>\n-  <imgdir name=\"back\">\n-    <imgdir name=\"0\">\n-      <string name=\"bS\" value=\"darkWood\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"26\"/>\n-      <int name=\"y\" value=\"33\"/>\n-      <int name=\"rx\" value=\"50\"/>\n-      <int name=\"ry\" value=\"5\"/>\n-      <int name=\"type\" value=\"5\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-    <imgdir name=\"1\">\n-      <string name=\"bS\" value=\"darkWood\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"26\"/>\n-      <int name=\"y\" value=\"-305\"/>\n-      <int name=\"rx\" value=\"0\"/>\n-      <int name=\"ry\" value=\"0\"/>\n-      <int name=\"type\" value=\"0\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-    <imgdir name=\"2\">\n-      <string name=\"bS\" value=\"darkWood\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"3\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"-76\"/>\n-      <int name=\"y\" value=\"-19\"/>\n-      <int name=\"rx\" value=\"0\"/>\n-      <int name=\"ry\" value=\"0\"/>\n-      <int name=\"type\" value=\"0\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-    <imgdir name=\"3\">\n-      <string name=\"bS\" value=\"darkWood\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"4\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"131\"/>\n-      <int name=\"y\" value=\"-27\"/>\n-      <int name=\"rx\" value=\"0\"/>\n-      <int name=\"ry\" value=\"0\"/>\n-      <int name=\"type\" value=\"0\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-    <imgdir name=\"4\">\n-      <string name=\"bS\" value=\"darkWood\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"4\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"-244\"/>\n-      <int name=\"y\" value=\"-12\"/>\n-      <int name=\"rx\" value=\"0\"/>\n-      <int name=\"ry\" value=\"0\"/>\n-      <int name=\"type\" value=\"0\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-    <imgdir name=\"5\">\n-      <string name=\"bS\" value=\"darkWood\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"5\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"335\"/>\n-      <int name=\"y\" value=\"-3\"/>\n-      <int name=\"rx\" value=\"0\"/>\n-      <int name=\"ry\" value=\"0\"/>\n-      <int name=\"type\" value=\"0\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-    <imgdir name=\"6\">\n-      <string name=\"bS\" value=\"darkWood\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"4\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"26\"/>\n-      <int name=\"y\" value=\"-14\"/>\n-      <int name=\"rx\" value=\"0\"/>\n-      <int name=\"ry\" value=\"0\"/>\n-      <int name=\"type\" value=\"0\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-    <imgdir name=\"7\">\n-      <string name=\"bS\" value=\"darkWood\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"6\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"-155\"/>\n-      <int name=\"y\" value=\"20\"/>\n-      <int name=\"rx\" value=\"0\"/>\n-      <int name=\"ry\" value=\"0\"/>\n-      <int name=\"type\" value=\"0\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-    <imgdir name=\"8\">\n-      <string name=\"bS\" value=\"poisonForest\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"15\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"-138\"/>\n-      <int name=\"y\" value=\"176\"/>\n-      <int name=\"rx\" value=\"10\"/>\n-      <int name=\"ry\" value=\"5\"/>\n-      <int name=\"type\" value=\"4\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-    <imgdir name=\"9\">\n-      <string name=\"bS\" value=\"poisonForest\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"17\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"-188\"/>\n-      <int name=\"y\" value=\"245\"/>\n-      <int name=\"rx\" value=\"5\"/>\n-      <int name=\"ry\" value=\"5\"/>\n-      <int name=\"type\" value=\"4\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-    <imgdir name=\"10\">\n-      <string name=\"bS\" value=\"poisonForest\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"17\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"-221\"/>\n-      <int name=\"y\" value=\"-221\"/>\n-      <int name=\"rx\" value=\"10\"/>\n-      <int name=\"ry\" value=\"5\"/>\n-      <int name=\"type\" value=\"4\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-    <imgdir name=\"11\">\n-      <string name=\"bS\" value=\"poisonForest\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"16\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"71\"/>\n-      <int name=\"y\" value=\"-19\"/>\n-      <int name=\"rx\" value=\"10\"/>\n-      <int name=\"ry\" value=\"5\"/>\n-      <int name=\"type\" value=\"4\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"life\">\n-  </imgdir>\n-  <imgdir name=\"reactor\">\n-  </imgdir>\n-  <imgdir name=\"0\">\n-    <imgdir name=\"info\">\n-    </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n-    <imgdir name=\"obj\">\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"1\">\n-    <imgdir name=\"info\">\n-      <string name=\"tS\" value=\"ancientForest\"/>\n-      <int name=\"tSMag\" value=\"1\"/>\n-    </imgdir>\n-    <imgdir name=\"tile\">\n-      <imgdir name=\"0\">\n-        <int name=\"x\" value=\"-360\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"edU\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"6\">\n-        <int name=\"x\" value=\"-270\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"3\">\n-        <int name=\"x\" value=\"-360\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"5\">\n-        <int name=\"x\" value=\"-180\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"13\">\n-        <int name=\"x\" value=\"0\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"9\">\n-        <int name=\"x\" value=\"-90\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"1\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"11\">\n-        <int name=\"x\" value=\"90\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"15\">\n-        <int name=\"x\" value=\"180\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"19\">\n-        <int name=\"x\" value=\"-360\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"edD\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"8\">\n-        <int name=\"x\" value=\"-90\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"3\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"24\">\n-        <int name=\"x\" value=\"-90\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"7\">\n-        <int name=\"x\" value=\"-270\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"4\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"20\">\n-        <int name=\"x\" value=\"-270\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"23\">\n-        <int name=\"x\" value=\"-180\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"21\">\n-        <int name=\"x\" value=\"-360\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"4\">\n-        <int name=\"x\" value=\"-180\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"2\">\n-        <int name=\"x\" value=\"-360\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"4\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"1\">\n-        <int name=\"x\" value=\"-360\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"enV0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"27\">\n-        <int name=\"x\" value=\"90\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"18\">\n-        <int name=\"x\" value=\"0\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"26\">\n-        <int name=\"x\" value=\"180\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"14\">\n-        <int name=\"x\" value=\"180\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"4\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"10\">\n-        <int name=\"x\" value=\"90\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"5\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"12\">\n-        <int name=\"x\" value=\"0\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"16\">\n-        <int name=\"x\" value=\"270\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"4\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"17\">\n-        <int name=\"x\" value=\"270\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"1\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"28\">\n-        <int name=\"x\" value=\"270\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"32\">\n-        <int name=\"x\" value=\"810\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"edU\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"38\">\n-        <int name=\"x\" value=\"540\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"31\">\n-        <int name=\"x\" value=\"450\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"37\">\n-        <int name=\"x\" value=\"630\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"35\">\n-        <int name=\"x\" value=\"720\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"40\">\n-        <int name=\"x\" value=\"360\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"43\">\n-        <int name=\"x\" value=\"450\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"25\">\n-        <int name=\"x\" value=\"360\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"42\">\n-        <int name=\"x\" value=\"540\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"36\">\n-        <int name=\"x\" value=\"630\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"4\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"30\">\n-        <int name=\"x\" value=\"450\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"3\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"29\">\n-        <int name=\"x\" value=\"360\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"5\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"39\">\n-        <int name=\"x\" value=\"540\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"3\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"44\">\n-        <int name=\"x\" value=\"630\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"22\">\n-        <int name=\"x\" value=\"720\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"34\">\n-        <int name=\"x\" value=\"720\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"41\">\n-        <int name=\"x\" value=\"810\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"edD\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"33\">\n-        <int name=\"x\" value=\"810\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"enV1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-    </imgdir>\n-    <imgdir name=\"obj\">\n-      <imgdir name=\"0\">\n-        <string name=\"oS\" value=\"acc1\"/>\n-        <string name=\"l0\" value=\"darkWood\"/>\n-        <string name=\"l1\" value=\"nature\"/>\n-        <string name=\"l2\" value=\"21\"/>\n-        <int name=\"x\" value=\"-114\"/>\n-        <int name=\"y\" value=\"36\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"1\">\n-        <string name=\"oS\" value=\"acc1\"/>\n-        <string name=\"l0\" value=\"darkWood\"/>\n-        <string name=\"l1\" value=\"nature\"/>\n-        <string name=\"l2\" value=\"21\"/>\n-        <int name=\"x\" value=\"234\"/>\n-        <int name=\"y\" value=\"31\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"2\">\n-        <string name=\"oS\" value=\"acc1\"/>\n-        <string name=\"l0\" value=\"darkWood\"/>\n-        <string name=\"l1\" value=\"nature\"/>\n-        <string name=\"l2\" value=\"21\"/>\n-        <int name=\"x\" value=\"513\"/>\n-        <int name=\"y\" value=\"34\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"3\">\n-        <string name=\"oS\" value=\"acc1\"/>\n-        <string name=\"l0\" value=\"darkWood\"/>\n-        <string name=\"l1\" value=\"nature\"/>\n-        <string name=\"l2\" value=\"7\"/>\n-        <int name=\"x\" value=\"375\"/>\n-        <int name=\"y\" value=\"24\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"4\">\n-        <string name=\"oS\" value=\"acc1\"/>\n-        <string name=\"l0\" value=\"darkWood\"/>\n-        <string name=\"l1\" value=\"nature\"/>\n-        <string name=\"l2\" value=\"18\"/>\n-        <int name=\"x\" value=\"483\"/>\n-        <int name=\"y\" value=\"68\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"5\">\n-        <string name=\"oS\" value=\"acc1\"/>\n-        <string name=\"l0\" value=\"darkWood\"/>\n-        <string name=\"l1\" value=\"nature\"/>\n-        <string name=\"l2\" value=\"16\"/>\n-        <int name=\"x\" value=\"26\"/>\n-        <int name=\"y\" value=\"65\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"6\">\n-        <string name=\"oS\" value=\"acc10\"/>\n-        <string name=\"l0\" value=\"elinField\"/>\n-        <string name=\"l1\" value=\"nature\"/>\n-        <string name=\"l2\" value=\"3\"/>\n-        <int name=\"x\" value=\"-10\"/>\n-        <int name=\"y\" value=\"-55\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"7\">\n-        <string name=\"oS\" value=\"acc10\"/>\n-        <string name=\"l0\" value=\"elinField\"/>\n-        <string name=\"l1\" value=\"nature\"/>\n-        <string name=\"l2\" value=\"0\"/>\n-        <int name=\"x\" value=\"461\"/>\n-        <int name=\"y\" value=\"-58\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"8\">\n-        <string name=\"oS\" value=\"acc10\"/>\n-        <string name=\"l0\" value=\"elinField\"/>\n-        <string name=\"l1\" value=\"light\"/>\n-        <string name=\"l2\" value=\"0\"/>\n-        <int name=\"x\" value=\"126\"/>\n-        <int name=\"y\" value=\"9\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"9\">\n-        <string name=\"oS\" value=\"acc10\"/>\n-        <string name=\"l0\" value=\"elinField\"/>\n-        <string name=\"l1\" value=\"light\"/>\n-        <string name=\"l2\" value=\"0\"/>\n-        <int name=\"x\" value=\"275\"/>\n-        <int name=\"y\" value=\"63\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"10\">\n-        <string name=\"oS\" value=\"acc10\"/>\n-        <string name=\"l0\" value=\"elinField\"/>\n-        <string name=\"l1\" value=\"light\"/>\n-        <string name=\"l2\" value=\"1\"/>\n-        <int name=\"x\" value=\"-40\"/>\n-        <int name=\"y\" value=\"45\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"11\">\n-        <string name=\"oS\" value=\"acc10\"/>\n-        <string name=\"l0\" value=\"elinField\"/>\n-        <string name=\"l1\" value=\"light\"/>\n-        <string name=\"l2\" value=\"1\"/>\n-        <int name=\"x\" value=\"442\"/>\n-        <int name=\"y\" value=\"-92\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"12\">\n-        <string name=\"oS\" value=\"acc10\"/>\n-        <string name=\"l0\" value=\"elinField\"/>\n-        <string name=\"l1\" value=\"light\"/>\n-        <string name=\"l2\" value=\"1\"/>\n-        <int name=\"x\" value=\"414\"/>\n-        <int name=\"y\" value=\"83\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"13\">\n-        <string name=\"oS\" value=\"acc10\"/>\n-        <string name=\"l0\" value=\"elinField\"/>\n-        <string name=\"l1\" value=\"light\"/>\n-        <string name=\"l2\" value=\"1\"/>\n-        <int name=\"x\" value=\"592\"/>\n-        <int name=\"y\" value=\"-24\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"14\">\n-        <string name=\"oS\" value=\"acc10\"/>\n-        <string name=\"l0\" value=\"elinField\"/>\n-        <string name=\"l1\" value=\"light\"/>\n-        <string name=\"l2\" value=\"1\"/>\n-        <int name=\"x\" value=\"144\"/>\n-        <int name=\"y\" value=\"101\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"15\">\n-        <string name=\"oS\" value=\"acc10\"/>\n-        <string name=\"l0\" value=\"elinField\"/>\n-        <string name=\"l1\" value=\"light\"/>\n-        <string name=\"l2\" value=\"1\"/>\n-        <int name=\"x\" value=\"-165\"/>\n-        <int name=\"y\" value=\"-61\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"16\">\n-        <string name=\"oS\" value=\"acc10\"/>\n-        <string name=\"l0\" value=\"elinField\"/>\n-        <string name=\"l1\" value=\"light\"/>\n-        <string name=\"l2\" value=\"1\"/>\n-        <int name=\"x\" value=\"-227\"/>\n-        <int name=\"y\" value=\"22\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"17\">\n-        <string name=\"oS\" value=\"acc10\"/>\n-        <string name=\"l0\" value=\"elinField\"/>\n-        <string name=\"l1\" value=\"light\"/>\n-        <string name=\"l2\" value=\"1\"/>\n-        <int name=\"x\" value=\"-243\"/>\n-        <int name=\"y\" value=\"114\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"18\">\n-        <string name=\"oS\" value=\"acc10\"/>\n-        <string name=\"l0\" value=\"elinField\"/>\n-        <string name=\"l1\" value=\"light\"/>\n-        <string name=\"l2\" value=\"1\"/>\n-        <int name=\"x\" value=\"-176\"/>\n-        <int name=\"y\" value=\"-188\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"19\">\n-        <string name=\"oS\" value=\"acc10\"/>\n-        <string name=\"l0\" value=\"elinField\"/>\n-        <string name=\"l1\" value=\"light\"/>\n-        <string name=\"l2\" value=\"1\"/>\n-        <int name=\"x\" value=\"0\"/>\n-        <int name=\"y\" value=\"-229\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"20\">\n-        <string name=\"oS\" value=\"acc10\"/>\n-        <string name=\"l0\" value=\"elinField\"/>\n-        <string name=\"l1\" value=\"light\"/>\n-        <string name=\"l2\" value=\"1\"/>\n-        <int name=\"x\" value=\"204\"/>\n-        <int name=\"y\" value=\"-241\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"21\">\n-        <string name=\"oS\" value=\"acc10\"/>\n-        <string name=\"l0\" value=\"elinField\"/>\n-        <string name=\"l1\" value=\"light\"/>\n-        <string name=\"l2\" value=\"1\"/>\n-        <int name=\"x\" value=\"313\"/>\n-        <int name=\"y\" value=\"-140\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"2\">\n-    <imgdir name=\"info\">\n-    </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n-    <imgdir name=\"obj\">\n-      <imgdir name=\"0\">\n-        <string name=\"oS\" value=\"acc1\"/>\n-        <string name=\"l0\" value=\"darkWood\"/>\n-        <string name=\"l1\" value=\"artificiality\"/>\n-        <string name=\"l2\" value=\"6\"/>\n-        <int name=\"x\" value=\"773\"/>\n-        <int name=\"y\" value=\"88\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"3\">\n-    <imgdir name=\"info\">\n-    </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n-    <imgdir name=\"obj\">\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"4\">\n-    <imgdir name=\"info\">\n-    </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n-    <imgdir name=\"obj\">\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"5\">\n-    <imgdir name=\"info\">\n-    </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n-    <imgdir name=\"obj\">\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"6\">\n-    <imgdir name=\"info\">\n-    </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n-    <imgdir name=\"obj\">\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"7\">\n-    <imgdir name=\"info\">\n-    </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n-    <imgdir name=\"obj\">\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"foothold\">\n-    <imgdir name=\"1\">\n-      <imgdir name=\"0\">\n-        <imgdir name=\"1\">\n-          <int name=\"x1\" value=\"-399\"/>\n-          <int name=\"y1\" value=\"90\"/>\n-          <int name=\"x2\" value=\"-321\"/>\n-          <int name=\"y2\" value=\"90\"/>\n-          <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"2\"/>\n-        </imgdir>\n-        <imgdir name=\"2\">\n-          <int name=\"x1\" value=\"-321\"/>\n-          <int name=\"y1\" value=\"90\"/>\n-          <int name=\"x2\" value=\"-270\"/>\n-          <int name=\"y2\" value=\"90\"/>\n-          <int name=\"prev\" value=\"1\"/>\n-          <int name=\"next\" value=\"4\"/>\n-        </imgdir>\n-        <imgdir name=\"3\">\n-          <int name=\"x1\" value=\"-180\"/>\n-          <int name=\"y1\" value=\"90\"/>\n-          <int name=\"x2\" value=\"-90\"/>\n-          <int name=\"y2\" value=\"90\"/>\n-          <int name=\"prev\" value=\"4\"/>\n-          <int name=\"next\" value=\"5\"/>\n-        </imgdir>\n-        <imgdir name=\"4\">\n-          <int name=\"x1\" value=\"-270\"/>\n-          <int name=\"y1\" value=\"90\"/>\n-          <int name=\"x2\" value=\"-180\"/>\n-          <int name=\"y2\" value=\"90\"/>\n-          <int name=\"prev\" value=\"2\"/>\n-          <int name=\"next\" value=\"3\"/>\n-        </imgdir>\n-        <imgdir name=\"5\">\n-          <int name=\"x1\" value=\"-90\"/>\n-          <int name=\"y1\" value=\"90\"/>\n-          <int name=\"x2\" value=\"0\"/>\n-          <int name=\"y2\" value=\"90\"/>\n-          <int name=\"prev\" value=\"3\"/>\n-          <int name=\"next\" value=\"7\"/>\n-        </imgdir>\n-        <imgdir name=\"6\">\n-          <int name=\"x1\" value=\"90\"/>\n-          <int name=\"y1\" value=\"90\"/>\n-          <int name=\"x2\" value=\"180\"/>\n-          <int name=\"y2\" value=\"90\"/>\n-          <int name=\"prev\" value=\"7\"/>\n-          <int name=\"next\" value=\"8\"/>\n-        </imgdir>\n-        <imgdir name=\"7\">\n-          <int name=\"x1\" value=\"0\"/>\n-          <int name=\"y1\" value=\"90\"/>\n-          <int name=\"x2\" value=\"90\"/>\n-          <int name=\"y2\" value=\"90\"/>\n-          <int name=\"prev\" value=\"5\"/>\n-          <int name=\"next\" value=\"6\"/>\n-        </imgdir>\n-        <imgdir name=\"8\">\n-          <int name=\"x1\" value=\"180\"/>\n-          <int name=\"y1\" value=\"90\"/>\n-          <int name=\"x2\" value=\"270\"/>\n-          <int name=\"y2\" value=\"90\"/>\n-          <int name=\"prev\" value=\"6\"/>\n-          <int name=\"next\" value=\"9\"/>\n-        </imgdir>\n-        <imgdir name=\"9\">\n-          <int name=\"x1\" value=\"270\"/>\n-          <int name=\"y1\" value=\"90\"/>\n-          <int name=\"x2\" value=\"360\"/>\n-          <int name=\"y2\" value=\"90\"/>\n-          <int name=\"prev\" value=\"8\"/>\n-          <int name=\"next\" value=\"15\"/>\n-        </imgdir>\n-        <imgdir name=\"10\">\n-          <int name=\"x1\" value=\"450\"/>\n-          <int name=\"y1\" value=\"90\"/>\n-          <int name=\"x2\" value=\"540\"/>\n-          <int name=\"y2\" value=\"90\"/>\n-          <int name=\"prev\" value=\"15\"/>\n-          <int name=\"next\" value=\"14\"/>\n-        </imgdir>\n-        <imgdir name=\"11\">\n-          <int name=\"x1\" value=\"771\"/>\n-          <int name=\"y1\" value=\"90\"/>\n-          <int name=\"x2\" value=\"849\"/>\n-          <int name=\"y2\" value=\"90\"/>\n-          <int name=\"prev\" value=\"12\"/>\n-          <int name=\"next\" value=\"0\"/>\n-        </imgdir>\n-        <imgdir name=\"12\">\n-          <int name=\"x1\" value=\"720\"/>\n-          <int name=\"y1\" value=\"90\"/>\n-          <int name=\"x2\" value=\"771\"/>\n-          <int name=\"y2\" value=\"90\"/>\n-          <int name=\"prev\" value=\"13\"/>\n-          <int name=\"next\" value=\"11\"/>\n-        </imgdir>\n-        <imgdir name=\"13\">\n-          <int name=\"x1\" value=\"630\"/>\n-          <int name=\"y1\" value=\"90\"/>\n-          <int name=\"x2\" value=\"720\"/>\n-          <int name=\"y2\" value=\"90\"/>\n-          <int name=\"prev\" value=\"14\"/>\n-          <int name=\"next\" value=\"12\"/>\n-        </imgdir>\n-        <imgdir name=\"14\">\n-          <int name=\"x1\" value=\"540\"/>\n-          <int name=\"y1\" value=\"90\"/>\n-          <int name=\"x2\" value=\"630\"/>\n-          <int name=\"y2\" value=\"90\"/>\n-          <int name=\"prev\" value=\"10\"/>\n-          <int name=\"next\" value=\"13\"/>\n-        </imgdir>\n-        <imgdir name=\"15\">\n-          <int name=\"x1\" value=\"360\"/>\n-          <int name=\"y1\" value=\"90\"/>\n-          <int name=\"x2\" value=\"450\"/>\n-          <int name=\"y2\" value=\"90\"/>\n-          <int name=\"prev\" value=\"9\"/>\n-          <int name=\"next\" value=\"10\"/>\n-        </imgdir>\n-      </imgdir>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"ladderRope\">\n-  </imgdir>\n-  <imgdir name=\"miniMap\">\n-    <canvas name=\"canvas\" width=\"84\" height=\"49\">\n-    </canvas>\n-    <int name=\"width\" value=\"1352\"/>\n-    <int name=\"height\" value=\"789\"/>\n-    <int name=\"centerX\" value=\"448\"/>\n-    <int name=\"centerY\" value=\"519\"/>\n-    <int name=\"mag\" value=\"4\"/>\n-  </imgdir>\n-  <imgdir name=\"portal\">\n-    <imgdir name=\"0\">\n-      <string name=\"pn\" value=\"sp\"/>\n-      <int name=\"pt\" value=\"0\"/>\n-      <int name=\"x\" value=\"-319\"/>\n-      <int name=\"y\" value=\"72\"/>\n-      <int name=\"tm\" value=\"999999999\"/>\n-      <string name=\"tn\" value=\"\"/>\n-    </imgdir>\n-    <imgdir name=\"1\">\n-      <string name=\"pn\" value=\"go_next\"/>\n-      <int name=\"pt\" value=\"1\"/>\n-      <int name=\"x\" value=\"732\"/>\n-      <int name=\"y\" value=\"85\"/>\n-      <int name=\"tm\" value=\"677000011\"/>\n-      <string name=\"tn\" value=\"in_next\"/>\n-    </imgdir>\n-    <imgdir name=\"2\">\n-      <string name=\"pn\" value=\"go_out\"/>\n-      <int name=\"pt\" value=\"2\"/>\n-      <int name=\"x\" value=\"-320\"/>\n-      <int name=\"y\" value=\"80\"/>\n-      <int name=\"tm\" value=\"105050400\"/>\n-      <string name=\"tn\" value=\"west00\"/>\n-    </imgdir>\n-    <imgdir name=\"3\">\n-      <string name=\"pn\" value=\"checkWildeye2\"/>\n-      <int name=\"pt\" value=\"9\"/>\n-      <int name=\"x\" value=\"-5\"/>\n-      <int name=\"y\" value=\"-58\"/>\n-      <int name=\"tm\" value=\"999999999\"/>\n-      <string name=\"tn\" value=\"\"/>\n-      <int name=\"delay\" value=\"200\"/>\n-      <string name=\"script\" value=\"checkWildeye\"/>\n-    </imgdir>\n-    <imgdir name=\"4\">\n-      <string name=\"pn\" value=\"checkWildeye1\"/>\n-      <int name=\"pt\" value=\"9\"/>\n-      <int name=\"x\" value=\"-5\"/>\n-      <int name=\"y\" value=\"44\"/>\n-      <int name=\"tm\" value=\"999999999\"/>\n-      <string name=\"tn\" value=\"\"/>\n-      <string name=\"script\" value=\"checkWildeye\"/>\n-      <int name=\"hideTooltip\" value=\"0\"/>\n-      <int name=\"onlyOnce\" value=\"0\"/>\n-      <int name=\"delay\" value=\"200\"/>\n-    </imgdir>\n-  </imgdir>\n-</imgdir>\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?><imgdir name=\"677000010.img\"><imgdir name=\"info\"><int name=\"version\" value=\"10\"/><int name=\"cloud\" value=\"0\"/><int name=\"town\" value=\"0\"/><int name=\"swim\" value=\"0\"/><int name=\"returnMap\" value=\"105050400\"/><int name=\"forcedReturn\" value=\"999999999\"/><float name=\"mobRate\" value=\"1.0\"/><string name=\"bgm\" value=\"Bgm00/SleepyWood\"/><string name=\"mapMark\" value=\"Dungeon\"/><int name=\"hideMinimap\" value=\"1\"/><int name=\"fieldLimit\" value=\"12286\"/><int name=\"decHP\" value=\"420\"/><int name=\"protectItem\" value=\"1003036\"/></imgdir><imgdir name=\"back\"><imgdir name=\"0\"><string name=\"bS\" value=\"darkWood\"/><int name=\"front\" value=\"0\"/><int name=\"ani\" value=\"0\"/><int name=\"no\" value=\"0\"/><int name=\"f\" value=\"0\"/><int name=\"x\" value=\"26\"/><int name=\"y\" value=\"33\"/><int name=\"rx\" value=\"50\"/><int name=\"ry\" value=\"5\"/><int name=\"type\" value=\"5\"/><int name=\"cx\" value=\"0\"/><int name=\"cy\" value=\"0\"/><int name=\"a\" value=\"255\"/></imgdir><imgdir name=\"1\"><string name=\"bS\" value=\"darkWood\"/><int name=\"front\" value=\"0\"/><int name=\"ani\" value=\"0\"/><int name=\"no\" value=\"0\"/><int name=\"f\" value=\"0\"/><int name=\"x\" value=\"26\"/><int name=\"y\" value=\"-305\"/><int name=\"rx\" value=\"0\"/><int name=\"ry\" value=\"0\"/><int name=\"type\" value=\"0\"/><int name=\"cx\" value=\"0\"/><int name=\"cy\" value=\"0\"/><int name=\"a\" value=\"255\"/></imgdir><imgdir name=\"2\"><string name=\"bS\" value=\"darkWood\"/><int name=\"front\" value=\"0\"/><int name=\"ani\" value=\"0\"/><int name=\"no\" value=\"3\"/><int name=\"f\" value=\"0\"/><int name=\"x\" value=\"-76\"/><int name=\"y\" value=\"-19\"/><int name=\"rx\" value=\"0\"/><int name=\"ry\" value=\"0\"/><int name=\"type\" value=\"0\"/><int name=\"cx\" value=\"0\"/><int name=\"cy\" value=\"0\"/><int name=\"a\" value=\"255\"/></imgdir><imgdir name=\"3\"><string name=\"bS\" value=\"darkWood\"/><int name=\"front\" value=\"0\"/><int name=\"ani\" value=\"0\"/><int name=\"no\" value=\"4\"/><int name=\"f\" value=\"0\"/><int name=\"x\" value=\"131\"/><int name=\"y\" value=\"-27\"/><int name=\"rx\" value=\"0\"/><int name=\"ry\" value=\"0\"/><int name=\"type\" value=\"0\"/><int name=\"cx\" value=\"0\"/><int name=\"cy\" value=\"0\"/><int name=\"a\" value=\"255\"/></imgdir><imgdir name=\"4\"><string name=\"bS\" value=\"darkWood\"/><int name=\"front\" value=\"0\"/><int name=\"ani\" value=\"0\"/><int name=\"no\" value=\"4\"/><int name=\"f\" value=\"0\"/><int name=\"x\" value=\"-244\"/><int name=\"y\" value=\"-12\"/><int name=\"rx\" value=\"0\"/><int name=\"ry\" value=\"0\"/><int name=\"type\" value=\"0\"/><int name=\"cx\" value=\"0\"/><int name=\"cy\" value=\"0\"/><int name=\"a\" value=\"255\"/></imgdir><imgdir name=\"5\"><string name=\"bS\" value=\"darkWood\"/><int name=\"front\" value=\"0\"/><int name=\"ani\" value=\"0\"/><int name=\"no\" value=\"5\"/><int name=\"f\" value=\"0\"/><int name=\"x\" value=\"335\"/><int name=\"y\" value=\"-3\"/><int name=\"rx\" value=\"0\"/><int name=\"ry\" value=\"0\"/><int name=\"type\" value=\"0\"/><int name=\"cx\" value=\"0\"/><int name=\"cy\" value=\"0\"/><int name=\"a\" value=\"255\"/></imgdir><imgdir name=\"6\"><string name=\"bS\" value=\"darkWood\"/><int name=\"front\" value=\"0\"/><int name=\"ani\" value=\"0\"/><int name=\"no\" value=\"4\"/><int name=\"f\" value=\"0\"/><int name=\"x\" value=\"26\"/><int name=\"y\" value=\"-14\"/><int name=\"rx\" value=\"0\"/><int name=\"ry\" value=\"0\"/><int name=\"type\" value=\"0\"/><int name=\"cx\" value=\"0\"/><int name=\"cy\" value=\"0\"/><int name=\"a\" value=\"255\"/></imgdir><imgdir name=\"7\"><string name=\"bS\" value=\"darkWood\"/><int name=\"front\" value=\"0\"/><int name=\"ani\" value=\"0\"/><int name=\"no\" value=\"6\"/><int name=\"f\" value=\"0\"/><int name=\"x\" value=\"-155\"/><int name=\"y\" value=\"20\"/><int name=\"rx\" value=\"0\"/><int name=\"ry\" value=\"0\"/><int name=\"type\" value=\"0\"/><int name=\"cx\" value=\"0\"/><int name=\"cy\" value=\"0\"/><int name=\"a\" value=\"255\"/></imgdir><imgdir name=\"8\"><string name=\"bS\" value=\"poisonForest\"/><int name=\"front\" value=\"0\"/><int name=\"ani\" value=\"0\"/><int name=\"no\" value=\"15\"/><int name=\"f\" value=\"0\"/><int name=\"x\" value=\"-138\"/><int name=\"y\" value=\"176\"/><int name=\"rx\" value=\"10\"/><int name=\"ry\" value=\"5\"/><int name=\"type\" value=\"4\"/><int name=\"cx\" value=\"0\"/><int name=\"cy\" value=\"0\"/><int name=\"a\" value=\"255\"/></imgdir><imgdir name=\"9\"><string name=\"bS\" value=\"poisonForest\"/><int name=\"front\" value=\"0\"/><int name=\"ani\" value=\"0\"/><int name=\"no\" value=\"17\"/><int name=\"f\" value=\"0\"/><int name=\"x\" value=\"-188\"/><int name=\"y\" value=\"245\"/><int name=\"rx\" value=\"5\"/><int name=\"ry\" value=\"5\"/><int name=\"type\" value=\"4\"/><int name=\"cx\" value=\"0\"/><int name=\"cy\" value=\"0\"/><int name=\"a\" value=\"255\"/></imgdir><imgdir name=\"10\"><string name=\"bS\" value=\"poisonForest\"/><int name=\"front\" value=\"0\"/><int name=\"ani\" value=\"0\"/><int name=\"no\" value=\"17\"/><int name=\"f\" value=\"0\"/><int name=\"x\" value=\"-221\"/><int name=\"y\" value=\"-221\"/><int name=\"rx\" value=\"10\"/><int name=\"ry\" value=\"5\"/><int name=\"type\" value=\"4\"/><int name=\"cx\" value=\"0\"/><int name=\"cy\" value=\"0\"/><int name=\"a\" value=\"255\"/></imgdir><imgdir name=\"11\"><string name=\"bS\" value=\"poisonForest\"/><int name=\"front\" value=\"0\"/><int name=\"ani\" value=\"0\"/><int name=\"no\" value=\"16\"/><int name=\"f\" value=\"0\"/><int name=\"x\" value=\"71\"/><int name=\"y\" value=\"-19\"/><int name=\"rx\" value=\"10\"/><int name=\"ry\" value=\"5\"/><int name=\"type\" value=\"4\"/><int name=\"cx\" value=\"0\"/><int name=\"cy\" value=\"0\"/><int name=\"a\" value=\"255\"/></imgdir></imgdir><imgdir name=\"life\"></imgdir><imgdir name=\"reactor\"></imgdir><imgdir name=\"0\"><imgdir name=\"info\"></imgdir><imgdir name=\"tile\"></imgdir><imgdir name=\"obj\"></imgdir></imgdir><imgdir name=\"1\"><imgdir name=\"info\"><string name=\"tS\" value=\"ancientForest\"/><int name=\"tSMag\" value=\"1\"/></imgdir><imgdir name=\"tile\"><imgdir name=\"0\"><int name=\"x\" value=\"-360\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"edU\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"6\"><int name=\"x\" value=\"-270\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"3\"><int name=\"x\" value=\"-360\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"2\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"5\"><int name=\"x\" value=\"-180\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"13\"><int name=\"x\" value=\"0\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"2\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"9\"><int name=\"x\" value=\"-90\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"1\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"11\"><int name=\"x\" value=\"90\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"15\"><int name=\"x\" value=\"180\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"2\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"19\"><int name=\"x\" value=\"-360\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"edD\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"8\"><int name=\"x\" value=\"-90\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"3\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"24\"><int name=\"x\" value=\"-90\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"7\"><int name=\"x\" value=\"-270\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"4\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"20\"><int name=\"x\" value=\"-270\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"23\"><int name=\"x\" value=\"-180\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"21\"><int name=\"x\" value=\"-360\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"4\"><int name=\"x\" value=\"-180\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"2\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"2\"><int name=\"x\" value=\"-360\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"4\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"1\"><int name=\"x\" value=\"-360\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"enV0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"27\"><int name=\"x\" value=\"90\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"18\"><int name=\"x\" value=\"0\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"26\"><int name=\"x\" value=\"180\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"14\"><int name=\"x\" value=\"180\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"4\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"10\"><int name=\"x\" value=\"90\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"5\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"12\"><int name=\"x\" value=\"0\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"16\"><int name=\"x\" value=\"270\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"4\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"17\"><int name=\"x\" value=\"270\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"1\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"28\"><int name=\"x\" value=\"270\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"32\"><int name=\"x\" value=\"810\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"edU\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"38\"><int name=\"x\" value=\"540\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"31\"><int name=\"x\" value=\"450\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"2\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"37\"><int name=\"x\" value=\"630\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"2\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"35\"><int name=\"x\" value=\"720\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"40\"><int name=\"x\" value=\"360\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"2\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"43\"><int name=\"x\" value=\"450\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"25\"><int name=\"x\" value=\"360\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"42\"><int name=\"x\" value=\"540\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"36\"><int name=\"x\" value=\"630\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"4\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"30\"><int name=\"x\" value=\"450\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"3\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"29\"><int name=\"x\" value=\"360\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"5\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"39\"><int name=\"x\" value=\"540\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"3\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"44\"><int name=\"x\" value=\"630\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"22\"><int name=\"x\" value=\"720\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"34\"><int name=\"x\" value=\"720\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"2\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"41\"><int name=\"x\" value=\"810\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"edD\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"33\"><int name=\"x\" value=\"810\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"enV1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir></imgdir><imgdir name=\"obj\"><imgdir name=\"0\"><string name=\"oS\" value=\"acc1\"/><string name=\"l0\" value=\"darkWood\"/><string name=\"l1\" value=\"nature\"/><string name=\"l2\" value=\"21\"/><int name=\"x\" value=\"-114\"/><int name=\"y\" value=\"36\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"1\"><string name=\"oS\" value=\"acc1\"/><string name=\"l0\" value=\"darkWood\"/><string name=\"l1\" value=\"nature\"/><string name=\"l2\" value=\"21\"/><int name=\"x\" value=\"234\"/><int name=\"y\" value=\"31\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"2\"><string name=\"oS\" value=\"acc1\"/><string name=\"l0\" value=\"darkWood\"/><string name=\"l1\" value=\"nature\"/><string name=\"l2\" value=\"21\"/><int name=\"x\" value=\"513\"/><int name=\"y\" value=\"34\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"3\"><string name=\"oS\" value=\"acc1\"/><string name=\"l0\" value=\"darkWood\"/><string name=\"l1\" value=\"nature\"/><string name=\"l2\" value=\"7\"/><int name=\"x\" value=\"375\"/><int name=\"y\" value=\"24\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"4\"><string name=\"oS\" value=\"acc1\"/><string name=\"l0\" value=\"darkWood\"/><string name=\"l1\" value=\"nature\"/><string name=\"l2\" value=\"18\"/><int name=\"x\" value=\"483\"/><int name=\"y\" value=\"68\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"5\"><string name=\"oS\" value=\"acc1\"/><string name=\"l0\" value=\"darkWood\"/><string name=\"l1\" value=\"nature\"/><string name=\"l2\" value=\"16\"/><int name=\"x\" value=\"26\"/><int name=\"y\" value=\"65\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"6\"><string name=\"oS\" value=\"acc10\"/><string name=\"l0\" value=\"elinField\"/><string name=\"l1\" value=\"nature\"/><string name=\"l2\" value=\"3\"/><int name=\"x\" value=\"-10\"/><int name=\"y\" value=\"-55\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"7\"><string name=\"oS\" value=\"acc10\"/><string name=\"l0\" value=\"elinField\"/><string name=\"l1\" value=\"nature\"/><string name=\"l2\" value=\"0\"/><int name=\"x\" value=\"461\"/><int name=\"y\" value=\"-58\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"8\"><string name=\"oS\" value=\"acc10\"/><string name=\"l0\" value=\"elinField\"/><string name=\"l1\" value=\"light\"/><string name=\"l2\" value=\"0\"/><int name=\"x\" value=\"126\"/><int name=\"y\" value=\"9\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"9\"><string name=\"oS\" value=\"acc10\"/><string name=\"l0\" value=\"elinField\"/><string name=\"l1\" value=\"light\"/><string name=\"l2\" value=\"0\"/><int name=\"x\" value=\"275\"/><int name=\"y\" value=\"63\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"10\"><string name=\"oS\" value=\"acc10\"/><string name=\"l0\" value=\"elinField\"/><string name=\"l1\" value=\"light\"/><string name=\"l2\" value=\"1\"/><int name=\"x\" value=\"-40\"/><int name=\"y\" value=\"45\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"11\"><string name=\"oS\" value=\"acc10\"/><string name=\"l0\" value=\"elinField\"/><string name=\"l1\" value=\"light\"/><string name=\"l2\" value=\"1\"/><int name=\"x\" value=\"442\"/><int name=\"y\" value=\"-92\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"12\"><string name=\"oS\" value=\"acc10\"/><string name=\"l0\" value=\"elinField\"/><string name=\"l1\" value=\"light\"/><string name=\"l2\" value=\"1\"/><int name=\"x\" value=\"414\"/><int name=\"y\" value=\"83\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"13\"><string name=\"oS\" value=\"acc10\"/><string name=\"l0\" value=\"elinField\"/><string name=\"l1\" value=\"light\"/><string name=\"l2\" value=\"1\"/><int name=\"x\" value=\"592\"/><int name=\"y\" value=\"-24\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"14\"><string name=\"oS\" value=\"acc10\"/><string name=\"l0\" value=\"elinField\"/><string name=\"l1\" value=\"light\"/><string name=\"l2\" value=\"1\"/><int name=\"x\" value=\"144\"/><int name=\"y\" value=\"101\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"15\"><string name=\"oS\" value=\"acc10\"/><string name=\"l0\" value=\"elinField\"/><string name=\"l1\" value=\"light\"/><string name=\"l2\" value=\"1\"/><int name=\"x\" value=\"-165\"/><int name=\"y\" value=\"-61\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"16\"><string name=\"oS\" value=\"acc10\"/><string name=\"l0\" value=\"elinField\"/><string name=\"l1\" value=\"light\"/><string name=\"l2\" value=\"1\"/><int name=\"x\" value=\"-227\"/><int name=\"y\" value=\"22\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"17\"><string name=\"oS\" value=\"acc10\"/><string name=\"l0\" value=\"elinField\"/><string name=\"l1\" value=\"light\"/><string name=\"l2\" value=\"1\"/><int name=\"x\" value=\"-243\"/><int name=\"y\" value=\"114\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"18\"><string name=\"oS\" value=\"acc10\"/><string name=\"l0\" value=\"elinField\"/><string name=\"l1\" value=\"light\"/><string name=\"l2\" value=\"1\"/><int name=\"x\" value=\"-176\"/><int name=\"y\" value=\"-188\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"19\"><string name=\"oS\" value=\"acc10\"/><string name=\"l0\" value=\"elinField\"/><string name=\"l1\" value=\"light\"/><string name=\"l2\" value=\"1\"/><int name=\"x\" value=\"0\"/><int name=\"y\" value=\"-229\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"20\"><string name=\"oS\" value=\"acc10\"/><string name=\"l0\" value=\"elinField\"/><string name=\"l1\" value=\"light\"/><string name=\"l2\" value=\"1\"/><int name=\"x\" value=\"204\"/><int name=\"y\" value=\"-241\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"21\"><string name=\"oS\" value=\"acc10\"/><string name=\"l0\" value=\"elinField\"/><string name=\"l1\" value=\"light\"/><string name=\"l2\" value=\"1\"/><int name=\"x\" value=\"313\"/><int name=\"y\" value=\"-140\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir></imgdir></imgdir><imgdir name=\"2\"><imgdir name=\"info\"></imgdir><imgdir name=\"tile\"></imgdir><imgdir name=\"obj\"><imgdir name=\"0\"><string name=\"oS\" value=\"acc1\"/><string name=\"l0\" value=\"darkWood\"/><string name=\"l1\" value=\"artificiality\"/><string name=\"l2\" value=\"6\"/><int name=\"x\" value=\"773\"/><int name=\"y\" value=\"88\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir></imgdir></imgdir><imgdir name=\"3\"><imgdir name=\"info\"></imgdir><imgdir name=\"tile\"></imgdir><imgdir name=\"obj\"></imgdir></imgdir><imgdir name=\"4\"><imgdir name=\"info\"></imgdir><imgdir name=\"tile\"></imgdir><imgdir name=\"obj\"></imgdir></imgdir><imgdir name=\"5\"><imgdir name=\"info\"></imgdir><imgdir name=\"tile\"></imgdir><imgdir name=\"obj\"></imgdir></imgdir><imgdir name=\"6\"><imgdir name=\"info\"></imgdir><imgdir name=\"tile\"></imgdir><imgdir name=\"obj\"></imgdir></imgdir><imgdir name=\"7\"><imgdir name=\"info\"></imgdir><imgdir name=\"tile\"></imgdir><imgdir name=\"obj\"></imgdir></imgdir><imgdir name=\"foothold\"><imgdir name=\"1\"><imgdir name=\"0\"><imgdir name=\"1\"><int name=\"x1\" value=\"-399\"/><int name=\"y1\" value=\"90\"/><int name=\"x2\" value=\"-321\"/><int name=\"y2\" value=\"90\"/><int name=\"prev\" value=\"0\"/><int name=\"next\" value=\"2\"/></imgdir><imgdir name=\"2\"><int name=\"x1\" value=\"-321\"/><int name=\"y1\" value=\"90\"/><int name=\"x2\" value=\"-270\"/><int name=\"y2\" value=\"90\"/><int name=\"prev\" value=\"1\"/><int name=\"next\" value=\"4\"/></imgdir><imgdir name=\"3\"><int name=\"x1\" value=\"-180\"/><int name=\"y1\" value=\"90\"/><int name=\"x2\" value=\"-90\"/><int name=\"y2\" value=\"90\"/><int name=\"prev\" value=\"4\"/><int name=\"next\" value=\"5\"/></imgdir><imgdir name=\"4\"><int name=\"x1\" value=\"-270\"/><int name=\"y1\" value=\"90\"/><int name=\"x2\" value=\"-180\"/><int name=\"y2\" value=\"90\"/><int name=\"prev\" value=\"2\"/><int name=\"next\" value=\"3\"/></imgdir><imgdir name=\"5\"><int name=\"x1\" value=\"-90\"/><int name=\"y1\" value=\"90\"/><int name=\"x2\" value=\"0\"/><int name=\"y2\" value=\"90\"/><int name=\"prev\" value=\"3\"/><int name=\"next\" value=\"7\"/></imgdir><imgdir name=\"6\"><int name=\"x1\" value=\"90\"/><int name=\"y1\" value=\"90\"/><int name=\"x2\" value=\"180\"/><int name=\"y2\" value=\"90\"/><int name=\"prev\" value=\"7\"/><int name=\"next\" value=\"8\"/></imgdir><imgdir name=\"7\"><int name=\"x1\" value=\"0\"/><int name=\"y1\" value=\"90\"/><int name=\"x2\" value=\"90\"/><int name=\"y2\" value=\"90\"/><int name=\"prev\" value=\"5\"/><int name=\"next\" value=\"6\"/></imgdir><imgdir name=\"8\"><int name=\"x1\" value=\"180\"/><int name=\"y1\" value=\"90\"/><int name=\"x2\" value=\"270\"/><int name=\"y2\" value=\"90\"/><int name=\"prev\" value=\"6\"/><int name=\"next\" value=\"9\"/></imgdir><imgdir name=\"9\"><int name=\"x1\" value=\"270\"/><int name=\"y1\" value=\"90\"/><int name=\"x2\" value=\"360\"/><int name=\"y2\" value=\"90\"/><int name=\"prev\" value=\"8\"/><int name=\"next\" value=\"15\"/></imgdir><imgdir name=\"10\"><int name=\"x1\" value=\"450\"/><int name=\"y1\" value=\"90\"/><int name=\"x2\" value=\"540\"/><int name=\"y2\" value=\"90\"/><int name=\"prev\" value=\"15\"/><int name=\"next\" value=\"14\"/></imgdir><imgdir name=\"11\"><int name=\"x1\" value=\"771\"/><int name=\"y1\" value=\"90\"/><int name=\"x2\" value=\"849\"/><int name=\"y2\" value=\"90\"/><int name=\"prev\" value=\"12\"/><int name=\"next\" value=\"0\"/></imgdir><imgdir name=\"12\"><int name=\"x1\" value=\"720\"/><int name=\"y1\" value=\"90\"/><int name=\"x2\" value=\"771\"/><int name=\"y2\" value=\"90\"/><int name=\"prev\" value=\"13\"/><int name=\"next\" value=\"11\"/></imgdir><imgdir name=\"13\"><int name=\"x1\" value=\"630\"/><int name=\"y1\" value=\"90\"/><int name=\"x2\" value=\"720\"/><int name=\"y2\" value=\"90\"/><int name=\"prev\" value=\"14\"/><int name=\"next\" value=\"12\"/></imgdir><imgdir name=\"14\"><int name=\"x1\" value=\"540\"/><int name=\"y1\" value=\"90\"/><int name=\"x2\" value=\"630\"/><int name=\"y2\" value=\"90\"/><int name=\"prev\" value=\"10\"/><int name=\"next\" value=\"13\"/></imgdir><imgdir name=\"15\"><int name=\"x1\" value=\"360\"/><int name=\"y1\" value=\"90\"/><int name=\"x2\" value=\"450\"/><int name=\"y2\" value=\"90\"/><int name=\"prev\" value=\"9\"/><int name=\"next\" value=\"10\"/></imgdir></imgdir></imgdir></imgdir><imgdir name=\"ladderRope\"></imgdir><imgdir name=\"miniMap\"><canvas name=\"canvas\" width=\"84\" height=\"49\"></canvas><int name=\"width\" value=\"1352\"/><int name=\"height\" value=\"789\"/><int name=\"centerX\" value=\"448\"/><int name=\"centerY\" value=\"519\"/><int name=\"mag\" value=\"4\"/></imgdir><imgdir name=\"portal\"><imgdir name=\"0\"><string name=\"pn\" value=\"sp\"/><int name=\"pt\" value=\"0\"/><int name=\"x\" value=\"-319\"/><int name=\"y\" value=\"72\"/><int name=\"tm\" value=\"999999999\"/><string name=\"tn\" value=\"\"/></imgdir><imgdir name=\"1\"><string name=\"pn\" value=\"go_next\"/><int name=\"pt\" value=\"1\"/><int name=\"x\" value=\"732\"/><int name=\"y\" value=\"85\"/><int name=\"tm\" value=\"677000011\"/><string name=\"tn\" value=\"in_next\"/></imgdir><imgdir name=\"2\"><string name=\"pn\" value=\"go_out\"/><int name=\"pt\" value=\"2\"/><int name=\"x\" value=\"-320\"/><int name=\"y\" value=\"80\"/><int name=\"tm\" value=\"105050400\"/><string name=\"tn\" value=\"west00\"/></imgdir><imgdir name=\"3\"><string name=\"pn\" value=\"checkWildeye2\"/><int name=\"pt\" value=\"9\"/><int name=\"x\" value=\"-5\"/><int name=\"y\" value=\"-58\"/><int name=\"tm\" value=\"999999999\"/><string name=\"tn\" value=\"\"/><int name=\"delay\" value=\"200\"/><string name=\"script\" value=\"checkWildeye\"/></imgdir><imgdir name=\"4\"><string name=\"pn\" value=\"checkWildeye1\"/><int name=\"pt\" value=\"9\"/><int name=\"x\" value=\"-5\"/><int name=\"y\" value=\"44\"/><int name=\"tm\" value=\"999999999\"/><string name=\"tn\" value=\"\"/><string name=\"script\" value=\"checkWildeye\"/><int name=\"hideTooltip\" value=\"0\"/><int name=\"onlyOnce\" value=\"0\"/><int name=\"delay\" value=\"200\"/></imgdir></imgdir></imgdir>\n\\ No newline at end of file"}, {"sha": "57d6e53403971a6a31605a376d7bed3ceb3f6b14", "filename": "wz/Map.wz/Map/Map6/677000011.img.xml", "status": "modified", "additions": 1, "deletions": 3982, "changes": 3983, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/wz/Map.wz/Map/Map6/677000011.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/wz/Map.wz/Map/Map6/677000011.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map6/677000011.img.xml?ref=ad812de0012d48c28a8493d6205c62122bb2933a"}, {"sha": "5c90d004b830b5ff198ff9a07749822286ece747", "filename": "wz/Map.wz/Map/Map6/677000012.img.xml", "status": "modified", "additions": 1, "deletions": 1492, "changes": 1493, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/wz/Map.wz/Map/Map6/677000012.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/wz/Map.wz/Map/Map6/677000012.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map6/677000012.img.xml?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -1,1492 +1 @@\n-<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n-<imgdir name=\"677000012.img\">\n-  <imgdir name=\"info\">\n-    <int name=\"version\" value=\"10\"/>\n-    <int name=\"cloud\" value=\"0\"/>\n-    <int name=\"town\" value=\"0\"/>\n-    <int name=\"swim\" value=\"0\"/>\n-    <int name=\"returnMap\" value=\"677000010\"/>\n-    <int name=\"forcedReturn\" value=\"999999999\"/>\n-    <float name=\"mobRate\" value=\"1.0\"/>\n-    <string name=\"bgm\" value=\"Bgm00/SleepyWood\"/>\n-    <string name=\"mapMark\" value=\"Dungeon\"/>\n-    <int name=\"hideMinimap\" value=\"1\"/>\n-    <int name=\"fieldLimit\" value=\"11260\"/>\n-    <string name=\"onFirstUserEnter\" value=\"astaroth_summon\"/>\n-    <string name=\"onUserEnter\" value=\"\"/>\n-    <int name=\"fly\" value=\"0\"/>\n-    <int name=\"VRTop\" value=\"-1300\"/>\n-    <int name=\"VRLeft\" value=\"-373\"/>\n-    <int name=\"VRBottom\" value=\"175\"/>\n-    <int name=\"VRRight\" value=\"1337\"/>\n-  </imgdir>\n-  <imgdir name=\"back\">\n-    <imgdir name=\"0\">\n-      <string name=\"bS\" value=\"login\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"26\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"136\"/>\n-      <int name=\"y\" value=\"-100\"/>\n-      <int name=\"rx\" value=\"5\"/>\n-      <int name=\"ry\" value=\"0\"/>\n-      <int name=\"type\" value=\"1\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-    <imgdir name=\"1\">\n-      <string name=\"bS\" value=\"poisonForest\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"12\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"238\"/>\n-      <int name=\"y\" value=\"196\"/>\n-      <int name=\"rx\" value=\"0\"/>\n-      <int name=\"ry\" value=\"0\"/>\n-      <int name=\"type\" value=\"0\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-    <imgdir name=\"2\">\n-      <string name=\"bS\" value=\"poisonForest\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"13\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"-246\"/>\n-      <int name=\"y\" value=\"248\"/>\n-      <int name=\"rx\" value=\"0\"/>\n-      <int name=\"ry\" value=\"0\"/>\n-      <int name=\"type\" value=\"1\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-    <imgdir name=\"3\">\n-      <string name=\"bS\" value=\"poisonForest\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"14\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"-92\"/>\n-      <int name=\"y\" value=\"319\"/>\n-      <int name=\"rx\" value=\"0\"/>\n-      <int name=\"ry\" value=\"0\"/>\n-      <int name=\"type\" value=\"1\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-    <imgdir name=\"4\">\n-      <string name=\"bS\" value=\"poisonForest\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"12\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"301\"/>\n-      <int name=\"y\" value=\"136\"/>\n-      <int name=\"rx\" value=\"0\"/>\n-      <int name=\"ry\" value=\"0\"/>\n-      <int name=\"type\" value=\"1\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-    <imgdir name=\"5\">\n-      <string name=\"bS\" value=\"poisonForest\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"13\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"-339\"/>\n-      <int name=\"y\" value=\"205\"/>\n-      <int name=\"rx\" value=\"0\"/>\n-      <int name=\"ry\" value=\"0\"/>\n-      <int name=\"type\" value=\"1\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-    <imgdir name=\"6\">\n-      <string name=\"bS\" value=\"poisonForest\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"14\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"-97\"/>\n-      <int name=\"y\" value=\"212\"/>\n-      <int name=\"rx\" value=\"0\"/>\n-      <int name=\"ry\" value=\"0\"/>\n-      <int name=\"type\" value=\"1\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"life\">\n-    <imgdir name=\"0\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9201133\"/>\n-      <int name=\"x\" value=\"1114\"/>\n-      <int name=\"y\" value=\"-260\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"36\"/>\n-      <int name=\"cy\" value=\"-255\"/>\n-      <int name=\"rx0\" value=\"1064\"/>\n-      <int name=\"rx1\" value=\"1164\"/>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"reactor\">\n-  </imgdir>\n-  <imgdir name=\"0\">\n-    <imgdir name=\"info\">\n-      <string name=\"tS\" value=\"allblackTile\"/>\n-      <int name=\"tSMag\" value=\"1\"/>\n-    </imgdir>\n-    <imgdir name=\"tile\">\n-      <imgdir name=\"0\">\n-        <int name=\"x\" value=\"1305\"/>\n-        <int name=\"y\" value=\"150\"/>\n-        <string name=\"u\" value=\"edU\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"1\"/>\n-      </imgdir>\n-      <imgdir name=\"1\">\n-        <int name=\"x\" value=\"1305\"/>\n-        <int name=\"y\" value=\"150\"/>\n-        <string name=\"u\" value=\"edD\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"1\"/>\n-      </imgdir>\n-    </imgdir>\n-    <imgdir name=\"obj\">\n-      <imgdir name=\"0\">\n-        <string name=\"oS\" value=\"dungeon3\"/>\n-        <string name=\"l0\" value=\"dragonValley\"/>\n-        <string name=\"l1\" value=\"nest\"/>\n-        <string name=\"l2\" value=\"0\"/>\n-        <int name=\"x\" value=\"866\"/>\n-        <int name=\"y\" value=\"-101\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"2\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"3\">\n-        <string name=\"oS\" value=\"dungeon3\"/>\n-        <string name=\"l0\" value=\"dragonValley\"/>\n-        <string name=\"l1\" value=\"nest\"/>\n-        <string name=\"l2\" value=\"4\"/>\n-        <int name=\"x\" value=\"1267\"/>\n-        <int name=\"y\" value=\"-639\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"2\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"1\">\n-        <string name=\"oS\" value=\"dungeon3\"/>\n-        <string name=\"l0\" value=\"dragonValley\"/>\n-        <string name=\"l1\" value=\"nest\"/>\n-        <string name=\"l2\" value=\"2\"/>\n-        <int name=\"x\" value=\"266\"/>\n-        <int name=\"y\" value=\"-495\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"2\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"2\">\n-        <string name=\"oS\" value=\"dungeon3\"/>\n-        <string name=\"l0\" value=\"dragonValley\"/>\n-        <string name=\"l1\" value=\"nest\"/>\n-        <string name=\"l2\" value=\"1\"/>\n-        <int name=\"x\" value=\"274\"/>\n-        <int name=\"y\" value=\"-218\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"2\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"4\">\n-        <string name=\"oS\" value=\"dungeon3\"/>\n-        <string name=\"l0\" value=\"dragonValley\"/>\n-        <string name=\"l1\" value=\"nest\"/>\n-        <string name=\"l2\" value=\"1\"/>\n-        <int name=\"x\" value=\"828\"/>\n-        <int name=\"y\" value=\"-332\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"2\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"5\">\n-        <string name=\"oS\" value=\"dungeon3\"/>\n-        <string name=\"l0\" value=\"dragonValley\"/>\n-        <string name=\"l1\" value=\"nest\"/>\n-        <string name=\"l2\" value=\"2\"/>\n-        <int name=\"x\" value=\"821\"/>\n-        <int name=\"y\" value=\"-609\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"2\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"6\">\n-        <string name=\"oS\" value=\"dungeon3\"/>\n-        <string name=\"l0\" value=\"dragonValley\"/>\n-        <string name=\"l1\" value=\"nest\"/>\n-        <string name=\"l2\" value=\"3\"/>\n-        <int name=\"x\" value=\"341\"/>\n-        <int name=\"y\" value=\"-651\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"2\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"7\">\n-        <string name=\"oS\" value=\"dungeon3\"/>\n-        <string name=\"l0\" value=\"dragonValley\"/>\n-        <string name=\"l1\" value=\"nest\"/>\n-        <string name=\"l2\" value=\"3\"/>\n-        <int name=\"x\" value=\"-213\"/>\n-        <int name=\"y\" value=\"-536\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"2\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"1\">\n-    <imgdir name=\"info\">\n-      <string name=\"tS\" value=\"darkWood\"/>\n-      <int name=\"tSMag\" value=\"1\"/>\n-    </imgdir>\n-    <imgdir name=\"tile\">\n-      <imgdir name=\"12\">\n-        <int name=\"x\" value=\"-360\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"edU\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"16\">\n-        <int name=\"x\" value=\"-270\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"6\">\n-        <int name=\"x\" value=\"-270\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"3\">\n-        <int name=\"x\" value=\"-360\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"13\">\n-        <int name=\"x\" value=\"-360\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"0\">\n-        <int name=\"x\" value=\"-360\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"enV0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"10\">\n-        <int name=\"x\" value=\"0\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"9\">\n-        <int name=\"x\" value=\"-180\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"14\">\n-        <int name=\"x\" value=\"-180\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"15\">\n-        <int name=\"x\" value=\"-90\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"5\">\n-        <int name=\"x\" value=\"-90\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"23\">\n-        <int name=\"x\" value=\"90\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"19\">\n-        <int name=\"x\" value=\"90\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"17\">\n-        <int name=\"x\" value=\"0\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"27\">\n-        <int name=\"x\" value=\"270\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"29\">\n-        <int name=\"x\" value=\"360\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"31\">\n-        <int name=\"x\" value=\"450\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"32\">\n-        <int name=\"x\" value=\"180\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"21\">\n-        <int name=\"x\" value=\"180\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"22\">\n-        <int name=\"x\" value=\"540\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"26\">\n-        <int name=\"x\" value=\"270\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"33\">\n-        <int name=\"x\" value=\"540\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"30\">\n-        <int name=\"x\" value=\"450\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"28\">\n-        <int name=\"x\" value=\"360\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"1\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"43\">\n-        <int name=\"x\" value=\"720\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"39\">\n-        <int name=\"x\" value=\"630\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"34\">\n-        <int name=\"x\" value=\"630\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"40\">\n-        <int name=\"x\" value=\"720\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"47\">\n-        <int name=\"x\" value=\"810\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"41\">\n-        <int name=\"x\" value=\"810\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"50\">\n-        <int name=\"x\" value=\"900\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"45\">\n-        <int name=\"x\" value=\"900\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"55\">\n-        <int name=\"x\" value=\"1080\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"51\">\n-        <int name=\"x\" value=\"990\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"59\">\n-        <int name=\"x\" value=\"1170\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"54\">\n-        <int name=\"x\" value=\"1170\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"52\">\n-        <int name=\"x\" value=\"1080\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"48\">\n-        <int name=\"x\" value=\"990\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"61\">\n-        <int name=\"x\" value=\"-360\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"edD\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"4\">\n-        <int name=\"x\" value=\"-180\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"64\">\n-        <int name=\"x\" value=\"-180\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"7\">\n-        <int name=\"x\" value=\"-270\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"62\">\n-        <int name=\"x\" value=\"-270\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"2\">\n-        <int name=\"x\" value=\"-360\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"1\">\n-        <int name=\"x\" value=\"-360\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"60\">\n-        <int name=\"x\" value=\"-360\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"enV0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"20\">\n-        <int name=\"x\" value=\"90\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"65\">\n-        <int name=\"x\" value=\"-90\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"11\">\n-        <int name=\"x\" value=\"0\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"66\">\n-        <int name=\"x\" value=\"0\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"8\">\n-        <int name=\"x\" value=\"-90\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"1\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"63\">\n-        <int name=\"x\" value=\"90\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"71\">\n-        <int name=\"x\" value=\"270\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"67\">\n-        <int name=\"x\" value=\"180\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"70\">\n-        <int name=\"x\" value=\"360\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"38\">\n-        <int name=\"x\" value=\"450\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"37\">\n-        <int name=\"x\" value=\"360\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"18\">\n-        <int name=\"x\" value=\"180\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"1\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"25\">\n-        <int name=\"x\" value=\"270\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"68\">\n-        <int name=\"x\" value=\"450\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"36\">\n-        <int name=\"x\" value=\"630\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"73\">\n-        <int name=\"x\" value=\"630\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"24\">\n-        <int name=\"x\" value=\"540\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"69\">\n-        <int name=\"x\" value=\"540\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"42\">\n-        <int name=\"x\" value=\"720\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"72\">\n-        <int name=\"x\" value=\"720\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"76\">\n-        <int name=\"x\" value=\"810\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"44\">\n-        <int name=\"x\" value=\"810\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"1\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"35\">\n-        <int name=\"x\" value=\"900\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"75\">\n-        <int name=\"x\" value=\"900\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"46\">\n-        <int name=\"x\" value=\"990\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"77\">\n-        <int name=\"x\" value=\"1080\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"74\">\n-        <int name=\"x\" value=\"990\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"49\">\n-        <int name=\"x\" value=\"1080\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"1\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"79\">\n-        <int name=\"x\" value=\"1170\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"58\">\n-        <int name=\"x\" value=\"1170\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"80\">\n-        <int name=\"x\" value=\"990\"/>\n-        <int name=\"y\" value=\"-240\"/>\n-        <string name=\"u\" value=\"edU\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"5\"/>\n-      </imgdir>\n-      <imgdir name=\"81\">\n-        <int name=\"x\" value=\"990\"/>\n-        <int name=\"y\" value=\"-240\"/>\n-        <string name=\"u\" value=\"edD\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"5\"/>\n-      </imgdir>\n-      <imgdir name=\"86\">\n-        <int name=\"x\" value=\"1080\"/>\n-        <int name=\"y\" value=\"-240\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"5\"/>\n-      </imgdir>\n-      <imgdir name=\"87\">\n-        <int name=\"x\" value=\"1080\"/>\n-        <int name=\"y\" value=\"-240\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"5\"/>\n-      </imgdir>\n-      <imgdir name=\"82\">\n-        <int name=\"x\" value=\"990\"/>\n-        <int name=\"y\" value=\"-240\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"5\"/>\n-      </imgdir>\n-      <imgdir name=\"83\">\n-        <int name=\"x\" value=\"990\"/>\n-        <int name=\"y\" value=\"-240\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"5\"/>\n-      </imgdir>\n-      <imgdir name=\"88\">\n-        <int name=\"x\" value=\"1260\"/>\n-        <int name=\"y\" value=\"-240\"/>\n-        <string name=\"u\" value=\"edU\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"5\"/>\n-      </imgdir>\n-      <imgdir name=\"89\">\n-        <int name=\"x\" value=\"1260\"/>\n-        <int name=\"y\" value=\"-240\"/>\n-        <string name=\"u\" value=\"edD\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"5\"/>\n-      </imgdir>\n-      <imgdir name=\"84\">\n-        <int name=\"x\" value=\"1170\"/>\n-        <int name=\"y\" value=\"-240\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"5\"/>\n-      </imgdir>\n-      <imgdir name=\"85\">\n-        <int name=\"x\" value=\"1170\"/>\n-        <int name=\"y\" value=\"-240\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"5\"/>\n-      </imgdir>\n-      <imgdir name=\"56\">\n-        <int name=\"x\" value=\"1260\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"53\">\n-        <int name=\"x\" value=\"1260\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"90\">\n-        <int name=\"x\" value=\"1350\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"enV1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"92\">\n-        <int name=\"x\" value=\"1350\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"edU\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"78\">\n-        <int name=\"x\" value=\"1260\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"93\">\n-        <int name=\"x\" value=\"1260\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"57\">\n-        <int name=\"x\" value=\"1350\"/>\n-        <int name=\"y\" value=\"180\"/>\n-        <string name=\"u\" value=\"edD\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"91\">\n-        <int name=\"x\" value=\"1350\"/>\n-        <int name=\"y\" value=\"120\"/>\n-        <string name=\"u\" value=\"enV1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-    </imgdir>\n-    <imgdir name=\"obj\">\n-      <imgdir name=\"0\">\n-        <string name=\"oS\" value=\"dungeon3\"/>\n-        <string name=\"l0\" value=\"dragonValley\"/>\n-        <string name=\"l1\" value=\"nest\"/>\n-        <string name=\"l2\" value=\"0\"/>\n-        <int name=\"x\" value=\"313\"/>\n-        <int name=\"y\" value=\"12\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"1\">\n-        <string name=\"oS\" value=\"dungeon3\"/>\n-        <string name=\"l0\" value=\"dragonValley\"/>\n-        <string name=\"l1\" value=\"nest\"/>\n-        <string name=\"l2\" value=\"5\"/>\n-        <int name=\"x\" value=\"-185\"/>\n-        <int name=\"y\" value=\"-393\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"4\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"2\">\n-        <string name=\"oS\" value=\"dungeon3\"/>\n-        <string name=\"l0\" value=\"dragonValley\"/>\n-        <string name=\"l1\" value=\"nest\"/>\n-        <string name=\"l2\" value=\"6\"/>\n-        <int name=\"x\" value=\"169\"/>\n-        <int name=\"y\" value=\"-385\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"3\">\n-        <string name=\"oS\" value=\"dungeon3\"/>\n-        <string name=\"l0\" value=\"dragonValley\"/>\n-        <string name=\"l1\" value=\"nest\"/>\n-        <string name=\"l2\" value=\"5\"/>\n-        <int name=\"x\" value=\"410\"/>\n-        <int name=\"y\" value=\"-399\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"4\">\n-        <string name=\"oS\" value=\"dungeon3\"/>\n-        <string name=\"l0\" value=\"dragonValley\"/>\n-        <string name=\"l1\" value=\"nest\"/>\n-        <string name=\"l2\" value=\"6\"/>\n-        <int name=\"x\" value=\"667\"/>\n-        <int name=\"y\" value=\"-341\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"5\">\n-        <string name=\"oS\" value=\"dungeon3\"/>\n-        <string name=\"l0\" value=\"dragonValley\"/>\n-        <string name=\"l1\" value=\"nest\"/>\n-        <string name=\"l2\" value=\"7\"/>\n-        <int name=\"x\" value=\"835\"/>\n-        <int name=\"y\" value=\"-467\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"6\">\n-        <string name=\"oS\" value=\"dungeon3\"/>\n-        <string name=\"l0\" value=\"dragonValley\"/>\n-        <string name=\"l1\" value=\"nest\"/>\n-        <string name=\"l2\" value=\"8\"/>\n-        <int name=\"x\" value=\"900\"/>\n-        <int name=\"y\" value=\"-486\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"7\">\n-        <string name=\"oS\" value=\"dungeon3\"/>\n-        <string name=\"l0\" value=\"dragonValley\"/>\n-        <string name=\"l1\" value=\"nest\"/>\n-        <string name=\"l2\" value=\"9\"/>\n-        <int name=\"x\" value=\"1116\"/>\n-        <int name=\"y\" value=\"-464\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"8\">\n-        <string name=\"oS\" value=\"dungeon3\"/>\n-        <string name=\"l0\" value=\"dragonValley\"/>\n-        <string name=\"l1\" value=\"nest\"/>\n-        <string name=\"l2\" value=\"12\"/>\n-        <int name=\"x\" value=\"87\"/>\n-        <int name=\"y\" value=\"-427\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"2\">\n-    <imgdir name=\"info\">\n-    </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n-    <imgdir name=\"obj\">\n-      <imgdir name=\"0\">\n-        <string name=\"oS\" value=\"connect\"/>\n-        <string name=\"l0\" value=\"rope\"/>\n-        <string name=\"l1\" value=\"12\"/>\n-        <string name=\"l2\" value=\"0\"/>\n-        <int name=\"x\" value=\"1240\"/>\n-        <int name=\"y\" value=\"-255\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"3\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"1\">\n-        <string name=\"oS\" value=\"connect\"/>\n-        <string name=\"l0\" value=\"rope\"/>\n-        <string name=\"l1\" value=\"12\"/>\n-        <string name=\"l2\" value=\"1\"/>\n-        <int name=\"x\" value=\"1240\"/>\n-        <int name=\"y\" value=\"-182\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"3\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"2\">\n-        <string name=\"oS\" value=\"connect\"/>\n-        <string name=\"l0\" value=\"rope\"/>\n-        <string name=\"l1\" value=\"12\"/>\n-        <string name=\"l2\" value=\"1\"/>\n-        <int name=\"x\" value=\"1240\"/>\n-        <int name=\"y\" value=\"-72\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"3\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"3\">\n-        <string name=\"oS\" value=\"connect\"/>\n-        <string name=\"l0\" value=\"rope\"/>\n-        <string name=\"l1\" value=\"12\"/>\n-        <string name=\"l2\" value=\"2\"/>\n-        <int name=\"x\" value=\"1240\"/>\n-        <int name=\"y\" value=\"-12\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"3\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"3\">\n-    <imgdir name=\"info\">\n-    </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n-    <imgdir name=\"obj\">\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"4\">\n-    <imgdir name=\"info\">\n-    </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n-    <imgdir name=\"obj\">\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"5\">\n-    <imgdir name=\"info\">\n-    </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n-    <imgdir name=\"obj\">\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"6\">\n-    <imgdir name=\"info\">\n-    </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n-    <imgdir name=\"obj\">\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"7\">\n-    <imgdir name=\"info\">\n-    </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n-    <imgdir name=\"obj\">\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"foothold\">\n-    <imgdir name=\"0\">\n-      <imgdir name=\"1\">\n-        <imgdir name=\"1\">\n-          <int name=\"x1\" value=\"1266\"/>\n-          <int name=\"y1\" value=\"150\"/>\n-          <int name=\"x2\" value=\"1266\"/>\n-          <int name=\"y2\" value=\"125\"/>\n-          <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"2\"/>\n-        </imgdir>\n-        <imgdir name=\"2\">\n-          <int name=\"x1\" value=\"1266\"/>\n-          <int name=\"y1\" value=\"125\"/>\n-          <int name=\"x2\" value=\"1344\"/>\n-          <int name=\"y2\" value=\"125\"/>\n-          <int name=\"prev\" value=\"1\"/>\n-          <int name=\"next\" value=\"3\"/>\n-        </imgdir>\n-        <imgdir name=\"3\">\n-          <int name=\"x1\" value=\"1344\"/>\n-          <int name=\"y1\" value=\"125\"/>\n-          <int name=\"x2\" value=\"1344\"/>\n-          <int name=\"y2\" value=\"150\"/>\n-          <int name=\"prev\" value=\"2\"/>\n-          <int name=\"next\" value=\"0\"/>\n-        </imgdir>\n-      </imgdir>\n-    </imgdir>\n-    <imgdir name=\"1\">\n-      <imgdir name=\"0\">\n-        <imgdir name=\"4\">\n-          <int name=\"x1\" value=\"-393\"/>\n-          <int name=\"y1\" value=\"120\"/>\n-          <int name=\"x2\" value=\"-393\"/>\n-          <int name=\"y2\" value=\"60\"/>\n-          <int name=\"prev\" value=\"26\"/>\n-          <int name=\"next\" value=\"8\"/>\n-        </imgdir>\n-        <imgdir name=\"5\">\n-          <int name=\"x1\" value=\"-270\"/>\n-          <int name=\"y1\" value=\"45\"/>\n-          <int name=\"x2\" value=\"-180\"/>\n-          <int name=\"y2\" value=\"45\"/>\n-          <int name=\"prev\" value=\"10\"/>\n-          <int name=\"next\" value=\"6\"/>\n-        </imgdir>\n-        <imgdir name=\"6\">\n-          <int name=\"x1\" value=\"-180\"/>\n-          <int name=\"y1\" value=\"45\"/>\n-          <int name=\"x2\" value=\"-90\"/>\n-          <int name=\"y2\" value=\"45\"/>\n-          <int name=\"prev\" value=\"5\"/>\n-          <int name=\"next\" value=\"11\"/>\n-        </imgdir>\n-        <imgdir name=\"7\">\n-          <int name=\"x1\" value=\"0\"/>\n-          <int name=\"y1\" value=\"45\"/>\n-          <int name=\"x2\" value=\"90\"/>\n-          <int name=\"y2\" value=\"45\"/>\n-          <int name=\"prev\" value=\"11\"/>\n-          <int name=\"next\" value=\"12\"/>\n-        </imgdir>\n-        <imgdir name=\"8\">\n-          <int name=\"x1\" value=\"-393\"/>\n-          <int name=\"y1\" value=\"60\"/>\n-          <int name=\"x2\" value=\"-393\"/>\n-          <int name=\"y2\" value=\"45\"/>\n-          <int name=\"prev\" value=\"4\"/>\n-          <int name=\"next\" value=\"9\"/>\n-        </imgdir>\n-        <imgdir name=\"9\">\n-          <int name=\"x1\" value=\"-393\"/>\n-          <int name=\"y1\" value=\"45\"/>\n-          <int name=\"x2\" value=\"-327\"/>\n-          <int name=\"y2\" value=\"45\"/>\n-          <int name=\"prev\" value=\"8\"/>\n-          <int name=\"next\" value=\"10\"/>\n-        </imgdir>\n-        <imgdir name=\"10\">\n-          <int name=\"x1\" value=\"-327\"/>\n-          <int name=\"y1\" value=\"45\"/>\n-          <int name=\"x2\" value=\"-270\"/>\n-          <int name=\"y2\" value=\"45\"/>\n-          <int name=\"prev\" value=\"9\"/>\n-          <int name=\"next\" value=\"5\"/>\n-        </imgdir>\n-        <imgdir name=\"11\">\n-          <int name=\"x1\" value=\"-90\"/>\n-          <int name=\"y1\" value=\"45\"/>\n-          <int name=\"x2\" value=\"0\"/>\n-          <int name=\"y2\" value=\"45\"/>\n-          <int name=\"prev\" value=\"6\"/>\n-          <int name=\"next\" value=\"7\"/>\n-        </imgdir>\n-        <imgdir name=\"12\">\n-          <int name=\"x1\" value=\"90\"/>\n-          <int name=\"y1\" value=\"45\"/>\n-          <int name=\"x2\" value=\"180\"/>\n-          <int name=\"y2\" value=\"45\"/>\n-          <int name=\"prev\" value=\"7\"/>\n-          <int name=\"next\" value=\"17\"/>\n-        </imgdir>\n-        <imgdir name=\"13\">\n-          <int name=\"x1\" value=\"540\"/>\n-          <int name=\"y1\" value=\"45\"/>\n-          <int name=\"x2\" value=\"630\"/>\n-          <int name=\"y2\" value=\"45\"/>\n-          <int name=\"prev\" value=\"16\"/>\n-          <int name=\"next\" value=\"18\"/>\n-        </imgdir>\n-        <imgdir name=\"14\">\n-          <int name=\"x1\" value=\"270\"/>\n-          <int name=\"y1\" value=\"45\"/>\n-          <int name=\"x2\" value=\"360\"/>\n-          <int name=\"y2\" value=\"45\"/>\n-          <int name=\"prev\" value=\"17\"/>\n-          <int name=\"next\" value=\"15\"/>\n-        </imgdir>\n-        <imgdir name=\"15\">\n-          <int name=\"x1\" value=\"360\"/>\n-          <int name=\"y1\" value=\"45\"/>\n-          <int name=\"x2\" value=\"450\"/>\n-          <int name=\"y2\" value=\"45\"/>\n-          <int name=\"prev\" value=\"14\"/>\n-          <int name=\"next\" value=\"16\"/>\n-        </imgdir>\n-        <imgdir name=\"16\">\n-          <int name=\"x1\" value=\"450\"/>\n-          <int name=\"y1\" value=\"45\"/>\n-          <int name=\"x2\" value=\"540\"/>\n-          <int name=\"y2\" value=\"45\"/>\n-          <int name=\"prev\" value=\"15\"/>\n-          <int name=\"next\" value=\"13\"/>\n-        </imgdir>\n-        <imgdir name=\"17\">\n-          <int name=\"x1\" value=\"180\"/>\n-          <int name=\"y1\" value=\"45\"/>\n-          <int name=\"x2\" value=\"270\"/>\n-          <int name=\"y2\" value=\"45\"/>\n-          <int name=\"prev\" value=\"12\"/>\n-          <int name=\"next\" value=\"14\"/>\n-        </imgdir>\n-        <imgdir name=\"18\">\n-          <int name=\"x1\" value=\"630\"/>\n-          <int name=\"y1\" value=\"45\"/>\n-          <int name=\"x2\" value=\"720\"/>\n-          <int name=\"y2\" value=\"45\"/>\n-          <int name=\"prev\" value=\"13\"/>\n-          <int name=\"next\" value=\"19\"/>\n-        </imgdir>\n-        <imgdir name=\"19\">\n-          <int name=\"x1\" value=\"720\"/>\n-          <int name=\"y1\" value=\"45\"/>\n-          <int name=\"x2\" value=\"810\"/>\n-          <int name=\"y2\" value=\"45\"/>\n-          <int name=\"prev\" value=\"18\"/>\n-          <int name=\"next\" value=\"20\"/>\n-        </imgdir>\n-        <imgdir name=\"20\">\n-          <int name=\"x1\" value=\"810\"/>\n-          <int name=\"y1\" value=\"45\"/>\n-          <int name=\"x2\" value=\"900\"/>\n-          <int name=\"y2\" value=\"45\"/>\n-          <int name=\"prev\" value=\"19\"/>\n-          <int name=\"next\" value=\"21\"/>\n-        </imgdir>\n-        <imgdir name=\"21\">\n-          <int name=\"x1\" value=\"900\"/>\n-          <int name=\"y1\" value=\"45\"/>\n-          <int name=\"x2\" value=\"990\"/>\n-          <int name=\"y2\" value=\"45\"/>\n-          <int name=\"prev\" value=\"20\"/>\n-          <int name=\"next\" value=\"22\"/>\n-        </imgdir>\n-        <imgdir name=\"22\">\n-          <int name=\"x1\" value=\"990\"/>\n-          <int name=\"y1\" value=\"45\"/>\n-          <int name=\"x2\" value=\"1080\"/>\n-          <int name=\"y2\" value=\"45\"/>\n-          <int name=\"prev\" value=\"21\"/>\n-          <int name=\"next\" value=\"25\"/>\n-        </imgdir>\n-        <imgdir name=\"23\">\n-          <int name=\"x1\" value=\"1260\"/>\n-          <int name=\"y1\" value=\"45\"/>\n-          <int name=\"x2\" value=\"1317\"/>\n-          <int name=\"y2\" value=\"45\"/>\n-          <int name=\"prev\" value=\"24\"/>\n-          <int name=\"next\" value=\"29\"/>\n-        </imgdir>\n-        <imgdir name=\"24\">\n-          <int name=\"x1\" value=\"1170\"/>\n-          <int name=\"y1\" value=\"45\"/>\n-          <int name=\"x2\" value=\"1260\"/>\n-          <int name=\"y2\" value=\"45\"/>\n-          <int name=\"prev\" value=\"25\"/>\n-          <int name=\"next\" value=\"23\"/>\n-        </imgdir>\n-        <imgdir name=\"25\">\n-          <int name=\"x1\" value=\"1080\"/>\n-          <int name=\"y1\" value=\"45\"/>\n-          <int name=\"x2\" value=\"1170\"/>\n-          <int name=\"y2\" value=\"45\"/>\n-          <int name=\"prev\" value=\"22\"/>\n-          <int name=\"next\" value=\"24\"/>\n-        </imgdir>\n-        <imgdir name=\"26\">\n-          <int name=\"x1\" value=\"-393\"/>\n-          <int name=\"y1\" value=\"180\"/>\n-          <int name=\"x2\" value=\"-393\"/>\n-          <int name=\"y2\" value=\"120\"/>\n-          <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"4\"/>\n-        </imgdir>\n-        <imgdir name=\"27\">\n-          <int name=\"x1\" value=\"1383\"/>\n-          <int name=\"y1\" value=\"60\"/>\n-          <int name=\"x2\" value=\"1383\"/>\n-          <int name=\"y2\" value=\"120\"/>\n-          <int name=\"prev\" value=\"31\"/>\n-          <int name=\"next\" value=\"28\"/>\n-        </imgdir>\n-        <imgdir name=\"28\">\n-          <int name=\"x1\" value=\"1383\"/>\n-          <int name=\"y1\" value=\"120\"/>\n-          <int name=\"x2\" value=\"1383\"/>\n-          <int name=\"y2\" value=\"180\"/>\n-          <int name=\"prev\" value=\"27\"/>\n-          <int name=\"next\" value=\"0\"/>\n-        </imgdir>\n-        <imgdir name=\"29\">\n-          <int name=\"x1\" value=\"1317\"/>\n-          <int name=\"y1\" value=\"45\"/>\n-          <int name=\"x2\" value=\"1350\"/>\n-          <int name=\"y2\" value=\"45\"/>\n-          <int name=\"prev\" value=\"23\"/>\n-          <int name=\"next\" value=\"30\"/>\n-        </imgdir>\n-        <imgdir name=\"30\">\n-          <int name=\"x1\" value=\"1350\"/>\n-          <int name=\"y1\" value=\"45\"/>\n-          <int name=\"x2\" value=\"1383\"/>\n-          <int name=\"y2\" value=\"45\"/>\n-          <int name=\"prev\" value=\"29\"/>\n-          <int name=\"next\" value=\"31\"/>\n-        </imgdir>\n-        <imgdir name=\"31\">\n-          <int name=\"x1\" value=\"1383\"/>\n-          <int name=\"y1\" value=\"45\"/>\n-          <int name=\"x2\" value=\"1383\"/>\n-          <int name=\"y2\" value=\"60\"/>\n-          <int name=\"prev\" value=\"30\"/>\n-          <int name=\"next\" value=\"27\"/>\n-        </imgdir>\n-      </imgdir>\n-      <imgdir name=\"5\">\n-        <imgdir name=\"32\">\n-          <int name=\"x1\" value=\"957\"/>\n-          <int name=\"y1\" value=\"-240\"/>\n-          <int name=\"x2\" value=\"957\"/>\n-          <int name=\"y2\" value=\"-255\"/>\n-          <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"33\"/>\n-        </imgdir>\n-        <imgdir name=\"33\">\n-          <int name=\"x1\" value=\"957\"/>\n-          <int name=\"y1\" value=\"-255\"/>\n-          <int name=\"x2\" value=\"1023\"/>\n-          <int name=\"y2\" value=\"-255\"/>\n-          <int name=\"prev\" value=\"32\"/>\n-          <int name=\"next\" value=\"34\"/>\n-        </imgdir>\n-        <imgdir name=\"34\">\n-          <int name=\"x1\" value=\"1023\"/>\n-          <int name=\"y1\" value=\"-255\"/>\n-          <int name=\"x2\" value=\"1080\"/>\n-          <int name=\"y2\" value=\"-255\"/>\n-          <int name=\"prev\" value=\"33\"/>\n-          <int name=\"next\" value=\"36\"/>\n-        </imgdir>\n-        <imgdir name=\"35\">\n-          <int name=\"x1\" value=\"1170\"/>\n-          <int name=\"y1\" value=\"-255\"/>\n-          <int name=\"x2\" value=\"1227\"/>\n-          <int name=\"y2\" value=\"-255\"/>\n-          <int name=\"prev\" value=\"36\"/>\n-          <int name=\"next\" value=\"37\"/>\n-        </imgdir>\n-        <imgdir name=\"36\">\n-          <int name=\"x1\" value=\"1080\"/>\n-          <int name=\"y1\" value=\"-255\"/>\n-          <int name=\"x2\" value=\"1170\"/>\n-          <int name=\"y2\" value=\"-255\"/>\n-          <int name=\"prev\" value=\"34\"/>\n-          <int name=\"next\" value=\"35\"/>\n-        </imgdir>\n-        <imgdir name=\"37\">\n-          <int name=\"x1\" value=\"1227\"/>\n-          <int name=\"y1\" value=\"-255\"/>\n-          <int name=\"x2\" value=\"1260\"/>\n-          <int name=\"y2\" value=\"-255\"/>\n-          <int name=\"prev\" value=\"35\"/>\n-          <int name=\"next\" value=\"38\"/>\n-        </imgdir>\n-        <imgdir name=\"38\">\n-          <int name=\"x1\" value=\"1260\"/>\n-          <int name=\"y1\" value=\"-255\"/>\n-          <int name=\"x2\" value=\"1293\"/>\n-          <int name=\"y2\" value=\"-255\"/>\n-          <int name=\"prev\" value=\"37\"/>\n-          <int name=\"next\" value=\"39\"/>\n-        </imgdir>\n-        <imgdir name=\"39\">\n-          <int name=\"x1\" value=\"1293\"/>\n-          <int name=\"y1\" value=\"-255\"/>\n-          <int name=\"x2\" value=\"1293\"/>\n-          <int name=\"y2\" value=\"-240\"/>\n-          <int name=\"prev\" value=\"38\"/>\n-          <int name=\"next\" value=\"0\"/>\n-        </imgdir>\n-      </imgdir>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"ladderRope\">\n-    <imgdir name=\"1\">\n-      <int name=\"l\" value=\"0\"/>\n-      <int name=\"uf\" value=\"1\"/>\n-      <int name=\"x\" value=\"1240\"/>\n-      <int name=\"y1\" value=\"-253\"/>\n-      <int name=\"y2\" value=\"37\"/>\n-      <int name=\"page\" value=\"2\"/>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"miniMap\">\n-    <canvas name=\"canvas\" width=\"115\" height=\"77\">\n-    </canvas>\n-    <int name=\"width\" value=\"1853\"/>\n-    <int name=\"height\" value=\"1239\"/>\n-    <int name=\"centerX\" value=\"433\"/>\n-    <int name=\"centerY\" value=\"980\"/>\n-    <int name=\"mag\" value=\"4\"/>\n-  </imgdir>\n-  <imgdir name=\"portal\">\n-    <imgdir name=\"0\">\n-      <string name=\"pn\" value=\"sp\"/>\n-      <int name=\"pt\" value=\"0\"/>\n-      <int name=\"x\" value=\"-297\"/>\n-      <int name=\"y\" value=\"-26\"/>\n-      <int name=\"tm\" value=\"999999999\"/>\n-      <string name=\"tn\" value=\"\"/>\n-    </imgdir>\n-  </imgdir>\n-</imgdir>\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?><imgdir name=\"677000012.img\"><imgdir name=\"info\"><int name=\"version\" value=\"10\"/><int name=\"cloud\" value=\"0\"/><int name=\"town\" value=\"0\"/><int name=\"swim\" value=\"0\"/><int name=\"returnMap\" value=\"677000010\"/><int name=\"forcedReturn\" value=\"999999999\"/><float name=\"mobRate\" value=\"1.0\"/><string name=\"bgm\" value=\"Bgm00/SleepyWood\"/><string name=\"mapMark\" value=\"Dungeon\"/><int name=\"hideMinimap\" value=\"1\"/><int name=\"fieldLimit\" value=\"11260\"/><string name=\"onFirstUserEnter\" value=\"astaroth_summon\"/><string name=\"onUserEnter\" value=\"\"/><int name=\"fly\" value=\"0\"/><int name=\"VRTop\" value=\"-1300\"/><int name=\"VRLeft\" value=\"-373\"/><int name=\"VRBottom\" value=\"175\"/><int name=\"VRRight\" value=\"1337\"/><int name=\"decHP\" value=\"420\"/><int name=\"protectItem\" value=\"1003036\"/></imgdir><imgdir name=\"back\"><imgdir name=\"0\"><string name=\"bS\" value=\"login\"/><int name=\"front\" value=\"0\"/><int name=\"ani\" value=\"0\"/><int name=\"no\" value=\"26\"/><int name=\"f\" value=\"0\"/><int name=\"x\" value=\"136\"/><int name=\"y\" value=\"-100\"/><int name=\"rx\" value=\"5\"/><int name=\"ry\" value=\"0\"/><int name=\"type\" value=\"1\"/><int name=\"cx\" value=\"0\"/><int name=\"cy\" value=\"0\"/><int name=\"a\" value=\"255\"/></imgdir><imgdir name=\"1\"><string name=\"bS\" value=\"poisonForest\"/><int name=\"front\" value=\"0\"/><int name=\"ani\" value=\"0\"/><int name=\"no\" value=\"12\"/><int name=\"f\" value=\"0\"/><int name=\"x\" value=\"238\"/><int name=\"y\" value=\"196\"/><int name=\"rx\" value=\"0\"/><int name=\"ry\" value=\"0\"/><int name=\"type\" value=\"0\"/><int name=\"cx\" value=\"0\"/><int name=\"cy\" value=\"0\"/><int name=\"a\" value=\"255\"/></imgdir><imgdir name=\"2\"><string name=\"bS\" value=\"poisonForest\"/><int name=\"front\" value=\"0\"/><int name=\"ani\" value=\"0\"/><int name=\"no\" value=\"13\"/><int name=\"f\" value=\"0\"/><int name=\"x\" value=\"-246\"/><int name=\"y\" value=\"248\"/><int name=\"rx\" value=\"0\"/><int name=\"ry\" value=\"0\"/><int name=\"type\" value=\"1\"/><int name=\"cx\" value=\"0\"/><int name=\"cy\" value=\"0\"/><int name=\"a\" value=\"255\"/></imgdir><imgdir name=\"3\"><string name=\"bS\" value=\"poisonForest\"/><int name=\"front\" value=\"0\"/><int name=\"ani\" value=\"0\"/><int name=\"no\" value=\"14\"/><int name=\"f\" value=\"0\"/><int name=\"x\" value=\"-92\"/><int name=\"y\" value=\"319\"/><int name=\"rx\" value=\"0\"/><int name=\"ry\" value=\"0\"/><int name=\"type\" value=\"1\"/><int name=\"cx\" value=\"0\"/><int name=\"cy\" value=\"0\"/><int name=\"a\" value=\"255\"/></imgdir><imgdir name=\"4\"><string name=\"bS\" value=\"poisonForest\"/><int name=\"front\" value=\"0\"/><int name=\"ani\" value=\"0\"/><int name=\"no\" value=\"12\"/><int name=\"f\" value=\"0\"/><int name=\"x\" value=\"301\"/><int name=\"y\" value=\"136\"/><int name=\"rx\" value=\"0\"/><int name=\"ry\" value=\"0\"/><int name=\"type\" value=\"1\"/><int name=\"cx\" value=\"0\"/><int name=\"cy\" value=\"0\"/><int name=\"a\" value=\"255\"/></imgdir><imgdir name=\"5\"><string name=\"bS\" value=\"poisonForest\"/><int name=\"front\" value=\"0\"/><int name=\"ani\" value=\"0\"/><int name=\"no\" value=\"13\"/><int name=\"f\" value=\"0\"/><int name=\"x\" value=\"-339\"/><int name=\"y\" value=\"205\"/><int name=\"rx\" value=\"0\"/><int name=\"ry\" value=\"0\"/><int name=\"type\" value=\"1\"/><int name=\"cx\" value=\"0\"/><int name=\"cy\" value=\"0\"/><int name=\"a\" value=\"255\"/></imgdir><imgdir name=\"6\"><string name=\"bS\" value=\"poisonForest\"/><int name=\"front\" value=\"0\"/><int name=\"ani\" value=\"0\"/><int name=\"no\" value=\"14\"/><int name=\"f\" value=\"0\"/><int name=\"x\" value=\"-97\"/><int name=\"y\" value=\"212\"/><int name=\"rx\" value=\"0\"/><int name=\"ry\" value=\"0\"/><int name=\"type\" value=\"1\"/><int name=\"cx\" value=\"0\"/><int name=\"cy\" value=\"0\"/><int name=\"a\" value=\"255\"/></imgdir></imgdir><imgdir name=\"life\"><imgdir name=\"0\"><string name=\"type\" value=\"n\"/><string name=\"id\" value=\"9201133\"/><int name=\"x\" value=\"1114\"/><int name=\"y\" value=\"-260\"/><int name=\"mobTime\" value=\"0\"/><int name=\"f\" value=\"0\"/><int name=\"hide\" value=\"0\"/><int name=\"fh\" value=\"36\"/><int name=\"cy\" value=\"-255\"/><int name=\"rx0\" value=\"1064\"/><int name=\"rx1\" value=\"1164\"/></imgdir></imgdir><imgdir name=\"reactor\"></imgdir><imgdir name=\"0\"><imgdir name=\"info\"><string name=\"tS\" value=\"allblackTile\"/><int name=\"tSMag\" value=\"1\"/></imgdir><imgdir name=\"tile\"><imgdir name=\"0\"><int name=\"x\" value=\"1305\"/><int name=\"y\" value=\"150\"/><string name=\"u\" value=\"edU\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"1\"/></imgdir><imgdir name=\"1\"><int name=\"x\" value=\"1305\"/><int name=\"y\" value=\"150\"/><string name=\"u\" value=\"edD\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"1\"/></imgdir></imgdir><imgdir name=\"obj\"><imgdir name=\"0\"><string name=\"oS\" value=\"dungeon3\"/><string name=\"l0\" value=\"dragonValley\"/><string name=\"l1\" value=\"nest\"/><string name=\"l2\" value=\"0\"/><int name=\"x\" value=\"866\"/><int name=\"y\" value=\"-101\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"2\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"3\"><string name=\"oS\" value=\"dungeon3\"/><string name=\"l0\" value=\"dragonValley\"/><string name=\"l1\" value=\"nest\"/><string name=\"l2\" value=\"4\"/><int name=\"x\" value=\"1267\"/><int name=\"y\" value=\"-639\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"2\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"1\"><string name=\"oS\" value=\"dungeon3\"/><string name=\"l0\" value=\"dragonValley\"/><string name=\"l1\" value=\"nest\"/><string name=\"l2\" value=\"2\"/><int name=\"x\" value=\"266\"/><int name=\"y\" value=\"-495\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"2\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"2\"><string name=\"oS\" value=\"dungeon3\"/><string name=\"l0\" value=\"dragonValley\"/><string name=\"l1\" value=\"nest\"/><string name=\"l2\" value=\"1\"/><int name=\"x\" value=\"274\"/><int name=\"y\" value=\"-218\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"2\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"4\"><string name=\"oS\" value=\"dungeon3\"/><string name=\"l0\" value=\"dragonValley\"/><string name=\"l1\" value=\"nest\"/><string name=\"l2\" value=\"1\"/><int name=\"x\" value=\"828\"/><int name=\"y\" value=\"-332\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"2\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"5\"><string name=\"oS\" value=\"dungeon3\"/><string name=\"l0\" value=\"dragonValley\"/><string name=\"l1\" value=\"nest\"/><string name=\"l2\" value=\"2\"/><int name=\"x\" value=\"821\"/><int name=\"y\" value=\"-609\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"2\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"6\"><string name=\"oS\" value=\"dungeon3\"/><string name=\"l0\" value=\"dragonValley\"/><string name=\"l1\" value=\"nest\"/><string name=\"l2\" value=\"3\"/><int name=\"x\" value=\"341\"/><int name=\"y\" value=\"-651\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"2\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"7\"><string name=\"oS\" value=\"dungeon3\"/><string name=\"l0\" value=\"dragonValley\"/><string name=\"l1\" value=\"nest\"/><string name=\"l2\" value=\"3\"/><int name=\"x\" value=\"-213\"/><int name=\"y\" value=\"-536\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"2\"/><int name=\"r\" value=\"0\"/></imgdir></imgdir></imgdir><imgdir name=\"1\"><imgdir name=\"info\"><string name=\"tS\" value=\"darkWood\"/><int name=\"tSMag\" value=\"1\"/></imgdir><imgdir name=\"tile\"><imgdir name=\"12\"><int name=\"x\" value=\"-360\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"edU\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"16\"><int name=\"x\" value=\"-270\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"6\"><int name=\"x\" value=\"-270\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"3\"><int name=\"x\" value=\"-360\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"2\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"13\"><int name=\"x\" value=\"-360\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"0\"><int name=\"x\" value=\"-360\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"enV0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"10\"><int name=\"x\" value=\"0\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"9\"><int name=\"x\" value=\"-180\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"14\"><int name=\"x\" value=\"-180\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"2\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"15\"><int name=\"x\" value=\"-90\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"5\"><int name=\"x\" value=\"-90\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"2\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"23\"><int name=\"x\" value=\"90\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"2\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"19\"><int name=\"x\" value=\"90\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"17\"><int name=\"x\" value=\"0\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"27\"><int name=\"x\" value=\"270\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"29\"><int name=\"x\" value=\"360\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"31\"><int name=\"x\" value=\"450\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"32\"><int name=\"x\" value=\"180\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"21\"><int name=\"x\" value=\"180\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"2\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"22\"><int name=\"x\" value=\"540\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"26\"><int name=\"x\" value=\"270\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"33\"><int name=\"x\" value=\"540\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"30\"><int name=\"x\" value=\"450\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"2\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"28\"><int name=\"x\" value=\"360\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"1\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"43\"><int name=\"x\" value=\"720\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"39\"><int name=\"x\" value=\"630\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"34\"><int name=\"x\" value=\"630\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"2\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"40\"><int name=\"x\" value=\"720\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"2\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"47\"><int name=\"x\" value=\"810\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"41\"><int name=\"x\" value=\"810\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"50\"><int name=\"x\" value=\"900\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"45\"><int name=\"x\" value=\"900\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"2\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"55\"><int name=\"x\" value=\"1080\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"51\"><int name=\"x\" value=\"990\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"59\"><int name=\"x\" value=\"1170\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"2\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"54\"><int name=\"x\" value=\"1170\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"52\"><int name=\"x\" value=\"1080\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"48\"><int name=\"x\" value=\"990\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"2\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"61\"><int name=\"x\" value=\"-360\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"edD\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"4\"><int name=\"x\" value=\"-180\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"64\"><int name=\"x\" value=\"-180\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"7\"><int name=\"x\" value=\"-270\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"2\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"62\"><int name=\"x\" value=\"-270\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"2\"><int name=\"x\" value=\"-360\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"2\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"1\"><int name=\"x\" value=\"-360\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"60\"><int name=\"x\" value=\"-360\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"enV0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"20\"><int name=\"x\" value=\"90\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"2\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"65\"><int name=\"x\" value=\"-90\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"11\"><int name=\"x\" value=\"0\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"66\"><int name=\"x\" value=\"0\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"8\"><int name=\"x\" value=\"-90\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"1\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"63\"><int name=\"x\" value=\"90\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"71\"><int name=\"x\" value=\"270\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"67\"><int name=\"x\" value=\"180\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"70\"><int name=\"x\" value=\"360\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"38\"><int name=\"x\" value=\"450\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"2\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"37\"><int name=\"x\" value=\"360\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"2\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"18\"><int name=\"x\" value=\"180\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"1\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"25\"><int name=\"x\" value=\"270\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"68\"><int name=\"x\" value=\"450\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"36\"><int name=\"x\" value=\"630\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"73\"><int name=\"x\" value=\"630\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"24\"><int name=\"x\" value=\"540\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"69\"><int name=\"x\" value=\"540\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"42\"><int name=\"x\" value=\"720\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"2\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"72\"><int name=\"x\" value=\"720\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"76\"><int name=\"x\" value=\"810\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"44\"><int name=\"x\" value=\"810\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"1\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"35\"><int name=\"x\" value=\"900\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"75\"><int name=\"x\" value=\"900\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"46\"><int name=\"x\" value=\"990\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"2\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"77\"><int name=\"x\" value=\"1080\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"74\"><int name=\"x\" value=\"990\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"49\"><int name=\"x\" value=\"1080\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"1\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"79\"><int name=\"x\" value=\"1170\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"58\"><int name=\"x\" value=\"1170\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"80\"><int name=\"x\" value=\"990\"/><int name=\"y\" value=\"-240\"/><string name=\"u\" value=\"edU\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"5\"/></imgdir><imgdir name=\"81\"><int name=\"x\" value=\"990\"/><int name=\"y\" value=\"-240\"/><string name=\"u\" value=\"edD\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"5\"/></imgdir><imgdir name=\"86\"><int name=\"x\" value=\"1080\"/><int name=\"y\" value=\"-240\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"5\"/></imgdir><imgdir name=\"87\"><int name=\"x\" value=\"1080\"/><int name=\"y\" value=\"-240\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"5\"/></imgdir><imgdir name=\"82\"><int name=\"x\" value=\"990\"/><int name=\"y\" value=\"-240\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"5\"/></imgdir><imgdir name=\"83\"><int name=\"x\" value=\"990\"/><int name=\"y\" value=\"-240\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"5\"/></imgdir><imgdir name=\"88\"><int name=\"x\" value=\"1260\"/><int name=\"y\" value=\"-240\"/><string name=\"u\" value=\"edU\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"5\"/></imgdir><imgdir name=\"89\"><int name=\"x\" value=\"1260\"/><int name=\"y\" value=\"-240\"/><string name=\"u\" value=\"edD\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"5\"/></imgdir><imgdir name=\"84\"><int name=\"x\" value=\"1170\"/><int name=\"y\" value=\"-240\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"5\"/></imgdir><imgdir name=\"85\"><int name=\"x\" value=\"1170\"/><int name=\"y\" value=\"-240\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"5\"/></imgdir><imgdir name=\"56\"><int name=\"x\" value=\"1260\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"53\"><int name=\"x\" value=\"1260\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"enH0\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"90\"><int name=\"x\" value=\"1350\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"enV1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"92\"><int name=\"x\" value=\"1350\"/><int name=\"y\" value=\"60\"/><string name=\"u\" value=\"edU\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"78\"><int name=\"x\" value=\"1260\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"enH1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"93\"><int name=\"x\" value=\"1260\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"bsc\"/><int name=\"no\" value=\"2\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"57\"><int name=\"x\" value=\"1350\"/><int name=\"y\" value=\"180\"/><string name=\"u\" value=\"edD\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir><imgdir name=\"91\"><int name=\"x\" value=\"1350\"/><int name=\"y\" value=\"120\"/><string name=\"u\" value=\"enV1\"/><int name=\"no\" value=\"0\"/><int name=\"zM\" value=\"0\"/></imgdir></imgdir><imgdir name=\"obj\"><imgdir name=\"0\"><string name=\"oS\" value=\"dungeon3\"/><string name=\"l0\" value=\"dragonValley\"/><string name=\"l1\" value=\"nest\"/><string name=\"l2\" value=\"0\"/><int name=\"x\" value=\"313\"/><int name=\"y\" value=\"12\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"1\"><string name=\"oS\" value=\"dungeon3\"/><string name=\"l0\" value=\"dragonValley\"/><string name=\"l1\" value=\"nest\"/><string name=\"l2\" value=\"5\"/><int name=\"x\" value=\"-185\"/><int name=\"y\" value=\"-393\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"4\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"2\"><string name=\"oS\" value=\"dungeon3\"/><string name=\"l0\" value=\"dragonValley\"/><string name=\"l1\" value=\"nest\"/><string name=\"l2\" value=\"6\"/><int name=\"x\" value=\"169\"/><int name=\"y\" value=\"-385\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"3\"><string name=\"oS\" value=\"dungeon3\"/><string name=\"l0\" value=\"dragonValley\"/><string name=\"l1\" value=\"nest\"/><string name=\"l2\" value=\"5\"/><int name=\"x\" value=\"410\"/><int name=\"y\" value=\"-399\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"4\"><string name=\"oS\" value=\"dungeon3\"/><string name=\"l0\" value=\"dragonValley\"/><string name=\"l1\" value=\"nest\"/><string name=\"l2\" value=\"6\"/><int name=\"x\" value=\"667\"/><int name=\"y\" value=\"-341\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"5\"><string name=\"oS\" value=\"dungeon3\"/><string name=\"l0\" value=\"dragonValley\"/><string name=\"l1\" value=\"nest\"/><string name=\"l2\" value=\"7\"/><int name=\"x\" value=\"835\"/><int name=\"y\" value=\"-467\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"6\"><string name=\"oS\" value=\"dungeon3\"/><string name=\"l0\" value=\"dragonValley\"/><string name=\"l1\" value=\"nest\"/><string name=\"l2\" value=\"8\"/><int name=\"x\" value=\"900\"/><int name=\"y\" value=\"-486\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"7\"><string name=\"oS\" value=\"dungeon3\"/><string name=\"l0\" value=\"dragonValley\"/><string name=\"l1\" value=\"nest\"/><string name=\"l2\" value=\"9\"/><int name=\"x\" value=\"1116\"/><int name=\"y\" value=\"-464\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"8\"><string name=\"oS\" value=\"dungeon3\"/><string name=\"l0\" value=\"dragonValley\"/><string name=\"l1\" value=\"nest\"/><string name=\"l2\" value=\"12\"/><int name=\"x\" value=\"87\"/><int name=\"y\" value=\"-427\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"0\"/><int name=\"r\" value=\"0\"/></imgdir></imgdir></imgdir><imgdir name=\"2\"><imgdir name=\"info\"></imgdir><imgdir name=\"tile\"></imgdir><imgdir name=\"obj\"><imgdir name=\"0\"><string name=\"oS\" value=\"connect\"/><string name=\"l0\" value=\"rope\"/><string name=\"l1\" value=\"12\"/><string name=\"l2\" value=\"0\"/><int name=\"x\" value=\"1240\"/><int name=\"y\" value=\"-255\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"3\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"1\"><string name=\"oS\" value=\"connect\"/><string name=\"l0\" value=\"rope\"/><string name=\"l1\" value=\"12\"/><string name=\"l2\" value=\"1\"/><int name=\"x\" value=\"1240\"/><int name=\"y\" value=\"-182\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"3\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"2\"><string name=\"oS\" value=\"connect\"/><string name=\"l0\" value=\"rope\"/><string name=\"l1\" value=\"12\"/><string name=\"l2\" value=\"1\"/><int name=\"x\" value=\"1240\"/><int name=\"y\" value=\"-72\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"3\"/><int name=\"r\" value=\"0\"/></imgdir><imgdir name=\"3\"><string name=\"oS\" value=\"connect\"/><string name=\"l0\" value=\"rope\"/><string name=\"l1\" value=\"12\"/><string name=\"l2\" value=\"2\"/><int name=\"x\" value=\"1240\"/><int name=\"y\" value=\"-12\"/><int name=\"z\" value=\"9\"/><int name=\"f\" value=\"0\"/><int name=\"zM\" value=\"3\"/><int name=\"r\" value=\"0\"/></imgdir></imgdir></imgdir><imgdir name=\"3\"><imgdir name=\"info\"></imgdir><imgdir name=\"tile\"></imgdir><imgdir name=\"obj\"></imgdir></imgdir><imgdir name=\"4\"><imgdir name=\"info\"></imgdir><imgdir name=\"tile\"></imgdir><imgdir name=\"obj\"></imgdir></imgdir><imgdir name=\"5\"><imgdir name=\"info\"></imgdir><imgdir name=\"tile\"></imgdir><imgdir name=\"obj\"></imgdir></imgdir><imgdir name=\"6\"><imgdir name=\"info\"></imgdir><imgdir name=\"tile\"></imgdir><imgdir name=\"obj\"></imgdir></imgdir><imgdir name=\"7\"><imgdir name=\"info\"></imgdir><imgdir name=\"tile\"></imgdir><imgdir name=\"obj\"></imgdir></imgdir><imgdir name=\"foothold\"><imgdir name=\"0\"><imgdir name=\"1\"><imgdir name=\"1\"><int name=\"x1\" value=\"1266\"/><int name=\"y1\" value=\"150\"/><int name=\"x2\" value=\"1266\"/><int name=\"y2\" value=\"125\"/><int name=\"prev\" value=\"0\"/><int name=\"next\" value=\"2\"/></imgdir><imgdir name=\"2\"><int name=\"x1\" value=\"1266\"/><int name=\"y1\" value=\"125\"/><int name=\"x2\" value=\"1344\"/><int name=\"y2\" value=\"125\"/><int name=\"prev\" value=\"1\"/><int name=\"next\" value=\"3\"/></imgdir><imgdir name=\"3\"><int name=\"x1\" value=\"1344\"/><int name=\"y1\" value=\"125\"/><int name=\"x2\" value=\"1344\"/><int name=\"y2\" value=\"150\"/><int name=\"prev\" value=\"2\"/><int name=\"next\" value=\"0\"/></imgdir></imgdir></imgdir><imgdir name=\"1\"><imgdir name=\"0\"><imgdir name=\"4\"><int name=\"x1\" value=\"-393\"/><int name=\"y1\" value=\"120\"/><int name=\"x2\" value=\"-393\"/><int name=\"y2\" value=\"60\"/><int name=\"prev\" value=\"26\"/><int name=\"next\" value=\"8\"/></imgdir><imgdir name=\"5\"><int name=\"x1\" value=\"-270\"/><int name=\"y1\" value=\"45\"/><int name=\"x2\" value=\"-180\"/><int name=\"y2\" value=\"45\"/><int name=\"prev\" value=\"10\"/><int name=\"next\" value=\"6\"/></imgdir><imgdir name=\"6\"><int name=\"x1\" value=\"-180\"/><int name=\"y1\" value=\"45\"/><int name=\"x2\" value=\"-90\"/><int name=\"y2\" value=\"45\"/><int name=\"prev\" value=\"5\"/><int name=\"next\" value=\"11\"/></imgdir><imgdir name=\"7\"><int name=\"x1\" value=\"0\"/><int name=\"y1\" value=\"45\"/><int name=\"x2\" value=\"90\"/><int name=\"y2\" value=\"45\"/><int name=\"prev\" value=\"11\"/><int name=\"next\" value=\"12\"/></imgdir><imgdir name=\"8\"><int name=\"x1\" value=\"-393\"/><int name=\"y1\" value=\"60\"/><int name=\"x2\" value=\"-393\"/><int name=\"y2\" value=\"45\"/><int name=\"prev\" value=\"4\"/><int name=\"next\" value=\"9\"/></imgdir><imgdir name=\"9\"><int name=\"x1\" value=\"-393\"/><int name=\"y1\" value=\"45\"/><int name=\"x2\" value=\"-327\"/><int name=\"y2\" value=\"45\"/><int name=\"prev\" value=\"8\"/><int name=\"next\" value=\"10\"/></imgdir><imgdir name=\"10\"><int name=\"x1\" value=\"-327\"/><int name=\"y1\" value=\"45\"/><int name=\"x2\" value=\"-270\"/><int name=\"y2\" value=\"45\"/><int name=\"prev\" value=\"9\"/><int name=\"next\" value=\"5\"/></imgdir><imgdir name=\"11\"><int name=\"x1\" value=\"-90\"/><int name=\"y1\" value=\"45\"/><int name=\"x2\" value=\"0\"/><int name=\"y2\" value=\"45\"/><int name=\"prev\" value=\"6\"/><int name=\"next\" value=\"7\"/></imgdir><imgdir name=\"12\"><int name=\"x1\" value=\"90\"/><int name=\"y1\" value=\"45\"/><int name=\"x2\" value=\"180\"/><int name=\"y2\" value=\"45\"/><int name=\"prev\" value=\"7\"/><int name=\"next\" value=\"17\"/></imgdir><imgdir name=\"13\"><int name=\"x1\" value=\"540\"/><int name=\"y1\" value=\"45\"/><int name=\"x2\" value=\"630\"/><int name=\"y2\" value=\"45\"/><int name=\"prev\" value=\"16\"/><int name=\"next\" value=\"18\"/></imgdir><imgdir name=\"14\"><int name=\"x1\" value=\"270\"/><int name=\"y1\" value=\"45\"/><int name=\"x2\" value=\"360\"/><int name=\"y2\" value=\"45\"/><int name=\"prev\" value=\"17\"/><int name=\"next\" value=\"15\"/></imgdir><imgdir name=\"15\"><int name=\"x1\" value=\"360\"/><int name=\"y1\" value=\"45\"/><int name=\"x2\" value=\"450\"/><int name=\"y2\" value=\"45\"/><int name=\"prev\" value=\"14\"/><int name=\"next\" value=\"16\"/></imgdir><imgdir name=\"16\"><int name=\"x1\" value=\"450\"/><int name=\"y1\" value=\"45\"/><int name=\"x2\" value=\"540\"/><int name=\"y2\" value=\"45\"/><int name=\"prev\" value=\"15\"/><int name=\"next\" value=\"13\"/></imgdir><imgdir name=\"17\"><int name=\"x1\" value=\"180\"/><int name=\"y1\" value=\"45\"/><int name=\"x2\" value=\"270\"/><int name=\"y2\" value=\"45\"/><int name=\"prev\" value=\"12\"/><int name=\"next\" value=\"14\"/></imgdir><imgdir name=\"18\"><int name=\"x1\" value=\"630\"/><int name=\"y1\" value=\"45\"/><int name=\"x2\" value=\"720\"/><int name=\"y2\" value=\"45\"/><int name=\"prev\" value=\"13\"/><int name=\"next\" value=\"19\"/></imgdir><imgdir name=\"19\"><int name=\"x1\" value=\"720\"/><int name=\"y1\" value=\"45\"/><int name=\"x2\" value=\"810\"/><int name=\"y2\" value=\"45\"/><int name=\"prev\" value=\"18\"/><int name=\"next\" value=\"20\"/></imgdir><imgdir name=\"20\"><int name=\"x1\" value=\"810\"/><int name=\"y1\" value=\"45\"/><int name=\"x2\" value=\"900\"/><int name=\"y2\" value=\"45\"/><int name=\"prev\" value=\"19\"/><int name=\"next\" value=\"21\"/></imgdir><imgdir name=\"21\"><int name=\"x1\" value=\"900\"/><int name=\"y1\" value=\"45\"/><int name=\"x2\" value=\"990\"/><int name=\"y2\" value=\"45\"/><int name=\"prev\" value=\"20\"/><int name=\"next\" value=\"22\"/></imgdir><imgdir name=\"22\"><int name=\"x1\" value=\"990\"/><int name=\"y1\" value=\"45\"/><int name=\"x2\" value=\"1080\"/><int name=\"y2\" value=\"45\"/><int name=\"prev\" value=\"21\"/><int name=\"next\" value=\"25\"/></imgdir><imgdir name=\"23\"><int name=\"x1\" value=\"1260\"/><int name=\"y1\" value=\"45\"/><int name=\"x2\" value=\"1317\"/><int name=\"y2\" value=\"45\"/><int name=\"prev\" value=\"24\"/><int name=\"next\" value=\"29\"/></imgdir><imgdir name=\"24\"><int name=\"x1\" value=\"1170\"/><int name=\"y1\" value=\"45\"/><int name=\"x2\" value=\"1260\"/><int name=\"y2\" value=\"45\"/><int name=\"prev\" value=\"25\"/><int name=\"next\" value=\"23\"/></imgdir><imgdir name=\"25\"><int name=\"x1\" value=\"1080\"/><int name=\"y1\" value=\"45\"/><int name=\"x2\" value=\"1170\"/><int name=\"y2\" value=\"45\"/><int name=\"prev\" value=\"22\"/><int name=\"next\" value=\"24\"/></imgdir><imgdir name=\"26\"><int name=\"x1\" value=\"-393\"/><int name=\"y1\" value=\"180\"/><int name=\"x2\" value=\"-393\"/><int name=\"y2\" value=\"120\"/><int name=\"prev\" value=\"0\"/><int name=\"next\" value=\"4\"/></imgdir><imgdir name=\"27\"><int name=\"x1\" value=\"1383\"/><int name=\"y1\" value=\"60\"/><int name=\"x2\" value=\"1383\"/><int name=\"y2\" value=\"120\"/><int name=\"prev\" value=\"31\"/><int name=\"next\" value=\"28\"/></imgdir><imgdir name=\"28\"><int name=\"x1\" value=\"1383\"/><int name=\"y1\" value=\"120\"/><int name=\"x2\" value=\"1383\"/><int name=\"y2\" value=\"180\"/><int name=\"prev\" value=\"27\"/><int name=\"next\" value=\"0\"/></imgdir><imgdir name=\"29\"><int name=\"x1\" value=\"1317\"/><int name=\"y1\" value=\"45\"/><int name=\"x2\" value=\"1350\"/><int name=\"y2\" value=\"45\"/><int name=\"prev\" value=\"23\"/><int name=\"next\" value=\"30\"/></imgdir><imgdir name=\"30\"><int name=\"x1\" value=\"1350\"/><int name=\"y1\" value=\"45\"/><int name=\"x2\" value=\"1383\"/><int name=\"y2\" value=\"45\"/><int name=\"prev\" value=\"29\"/><int name=\"next\" value=\"31\"/></imgdir><imgdir name=\"31\"><int name=\"x1\" value=\"1383\"/><int name=\"y1\" value=\"45\"/><int name=\"x2\" value=\"1383\"/><int name=\"y2\" value=\"60\"/><int name=\"prev\" value=\"30\"/><int name=\"next\" value=\"27\"/></imgdir></imgdir><imgdir name=\"5\"><imgdir name=\"32\"><int name=\"x1\" value=\"957\"/><int name=\"y1\" value=\"-240\"/><int name=\"x2\" value=\"957\"/><int name=\"y2\" value=\"-255\"/><int name=\"prev\" value=\"0\"/><int name=\"next\" value=\"33\"/></imgdir><imgdir name=\"33\"><int name=\"x1\" value=\"957\"/><int name=\"y1\" value=\"-255\"/><int name=\"x2\" value=\"1023\"/><int name=\"y2\" value=\"-255\"/><int name=\"prev\" value=\"32\"/><int name=\"next\" value=\"34\"/></imgdir><imgdir name=\"34\"><int name=\"x1\" value=\"1023\"/><int name=\"y1\" value=\"-255\"/><int name=\"x2\" value=\"1080\"/><int name=\"y2\" value=\"-255\"/><int name=\"prev\" value=\"33\"/><int name=\"next\" value=\"36\"/></imgdir><imgdir name=\"35\"><int name=\"x1\" value=\"1170\"/><int name=\"y1\" value=\"-255\"/><int name=\"x2\" value=\"1227\"/><int name=\"y2\" value=\"-255\"/><int name=\"prev\" value=\"36\"/><int name=\"next\" value=\"37\"/></imgdir><imgdir name=\"36\"><int name=\"x1\" value=\"1080\"/><int name=\"y1\" value=\"-255\"/><int name=\"x2\" value=\"1170\"/><int name=\"y2\" value=\"-255\"/><int name=\"prev\" value=\"34\"/><int name=\"next\" value=\"35\"/></imgdir><imgdir name=\"37\"><int name=\"x1\" value=\"1227\"/><int name=\"y1\" value=\"-255\"/><int name=\"x2\" value=\"1260\"/><int name=\"y2\" value=\"-255\"/><int name=\"prev\" value=\"35\"/><int name=\"next\" value=\"38\"/></imgdir><imgdir name=\"38\"><int name=\"x1\" value=\"1260\"/><int name=\"y1\" value=\"-255\"/><int name=\"x2\" value=\"1293\"/><int name=\"y2\" value=\"-255\"/><int name=\"prev\" value=\"37\"/><int name=\"next\" value=\"39\"/></imgdir><imgdir name=\"39\"><int name=\"x1\" value=\"1293\"/><int name=\"y1\" value=\"-255\"/><int name=\"x2\" value=\"1293\"/><int name=\"y2\" value=\"-240\"/><int name=\"prev\" value=\"38\"/><int name=\"next\" value=\"0\"/></imgdir></imgdir></imgdir></imgdir><imgdir name=\"ladderRope\"><imgdir name=\"1\"><int name=\"l\" value=\"0\"/><int name=\"uf\" value=\"1\"/><int name=\"x\" value=\"1240\"/><int name=\"y1\" value=\"-253\"/><int name=\"y2\" value=\"37\"/><int name=\"page\" value=\"2\"/></imgdir></imgdir><imgdir name=\"miniMap\"><canvas name=\"canvas\" width=\"115\" height=\"77\"></canvas><int name=\"width\" value=\"1853\"/><int name=\"height\" value=\"1239\"/><int name=\"centerX\" value=\"433\"/><int name=\"centerY\" value=\"980\"/><int name=\"mag\" value=\"4\"/></imgdir><imgdir name=\"portal\"><imgdir name=\"0\"><string name=\"pn\" value=\"sp\"/><int name=\"pt\" value=\"0\"/><int name=\"x\" value=\"-297\"/><int name=\"y\" value=\"-26\"/><int name=\"tm\" value=\"999999999\"/><string name=\"tn\" value=\"\"/></imgdir></imgdir></imgdir>\n\\ No newline at end of file"}, {"sha": "0914bce47fa9521091f9afe69e1ab2cc053e5b6a", "filename": "wz/Quest.wz/Act.img.xml", "status": "modified", "additions": 1, "deletions": 56026, "changes": 56027, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/wz/Quest.wz/Act.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/wz/Quest.wz/Act.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Quest.wz/Act.img.xml?ref=ad812de0012d48c28a8493d6205c62122bb2933a"}, {"sha": "a5cacbd61836c6cb3b35f21ffc9dd68bcb2d508e", "filename": "wz/Quest.wz/QuestInfo.img.xml", "status": "modified", "additions": 461, "deletions": 23304, "changes": 23765, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/wz/Quest.wz/QuestInfo.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/wz/Quest.wz/QuestInfo.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Quest.wz/QuestInfo.img.xml?ref=ad812de0012d48c28a8493d6205c62122bb2933a"}, {"sha": "e81f16c253f617dd70f673fddd14ee6efdd618a2", "filename": "wz/String.wz/MonsterBook.img.xml", "status": "modified", "additions": 136, "deletions": 147, "changes": 283, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ad812de0012d48c28a8493d6205c62122bb2933a/wz/String.wz/MonsterBook.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ad812de0012d48c28a8493d6205c62122bb2933a/wz/String.wz/MonsterBook.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/String.wz/MonsterBook.img.xml?ref=ad812de0012d48c28a8493d6205c62122bb2933a", "patch": "@@ -2489,23 +2489,22 @@\n       <int name=\"18\" value=\"2000001\" />\n       <int name=\"19\" value=\"2000002\" />\n       <int name=\"20\" value=\"2000003\" />\n-      <int name=\"21\" value=\"2060005\" />\n-      <int name=\"22\" value=\"2070001\" />\n-      <int name=\"23\" value=\"2070003\" />\n-      <int name=\"24\" value=\"2382003\" />\n-      <int name=\"25\" value=\"4000021\" />\n-      <int name=\"26\" value=\"4000024\" />\n-      <int name=\"27\" value=\"4001000\" />\n-      <int name=\"28\" value=\"4006001\" />\n-      <int name=\"29\" value=\"4007001\" />\n-      <int name=\"30\" value=\"4007003\" />\n-      <int name=\"31\" value=\"4010001\" />\n-      <int name=\"32\" value=\"4010002\" />\n-      <int name=\"33\" value=\"4020000\" />\n-      <int name=\"34\" value=\"4020007\" />\n-      <int name=\"35\" value=\"4130011\" />\n-      <int name=\"36\" value=\"4130016\" />\n-      <int name=\"37\" value=\"4130017\" />\n+      <int name=\"21\" value=\"2070001\" />\n+      <int name=\"22\" value=\"2070003\" />\n+      <int name=\"23\" value=\"2382003\" />\n+      <int name=\"24\" value=\"4000021\" />\n+      <int name=\"25\" value=\"4000024\" />\n+      <int name=\"26\" value=\"4001000\" />\n+      <int name=\"27\" value=\"4006001\" />\n+      <int name=\"28\" value=\"4007001\" />\n+      <int name=\"29\" value=\"4007003\" />\n+      <int name=\"30\" value=\"4010001\" />\n+      <int name=\"31\" value=\"4010002\" />\n+      <int name=\"32\" value=\"4020000\" />\n+      <int name=\"33\" value=\"4020007\" />\n+      <int name=\"34\" value=\"4130011\" />\n+      <int name=\"35\" value=\"4130016\" />\n+      <int name=\"36\" value=\"4130017\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  32\\nForm : Mammal\\nSpecial Trait : -50% Fire Attribute Damage. Vulnerable to Ice Attribute Attacks.\\n\\nThe Wild Boar was training hard in the mountain plateaus when it was inspired by the heated sunlight which caused a big spark on its back. The Boars' such a fighting spirit has become a great example for all the fighters of Perion. Once in a while, though, the overly zealous Wild Boar would spark too big of a fire on its back and turn itself into a piece of roasted barbecue, offering themselves as great meals for the fighters of Perion. \" />\n   </imgdir>\n@@ -2856,19 +2855,18 @@\n       <int name=\"18\" value=\"2043214\" />\n       <int name=\"19\" value=\"2049000\" />\n       <int name=\"20\" value=\"2060000\" />\n-      <int name=\"21\" value=\"2060005\" />\n-      <int name=\"22\" value=\"2061000\" />\n-      <int name=\"23\" value=\"2070008\" />\n-      <int name=\"24\" value=\"2382017\" />\n-      <int name=\"25\" value=\"4000113\" />\n-      <int name=\"26\" value=\"4004000\" />\n-      <int name=\"27\" value=\"4020000\" />\n-      <int name=\"28\" value=\"4020002\" />\n-      <int name=\"29\" value=\"4020007\" />\n-      <int name=\"30\" value=\"4031992\" />\n-      <int name=\"31\" value=\"4130007\" />\n-      <int name=\"32\" value=\"4130008\" />\n-      <int name=\"33\" value=\"4131011\" />\n+      <int name=\"21\" value=\"2061000\" />\n+      <int name=\"22\" value=\"2070008\" />\n+      <int name=\"23\" value=\"2382017\" />\n+      <int name=\"24\" value=\"4000113\" />\n+      <int name=\"25\" value=\"4004000\" />\n+      <int name=\"26\" value=\"4020000\" />\n+      <int name=\"27\" value=\"4020002\" />\n+      <int name=\"28\" value=\"4020007\" />\n+      <int name=\"29\" value=\"4031992\" />\n+      <int name=\"30\" value=\"4130007\" />\n+      <int name=\"31\" value=\"4130008\" />\n+      <int name=\"32\" value=\"4131011\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  34\\nForm : Spirit\\n\\nThere are particular entities that linger the infinitude of the space-time continuum, where no ordinary creature can reach by ordinary means; Tick is one of them. Capitalizing on the Dimensional Schism, Tick can be found in the deserted Ludibrium Clocktower, feeding on time. \" />\n   </imgdir>\n@@ -2996,21 +2994,20 @@\n       <int name=\"20\" value=\"2000003\" />\n       <int name=\"21\" value=\"2041010\" />\n       <int name=\"22\" value=\"2044414\" />\n-      <int name=\"23\" value=\"2060005\" />\n-      <int name=\"24\" value=\"2070003\" />\n-      <int name=\"25\" value=\"2070008\" />\n-      <int name=\"26\" value=\"2382029\" />\n-      <int name=\"27\" value=\"4000021\" />\n-      <int name=\"28\" value=\"4000026\" />\n-      <int name=\"29\" value=\"4000029\" />\n-      <int name=\"30\" value=\"4003004\" />\n-      <int name=\"31\" value=\"4010004\" />\n-      <int name=\"32\" value=\"4020003\" />\n-      <int name=\"33\" value=\"4020004\" />\n-      <int name=\"34\" value=\"4030012\" />\n-      <int name=\"35\" value=\"4130001\" />\n-      <int name=\"36\" value=\"4130008\" />\n-      <int name=\"37\" value=\"4130010\" />\n+      <int name=\"23\" value=\"2070003\" />\n+      <int name=\"24\" value=\"2070008\" />\n+      <int name=\"25\" value=\"2382029\" />\n+      <int name=\"26\" value=\"4000021\" />\n+      <int name=\"27\" value=\"4000026\" />\n+      <int name=\"28\" value=\"4000029\" />\n+      <int name=\"29\" value=\"4003004\" />\n+      <int name=\"30\" value=\"4010004\" />\n+      <int name=\"31\" value=\"4020003\" />\n+      <int name=\"32\" value=\"4020004\" />\n+      <int name=\"33\" value=\"4030012\" />\n+      <int name=\"34\" value=\"4130001\" />\n+      <int name=\"35\" value=\"4130008\" />\n+      <int name=\"36\" value=\"4130010\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  37\\nForm : Mammal\\n\\nA cute monkey monster that loves banana and toys. It apparently was influenced by the magic powers of Ellinia which would cause Lupin to inadvertently cast magic attacks once in a while. It's apparently an extremely stubborn monster that will, once agitated, throw its banana and go after an adventurer to the very end. If you have high magic defenses, then you'll be able to protect yourself from the banana that Lupin may throw at you. \" />\n   </imgdir>\n@@ -11913,14 +11910,13 @@\n       <int name=\"34\" value=\"2044902\" />\n       <int name=\"35\" value=\"2044904\" />\n       <int name=\"36\" value=\"2070007\" />\n-      <int name=\"37\" value=\"2280001\" />\n-      <int name=\"38\" value=\"2280013\" />\n-      <int name=\"39\" value=\"2290070\" />\n-      <int name=\"40\" value=\"2290091\" />\n-      <int name=\"41\" value=\"2388017\" />\n-      <int name=\"42\" value=\"4001111\" />\n-      <int name=\"43\" value=\"4030012\" />\n-      <int name=\"44\" value=\"4031906\" />\n+      <int name=\"37\" value=\"2280013\" />\n+      <int name=\"38\" value=\"2290070\" />\n+      <int name=\"39\" value=\"2290091\" />\n+      <int name=\"40\" value=\"2388017\" />\n+      <int name=\"41\" value=\"4001111\" />\n+      <int name=\"42\" value=\"4030012\" />\n+      <int name=\"43\" value=\"4031906\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  100\\nForm : Devil\\nSpecial Trait : Resistant to Poison Attribute Attacks. Vulnerable to Sanctity Attribute Attacks.\\n\\nA monster that attacks the ship of adventurers near the continent of Ossyria. It looks similar to the Jr. Balrogs that are found near Victoria Island, but the Crimson Balrogs fly using their huge wings. Some say that the habitat of Crimson Balrogs is an island like Orbis, but such claim has not been confirmed. Due to its force of attack and magic skills that will surpass your expectation, it is suggested that you evade to a safe area rather than hastily attack back should you find yourself in the midst of their attack. They are vulnerable to sanctity attribute.\" />\n   </imgdir>\n@@ -11953,26 +11949,25 @@\n       <int name=\"21\" value=\"2041043\" />\n       <int name=\"22\" value=\"2044902\" />\n       <int name=\"23\" value=\"2044904\" />\n-      <int name=\"24\" value=\"2280011\" />\n-      <int name=\"25\" value=\"2290042\" />\n-      <int name=\"26\" value=\"2290053\" />\n-      <int name=\"27\" value=\"2290073\" />\n-      <int name=\"28\" value=\"2290102\" />\n-      <int name=\"29\" value=\"2290118\" />\n-      <int name=\"30\" value=\"2386012\" />\n-      <int name=\"31\" value=\"4000180\" />\n-      <int name=\"32\" value=\"4004002\" />\n-      <int name=\"33\" value=\"4006000\" />\n-      <int name=\"34\" value=\"4006001\" />\n-      <int name=\"35\" value=\"4010005\" />\n-      <int name=\"36\" value=\"4030012\" />\n-      <int name=\"37\" value=\"4031252\" />\n-      <int name=\"38\" value=\"4031254\" />\n-      <int name=\"39\" value=\"4031255\" />\n-      <int name=\"40\" value=\"4130004\" />\n-      <int name=\"41\" value=\"4130006\" />\n-      <int name=\"42\" value=\"4130007\" />\n-      <int name=\"43\" value=\"4161018\" />\n+      <int name=\"24\" value=\"2290042\" />\n+      <int name=\"25\" value=\"2290053\" />\n+      <int name=\"26\" value=\"2290073\" />\n+      <int name=\"27\" value=\"2290102\" />\n+      <int name=\"28\" value=\"2290118\" />\n+      <int name=\"29\" value=\"2386012\" />\n+      <int name=\"30\" value=\"4000180\" />\n+      <int name=\"31\" value=\"4004002\" />\n+      <int name=\"32\" value=\"4006000\" />\n+      <int name=\"33\" value=\"4006001\" />\n+      <int name=\"34\" value=\"4010005\" />\n+      <int name=\"35\" value=\"4030012\" />\n+      <int name=\"36\" value=\"4031252\" />\n+      <int name=\"37\" value=\"4031254\" />\n+      <int name=\"38\" value=\"4031255\" />\n+      <int name=\"39\" value=\"4130004\" />\n+      <int name=\"40\" value=\"4130006\" />\n+      <int name=\"41\" value=\"4130007\" />\n+      <int name=\"42\" value=\"4161018\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  100\\nForm : Fish\\nSpecial Trait : -50% Fire Attribute Damage.\\n\\nA shark found in the deep waters of Aqua Road. The Shark turned even more ferocious as the purifying force of Aqua Road weakened. It attacks with its sharp teeth that can inflict deadly injuries, and some daring adventurers hunt these Sharks to collect their teeth as a trophy.\" />\n   </imgdir>\n@@ -12743,9 +12738,8 @@\n       <int name=\"48\" value=\"4007007\" />\n       <int name=\"49\" value=\"4010001\" />\n       <int name=\"50\" value=\"4020001\" />\n-      <int name=\"51\" value=\"4031461\" />\n-      <int name=\"52\" value=\"4130001\" />\n-      <int name=\"53\" value=\"4130014\" />\n+      <int name=\"51\" value=\"4130001\" />\n+      <int name=\"52\" value=\"4130014\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  110\\nForm : Immortal\\nSpecial Trait : Vulnerable to Sanctity Attribute Attacks.\\n\\nA group of skeletons that belong to the dragon family. The Skelegons can be found roaming around the dragon nests, unaware that they have died and have become Undeads. They are the reincarnation of dead dragons who were killed during the Dragon War, and will attack anything that comes near regardless of whether the approaching enemy is a human, a dragon, or any other forms of life. \" />\n   </imgdir>\n@@ -12782,33 +12776,32 @@\n       <int name=\"22\" value=\"2044201\" />\n       <int name=\"23\" value=\"2044214\" />\n       <int name=\"24\" value=\"2044801\" />\n-      <int name=\"25\" value=\"2280000\" />\n-      <int name=\"26\" value=\"2290002\" />\n-      <int name=\"27\" value=\"2290009\" />\n-      <int name=\"28\" value=\"2290021\" />\n-      <int name=\"29\" value=\"2290034\" />\n-      <int name=\"30\" value=\"2290041\" />\n-      <int name=\"31\" value=\"2290052\" />\n-      <int name=\"32\" value=\"2290053\" />\n-      <int name=\"33\" value=\"2290058\" />\n-      <int name=\"34\" value=\"2290068\" />\n-      <int name=\"35\" value=\"2290071\" />\n-      <int name=\"36\" value=\"2290073\" />\n-      <int name=\"37\" value=\"2290090\" />\n-      <int name=\"38\" value=\"2290112\" />\n-      <int name=\"39\" value=\"2290121\" />\n-      <int name=\"40\" value=\"2290130\" />\n-      <int name=\"41\" value=\"2387003\" />\n-      <int name=\"42\" value=\"4000244\" />\n-      <int name=\"43\" value=\"4000245\" />\n-      <int name=\"44\" value=\"4000273\" />\n-      <int name=\"45\" value=\"4004004\" />\n-      <int name=\"46\" value=\"4006000\" />\n-      <int name=\"47\" value=\"4006001\" />\n-      <int name=\"48\" value=\"4020002\" />\n-      <int name=\"49\" value=\"4020006\" />\n-      <int name=\"50\" value=\"4130010\" />\n-      <int name=\"51\" value=\"4130022\" />\n+      <int name=\"25\" value=\"2290002\" />\n+      <int name=\"26\" value=\"2290009\" />\n+      <int name=\"27\" value=\"2290021\" />\n+      <int name=\"28\" value=\"2290034\" />\n+      <int name=\"29\" value=\"2290041\" />\n+      <int name=\"30\" value=\"2290052\" />\n+      <int name=\"31\" value=\"2290053\" />\n+      <int name=\"32\" value=\"2290058\" />\n+      <int name=\"33\" value=\"2290068\" />\n+      <int name=\"34\" value=\"2290071\" />\n+      <int name=\"35\" value=\"2290073\" />\n+      <int name=\"36\" value=\"2290090\" />\n+      <int name=\"37\" value=\"2290112\" />\n+      <int name=\"38\" value=\"2290121\" />\n+      <int name=\"39\" value=\"2290130\" />\n+      <int name=\"40\" value=\"2387003\" />\n+      <int name=\"41\" value=\"4000244\" />\n+      <int name=\"42\" value=\"4000245\" />\n+      <int name=\"43\" value=\"4000273\" />\n+      <int name=\"44\" value=\"4004004\" />\n+      <int name=\"45\" value=\"4006000\" />\n+      <int name=\"46\" value=\"4006001\" />\n+      <int name=\"47\" value=\"4020002\" />\n+      <int name=\"48\" value=\"4020006\" />\n+      <int name=\"49\" value=\"4130010\" />\n+      <int name=\"50\" value=\"4130022\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  113\\nForm : Immortal\\nSpecial Trait : Vulnerable to Sanctity Attribute Attacks.\\n\\nA group of skeletons that belong to the dragon family. The Skelegons can be found roaming around the dragon nests, unaware that they have died and have become Undeads. They are the reincarnation of dead dragons who were killed during the Dragon War, and will attack anything that comes near regardless of whether the approaching enemy is a human, a dragon, or any other forms of life. Looking at the cane that they hold in one hand, they are suspected to have been a group of old veteran dragons.\" />\n   </imgdir>\n@@ -13044,19 +13037,18 @@\n       <int name=\"12\" value=\"2040932\" />\n       <int name=\"13\" value=\"2044012\" />\n       <int name=\"14\" value=\"2044013\" />\n-      <int name=\"15\" value=\"2280011\" />\n-      <int name=\"16\" value=\"2280014\" />\n-      <int name=\"17\" value=\"2290078\" />\n-      <int name=\"18\" value=\"2290079\" />\n-      <int name=\"19\" value=\"2290095\" />\n-      <int name=\"20\" value=\"2387006\" />\n-      <int name=\"21\" value=\"4000449\" />\n-      <int name=\"22\" value=\"4000451\" />\n-      <int name=\"23\" value=\"4004000\" />\n-      <int name=\"24\" value=\"4010004\" />\n-      <int name=\"25\" value=\"4020001\" />\n-      <int name=\"26\" value=\"4020009\" />\n-      <int name=\"27\" value=\"4130005\" />\n+      <int name=\"15\" value=\"2280014\" />\n+      <int name=\"16\" value=\"2290078\" />\n+      <int name=\"17\" value=\"2290079\" />\n+      <int name=\"18\" value=\"2290095\" />\n+      <int name=\"19\" value=\"2387006\" />\n+      <int name=\"20\" value=\"4000449\" />\n+      <int name=\"21\" value=\"4000451\" />\n+      <int name=\"22\" value=\"4004000\" />\n+      <int name=\"23\" value=\"4010004\" />\n+      <int name=\"24\" value=\"4020001\" />\n+      <int name=\"25\" value=\"4020009\" />\n+      <int name=\"26\" value=\"4130005\" />\n     </imgdir>\n     <string name=\"episode\" value=\"Level : Lv.106\\nForm : Spirit\\n\\nThe Qualm Monks stand at the Road of Regrets, beyond the Gate of the Past, inside the Temple of Time.  They serve Rhinne, the Goddess of Time.  In order to never have any regrets, they wear a neutral mask to restrain all emotions.  However, no one knows what they are really feeling beneath those masks.\" />\n   </imgdir>\n@@ -13297,24 +13289,23 @@\n       <int name=\"9\" value=\"2022003\" />\n       <int name=\"10\" value=\"2040501\" />\n       <int name=\"11\" value=\"2043701\" />\n-      <int name=\"12\" value=\"2280002\" />\n-      <int name=\"13\" value=\"2290041\" />\n-      <int name=\"14\" value=\"2290092\" />\n-      <int name=\"15\" value=\"2290093\" />\n-      <int name=\"16\" value=\"2290115\" />\n-      <int name=\"17\" value=\"2290137\" />\n-      <int name=\"18\" value=\"2290139\" />\n-      <int name=\"19\" value=\"2387013\" />\n-      <int name=\"20\" value=\"4000458\" />\n-      <int name=\"21\" value=\"4000459\" />\n-      <int name=\"22\" value=\"4004002\" />\n-      <int name=\"23\" value=\"4007001\" />\n-      <int name=\"24\" value=\"4007007\" />\n-      <int name=\"25\" value=\"4010000\" />\n-      <int name=\"26\" value=\"4020000\" />\n-      <int name=\"27\" value=\"4020009\" />\n-      <int name=\"28\" value=\"4130003\" />\n-      <int name=\"29\" value=\"4130012\" />\n+      <int name=\"12\" value=\"2290041\" />\n+      <int name=\"13\" value=\"2290092\" />\n+      <int name=\"14\" value=\"2290093\" />\n+      <int name=\"15\" value=\"2290115\" />\n+      <int name=\"16\" value=\"2290137\" />\n+      <int name=\"17\" value=\"2290139\" />\n+      <int name=\"18\" value=\"2387013\" />\n+      <int name=\"19\" value=\"4000458\" />\n+      <int name=\"20\" value=\"4000459\" />\n+      <int name=\"21\" value=\"4004002\" />\n+      <int name=\"22\" value=\"4007001\" />\n+      <int name=\"23\" value=\"4007007\" />\n+      <int name=\"24\" value=\"4010000\" />\n+      <int name=\"25\" value=\"4020000\" />\n+      <int name=\"26\" value=\"4020009\" />\n+      <int name=\"27\" value=\"4130003\" />\n+      <int name=\"28\" value=\"4130012\" />\n     </imgdir>\n     <string name=\"episode\" value=\"Level : Lv.131\\nForm : Spirit\\n\\nThe chief of the Oblivion Guardians stands at the Road to Oblivion, beyond the Gate of the Past, inside the Temple of Time.  Its sole purpose is to protect Rhinne, the Goddess of Time.  Compared to other guardians, its armor seems more sturdy and brilliantly decorated.  It once was a human knight, but throughout the many years of protecting the goddess inside the temple, it has cast off its humanness.  Now it only exists to serve the goddess.  The only evidence left of its lost humanity is its shriveled heart that remains as an empty shell of lost memories.\" />\n   </imgdir>\n@@ -13752,10 +13743,9 @@\n       <int name=\"28\" value=\"2044501\" />\n       <int name=\"29\" value=\"2044601\" />\n       <int name=\"30\" value=\"2044701\" />\n-      <int name=\"31\" value=\"2280012\" />\n-      <int name=\"32\" value=\"2290031\" />\n-      <int name=\"33\" value=\"2290129\" />\n-      <int name=\"34\" value=\"2388054\" />\n+      <int name=\"31\" value=\"2290031\" />\n+      <int name=\"32\" value=\"2290129\" />\n+      <int name=\"33\" value=\"2388054\" />\n     </imgdir>\n     <string name=\"episode\" value=\"\ub808\ubca8 : Lv.85\\n\ud615\ud0dc : \ubb34\uae30\ubb3c\ud615\\n\\n\ube45\ud1a0\ub9ac\uc544\uc911\uc559\ub358\uc804\uc758 \uac1c\ubbf8\uad74\uad11\uc7a5\uc5d0\ub294 \uc720\uba85\ud55c \ub178\uc810\uc0c1\uc778\uc774 \uc788\ub2e4. \ud558\uc9c0\ub9cc \uadf8 \ubcf4\ub2e4 \ub354 \uae4a\uc740 \ub358\uc804\uc5d0 \uac00\ub054\uc529 \uc815\uccb4\ubd88\uba85\uc758 \ud3ec\uc7a5\ub9c8\ucc28\uac00 \ubb38\uc744 \uc5f0\ub2e4\ub294\ub370... \ub354 \ud2b9\uc774\ud55c \uc810\uc740 \uc774 \ud3ec\uc7a5\ub9c8\ucc28\uc5d0\uc11c \ubb3c\uac74\uc744 \uc0ac \ubcf8 \uc0ac\ub78c\uc740 \uc544\uc9c1 \ud55c \uba85\ub3c4 \uc5c6\ub2e4\ub294 \uac83\uc774\ub2e4. \uadf8 \uc774\uc720\ub294 \uac00\uae4c\uc774 \ub2e4\uac00\uac00\uae30\ub9cc \ud558\uba74 \uac11\uc790\uae30 \ud0dc\ub3c4\uac00 180\ub3c4  \ub2ec\ub77c\uc9c0\uae30 \ub54c\ubb38\uc774\ub77c\ub294\ub370... \uac1c\ubbf8\uad74 \uad11\uc7a5\uc758 \ub178\uc810\uc0c1\uc778\uc740 \uacbd\uc7c1\uc790\uc758 \ucd9c\ud604\uc5d0 \uc2ec\uae30\uac00 \ubd88\ud3b8\ud55c\uac83 \uac19\ub2e4.\" />\n   </imgdir>\n@@ -14234,15 +14224,14 @@\n       <int name=\"0\" value=\"990000900\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2280003\" />\n-      <int name=\"1\" value=\"2280015\" />\n-      <int name=\"2\" value=\"2290026\" />\n-      <int name=\"3\" value=\"2290064\" />\n-      <int name=\"4\" value=\"2290075\" />\n-      <int name=\"5\" value=\"2290093\" />\n-      <int name=\"6\" value=\"2290096\" />\n-      <int name=\"7\" value=\"2388021\" />\n-      <int name=\"8\" value=\"4001024\" />\n+      <int name=\"0\" value=\"2280015\" />\n+      <int name=\"1\" value=\"2290026\" />\n+      <int name=\"2\" value=\"2290064\" />\n+      <int name=\"3\" value=\"2290075\" />\n+      <int name=\"4\" value=\"2290093\" />\n+      <int name=\"5\" value=\"2290096\" />\n+      <int name=\"6\" value=\"2388021\" />\n+      <int name=\"7\" value=\"4001024\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  Unknown\\nForm : Immortal\\nSpecial Trait : -50% Damage of All Attributes.\\n\\nSharen III, the ruler of the great empire that once existed in the highlands known as Sharenian, called out this evil spirit to guard the legendary jewel, Rubian. Ergoth, whom Sharen III revived, betrayed Sharen III by using the power of Rubian to destroy Sharenian and building his own empire on top of the remains. After a long time passed, the ruins of Sharenian was discovered, and the people who went inside to explore laid their hands on Rubian; this awakened Ergoth, who had been asleep for a long time.\" />\n   </imgdir>"}]}]},
