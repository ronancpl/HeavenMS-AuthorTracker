{"fetchDate": "2019-12-19", "content": [{"sha": "2d49c322e179ecc3d9e1529dee21f99888521a3c", "node_id": "MDY6Q29tbWl0NDUwODIwMjM6MmQ0OWMzMjJlMTc5ZWNjM2Q5ZTE1MjlkZWUyMWY5OTg4ODUyMWEzYw==", "commit": {"author": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2018-02-10T01:25:21Z"}, "committer": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2018-02-10T01:25:21Z"}, "message": "Map buff protection & Expirable quest patch + Storage notice\n\nFixed items such as Red Bean Porridge and Air Bubble from acting outside of their scopes (now Air Bubble acts only under water, for instance).\nFixed an exploit with expirable quests when accessing the cash shop, that would make them \"unexpirable\".\nTweaked storages, now showing up popup warnings to players under level 15 instead of using the chat text area.\nRemoved \"One-of-a-kind\" tag from Lilin's Ring (caused conflicts with the Agent E custom script).\nAdded a few more scrolls to Spindle's shop.\nImplemented several minor drop data adjustments.", "tree": {"sha": "c8ffa60af01937d06fe01da784686f0326d87b46", "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/trees/c8ffa60af01937d06fe01da784686f0326d87b46"}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/commits/2d49c322e179ecc3d9e1529dee21f99888521a3c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/2d49c322e179ecc3d9e1529dee21f99888521a3c", "html_url": "https://github.com/ronancpl/HeavenMS/commit/2d49c322e179ecc3d9e1529dee21f99888521a3c", "comments_url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/2d49c322e179ecc3d9e1529dee21f99888521a3c/comments", "author": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3f8904ef4468a5e21f4c6d580bf7a0c37af60ecf", "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/3f8904ef4468a5e21f4c6d580bf7a0c37af60ecf", "html_url": "https://github.com/ronancpl/HeavenMS/commit/3f8904ef4468a5e21f4c6d580bf7a0c37af60ecf"}], "stats": {"total": 476, "additions": 338, "deletions": 138}, "files": [{"sha": "6fd37fc6ef9fbbe16d2938a2d147aa4aa6105f58", "filename": "docs/mychanges_ptbr.txt", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/docs/mychanges_ptbr.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/docs/mychanges_ptbr.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mychanges_ptbr.txt?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -774,4 +774,11 @@ Corrigido itemid inv\u00e1lidos nos drops da DB.\n Adicionado quest rate (multiplicador de ganhos ao completar quests).\n Pequeno ajuste na \u00e1rea de alcan\u00e7e dos drops no mapa. Espera-se que os drops agora n\u00e3o caiam fora do mapa em grande quantidade.\n Nova ferramenta: MapleInvalidItemIdFetcher. Busca no DB por todos os itemids inv\u00e1lidos e os lista em um arquivo.\n-Atualizado lista de drops no monster book.\n\\ No newline at end of file\n+Atualizado lista de drops no monster book.\n+\n+06 - 09 Fevereiro 2018,\n+Resolvido possibilidade de bug com inconsist\u00eancia de dados ao tentar salvar na DB um jogador offline.\n+Aplicado diversas pequenas corre\u00e7\u00f5es em alguns drops de quests e m\u00e9todos de eventos.\n+Quests expir\u00e1veis agora s\u00e3o devidamente canceladas ao entrar no MTS ou cash shop.\n+Corrigido problemas com itens que garantem prote\u00e7\u00e3o contra queda de HP em certos mapas (el nath, aqua road) garantindo prote\u00e7\u00e3o em mapas onde n\u00e3o deveriam garantir.\n+Adicionado novos scrolls \u00e0 venda no Spindle.\n\\ No newline at end of file"}, {"sha": "9923621ba11913e28280f35b8b50f8231fcaaed0", "filename": "scripts/event/0_EXAMPLE.js", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/scripts/event/0_EXAMPLE.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/scripts/event/0_EXAMPLE.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/0_EXAMPLE.js?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -86,7 +86,14 @@ function timeOut(eim) {\n     eim.dispose();\n }\n \n-function monsterKilled(mob, eim) {}\n+function monsterKilled(mob, eim) {\n+    // Happens when an opposing mob dies\n+}\n+\n+function monsterValue(eim, mobid) {\n+    // Invoked when a monster that's registered has been killed\n+    // return x amount for this player - \"Saved Points\"\n+}\n \n function friendlyKilled(mob, eim) {\n     // Happens when a friendly mob dies\n@@ -112,11 +119,6 @@ function playerDisconnected(eim, player) {\n     // return x that is < 0 - Deregister player normally + Dispose instance if there x player or below, if it's leader = boot all\n }\n \n-function monsterValue(eim, mobid) {\n-    // Invoked when a monster that's registered has been killed\n-    // return x amount for this player - \"Saved Points\"\n-}\n-\n function end(eim) {\n     // Happens when the party fails to complete the event instance.\n }"}, {"sha": "ee9e5f521d384eaeb0b37a06a15f42ec6ab465ef", "filename": "scripts/event/3rdJob_bowman.js", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/scripts/event/3rdJob_bowman.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/scripts/event/3rdJob_bowman.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/3rdJob_bowman.js?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -84,6 +84,10 @@ function changedMap(eim, chr, mapid) {\n \n function monsterKilled(mob, eim) {}\n \n+function monsterValue(eim, mobId) {\n+        return 1;\n+}\n+\n function allMonstersDead(eim) {}\n \n function cancelSchedule() {}"}, {"sha": "ed55597e5bda4178c6e87e704982bf297d7bca5b", "filename": "scripts/event/3rdJob_magician.js", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/scripts/event/3rdJob_magician.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/scripts/event/3rdJob_magician.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/3rdJob_magician.js?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -84,6 +84,10 @@ function changedMap(eim, chr, mapid) {\n \n function monsterKilled(mob, eim) {}\n \n+function monsterValue(eim, mobId) {\n+        return 1;\n+}\n+\n function allMonstersDead(eim) {}\n \n function cancelSchedule() {}"}, {"sha": "dd3d04739437baf89c6b26a6db74463f8e152695", "filename": "scripts/event/3rdJob_pirate.js", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/scripts/event/3rdJob_pirate.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/scripts/event/3rdJob_pirate.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/3rdJob_pirate.js?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -84,6 +84,10 @@ function changedMap(eim, chr, mapid) {\n \n function monsterKilled(mob, eim) {}\n \n+function monsterValue(eim, mobId) {\n+        return 1;\n+}\n+\n function allMonstersDead(eim) {}\n \n function cancelSchedule() {}"}, {"sha": "4cd861b740e92524d9805072887c24c931843f3e", "filename": "scripts/event/3rdJob_thief.js", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/scripts/event/3rdJob_thief.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/scripts/event/3rdJob_thief.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/3rdJob_thief.js?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -84,6 +84,10 @@ function changedMap(eim, chr, mapid) {\n \n function monsterKilled(mob, eim) {}\n \n+function monsterValue(eim, mobId) {\n+        return 1;\n+}\n+\n function allMonstersDead(eim) {}\n \n function cancelSchedule() {}"}, {"sha": "20a3638ec5b587fc725acd28b3387ac7fe4bbe1f", "filename": "scripts/event/3rdJob_warrior.js", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/scripts/event/3rdJob_warrior.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/scripts/event/3rdJob_warrior.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/3rdJob_warrior.js?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -84,6 +84,10 @@ function changedMap(eim, chr, mapid) {\n \n function monsterKilled(mob, eim) {}\n \n+function monsterValue(eim, mobId) {\n+        return 1;\n+}\n+\n function allMonstersDead(eim) {}\n \n function cancelSchedule() {}"}, {"sha": "d5abf5115201039dd8dd5275500c490b6ced4dde", "filename": "scripts/npc/2010000.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/scripts/npc/2010000.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/scripts/npc/2010000.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2010000.js?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -174,7 +174,7 @@ function start() {\n }\n \n function action(mode, type, selection) {\n-    if (mode == 0) {\n+    if (mode <= 0) {\n \tcm.sendOk(\"Hmmm...it shouldn't be a bad deal for you. Come see me at the right time and you may get a much better item to be offered. Anyway, let me know when you have a change of heart.\");\n \tcm.dispose();\n \treturn;"}, {"sha": "83bfab352f7f0f21deb1fd6caf30ed89139feecb", "filename": "scripts/npc/2041026.js", "status": "added", "additions": 59, "deletions": 0, "changes": 59, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/scripts/npc/2041026.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/scripts/npc/2041026.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2041026.js?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -0,0 +1,59 @@\n+/*\n+    This file is part of the HeavenMS (MapleSolaxiaV2) MapleStory Server\n+    Copyleft (L) 2017 RonanLana\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+/* Ghosthunter Bob\n+ */\n+\n+var status;\n+ \n+function start() {\n+        status = -1;\n+        action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+        if (mode == -1) {\n+                cm.dispose();\n+        } else {\n+                if (mode == 0 && type > 0) {\n+                        cm.dispose();\n+                        return;\n+                }\n+                if (mode == 1)\n+                        status++;\n+                else\n+                        status--;\n+    \n+                if(status == 0) {\n+                        if(cm.haveItem(4220046, 1)) {\n+                            if(cm.isQuestStarted(3250)) {\n+                                cm.completeQuest(3250);\n+                                cm.gainFame(11);\n+                            }\n+                            \n+                            cm.gainItem(4220046, -1);\n+                            cm.sendOk(\"You want to hand the #r#t4220046##k to me, right? Alright, I'll take it for you.\");\n+                        } else {\n+                            cm.sendOk(\"Hello there! I'm #b#p2041026##k, in charge of watching and reporting any paranormal activities in this area.\");\n+                        }\n+                        \n+                        cm.dispose();\n+                }\n+        }\n+}\n\\ No newline at end of file"}, {"sha": "2785443d146533288b0003fd722efb74945adcc6", "filename": "scripts/npc/2090004.js", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/scripts/npc/2090004.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/scripts/npc/2090004.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2090004.js?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -76,7 +76,7 @@ function action(mode, type, selection) {\n                         selStr = \"What kind of medicine are you interested in making?#b\";\n \t\t\t\n                         for (var i = 0; i < itemSet.length; i++){\n-                                selStr += \"\\r\\n#L\" + i + \"# #i\" + itemSet[i] + \"# #t\" + itemSet[i] + \"##l\";\n+                                selStr += \"\\r\\n#L\" + i + \"# #v\" + itemSet[i] + \"# #t\" + itemSet[i] + \"##l\";\n                         }\n                         selStr += \"#k\";\n \t\t} \n@@ -98,11 +98,10 @@ function action(mode, type, selection) {\n                         status++;\n                     \n \t\t\tselStr = \"So you wish to donate some medicine ingredients? This is great news! Donations will be accepted in the unit of #b100#k. The donator will receive a marble that enables one to make a scroll. Which of these would you like to donate? #b\";\n-\t\t\titemSet = new Array(\"Acorn\",\"Thimble\",\"Needle Pouch\",\"Necki Flower\",\"Necki Swimming Cap\",\"Broken Piece of Pot\",\"Ginseng-Boiled Water\",\"Straw Doll\",\"Wooden Doll\",\"Bellflower Root\",\"100-Year-Old Bellflower\",\n-\t\t\t\t\t\"Old Paper\",\"Yellow Belt\",\"Broken Deer Horn\",\"Red Belt\",\"Peach Seed\",\"Mr. Alli's Leather\",\"Cat Doll\",\"Mark of the Pirate\",\"Captain Hat#k\");\n+\t\t\titemSet = new Array(4000276,4000277,4000278,4000279,4000280,4000291,4000292,4000286,4000287,4000293,4000294,4000298,4000284,4000288,4000285,4000282,4000295,4000289,4000296,4000297);\n                                         \n                         for (var i = 0; i < itemSet.length; i++){\n-                                selStr += \"\\r\\n#L\" + i + \"# \" + itemSet[i] + \"#l\";\n+                                selStr += \"\\r\\n#L\" + i + \"# #v\" + itemSet[i] + \"# #t\" + itemSet[i] + \"##l\";\n                         }\n \t\t}\n \t\t\n@@ -165,7 +164,7 @@ function action(mode, type, selection) {\n \t\telse if(selectedType == 2){\n                         selectedItem = selection;\n                     \n-\t\t\titemSet = new Array(4000276,4000277,4000278,4000279,4000280,4000291,4000292,4000286,4000287,4000293,4000294,4000298,4000284,4000288,4000285,4000282,4000295,4000289,4000296,4031435);\n+\t\t\titemSet = new Array(4000276,4000277,4000278,4000279,4000280,4000291,4000292,4000286,4000287,4000293,4000294,4000298,4000284,4000288,4000285,4000282,4000295,4000289,4000296,4000297);\n                         rewdSet = new Array(7,7,new Array(7,8),10,11,8,new Array(7,8),new Array(7,9),new Array(7,8),9,10,new Array(10,11),11,new Array(11,12),13,13,14,15,new Array(15,16),17);\n                         \n \t\t\titem = itemSet[selectedItem];"}, {"sha": "f7cec6fb23e659f9fd81badedacb8b0f86625575", "filename": "scripts/npc/9000017.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/scripts/npc/9000017.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/scripts/npc/9000017.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9000017.js?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -46,7 +46,7 @@ function action(mode, type, selection) {\n \n         var itemSet = new Array(2049100, 7777777);\n         var matSet = new Array(new Array(4031203,4001356,4000136,4000082,4001126,4080100,4000021,4003005));\n-        var matQtySet = new Array(new Array(100,60,40,80,80,8,200,120));\n+        var matQtySet = new Array(new Array(100,60,40,80,10,8,200,120));\n         var costSet = new Array(1200000, 7777777);\n         item = itemSet[selectedItem];\n         mats = matSet[selectedItem];"}, {"sha": "7c545d2a7d1e85affcc7bf92a10421b0be2adcbc", "filename": "scripts/portal/enterthirdDH.js", "status": "modified", "additions": 15, "deletions": 12, "changes": 27, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/scripts/portal/enterthirdDH.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/scripts/portal/enterthirdDH.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/enterthirdDH.js?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -1,18 +1,21 @@\n function enter(pi) {\n-\tif (pi.hasItem(4032120) || pi.hasItem(4032121) || pi.hasItem(4032122) || pi.hasItem(4032123) || pi.hasItem(4032124)) {\n-\t\t pi.playerMessage(5, \"You already have the proof of qualification.\");\n-\t\t return false;\n-\t}\n+    if (pi.hasItem(4032120) || pi.hasItem(4032121) || pi.hasItem(4032122) || pi.hasItem(4032123) || pi.hasItem(4032124)) {\n+        pi.playerMessage(5, \"You already have the proof of qualification.\");\n+        return false;\n+    }\n     if (pi.isQuestStarted(20601) || pi.isQuestStarted(20602) || pi.isQuestStarted(20603) || pi.isQuestStarted(20604) || pi.isQuestStarted(20605)) {    \t\n-\t\tif (pi.getPlayerCount(913010200) == 0) {\n-\t\t    var map = pi.getMap(913010200);\n-\t\t    map.killAllMonsters();  \n-\t\t    pi.warp(913010200, 0);\n-\t\t    pi.spawnMonster(9300289, 0, 0);\n-\t\t} else {\n-\t\t    pi.playerMessage(5, \"Someone is already attempting to defeat the boss. Better come back later.\");\n-\t\t}\n+        if (pi.getPlayerCount(913010200) == 0) {\n+            var map = pi.getMap(913010200);\n+            map.killAllMonsters();  \n+            pi.warp(913010200, 0);\n+            pi.spawnMonster(9300289, 0, 0);\n+            return true;\n+        } else {\n+            pi.playerMessage(5, \"Someone is already attempting to defeat the boss. Better come back later.\");\n+            return false;\n+        }\n     } else {\n     \tpi.playerMessage(5, \"The only way to enter the hall #3 is if you're training for the Level 100 skills.\");\n+        return false;\n     }\n }\n\\ No newline at end of file"}, {"sha": "0f09d012f0dfac5da82187ddbd6256e5928c3e69", "filename": "scripts/portal/raid_rest.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/scripts/portal/raid_rest.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/scripts/portal/raid_rest.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/raid_rest.js?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -32,7 +32,7 @@ function enter(pi) {\n                 return false;\n         }\n         \n-        if(!pi.getPlayer().getEventInstance().giveEventReward(pi.getPlayer(), evLevel)) {\n+        if(pi.getPlayer().getEventInstance().giveEventReward(pi.getPlayer(), evLevel)) {\n                 pi.warp(970030000);\n                 return true;\n         }"}, {"sha": "14bcf7e65be0c801ef41f058dd78b3c91d4ea888", "filename": "scripts/quest/20527.js", "status": "added", "additions": 50, "deletions": 0, "changes": 50, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/scripts/quest/20527.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/scripts/quest/20527.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/quest/20527.js?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -0,0 +1,50 @@\n+/*\n+    This file is part of the HeavenMS (MapleSolaxiaV2) MapleStory Server\n+    Copyleft (L) 2017 RonanLana\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+\n+var status = -1;\n+\n+function start(mode, type, selection) {\n+    if (mode == -1) {\n+        qm.dispose();\n+    } else {\n+        if(mode == 0 && type > 0) {\n+            qm.dispose();\n+            return;\n+        }\n+        \n+        if (mode == 1)\n+            status++;\n+        else\n+            status--;\n+        \n+        if (status == 0) {\n+            var mount = qm.getPlayer().getMount();\n+            \n+            if(mount != null && mount.getLevel() >= 3) {\n+                qm.sendNext(\"Alright, I'll get you started in how to train Mimio, the next step for Mimianas. When you're ready, talk to me again.\");\n+                qm.forceCompleteQuest();\n+            } else {\n+                qm.sendNext(\"It looks like your Mimiana haven't reached #rlevel 3#k yet. Please train it a bit more before trying to advance it.\");\n+            }\n+            \n+            qm.dispose();\n+        }\n+    }\n+}"}, {"sha": "b434ca2d320a903c64478c60f1540a10d6bcad9f", "filename": "sql/db_database.sql", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/sql/db_database.sql", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/sql/db_database.sql", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/sql/db_database.sql?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -4294,7 +4294,7 @@ INSERT IGNORE INTO `temp_data` (`id`, `dropperid`, `itemid`, `minimum_quantity`,\n (4075, 5120506, 1412007, 1, 1, 0, 700),\n (4076, 5120506, 1050059, 1, 1, 0, 700),\n (4077, 5120506, 1442010, 1, 1, 0, 700),\n-(4078, 5120506, 4000299, 1, 1, 0, 600000),\n+(4078, 5120506, 4000299, 1, 1, 0, 100000),\n (4079, 5120506, 1492007, 1, 1, 0, 500),\n (4080, 5120506, 2330002, 1, 1, 0, 500),\n (4081, 5120506, 2040317, 1, 1, 0, 300),"}, {"sha": "f1d3f4c3d24839665c98395238c1083f7db43137", "filename": "sql/db_drops.sql", "status": "modified", "additions": 19, "deletions": 9, "changes": 28, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/sql/db_drops.sql", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/sql/db_drops.sql", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/sql/db_drops.sql?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -11661,8 +11661,8 @@ USE `heavenms`;\n (7130500, 1072163, 1, 1, 0, 700), \n (7130500, 1332018, 1, 1, 0, 700), \n (7130500, 1052122, 1, 1, 0, 700), \n-(7130104, 4031435, 1, 1, 0, 7000), \n-(9300242, 4031435, 1, 1, 0, 7000), \n+(7130104, 4031435, 1, 1, 7777, 7000), \n+(9300242, 4031435, 1, 1, 7777, 7000), \n (7130104, 4130000, 1, 1, 0, 3000), \n (9300242, 4130000, 1, 1, 0, 3000), \n (7130104, 4130017, 1, 1, 0, 3000), \n@@ -19244,10 +19244,10 @@ USE `heavenms`;\n (9400578, 1372009, 1, 1, 0, 1200),\n (9300011, 4031130, 1, 1, 0, 10000),\n (7160000, 2385015, 1, 1, 0, 10000),\n-(3230306, 2022355, 1, 1, 3248, 4000),\n-(4230113, 2022354, 1, 1, 3248, 4000),\n-(5220003, 4031991, 1, 1, 3248, 15000),\n-(4230122, 2022354, 1, 1, 0, 4000),\n+(3230306, 2022355, 1, 1, 3248, 100000),\n+(4230113, 2022354, 1, 1, 3248, 100000),\n+(5220003, 4031991, 1, 1, 3248, 999999),\n+(4230122, 2022354, 1, 1, 3248, 100000),\n (3210100, 2382003, 1, 1, 0, 8000),\n (3100101, 2382008, 1, 1, 0, 8000),\n (3110301, 2382010, 1, 1, 0, 8000),\n@@ -20009,7 +20009,19 @@ USE `heavenms`;\n (9400613, 4020002, 1, 1, 0, 7000),\n (9400613, 1082258, 1, 1, 0, 5000),\n (9400613, 1072421, 1, 1, 0, 5000),\n-(4110302, 2383007, 1, 1, 0, 8000);\n+(4110302, 2383007, 1, 1, 0, 8000),\n+(130100, 4032374, 1, 1, 2405, 40000),\n+(1110101, 4032374, 1, 1, 2405, 40000),\n+(210100, 4032376, 1, 1, 2406, 40000),\n+(1110101, 4032376, 1, 1, 2406, 40000),\n+(210100, 4032377, 1, 1, 2407, 40000),\n+(1210101, 4032377, 1, 1, 2407, 40000),\n+(130100, 4032378, 1, 1, 2408, 40000),\n+(1120100, 4032378, 1, 1, 2408, 40000),\n+(1110100, 4032379, 1, 1, 2409, 40000),\n+(1210100, 4032379, 1, 1, 2409, 40000),\n+(2130100, 4001344, 1, 1, 0, 7000),\n+(7220002, 4031789, 1, 1, 3844, 999999);\n \n # (dropperid, itemid, minqty, maxqty, questid, chance)\n \n@@ -20144,7 +20156,6 @@ USE `heavenms`;\n   UPDATE drop_data SET questid=20707 WHERE itemid=4032130;\n   UPDATE drop_data SET questid=28170 WHERE itemid=4001345;\n   UPDATE drop_data SET questid=7301 WHERE itemid=4001077;\n-  UPDATE drop_data SET questid=3248 WHERE itemid=2022354;\n   UPDATE drop_data SET chance=40000, questid=3250 WHERE itemid=4031992;\n   UPDATE drop_data SET questid=6191 WHERE itemid=4001107;\n   UPDATE drop_data SET questid=28344 WHERE itemid=4032475;\n@@ -20154,7 +20165,6 @@ USE `heavenms`;\n   UPDATE drop_data SET questid=28175 WHERE itemid=4001342;\n   UPDATE drop_data SET questid=7777 WHERE itemid=4031906;\t#id 7777 for ALL \"quest items\" with no v83 quest.\n   UPDATE drop_data SET chance=0 WHERE itemid=2050099;\n-  UPDATE drop_data SET chance=40000 WHERE itemid=4031991;\n   UPDATE drop_data SET questid=6191 WHERE itemid=4031477;\n   UPDATE drop_data SET questid=6190 WHERE itemid=4001111;\n   UPDATE drop_data SET questid=28282 WHERE itemid=4001373;"}, {"sha": "20e3d0769b9047ba75fb0aa05a5943c0513e5ef3", "filename": "sql/db_shopupdate.sql", "status": "modified", "additions": 77, "deletions": 73, "changes": 150, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/sql/db_shopupdate.sql", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/sql/db_shopupdate.sql", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/sql/db_shopupdate.sql?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -8,80 +8,84 @@ INSERT INTO `shops` (`shopid`,`npcid`) VALUES\n (9110002,9110002),\n (9201082,9201082);\n \n-INSERT IGNORE INTO `shopitems` (`shopitemid`, `shopid`, `itemid`, `price`, `pitch`, `position`) VALUES\n-(995032, 9201082, 2040025, 500000, 0, 1),\n-(995033, 9201082, 2040029, 500000, 0, 2),\n-(995034, 9201082, 2040301, 400000, 0, 3),\n-(995035, 9201082, 2040317, 400000, 0, 4),\n-(995036, 9201082, 2040321, 400000, 0, 5),\n-(995037, 9201082, 2040413, 400000, 0, 6),\n-(995038, 9201082, 2040418, 400000, 0, 7),\n-(995039, 9201082, 2040501, 250000, 0, 8),\n-(995040, 9201082, 2040513, 250000, 0, 9),\n-(995041, 9201082, 2040516, 250000, 0, 10),\n-(995042, 9201082, 2040532, 250000, 0, 11),\n-(995043, 9201082, 2040613, 400000, 0, 12),\n-(995044, 9201082, 2040701, 450000, 0, 13),\n-(995045, 9201082, 2040704, 450000, 0, 14),\n-(995046, 9201082, 2040804, 550000, 0, 15),\n-(995047, 9201082, 2040914, 300000, 0, 16),\n-(995048, 9201082, 2040919, 300000, 0, 17),\n-(995049, 9201082, 2041013, 300000, 0, 18),\n-(995050, 9201082, 2041016, 300000, 0, 19),\n-(995051, 9201082, 2041019, 300000, 0, 20),\n-(995052, 9201082, 2041022, 300000, 0, 21),\n-(995053, 9201082, 2044901, 520000, 0, 22),\n-(995054, 9201082, 2044701, 520000, 0, 23),\n-(995055, 9201082, 2043001, 520000, 0, 24),\n-(995056, 9201082, 2043801, 520000, 0, 25),\n-(995057, 9201082, 2044601, 520000, 0, 26),\n-(995058, 9201082, 2040727, 50000, 0, 27),\n-(995059, 9201082, 2041058, 50000, 0, 28),\n-(995060, 9201082, 2040807, 1000000, 0, 29),\n-(995061, 9201082, 2040026, 15000, 0, 30),\n-(995062, 9201082, 2040031, 15000, 0, 31),\n-(995063, 9201082, 2040302, 25000, 0, 32),\n-(995064, 9201082, 2040318, 25000, 0, 33),\n-(995065, 9201082, 2040323, 25000, 0, 34),\n-(995066, 9201082, 2040412, 20000, 0, 35),\n-(995067, 9201082, 2040419, 20000, 0, 36),\n-(995068, 9201082, 2040502, 25000, 0, 37),\n-(995069, 9201082, 2040514, 25000, 0, 38),\n-(995070, 9201082, 2040517, 25000, 0, 39),\n-(995071, 9201082, 2040534, 25000, 0, 40),\n-(995072, 9201082, 2040612, 20000, 0, 41),\n-(995073, 9201082, 2040702, 20000, 0, 42),\n-(995074, 9201082, 2040705, 25000, 0, 43),\n-(995075, 9201082, 2040805, 100000, 0, 44),\n-(995076, 9201082, 2040915, 55000, 0, 45),\n-(995077, 9201082, 2040920, 55000, 0, 46),\n-(995078, 9201082, 2041014, 30000, 0, 47),\n-(995079, 9201082, 2041017, 30000, 0, 48),\n-(995080, 9201082, 2041020, 30000, 0, 49),\n-(995081, 9201082, 2041023, 30000, 0, 50),\n-(995082, 9201082, 2044902, 50000, 0, 51),\n-(995083, 9201082, 2044702, 50000, 0, 52),\n-(995084, 9201082, 2043002, 50000, 0, 53),\n-(995085, 9201082, 2043802, 50000, 0, 54),\n-(995086, 9201082, 2044602, 50000, 0, 55),\n-(996000, 9201082, 2049200, 170000, 0, 56),\n-(996001, 9201082, 2049201, 220000, 0, 57),\n-(996002, 9201082, 2049202, 170000, 0, 58),\n-(996003, 9201082, 2049203, 220000, 0, 59),\n-(996004, 9201082, 2049204, 170000, 0, 60),\n-(996005, 9201082, 2049205, 220000, 0, 61),\n-(996006, 9201082, 2049206, 170000, 0, 62),\n-(996007, 9201082, 2049207, 220000, 0, 63),\n-(996008, 9201082, 2049208, 140000, 0, 64),\n-(996009, 9201082, 2049209, 170000, 0, 65),\n-(996010, 9201082, 2049210, 140000, 0, 66),\n-(996011, 9201082, 2049211, 170000, 0, 67),\n-(996196, 9201082, 2070016, 120000000, 0, 68),\n-(996197, 9201082, 2070018, 190000000, 0, 69),\n-(994782, 9201082, 2030007, 1800000, 0, 70),\n-(994783, 9201082, 4001017, 60000000, 0, 71);\n+INSERT IGNORE INTO `shopitems` (`shopid`, `itemid`, `price`, `pitch`, `position`) VALUES\n+(9201082, 2040025, 500000, 0, 1),\n+(9201082, 2040029, 500000, 0, 2),\n+(9201082, 2040017, 500000, 0, 3),\n+(9201082, 2040301, 400000, 0, 4),\n+(9201082, 2040317, 400000, 0, 5),\n+(9201082, 2040321, 400000, 0, 6),\n+(9201082, 2040413, 400000, 0, 7),\n+(9201082, 2040418, 400000, 0, 8),\n+(9201082, 2040501, 250000, 0, 9),\n+(9201082, 2040513, 250000, 0, 10),\n+(9201082, 2040516, 250000, 0, 11),\n+(9201082, 2040532, 250000, 0, 12),\n+(9201082, 2040613, 400000, 0, 13),\n+(9201082, 2040701, 450000, 0, 14),\n+(9201082, 2040704, 450000, 0, 15),\n+(9201082, 2040804, 550000, 0, 16),\n+(9201082, 2040817, 550000, 0, 17),\n+(9201082, 2040914, 300000, 0, 18),\n+(9201082, 2040919, 300000, 0, 19),\n+(9201082, 2041013, 300000, 0, 20),\n+(9201082, 2041016, 300000, 0, 21),\n+(9201082, 2041019, 300000, 0, 22),\n+(9201082, 2041022, 300000, 0, 23),\n+(9201082, 2044901, 520000, 0, 24),\n+(9201082, 2044701, 520000, 0, 25),\n+(9201082, 2043001, 520000, 0, 26),\n+(9201082, 2043801, 520000, 0, 27),\n+(9201082, 2044601, 520000, 0, 28),\n+(9201082, 2040727, 50000, 0, 29),\n+(9201082, 2041058, 50000, 0, 30),\n+(9201082, 2040807, 1000000, 0, 31),\n+(9201082, 2040026, 15000, 0, 32),\n+(9201082, 2040031, 15000, 0, 33),\n+(9201082, 2040016, 15000, 0, 34),\n+(9201082, 2040302, 25000, 0, 35),\n+(9201082, 2040318, 25000, 0, 36),\n+(9201082, 2040323, 25000, 0, 37),\n+(9201082, 2040412, 20000, 0, 38),\n+(9201082, 2040419, 20000, 0, 39),\n+(9201082, 2040502, 25000, 0, 40),\n+(9201082, 2040514, 25000, 0, 41),\n+(9201082, 2040517, 25000, 0, 42),\n+(9201082, 2040534, 25000, 0, 43),\n+(9201082, 2040612, 20000, 0, 44),\n+(9201082, 2040702, 20000, 0, 45),\n+(9201082, 2040705, 25000, 0, 46),\n+(9201082, 2040805, 100000, 0, 47),\n+(9201082, 2040816, 100000, 0, 48),\n+(9201082, 2040915, 55000, 0, 49),\n+(9201082, 2040920, 55000, 0, 50),\n+(9201082, 2041014, 30000, 0, 51),\n+(9201082, 2041017, 30000, 0, 52),\n+(9201082, 2041020, 30000, 0, 53),\n+(9201082, 2041023, 30000, 0, 54),\n+(9201082, 2044902, 50000, 0, 55),\n+(9201082, 2044702, 50000, 0, 56),\n+(9201082, 2043002, 50000, 0, 57),\n+(9201082, 2043802, 50000, 0, 58),\n+(9201082, 2044602, 50000, 0, 59),\n+(9201082, 2049200, 170000, 0, 60),\n+(9201082, 2049201, 220000, 0, 61),\n+(9201082, 2049202, 170000, 0, 62),\n+(9201082, 2049203, 220000, 0, 63),\n+(9201082, 2049204, 170000, 0, 64),\n+(9201082, 2049205, 220000, 0, 65),\n+(9201082, 2049206, 170000, 0, 66),\n+(9201082, 2049207, 220000, 0, 67),\n+(9201082, 2049208, 140000, 0, 68),\n+(9201082, 2049209, 170000, 0, 69),\n+(9201082, 2049210, 140000, 0, 70),\n+(9201082, 2049211, 170000, 0, 71),\n+(9201082, 2070016, 120000000, 0, 72),\n+(9201082, 2070018, 190000000, 0, 73),\n+(9201082, 2030007, 1800000, 0, 74),\n+(9201082, 4001017, 60000000, 0, 75);\n \n-UPDATE shopitems SET price = 11*price WHERE (`position` >= 27 and `position` <= 67 and `shopid` = 9201082);\n+UPDATE shopitems SET price = 11*price WHERE (`position` >= 29 and `position` <= 71 and `shopid` = 9201082);\n \n INSERT IGNORE INTO `shopitems` (`shopid`, `itemid`, `price`, `pitch`, `position`) VALUES\n (1031100, 3010015, 20000, 0, 100),"}, {"sha": "0c340b07574c63f0c84f033ead00b161d26c26ba", "filename": "src/client/MapleCharacter.java", "status": "modified", "additions": 29, "deletions": 6, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/src/client/MapleCharacter.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/src/client/MapleCharacter.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleCharacter.java?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -1246,16 +1246,22 @@ public void changeMap(final MapleMap target, final Point pos) {\n     private boolean buffMapProtection() {\n         effLock.lock();\n         chrLock.lock();\n+        \n+        int thisMapid = mapid;\n+        int returnMapid = client.getChannelServer().getMapFactory().getMap(thisMapid).getReturnMapId();\n+        \n         try {\n-            MapleMap thisMap = client.getChannelServer().getMapFactory().getMap(mapid);\n-            \n             for(Entry<MapleBuffStat, MapleBuffStatValueHolder> mbs : effects.entrySet()) {\n                 if(mbs.getKey() == MapleBuffStat.MAP_PROTECTION) {\n                     byte value = (byte)mbs.getValue().value;\n                     \n-                    if(value == 1 && (thisMap.getReturnMapId() == 211000000 || thisMap.getReturnMapId() == 193000000)) return true;       //protection from cold\n-                    else if(value == 2 && (thisMap.getReturnMapId() == 211000000 || thisMap.getReturnMapId() == 230000000)) return true;  //breathing underwater\n-                    else return false;\n+                    if(value == 1 && ((returnMapid == 211000000 && thisMapid != 200082300) || returnMapid == 193000000)) {\n+                        return true;        //protection from cold\n+                    } else if(value == 2 && (returnMapid == 230000000 || thisMapid == 200082300)) {\n+                        return true;        //breathing underwater\n+                    } else {\n+                        return false;\n+                    }\n                 }\n             }    \n         } finally {\n@@ -1264,7 +1270,9 @@ private boolean buffMapProtection() {\n         }\n         \n         for(Item it: this.getInventory(MapleInventoryType.EQUIPPED).list()) {\n-            if((it.getFlag() & ItemConstants.COLD) == ItemConstants.COLD && map.getReturnMapId() == 211000000) return true;       //protection from cold\n+            if((it.getFlag() & ItemConstants.COLD) == ItemConstants.COLD && ((returnMapid == 211000000 && thisMapid != 200082300) || returnMapid == 193000000)) {\n+                return true;        //protection from cold\n+            }\n         }\n         \n         return false;\n@@ -6285,6 +6293,8 @@ public void run() {\n     }\n     \n     public synchronized void saveToDB(boolean notAutosave) {\n+        if(!loggedIn) return;\n+        \n         Calendar c = Calendar.getInstance();\n         \n         if(notAutosave) FilePrinter.print(FilePrinter.SAVING_CHARACTER, \"Attempting to save \" + name + \" at \" + c.getTime().toString());\n@@ -7474,6 +7484,19 @@ public void cancelQuestExpirationTask() {\n         }\n     }\n     \n+    public void forfeitExpirableQuests() {\n+        petLock.lock();\n+        try {\n+            for(MapleQuest quest : questExpirations.keySet()) {\n+                quest.forfeit(this);\n+            }\n+            \n+            questExpirations.clear();\n+        } finally {\n+            petLock.unlock();\n+        }\n+    }\n+    \n     public void questExpirationTask() {\n         petLock.lock();\n         try {"}, {"sha": "268034ccbed426c05be5a379e190bd1c008be55b", "filename": "src/net/server/channel/handlers/EnterCashShopHandler.java", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/src/net/server/channel/handlers/EnterCashShopHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/src/net/server/channel/handlers/EnterCashShopHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/EnterCashShopHandler.java?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -65,8 +65,10 @@ public void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n             mc.cancelDiseaseExpireTask();\n             mc.cancelSkillCooldownTask();\n             mc.cancelExpirationTask();\n+            \n+            mc.forfeitExpirableQuests();\n             mc.cancelQuestExpirationTask();\n-\n+            \n             c.announce(MaplePacketCreator.openCashShop(c, false));\n             c.announce(MaplePacketCreator.showCashInventory(c));\n             c.announce(MaplePacketCreator.showGifts(mc.getCashShop().loadGifts()));"}, {"sha": "c40bf00ca719a199a0a400a3ab8ed4b4131c2cd1", "filename": "src/net/server/channel/handlers/EnterMTSHandler.java", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/src/net/server/channel/handlers/EnterMTSHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/src/net/server/channel/handlers/EnterMTSHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/EnterMTSHandler.java?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -74,6 +74,8 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n         chr.cancelDiseaseExpireTask();\n         chr.cancelSkillCooldownTask();\n         chr.cancelExpirationTask();\n+        \n+        chr.forfeitExpirableQuests();\n         chr.cancelQuestExpirationTask();\n         \n         chr.saveToDB();"}, {"sha": "647a52e3ef24fcecc59e05f8f652363b2be9d055", "filename": "src/net/server/channel/handlers/StorageHandler.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/src/net/server/channel/handlers/StorageHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/src/net/server/channel/handlers/StorageHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/StorageHandler.java?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -49,7 +49,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n \t\tfinal MapleStorage storage = chr.getStorage();\n \n \t\tif (chr.getLevel() < 15){\n-\t\t\tchr.message(\"You may only use the storage once you have reached level 15.\");\n+\t\t\tchr.dropMessage(1, \"You may only use the storage once you have reached level 15.\");\n                         c.announce(MaplePacketCreator.enableActions());\n \t\t\treturn;\n \t\t}"}, {"sha": "f3f0b5d9400a8e03d0bb681efc6fc306e814ba29", "filename": "src/server/MapleItemInformationProvider.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/src/server/MapleItemInformationProvider.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/src/server/MapleItemInformationProvider.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/MapleItemInformationProvider.java?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -1227,7 +1227,7 @@ public boolean isQuestItem(int itemId) {\n             return isQuestItemCache.get(itemId);\n         }\n         MapleData data = getItemData(itemId);\n-        boolean questItem = MapleDataTool.getIntConvert(\"info/quest\", data, 0) == 1;\n+        boolean questItem = (data != null && MapleDataTool.getIntConvert(\"info/quest\", data, 0) == 1);\n         isQuestItemCache.put(itemId, questItem);\n         return questItem;\n     }"}, {"sha": "7b3bdf6557aa916ac389723b184ccb6820e1a371", "filename": "src/server/MapleStorage.java", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/src/server/MapleStorage.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/src/server/MapleStorage.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/MapleStorage.java?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -223,13 +223,11 @@ public byte getSlot(MapleInventoryType type, byte slot) {\n     }\n \n     public void sendStorage(MapleClient c, int npcId) {\n-        /*\n         if (c.getPlayer().getLevel() < 15){\n-            c.getPlayer().message(\"You may only use the storage once you have reached level 15.\");\n+            c.getPlayer().dropMessage(1, \"You may only use the storage once you have reached level 15.\");\n             c.announce(MaplePacketCreator.enableActions());\n             return;\n         }\n-        */\n         \n         lock.lock();\n         try {"}, {"sha": "dc57854be1c4dcc9e2d5a8d518fa14a1a9349f54", "filename": "src/server/maps/MapleMap.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/src/server/maps/MapleMap.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/src/server/maps/MapleMap.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/MapleMap.java?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -2610,7 +2610,7 @@ public MapleFootholdTree getFootholds() {\n     }\n     \n     public void setMapPointBoundings(int px, int py, int h, int w) {\n-        mapArea.setBounds(px + 60, py, w - 120, h);\n+        mapArea.setBounds(px + 80, py, w - 160, h);\n     }\n     \n     public void setMapLineBoundings(int vrTop, int vrBottom, int vrLeft, int vrRight) {"}, {"sha": "769ee2b18a9f81b6e8d38ed9c5244ea65c90a1f4", "filename": "tools/MapleMobBookUpdate/lib/MonsterBook_updated.img.xml", "status": "modified", "additions": 18, "deletions": 6, "changes": 24, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/tools/MapleMobBookUpdate/lib/MonsterBook_updated.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/tools/MapleMobBookUpdate/lib/MonsterBook_updated.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleMobBookUpdate/lib/MonsterBook_updated.img.xml?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -143,6 +143,7 @@\n       <int name=\"44\" value=\"4020002\" />\n       <int name=\"45\" value=\"4020003\" />\n       <int name=\"46\" value=\"4031146\" />\n+      <int name=\"47\" value=\"4032379\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  15\\nForm : Plant\\nSpecial Trait : Resistant to Poison Attribute Attacks.\\n\\nA Green Mushroom monster with a dull looking cap. Is a transformed version of the small poisonous mushrooms and is therefore immune to poison. These mushrooms are often spotted around construction sites or nearby dungeon entrances. These mushrooms are most likely poisonous so beware not to eat them no matter how hungry you are!\" />\n   </imgdir>\n@@ -194,6 +195,8 @@\n       <int name=\"26\" value=\"4020000\" />\n       <int name=\"27\" value=\"4030009\" />\n       <int name=\"28\" value=\"4031773\" />\n+      <int name=\"29\" value=\"4032374\" />\n+      <int name=\"30\" value=\"4032376\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  10\\nForm : Plant\\nSpecial Trait : Vulnerable to Fire Attribute Attacks.\\n\\nA slightly darker version of Stump, the tree stump monster. These monsters are often spotted around mountain highlands. While they are very similar to the Stump in their dried-up appearance, but these Dark Stumps have some moisture left in their bodies, still growing leaves somewhere inside their body. The Dark Stump has a lot stronger attacks and defenses as compared to Stump, so be careful not to confuse the two, especially if you're a beginner!\" />\n   </imgdir>\n@@ -230,6 +233,7 @@\n       <int name=\"21\" value=\"4020002\" />\n       <int name=\"22\" value=\"4030010\" />\n       <int name=\"23\" value=\"4030012\" />\n+      <int name=\"24\" value=\"4032378\" />\n     </imgdir>\n     <string name=\"episode\" value=\"Lv. :  12\\nForm : Mammal\\nSpecial Trait : Vulnerable to Electricity Attribute Attacks.\\n\\nHardly an octopus, this mutated octopus-like monster is a strange-looking creature that barely escaped the research lab of some outer space planet after being relentlessly tested on. There's apparently some people who like to cook friend meatballs with these octopus' legs. Often found around swamps and construction sites, Octopuses have been reportedly spotted more frequently around high altitude areas which seems to support the whole alien theory of their origins.   \" />\n   </imgdir>\n@@ -400,6 +404,7 @@\n       <int name=\"23\" value=\"4031846\" />\n       <int name=\"24\" value=\"4032130\" />\n       <int name=\"25\" value=\"4032340\" />\n+      <int name=\"26\" value=\"4032379\" />\n     </imgdir>\n     <string name=\"episode\" value=\"Lv. :  7\\nForm : Mammal\\n\\nA very speedy monster that attacks with its massive body. You'll need to do everything you can to get away from this guy, or else it'll come attacking you with massive strength. It is possible to catch one of these Pigs, though, and the Pig's head is apparently quite a delicacy in Maple World.\" />\n   </imgdir>\n@@ -443,6 +448,7 @@\n       <int name=\"24\" value=\"4010002\" />\n       <int name=\"25\" value=\"4020001\" />\n       <int name=\"26\" value=\"4030012\" />\n+      <int name=\"27\" value=\"4032377\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  10\\nForm : Mammal\\n\\nThere's always a sense of order, even in the world of Pigs. The most powerful of them wear a bright red ribbon which symbolizes their overpowering strength over others, and are treated as royalty. You don't believe it? Just go and try to hunt one of these Ribbon Pigs. You'll see that Ribbon Pigs are much more powerful than ordinary Pigs.\" />\n   </imgdir>\n@@ -585,6 +591,8 @@\n       <int name=\"20\" value=\"4020003\" />\n       <int name=\"21\" value=\"4030009\" />\n       <int name=\"22\" value=\"4031773\" />\n+      <int name=\"23\" value=\"4032374\" />\n+      <int name=\"24\" value=\"4032378\" />\n     </imgdir>\n     <string name=\"episode\" value=\"Lv. :  4\\nForm : Plant\\nSpecial Trait : Vulnerable to Fire Attribute Attacks.\\n\\nA monster that resembles a tree stump that is most often found in grassy areas and the highlands. Its short legs that used to be the tree's roots move very slowly and the tree stump can only make weak attacks, but it is also surprisingly strong which makes beginners have to spend a long time to defeat this monster.\\nThe eye on this Stump often scares people, but the single eye will apparently shed a tear from time to time. This rare occasion serves as the origination of the people of Perion referring to valuables as the Tear of Stump. \" />\n   </imgdir>\n@@ -989,6 +997,8 @@\n       <int name=\"26\" value=\"4020005\" />\n       <int name=\"27\" value=\"4030000\" />\n       <int name=\"28\" value=\"4031273\" />\n+      <int name=\"29\" value=\"4032376\" />\n+      <int name=\"30\" value=\"4032377\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  6\\nForm : Spirit\\nSpecial Trait : Vulnerable to Electricity Attribute Attacks.\\n\\nA monster made of a gelatinous substance that uses its own viscosity to jump around everywhere. The cuteness of its look makes the Slime a beloved monster amongst adventurers, which is why you'll often come across all sorts of Slime paraphernalia such as hats and earrings that are being sold. When you hunt the Slime, you'll end up with small pockets of liquid which have a very pleasant apple scent. The scented liquid can be used in cooking as well! Sometimes, it will give the pompom on its head to the adventurers. \" />\n   </imgdir>\n@@ -1171,12 +1181,13 @@\n       <int name=\"21\" value=\"2381008\" />\n       <int name=\"22\" value=\"4000018\" />\n       <int name=\"23\" value=\"4000215\" />\n-      <int name=\"24\" value=\"4001367\" />\n-      <int name=\"25\" value=\"4006001\" />\n-      <int name=\"26\" value=\"4010001\" />\n-      <int name=\"27\" value=\"4020007\" />\n-      <int name=\"28\" value=\"4031153\" />\n-      <int name=\"29\" value=\"4031773\" />\n+      <int name=\"24\" value=\"4001344\" />\n+      <int name=\"25\" value=\"4001367\" />\n+      <int name=\"26\" value=\"4006001\" />\n+      <int name=\"27\" value=\"4010001\" />\n+      <int name=\"28\" value=\"4020007\" />\n+      <int name=\"29\" value=\"4031153\" />\n+      <int name=\"30\" value=\"4031773\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  22\\nForm : Plant\\nSpecial Trait : Vulnerable to Fire Attribute Attacks.\\n\\nA monster with an incredible legend behind it. This Dark Axe Stump is apparently the deeply agitated form of the Axe Stump who'd had an unresolved past life as a tree stump with an axe left in it by some lumberjack. The Dark Axe Stump, just like all the other members of the Stump family of monsters, is extremely strong and is capable of extreme attacks, so all beginners should be very very careful.\" />\n   </imgdir>\n@@ -10619,6 +10630,7 @@\n       <int name=\"49\" value=\"4004004\" />\n       <int name=\"50\" value=\"4010005\" />\n       <int name=\"51\" value=\"4020008\" />\n+      <int name=\"52\" value=\"4031789\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  77\\nForm : Mammal\\n\\nA wicked monster that lives in the Goblin Forest. It was a cat before it secretly mastered the magic that Mu Lung's trainees were studying in order to become virtuous masters. It considers Mu Lung's swordsmith, who instructs mental training, as its arch-nemesis. It dazzles the humans with its eloquence while riding a giant cloud, but remember that this Priest Cat is but a goblin inside.\" />\n   </imgdir>"}, {"sha": "7bf8926a4acf7853ead75217a53a907097c4da25", "filename": "wz/Character.wz/Ring/01112405.img.xml", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/wz/Character.wz/Ring/01112405.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/wz/Character.wz/Ring/01112405.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Character.wz/Ring/01112405.img.xml?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -27,7 +27,6 @@\n     <int name=\"notSale\" value=\"1\"/>\n     <int name=\"price\" value=\"1\"/>\n     <int name=\"accountSharable\" value=\"1\"/>\n-    <int name=\"only\" value=\"1\"/>\n     <int name=\"cash\" value=\"0\"/>\n   </imgdir>\n </imgdir>"}, {"sha": "0463363367467d3407cdd5b023dc790c4b276aa9", "filename": "wz/Character.wz/Ring/01112413.img.xml", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/wz/Character.wz/Ring/01112413.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/wz/Character.wz/Ring/01112413.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Character.wz/Ring/01112413.img.xml?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -27,7 +27,6 @@\n     <int name=\"notSale\" value=\"1\"/>\n     <int name=\"price\" value=\"1\"/>\n     <int name=\"accountSharable\" value=\"1\"/>\n-    <int name=\"only\" value=\"1\"/>\n     <int name=\"cash\" value=\"0\"/>\n   </imgdir>\n </imgdir>"}, {"sha": "dc776b1151162f0ed83b5dbfa4e9a8bf5b3b91f4", "filename": "wz/Character.wz/Ring/01112414.img.xml", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/wz/Character.wz/Ring/01112414.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/wz/Character.wz/Ring/01112414.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Character.wz/Ring/01112414.img.xml?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -27,7 +27,6 @@\n     <int name=\"notSale\" value=\"1\"/>\n     <int name=\"price\" value=\"1\"/>\n     <int name=\"accountSharable\" value=\"1\"/>\n-    <int name=\"only\" value=\"1\"/>\n     <int name=\"cash\" value=\"0\"/>\n   </imgdir>\n </imgdir>"}, {"sha": "769ee2b18a9f81b6e8d38ed9c5244ea65c90a1f4", "filename": "wz/String.wz/MonsterBook.img.xml", "status": "modified", "additions": 18, "deletions": 6, "changes": 24, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/2d49c322e179ecc3d9e1529dee21f99888521a3c/wz/String.wz/MonsterBook.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/2d49c322e179ecc3d9e1529dee21f99888521a3c/wz/String.wz/MonsterBook.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/String.wz/MonsterBook.img.xml?ref=2d49c322e179ecc3d9e1529dee21f99888521a3c", "patch": "@@ -143,6 +143,7 @@\n       <int name=\"44\" value=\"4020002\" />\n       <int name=\"45\" value=\"4020003\" />\n       <int name=\"46\" value=\"4031146\" />\n+      <int name=\"47\" value=\"4032379\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  15\\nForm : Plant\\nSpecial Trait : Resistant to Poison Attribute Attacks.\\n\\nA Green Mushroom monster with a dull looking cap. Is a transformed version of the small poisonous mushrooms and is therefore immune to poison. These mushrooms are often spotted around construction sites or nearby dungeon entrances. These mushrooms are most likely poisonous so beware not to eat them no matter how hungry you are!\" />\n   </imgdir>\n@@ -194,6 +195,8 @@\n       <int name=\"26\" value=\"4020000\" />\n       <int name=\"27\" value=\"4030009\" />\n       <int name=\"28\" value=\"4031773\" />\n+      <int name=\"29\" value=\"4032374\" />\n+      <int name=\"30\" value=\"4032376\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  10\\nForm : Plant\\nSpecial Trait : Vulnerable to Fire Attribute Attacks.\\n\\nA slightly darker version of Stump, the tree stump monster. These monsters are often spotted around mountain highlands. While they are very similar to the Stump in their dried-up appearance, but these Dark Stumps have some moisture left in their bodies, still growing leaves somewhere inside their body. The Dark Stump has a lot stronger attacks and defenses as compared to Stump, so be careful not to confuse the two, especially if you're a beginner!\" />\n   </imgdir>\n@@ -230,6 +233,7 @@\n       <int name=\"21\" value=\"4020002\" />\n       <int name=\"22\" value=\"4030010\" />\n       <int name=\"23\" value=\"4030012\" />\n+      <int name=\"24\" value=\"4032378\" />\n     </imgdir>\n     <string name=\"episode\" value=\"Lv. :  12\\nForm : Mammal\\nSpecial Trait : Vulnerable to Electricity Attribute Attacks.\\n\\nHardly an octopus, this mutated octopus-like monster is a strange-looking creature that barely escaped the research lab of some outer space planet after being relentlessly tested on. There's apparently some people who like to cook friend meatballs with these octopus' legs. Often found around swamps and construction sites, Octopuses have been reportedly spotted more frequently around high altitude areas which seems to support the whole alien theory of their origins.   \" />\n   </imgdir>\n@@ -400,6 +404,7 @@\n       <int name=\"23\" value=\"4031846\" />\n       <int name=\"24\" value=\"4032130\" />\n       <int name=\"25\" value=\"4032340\" />\n+      <int name=\"26\" value=\"4032379\" />\n     </imgdir>\n     <string name=\"episode\" value=\"Lv. :  7\\nForm : Mammal\\n\\nA very speedy monster that attacks with its massive body. You'll need to do everything you can to get away from this guy, or else it'll come attacking you with massive strength. It is possible to catch one of these Pigs, though, and the Pig's head is apparently quite a delicacy in Maple World.\" />\n   </imgdir>\n@@ -443,6 +448,7 @@\n       <int name=\"24\" value=\"4010002\" />\n       <int name=\"25\" value=\"4020001\" />\n       <int name=\"26\" value=\"4030012\" />\n+      <int name=\"27\" value=\"4032377\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  10\\nForm : Mammal\\n\\nThere's always a sense of order, even in the world of Pigs. The most powerful of them wear a bright red ribbon which symbolizes their overpowering strength over others, and are treated as royalty. You don't believe it? Just go and try to hunt one of these Ribbon Pigs. You'll see that Ribbon Pigs are much more powerful than ordinary Pigs.\" />\n   </imgdir>\n@@ -585,6 +591,8 @@\n       <int name=\"20\" value=\"4020003\" />\n       <int name=\"21\" value=\"4030009\" />\n       <int name=\"22\" value=\"4031773\" />\n+      <int name=\"23\" value=\"4032374\" />\n+      <int name=\"24\" value=\"4032378\" />\n     </imgdir>\n     <string name=\"episode\" value=\"Lv. :  4\\nForm : Plant\\nSpecial Trait : Vulnerable to Fire Attribute Attacks.\\n\\nA monster that resembles a tree stump that is most often found in grassy areas and the highlands. Its short legs that used to be the tree's roots move very slowly and the tree stump can only make weak attacks, but it is also surprisingly strong which makes beginners have to spend a long time to defeat this monster.\\nThe eye on this Stump often scares people, but the single eye will apparently shed a tear from time to time. This rare occasion serves as the origination of the people of Perion referring to valuables as the Tear of Stump. \" />\n   </imgdir>\n@@ -989,6 +997,8 @@\n       <int name=\"26\" value=\"4020005\" />\n       <int name=\"27\" value=\"4030000\" />\n       <int name=\"28\" value=\"4031273\" />\n+      <int name=\"29\" value=\"4032376\" />\n+      <int name=\"30\" value=\"4032377\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  6\\nForm : Spirit\\nSpecial Trait : Vulnerable to Electricity Attribute Attacks.\\n\\nA monster made of a gelatinous substance that uses its own viscosity to jump around everywhere. The cuteness of its look makes the Slime a beloved monster amongst adventurers, which is why you'll often come across all sorts of Slime paraphernalia such as hats and earrings that are being sold. When you hunt the Slime, you'll end up with small pockets of liquid which have a very pleasant apple scent. The scented liquid can be used in cooking as well! Sometimes, it will give the pompom on its head to the adventurers. \" />\n   </imgdir>\n@@ -1171,12 +1181,13 @@\n       <int name=\"21\" value=\"2381008\" />\n       <int name=\"22\" value=\"4000018\" />\n       <int name=\"23\" value=\"4000215\" />\n-      <int name=\"24\" value=\"4001367\" />\n-      <int name=\"25\" value=\"4006001\" />\n-      <int name=\"26\" value=\"4010001\" />\n-      <int name=\"27\" value=\"4020007\" />\n-      <int name=\"28\" value=\"4031153\" />\n-      <int name=\"29\" value=\"4031773\" />\n+      <int name=\"24\" value=\"4001344\" />\n+      <int name=\"25\" value=\"4001367\" />\n+      <int name=\"26\" value=\"4006001\" />\n+      <int name=\"27\" value=\"4010001\" />\n+      <int name=\"28\" value=\"4020007\" />\n+      <int name=\"29\" value=\"4031153\" />\n+      <int name=\"30\" value=\"4031773\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  22\\nForm : Plant\\nSpecial Trait : Vulnerable to Fire Attribute Attacks.\\n\\nA monster with an incredible legend behind it. This Dark Axe Stump is apparently the deeply agitated form of the Axe Stump who'd had an unresolved past life as a tree stump with an axe left in it by some lumberjack. The Dark Axe Stump, just like all the other members of the Stump family of monsters, is extremely strong and is capable of extreme attacks, so all beginners should be very very careful.\" />\n   </imgdir>\n@@ -10619,6 +10630,7 @@\n       <int name=\"49\" value=\"4004004\" />\n       <int name=\"50\" value=\"4010005\" />\n       <int name=\"51\" value=\"4020008\" />\n+      <int name=\"52\" value=\"4031789\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  77\\nForm : Mammal\\n\\nA wicked monster that lives in the Goblin Forest. It was a cat before it secretly mastered the magic that Mu Lung's trainees were studying in order to become virtuous masters. It considers Mu Lung's swordsmith, who instructs mental training, as its arch-nemesis. It dazzles the humans with its eloquence while riding a giant cloud, but remember that this Priest Cat is but a goblin inside.\" />\n   </imgdir>"}]}]},
