{"fetchDate": "2019-12-19", "content": [{"sha": "4beea3961583c832c9e7a98f8720fa7307653968", "node_id": "MDY6Q29tbWl0NDUwODIwMjM6NGJlZWEzOTYxNTgzYzgzMmM5ZTdhOThmODcyMGZhNzMwNzY1Mzk2OA==", "commit": {"author": {"name": "Li Jixue", "email": "emberd@163.com", "date": "2019-02-10T12:30:50Z"}, "committer": {"name": "Ronan Lana", "email": "rcpl2010@gmail.com", "date": "2019-02-10T12:30:50Z"}, "message": "fix the error when a monster's oid in map equals charId, (the item will drop from the error monster) (#400)\n\n(cherry picked from commit 5c1017c73d83b7bc646c36bdde2d7904af78a111)", "tree": {"sha": "c474ef39d83b88d8e78d69b75c4c5396d5eb7176", "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/trees/c474ef39d83b88d8e78d69b75c4c5396d5eb7176"}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/commits/4beea3961583c832c9e7a98f8720fa7307653968", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/4beea3961583c832c9e7a98f8720fa7307653968", "html_url": "https://github.com/ronancpl/HeavenMS/commit/4beea3961583c832c9e7a98f8720fa7307653968", "comments_url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/4beea3961583c832c9e7a98f8720fa7307653968/comments", "author": null, "committer": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1b32afb524c3ae83c0efd00a4f234229a0398c04", "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/1b32afb524c3ae83c0efd00a4f234229a0398c04", "html_url": "https://github.com/ronancpl/HeavenMS/commit/1b32afb524c3ae83c0efd00a4f234229a0398c04"}], "stats": {"total": 3, "additions": 2, "deletions": 1}, "files": [{"sha": "216f73e73a76c68c7aac20bb53e893dbf6090998", "filename": "src/tools/MaplePacketCreator.java", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/4beea3961583c832c9e7a98f8720fa7307653968/src/tools/MaplePacketCreator.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/4beea3961583c832c9e7a98f8720fa7307653968/src/tools/MaplePacketCreator.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/tools/MaplePacketCreator.java?ref=4beea3961583c832c9e7a98f8720fa7307653968", "patch": "@@ -1828,7 +1828,8 @@ private static void encodeParentlessMobSpawnEffect(MaplePacketLittleEndianWriter\n                 mplew.writeInt(!drop.isFFADrop() ? (recvrInParty ? drop.getPartyOwnerId() : drop.getOwnerId()) : 0); // owner charid/partyid :)\n                 mplew.write(drop.getDropType()); // 0 = timeout for non-owner, 1 = timeout for non-owner's party, 2 = FFA, 3 = explosive/FFA\n                 mplew.writePos(dropto);\n-                mplew.writeInt(!drop.isFFADrop() ? drop.getOwnerId() : 0); // owner charid\n+                // its not charId, but dropper's oid, this error will occur only if a monster's oid in map equals charId, (the item will drop from the error monster)\n+                mplew.writeInt(drop.getDropper().getObjectId());\n \n                 if (mod != 2) {\n                         mplew.writePos(dropfrom);"}]}]},
