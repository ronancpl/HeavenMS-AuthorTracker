{"fetchDate": "2019-12-19", "content": [{"sha": "dc73cb00de5035d07d32309e358642a85b4e88c7", "node_id": "MDY6Q29tbWl0NDUwODIwMjM6ZGM3M2NiMDBkZTUwMzVkMDdkMzIzMDllMzU4NjQyYTg1YjRlODhjNw==", "commit": {"author": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2018-12-22T02:12:13Z"}, "committer": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2018-12-22T02:12:13Z"}, "message": "Mob banish on touch + GMS-like cosmetics + Clear missing names\n\nFixed erroneous clean slate scroll block on equipments having certain properties.\nImplemented a log for bought cash items from Cash Shop.\nImplemented mob's player banish by touch (e. g. used by mobs from the Hypnotize quest).\nThoroughly revised stylist/surgeon NPCs, adding several missing GMS-like cosmetic contents.\nThoroughly revised String.wz names having missing item content throughout the WZ files.\nRevised missing name info for several faces throughout the WZ files.\nSolved a possible deadlock case related with a player vision's spawn object method.\nFixed an issue with \"Movement allowed only within account\" items being given as \"Untradeable\" by NPCs.\n\nHappy Holidays and Great New Year everyone!!!", "tree": {"sha": "e0afc7123783c9a99113d1252f88668dc7724f89", "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/trees/e0afc7123783c9a99113d1252f88668dc7724f89"}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/commits/dc73cb00de5035d07d32309e358642a85b4e88c7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/dc73cb00de5035d07d32309e358642a85b4e88c7", "html_url": "https://github.com/ronancpl/HeavenMS/commit/dc73cb00de5035d07d32309e358642a85b4e88c7", "comments_url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/dc73cb00de5035d07d32309e358642a85b4e88c7/comments", "author": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a2b8f22e6682ccdcb8dc737c44bd3cce26f7293c", "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/a2b8f22e6682ccdcb8dc737c44bd3cce26f7293c", "html_url": "https://github.com/ronancpl/HeavenMS/commit/a2b8f22e6682ccdcb8dc737c44bd3cce26f7293c"}], "stats": {"total": 15728, "additions": 12489, "deletions": 3239}, "files": [{"sha": "dd9b39182b2a69a02e4f47ea2a9f3c33c212b740", "filename": ".gitignore", "status": "modified", "additions": 16, "deletions": 4, "changes": 20, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/.gitignore", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/.gitignore", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/.gitignore?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -15,6 +15,14 @@\n /tools/MapleBossHpBarFetcher/dist/\n /tools/MapleBossHpBarFetcher/nbproject/\n \n+/tools/MapleCashCosmeticsChecker/build/\n+/tools/MapleCashCosmeticsChecker/dist/\n+/tools/MapleCashCosmeticsChecker/nbproject/\n+\n+/tools/MapleCashCosmeticsFetcher/build/\n+/tools/MapleCashCosmeticsFetcher/dist/\n+/tools/MapleCashCosmeticsFetcher/nbproject/\n+\n /tools/MapleCashDropFetcher/build/\n /tools/MapleCashDropFetcher/dist/\n /tools/MapleCashDropFetcher/nbproject/\n@@ -27,9 +35,13 @@\n /tools/MapleCouponInstaller/dist/\n /tools/MapleCouponInstaller/nbproject/\n \n-/tools/MapleDojoUpdate/build/\n-/tools/MapleDojoUpdate/dist/\n-/tools/MapleDojoUpdate/nbproject/\n+/tools/MapleDojoUpdater/build/\n+/tools/MapleDojoUpdater/dist/\n+/tools/MapleDojoUpdater/nbproject/\n+\n+/tools/MapleEmptyItemWzChecker/build/\n+/tools/MapleEmptyItemWzChecker/dist/\n+/tools/MapleEmptyItemWzChecker/nbproject/\n \n /tools/MapleEquipmentOmnileveler/build/\n /tools/MapleEquipmentOmnileveler/dist/\n@@ -100,4 +112,4 @@\n /tools/SpiderDropFetcher/nbproject/\n \n /out\n-*.onetoc2\n+*.onetoc2\n\\ No newline at end of file"}, {"sha": "bea3d980b2e29f0757dbe4a626966b4f421a2a3a", "filename": "docs/issues.txt", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/docs/issues.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/docs/issues.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/issues.txt?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -12,6 +12,7 @@ Known issues:\n - If there are multiple bosses that shows HPBar on the map, if a player hits more than one the HPBar may start flickering on the screen.\n - Sometimes battleship may behave oddly with the enhanced buff system, making the character d/c in certain scenarios.\n - Dragon Roar doesn't show the stun effect to players.\n+- Snipe will show much higher damage value than actually applicable to the attacker.\n - Some monster status such as freeze and weapon/magic reflect doesn't behave properly in certain scenarios. Freeze seems to not work on mobs with low OID or are starters from server boot time.\n - On low-end connections, things such as command summoning a player that is currently logging in (already visible to other players) may cause the player to freeze, consequently freezing the account as well since the server-side disconnection doesn't happen.\n - Reportedly, there are cases where mob positions fail to sync between player's client-view."}, {"sha": "20d681ed6cd500ca7d5a2c22f369b361a46da184", "filename": "docs/mychanges_ptbr.txt", "status": "modified", "additions": 27, "deletions": 1, "changes": 28, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/docs/mychanges_ptbr.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/docs/mychanges_ptbr.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mychanges_ptbr.txt?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -1504,4 +1504,30 @@ Corrigido sistema de server messages/boss HP bar n\u00e3o atuando de forma esperada\n Corrigido um problema com o gerador de code coupons, que levava em considera\u00e7\u00e3o hifens (\"-\") no c\u00f3digo do cupom, al\u00e9m de um problema de overflow na data de expira\u00e7\u00e3o.\n \n 03 Dezembro 2018,\n-Melhorado desenho do worldmap de Victoria, na regi\u00e3o do metro de Kerning.\n\\ No newline at end of file\n+Melhorado desenho do worldmap de Victoria, na regi\u00e3o do metro de Kerning.\n+\n+07 - 08 Dezembro 2018,\n+Corrigido clean slates n\u00e3o checando limites corretamente, levando a bloqueio de uso de clean slates em itens com certas propriedades.\n+Removido comando amb\u00edguo Mesos.\n+Corrigido limites inv\u00e1lidos no comando SetStat.\n+Implementado log em compra de itens de cash.\n+Implementado retorno ao stage 1 na questline Hypnotize ao tocar em mobs.\n+Implementado diversas novas ferramentas, que auxiliam na busca e processamento de itens cosm\u00e9ticos ainda n\u00e3o catalogados pelos NPCs estilistas/cirurgi\u00f5es.\n+Implementado e revisado scripts dos NPCs estilistas/cirurgi\u00f5es, adicionando itens cosm\u00e9ticos ainda n\u00e3o referenciados nos scripts.\n+Nova ferramenta: MapleEmptyItemWzChecker, cuja finalidade \u00e9 reportar itemids presentes nos arquivos Wz onde faltam registros de nome ou de propriedades.\n+Aplicado nova reformata\u00e7\u00e3o nos wzs de itens e strings. Removido possibilidade de itens sem nome ou dados nos arquivos, que poderiam levar potencialmente a quebras no cliente.\n+\n+09 - 12 Dezembro 2018,\n+Removido todas as op\u00e7\u00f5es de tingimento de cores em todas as cidades com sal\u00e3o de beleza. Agora possui um comportamento GMS-like.\n+Aplicado corre\u00e7\u00f5es nos nomes das faces em ambos String.wz e handbook.\n+Resolvido um poss\u00edvel caso de deadlock com a intera\u00e7\u00e3o de spawn de objetos para os jogadores no mapa.\n+Melhorado itens cosm\u00e9ticos dos NPCs estilistas/cirurgi\u00f5es, garantindo o uso de grande parte dos cosm\u00e9ticos dispon\u00edveis na fonte, enquanto seguindo o padr\u00e3o GMS-like.\n+\n+13 - 14 Dezembro 2018,\n+Corrigido possibilidade de mudan\u00e7a de face/cabelo podendo levar jogadores a adquirir itens inexistentes, invariavelmente tornando o personagem inacess\u00edvel.\n+Corrigido equipamentos labelados como \"somente movimenta\u00e7\u00e3o dentro da conta\" sendo incorretamente gerados com a flag de \"Untradeable\" tamb\u00e9m.\n+Corrigido comandos que transportam jogadores entre mapas n\u00e3o levando em considera\u00e7\u00e3o retorno ao mapa onde estavam antes do transporte, para os casos onde se espera retornar ao mapa anterior (e.g. FM's).\n+\n+21 Dezembro 2018,\n+Cosm\u00e9ticos j\u00e1 usados pelo jogador n\u00e3o est\u00e3o mais dispon\u00edveis nos estilistas/cirurgi\u00f5es.\n+Corrigido alguns itens est\u00e9ticos n\u00e3o sendo devidamente disponibilizados se jogadores usam algum cosm\u00e9tico de cor n\u00e3o-default.\n\\ No newline at end of file"}, {"sha": "e428bcfab0bba183c6be2bd7fc505b82f01cf8d8", "filename": "handbook/Equip/Face.txt", "status": "modified", "additions": 509, "deletions": 509, "changes": 1018, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/handbook/Equip/Face.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/handbook/Equip/Face.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/handbook/Equip/Face.txt?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -1,540 +1,540 @@\n-20000 - Male 1 (Black) - (no description)\n-20001 - Male 2 (Black) - (no description)\n+20000 - Motivated Look (Black) - (no description)\n+20001 - Perplexed Stare (Black) - (no description)\n 20002 - Leisure Look (Black) - (no description)\n-20003 - Male 4 (Black) - (no description)\n-20004 - Male 5 (Black) - (no description)\n-20005 - Male 6 (Black) - (no description)\n-20006 - Male 7 (Black) - (no description)\n-20007 - Male 8 (Black) - (no description)\n-20008 - Male 9 (Black) - (no description)\n-20009 - Male JP (Black) - (no description)\n-20010 - Male JP (Black) - (no description)\n-20011 - Male JP (Black) - (no description)\n-20012 - Male 10 (Black) - (no description)\n-20013 - Male JP (Black) - (no description)\n-20014 - Male 11 (Black) - (no description)\n-20016 - Male Face 12 - (no description)\n-20017 - Male Face 14 - (no description)\n-20018 - Male 12 (Black) - (no description)\n-20019 - Male 13 (Black) - (no description)\n+20003 - Dramatic Face (Black) - (no description)\n+20004 - Rebel's Fire (Black) - (no description)\n+20005 - Alert Face (Black) - (no description)\n+20006 - Babyface Pout (Black) - (no description)\n+20007 - Sad Innocence (Black) - (no description)\n+20008 - Worrisome Glare (Black) - (no description)\n+20009 - Smart Aleck (Black) - (no description)\n+20010 - Anger's Blaze (Black) - (no description)\n+20011 - Cool Guy Gaze (Black) - (no description)\n+20012 - Curious Dog (Black) - (no description)\n+20013 - Insomniac Daze (Black) - (no description)\n+20014 - Look of Wonder (Black) - (no description)\n+20015 - Eye of the Lion (Black) - (no description)\n+20016 - Ghostface Stare (Black) - (no description)\n+20017 - Demure Poise (Black) - (no description)\n+20018 - Champion Focus (Black) - (no description)\n+20019 - Irritable Face (Black) - (no description)\n 20020 - Fierce Edge (Black) - (no description)\n-20021 - Male Face JP - (no description)\n-20022 - Male Face 16 - (no description)\n-20023 - malefaceGL(Black) - (no description)\n-20024 - Awakening (Black) - (no description)\n-20100 - Male 1 (Blue) - (no description)\n-20101 - Male 2 (Blue) - (no description)\n+20021 - Overjoyed Smile (Black) - (no description)\n+20022 - Child's Play (Black) - (no description)\n+20023 - Hypnotized Look (Black) - (no description)\n+20024 - Intense Stare (Black) - (no description)\n+20025 - Edge of Emotion (Black) - (no description)\n+20026 - Shuteye (Black) - (no description)\n+20027 - Pensive Look (Black) - (no description)\n+20028 - Sarcastic Face (Black) - (no description)\n+20029 - Shade of Cool (Black) - (no description)\n+20031 - Fearful Glance (Black) - (no description)\n+20032 - Undecided Face (Black) - (no description)\n+20100 - Motivated Look (Blue) - (no description)\n+20101 - Perplexed Stare (Blue) - (no description)\n 20102 - Leisure Look (Blue) - (no description)\n-20103 - Male 4 (Blue) - (no description)\n-20015 - Male 15 - (no description)\n-20115 - Male 15 - (no description)\n-20215 - Male 15 - (no description)\n-20315 - Male 15 - (no description)\n-20415 - Male 15 - (no description)\n-20515 - Male 15 - (no description)\n-20615 - Male 15 - (no description)\n-20715 - Male 15 - (no description)\n-20104 - Male 5 (Blue) - (no description)\n-20105 - Male 6 (Blue) - (no description)\n-20106 - Male 7 (Blue) - (no description)\n-20107 - Male 8 (Blue) - (no description)\n-20108 - Male 9 (Blue) - (no description)\n-20109 - Male JP (Blue) - (no description)\n-20110 - Male JP (Blue) - (no description)\n-20111 - Male JP (Blue) - (no description)\n-20112 - Male 10 (Blue) - (no description)\n-20113 - Male JP (Blue) - (no description)\n-20114 - Male 11 (Blue) - (no description)\n-20116 - Male Face 12 - (no description)\n-20117 - Male Face 14 - (no description)\n-20118 - Male 12 (Blue) - (no description)\n-20119 - Male 13 (Blue) - (no description)\n+20103 - Dramatic Face (Blue) - (no description)\n+20104 - Rebel's Fire (Blue) - (no description)\n+20105 - Alert Face (Blue) - (no description)\n+20106 - Babyface Pout (Blue) - (no description)\n+20107 - Sad Innocence (Blue) - (no description)\n+20108 - Worrisome Glare (Blue) - (no description)\n+20109 - Smart Aleck (Blue) - (no description)\n+20110 - Anger's Blaze (Blue) - (no description)\n+20111 - Cool Guy Gaze (Blue) - (no description)\n+20112 - Curious Dog (Blue) - (no description)\n+20113 - Insomniac Daze (Blue) - (no description)\n+20114 - Look of Wonder (Blue) - (no description)\n+20115 - Eye of the Lion (Blue) - (no description)\n+20116 - Ghostface Stare (Blue) - (no description)\n+20117 - Demure Poise (Blue) - (no description)\n+20118 - Champion Focus (Blue) - (no description)\n+20119 - Irritable Face (Blue) - (no description)\n 20120 - Fierce Edge (Blue) - (no description)\n-20121 - Male Face JP - (no description)\n-20122 - Male Face 16(Blue Eyes) - (no description)\n-20123 - malefaceGL(Blue) - (no description)\n-20124 - Awakening (Blue) - (no description)\n-20200 - Male 1 (Red) - (no description)\n-20201 - Male 2 (Red) - (no description)\n+20121 - Overjoyed Smile (Blue) - (no description)\n+20122 - Child's Play (Blue) - (no description)\n+20123 - Hypnotized Look (Blue) - (no description)\n+20124 - Intense Stare (Blue) - (no description)\n+20125 - Edge of Emotion (Blue) - (no description)\n+20126 - Shuteye (Blue) - (no description)\n+20127 - Pensive Look (Blue) - (no description)\n+20128 - Sarcastic Face (Blue) - (no description)\n+20129 - Shade of Cool (Blue) - (no description)\n+20131 - Fearful Glance (Blue) - (no description)\n+20132 - Undecided Face (Blue) - (no description)\n+20200 - Motivated Look (Red) - (no description)\n+20201 - Perplexed Stare (Red) - (no description)\n 20202 - Leisure Look (Red) - (no description)\n-20203 - Male 4 (Red) - (no description)\n-20204 - Male 5 (Red) - (no description)\n-20205 - Male 6 (Red) - (no description)\n-20206 - Male 7 (Red) - (no description)\n-20207 - Male 8 (Red) - (no description)\n-20208 - Male 9 (Red) - (no description)\n-20209 - Male JP (Red) - (no description)\n-20210 - Male JP (Red) - (no description)\n-20211 - Male JP (Red) - (no description)\n-20212 - Male 10 (Red) - (no description)\n-20213 - Male JP (Red) - (no description)\n-20214 - Male 11 (Red) - (no description)\n-20216 - Male Face 12 - (no description)\n-20217 - Male Face 14 - (no description)\n-20218 - Male 12 (Red) - (no description)\n-20219 - Male 13 (Red) - (no description)\n+20203 - Dramatic Face (Red) - (no description)\n+20204 - Rebel's Fire (Red) - (no description)\n+20205 - Alert Face (Red) - (no description)\n+20206 - Babyface Pout (Red) - (no description)\n+20207 - Sad Innocence (Red) - (no description)\n+20208 - Worrisome Glare (Red) - (no description)\n+20209 - Smart Aleck (Red) - (no description)\n+20210 - Anger's Blaze (Red) - (no description)\n+20211 - Cool Guy Gaze (Red) - (no description)\n+20212 - Curious Dog (Red) - (no description)\n+20213 - Insomniac Daze (Red) - (no description)\n+20214 - Look of Wonder (Red) - (no description)\n+20215 - Eye of the Lion (Red) - (no description)\n+20216 - Ghostface Stare (Red) - (no description)\n+20217 - Demure Poise (Red) - (no description)\n+20218 - Champion Focus (Red) - (no description)\n+20219 - Irritable Face (Red) - (no description)\n 20220 - Fierce Edge (Red) - (no description)\n-20221 - Male Face JP - (no description)\n-20222 - Male Face 16(Red Eyes) - (no description)\n-20223 - malefaceGL(Red) - (no description)\n-20224 - Awakening (Red) - (no description)\n-20300 - Male 1 (Green) - (no description)\n-20301 - Male 2 (Green) - (no description)\n+20221 - Overjoyed Smile (Red) - (no description)\n+20222 - Child's Play (Red) - (no description)\n+20223 - Hypnotized Look (Red) - (no description)\n+20224 - Intense Stare (Red) - (no description)\n+20225 - Edge of Emotion (Red) - (no description)\n+20226 - Shuteye (Red) - (no description)\n+20227 - Pensive Look (Red) - (no description)\n+20228 - Sarcastic Face (Red) - (no description)\n+20229 - Shade of Cool (Red) - (no description)\n+20231 - Fearful Glance (Red) - (no description)\n+20232 - Undecided Face (Red) - (no description)\n+20300 - Motivated Look (Green) - (no description)\n+20301 - Perplexed Stare (Green) - (no description)\n 20302 - Leisure Look (Green) - (no description)\n-20303 - Male 4 (Green) - (no description)\n-20304 - Male 5 (Green) - (no description)\n-20305 - Male 6 (Green) - (no description)\n-20306 - Male 7 (Green) - (no description)\n-20307 - Male 8 (Green) - (no description)\n-20308 - Male 9 (Green) - (no description)\n-20309 - Male JP (Green) - (no description)\n-20310 - Male JP (Green) - (no description)\n-20311 - Male JP (Green) - (no description)\n-20312 - Male 10 (Green) - (no description)\n-20313 - Male JP (Green) - (no description)\n-20314 - Male 11 (Green) - (no description)\n-20316 - Male Face 12 - (no description)\n-20317 - Male Face 14 - (no description)\n-20318 - Male 12 (Green) - (no description)\n-20319 - Male 13 (Green) - (no description)\n+20303 - Dramatic Face (Green) - (no description)\n+20304 - Rebel's Fire (Green) - (no description)\n+20305 - Alert Face (Green) - (no description)\n+20306 - Babyface Pout (Green) - (no description)\n+20307 - Sad Innocence (Green) - (no description)\n+20308 - Worrisome Glare (Green) - (no description)\n+20309 - Smart Aleck (Green) - (no description)\n+20310 - Anger's Blaze (Green) - (no description)\n+20311 - Cool Guy Gaze (Green) - (no description)\n+20312 - Curious Dog (Green) - (no description)\n+20313 - Insomniac Daze (Green) - (no description)\n+20314 - Look of Wonder (Green) - (no description)\n+20315 - Eye of the Lion (Green) - (no description)\n+20316 - Ghostface Stare (Green) - (no description)\n+20317 - Demure Poise (Green) - (no description)\n+20318 - Champion Focus (Green) - (no description)\n+20319 - Irritable Face (Green) - (no description)\n 20320 - Fierce Edge (Green) - (no description)\n-20321 - Male Face JP - (no description)\n-20322 - Male Face 16(Green Eyes) - (no description)\n-20323 - malefaceGL(Green) - (no description)\n-20324 - Awakening (Green) - (no description)\n-20400 - Male 1 (Hazel) - (no description)\n-20401 - Male 2 (Hazel) - (no description)\n+20321 - Overjoyed Smile (Green) - (no description)\n+20322 - Child's Play (Green) - (no description)\n+20323 - Hypnotized Look (Green) - (no description)\n+20324 - Intense Stare (Green) - (no description)\n+20325 - Edge of Emotion (Green) - (no description)\n+20326 - Shuteye (Green) - (no description)\n+20327 - Pensive Look (Green) - (no description)\n+20328 - Sarcastic Face (Green) - (no description)\n+20329 - Shade of Cool (Green) - (no description)\n+20331 - Fearful Glance (Green) - (no description)\n+20332 - Undecided Face (Green) - (no description)\n+20400 - Motivated Look (Hazel) - (no description)\n+20401 - Perplexed Stare (Hazel) - (no description)\n 20402 - Leisure Look (Hazel) - (no description)\n-20403 - Male 4 (Hazel) - (no description)\n-20404 - Male 5 (Hazel) - (no description)\n-20405 - Male 6 (Hazel) - (no description)\n-20406 - Male 7 (Hazel) - (no description)\n-20407 - Male 8 (Hazel) - (no description)\n-20408 - Male 9 (Hazel) - (no description)\n-20409 - Male JP (Hazel) - (no description)\n-20410 - Male JP (Hazel) - (no description)\n-20411 - Male JP (Hazel) - (no description)\n-20412 - Male 10 (Hazel) - (no description)\n-20413 - Male JP (Hazel) - (no description)\n-20414 - Male 11 (Hazel) - (no description)\n-20416 - Male Face 12 - (no description)\n-20417 - Male Face 14 - (no description)\n-20418 - Male 12 (Hazel) - (no description)\n-20419 - Male 13 (Hazel) - (no description)\n+20403 - Dramatic Face (Hazel) - (no description)\n+20404 - Rebel's Fire (Hazel) - (no description)\n+20405 - Alert Face (Hazel) - (no description)\n+20406 - Babyface Pout (Hazel) - (no description)\n+20407 - Sad Innocence (Hazel) - (no description)\n+20408 - Worrisome Glare (Hazel) - (no description)\n+20409 - Smart Aleck (Hazel) - (no description)\n+20410 - Anger's Blaze (Hazel) - (no description)\n+20411 - Cool Guy Gaze (Hazel) - (no description)\n+20412 - Curious Dog (Hazel) - (no description)\n+20413 - Insomniac Daze (Hazel) - (no description)\n+20414 - Look of Wonder (Hazel) - (no description)\n+20415 - Eye of the Lion (Hazel) - (no description)\n+20416 - Ghostface Stare (Hazel) - (no description)\n+20417 - Demure Poise (Hazel) - (no description)\n+20418 - Champion Focus (Hazel) - (no description)\n+20419 - Irritable Face (Hazel) - (no description)\n 20420 - Fierce Edge (Hazel) - (no description)\n-20421 - Male Face JP - (no description)\n-20422 - Male Face 16(Brown Eyes) - (no description)\n-20423 - malefaceGL(Hazel) - (no description)\n-20424 - Awakening (Hazel) - (no description)\n-20500 - Male 1 (Sapphire) - (no description)\n-20501 - Male 2 (Sapphire) - (no description)\n+20421 - Overjoyed Smile (Hazel) - (no description)\n+20422 - Child's Play (Hazel) - (no description)\n+20423 - Hypnotized Look (Hazel) - (no description)\n+20424 - Intense Stare (Hazel) - (no description)\n+20425 - Edge of Emotion (Hazel) - (no description)\n+20426 - Shuteye (Hazel) - (no description)\n+20427 - Pensive Look (Hazel) - (no description)\n+20428 - Sarcastic Face (Hazel) - (no description)\n+20429 - Shade of Cool (Hazel) - (no description)\n+20431 - Fearful Glance (Hazel) - (no description)\n+20432 - Undecided Face (Hazel) - (no description)\n+20500 - Motivated Look (Sapphire) - (no description)\n+20501 - Perplexed Stare (Sapphire) - (no description)\n 20502 - Leisure Look (Sapphire) - (no description)\n-20503 - Male 4 (Sapphire) - (no description)\n-20504 - Male 5 (Sapphire) - (no description)\n-20505 - Male 6 (Sapphire) - (no description)\n-20506 - Male 7 (Sapphire) - (no description)\n-20507 - Male 8 (Sapphire) - (no description)\n-20508 - Male 9 (Sapphire) - (no description)\n-20509 - Male JP (Sapphire) - (no description)\n-20510 - Male JP (Sapphire) - (no description)\n-20511 - Male JP (Sapphire) - (no description)\n-20512 - Male 10 (Sapphire) - (no description)\n-20513 - Male JP (Sapphire) - (no description)\n-20514 - Male 11 (Sapphire) - (no description)\n-20516 - Male Face 12 - (no description)\n-20517 - Male Face 14 - (no description)\n-20518 - Male 12 (Sapphire) - (no description)\n-20519 - Male 13 (Sapphire) - (no description)\n+20503 - Dramatic Face (Sapphire) - (no description)\n+20504 - Rebel's Fire (Sapphire) - (no description)\n+20505 - Alert Face (Sapphire) - (no description)\n+20506 - Babyface Pout (Sapphire) - (no description)\n+20507 - Sad Innocence (Sapphire) - (no description)\n+20508 - Worrisome Glare (Sapphire) - (no description)\n+20509 - Smart Aleck (Sapphire) - (no description)\n+20510 - Anger's Blaze (Sapphire) - (no description)\n+20511 - Cool Guy Gaze (Sapphire) - (no description)\n+20512 - Curious Dog (Sapphire) - (no description)\n+20513 - Insomniac Daze (Sapphire) - (no description)\n+20514 - Look of Wonder (Sapphire) - (no description)\n+20515 - Eye of the Lion (Sapphire) - (no description)\n+20516 - Ghostface Stare (Sapphire) - (no description)\n+20517 - Demure Poise (Sapphire) - (no description)\n+20518 - Champion Focus (Sapphire) - (no description)\n+20519 - Irritable Face (Sapphire) - (no description)\n 20520 - Fierce Edge (Sapphire) - (no description)\n-20521 - Male Face JP - (no description)\n-20522 - Male Face 16(Sapphire Eyes) - (no description)\n-20523 - malefaceGL(Sapphire) - (no description)\n-20524 - Awakening (Sapphire) - (no description)\n-20600 - Male 1 (Violet) - (no description)\n-20601 - Male 2 (Violet) - (no description)\n+20521 - Overjoyed Smile (Sapphire) - (no description)\n+20522 - Child's Play (Sapphire) - (no description)\n+20523 - Hypnotized Look (Sapphire) - (no description)\n+20524 - Intense Stare (Sapphire) - (no description)\n+20525 - Edge of Emotion (Sapphire) - (no description)\n+20526 - Shuteye (Sapphire) - (no description)\n+20527 - Pensive Look (Sapphire) - (no description)\n+20528 - Sarcastic Face (Sapphire) - (no description)\n+20529 - Shade of Cool (Sapphire) - (no description)\n+20531 - Fearful Glance (Sapphire) - (no description)\n+20532 - Undecided Face (Sapphire) - (no description)\n+20600 - Motivated Look (Violet) - (no description)\n+20601 - Perplexed Stare (Violet) - (no description)\n 20602 - Leisure Look (Violet) - (no description)\n-20603 - Male 4 (Violet) - (no description)\n-20604 - Male 5 (Violet) - (no description)\n-20605 - Male 6 (Violet) - (no description)\n-20606 - Male 7 (Violet) - (no description)\n-20607 - Male 8 (Violet) - (no description)\n-20608 - Male 9 (Violet) - (no description)\n-20609 - Male JP (Violet) - (no description)\n-20610 - Male JP (Violet) - (no description)\n-20611 - Male JP (Violet) - (no description)\n-20612 - Male 10 (Violet) - (no description)\n-20613 - Male JP (Violet) - (no description)\n-20614 - Male 11 (Violet) - (no description)\n-20616 - Male Face 12 - (no description)\n-20617 - Male Face 14 - (no description)\n-20618 - Male 12 (Violet) - (no description)\n-20619 - Male 13 (Violet) - (no description)\n+20603 - Dramatic Face (Violet) - (no description)\n+20604 - Rebel's Fire (Violet) - (no description)\n+20605 - Alert Face (Violet) - (no description)\n+20606 - Babyface Pout (Violet) - (no description)\n+20607 - Sad Innocence (Violet) - (no description)\n+20608 - Worrisome Glare (Violet) - (no description)\n+20609 - Smart Aleck (Violet) - (no description)\n+20610 - Anger's Blaze (Violet) - (no description)\n+20611 - Cool Guy Gaze (Violet) - (no description)\n+20612 - Curious Dog (Violet) - (no description)\n+20613 - Insomniac Daze (Violet) - (no description)\n+20614 - Look of Wonder (Violet) - (no description)\n+20615 - Eye of the Lion (Violet) - (no description)\n+20616 - Ghostface Stare (Violet) - (no description)\n+20617 - Demure Poise (Violet) - (no description)\n+20618 - Champion Focus (Violet) - (no description)\n+20619 - Irritable Face (Violet) - (no description)\n 20620 - Fierce Edge (Violet) - (no description)\n-20621 - Male Face JP - (no description)\n-20622 - Male Face 16(Violet Eyes) - (no description)\n-20623 - malefaceGL(Violet) - (no description)\n-20624 - Awakening (Violet) - (no description)\n-20700 - Male 1 (Amethyst) - (no description)\n-20701 - Male 2 (Amethyst) - (no description)\n+20621 - Overjoyed Smile (Violet) - (no description)\n+20622 - Child's Play (Violet) - (no description)\n+20623 - Hypnotized Look (Violet) - (no description)\n+20624 - Intense Stare (Violet) - (no description)\n+20625 - Edge of Emotion (Violet) - (no description)\n+20626 - Shuteye (Violet) - (no description)\n+20627 - Pensive Look (Violet) - (no description)\n+20628 - Sarcastic Face (Violet) - (no description)\n+20629 - Shade of Cool (Violet) - (no description)\n+20631 - Fearful Glance (Violet) - (no description)\n+20632 - Undecided Face (Violet) - (no description)\n+20700 - Motivated Look (Amethyst) - (no description)\n+20701 - Perplexed Stare (Amethyst) - (no description)\n 20702 - Leisure Look (Amethyst) - (no description)\n-20703 - Male 4 (Amethyst) - (no description)\n-20704 - Male 5 (Amethyst) - (no description)\n-20705 - Male 6 (Amethyst) - (no description)\n-20706 - Male 7 (Amethyst) - (no description)\n-20707 - Male 8 (Amethyst) - (no description)\n-20708 - Male 9 (Amethyst) - (no description)\n-20709 - Male JP (Amethyst) - (no description)\n-20710 - Male JP (Amethyst) - (no description)\n-20711 - Male JP (Amethyst) - (no description)\n-20712 - Male 10 (Amethyst) - (no description)\n-20713 - Male JP (Amethyst) - (no description)\n-20714 - Male 11 (Amethyst) - (no description)\n-20716 - Male Face 12 - (no description)\n-20717 - Male Face 14 - (no description)\n-20718 - Male 12 (Amethyst) - (no description)\n-20719 - Male 13 (Amethyst) - (no description)\n+20703 - Dramatic Face (Amethyst) - (no description)\n+20704 - Rebel's Fire (Amethyst) - (no description)\n+20705 - Alert Face (Amethyst) - (no description)\n+20706 - Babyface Pout (Amethyst) - (no description)\n+20707 - Sad Innocence (Amethyst) - (no description)\n+20708 - Worrisome Glare (Amethyst) - (no description)\n+20709 - Smart Aleck (Amethyst) - (no description)\n+20710 - Anger's Blaze (Amethyst) - (no description)\n+20711 - Cool Guy Gaze (Amethyst) - (no description)\n+20712 - Curious Dog (Amethyst) - (no description)\n+20713 - Insomniac Daze (Amethyst) - (no description)\n+20714 - Look of Wonder (Amethyst) - (no description)\n+20715 - Eye of the Lion (Amethyst) - (no description)\n+20716 - Ghostface Stare (Amethyst) - (no description)\n+20717 - Demure Poise (Amethyst) - (no description)\n+20718 - Champion Focus (Amethyst) - (no description)\n+20719 - Irritable Face (Amethyst) - (no description)\n 20720 - Fierce Edge (Amethyst) - (no description)\n-20721 - Male Face JP - (no description)\n-20722 - Male Face 16(Amethyst Eyes) - (no description)\n-20723 - malefaceGL(Amethyst) - (no description)\n-20724 - Awakening (Amethyst) - (no description)\n-21000 - Female 1 (Black) - (no description)\n-21001 - Female 2 (Black) - (no description)\n-21002 - Female 3 (Black) - (no description)\n-21003 - Female 4 (Black) - (no description)\n-21004 - Female 5 (Black) - (no description)\n-21005 - Female 6 (Black) - (no description)\n-21006 - Female 7 (Black) - (no description)\n-21007 - Female 8 (Black) - (no description)\n-21008 - Female 9 (Black) - (no description)\n-21009 - Female JP (Black) - (no description)\n-21010 - Female JP (Black) - (no description)\n-21011 - Female JP (Black) - (no description)\n-21012 - Female 10 (Black) - (no description)\n-21013 - Female JP (Black) - (no description)\n-21014 - Female 11 (Black) - (no description)\n-21016 - Female Face 12 - (no description)\n-21017 - Female Face 14 - (no description)\n+20721 - Overjoyed Smile (Amethyst) - (no description)\n+20722 - Child's Play (Amethyst) - (no description)\n+20723 - Hypnotized Look (Amethyst) - (no description)\n+20724 - Intense Stare (Amethyst) - (no description)\n+20725 - Edge of Emotion (Amethyst) - (no description)\n+20726 - Shuteye (Amethyst) - (no description)\n+20727 - Pensive Look (Amethyst) - (no description)\n+20728 - Sarcastic Face (Amethyst) - (no description)\n+20729 - Shade of Cool (Amethyst) - (no description)\n+20731 - Fearful Glance (Amethyst) - (no description)\n+20732 - Undecided Face (Amethyst) - (no description)\n+20800 - Motivated Look (White) - (no description)\n+20801 - Perplexed Stare (White) - (no description)\n+20802 - Leisure Look (White) - (no description)\n+20803 - Dramatic Face (White) - (no description)\n+20804 - Rebel's Fire (White) - (no description)\n+20805 - Alert Face (White) - (no description)\n+20806 - Babyface Pout (White) - (no description)\n+20807 - Sad Innocence (White) - (no description)\n+20808 - Worrisome Glare (White) - (no description)\n+20809 - Smart Aleck (White) - (no description)\n+20810 - Anger's Blaze (White) - (no description)\n+20811 - Cool Guy Gaze (White) - (no description)\n+20812 - Curious Dog (White) - (no description)\n+20813 - Insomniac Daze (White) - (no description)\n+20814 - Look of Wonder (White) - (no description)\n+20816 - Ghostface Stare (White) - (no description)\n+20817 - Demure Poise (White) - (no description)\n+20818 - Champion Focus (White) - (no description)\n+20819 - Irritable Face (White) - (no description)\n+20820 - Fierce Edge (White) - (no description)\n+20821 - Overjoyed Smile (White) - (no description)\n+20822 - Child's Play (White) - (no description)\n+20823 - Hypnotized Look (White) - (no description)\n+20824 - Intense Stare (White) - (no description)\n+20826 - Shuteye (White) - (no description)\n+20828 - Sarcastic Face (White) - (no description)\n+21000 - Motivated Look (Black) - (no description)\n+21001 - Fearful Stare (Black) - (no description)\n+21002 - Leisure Look (Black) - (no description)\n+21003 - Strong Stare (Black) - (no description)\n+21004 - Angel Glow (Black) - (no description)\n+21005 - Babyface Pout (Black) - (no description)\n+21006 - Pucker Up Face (Black) - (no description)\n+21007 - Dollface Look (Black) - (no description)\n+21008 - Hopeless Gaze (Black) - (no description)\n+21009 - Look of Death (Black) - (no description)\n+21010 - Wisdom Glance (Black) - (no description)\n+21011 - Hypnotized Look (Black) - (no description)\n+21012 - Soul's Window (Black) - (no description)\n+21013 - Wide-eyed Girl (Black) - (no description)\n+21014 - Curious Look (Black) - (no description)\n+21016 - Beauty Stare (Black) - (no description)\n+21017 - Demure Poise Eyes (Black) - (no description)\n 21018 - Athena's Grace (Black) - (no description)\n-21019 - Hera's Radiance (Black)  - (no description)\n-21020 - Female Face 13 - (no description)\n-21021 - Compassion's Countenance (Black) - (no description)\n-21022 - femalefaceGL(Black) - (no description)\n-21024 - Leisure Look (Black) - (no description)\n-21100 - Female 1 (Blue) - (no description)\n-21101 - Female 2 (Blue) - (no description)\n-21102 - Female 3 (Blue) - (no description)\n-21103 - Female 4 (Blue) - (no description)\n-21104 - Female 5 (Blue) - (no description)\n-21105 - Female 6 (Blue) - (no description)\n-21106 - Female 7 (Blue) - (no description)\n-21107 - Female 8 (Blue) - (no description)\n-21108 - Female 9 (Blue) - (no description)\n-21109 - Female JP (Blue) - (no description)\n-21110 - Female JP (Blue) - (no description)\n-21111 - Female JP (Blue) - (no description)\n-21112 - Female 10 (Blue) - (no description)\n-21113 - Female JP (Blue) - (no description)\n-21114 - Female 11 (Blue) - (no description)\n-21116 - Female Face 12 - (no description)\n-21117 - Female Face 14 - (no description)\n+21019 - Hera's Radiance (Black) - (no description)\n+21020 - Gentle Glow (Black) - (no description)\n+21021 - Compassion Look (Black) - (no description)\n+21022 - Glitzy Face (Black) - (no description)\n+21023 - Innocent Look (Black) - (no description)\n+21024 - Keen Look (Black) - (no description)\n+21025 - Shuteye (Black) - (no description)\n+21026 - Tender Love (Black) - (no description)\n+21027 - Glamorous Edge (Black) - (no description)\n+21029 - Kitty Cat (Black) - (no description)\n+21030 - Poker Face (Black) - (no description)\n+21100 - Motivated Look (Blue) - (no description)\n+21101 - Fearful Stare (Blue) - (no description)\n+21102 - Leisure Look (Blue) - (no description)\n+21103 - Strong Stare (Blue) - (no description)\n+21104 - Angel Glow (Blue) - (no description)\n+21105 - Babyface Pout (Blue) - (no description)\n+21106 - Pucker Up Face (Blue) - (no description)\n+21107 - Dollface Look (Blue) - (no description)\n+21108 - Hopeless Gaze (Blue) - (no description)\n+21109 - Look of Death (Blue) - (no description)\n+21110 - Wisdom Glance (Blue) - (no description)\n+21111 - Hypnotized Look (Blue) - (no description)\n+21112 - Soul's Window (Blue) - (no description)\n+21113 - Wide-eyed Girl (Blue) - (no description)\n+21114 - Curious Look (Blue) - (no description)\n+21116 - Beauty Stare (Blue) - (no description)\n+21117 - Demure Poise Eyes (Blue) - (no description)\n 21118 - Athena's Grace (Blue) - (no description)\n 21119 - Hera's Radiance (Blue) - (no description)\n-21120 - Female Face 13 - (no description)\n-21121 - Compassion's Countenance (Blue) - (no description)\n-21122 - femalefaceGL(Blue) - (no description)\n-21124 - Leisure Look (Blue) - (no description)\n-21200 - Female 1 (Red) - (no description)\n-21201 - Female 2 (Red) - (no description)\n-21202 - Female 3 (Red) - (no description)\n-21203 - Female 4 (Red) - (no description)\n-21204 - Female 5 (Red) - (no description)\n-21205 - Female 6 (Red) - (no description)\n-21206 - Female 7 (Red) - (no description)\n-21207 - Female 8 (Red) - (no description)\n-21208 - Female 9 (Red) - (no description)\n-21209 - Female JP (Red) - (no description)\n-21210 - Female JP (Red) - (no description)\n-21211 - Female JP (Red) - (no description)\n-21212 - Female 10 (Red) - (no description)\n-21213 - Female JP (Red) - (no description)\n-21214 - Female 11 (Red) - (no description)\n-21216 - Female Face 12 - (no description)\n-21217 - Female Face 14 - (no description)\n+21120 - Gentle Glow (Blue) - (no description)\n+21121 - Compassion Look (Blue) - (no description)\n+21122 - Glitzy Face (Blue) - (no description)\n+21123 - Innocent Look (Blue) - (no description)\n+21124 - Keen Look (Blue) - (no description)\n+21125 - Shuteye (Blue) - (no description)\n+21126 - Tender Love (Blue) - (no description)\n+21127 - Glamorous Edge (Blue) - (no description)\n+21129 - Kitty Cat (Blue) - (no description)\n+21130 - Poker Face (Blue) - (no description)\n+21200 - Motivated Look (Red) - (no description)\n+21201 - Fearful Stare (Red) - (no description)\n+21202 - Leisure Look (Red) - (no description)\n+21203 - Strong Stare (Red) - (no description)\n+21204 - Angel Glow (Red) - (no description)\n+21205 - Babyface Pout (Red) - (no description)\n+21206 - Pucker Up Face (Red) - (no description)\n+21207 - Dollface Look (Red) - (no description)\n+21208 - Hopeless Gaze (Red) - (no description)\n+21209 - Look of Death (Red) - (no description)\n+21210 - Wisdom Glance (Red) - (no description)\n+21211 - Hypnotized Look (Red) - (no description)\n+21212 - Soul's Window (Red) - (no description)\n+21213 - Wide-eyed Girl (Red) - (no description)\n+21214 - Curious Look (Red) - (no description)\n+21216 - Beauty Stare (Red) - (no description)\n+21217 - Demure Poise Eyes (Red) - (no description)\n 21218 - Athena's Grace (Red) - (no description)\n-21219 - Hera's Radiance(Red) - (no description)\n-21220 - Female Face 13 - (no description)\n-21221 - Compassion's Countenance (Red) - (no description)\n-21222 - femalefaceGL(Red) - (no description)\n-21224 - Leisure Look (Red) - (no description)\n-21300 - Female 1 (Green) - (no description)\n-21301 - Female 2 (Green) - (no description)\n-21302 - Female 3 (Green) - (no description)\n-21303 - Female 4 (Green) - (no description)\n-21304 - Female 5 (Green) - (no description)\n-21305 - Female 6 (Green) - (no description)\n-21306 - Female 7 (Green) - (no description)\n-21307 - Female 8 (Green) - (no description)\n-21308 - Female 9 (Green) - (no description)\n-21309 - Female JP (Green) - (no description)\n-21310 - Female JP (Green) - (no description)\n-21311 - Female JP (Green) - (no description)\n-21312 - Female 10 (Green) - (no description)\n-21313 - Female JP (Green) - (no description)\n-21314 - Female 11 (Green) - (no description)\n-21316 - Female Face 12 - (no description)\n-21317 - Female Face 14 - (no description)\n+21219 - Hera's Radiance (Red) - (no description)\n+21220 - Gentle Glow (Red) - (no description)\n+21221 - Compassion Look (Red) - (no description)\n+21222 - Glitzy Face (Red) - (no description)\n+21223 - Innocent Look (Red) - (no description)\n+21224 - Keen Look (Red) - (no description)\n+21225 - Shuteye (Red) - (no description)\n+21226 - Tender Love (Red) - (no description)\n+21227 - Glamorous Edge (Red) - (no description)\n+21229 - Kitty Cat (Red) - (no description)\n+21230 - Poker Face (Red) - (no description)\n+21300 - Motivated Look (Green) - (no description)\n+21301 - Fearful Stare (Green) - (no description)\n+21302 - Leisure Look (Green) - (no description)\n+21303 - Strong Stare (Green) - (no description)\n+21304 - Angel Glow (Green) - (no description)\n+21305 - Babyface Pout (Green) - (no description)\n+21306 - Pucker Up Face (Green) - (no description)\n+21307 - Dollface Look (Green) - (no description)\n+21308 - Hopeless Gaze (Green) - (no description)\n+21309 - Look of Death (Green) - (no description)\n+21310 - Wisdom Glance (Green) - (no description)\n+21311 - Hypnotized Look (Green) - (no description)\n+21312 - Soul's Window (Green) - (no description)\n+21313 - Wide-eyed Girl (Green) - (no description)\n+21314 - Curious Look (Green) - (no description)\n+21316 - Beauty Stare (Green) - (no description)\n+21317 - Demure Poise Eyes (Green) - (no description)\n 21318 - Athena's Grace (Green) - (no description)\n 21319 - Hera's Radiance (Green) - (no description)\n-21320 - Female Face 13 - (no description)\n-21321 - Compassion's Countenance (Green) - (no description)\n-21322 - femalefaceGL(Green) - (no description)\n-21324 - Leisure Look (Green) - (no description)\n-21400 - Female 1 (Hazel) - (no description)\n-21401 - Female 2 (Hazel) - (no description)\n-21402 - Female 3 (Hazel) - (no description)\n-21403 - Female 4 (Hazel) - (no description)\n-21404 - Female 5 (Hazel) - (no description)\n-21405 - Female 6 (Hazel) - (no description)\n-21406 - Female 7 (Hazel) - (no description)\n-21407 - Female 8 (Hazel) - (no description)\n-21408 - Female 9 (Hazel) - (no description)\n-21409 - Female JP (Hazel) - (no description)\n-21410 - Female JP (Hazel) - (no description)\n-21411 - Female JP (Hazel) - (no description)\n-21412 - Female 10 (Hazel) - (no description)\n-21413 - Female JP (Hazel) - (no description)\n-21414 - Female 11 (Hazel) - (no description)\n-21416 - Female Face 12 - (no description)\n-21417 - Female Face 14 - (no description)\n+21320 - Gentle Glow (Green) - (no description)\n+21321 - Compassion Look (Green) - (no description)\n+21322 - Glitzy Face (Green) - (no description)\n+21323 - Innocent Look (Green) - (no description)\n+21324 - Keen Look (Green) - (no description)\n+21325 - Shuteye (Green) - (no description)\n+21326 - Tender Love (Green) - (no description)\n+21327 - Glamorous Edge (Green) - (no description)\n+21329 - Kitty Cat (Green) - (no description)\n+21330 - Poker Face (Green) - (no description)\n+21400 - Motivated Look (Hazel) - (no description)\n+21401 - Fearful Stare (Hazel) - (no description)\n+21402 - Leisure Look (Hazel) - (no description)\n+21403 - Strong Stare (Hazel) - (no description)\n+21404 - Angel Glow (Hazel) - (no description)\n+21405 - Babyface Pout (Hazel) - (no description)\n+21406 - Pucker Up Face (Hazel) - (no description)\n+21407 - Dollface Look (Hazel) - (no description)\n+21408 - Hopeless Gaze (Hazel) - (no description)\n+21409 - Look of Death (Hazel) - (no description)\n+21410 - Wisdom Glance (Hazel) - (no description)\n+21411 - Hypnotized Look (Hazel) - (no description)\n+21412 - Soul's Window (Hazel) - (no description)\n+21413 - Wide-eyed Girl (Hazel) - (no description)\n+21414 - Curious Look (Hazel) - (no description)\n+21416 - Beauty Stare (Hazel) - (no description)\n+21417 - Demure Poise Eyes (Hazel) - (no description)\n 21418 - Athena's Grace (Hazel) - (no description)\n 21419 - Hera's Radiance (Hazel) - (no description)\n-21420 - Female Face 13 - (no description)\n-21421 - Compassion's Countenance (Hazel) - (no description)\n-21422 - femalefaceGL(Hazel) - (no description)\n-21424 - Leisure Look (Hazel) - (no description)\n-21500 - Female 1 (Sapphire) - (no description)\n-21501 - Female 2 (Sapphire) - (no description)\n-21502 - Female 3 (Sapphire) - (no description)\n-21503 - Female 4 (Sapphire) - (no description)\n-21504 - Female 5 (Sapphire) - (no description)\n-21505 - Female 6 (Sapphire) - (no description)\n-21506 - Female 7 (Sapphire) - (no description)\n-21507 - Female 8 (Sapphire) - (no description)\n-21508 - Female 9 (Sapphire) - (no description)\n-21509 - Female JP (Sapphire) - (no description)\n-21510 - Female JP (Sapphire) - (no description)\n-21511 - Female JP (Sapphire) - (no description)\n-21512 - Female 10 (Sapphire) - (no description)\n-21513 - Female JP (Sapphire) - (no description)\n-21514 - Female 11 (Sapphire) - (no description)\n-21516 - Female Face 12 - (no description)\n-21517 - Female Face 14 - (no description)\n+21420 - Gentle Glow (Hazel) - (no description)\n+21421 - Compassion Look (Hazel) - (no description)\n+21422 - Glitzy Face (Hazel) - (no description)\n+21423 - Innocent Look (Hazel) - (no description)\n+21424 - Keen Look (Hazel) - (no description)\n+21425 - Shuteye (Hazel) - (no description)\n+21426 - Tender Love (Hazel) - (no description)\n+21427 - Glamorous Edge (Hazel) - (no description)\n+21429 - Kitty Cat (Hazel) - (no description)\n+21430 - Poker Face (Hazel) - (no description)\n+21500 - Motivated Look (Sapphire) - (no description)\n+21501 - Fearful Stare (Sapphire) - (no description)\n+21502 - Leisure Look (Sapphire) - (no description)\n+21503 - Strong Stare (Sapphire) - (no description)\n+21504 - Angel Glow (Sapphire) - (no description)\n+21505 - Babyface Pout (Sapphire) - (no description)\n+21506 - Pucker Up Face (Sapphire) - (no description)\n+21507 - Dollface Look (Sapphire) - (no description)\n+21508 - Hopeless Gaze (Sapphire) - (no description)\n+21509 - Look of Death (Sapphire) - (no description)\n+21510 - Wisdom Glance (Sapphire) - (no description)\n+21511 - Hypnotized Look (Sapphire) - (no description)\n+21512 - Soul's Window (Sapphire) - (no description)\n+21513 - Wide-eyed Girl (Sapphire) - (no description)\n+21514 - Curious Look (Sapphire) - (no description)\n+21516 - Beauty Stare (Sapphire) - (no description)\n+21517 - Demure Poise Eyes (Sapphire) - (no description)\n 21518 - Athena's Grace (Sapphire) - (no description)\n-21519 - Hera's Radiance(Sapphire) - (no description)\n-21520 - Female Face 13 - (no description)\n-21521 - Compassion's Countenance (Sapphire) - (no description)\n-21522 - femalefaceGL(Sapphire) - (no description)\n-21524 - Leisure Look (Sapphire) - (no description)\n-21600 - Female 1 (Violet) - (no description)\n-21601 - Female 2 (Violet) - (no description)\n-21602 - Female 3 (Violet) - (no description)\n-21603 - Female 4 (Violet) - (no description)\n-21604 - Female 5 (Violet) - (no description)\n-21605 - Female 6 (Violet) - (no description)\n-21606 - Female 7 (Violet) - (no description)\n-21607 - Female 8 (Violet) - (no description)\n-21608 - Female 9 (Violet) - (no description)\n-21609 - Female JP (Violet) - (no description)\n-21610 - Female JP (Violet) - (no description)\n-21611 - Female JP (Violet) - (no description)\n-21612 - Female 10 (Violet) - (no description)\n-21613 - Female JP (Violet) - (no description)\n-21614 - Female 11 (Violet) - (no description)\n-21616 - Female Face 12 - (no description)\n-21617 - Female Face 14 - (no description)\n+21519 - Hera's Radiance (Sapphire) - (no description)\n+21520 - Gentle Glow (Sapphire) - (no description)\n+21521 - Compassion Look (Sapphire) - (no description)\n+21522 - Glitzy Face (Sapphire) - (no description)\n+21523 - Innocent Look (Sapphire) - (no description)\n+21524 - Keen Look (Sapphire) - (no description)\n+21525 - Shuteye (Sapphire) - (no description)\n+21526 - Tender Love (Sapphire) - (no description)\n+21527 - Glamorous Edge (Sapphire) - (no description)\n+21529 - Kitty Cat (Sapphire) - (no description)\n+21530 - Poker Face (Sapphire) - (no description)\n+21600 - Motivated Look (Violet) - (no description)\n+21601 - Fearful Stare (Violet) - (no description)\n+21602 - Leisure Look (Violet) - (no description)\n+21603 - Strong Stare (Violet) - (no description)\n+21604 - Angel Glow (Violet) - (no description)\n+21605 - Babyface Pout (Violet) - (no description)\n+21606 - Pucker Up Face (Violet) - (no description)\n+21607 - Dollface Look (Violet) - (no description)\n+21608 - Hopeless Gaze (Violet) - (no description)\n+21609 - Look of Death (Violet) - (no description)\n+21610 - Wisdom Glance (Violet) - (no description)\n+21611 - Hypnotized Look (Violet) - (no description)\n+21612 - Soul's Window (Violet) - (no description)\n+21613 - Wide-eyed Girl (Violet) - (no description)\n+21614 - Curious Look (Violet) - (no description)\n+21616 - Beauty Stare (Violet) - (no description)\n+21617 - Demure Poise Eyes (Violet) - (no description)\n 21618 - Athena's Grace (Violet) - (no description)\n 21619 - Hera's Radiance (Violet) - (no description)\n-21620 - Female Face 13 - (no description)\n-21621 - Compassion's Countenance (Violet) - (no description)\n-21622 - femalefaceGL(Violet) - (no description)\n-21624 - Leisure Look (Violet) - (no description)\n-21700 - Female 1 (Amethyst) - (no description)\n-21701 - Female 2 (Amethyst) - (no description)\n-21702 - Female 3 (Amethyst) - (no description)\n-21703 - Female 4 (Amethyst) - (no description)\n-21704 - Female 5 (Amethyst) - (no description)\n-21705 - Female 6 (Amethyst) - (no description)\n-21706 - Female 7 (Amethyst) - (no description)\n-21707 - Female 8 (Amethyst) - (no description)\n-21708 - Female 9 (Amethyst) - (no description)\n-21709 - Female JP (Amethyst) - (no description)\n-21710 - Female JP (Amethyst) - (no description)\n-21711 - Female JP (Amethyst) - (no description)\n-21712 - Female 10 (Amethyst) - (no description)\n-21713 - Female JP (Amethyst) - (no description)\n-21714 - Female 11 (Amethyst) - (no description)\n-21716 - Female Face 12 - (no description)\n-21717 - Female Face 14 - (no description)\n+21620 - Gentle Glow (Violet) - (no description)\n+21621 - Compassion Look (Violet) - (no description)\n+21622 - Glitzy Face (Violet) - (no description)\n+21623 - Innocent Look (Violet) - (no description)\n+21624 - Keen Look (Violet) - (no description)\n+21625 - Shuteye (Violet) - (no description)\n+21626 - Tender Love (Violet) - (no description)\n+21627 - Glamorous Edge (Violet) - (no description)\n+21629 - Kitty Cat (Violet) - (no description)\n+21630 - Poker Face (Violet) - (no description)\n+21700 - Motivated Look (Amethyst) - (no description)\n+21701 - Fearful Stare (Amethyst) - (no description)\n+21702 - Leisure Look (Amethyst) - (no description)\n+21703 - Strong Stare (Amethyst) - (no description)\n+21704 - Angel Glow (Amethyst) - (no description)\n+21705 - Babyface Pout (Amethyst) - (no description)\n+21706 - Pucker Up Face (Amethyst) - (no description)\n+21707 - Dollface Look (Amethyst) - (no description)\n+21708 - Hopeless Gaze (Amethyst) - (no description)\n+21709 - Look of Death (Amethyst) - (no description)\n+21710 - Wisdom Glance (Amethyst) - (no description)\n+21711 - Hypnotized Look (Amethyst) - (no description)\n+21712 - Soul's Window (Amethyst) - (no description)\n+21713 - Wide-eyed Girl (Amethyst) - (no description)\n+21714 - Curious Look (Amethyst) - (no description)\n+21716 - Beauty Stare (Amethyst) - (no description)\n+21717 - Demure Poise Eyes (Amethyst) - (no description)\n 21718 - Athena's Grace (Amethyst) - (no description)\n 21719 - Hera's Radiance (Amethyst) - (no description)\n-21720 - Female Face 13 - (no description)\n-21721 - Compassion's Countenance (Amethyst) - (no description)\n-21722 - femalefaceGL(Amethyst) - (no description)\n-21724 - Leisure Look (Amethyst) - (no description)\n-20800 - Male 1 (White) - (no description)\n-20801 - Male 2 (White) - (no description)\n-20802 - Leisure Look (Black) - (no description)\n-20803 - Male 4 (White) - (no description)\n-20804 - Male 5 (White) - (no description)\n-20805 - Male 6 (White) - (no description)\n-20806 - Male 7 (White) - (no description)\n-20807 - Male 8 (White) - (no description)\n-20808 - Male 9 (White) - (no description)\n-20809 - Male JP (White) - (no description)\n-20810 - Male JP (White) - (no description)\n-20811 - Male JP (White) - (no description)\n-20812 - Male 10 (White) - (no description)\n-20813 - Male JP (White) - (no description)\n-20814 - Male 11 (White) - (no description)\n-20816 - Male Face 12 (White) - (no description)\n-20817 - Male Face 14 (White) - (no description)\n-20818 - Male 12 (White) - (no description)\n-20819 - Male 13 (White) - (no description)\n-20820 - Fierce Edge (White) - (no description)\n-20821 - Male Face JP (White) - (no description)\n-20822 - Male Face 16 (White Eyes) - (no description)\n-20823 - malefaceGL (White) - (no description)\n-20824 - Awakening (White) - (no description)\n-20826 - Closed Lids (White) - (no description)\n-21800 - Female 1 (White) - (no description)\n-21801 - Female 2 (White) - (no description)\n-21802 - Female 3 (White) - (no description)\n-21803 - Female 4 (White) - (no description)\n-21804 - Female 5 (White) - (no description)\n-21805 - Female 6 (White) - (no description)\n-21806 - Female 7 (White) - (no description)\n-21807 - Female 8 (White) - (no description)\n-21808 - Female 9 (White) - (no description)\n-21809 - Female JP (White) - (no description)\n-21810 - Female JP (White) - (no description)\n-21811 - Female JP (White) - (no description)\n-21812 - Female 10 (White) - (no description)\n-21813 - Female JP (White) - (no description)\n-21814 - Female 11 (White) - (no description)\n-21816 - Female Face 12 (White) - (no description)\n-21817 - Female Face 14 (White) - (no description)\n+21720 - Gentle Glow (Amethyst) - (no description)\n+21721 - Compassion Look (Amethyst) - (no description)\n+21722 - Glitzy Face (Amethyst) - (no description)\n+21723 - Innocent Look (Amethyst) - (no description)\n+21724 - Keen Look (Amethyst) - (no description)\n+21725 - Shuteye (Amethyst) - (no description)\n+21726 - Tender Love (Amethyst) - (no description)\n+21727 - Glamorous Edge (Amethyst) - (no description)\n+21729 - Kitty Cat (Amethyst) - (no description)\n+21730 - Poker Face (Amethyst) - (no description)\n+21800 - Motivated Look (White) - (no description)\n+21801 - Fearful Stare (White) - (no description)\n+21802 - Leisure Look (White) - (no description)\n+21803 - Strong Stare (White) - (no description)\n+21804 - Angel Glow (White) - (no description)\n+21805 - Babyface Pout (White) - (no description)\n+21806 - Pucker Up Face (White) - (no description)\n+21807 - Dollface Look (White) - (no description)\n+21808 - Hopeless Gaze (White) - (no description)\n+21809 - Look of Death (White) - (no description)\n+21810 - Wisdom Glance (White) - (no description)\n+21811 - Hypnotized Look (White) - (no description)\n+21812 - Soul's Window (White) - (no description)\n+21813 - Wide-eyed Girl (White) - (no description)\n+21814 - Curious Look (White) - (no description)\n+21816 - Beauty Stare (White) - (no description)\n+21817 - Demure Poise Eyes (White) - (no description)\n 21818 - Athena's Grace (White) - (no description)\n 21819 - Hera's Radiance (White) - (no description)\n-21820 - Female Face 13 (White) - (no description)\n-21821 - Compassion's Countenance (White) - (no description)\n-21822 - femalefaceGL (White) - (no description)\n-21824 - Leisure Look (White) - (no description)\n-21825 - Closed Lids (White) - (no description)\n-20126 - Closed Lids (Blue) - (no description)\n-20226 - Closed Lids (Red) - (no description)\n-20326 - Closed Lids (Green) - (no description)\n-20426 - Closed Lids (Hazel) - (no description)\n-20526 - Closed Lids (Sapphire) - (no description)\n-20626 - Closed Lids (Violet) - (no description)\n-20726 - Closed Lids (Amethyst) - (no description)\n-20026 - Closed Lids (Black) - (no description)\n-21025 - Closed Lids (Black) - (no description)\n-21125 - Closed Lids (Blue) - (no description)\n-21225 - Closed Lids (Red) - (no description)\n-21325 - Closed Lids (Green) - (no description)\n-21425 - Closed Lids (Hazel) - (no description)\n-21525 - Closed Lids (Sapphire) - (no description)\n-21625 - Closed Lids (Violet) - (no description)\n-21725 - Closed Lids (Amethyst) - (no description)\n-20025 - Male 17 (Black) - (no description)\n-20125 - Male 17 (Blue) - (no description)\n-20225 - Male 17 (Red) - (no description)\n-20325 - Male 17 (Green) - (no description)\n-20425 - Male 17 (Hazel) - (no description)\n-20525 - Male 17 (Sapphire) - (no description)\n-20625 - Male 17 (Violet) - (no description)\n-20725 - Male 17 (Amethyst) - (no description)\n-20027 - Male 18 (Black) - (no description)\n-20127 - Male 18 (Blue) - (no description)\n-20227 - Male 18 (Red) - (no description)\n-20327 - Male 18 (Green) - (no description)\n-20427 - Male 18 (Hazel) - (no description)\n-20527 - Male 18 (Sapphire) - (no description)\n-20627 - Male 18 (Violet) - (no description)\n-20727 - Male 18 (Amethyst) - (no description)\n-20028 - Male Face 19  - (no description)\n-20128 - Male Face 19(Blue Eyes) - (no description)\n-20228 - Male Face 19(Red Eyes) - (no description)\n-20328 - Male Face 19(Green Eyes) - (no description)\n-20428 - Male Face 19(Brown Eyes) - (no description)\n-20528 - Male Face 19(Sapphire Eyes) - (no description)\n-20628 - Male Face 19(Violet Eyes) - (no description)\n-20728 - Male Face 19(Amethyst Eyes) - (no description)\n-21023 - Female Face 17  - (no description)\n-21123 - Female Face 17(Blue Eyes) - (no description)\n-21223 - Female Face 17(Red Eyes) - (no description)\n-21323 - Female Face 17(Green Eyes) - (no description)\n-21423 - Female Face 17(Brown Eyes) - (no description)\n-21523 - Female Face 17(Sapphire Eyes) - (no description)\n-21623 - Female Face 17(Violet Eyes) - (no description)\n-21723 - Female Face 17(Amethyst Eyes) - (no description)\n-21026 - Female Face 19  - (no description)\n-21126 - Female Face 19(Blue Eyes) - (no description)\n-21226 - Female Face 19(Red Eyes) - (no description)\n-21326 - Female Face 19(Green Eyes) - (no description)\n-21426 - Female Face 19(Brown Eyes) - (no description)\n-21526 - Female Face 19(Sapphire Eyes) - (no description)\n-21626 - Female Face 19(Violet Eyes) - (no description)\n-21726 - Female Face 19(Amethyst Eyes) - (no description)\n-20828 - Male Face 19(White Eyes) - (no description)\n-21823 - Female Face 17(Amethyst Eyes) - (no description)\n-21826 - Female Face 19(White Eyes) - (no description)\n-20029 - Male Face 20  - (no description)\n-20129 - Male Face 20  - (no description)\n-20229 - Male Face 20  - (no description)\n-20329 - Male Face 20  - (no description)\n-20429 - Male Face 20  - (no description)\n-20529 - Male Face 20  - (no description)\n-20629 - Male Face 20  - (no description)\n-20729 - Male Face 20  - (no description)\n-21027 - Female Face 20  - (no description)\n-21127 - Female Face 20  - (no description)\n-21227 - Female Face 20  - (no description)\n-21327 - Female Face 20 - (no description)\n-21427 - Female Face 20  - (no description)\n-21527 - Female Face 20  - (no description)\n-21627 - Female Face 20  - (no description)\n-21727 - Female Face 20  - (no description)\n-20031 - Male Face 21 - (no description)\n-20131 - Male Face 21 - (no description)\n-20231 - Male Face 21 - (no description)\n-20331 - Male Face 21 - (no description)\n-20431 - Male Face 21 - (no description)\n-20531 - Male Face 21 - (no description)\n-20631 - Male Face 21 - (no description)\n-20731 - Male Face 21 - (no description)\n-20032 - Male Face 22 - (no description)\n-20132 - Male Face 22 - (no description)\n-20232 - Male Face 22 - (no description)\n-20332 - Male Face 22 - (no description)\n-20432 - Male Face 22 - (no description)\n-20532 - Male Face 22 - (no description)\n-20632 - Male Face 22 - (no description)\n-20732 - Male Face 22 - (no description)\n-21029 - Female Face 21 - (no description)\n-21129 - Female Face 21 - (no description)\n-21229 - Female Face 21 - (no description)\n-21329 - Female Face 21 - (no description)\n-21429 - Female Face 21 - (no description)\n-21529 - Female Face 21 - (no description)\n-21629 - Female Face 21 - (no description)\n-21729 - Female Face 21 - (no description)\n-21030 - Female Face 22 - (no description)\n-21130 - Female Face 22 - (no description)\n-21230 - Female Face 22 - (no description)\n-21330 - Female Face 22 - (no description)\n-21430 - Female Face 22 - (no description)\n-21530 - Female Face 22 - (no description)\n-21630 - Female Face 22 - (no description)\n-21730 - Female Face 22 - (no description)\n+21820 - Gentle Glow (White) - (no description)\n+21821 - Compassion Look (White) - (no description)\n+21822 - Glitzy Face (White) - (no description)\n+21823 - Innocent Look (White) - (no description)\n+21824 - Keen Look (White) - (no description)\n+21825 - Shuteye (White) - (no description)\n+21826 - Tender Love (White) - (no description)"}, {"sha": "7ecad4488e7e6df1f4e71a421348d26209be1267", "filename": "handbook/Equip/Hair.txt", "status": "modified", "additions": 28, "deletions": 16, "changes": 44, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/handbook/Equip/Hair.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/handbook/Equip/Hair.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/handbook/Equip/Hair.txt?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -55,6 +55,9 @@\n 30102 - Brown Fantasy - (no description)\n 30103 - Green Fantasy - (no description)\n 30104 - Blue-Green Fantasy - (no description)\n+30105 - Blue Fantasy - (no description)\n+30106 - Maroon Fantasy - (no description)\n+30107 - Brown Fantasy - (no description)\n 30110 - Black Fireball - (no description)\n 30111 - Red Fireball - (no description)\n 30112 - Orange Fireball - (no description)\n@@ -167,14 +170,14 @@\n 30245 - Blue Monkey - (no description)\n 30246 - Purple Monkey - (no description)\n 30247 - Brown Monkey - (no description)\n-30250 - Black Afro - (no description)\n-30251 - Red Afro - (no description)\n-30252 - Orange Afro - (no description)\n-30253 - Blonde Afro - (no description)\n-30254 - Green Afro - (no description)\n-30255 - Blue Afro - (no description)\n-30256 - Purple Afro - (no description)\n-30257 - Brown Afro - (no description)\n+30250 - Black Afro (big) - (no description)\n+30251 - Red Afro (big) - (no description)\n+30252 - Orange Afro (big) - (no description)\n+30253 - Blonde Afro (big) - (no description)\n+30254 - Green Afro (big) - (no description)\n+30255 - Blue Afro (big) - (no description)\n+30256 - Purple Afro (big) - (no description)\n+30257 - Brown Afro (big) - (no description)\n 30260 - Black Metrosexual - (no description)\n 30261 - Red Metrosexual - (no description)\n 30262 - Orange Metrosexual - (no description)\n@@ -223,14 +226,14 @@\n 30315 - Blue Acorn - (no description)\n 30316 - Purple Acorn - (no description)\n 30317 - Brown Acorn - (no description)\n-30320 - Black Afro - (no description)\n-30321 - Red Afro - (no description)\n-30322 - Orange Afro - (no description)\n-30323 - Blonde Afro - (no description)\n-30324 - Green Afro - (no description)\n-30325 - Blue Afro - (no description)\n-30326 - Purple Afro - (no description)\n-30327 - Brown Afro - (no description)\n+30320 - Black Afro (small) - (no description)\n+30321 - Red Afro (small) - (no description)\n+30322 - Orange Afro (small) - (no description)\n+30323 - Blonde Afro (small) - (no description)\n+30324 - Green Afro (small) - (no description)\n+30325 - Blue Afro (small) - (no description)\n+30326 - Purple Afro (small) - (no description)\n+30327 - Brown Afro (small) - (no description)\n 30330 - Black Cabana Boy - (no description)\n 30331 - Red Cabana Boy - (no description)\n 30332 - Orange Cabana Boy - (no description)\n@@ -1151,6 +1154,14 @@\n 31655 - Blue Dashing Damsel - (no description)\n 31656 - Purple Dashing Damsel - (no description)\n 31657 - Brown Dashing Damsel - (no description)\n+31660 - Black Tighty Bun - (no description)\n+31661 - Red Tighty Bun - (no description)\n+31662 - Orange Tighty Bun - (no description)\n+31663 - Blonde Tighty Bun - (no description)\n+31664 - Green Tighty Bun - (no description)\n+31665 - Blue Tighty Bun - (no description)\n+31666 - Purple Tighty Bun - (no description)\n+31667 - Brown Tighty Bun - (no description)\n 31670 - Black Grandma ma'  - (no description)\n 31671 - Red Grandma ma'  - (no description)\n 31672 - Orange Grandma ma'  - (no description)\n@@ -1488,6 +1499,7 @@\n 34056 - Purple Aran Hair - (no description)\n 34057 - Brown Aran Hair - (no description)\n 33100 - Black The Coco - (no description)\n+33101 - Red The Coco - (no description)\n 33102 - Orange The Coco - (no description)\n 33103 - Blond The Coco - (no description)\n 33104 - Green The Coco - (no description)"}, {"sha": "0a2f651a571adb398ea9579a1b3a463495b605ac", "filename": "handbook/Use.txt", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/handbook/Use.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/handbook/Use.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/handbook/Use.txt?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -1,4 +1,4 @@\n-\ufeff2000000 - Red Potion - A potion made out of red herbs.\\nRecovers 50 HP.\n+2000000 - Red Potion - A potion made out of red herbs.\\nRecovers 50 HP.\n 2000001 - Orange Potion - A concentrated potion made out of red herbs.\\nRecovers 150 HP.\n 2000002 - White Potion - A highly-concentrated potion made out of red herbs.\\nRecovers 300 HP.\n 2000003 - Blue Potion - A potion made out of blue herbs.\\nRecovers 100 MP."}, {"sha": "90eb1193f3b58fe48cb766f1d0fa6fb8542b41dc", "filename": "scripts/npc/1012002.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/1012002.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/1012002.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1012002.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -106,7 +106,7 @@ function action(mode, type, selection) {\n         if (selectedType != 4)\n             selectedItem = selection;\n         else\n-            qty = (selection > 0) ? selection : (selection < 0 ? -selection : 1);\n+            qty = (selection > 0) ? selection : (selection < 0 ? -selection : 1);   // thanks br1337 for showing such a simple exploit with quantity on NPC crafters\n         if (selectedType == 0) { //bow refine\n             var matSet = [[4003001,4000000],[4011001,4003000],[4003001,4000016],[4011001,4021006,4003000],[4011001,4011006,4021003,4021006,4003000],[4011004,4021000,4021004,4003000],[4021008,4011001,4011006,4003000,4000014]];\n             var matQtySet = [[5,30],[1,3],[30,50],[2,2,8],[5,5,3,3,30],[7,6,3,35],[1,10,3,40,50]];"}, {"sha": "e1bd30ddfbc4b387f1e5480a12af067373266bd4", "filename": "scripts/npc/1012103.js", "status": "modified", "additions": 15, "deletions": 7, "changes": 22, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/1012103.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/1012103.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1012103.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -21,20 +21,28 @@\n */\n /* Natalie\n \tHenesys VIP Hair/Hair Color Change.\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n var hairprice = 1000000;\n var haircolorprice = 1000000;\n-var mhair = Array(30030, 30020, 30000, 30310, 30330, 30060, 30150, 30410, 30210, 30140, 30120, 30200);\n-var fhair = Array(31050, 31040, 31000, 31150, 31310, 31300, 31160, 31100, 31410, 31030, 31080, 31070);\n+var mhair_v = Array(30060, 30140, 30200, 30210, 30310, 33040, 33100);\n+var fhair_v = Array(31150, 31300, 31350, 31700, 31740, 34050, 34110);\n var hairnew = Array();\n \n function start() {\n     status = -1;\n     action(1, 0, 0);\n }\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n function action(mode, type, selection) {\n     if (mode < 1) {\n         cm.dispose();\n@@ -47,18 +55,18 @@ function action(mode, type, selection) {\n                 beauty = 1;\n                 hairnew = Array();\n                 if (cm.getPlayer().getGender() == 0)\n-                    for(var i = 0; i < mhair.length; i++)\n-                        hairnew.push(mhair[i] + parseInt(cm.getPlayer().getHair()% 10));\n+                    for(var i = 0; i < mhair_v.length; i++)\n+                        pushIfItemExists(hairnew, mhair_v[i] + parseInt(cm.getPlayer().getHair()% 10));\n                 if (cm.getPlayer().getGender() == 1)\n-                    for(var i = 0; i < fhair.length; i++)\n-                        hairnew.push(fhair[i] + parseInt(cm.getPlayer().getHair() % 10));\n+                    for(var i = 0; i < fhair_v.length; i++)\n+                        pushIfItemExists(hairnew, fhair_v[i] + parseInt(cm.getPlayer().getHair() % 10));\n                 cm.sendStyle(\"I can totally change up your hairstyle and make it look so good. Why don't you change it up a bit? If you have #b#t5150001##k I'll change it for you. Choose the one to your liking~.\", hairnew);\n             } else if (selection == 2) {\n                 beauty = 2;\n                 haircolor = Array();\n                 var current = parseInt(cm.getPlayer().getHair()/10)*10;\n                 for(var i = 0; i < 8; i++)\n-                    haircolor.push(current + i);\n+                    pushIfItemExists(haircolor, current + i);\n                 cm.sendStyle(\"I can totally change your haircolor and make it look so good. Why don't you change it up a bit? With #b#t51051001##k I'll change it for you. Choose the one to your liking.\", haircolor);\n             }\n         } else if (status == 2){"}, {"sha": "d00ec8f207c30b2b0eaea748166d46dea0d3a7a5", "filename": "scripts/npc/1012104.js", "status": "modified", "additions": 40, "deletions": 13, "changes": 53, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/1012104.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/1012104.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1012104.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -21,15 +21,24 @@\n */\n /* Brittany\n \tHenesys Random Hair/Hair Color Change.\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n var hairprice = 1000000;\n var haircolorprice = 1000000;\n-var mhair = Array(30310, 30330, 30060, 30150, 30410, 30210, 30140, 30120, 30200, 30560, 30510, 30610, 30470);\n-var fhair = Array(31150, 31310, 31300, 31160, 31100, 31410, 31030, 31080, 31070, 31610, 31350, 31510, 31740);\n+var mhair_r = Array(30060, 30140, 30200, 30210, 30310, 30610, 33040, 33100);\n+var fhair_r = Array(31070, 31080, 31150, 31300, 31350, 31700, 34050, 34110);\n+var mhair_e = Array(30030, 30140, 30200, 30210, 30310, 30610, 33040, 33100);\n+var fhair_e = Array(31070, 31150, 31300, 31350, 31430, 31700, 34050, 34110);\n var hairnew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n function start() {\n     status = -1;\n     action(1, 0, 0);\n@@ -48,26 +57,38 @@ function action(mode, type, selection) {\n         else\n             status--;\n         if (status == 0) {\n-            cm.sendSimple(\"I'm Brittany the assistant. If you have #b#t5150010##k or #b#t5151000##k by any chance, then how about letting me change your hairdo?\\r\\n#L1#Haircut: #i5150010##t5150010##l\\r\\n#L2#Dye your hair: #i5151000##t5151000##l\");\n+            cm.sendSimple(\"I'm Brittany the assistant. If you have #b#t5150000##k, #b#t5150010##k or #b#t5151000##k by any chance, then how about letting me change your hairdo?\\r\\n#L0#Haircut: #i5150000##t5150000##l\\r\\n#L1#Haircut: #i5150010##t5150010##l\\r\\n#L2#Dye your hair: #i5151000##t5151000##l\");\n         } else if (status == 1) {\n-            if (selection == 1) {\n+            if (selection == 0) {\n+                beauty = 3;\n+                hairnew = Array();\n+                if (cm.getPlayer().getGender() == 0) {\n+                    for(var i = 0; i < mhair_r.length; i++)\n+                        pushIfItemExists(hairnew, mhair_r[i] + parseInt(cm.getPlayer().getHair()% 10));\n+                }\n+                if (cm.getPlayer().getGender() == 1) {\n+                    for(var i = 0; i < fhair_r.length; i++)\n+                        pushIfItemExists(hairnew, fhair_r[i] + parseInt(cm.getPlayer().getHair() % 10));\n+                }\n+                cm.sendYesNo(\"If you use the REG coupon your hair will change RANDOMLY with a chance to obtain a new experimental style that even you didn't think was possible. Are you going to use #b#t5150000##k and really change your hairstyle?\");\n+            } else if (selection == 1) {\n                 beauty = 1;\n                 hairnew = Array();\n                 if (cm.getPlayer().getGender() == 0) {\n-                    for(var i = 0; i < mhair.length; i++)\n-                        hairnew.push(mhair[i] + parseInt(cm.getPlayer().getHair()% 10));\n+                    for(var i = 0; i < mhair_e.length; i++)\n+                        pushIfItemExists(hairnew, mhair_e[i] + parseInt(cm.getPlayer().getHair()% 10));\n                 }\n                 if (cm.getPlayer().getGender() == 1) {\n-                    for(var i = 0; i < fhair.length; i++)\n-                        hairnew.push(fhair[i] + parseInt(cm.getPlayer().getHair() % 10));\n+                    for(var i = 0; i < fhair_e.length; i++)\n+                        pushIfItemExists(hairnew, fhair_e[i] + parseInt(cm.getPlayer().getHair() % 10));\n                 }\n                 cm.sendYesNo(\"If you use the EXP coupon your hair will change RANDOMLY with a chance to obtain a new experimental style that even you didn't think was possible. Are you going to use #b#t5150010##k and really change your hairstyle?\");\n             } else if (selection == 2) {\n                 beauty = 2;\n                 haircolor = Array();\n                 var current = parseInt(cm.getPlayer().getHair()/10)*10;\n                 for(var i = 0; i < 8; i++)\n-                    haircolor.push(current + i);\n+                    pushIfItemExists(haircolor, current + i);\n                 cm.sendYesNo(\"If you use a regular coupon your hair will change RANDOMLY. Do you still want to use #b#t5151000##k and change it up?\");\n             }\n         }\n@@ -81,17 +102,23 @@ function action(mode, type, selection) {\n                 } else {\n                     cm.sendOk(\"Hmmm...it looks like you don't have our designated coupon...I'm afraid I can't give you a haircut without it. I'm sorry...\");\n                 }\n-            }\n-            if (beauty == 2){\n+            } else if (beauty == 2){\n                 if (cm.haveItem(5151000) == true){\n                     cm.gainItem(5151000, -1);\n                     cm.setHair(haircolor[Math.floor(Math.random() * haircolor.length)]);\n                     cm.sendOk(\"Enjoy your new and improved haircolor!\");\n                 } else {\n                     cm.sendOk(\"Hmmm...it looks like you don't have our designated coupon...I'm afraid I can't dye your hair without it. I'm sorry...\");\n                 }\n-            }\n-            if (beauty == 0){\n+            } else if (beauty == 3){\n+                if (cm.haveItem(5150000) == true){\n+                    cm.gainItem(5150000, -1);\n+                    cm.setHair(hairnew[Math.floor(Math.random() * hairnew.length)]);\n+                    cm.sendOk(\"Enjoy your new and improved hairstyle!\");\n+                } else {\n+                    cm.sendOk(\"Hmmm...it looks like you don't have our designated coupon...I'm afraid I can't give you a haircut without it. I'm sorry...\");\n+                }\n+            } else if (beauty == 0){\n                 if (selection == 0 && cm.getMeso() >= hairprice) {\n                     cm.gainMeso(-hairprice);\n                     cm.gainItem(5150010, 1);"}, {"sha": "c928d6662d0907b1cd8a6ee73c8a9ebc740e5495", "filename": "scripts/npc/1012105.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/1012105.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/1012105.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1012105.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -47,7 +47,7 @@ function action(mode, type, selection) {\n     \n                 \n                 if (status == 0) {\n-                        cm.sendSimple(\"Well, hello! Welcome to the Henesys Skin-Care! Would you like to have a firm, tight, healthy looking skin like mine?  With a #b#t5153000##k, you can let us take care of the rest and have the kind of skin you've always wanted~!\\r\\n#L1#I already have a Coupon!#l\");\n+                        cm.sendSimple(\"Well, hello! Welcome to the Henesys Skin-Care! Would you like to have a firm, tight, healthy looking skin like mine?  With a #b#t5153000##k, you can let us take care of the rest and have the kind of skin you've always wanted~!\\r\\n#L1#Skin Care: #i5153000##t5153000##l\");\n                 }\n                 else if (status == 1) {\n                         if (cm.haveItem(5153000)){"}, {"sha": "4dd03728d7880413456903add625a9694bfa4fe6", "filename": "scripts/npc/1012117.js", "status": "modified", "additions": 56, "deletions": 16, "changes": 72, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/1012117.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/1012117.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1012117.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -23,13 +23,25 @@\n \tNPC Name: \t\tBig Headward\n         Map(s): \t\tVictoria Road : Henesys Hair Salon (100000104)\n \tDescription: \t\tRandom haircut\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n \n var status = 0;\n-var mhair = Array(30100, 30850, 30890);\n-var fhair = Array(31180, 31420, 31870, 31400, 31880, 31820, 31860, 31420, 31940, 34000, 31890);\n+\n+var mhair_r = Array(30010, 30070, 30080, 30090, 30100, 30690, 30760, 33000);\n+var fhair_r = Array(31130, 31530, 31820, 31920, 31940, 34000, 34030);\n+\n+var mhair_v = Array(30010, 30070, 30080, 30090, 30100, 30480, 30560, 30690, 30760, 30850, 30890, 30930, 30950);\n+var fhair_v = Array(31020, 31130, 31510, 31530, 31820, 31860, 31890, 31920, 31940, 31950, 34000);\n+\n var hairnew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n function start() {\n     status = -1;\n     action(1, 0, 0);\n@@ -50,29 +62,57 @@ function action(mode, type, selection) {\n             status--;\n         \n         if (status == 0) {\n-            cm.sendSimple(\"If you use this regular coupon, your hair may transform into a random new look...do you still want to do it using #b#t5150040##k, I will do it anyways for you. But don't forget, it will be random!\\r\\n\\#L2#OK! (Uses #i5150040# #t5150040#)#l\");\n+            cm.sendSimple(\"Hi, I'm #p1012117#, the most charming and stylish stylist around. If you're looking for the best looking hairdos around, look no further!\\r\\n\\#L0##i5150040##t5150040##l\\r\\n\\#L1##i5150044##t5150044##l\");\n         } else if (status == 1) {\n-            cm.sendYesNo(\"If you use the EXP coupon your hair will change RANDOMLY with a chance to obtain a new experimental style that even you didn't think was possible. Are you going to use #b#t5150040##k and really change your hairstyle?\");\n-        }\n-        else if (status == 2) {\n-            if (cm.haveItem(5150040) == true){\n+            if (selection == 0) {\n+                beauty = 1;\n+                cm.sendYesNo(\"If you use this REGULAR coupon, your hair may transform into a random new look...do you still want to do it using #b#t5150040##k, I will do it anyways for you. But don't forget, it will be random!\");\n+            } else {\n+                beauty = 2;\n+                \n                 hairnew = Array();\n                 if (cm.getPlayer().getGender() == 0) {\n-                    for(var i = 0; i < mhair.length; i++) {\n-                        hairnew.push(mhair[i] + parseInt(cm.getPlayer().getHair() % 10));\n+                    for(var i = 0; i < mhair_v.length; i++) {\n+                        pushIfItemExists(hairnew, mhair_v[i] + parseInt(cm.getPlayer().getHair() % 10));\n                     }\n                 }\n                 else {\n-                    for(var i = 0; i < fhair.length; i++) {\n-                        hairnew.push(fhair[i] + parseInt(cm.getPlayer().getHair() % 10));\n+                    for(var i = 0; i < fhair_v.length; i++) {\n+                        pushIfItemExists(hairnew, fhair_v[i] + parseInt(cm.getPlayer().getHair() % 10));\n                     }\n                 }\n                 \n-                cm.gainItem(5150040, -1);\n-                cm.setHair(hairnew[Math.floor(Math.random() * hairnew.length)]);\n-                cm.sendOk(\"Enjoy your new and improved hairstyle!\");\n-            } else {\n-                cm.sendOk(\"Hmmm...it looks like you don't have our designated coupon...I'm afraid I can't give you a haircut without it. I'm sorry...\");\n+                cm.sendStyle(\"Using the SPECIAL coupon you can choose the style your hair will become. Pick the style that best provides you delight...\", hairnew);\n+            }\n+        } else if (status == 2) {\n+            if (beauty == 1) {\n+                if (cm.haveItem(5150040) == true){\n+                    hairnew = Array();\n+                    if (cm.getPlayer().getGender() == 0) {\n+                        for(var i = 0; i < mhair_r.length; i++) {\n+                            pushIfItemExists(hairnew, mhair_r[i] + parseInt(cm.getPlayer().getHair() % 10));\n+                        }\n+                    }\n+                    else {\n+                        for(var i = 0; i < fhair_r.length; i++) {\n+                            pushIfItemExists(hairnew, fhair_r[i] + parseInt(cm.getPlayer().getHair() % 10));\n+                        }\n+                    }\n+\n+                    cm.gainItem(5150040, -1);\n+                    cm.setHair(hairnew[Math.floor(Math.random() * hairnew.length)]);\n+                    cm.sendOk(\"Enjoy your new and improved hairstyle!\");\n+                } else {\n+                    cm.sendOk(\"Hmmm...it looks like you don't have our designated coupon...I'm afraid I can't give you a haircut without it. I'm sorry...\");\n+                }\n+            } else if (beauty == 2) {\n+                if (cm.haveItem(5150044) == true){\n+                    cm.gainItem(5150044, -1);\n+                    cm.setHair(hairnew[selection]);\n+                    cm.sendOk(\"Enjoy your new and improved hairstyle!\");\n+                } else {\n+                    cm.sendOk(\"Hmmm...it looks like you don't have our designated coupon...I'm afraid I can't give you a haircut without it. I'm sorry...\");\n+                }\n             }\n             \n             cm.dispose();"}, {"sha": "1a44a73f8644034da279441b3c9aa722557b8eeb", "filename": "scripts/npc/1052004.js", "status": "modified", "additions": 14, "deletions": 7, "changes": 21, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/1052004.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/1052004.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1052004.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -21,14 +21,21 @@\n */\n /* Denma the Owner\n \tHenesys VIP Eye Change.\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n var price = 1000000;\n-var mface = Array(20000, 20001, 20002, 20003, 20004, 20005, 20006, 20007, 20008, 20012, 20014);\n-var fface = Array(21000, 21001, 21002, 21003, 21004, 21005, 21006, 21007, 21008, 21012, 21014);\n+var mface_v = Array(20000, 20001, 20003, 20004, 20005, 20006, 20007, 20008, 20012, 20014, 20015, 20022, 20028, 20031);\n+var fface_v = Array(21000, 21001, 21002, 21003, 21004, 21005, 21006, 21007, 21008, 21012, 21013, 21014, 21023, 21026);\n var facenew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n function start() {\n     status = -1;\n     action(1, 0, 0);\n@@ -47,17 +54,17 @@ function action(mode, type, selection) {\n         else\n             status--;\n         if (status == 0) {\n-            cm.sendSimple(\"Well, hello! Welcome to the Henesys Plastic Surgery! Would you like to transform your face into something new? With a #b#t5152001##k, you can let us take care of the rest and have the face you've always wanted~!\\r\\n#L2#I already have a Coupon!#l\");\n+            cm.sendSimple(\"Well, hello! Welcome to the Henesys Plastic Surgery! Would you like to transform your face into something new? With a #b#t5152001##k, you can let us take care of the rest and have the face you've always wanted~!\\r\\n#L2#Plastic Surgery: #i5152001##t5152001##l\");\n         } else if (status == 1) {\n             if (selection == 2) {\n                 facenew = Array();\n                 if (cm.getPlayer().getGender() == 0) {\n-                    for(var i = 0; i < mface.length; i++)\n-                        facenew.push(mface[i] + cm.getPlayer().getFace()% 1000 - (cm.getPlayer().getFace()% 100));\n+                    for(var i = 0; i < mface_v.length; i++)\n+                        pushIfItemExists(facenew, mface_v[i] + cm.getPlayer().getFace()% 1000 - (cm.getPlayer().getFace()% 100));\n                 }\n                 if (cm.getPlayer().getGender() == 1) {\n-                    for(var i = 0; i < fface.length; i++)\n-                        facenew.push(fface[i] + cm.getPlayer().getFace()% 1000 - (cm.getPlayer().getFace()% 100));\n+                    for(var i = 0; i < fface_v.length; i++)\n+                        pushIfItemExists(facenew, fface_v[i] + cm.getPlayer().getFace()% 1000 - (cm.getPlayer().getFace()% 100));\n                 }\n                 cm.sendStyle(\"Let's see... I can totally transform your face into something new. Don't you want to try it? For #b#t5152001##k, you can get the face of your liking. Take your time in choosing the face of your preference.\", facenew);\n             }"}, {"sha": "40b92bf9f2c797e47822133b399898f94ca292f5", "filename": "scripts/npc/1052005.js", "status": "modified", "additions": 14, "deletions": 7, "changes": 21, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/1052005.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/1052005.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1052005.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -21,14 +21,21 @@\n */\n /* Dr. Feeble\n \tHenesys Random Eye Change.\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n var price = 1000000;\n-var mface = Array(20000, 20001, 20002, 20003, 20004, 20005, 20006, 20007, 20008, 20012, 20014);\n-var fface = Array(21000, 21001, 21002, 21003, 21004, 21005, 21006, 21007, 21008, 21012, 21014);\n+var mface_r = Array(20000, 20005, 20008, 20012, 20016, 20022, 20032);\n+var fface_r = Array(21000, 21002, 21008, 21014, 21020, 21024, 21029);\n var facenew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n function start() {\n     status = -1;\n     action(1, 0, 0);\n@@ -47,20 +54,20 @@ function action(mode, type, selection) {\n         else\n             status--;\n         if (status == 0) {\n-            cm.sendSimple(\"Hi, I pretty much shouldn't be doing this, but with a #b#t5152000##k, I will do it anyways for you. But don't forget, it will be random!\\r\\n#L2#I already have a Coupon!#l\");\n+            cm.sendSimple(\"Hi, I pretty much shouldn't be doing this, but with a #b#t5152000##k, I will do it anyways for you. But don't forget, it will be random!\\r\\n#L2#Plastic Surgery: #i5152000##t5152000##l\");\n         } else if (status == 1) {\n             if (selection == 2) {\n                 facenew = Array();\n                 if (cm.getPlayer().getGender() == 0) {\n-                    for(var i = 0; i < mface.length; i++) {\n-                        facenew.push(mface[i] + cm.getPlayer().getFace()\n+                    for(var i = 0; i < mface_r.length; i++) {\n+                        pushIfItemExists(facenew, mface_r[i] + cm.getPlayer().getFace()\n                             % 1000 - (cm.getPlayer().getFace()\n                                 % 100));\n                     }\n                 }\n                 if (cm.getPlayer().getGender() == 1) {\n-                    for(var i = 0; i < fface.length; i++) {\n-                        facenew.push(fface[i] + cm.getPlayer().getFace()\n+                    for(var i = 0; i < fface_r.length; i++) {\n+                        pushIfItemExists(facenew, fface_r[i] + cm.getPlayer().getFace()\n                             % 1000 - (cm.getPlayer().getFace()\n                                 % 100));\n                     }"}, {"sha": "2f8a772c1337b80678c667d0794b0781c03fd2e3", "filename": "scripts/npc/1052100.js", "status": "modified", "additions": 14, "deletions": 7, "changes": 21, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/1052100.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/1052100.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1052100.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -21,15 +21,22 @@\n */\n /* Don Giovanni\n \tKerning VIP Hair/Hair Color Change.\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n var hairprice = 1000000;\n var haircolorprice = 1000000;\n-var mhair = Array(30030, 30020, 30000, 30130, 30350, 30190, 30110, 30180, 30050, 30040, 30160);\n-var fhair = Array(31050, 31040, 31000, 31060, 31090, 31020, 31130, 31120, 31140, 31330, 31010);\n+var mhair_v = Array(30040, 30130, 30780, 30850, 30860, 30920, 33040);\n+var fhair_v = Array(31090, 31140, 31330, 31440, 31760, 31880, 34050);\n var hairnew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n function start() {\n     status = -1;\n     action(1, 0, 0);\n@@ -54,20 +61,20 @@ function action(mode, type, selection) {\n                 beauty = 1;\n                 hairnew = Array();\n                 if (cm.getPlayer().getGender() == 0) {\n-                    for(var i = 0; i < mhair.length; i++)\n-                        hairnew.push(mhair[i] + parseInt(cm.getPlayer().getHair() % 10));\n+                    for(var i = 0; i < mhair_v.length; i++)\n+                        pushIfItemExists(hairnew, mhair_v[i] + parseInt(cm.getPlayer().getHair() % 10));\n                 }\n                 if (cm.getPlayer().getGender() == 1) {\n-                    for(var i = 0; i < fhair.length; i++)\n-                        hairnew.push(fhair[i] + parseInt(cm.getPlayer().getHair() % 10));\n+                    for(var i = 0; i < fhair_v.length; i++)\n+                        pushIfItemExists(hairnew, fhair_v[i] + parseInt(cm.getPlayer().getHair() % 10));\n                 }\n                 cm.sendStyle(\"I can totally change up your hairstyle and make it look so good. Why don't you change it up a bit? If you have #b#t5150003##k I'll change it for you. Choose the one to your liking~.\", hairnew);\n             } else if (selection == 2) {\n                 beauty = 2;\n                 haircolor = Array();\n                 var current = parseInt(cm.getPlayer().getHair()/10)*10;\n                 for(var i = 0; i < 8; i++) {\n-                    haircolor.push(current + i);\n+                    pushIfItemExists(haircolor, current + i);\n                 }\n                 cm.sendStyle(\"I can totally change your haircolor and make it look so good. Why don't you change it up a bit? With #b#t5151003##k I'll change it for you. Choose the one to your liking.\", haircolor);\n             }"}, {"sha": "f35f863af2252e223e2e4777d83e97e27ae49f88", "filename": "scripts/npc/1052101.js", "status": "modified", "additions": 44, "deletions": 10, "changes": 54, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/1052101.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/1052101.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1052101.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -21,15 +21,24 @@\n */\n /* Andre\n \tKerning Random Hair/Hair Color Change.\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n var hairprice = 1000000;\n var haircolorprice = 1000000;\n-var mhair = Array(30130, 30350, 30190, 30110, 30180, 30050, 30040, 30160, 30770, 30620, 30550, 30520);\n-var fhair = Array(31060, 31090, 31020, 31130, 31120, 31140, 31330, 31010, 31520, 31440, 31750, 31620);\n+var mhair_r = Array(30040, 30130, 30520, 30770, 30780, 30850, 30920, 33040);\n+var fhair_r = Array(31060, 31140, 31330, 31440, 31520, 31750, 31760, 31880, 34050);\n+var mhair_e = Array(30130, 30430, 30520, 30770, 30780, 30850, 30920, 33040);\n+var fhair_e = Array(31060, 31140, 31330, 31520, 31760, 31880, 34010, 34050);\n var hairnew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n function start() {\n     status = -1;\n     action(1, 0, 0);\n@@ -48,31 +57,47 @@ function action(mode, type, selection) {\n         else\n             status--;\n         if (status == 0) {\n-            cm.sendSimple(\"I'm Andre, Don's assistant. Everyone calls me Andre, though. If you have a #b#t5150011##k or a #b#t5151002##k, please let me change your hairdo!\\r\\n#L1#Haircut: #i5150011##t5150011##l\\r\\n#L2#Dye your hair: #i5151002##t5151002##l\");\n+            cm.sendSimple(\"I'm Andre, Don's assistant. Everyone calls me Andre, though. If you have a #b#t5150002##k, #b#t5150011##k or a #b#t5151002##k, please let me change your hairdo!\\r\\n#L0#Haircut: #i5150002##t5150002##l\\r\\n#L1#Haircut: #i5150011##t5150011##l\\r\\n#L2#Dye your hair: #i5151002##t5151002##l\");\n         } else if (status == 1) {\n-            if (selection == 1) {\n+            if (selection == 0) {\n+                beauty = 3;\n+                hairnew = Array();\n+                if (cm.getPlayer().getGender() == 0) {\n+                    for(var i = 0; i < mhair_r.length; i++) {\n+                        pushIfItemExists(hairnew, mhair_r[i] + parseInt(cm.getPlayer().getHair()\n+                            % 10));\n+                    }\n+                }\n+                if (cm.getPlayer().getGender() == 1) {\n+                    for(var i = 0; i < fhair_r.length; i++) {\n+                        pushIfItemExists(hairnew, fhair_r[i] + parseInt(cm.getPlayer().getHair()\n+                            % 10));\n+                    }\n+                }\n+                cm.sendYesNo(\"If you use the REG coupon your hair will change RANDOMLY with a chance to obtain a new experimental style that I came up with. Are you going to use #b#t5150011##k and really change your hairstyle?\");\n+            } else if (selection == 1) {\n                 beauty = 1;\n                 hairnew = Array();\n                 if (cm.getPlayer().getGender() == 0) {\n-                    for(var i = 0; i < mhair.length; i++) {\n-                        hairnew.push(mhair[i] + parseInt(cm.getPlayer().getHair()\n+                    for(var i = 0; i < mhair_e.length; i++) {\n+                        pushIfItemExists(hairnew, mhair_e[i] + parseInt(cm.getPlayer().getHair()\n                             % 10));\n                     }\n                 }\n                 if (cm.getPlayer().getGender() == 1) {\n-                    for(var i = 0; i < fhair.length; i++) {\n-                        hairnew.push(fhair[i] + parseInt(cm.getPlayer().getHair()\n+                    for(var i = 0; i < fhair_e.length; i++) {\n+                        pushIfItemExists(hairnew, fhair_e[i] + parseInt(cm.getPlayer().getHair()\n                             % 10));\n                     }\n                 }\n-                cm.sendYesNo(\"If you use the EXP coupon your hair will change RANDOMLY with a chance to obtain a new experimental style that I came up with. Are you going to use #b#t5150010##k and really change your hairstyle?\");\n+                cm.sendYesNo(\"If you use the EXP coupon your hair will change RANDOMLY with a chance to obtain a new experimental style that I came up with. Are you going to use #b#t5150011##k and really change your hairstyle?\");\n             } else if (selection == 2) {\n                 beauty = 2;\n                 haircolor = Array();\n                 var current = parseInt(cm.getPlayer().getHair()\n                     /10)*10;\n                 for(var i = 0; i < 8; i++) {\n-                    haircolor.push(current + i);\n+                    pushIfItemExists(haircolor, current + i);\n                 }\n                 cm.sendYesNo(\"If you use a regular coupon your hair will change RANDOMLY. Do you still want to use #b#t5151002##k and change it up?\");\n             }\n@@ -97,6 +122,15 @@ function action(mode, type, selection) {\n                     cm.sendOk(\"Hmmm...it looks like you don't have our designated coupon...I'm afraid I can't dye your hair without it. I'm sorry...\");\n                 }\n             }\n+            if (beauty == 3){\n+                if (cm.haveItem(5150002) == true){\n+                    cm.gainItem(5150002, -1);\n+                    cm.setHair(hairnew[Math.floor(Math.random() * hairnew.length)]);\n+                    cm.sendOk(\"Enjoy your new and improved hairstyle!\");\n+                } else {\n+                    cm.sendOk(\"Hmmm...it looks like you don't have our designated coupon...I'm afraid I can't give you a haircut without it. I'm sorry...\");\n+                }\n+            }\n             if (beauty == 0){\n                 if (selection == 0 && cm.getMeso() >= hairprice) {\n                     cm.gainMeso(-hairprice);"}, {"sha": "64dcfb3bd6fbae597816f55a51955473d4442475", "filename": "scripts/npc/2010001.js", "status": "modified", "additions": 14, "deletions": 6, "changes": 20, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2010001.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2010001.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2010001.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -21,15 +21,23 @@\n \n /* Mino the Owner\n \tOrbis VIP Hair/Hair Color Change.\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n var hairprice = 1000000;\n var haircolorprice = 1000000;\n-var mhair = Array(30030, 30020, 30000, 30270, 30230, 30260, 30280, 30240, 30290, 30340);\n-var fhair = Array(31040, 31000, 31250, 31220, 31260, 31240, 31110, 31270, 31030, 31230);\n+var mhair_v = Array(30230, 30260, 30280, 30340, 30490);\n+var fhair_v = Array(31110, 31220, 31230, 31630, 31790);\n var hairnew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n function start() {\n     status = -1;\n     action(1, 0, 0);\n@@ -54,14 +62,14 @@ function action(mode, type, selection) {\n                 beauty = 1;\n                 hairnew = Array();\n                 if (cm.getPlayer().getGender() == 0) {\n-                    for(var i = 0; i < mhair.length; i++) {\n-                        hairnew.push(mhair[i] + parseInt(cm.getPlayer().getHair()\n+                    for(var i = 0; i < mhair_v.length; i++) {\n+                        pushIfItemExists(hairnew, mhair_v[i] + parseInt(cm.getPlayer().getHair()\n                             % 10));\n                     }\n                 }\n                 if (cm.getPlayer().getGender() == 1) {\n                     for(var i = 0; i < fhair.length; i++) {\n-                        hairnew.push(fhair[i] + parseInt(cm.getPlayer().getHair()\n+                        pushIfItemExists(hairnew, fhair[i] + parseInt(cm.getPlayer().getHair()\n                             % 10));\n                     }\n                 }\n@@ -71,7 +79,7 @@ function action(mode, type, selection) {\n                 haircolor = Array();\n                 var current = parseInt(cm.getPlayer().getHair()/10)*10;\n                 for(var i = 0; i < 8; i++) {\n-                    haircolor.push(current + i);\n+                    pushIfItemExists(haircolor, current + i);\n                 }\n                 cm.sendStyle(\"I can totally change your haircolor and make it look so good. Why don't you change it up a bit? With #b#t5151005##k, I'll take care of the rest. Choose the color of your liking!\", haircolor);\n             }"}, {"sha": "9be9a9784c278b981ea60958868411060bb3c1e3", "filename": "scripts/npc/2010002.js", "status": "modified", "additions": 15, "deletions": 7, "changes": 22, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2010002.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2010002.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2010002.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -21,14 +21,22 @@\n \n /* Franz the Owner\n \tOrbis VIP Eye Change.\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n var price = 1000000;\n-var mface = Array(20000, 20001, 20002, 20003, 20004, 20005, 20006, 20007, 20008, 20012, 20014);\n-var fface = Array(21000, 21001, 21002, 21003, 21004, 21005, 21006, 21007, 21008, 21012, 21014);\n+var mface_v = Array(20000, 20001, 20003, 20004, 20005, 20006, 20007, 20008, 20012, 20014, 20022, 20028, 20031);\n+var fface_v = Array(21000, 21001, 21002, 21003, 21004, 21005, 21006, 21007, 21008, 21012, 21014, 21023, 21026);\n var facenew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n function start() {\n     status = -1;\n     action(1, 0, 0);\n@@ -47,20 +55,20 @@ function action(mode, type, selection) {\n         else\n             status--;\n         if (status == 0) {\n-            cm.sendSimple(\"Well well well, welcome to the Orbis Plastic Surgery! Would you like to transform your face into something new? With a #b#t5152005##k, you can let us take care of the rest and have the face you've always wanted~!\\r\\n#L2#I already have a Coupon!#l\");\n+            cm.sendSimple(\"Well well well, welcome to the Orbis Plastic Surgery! Would you like to transform your face into something new? With a #b#t5152005##k, you can let us take care of the rest and have the face you've always wanted~!\\r\\n#L2#Plastic Surgery: #i5152005##t5152005##l\");\n         } else if (status == 1) {\n             if (selection == 2) {\n                 facenew = Array();\n                 if (cm.getPlayer().getGender() == 0) {\n-                    for(var i = 0; i < mface.length; i++) {\n-                        facenew.push(mface[i] + cm.getPlayer().getFace()\n+                    for(var i = 0; i < mface_v.length; i++) {\n+                        pushIfItemExists(facenew, mface_v[i] + cm.getPlayer().getFace()\n                             % 1000 - (cm.getPlayer().getFace()\n                                 % 100));\n                     }\n                 }\n                 if (cm.getPlayer().getGender() == 1) {\n-                    for(var i = 0; i < fface.length; i++) {\n-                        facenew.push(fface[i] + cm.getPlayer().getFace()\n+                    for(var i = 0; i < fface_v.length; i++) {\n+                        pushIfItemExists(facenew, fface_v[i] + cm.getPlayer().getFace()\n                             % 1000 - (cm.getPlayer().getFace()\n                                 % 100));\n                     }"}, {"sha": "27542016c6486c0300f5eca25a2fd779363c1b08", "filename": "scripts/npc/2012007.js", "status": "modified", "additions": 60, "deletions": 16, "changes": 76, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2012007.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2012007.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2012007.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -21,17 +21,29 @@\n \n /* Rinz the assistant\n \tOrbis Random Hair/Hair Color Change.\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n var hairprice = 1000000;\n var haircolorprice = 1000000;\n-var mhair = Array(30030, 30020, 30000, 30270, 30230, 30260, 30280, 30240, 30290, 30340, 30370, 30630, 30530, 30760);\n-var fhair = Array(31040, 31000, 31250, 31220, 31260, 31240, 31110, 31270, 31030, 31230, 31530, 31710, 31320, 31650, 31630);\n+var mhair_d = Array(30030, 30020, 30000, 30270, 30230);\n+var fhair_d = Array(31040, 31000, 31250, 31220, 31260);\n+var mhair_r = Array(30230, 30260, 30280, 30340, 30490, 30530, 30630, 30740);\n+var fhair_r = Array(31110, 31220, 31230, 31630, 31650, 31710, 31790, 31890, 31930);\n+var mhair_e = Array(30230, 30280, 30340, 30490, 30530, 30740);\n+var fhair_e = Array(31110, 31220, 31230, 31710, 31790, 31890, 31930);\n var hairnew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n function start() {\n-    cm.sendSimple(\"I'm Rinz, the assistant. Do you have #b#t5150013##k or #b#t5151004##k with you? If so, what do you think about letting me take care of your hairdo? What do you want to do with your hair?\\r\\n#L1#Haircut: #i5150013##t5150013##l\\r\\n#L2#Dye your hair: #i5151004##t5151004##l\");\n+    cm.sendSimple(\"I'm Rinz, the assistant. Do you have #b#t5154000##k, #b#t5150004##k, #b#t5150013##k or #b#t5151004##k with you? If so, what do you think about letting me take care of your hairdo? What do you want to do with your hair?\\r\\n#L0#Haircut: #i5154000##t5154000##l\\r\\n#L1#Haircut: #i5150004##t5150004##l\\r\\n#L2#Haircut: #i5150013##t5150013##l\\r\\n#L3#Dye your hair: #i5151004##t5151004##l\");\n }\n \n function action(mode, type, selection) {\n@@ -40,23 +52,43 @@ function action(mode, type, selection) {\n     else {\n         status++;\n         if (status == 1) {\n-            if (selection == 1) {\n-                beauty = 1;\n+            if (selection == 0) {\n+                beauty = 4;\n                 hairnew = Array();\n                 if (cm.getPlayer().getGender() == 0)\n-                    for(var i = 0; i < mhair.length; i++)\n-                        hairnew.push(mhair[i] + parseInt(cm.getPlayer().getHair() % 10));\n+                    for(var i = 0; i < mhair_d.length; i++)\n+                        pushIfItemExists(hairnew, mhair_d[i] + parseInt(cm.getPlayer().getHair() % 10));\n                 else\n-                    for (var i = 0; i < fhair.length; i++)\n-                        hairnew.push(fhair[i] + parseInt(cm.getPlayer().getHair() % 10));\n-                cm.sendYesNo(\"If you use the EXP coupon your hair will change RANDOMLY with a chance to obtain a new experimental style that I came up with. Are you going to use #b#t5150010##k and really change your hairstyle?\");\n+                    for (var i = 0; i < fhair_d.length; i++)\n+                        pushIfItemExists(hairnew, fhair_d[i] + parseInt(cm.getPlayer().getHair() % 10));\n+                cm.sendYesNo(\"If you use the DRT coupon your hair will change RANDOMLY with a chance to obtain the basic styles that I came up with. Are you going to use #b#t5154000##k and really change your hairstyle?\");\n+            } else if (selection == 1) {\n+                beauty = 3;\n+                hairnew = Array();\n+                if (cm.getPlayer().getGender() == 0)\n+                    for(var i = 0; i < mhair_r.length; i++)\n+                        pushIfItemExists(hairnew, mhair_r[i] + parseInt(cm.getPlayer().getHair() % 10));\n+                else\n+                    for (var i = 0; i < fhair_r.length; i++)\n+                        pushIfItemExists(hairnew, fhair_r[i] + parseInt(cm.getPlayer().getHair() % 10));\n+                cm.sendYesNo(\"If you use the REG coupon your hair will change RANDOMLY. Are you going to use #b#t5150004##k and really change your hairstyle?\");\n             } else if (selection == 2) {\n+                beauty = 1;\n+                hairnew = Array();\n+                if (cm.getPlayer().getGender() == 0)\n+                    for(var i = 0; i < mhair_e.length; i++)\n+                        pushIfItemExists(hairnew, mhair_e[i] + parseInt(cm.getPlayer().getHair() % 10));\n+                else\n+                    for (var i = 0; i < fhair_e.length; i++)\n+                        pushIfItemExists(hairnew, fhair_e[i] + parseInt(cm.getPlayer().getHair() % 10));\n+                cm.sendYesNo(\"If you use the EXP coupon your hair will change RANDOMLY with a chance to obtain a new experimental style that I came up with. Are you going to use #b#t5150013##k and really change your hairstyle?\");\n+            } else if (selection == 3) {\n                 beauty = 2;\n                 haircolor = Array();\n                 var current = (cm.getPlayer().getHair() / 10) | 0;\n                 for (var i = 0; i < 8; i++)\n-                    haircolor.push(current + i);\n-                cm.sendYesNo(\"If you use a regular coupon your hair will change RANDOMLY. Do you still want to use #b#t5151004##k and change it up?\");\n+                    pushIfItemExists(haircolor, current + i);\n+                cm.sendYesNo(\"If you use a regular coupon your hair color will change RANDOMLY. Do you still want to use #b#t5151004##k and change it up?\");\n             }\n         }\n         else if (status == 2){\n@@ -68,16 +100,28 @@ function action(mode, type, selection) {\n                     cm.sendOk(\"Enjoy your new and improved hairstyle!\");\n                 } else\n                     cm.sendOk(\"Hmmm...it looks like you don't have our designated coupon...I'm afraid I can't give you a haircut without it. I'm sorry...\");\n-            }\n-            if (beauty == 2){\n+            } else if (beauty == 2){\n                 if (cm.haveItem(5151004)){\n                     cm.gainItem(5151004, -1);\n                     cm.setHair(haircolor[Math.floor(Math.random() * haircolor.length)]);\n                     cm.sendOk(\"Enjoy your new and improved haircolor!\");\n                 } else\n                     cm.sendOk(\"Hmmm...it looks like you don't have our designated coupon...I'm afraid I can't dye your hair without it. I'm sorry...\");\n-            }\n-            if (beauty == 0){\n+            } else if (beauty == 3){\n+                if (cm.haveItem(5150004)){\n+                    cm.gainItem(5150004, -1);\n+                    cm.setHair(hairnew[Math.floor(Math.random() * hairnew.length)]);\n+                    cm.sendOk(\"Enjoy your new and improved hairstyle!\");\n+                } else\n+                    cm.sendOk(\"Hmmm...it looks like you don't have our designated coupon...I'm afraid I can't give you a haircut without it. I'm sorry...\");\n+            } else if (beauty == 4){\n+                if (cm.haveItem(5154000)){\n+                    cm.gainItem(5154000, -1);\n+                    cm.setHair(hairnew[Math.floor(Math.random() * hairnew.length)]);\n+                    cm.sendOk(\"Enjoy your new and improved hairstyle!\");\n+                } else\n+                    cm.sendOk(\"Hmmm...it looks like you don't have our designated coupon...I'm afraid I can't give you a haircut without it. I'm sorry...\");\n+            } else if (beauty == 0){\n                 if (selection == 0 && cm.getMeso() >= hairprice) {\n                     cm.gainMeso(-hairprice);\n                     cm.gainItem(5150013, 1);"}, {"sha": "914dd002cbebff40f5374cb6e2f51c1ab030b858", "filename": "scripts/npc/2012008.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2012008.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2012008.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2012008.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -27,7 +27,7 @@ var price = 1000000;\n var skin = Array(0, 1, 2, 3, 4);\n \n function start() {\n-    cm.sendSimple(\"Well, hello! Welcome to the Orbis Skin-Care~! Would you like to have a firm, tight, healthy looking skin like mine?  With #b#t5153001##k, you can let us take care of the rest and have the kind of skin you've always wanted~!\\r\\n#L2#I already have a Coupon!#l\");\n+    cm.sendSimple(\"Well, hello! Welcome to the Orbis Skin-Care~! Would you like to have a firm, tight, healthy looking skin like mine?  With #b#t5153001##k, you can let us take care of the rest and have the kind of skin you've always wanted~!\\r\\n#L2#Skin Care: #i5153001##t5153001##l\");\n }\n \n function action(mode, type, selection) {"}, {"sha": "6d426fd260736cd075b80679e6105248bcd4c326", "filename": "scripts/npc/2012009.js", "status": "modified", "additions": 15, "deletions": 7, "changes": 22, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2012009.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2012009.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2012009.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -21,16 +21,24 @@\n \n /* Riza the Assistant\n \tOrbis Random Eye Change.\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n var price = 1000000;\n-var mface = Array(20000, 20001, 20002, 20003, 20004, 20005, 20006, 20007, 20008, 20012, 20014);\n-var fface = Array(21000, 21001, 21002, 21003, 21004, 21005, 21006, 21007, 21008, 21012, 21014);\n+var mface_r = Array(20003, 20011, 20021, 20022, 20023, 20027, 20031);\n+var fface_r = Array(21004, 21007, 21010, 21012, 21020, 21021, 21030);\n var facenew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n function start() {\n-    cm.sendSimple(\"Hi, I pretty much shouldn't be doing this, but with a #b#t5152004##k, I will do it anyways for you. But don't forget, it will be random!\\r\\n#L2#I already have a Coupon!#l\");\n+    cm.sendSimple(\"Hi, I pretty much shouldn't be doing this, but with a #b#t5152004##k, I will do it anyways for you. But don't forget, it will be random!\\r\\n#L2#Plastic Surgery: #i5152004##t5152004##l\");\n }\n \n function action(mode, type, selection) {\n@@ -42,11 +50,11 @@ function action(mode, type, selection) {\n             if (selection == 2) {\n                 facenew = Array();\n                 if (cm.getPlayer().getGender() == 0)\n-                    for (var i = 0; i < mface.length; i++)\n-                        facenew.push(mface[i] + cm.getPlayer().getFace() % 1000 - (cm.getPlayer().getFace() % 100));\n+                    for (var i = 0; i < mface_r.length; i++)\n+                        pushIfItemExists(facenew, mface_r[i] + cm.getPlayer().getFace() % 1000 - (cm.getPlayer().getFace() % 100));\n                 else\n-                    for (var i = 0; i < fface.length; i++)\n-                        facenew.push(fface[i] + cm.getPlayer().getFace() % 1000 - (cm.getPlayer().getFace() % 100));\n+                    for (var i = 0; i < fface_r.length; i++)\n+                        pushIfItemExists(facenew, fface_r[i] + cm.getPlayer().getFace() % 1000 - (cm.getPlayer().getFace() % 100));\n                 cm.sendYesNo(\"If you use the regular coupon, your face may transform into a random new look...do you still want to do it using #b#t5152004##k?\");\n             }\n         }"}, {"sha": "cd4ccf4708790a61412456231a8e07cb72414dfa", "filename": "scripts/npc/2040019.js", "status": "modified", "additions": 15, "deletions": 7, "changes": 22, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2040019.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2040019.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2040019.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -21,14 +21,22 @@\n \n /* Everton\n \tLudibrium Random Eye Change.\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n var price = 1000000;\n-var mface = Array(20000, 20001, 20002, 20003, 20004, 20005, 20006, 20007, 20008, 20012, 20014);\n-var fface = Array(21000, 21001, 21002, 21003, 21004, 21005, 21006, 21007, 21008, 21012, 21014);\n+var mface_r = Array(20001, 20003, 20007, 20013, 20021, 20023, 20025);\n+var fface_r = Array(21002, 21004, 21006, 21008, 21022, 21027, 21029);\n var facenew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n function start() {\n     status = -1;\n     action(1, 0, 0);\n@@ -47,20 +55,20 @@ function action(mode, type, selection) {\n         else\n             status--;\n         if (status == 0) {\n-            cm.sendSimple(\"Well, I'm bored, so I'll help out the doctor. For a #b#t5152006##k, I will change the way you look. But don't forget, it will be random!\\r\\n#L2#I already have a Coupon!#l\");\n+            cm.sendSimple(\"Well, I'm bored, so I'll help out the doctor. For a #b#t5152006##k, I will change the way you look. But don't forget, it will be random!\\r\\n#L2#Plastic Surgery: #i5152006##t5152006##l\");\n         } else if (status == 1) {\n             if (selection == 2) {\n                 facenew = Array();\n                 if (cm.getPlayer().getGender() == 0) {\n-                    for(var i = 0; i < mface.length; i++) {\n-                        facenew.push(mface[i] + cm.getPlayer().getFace()\n+                    for(var i = 0; i < mface_r.length; i++) {\n+                        pushIfItemExists(facenew, mface_r[i] + cm.getPlayer().getFace()\n                             % 1000 - (cm.getPlayer().getFace()\n                                 % 100));\n                     }\n                 }\n                 if (cm.getPlayer().getGender() == 1) {\n-                    for(var i = 0; i < fface.length; i++) {\n-                        facenew.push(fface[i] + cm.getPlayer().getFace()\n+                    for(var i = 0; i < fface_r.length; i++) {\n+                        pushIfItemExists(facenew, fface_r[i] + cm.getPlayer().getFace()\n                             % 1000 - (cm.getPlayer().getFace()\n                                 % 100));\n                     }"}, {"sha": "d7c2f8ad23fcf5e4eda6410816bd77f2064ece34", "filename": "scripts/npc/2041007.js", "status": "modified", "additions": 15, "deletions": 7, "changes": 22, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2041007.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2041007.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2041007.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -21,15 +21,23 @@\n \n /* Miyu\n \tLudibrium VIP Hair/Hair Color Change.\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n var hairprice = 1000000;\n var haircolorprice = 1000000;\n-var mhair = Array(30030, 30020, 30000, 30250, 30190, 30150, 30050, 30280, 30240, 30300, 30160);\n-var fhair = Array(31040, 31000, 31150, 31280, 31160, 31120, 31290, 31270, 31030, 31230, 31010);\n+var mhair_v = Array(30160, 30190, 30250, 30640, 30660, 30840, 30870, 30990);\n+var fhair_v = Array(31270, 31290, 31550, 31680, 31810, 31830, 31840, 31870);\n var hairnew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n function start() {\n     status = -1;\n     action(1, 0, 0);\n@@ -54,13 +62,13 @@ function action(mode, type, selection) {\n                 beauty = 1;\n                 hairnew = Array();\n                 if (cm.getPlayer().getGender() == 0) {\n-                    for(var i = 0; i < mhair.length; i++) {\n-                        hairnew.push(mhair[i] + parseInt(cm.getPlayer().getHair()% 10));\n+                    for(var i = 0; i < mhair_v.length; i++) {\n+                        pushIfItemExists(hairnew, mhair_v[i] + parseInt(cm.getPlayer().getHair()% 10));\n                     }\n                 }\n                 if (cm.getPlayer().getGender() == 1) {\n-                    for(var i = 0; i < fhair.length; i++) {\n-                        hairnew.push(fhair[i] + parseInt(cm.getPlayer().getHair()% 10));\n+                    for(var i = 0; i < fhair_v.length; i++) {\n+                        pushIfItemExists(hairnew, fhair_v[i] + parseInt(cm.getPlayer().getHair()% 10));\n                     }\n                 }\n                 cm.sendStyle(\"I can completely change the look of your hair. Aren't you ready for a change? With #b#t5150007##k, I'll take care of the rest for you. Choose the style of your liking!\", hairnew);\n@@ -69,7 +77,7 @@ function action(mode, type, selection) {\n                 haircolor = Array();\n                 var current = parseInt(cm.getPlayer().getHair()/10)*10;\n                 for(var i = 0; i < 8; i++) {\n-                    haircolor.push(current + i);\n+                    pushIfItemExists(haircolor, current + i);\n                 }\n                 cm.sendStyle(\"I can completely change the color of your hair. Aren't you ready for a change? With #b#t5151007##k, I'll take care of the rest. Choose the color of your liking!\", haircolor);\n             }"}, {"sha": "d89c13a6d2d03699b0feff7819873a6831aece26", "filename": "scripts/npc/2041009.js", "status": "modified", "additions": 42, "deletions": 10, "changes": 52, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2041009.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2041009.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2041009.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -21,15 +21,25 @@\n \n /* Mini\n \tLudibrium Random Hair/Hair Color Change.\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n var hairprice = 1000000;\n var haircolorprice = 1000000;\n-var mhair = Array(30250, 30190, 30150, 30050, 30280, 30240, 30300, 30160, 30650, 30540, 30640, 30680);\n-var fhair = Array(31150, 31280, 31160, 31120, 31290, 31270, 31030, 31230, 31010, 31640, 31540, 31680, 31600);\n+var mhair_r = Array(30190, 30220, 30250, 30540, 30610, 30620, 30640, 30650, 30660, 30840, 30870, 30940, 30990);\n+var fhair_r = Array(31170, 31270, 31290, 31510, 31540, 31550, 31600, 31640, 31680, 31810, 31830, 31840, 31870);\n+var mhair_e = Array(30030, 30190, 30220, 30250, 30540, 30610, 30620, 30640, 30650, 30660, 30840, 30990);\n+var fhair_e = Array(31170, 31270, 31430, 31510, 31540, 31550, 31600, 31680, 31810, 31830, 31840, 31870);\n var hairnew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n function start() {\n     status = -1;\n     action(1, 0, 0);\n@@ -48,28 +58,42 @@ function action(mode, type, selection) {\n         else\n             status--;\n         if (status == 0) {\n-            cm.sendSimple(\"Hi, I'm the assistant here. Don't worry, I'm plenty good enough for this. If you have #b#t5150012##k or #b#t5151006##k by any chance, then allow me to take care of the rest, alright?\\r\\n#L1#Haircut: #i5150012##t5150012##l\\r\\n#L2#Dye your hair: #i5151006##t5151006##l\");\n+            cm.sendSimple(\"Hi, I'm the assistant here. Don't worry, I'm plenty good enough for this. If you have #b#t5150006##k, #b#t5150012##k or #b#t5151006##k by any chance, then allow me to take care of the rest, alright?\\r\\n#L0#Haircut: #i5150006##t5150006##l\\r\\n#L1#Haircut: #i5150012##t5150012##l\\r\\n#L2#Dye your hair: #i5151006##t5151006##l\");\n         } else if (status == 1) {\n-            if (selection == 1) {\n+            if (selection == 0) {\n+                beauty = 3;\n+                hairnew = Array();\n+                if (cm.getPlayer().getGender() == 0) {\n+                    for(var i = 0; i < mhair_r.length; i++) {\n+                        pushIfItemExists(hairnew, mhair_r[i] + parseInt(cm.getPlayer().getHair()  % 10));\n+                    }\n+                }\n+                if (cm.getPlayer().getGender() == 1) {\n+                    for(var i = 0; i < fhair_r.length; i++) {\n+                        pushIfItemExists(hairnew, fhair_r[i] + parseInt(cm.getPlayer().getHair() % 10));\n+                    }\n+                }\n+                cm.sendYesNo(\"If you use the REG coupon your hair will change RANDOMLY with a chance to obtain a new experimental style that I came up with. Are you going to use #b#t5150012##k and really change your hairstyle?\");\n+            } else if (selection == 1) {\n                 beauty = 1;\n                 hairnew = Array();\n                 if (cm.getPlayer().getGender() == 0) {\n-                    for(var i = 0; i < mhair.length; i++) {\n-                        hairnew.push(mhair[i] + parseInt(cm.getPlayer().getHair()  % 10));\n+                    for(var i = 0; i < mhair_e.length; i++) {\n+                        pushIfItemExists(hairnew, mhair_e[i] + parseInt(cm.getPlayer().getHair()  % 10));\n                     }\n                 }\n                 if (cm.getPlayer().getGender() == 1) {\n-                    for(var i = 0; i < fhair.length; i++) {\n-                        hairnew.push(fhair[i] + parseInt(cm.getPlayer().getHair() % 10));\n+                    for(var i = 0; i < fhair_e.length; i++) {\n+                        pushIfItemExists(hairnew, fhair_e[i] + parseInt(cm.getPlayer().getHair() % 10));\n                     }\n                 }\n-                cm.sendYesNo(\"If you use the EXP coupon your hair will change RANDOMLY with a chance to obtain a new experimental style that I came up with. Are you going to use #b#t5150010##k and really change your hairstyle?\");\n+                cm.sendYesNo(\"If you use the EXP coupon your hair will change RANDOMLY with a chance to obtain a new experimental style that I came up with. Are you going to use #b#t5150012##k and really change your hairstyle?\");\n             } else if (selection == 2) {\n                 beauty = 2;\n                 haircolor = Array();\n                 var current = parseInt(cm.getPlayer().getHair()/10)*10;\n                 for(var i = 0; i < 8; i++) {\n-                    haircolor.push(current + i);\n+                    pushIfItemExists(haircolor, current + i);\n                 }\n                 cm.sendYesNo(\"If you use a regular coupon your hair will change RANDOMLY. Do you still want to use #b#t5151006##k and change it up?\");\n             }\n@@ -92,6 +116,14 @@ function action(mode, type, selection) {\n                 } else {\n                     cm.sendOk(\"Hmmm...it looks like you don't have our designated coupon...I'm afraid I can't dye your hair without it. I'm sorry...\");\n                 }\n+            } else if (beauty == 3){\n+                if (cm.haveItem(5150006)){\n+                    cm.gainItem(5150006, -1);\n+                    cm.setHair(haircolor[Math.floor(Math.random() * haircolor.length)]);\n+                    cm.sendOk(\"Enjoy your new and improved haircolor!\");\n+                } else {\n+                    cm.sendOk(\"Hmmm...it looks like you don't have our designated coupon...I'm afraid I can't dye your hair without it. I'm sorry...\");\n+                }\n             } else if (beauty == 0){\n                 if (selection == 0 && cm.getMeso() >= hairprice) {\n                     cm.gainMeso(-hairprice);"}, {"sha": "d76e15c5fdfedfab76cf071775c42d8f9eb2ec6d", "filename": "scripts/npc/2041010.js", "status": "modified", "additions": 15, "deletions": 7, "changes": 22, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2041010.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2041010.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2041010.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -21,14 +21,22 @@\n \n /* Ellie\n \tLudibrium VIP Eye Change.\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n var price = 1000000;\n-var mface = Array(20000, 20001, 20002, 20003, 20004, 20005, 20006, 20007, 20008, 20012, 20014);\n-var fface = Array(21000, 21001, 21002, 21003, 21004, 21005, 21006, 21007, 21008, 21012, 21014);\n+var mface_v = Array(20000, 20001, 20003, 20004, 20005, 20006, 20007, 20008, 20011, 20012, 20014, 20031);\n+var fface_v = Array(21000, 21001, 21002, 21003, 21004, 21005, 21006, 21007, 21008, 21010, 21012, 21014);\n var facenew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n function start() {\n     status = -1;\n     action(1, 0, 0);\n@@ -47,20 +55,20 @@ function action(mode, type, selection) {\n         else\n             status--;\n         if (status == 0) {\n-            cm.sendSimple(\"Well, hello! Welcome to the Ludibrium Plastic Surgery! Would you like to transform your face into something new? With a #b#t5152007##k, you can let us take care of the rest and have the face you've always wanted~!\\r\\n#L2#I already have a Coupon!#l\");\n+            cm.sendSimple(\"Well, hello! Welcome to the Ludibrium Plastic Surgery! Would you like to transform your face into something new? With a #b#t5152007##k, you can let us take care of the rest and have the face you've always wanted~!\\r\\n#L2#Plastic Surgery: #i5152007##t5152007##l\");\n         } else if (status == 1) {\n             if (selection == 2) {\n                 facenew = Array();\n                 if (cm.getPlayer().getGender() == 0) {\n-                    for(var i = 0; i < mface.length; i++) {\n-                        facenew.push(mface[i] + cm.getPlayer().getFace()\n+                    for(var i = 0; i < mface_v.length; i++) {\n+                        pushIfItemExists(facenew, mface_v[i] + cm.getPlayer().getFace()\n                             % 1000 - (cm.getPlayer().getFace()\n                                 % 100));\n                     }\n                 }\n                 if (cm.getPlayer().getGender() == 1) {\n-                    for(var i = 0; i < fface.length; i++) {\n-                        facenew.push(fface[i] + cm.getPlayer().getFace()\n+                    for(var i = 0; i < fface_v.length; i++) {\n+                        pushIfItemExists(facenew, fface_v[i] + cm.getPlayer().getFace()\n                             % 1000 - (cm.getPlayer().getFace()\n                                 % 100));\n                     }"}, {"sha": "41f54a44452552405d53c1d08d930aa274bbbd85", "filename": "scripts/npc/2041013.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2041013.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2041013.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2041013.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -41,7 +41,7 @@ function action(mode, type, selection) {\n \t\telse\n \t\t\tstatus--;\n \t\tif (status == 0) {\n-\t\t\tcm.sendSimple(\"Oh, hello! Welcome to the Ludibrium Skin-Care! Are you interested in getting tanned and looking sexy? How about a beautiful, snow-white skin? If you have #b#t5153002##k, you can let us take care of the rest and have the kind of skin you've always dreamed of!\\r\\n#L2#I already have a Coupon!#l\");\n+\t\t\tcm.sendSimple(\"Oh, hello! Welcome to the Ludibrium Skin-Care! Are you interested in getting tanned and looking sexy? How about a beautiful, snow-white skin? If you have #b#t5153002##k, you can let us take care of the rest and have the kind of skin you've always dreamed of!\\r\\n#L2#Skin Care: #i5153002##t5153002##l\");\n                 } else if (status == 1) {\n \t\t\tif (selection == 2) {\n \t\t\t\tcm.sendStyle(\"With our specialized machine, you can see the way you'll look after the treatment PRIOR to the procedure. What kind of a look are you looking for? Go ahead and choose the style of your liking~!\", skin);"}, {"sha": "c4e8b8972174b85738b9a1433ce7b09e15282c19", "filename": "scripts/npc/2090100.js", "status": "modified", "additions": 15, "deletions": 7, "changes": 22, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2090100.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2090100.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2090100.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -21,15 +21,23 @@\n \n /* Grandpa Luo\n \tMu Lung VIP Hair/Hair Color Change.\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n var hairprice = 1000000;\n var haircolorprice = 1000000;\n-var mhair = Array(30250, 30350, 30270, 30150, 30300, 30600, 30160);\n-var fhair = Array(31040, 31250, 31310, 31220, 31300, 31680, 31160, 31030, 31230);\n+var mhair_v = Array(30150, 30240, 30370, 30420, 30640, 30710, 30750, 30810);\n+var fhair_v = Array(31140, 31160, 31180, 31300, 31460, 31470, 31660, 31910);\n var hairnew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n function start() {\n     cm.sendSimple(\"Welcome to the Mu Lung hair shop. If you have a #b#t5150025##k, or a #b#t5151020##k, allow me to take care of your hairdo. Please choose the one you want.\\r\\n#L1#Haircut: #i5150025##t5150025##l\\r\\n#L2#Dye your hair: #i5151020##t5151020##l\");\n }\n@@ -51,14 +59,14 @@ function action(mode, type, selection) {\n                 beauty = 1;\n                 hairnew = Array();\n                 if (cm.getPlayer().getGender() == 0) {\n-                    for(var i = 0; i < mhair.length; i++) {\n-                        hairnew.push(mhair[i] + parseInt(cm.getPlayer().getHair()\n+                    for(var i = 0; i < mhair_v.length; i++) {\n+                        pushIfItemExists(hairnew, mhair_v[i] + parseInt(cm.getPlayer().getHair()\n                             % 10));\n                     }\n                 }\n                 if (cm.getPlayer().getGender() == 1) {\n-                    for(var i = 0; i < fhair.length; i++) {\n-                        hairnew.push(fhair[i] + parseInt(cm.getPlayer().getHair()\n+                    for(var i = 0; i < fhair_v.length; i++) {\n+                        pushIfItemExists(hairnew, fhair_v[i] + parseInt(cm.getPlayer().getHair()\n                             % 10));\n                     }\n                 }\n@@ -69,7 +77,7 @@ function action(mode, type, selection) {\n                 var current = parseInt(cm.getPlayer().getHair()\n                     /10)*10;\n                 for(var i = 0; i < 8; i++) {\n-                    haircolor.push(current + i);\n+                    pushIfItemExists(haircolor, current + i);\n                 }\n                 cm.sendStyle(\"I can totally change your haircolor and make it look so good. Why don't you change it up a bit? With #b#t5151020##k, I'll take care of the rest. Choose the color of your liking!\", haircolor);\n             }"}, {"sha": "9d23503983143bebd381b5baecb7a7266675f4bb", "filename": "scripts/npc/2090101.js", "status": "modified", "additions": 15, "deletions": 7, "changes": 22, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2090101.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2090101.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2090101.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -21,15 +21,23 @@\n \n /* Lilishu\n \tMu Lung Random Hair/Hair Color Change.\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n var hairprice = 1000000;\n var haircolorprice = 1000000;\n-var mhair = Array(30250, 30350, 30270, 30150, 30300, 30600, 30160, 30700, 30720, 30420);\n-var fhair = Array(31040, 31250, 31310, 31220, 31300, 31680, 31160, 31030, 31230, 31690, 31210, 31170, 31450);\n+var mhair_e = Array(30030, 30150, 30240, 30370, 30420, 30550, 30600, 30640, 30700, 30710, 30720, 30750, 30810, 30830);\n+var fhair_e = Array(31140, 31160, 31180, 31210, 31300, 31430, 31460, 31470, 31660, 31690, 31800, 31890, 31910, 31940);\n var hairnew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n function start() {\n     status = -1;\n     action(1, 0, 0);\n@@ -54,14 +62,14 @@ function action(mode, type, selection) {\n                 beauty = 1;\n                 hairnew = Array();\n                 if (cm.getPlayer().getGender() == 0) {\n-                    for(var i = 0; i < mhair.length; i++) {\n-                        hairnew.push(mhair[i] + parseInt(cm.getPlayer().getHair()\n+                    for(var i = 0; i < mhair_e.length; i++) {\n+                        pushIfItemExists(hairnew, mhair_e[i] + parseInt(cm.getPlayer().getHair()\n                             % 10));\n                     }\n                 }\n                 if (cm.getPlayer().getGender() == 1) {\n-                    for(var i = 0; i < fhair.length; i++) {\n-                        hairnew.push(fhair[i] + parseInt(cm.getPlayer().getHair()\n+                    for(var i = 0; i < fhair_e.length; i++) {\n+                        pushIfItemExists(hairnew, fhair_e[i] + parseInt(cm.getPlayer().getHair()\n                             % 10));\n                     }\n                 }\n@@ -72,7 +80,7 @@ function action(mode, type, selection) {\n                 var current = parseInt(cm.getPlayer().getHair()\n                     /10)*10;\n                 for(var i = 0; i < 8; i++) {\n-                    haircolor.push(current + i);\n+                    pushIfItemExists(haircolor, current + i);\n                 }\n                 cm.sendYesNo(\"If you use a regular coupon your hair will change RANDOMLY. Do you still want to use #b#t5151019##k and change it up?\");\n             }"}, {"sha": "c16055f9518c39650befc0a6a303417ce26eccaa", "filename": "scripts/npc/2090102.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2090102.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2090102.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2090102.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -44,7 +44,7 @@ function action(mode, type, selection) {\n         else\n             status--;\n         if (status == 0) {\n-            cm.sendSimple(\"Well, hello! Welcome to the Mu Lung Skin-Care! Would you like to have a firm, tight, healthy looking skin like mine?  With #b#t5153006##k, you can let us take care of the rest and have the kind of skin you've always wanted~!\\r\\n#L2#I already have a Coupon!#l\");\n+            cm.sendSimple(\"Well, hello! Welcome to the Mu Lung Skin-Care! Would you like to have a firm, tight, healthy looking skin like mine?  With #b#t5153006##k, you can let us take care of the rest and have the kind of skin you've always wanted~!\\r\\n#L2#Skin Care: #i5153006##t5153006##l\");\n         } else if (status == 1) {\n             if (selection == 2) {\n                 cm.sendStyle(\"With our specialized machine, you can see the way you'll look after the treatment PRIOR to the procedure. What kind of a look are you looking for? Go ahead and choose the style of your liking~!\", skin);"}, {"sha": "4edf8d6ed41ef83cdb66e646fa4049528f63d415", "filename": "scripts/npc/2090103.js", "status": "modified", "additions": 71, "deletions": 28, "changes": 99, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2090103.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2090103.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2090103.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -21,12 +21,29 @@\n \n /* Pata\n \tMu Lung Random/VIP Eye Color Change.\n+        \n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n-var regprice = 1000000;\n-var vipprice = 1000000;\n-var colors = Array();\n+var mface_v = Array(20000, 20001, 20004, 20005, 20006, 20007, 20009, 20012, 20022, 20028, 20031);\n+var fface_v = Array(21000, 21003, 21005, 21006, 21008, 21009, 21011, 21012, 21023, 21024, 21026);\n+\n+function pushIfItemsExists(array, itemidList) {\n+    for (var i = 0; i < itemidList.length; i++) {\n+        var itemid = itemidList[i];\n+        \n+        if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+            array.push(itemid);\n+        }\n+    }\n+}\n+\n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n \n function start() {\n     status = -1;\n@@ -46,10 +63,28 @@ function action(mode, type, selection) {\n         else\n             status--;\n         if (status == 0) {\n-            cm.sendSimple(\"Hey, I'm Pata, and I am a cosmetic lens expert here in Mu Lung. I believe your eyes are the most important feature in your body, and with #b#t5152042##k or #b#t5152041##k, I can prescribe the right kind of cosmetic lenses for you. Now, what would you like to use?\\r\\n#L1#Cosmetic Lenses: #i5152042##t5152042##l\\r\\n#L2#Cosmetic Lenses: #i5152041##t5152041##l\");\n+            cm.sendSimple(\"Hey, I'm Pata, and I am a renowned plastic surgeon and cosmetic lens expert here in Mu Lung. I believe your face and eyes are the most important features in your body, and with #b#t5152028##k or #b#t5152041##k, I can prescribe the right kind of facial care and cosmetic lenses for you. Now, what would you like to use?\\r\\n#L1#Plastic Surgery: #i5152028##t5152028##l\\r\\n#L2#Cosmetic Lenses: #i5152041##t5152041##l\\r\\n#L3#One-time Cosmetic Lenses: #i5152100# (any color)#l\");\n         } else if (status == 1) {\n             if (selection == 1) {\n                 beauty = 1;\n+                facenew = Array();\n+                if (cm.getPlayer().getGender() == 0) {\n+                    for(var i = 0; i < mface_v.length; i++) {\n+                        pushIfItemExists(facenew, mface_v[i] + cm.getPlayer().getFace()\n+                            % 1000 - (cm.getPlayer().getFace()\n+                                % 100));\n+                    }\n+                }\n+                if (cm.getPlayer().getGender() == 1) {\n+                    for(var i = 0; i < fface_v.length; i++) {\n+                        pushIfItemExists(facenew, fface_v[i] + cm.getPlayer().getFace()\n+                            % 1000 - (cm.getPlayer().getFace()\n+                                % 100));\n+                    }\n+                }\n+                cm.sendStyle(\"I can totally transform your face into something new... how about giving us a try? For #b#t5152028##k, you can get the face of your liking...take your time in choosing the face of your preference.\", facenew);\n+            } else if (selection == 2) {\n+                beauty = 2;\n                 if (cm.getPlayer().getGender() == 0) {\n                     var current = cm.getPlayer().getFace()\n                     % 100 + 20000;\n@@ -59,10 +94,10 @@ function action(mode, type, selection) {\n                     % 100 + 21000;\n                 }\n                 colors = Array();\n-                colors = Array(current , current + 100, current + 200, current + 300, current +400, current + 500, current + 600, current + 700);\n-                cm.sendYesNo(\"If you use the regular coupon, you'll be awarded a random pair of cosmetic lenses. Are you going to use a #b#t5152042##k and really make the change to your eyes?\");\n-            } else if (selection == 2) {\n-                beauty = 2;\n+                pushIfItemsExists(colors, [current , current + 100, current + 300, current + 500, current + 600, current + 700]);\n+                cm.sendStyle(\"With our new computer program, you can see yourself after the treatment in advance. What kind of lens would you like to wear? Please choose the style of your liking.\", colors);\n+            } else if (selection == 3) {\n+                beauty = 3;\n                 if (cm.getPlayer().getGender() == 0) {\n                     var current = cm.getPlayer().getFace()\n                     % 100 + 20000;\n@@ -71,42 +106,50 @@ function action(mode, type, selection) {\n                     var current = cm.getPlayer().getFace()\n                     % 100 + 21000;\n                 }\n+                \n                 colors = Array();\n-                colors = Array(current , current + 100, current + 200, current + 300, current +400, current + 500, current + 600, current + 700);\n-                cm.sendStyle(\"With our new computer program, you can see yourself after the treatment in advance. What kind of lens would you like to wear? Please choose the style of your liking.\", colors);\n+                for (var i = 0; i < 8; i++) {\n+                    if (cm.haveItem(5152100 + i)) {\n+                        pushIfItemExists(colors, current + 100 * i);\n+                    }\n+                }\n+                \n+                if (colors.length == 0) {\n+                    cm.sendOk(\"You don't have any One-Time Cosmetic Lens to use.\");\n+                    cm.dispose();\n+                    return;\n+                }\n+                \n+                cm.sendStyle(\"What kind of lens would you like to wear? Please choose the style of your liking.\", colors);\n             }\n         }\n         else if (status == 2){\n             cm.dispose();\n             if (beauty == 1){\n-                if (cm.haveItem(5152042)){\n-                    cm.gainItem(5152042, -1);\n-                    cm.setFace(colors[Math.floor(Math.random() * colors.length)]);\n-                    cm.sendOk(\"Enjoy your new and improved cosmetic lenses!\");\n+                if (cm.haveItem(5152028)){\n+                    cm.gainItem(5152028, -1);\n+                    cm.setFace(facenew[selection]);\n+                    cm.sendOk(\"Enjoy your new and improved face!\");\n                 } else {\n-                    cm.sendOk(\"I'm sorry, but I don't think you have our cosmetic lens coupon with you right now. Without the coupon, I'm afraid I can't do it for you..\");\n+                    cm.sendOk(\"I'm sorry, but I don't think you have our plastic surgery coupon with you right now. Without the coupon, I'm afraid I can't do it for you..\");\n                 }\n-            }\n-            if (beauty == 2){\n+            } else if (beauty == 2){\n                 if (cm.haveItem(5152041)){\n                     cm.gainItem(5152041, -1);\n                     cm.setFace(colors[selection]);\n                     cm.sendOk(\"Enjoy your new and improved cosmetic lenses!\");\n                 } else {\n                     cm.sendOk(\"I'm sorry, but I don't think you have our cosmetic lens coupon with you right now. Without the coupon, I'm afraid I can't do it for you..\");\n                 }\n-            }\n-            if (beauty == 0){\n-                if (selection == 0 && cm.getMeso() >= regprice) {\n-                    cm.gainMeso(-regprice);\n-                    cm.gainItem(5152042, 1);\n-                    cm.sendOk(\"Enjoy!\");\n-                } else if (selection == 1 && cm.getMeso() >= vipprice) {\n-                    cm.gainMeso(-vipprice);\n-                    cm.gainItem(5152041, 1);\n-                    cm.sendOk(\"Enjoy!\");\n+            } else if (beauty == 3){\n+                var color = (colors[selection] / 100) % 100 | 0;\n+                \n+                if (cm.haveItem(5152100 + color)){\n+                    cm.gainItem(5152100 + color, -1);\n+                    cm.setFace(colors[selection]);\n+                    cm.sendOk(\"Enjoy your new and improved cosmetic lenses!\");\n                 } else {\n-                    cm.sendOk(\"You don't have enough mesos to buy a coupon!\");\n+                    cm.sendOk(\"I'm sorry, but I don't think you have our cosmetic lens coupon with you right now. Without the coupon, I'm afraid I can't do it for you..\");\n                 }\n             }\n         }"}, {"sha": "ae1138ce45189833f587193e6e1d59ef21096b20", "filename": "scripts/npc/2090104.js", "status": "modified", "additions": 37, "deletions": 39, "changes": 76, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2090104.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2090104.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2090104.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -21,14 +21,29 @@\n \n /* Noma\n \tMu Lung Random/VIP Eye Change.\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n-var regprice = 1000000;\n-var vipprice = 1000000;\n-var mface = Array(20000, 20001, 20002, 20003, 20004, 20005, 20006, 20007, 20008, 20012, 20014, 20009, 20010);\n-var fface = Array(21000, 21001, 21002, 21003, 21004, 21005, 21006, 21007, 21008, 21012, 21014, 21009, 21011);\n-var facenew = Array();\n+var mface_r = Array(20002, 20005, 20007, 20011, 20014, 20017, 20029);\n+var fface_r = Array(21001, 21010, 21013, 21018, 21020, 21021, 21030);\n+\n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n+function pushIfItemsExists(array, itemidList) {\n+    for (var i = 0; i < itemidList.length; i++) {\n+        var itemid = itemidList[i];\n+        \n+        if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+            array.push(itemid);\n+        }\n+    }\n+}\n \n function start() {\n     status = -1;\n@@ -48,21 +63,21 @@ function action(mode, type, selection) {\n         else\n             status--;\n         if (status == 0) {\n-            cm.sendSimple(\"Hey, I'm Noma, and I am assiting Pata in changing faces into beautiful things here in Mu Lung. With #b#t5152027##k or #b#t5152028##k, I can change the way you look. Now, what would you like to use?\\r\\n#L1#Plastic Surgery: #i5152027##t5152027##l\\r\\n#L2#Plastic Surgery: #i5152028##t5152028##l\");\n+            cm.sendSimple(\"Hey, I'm Noma, and I am assisting Pata in changing faces and applying lenses as my internship studies. With #b#t5152027##k or #b#t5152042##k, I can change the way you look. Now, what would you like to use?\\r\\n#L1#Plastic Surgery: #i5152027##t5152027##l\\r\\n#L2#Cosmetic Lenses: #i5152042##t5152042##l\");\n         } else if (status == 1) {\n             if (selection == 1) {\n                 beauty = 1;\n                 facenew = Array();\n                 if (cm.getPlayer().getGender() == 0) {\n-                    for(var i = 0; i < mface.length; i++) {\n-                        facenew.push(mface[i] + cm.getPlayer().getFace()\n+                    for(var i = 0; i < mface_r.length; i++) {\n+                        pushIfItemExists(facenew, mface_r[i] + cm.getPlayer().getFace()\n                             % 1000 - (cm.getPlayer().getFace()\n                                 % 100));\n                     }\n                 }\n                 if (cm.getPlayer().getGender() == 1) {\n-                    for(var i = 0; i < fface.length; i++) {\n-                        facenew.push(fface[i] + cm.getPlayer().getFace()\n+                    for(var i = 0; i < fface_r.length; i++) {\n+                        pushIfItemExists(facenew, fface_r[i] + cm.getPlayer().getFace()\n                             % 1000 - (cm.getPlayer().getFace()\n                                 % 100));\n                     }\n@@ -71,20 +86,16 @@ function action(mode, type, selection) {\n             } else if (selection == 2) {\n                 beauty = 2;\n                 if (cm.getPlayer().getGender() == 0) {\n-                    for(var i = 0; i < mface.length; i++) {\n-                        facenew.push(mface[i] + cm.getPlayer().getFace()\n-                            % 1000 - (cm.getPlayer().getFace()\n-                                % 100));\n-                    }\n+                    var current = cm.getPlayer().getFace()\n+                    % 100 + 20000;\n                 }\n                 if (cm.getPlayer().getGender() == 1) {\n-                    for(var i = 0; i < fface.length; i++) {\n-                        facenew.push(fface[i] + cm.getPlayer().getFace()\n-                            % 1000 - (cm.getPlayer().getFace()\n-                                % 100));\n-                    }\n+                    var current = cm.getPlayer().getFace()\n+                    % 100 + 21000;\n                 }\n-                cm.sendStyle(\"I can totally transform your face into something new... how about giving us a try? For #b#t5152028##k, you can get the face of your liking...take your time in choosing the face of your preference.\", facenew);\n+                colors = Array();\n+                pushIfItemsExists(colors, [current , current + 100, current + 300, current + 500, current + 600, current + 700]);\n+                cm.sendYesNo(\"If you use the regular coupon, you'll be awarded a random pair of cosmetic lenses. Are you going to use a #b#t5152042##k and really make the change to your eyes?\");\n             }\n         }\n         else if (status == 2){\n@@ -99,25 +110,12 @@ function action(mode, type, selection) {\n                 }\n             }\n             if (beauty == 2){\n-                if (cm.haveItem(5152028)){\n-                    cm.gainItem(5152028, -1);\n-                    cm.setFace(facenew[selection]);\n-                    cm.sendOk(\"Enjoy your new and improved face!\");\n-                } else {\n-                    cm.sendOk(\"I'm sorry, but I don't think you have our plastic surgery coupon with you right now. Without the coupon, I'm afraid I can't do it for you..\");\n-                }\n-            }\n-            if (beauty == 0){\n-                if (selection == 0 && cm.getMeso() >= regprice) {\n-                    cm.gainMeso(-regprice);\n-                    cm.gainItem(5152012, 1);\n-                    cm.sendOk(\"Enjoy!\");\n-                } else if (selection == 1 && cm.getMeso() >= vipprice) {\n-                    cm.gainMeso(-vipprice);\n-                    cm.gainItem(5152028, 1);\n-                    cm.sendOk(\"Enjoy!\");\n+                if (cm.haveItem(5152042)){\n+                    cm.gainItem(5152042, -1);\n+                    cm.setFace(colors[Math.floor(Math.random() * colors.length)]);\n+                    cm.sendOk(\"Enjoy your new and improved cosmetic lenses!\");\n                 } else {\n-                    cm.sendOk(\"You don't have enough mesos to buy a coupon!\");\n+                    cm.sendOk(\"I'm sorry, but I don't think you have our cosmetic lens coupon with you right now. Without the coupon, I'm afraid I can't do it for you..\");\n                 }\n             }\n         }"}, {"sha": "02dff1f73cd9f168118d29c91c77a8c825c3458b", "filename": "scripts/npc/2100005.js", "status": "modified", "additions": 17, "deletions": 9, "changes": 26, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2100005.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2100005.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2100005.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -2,14 +2,22 @@\n \tNPC Name: \t\tShati\n \tMap(s): \t\tThe Burning Road: Ariant(2600000000)\n \tDescription: \tAssistant Hairdresser\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n \n var status = 0;\n var beauty = 0;\n-var mhair = Array(30250, 30350, 30270, 30150, 30300, 30600, 30160, 30700, 30720, 30420);\n-var fhair = Array(31040, 31250, 31310, 31220, 31300, 31680, 31160, 31030, 31230, 31690, 31210, 31170, 31450);\n+var mhair_r = Array(30150, 30170, 30180, 30320, 30330, 30410, 30460, 30680, 30800, 30820, 30900);\n+var fhair_r = Array(31090, 31190, 31330, 31340, 31400, 31420, 31520, 31620, 31650, 31660, 34000);\n var hairnew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n function start() {\n \tstatus = -1;\n \taction(1, 0, 0);\n@@ -29,31 +37,31 @@ function action(mode, type, selection) {\n \t\telse\n \t\t\tstatus--;\n \t\tif (status == 0) {\n-\t\t\tcm.sendSimple(\"Hey there! I'm Shatti, and I'm Mazra's apprentice. If you have #bAriant hair style coupon(REG)#k or #bAriant hair color coupon(REG)#k with you, how about allowing me to work on your hair? \\r\\n#L0##bChange Hairstyle (Reg Coupon) \\r\\n#L1##bDye Hair(Reg. coupon)\");\n+\t\t\tcm.sendSimple(\"Hey there! I'm Shatti, and I'm Mazra's apprentice. If you have #bAriant hair style coupon(REG)#k or #bAriant hair color coupon(REG)#k with you, how about allowing me to work on your hair? \\r\\n#L0#Haircut: #i5150026##t5150026##l\\r\\n#L1#Dye your hair: #i5151021##t5151021##l\");\n \t\t} else if (status == 1) {\n \t\t\tif (selection == 0) {\n \t\t\t\tbeauty = 1;\n \t\t\t\thairnew = Array();\n \t\t\t\tif (cm.getChar().getGender() == 0) {\n-\t\t\t\t\tfor(var i = 0; i < mhair.length; i++) {\n-\t\t\t\t\t\thairnew.push(mhair[i] + parseInt(cm.getChar().getHair()\n+\t\t\t\t\tfor(var i = 0; i < mhair_r.length; i++) {\n+\t\t\t\t\t\tpushIfItemExists(hairnew, mhair_r[i] + parseInt(cm.getChar().getHair()\n  % 10));\n \t\t\t\t\t}\n \t\t\t\t} \n \t\t\t\tif (cm.getChar().getGender() == 1) {\n-\t\t\t\t\tfor(var i = 0; i < fhair.length; i++) {\n-\t\t\t\t\t\thairnew.push(fhair[i] + parseInt(cm.getChar().getHair()\n+\t\t\t\t\tfor(var i = 0; i < fhair_r.length; i++) {\n+\t\t\t\t\t\tpushIfItemExists(hairnew, fhair_r[i] + parseInt(cm.getChar().getHair()\n  % 10));\n \t\t\t\t\t}\n \t\t\t\t}\n-\t\t\t\tcm.sendYesNo(\"If you use the Reg. coupon, your hairstyle will be changed to a random new look. You'll also have access to new hairstyles I worked on that's not available for VIP coupons. Would you like to use #bAriant hair style coupon(REG)#k for a fabulous new look?\");\n+\t\t\t\tcm.sendYesNo(\"If you use the REG coupon, your hairstyle will be changed to a random new look. You'll also have access to new hairstyles I worked on that's not available for VIP coupons. Would you like to use #bAriant hair style coupon(REG)#k for a fabulous new look?\");\n \t\t\t} else if (selection == 1) {\n \t\t\t\tbeauty = 2;\n \t\t\t\thaircolor = Array();\n \t\t\t\tvar current = parseInt(cm.getChar().getHair()\n /10)*10;\n \t\t\t\tfor(var i = 0; i < 8; i++) {\n-\t\t\t\t\thaircolor.push(current + i);\n+\t\t\t\t\tpushIfItemExists(haircolor, current + i);\n \t\t\t\t}\n \t\t\t\tcm.sendYesNo(\"If you use the regular coupon, your hair color will change to a random new color. Are you sure you want to use #b#t5151021##k and randomly change your hair color?\");\n \t\t\t}"}, {"sha": "9e6a054c2b6b3096a90f620714dcea7ca4b428e9", "filename": "scripts/npc/2100006.js", "status": "modified", "additions": 15, "deletions": 9, "changes": 24, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2100006.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2100006.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2100006.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -2,15 +2,21 @@\n \tNPC Name: \t\tMazra\n \tMap(s): \t\tThe Burning Road: Ariant(2600000000)\n \tDescription: \tHair Salon Owner\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n \n var status = 0;\n var beauty = 0;\n-var mhair = Array(30030, 30020, 30000, 30130, 30350, 30190, 30110, 30180, 30050, 30040, 30160);\n-var fhair = Array(31050, 31040, 31000, 31060, 31090, 31020, 31130, 31120, 31140, 31330, 31010);\n+var mhair_v = Array(30150, 30170, 30180, 30320, 30330, 30410, 30460, 30820, 30900);\n+var fhair_v = Array(31040, 31090, 31190, 31330, 31340, 31400, 31420, 31620, 31660);\n var hairnew = Array();\n \n-\n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n \n function start() {\n \tstatus = -1;\n@@ -30,20 +36,20 @@ function action(mode, type, selection) {\n \t\telse\n \t\t\tstatus--;\n \t\tif (status == 0) {\n-\t\t\tcm.sendSimple(\"Hahaha... it takes a lot of style and flair for someone to pay attention to his or her hairsyle in a desert. Someone like you...If you have #bAriant hair style coupon(VIP)#k or #bAriant hair color coupon(VIP)#k, I'll give your hair a fresh new look. \\r\\n#L0##bChange Hairstyle(VIP Coupon)#k#l \\r\\n#L1##bDye Hair(VIP Coupon)#k#l\");\n+\t\t\tcm.sendSimple(\"Hahaha... it takes a lot of style and flair for someone to pay attention to his or her hairsyle in a desert. Someone like you...If you have #bAriant hair style coupon(VIP)#k or #bAriant hair color coupon(VIP)#k, I'll give your hair a fresh new look. \\r\\n#L0#Haircut: #i5150027##t5150027##l\\r\\n#L1#Dye your hair: #i5151022##t5151022##l\");\n \t\t} else if (status == 1) {\n \t\t\tif (selection == 0) {\n \t\t\t\tbeauty = 1;\n \t\t\t\thairnew = Array();\n \t\t\t\tif (cm.getChar().getGender() == 0) {\n-\t\t\t\t\tfor(var i = 0; i < mhair.length; i++) {\n-\t\t\t\t\t\thairnew.push(mhair[i] + parseInt(cm.getChar().getHair()\n+\t\t\t\t\tfor(var i = 0; i < mhair_v.length; i++) {\n+\t\t\t\t\t\tpushIfItemExists(hairnew, mhair_v[i] + parseInt(cm.getChar().getHair()\n  % 10));\n \t\t\t\t\t}\n \t\t\t\t} \n \t\t\t\tif (cm.getChar().getGender() == 1) {\n-\t\t\t\t\tfor(var i = 0; i < fhair.length; i++) {\n-\t\t\t\t\t\thairnew.push(fhair[i] + parseInt(cm.getChar().getHair()\n+\t\t\t\t\tfor(var i = 0; i < fhair_v.length; i++) {\n+\t\t\t\t\t\tpushIfItemExists(hairnew, fhair_v[i] + parseInt(cm.getChar().getHair()\n  % 10));\n \t\t\t\t\t}\n \t\t\t\t}\n@@ -54,7 +60,7 @@ function action(mode, type, selection) {\n \t\t\t\tvar current = parseInt(cm.getChar().getHair()\n /10)*10;\n \t\t\t\tfor(var i = 0; i < 8; i++) {\n-\t\t\t\t\thaircolor.push(current + i);\n+\t\t\t\t\tpushIfItemExists(haircolor, current + i);\n \t\t\t\t}\n \t\t\t\tcm.sendStyle(\"Every once in a while, it doesn't hurt to change up your hair color... it's fun. Allow me, the great Mazra, to dye your hair, so you just bring me #bAriant hair color coupon(VIP)#k, and choose your new hair color.\", haircolor);\n \t\t\t}"}, {"sha": "ac28e0c1b1dfa71703b95620e527f4931a041767", "filename": "scripts/npc/2100008.js", "status": "modified", "additions": 113, "deletions": 29, "changes": 142, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2100008.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2100008.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2100008.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -1,15 +1,33 @@\n /* Author: aaroncsn <MapleSea Like>\n-\tNPC Name: \t\tBadr\n+\tNPC Name: \t\tVard\n \tMap(s): \t\tThe Burning Road: Ariant(2600000000)\n \tDescription: \tAriant Plastic Surgery\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n \n var status = 0;\n var beauty = 0;\n-var mface = Array(20000, 20001, 20002, 20003, 20004, 20005, 20006, 20007, 20008, 20012, 20014);\n-var fface = Array(21000, 21001, 21002, 21003, 21004, 21005, 21006, 21007, 21008, 21012, 21014);\n+var mface_v = Array(20000, 20004, 20005, 20012, 20013, 20031);\n+var fface_v = Array(21000, 21003, 21006, 21009, 21012, 21024);\n var facenew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n+function pushIfItemsExists(array, itemidList) {\n+    for (var i = 0; i < itemidList.length; i++) {\n+        var itemid = itemidList[i];\n+        \n+        if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+            array.push(itemid);\n+        }\n+    }\n+}\n+\n function start() {\n \tstatus = -1;\n \taction(1, 0, 0);\n@@ -27,33 +45,99 @@ function action(mode, type, selection) {\n \t\t\tstatus++;\n \t\telse\n \t\t\tstatus--;\n-\t\tif (status == 0) {\n-\t\t\t\tfacenew = Array();\n-\t\t\t\tif (cm.getChar().getGender() == 0) {\n-\t\t\t\t\tfor(var i = 0; i < mface.length; i++) {\n-\t\t\t\t\t\tfacenew.push(mface[i] + cm.getChar().getFace()\n- % 1000 - (cm.getChar().getFace()\n- % 100));\n-\t\t\t\t\t}\n-\t\t\t\t}\n-\t\t\t\tif (cm.getChar().getGender() == 1) {\n-\t\t\t\t\tfor(var i = 0; i < fface.length; i++) {\n-\t\t\t\t\t\tfacenew.push(fface[i] + cm.getChar().getFace()\n- % 1000 - (cm.getChar().getFace()\n- % 100));\n-\t\t\t\t\t}\n-\t\t\t\t}\n-\t\t\t\tcm.sendStyle(\"Hmmm... Face of beauty glows even under cover and burning desert. With #bAriant face coupon(VIP)#k, I can make your face so much better. Choose the face you want, and I will pull out my outstanding skill for the great make over.\", facenew);\n-\t\t\t}\n-\t\telse if (status == 1){\n+                    \n+                if (status == 0) {\n+                        cm.sendSimple(\"Ah, welcome to the Ariant Plastic Surgery! Would you like to transform your face into something new? With a #b#t5152030##k or a #b#t5152047##k, I can make your face so much better!\\r\\n#L1#Plastic Surgery: #i5152030##t5152030##l\\r\\n#L2#Cosmetic Lens: #i5152047##t5152047##l\\r\\n#L3#One-time Cosmetic Lenses: #i5152101# (any color)#l\");\n+                } else if (status == 1) {\n+                        if (selection == 1) {\n+                                beauty = 0;\n+                            \n+                                facenew = Array();\n+                                if (cm.getChar().getGender() == 0) {\n+                                        for(var i = 0; i < mface_v.length; i++) {\n+                                                pushIfItemExists(facenew, mface_v[i] + cm.getChar().getFace()\n+                                                 % 1000 - (cm.getChar().getFace()\n+                                                 % 100));\n+                                        }\n+                                }\n+                                if (cm.getChar().getGender() == 1) {\n+                                        for(var i = 0; i < fface.length; i++) {\n+                                                pushIfItemExists(facenew, fface[i] + cm.getChar().getFace()\n+                                                 % 1000 - (cm.getChar().getFace()\n+                                                 % 100));\n+                                        }\n+                                }\n+                                cm.sendStyle(\"Hmmm... Face of beauty glows even under cover and burning desert. Choose the face you want, and I will pull out my outstanding skill for the great make over.\", facenew);\n+                        } else if (selection == 2) {\n+                                beauty = 1;\n+                                \n+                                if (cm.getPlayer().getGender() == 0) {\n+                                        var current = cm.getPlayer().getFace()\n+                                        % 100 + 20000;\n+                                }\n+                                if (cm.getPlayer().getGender() == 1) {\n+                                        var current = cm.getPlayer().getFace()\n+                                        % 100 + 21000;\n+                                }\n+                                colors = Array();\n+                                pushIfItemsExists(colors, [current , current + 100, current + 300, current + 600, current + 700]);\n+                                cm.sendStyle(\"With the utmost finesse matching that of the sparkling sands of the desert that gleefully embraces the rooftop of the Palace, we will make your eyes shine even brighter with the new lenses. Select the one you want to use...\", colors);\n+                        } else if (selection == 3) {\n+                                beauty = 3;\n+                                if (cm.getPlayer().getGender() == 0) {\n+                                        var current = cm.getPlayer().getFace()\n+                                        % 100 + 20000;\n+                                }\n+                                if (cm.getPlayer().getGender() == 1) {\n+                                        var current = cm.getPlayer().getFace()\n+                                        % 100 + 21000;\n+                                }\n+\n+                                colors = Array();\n+                                for (var i = 0; i < 8; i++) {\n+                                        if (cm.haveItem(5152100 + i)) {\n+                                               pushIfItemExists(colors, current + 100 * i);\n+                                        }\n+                                }\n+\n+                                if (colors.length == 0) {\n+                                        cm.sendOk(\"You don't have any One-Time Cosmetic Lens to use.\");\n+                                        cm.dispose();\n+                                        return;\n+                                }\n+\n+                                cm.sendStyle(\"What kind of lens would you like to wear? Please choose the style of your liking.\", colors);\n+                        }\n+                } else if (status == 2){\n \t\t\tcm.dispose();\n-\t\t\tif (cm.haveItem(5152030) == true){\n-\t\t\t\tcm.gainItem(5152030, -1);\n-\t\t\t\tcm.setFace(facenew[selection]);\n-\t\t\t\tcm.sendOk(\"Enjoy your new and improved face!\");\n-\t\t\t} else {\n-\t\t\t\tcm.sendNext(\"Erm... You don't seem to have the exclusive coupon for this hospital. Without the coupon, I'm afraid I can't do it for you.\");\n-\t\t\t}\n+                        \n+                        if (beauty == 0) {\n+                                if (cm.haveItem(5152030) == true){\n+                                        cm.gainItem(5152030, -1);\n+                                        cm.setFace(facenew[selection]);\n+                                        cm.sendOk(\"Enjoy your new and improved face!\");\n+                                } else {\n+                                        cm.sendNext(\"Erm... You don't seem to have the exclusive coupon for this hospital. Without the coupon, I'm afraid I can't do it for you.\");\n+                                }\n+                        } else if (beauty == 1) {\n+                                if (cm.haveItem(5152047) == true){\n+                                        cm.gainItem(5152047, -1);\n+                                        cm.setFace(colors[selection]);\n+                                        cm.sendOk(\"Enjoy your new and improved cosmetic lenses!\");\n+                                } else {\n+                                        cm.sendOk(\"Hmm ... it looks like you don't have the coupon specifically for this place. Sorry to say this, but without the coupon, there's no plastic surgery for you...\");\n+                                }\n+                        } else if (beauty == 3){\n+                                var color = (colors[selection] / 100) % 100 | 0;\n+\n+                                if (cm.haveItem(5152100 + color)){\n+                                        cm.gainItem(5152100 + color, -1);\n+                                        cm.setFace(colors[selection]);\n+                                        cm.sendOk(\"Enjoy your new and improved cosmetic lenses!\");\n+                                } else {\n+                                        cm.sendOk(\"I'm sorry, but I don't think you have our cosmetic lens coupon with you right now. Without the coupon, I'm afraid I can't do it for you..\");\n+                                }\n+                        }\n \t\t}\n \t}\n }\n\\ No newline at end of file"}, {"sha": "5da61a5c5c1baf7f49c2d94384986e352c7b382b", "filename": "scripts/npc/2100009.js", "status": "modified", "additions": 76, "deletions": 28, "changes": 104, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2100009.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/2100009.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2100009.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -2,14 +2,32 @@\n \tNPC Name: \t\tAldin\n \tMap(s): \t\tThe Burning Road: Ariant(2600000000)\n \tDescription: \tAriant Plastic Surgery\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n \n var status = 0;\n var beauty = 0;\n-var mface = Array(20000, 20001, 20002, 20003, 20004, 20005, 20006, 20007, 20008, 20012, 20014);\n-var fface = Array(21000, 21001, 21002, 21003, 21004, 21005, 21006, 21007, 21008, 21012, 21014);\n+var mface_r = Array(20001, 20003, 20009, 20010, 20025, 20031);\n+var fface_r = Array(21002, 21009, 21011, 21013, 21016, 21029, 21030);\n var facenew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n+function pushIfItemsExists(array, itemidList) {\n+    for (var i = 0; i < itemidList.length; i++) {\n+        var itemid = itemidList[i];\n+        \n+        if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+            array.push(itemid);\n+        }\n+    }\n+}\n+\n function start() {\n \tstatus = -1;\n \taction(1, 0, 0);\n@@ -28,33 +46,63 @@ function action(mode, type, selection) {\n \t\t\tstatus++;\n \t\telse\n \t\t\tstatus--;\n-\t\tif (status == 0) {\n-\t\t\t\tfacenew = Array();\n-\t\t\t\tif (cm.getChar().getGender() == 0) {\n-\t\t\t\t\tfor(var i = 0; i < mface.length; i++) {\n-\t\t\t\t\t\tfacenew.push(mface[i] + cm.getChar().getFace()\n- % 1000 - (cm.getChar().getFace()\n- % 100));\n-\t\t\t\t\t}\n-\t\t\t\t}\n-\t\t\t\tif (cm.getChar().getGender() == 1) {\n-\t\t\t\t\tfor(var i = 0; i < fface.length; i++) {\n-\t\t\t\t\t\tfacenew.push(fface[i] + cm.getChar().getFace()\n- % 1000 - (cm.getChar().getFace()\n- % 100));\n-\t\t\t\t\t}\n-\t\t\t\t}\n-\t\t\t\tcm.sendYesNo(\"If you use the regular coupon, your face may transform into a random new look...do you still want to do it using #b#t5152029##k?\");\n-\t\t\t}\n-\t\telse if (status == 1){\t\n+                    \n+                if (status == 0) {\n+                        cm.sendSimple(\"Hi, I'm the face surgery assistant doctor from around here. With a #b#t5152029##k or a #b#t5152048##k, I can make it kick in just nice, trust me. Ah, don't forget, what comes next after the operation will be random! Then, what are you going for?\\r\\n#L1#Plastic Surgery: #i5152029##t5152029##l\\r\\n#L2#Cosmetic Lens: #i5152048##t5152048##l\");\n+                } else if (status == 1) {\n+                        if (selection == 1) {\n+                                beauty = 0;\n+                            \n+                                facenew = Array();\n+                                if (cm.getChar().getGender() == 0) {\n+                                        for(var i = 0; i < mface_r.length; i++) {\n+                                                pushIfItemExists(facenew, mface_r[i] + cm.getChar().getFace()\n+                                                 % 1000 - (cm.getChar().getFace()\n+                                                 % 100));\n+                                        }\n+                                }\n+                                if (cm.getChar().getGender() == 1) {\n+                                        for(var i = 0; i < fface_r.length; i++) {\n+                                                pushIfItemExists(facenew, fface_r[i] + cm.getChar().getFace()\n+                                                 % 1000 - (cm.getChar().getFace()\n+                                                 % 100));\n+                                        }\n+                                }\n+                                cm.sendYesNo(\"If you use the regular coupon, your face may transform into a random new look...do you still want to do it using #b#t5152029##k?\");\n+                        } else if (selection == 2) {\n+                                beauty = 1;\n+                                if (cm.getPlayer().getGender() == 0) {\n+                                        var current = cm.getPlayer().getFace()\n+                                        % 100 + 20000;\n+                                }\n+                                if (cm.getPlayer().getGender() == 1) {\n+                                        var current = cm.getPlayer().getFace()\n+                                        % 100 + 21000;\n+                                }\n+                                colors = Array();\n+                                pushIfItemsExists(colors, [current , current + 100, current + 300, current + 600, current + 700]);\n+                                cm.sendYesNo(\"If you use the regular coupon, you'll be awarded a random pair of cosmetic lenses. Are you going to use a #b#t5152048##k and really make the change to your eyes?\");\n+                        }\n+                } else if (status == 2){\t\n \t\t\tcm.dispose();\n-\t\t\tif (cm.haveItem(5152029) == true){\n-\t\t\t\tcm.gainItem(5152029, -1);\n-\t\t\t\tcm.setFace(facenew[Math.floor(Math.random() * facenew.length)]);\n-\t\t\t\tcm.sendOk(\"Enjoy your new and improved face!\");\n-\t\t\t} else {\n-\t\t\t\tcm.sendNext(\"Um ... it looks like you don't have the coupon specifically for this place...sorry to say this, but without the coupon, there's no plastic surgery for you.\");\n-\t\t\t}\n+                        \n+                        if (beauty == 0) {\n+                                if (cm.haveItem(5152029) == true){\n+                                        cm.gainItem(5152029, -1);\n+                                        cm.setFace(facenew[Math.floor(Math.random() * facenew.length)]);\n+                                        cm.sendOk(\"Enjoy your new and improved face!\");\n+                                } else {\n+                                        cm.sendNext(\"Um ... it looks like you don't have the coupon specifically for this place...sorry to say this, but without the coupon, there's no plastic surgery for you.\");\n+                                }\n+                        } else if (beauty == 1) {\n+                                if (cm.haveItem(5152048)){\n+                                        cm.gainItem(5152048, -1);\n+                                        cm.setFace(colors[Math.floor(Math.random() * colors.length)]);\n+                                        cm.sendOk(\"Enjoy your new and improved cosmetic lenses!\");\n+                                } else {\n+                                       cm.sendOk(\"Hmm ... it looks like you don't have the coupon specifically for this place. Sorry to say this, but without the coupon, there's no plastic surgery for you...\");\n+                                }\n+                        }\n \t\t}\n \t}\n }\n\\ No newline at end of file"}, {"sha": "eb4810a7158d51356d9516ef036c33408c217394", "filename": "scripts/npc/9120100.js", "status": "modified", "additions": 15, "deletions": 7, "changes": 22, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9120100.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9120100.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9120100.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -21,15 +21,23 @@\n \n /* Tepei\n \tShowa VIP Hair/Hair Color Change.\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n var hairprice = 1000000;\n var haircolorprice = 1000000;\n-var mhair = Array(30230, 30030, 30260, 30280, 30240, 30290, 30020, 30270, 30340, 30710, 30810);\n-var fhair = Array(31310, 31300, 31050, 31040, 31160, 31100, 31410, 31030, 31790, 31550);\n+var mhair_v = Array(30260, 30280, 30340, 30710, 30780, 30800, 30810, 30820, 30920);\n+var fhair_v = Array(31000, 31030, 31100, 31350, 31460, 31550, 31770, 31790, 31850);\n var hairnew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n function start() {\n     status = -1;\n     action(1, 0, 0);\n@@ -54,13 +62,13 @@ function action(mode, type, selection) {\n                 beauty = 1;\n                 hairnew = Array();\n                 if (cm.getPlayer().getGender() == 0) {\n-                    for(var i = 0; i < mhair.length; i++) {\n-                        hairnew.push(mhair[i] + parseInt(cm.getPlayer().getHair()% 10));\n+                    for(var i = 0; i < mhair_v.length; i++) {\n+                        pushIfItemExists(hairnew, mhair_v[i] + parseInt(cm.getPlayer().getHair()% 10));\n                     }\n                 }\n                 if (cm.getPlayer().getGender() == 1) {\n-                    for(var i = 0; i < fhair.length; i++) {\n-                        hairnew.push(fhair[i] + parseInt(cm.getPlayer().getHair()% 10));\n+                    for(var i = 0; i < fhair_v.length; i++) {\n+                        pushIfItemExists(hairnew, fhair_v[i] + parseInt(cm.getPlayer().getHair()% 10));\n                     }\n                 }\n                 cm.sendStyle(\"I can totally change up your hairstyle and make it look so good. Why don't you change it up a bit? With #b#t5150009##k, I'll take care of the rest for you. Choose the style of your liking!\", hairnew);\n@@ -69,7 +77,7 @@ function action(mode, type, selection) {\n                 haircolor = Array();\n                 var current = parseInt(cm.getPlayer().getHair()/10)*10;\n                 for(var i = 0; i < 8; i++) {\n-                    haircolor.push(current + i);\n+                    pushIfItemExists(haircolor, current + i);\n                 }\n                 cm.sendStyle(\"I can totally change your haircolor and make it look so good. Why don't you change it up a bit? With #b#t5151009##k, I'll take care of the rest. Choose the color of your liking!\", haircolor);\n             }"}, {"sha": "70df6cfea97efee2c40550b11ed4db90b025388a", "filename": "scripts/npc/9120101.js", "status": "modified", "additions": 31, "deletions": 28, "changes": 59, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9120101.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9120101.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9120101.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -19,17 +19,25 @@\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n \n-/* Unkown\n-\tShowa Town VIP Hair/Hair Color Change.\n+/* Midori\n+\tShowa Random Hair/Hair Color Change.\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n var hairprice = 1000000;\n var haircolorprice = 1000000;\n-var mhair = Array(30000, 30120, 30140, 30190, 30210, 30360, 30220, 30370, 30400, 30440, 30790, 30800, 30810, 30770, 30760);\n-var fhair = Array(31030, 31050, 31000, 31070, 31100, 31120, 31130, 31250, 31340, 31680, 31350, 31400, 31650, 31550, 31800);\n+var mhair_r = Array(30260, 30280, 30340, 30360, 30710, 30780, 30790, 30800, 30810, 30820, 30920);\n+var fhair_r = Array(31350, 31410, 31460, 31540, 31550, 31710, 31720, 31770, 31790, 31800, 31850, 34000);\n var hairnew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n function start() {\n     status = -1;\n     action(1, 0, 0);\n@@ -48,63 +56,58 @@ function action(mode, type, selection) {\n         else\n             status--;\n         if (status == 0) {\n-            cm.sendSimple(\"I'm the head of Showa hair salon. If you have a #b#t5150009##k or a #b#t5151009##k allow me to take care of your hairdo. Please choose the one you want.\\r\\n#L1#Haircut: #i5150009##t5150009##l\\r\\n#L2#Dye your hair: #i5151009##t5151009##l\");\n+            cm.sendSimple(\"Hi, I'm the assistant here. Don't worry, I'm plenty good enough for this. If you have #b#t5150008##k or #b#t5151008##k by any chance, then allow me to take care of the rest, alright?\\r\\n#L1#Haircut: #i5150008##t5150008##l\\r\\n#L2#Dye your hair: #i5151008##t5151008##l\");\n         } else if (status == 1) {\n             if (selection == 1) {\n                 beauty = 1;\n                 hairnew = Array();\n                 if (cm.getPlayer().getGender() == 0) {\n-                    for(var i = 0; i < mhair.length; i++) {\n-                        hairnew.push(mhair[i] + parseInt(cm.getPlayer().getHair()\n-                            % 10));\n+                    for(var i = 0; i < mhair_r.length; i++) {\n+                        pushIfItemExists(hairnew, mhair_r[i] + parseInt(cm.getPlayer().getHair()  % 10));\n                     }\n                 }\n                 if (cm.getPlayer().getGender() == 1) {\n-                    for(var i = 0; i < fhair.length; i++) {\n-                        hairnew.push(fhair[i] + parseInt(cm.getPlayer().getHair()\n-                            % 10));\n+                    for(var i = 0; i < fhair_r.length; i++) {\n+                        pushIfItemExists(hairnew, fhair_r[i] + parseInt(cm.getPlayer().getHair() % 10));\n                     }\n                 }\n-                cm.sendStyle(\"I can totally change up your hairstyle and make it look so good. Why don't you change it up a bit? If you have #b#t5150009##k I'll change it for you. Choose the one to your liking~.\", hairnew);\n+                cm.sendYesNo(\"If you use the REG coupon your hair will change RANDOMLY with a chance to obtain a new experimental style that I came up with. Are you going to use #b#t5150008##k and really change your hairstyle?\");\n             } else if (selection == 2) {\n                 beauty = 2;\n                 haircolor = Array();\n-                var current = parseInt(cm.getPlayer().getHair()\n-                    /10)*10;\n+                var current = parseInt(cm.getPlayer().getHair()/10)*10;\n                 for(var i = 0; i < 8; i++) {\n-                    haircolor.push(current + i);\n+                    pushIfItemExists(haircolor, current + i);\n                 }\n-                cm.sendStyle(\"I can totally change your haircolor and make it look so good. Why don't you change it up a bit? With #b#t51051009##k I'll change it for you. Choose the one to your liking.\", haircolor);\n+                cm.sendYesNo(\"If you use a regular coupon your hair will change RANDOMLY. Do you still want to use #b#t5151008##k and change it up?\");\n             }\n         }\n         else if (status == 2){\n             cm.dispose();\n             if (beauty == 1){\n-                if (cm.haveItem(5150009)){\n-                    cm.gainItem(5150009, -1);\n-                    cm.setHair(hairnew[selection]);\n+                if (cm.haveItem(5150008)){\n+                    cm.gainItem(5150008, -1);\n+                    cm.setHair(hairnew[Math.floor(Math.random() * hairnew.length)]);\n                     cm.sendOk(\"Enjoy your new and improved hairstyle!\");\n                 } else {\n                     cm.sendOk(\"Hmmm...it looks like you don't have our designated coupon...I'm afraid I can't give you a haircut without it. I'm sorry...\");\n                 }\n-            }\n-            if (beauty == 2){\n-                if (cm.haveItem(5151009)){\n-                    cm.gainItem(5151009, -1);\n-                    cm.setHair(haircolor[selection]);\n+            } else if (beauty == 2){\n+                if (cm.haveItem(5151008)){\n+                    cm.gainItem(5151008, -1);\n+                    cm.setHair(haircolor[Math.floor(Math.random() * haircolor.length)]);\n                     cm.sendOk(\"Enjoy your new and improved haircolor!\");\n                 } else {\n                     cm.sendOk(\"Hmmm...it looks like you don't have our designated coupon...I'm afraid I can't dye your hair without it. I'm sorry...\");\n                 }\n-            }\n-            if (beauty == 0){\n+            } else if (beauty == 0){\n                 if (selection == 0 && cm.getMeso() >= hairprice) {\n                     cm.gainMeso(-hairprice);\n-                    cm.gainItem(5150009, 1);\n+                    cm.gainItem(5150008, 1);\n                     cm.sendOk(\"Enjoy!\");\n                 } else if (selection == 1 && cm.getMeso() >= haircolorprice) {\n                     cm.gainMeso(-haircolorprice);\n-                    cm.gainItem(5151009, 1);\n+                    cm.gainItem(5151008, 1);\n                     cm.sendOk(\"Enjoy!\");\n                 } else {\n                     cm.sendOk(\"You don't have enough mesos to buy a coupon!\");"}, {"sha": "b8bf440aa951b20f3ea4a5c0aa2827a710d01a19", "filename": "scripts/npc/9120102.js", "status": "added", "additions": 163, "deletions": 0, "changes": 163, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9120102.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9120102.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9120102.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,163 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc> \n+                       Matthias Butz <matze@odinms.de>\n+                       Jan Christian Meyer <vimes@odinms.de>\n+\n+    Copyleft (L) 2016 - 2018 RonanLana (HeavenMS)\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License version 3\n+    as published by the Free Software Foundation. You may not use, modify\n+    or distribute this program under any other version of the\n+    GNU Affero General Public License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+\n+/* Hikekuro the Owner\n+\tShowa VIP Face & Eye Change.\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n+*/\n+var status = 0;\n+var beauty = 0;\n+var price = 1000000;\n+var mface_v = Array(20000, 20004, 20005, 20012, 20020, 20031);\n+var fface_v = Array(21000, 21003, 21006, 21012, 21021, 21024);\n+var facenew = Array();\n+var colors = Array();\n+\n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n+function pushIfItemsExists(array, itemidList) {\n+    for (var i = 0; i < itemidList.length; i++) {\n+        var itemid = itemidList[i];\n+        \n+        if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+            array.push(itemid);\n+        }\n+    }\n+}\n+\n+function start() {\n+    status = -1;\n+    action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+    if (mode == -1) {\n+        cm.dispose();\n+    } else {\n+        if (mode == 0 && status == 0) {\n+            cm.dispose();\n+            return;\n+        }\n+        if (mode == 1)\n+            status++;\n+        else\n+            status--;\n+        if (status == 0) {\n+            cm.sendSimple(\"Well well well, welcome to the Showa Plastic Surgery! Would you like to transform your face into something new? With a #b#t5152009##k or a #b#t5152045##k, you can let us take care of the rest and have the face you've always wanted~!\\r\\n#L1#Plastic Surgery: #i5152009##t5152009##l\\r\\n#L2#Cosmetic Lens: #i5152045##t5152045##l\\r\\n#L3#One-time Cosmetic Lenses: #i5152102# (any color)#l\");\n+        } else if (status == 1) {\n+            if (selection == 1) {\n+                beauty = 0;\n+                facenew = Array();\n+                if (cm.getPlayer().getGender() == 0) {\n+                    for(var i = 0; i < mface_v.length; i++) {\n+                        pushIfItemExists(facenew, mface_v[i] + cm.getPlayer().getFace()\n+                            % 1000 - (cm.getPlayer().getFace()\n+                                % 100));\n+                    }\n+                }\n+                if (cm.getPlayer().getGender() == 1) {\n+                    for(var i = 0; i < fface_v.length; i++) {\n+                        pushIfItemExists(facenew, fface_v[i] + cm.getPlayer().getFace()\n+                            % 1000 - (cm.getPlayer().getFace()\n+                                % 100));\n+                    }\n+                }\n+                cm.sendStyle(\"I can totally transform your face into something new... how about giving us a try? For #b#t5152009##k, you can get the face of your liking...take your time in choosing the face of your preference.\", facenew);\n+            } else if (selection == 2) {\n+                beauty = 1;\n+                if (cm.getPlayer().getGender() == 0) {\n+                    var current = cm.getPlayer().getFace()\n+                    % 100 + 20000;\n+                }\n+                if (cm.getPlayer().getGender() == 1) {\n+                    var current = cm.getPlayer().getFace()\n+                    % 100 + 21000;\n+                }\n+                colors = Array();\n+                pushIfItemsExists(colors, [current , current + 100, current + 200, current + 300, current +400, current + 500, current + 700]);\n+                cm.sendStyle(\"With our new computer program, you can see yourself after the treatment in advance. What kind of lens would you like to wear? Please choose the style of your liking.\", colors);\n+            } else if (selection == 3) {\n+                beauty = 3;\n+                if (cm.getPlayer().getGender() == 0) {\n+                    var current = cm.getPlayer().getFace()\n+                    % 100 + 20000;\n+                }\n+                if (cm.getPlayer().getGender() == 1) {\n+                    var current = cm.getPlayer().getFace()\n+                    % 100 + 21000;\n+                }\n+                \n+                colors = Array();\n+                for (var i = 0; i < 8; i++) {\n+                    if (cm.haveItem(5152100 + i)) {\n+                        pushIfItemExists(colors, current + 100 * i);\n+                    }\n+                }\n+                \n+                if (colors.length == 0) {\n+                    cm.sendOk(\"You don't have any One-Time Cosmetic Lens to use.\");\n+                    cm.dispose();\n+                    return;\n+                }\n+                \n+                cm.sendStyle(\"What kind of lens would you like to wear? Please choose the style of your liking.\", colors);\n+            }\n+        }\n+        else if (status == 2){\n+            cm.dispose();\n+            \n+            if (beauty == 0) {\n+                if (cm.haveItem(5152009) == true){\n+                    cm.gainItem(5152009, -1);\n+                    cm.setFace(facenew[selection]);\n+                    cm.sendOk(\"Enjoy your new and improved face!\");\n+                } else {\n+                    cm.sendOk(\"Hmm ... it looks like you don't have the coupon specifically for this place. Sorry to say this, but without the coupon, there's no plastic surgery for you...\");\n+                }\n+            } else if (beauty == 1) {\n+                if (cm.haveItem(5152045) == true){\n+                    cm.gainItem(5152045, -1);\n+                    cm.setFace(colors[selection]);\n+                    cm.sendOk(\"Enjoy your new and improved cosmetic lenses!\");\n+                } else {\n+                    cm.sendOk(\"Hmm ... it looks like you don't have the coupon specifically for this place. Sorry to say this, but without the coupon, there's no plastic surgery for you...\");\n+                }\n+            } else if (beauty == 3){\n+                var color = (colors[selection] / 100) % 100 | 0;\n+                \n+                if (cm.haveItem(5152100 + color)){\n+                    cm.gainItem(5152100 + color, -1);\n+                    cm.setFace(colors[selection]);\n+                    cm.sendOk(\"Enjoy your new and improved cosmetic lenses!\");\n+                } else {\n+                    cm.sendOk(\"I'm sorry, but I don't think you have our cosmetic lens coupon with you right now. Without the coupon, I'm afraid I can't do it for you..\");\n+                }\n+            }\n+        }\n+    }\n+}"}, {"sha": "97641fe73484c94edc273bfc57c6cbb638e3b084", "filename": "scripts/npc/9120103.js", "status": "added", "additions": 110, "deletions": 0, "changes": 110, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9120103.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9120103.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9120103.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,110 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc> \n+                       Matthias Butz <matze@odinms.de>\n+                       Jan Christian Meyer <vimes@odinms.de>\n+\n+    Copyleft (L) 2016 - 2018 RonanLana (HeavenMS)\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License version 3\n+    as published by the Free Software Foundation. You may not use, modify\n+    or distribute this program under any other version of the\n+    GNU Affero General Public License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+\n+/* Saeko the Assistant\n+\tShowa Random Face & Eye Change.\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n+*/\n+var status = 0;\n+var beauty = 0;\n+var price = 1000000;\n+var mface_r = Array(20000, 20016, 20019, 20020, 20021, 20024, 20026);\n+var fface_r = Array(21000, 21002, 21009, 21016, 21022, 21025, 21027);\n+var facenew = Array();\n+var colors = Array();\n+\n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n+function pushIfItemsExists(array, itemidList) {\n+    for (var i = 0; i < itemidList.length; i++) {\n+        var itemid = itemidList[i];\n+        \n+        if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+            array.push(itemid);\n+        }\n+    }\n+}\n+\n+function start() {\n+    cm.sendSimple(\"Hi, I pretty much shouldn't be doing this, but with a #b#t5152008##k or a #b#t5152046##k, I will do it anyways for you. But don't forget, it will be random!\\r\\n#L1#Plastic Surgery: #i5152008##t5152008##l\\r\\n#L2#Cosmetic Lens: #i5152046##t5152046##l\");\n+}\n+\n+function action(mode, type, selection) {\n+    if (mode < 1) {\n+        cm.dispose();\n+    } else {\n+        status++;\n+        if (status == 1) {\n+            if (selection == 1) {\n+                beauty = 0;\n+                facenew = Array();\n+                if (cm.getPlayer().getGender() == 0)\n+                    for (var i = 0; i < mface_r.length; i++)\n+                        pushIfItemExists(facenew, mface_r[i] + cm.getPlayer().getFace() % 1000 - (cm.getPlayer().getFace() % 100));\n+                else\n+                    for (var i = 0; i < fface_r.length; i++)\n+                        pushIfItemExists(facenew, fface_r[i] + cm.getPlayer().getFace() % 1000 - (cm.getPlayer().getFace() % 100));\n+                cm.sendYesNo(\"If you use the regular coupon, your face may transform into a random new look...do you still want to do it using #b#t5152008##k?\");\n+            } else if (selection == 2) {\n+                beauty = 1;\n+                if (cm.getPlayer().getGender() == 0) {\n+                    var current = cm.getPlayer().getFace()\n+                    % 100 + 20000;\n+                }\n+                if (cm.getPlayer().getGender() == 1) {\n+                    var current = cm.getPlayer().getFace()\n+                    % 100 + 21000;\n+                }\n+                colors = Array();\n+                pushIfItemsExists(colors, [current , current + 100, current + 200, current + 300, current +400, current + 500, current + 700]);\n+                cm.sendYesNo(\"If you use the regular coupon, you'll be awarded a random pair of cosmetic lenses. Are you going to use a #b#t5152046##k and really make the change to your eyes?\");\n+            }\n+        }\n+        else if (status == 2){\n+            if (beauty == 0) {\n+                if (cm.haveItem(5152008)){\n+                    cm.gainItem(5152008, -1);\n+                    cm.setFace(facenew[Math.floor(Math.random() * facenew.length)]);\n+                    cm.sendOk(\"Enjoy your new and improved face!\");\n+                } else {\n+                    cm.sendOk(\"Hmm ... it looks like you don't have the coupon specifically for this place. Sorry to say this, but without the coupon, there's no plastic surgery for you...\");\n+                }\n+            } else if (beauty == 1) {\n+                if (cm.haveItem(5152046)){\n+                    cm.gainItem(5152046, -1);\n+                    cm.setFace(colors[Math.floor(Math.random() * colors.length)]);\n+                    cm.sendOk(\"Enjoy your new and improved cosmetic lenses!\");\n+                } else {\n+                    cm.sendOk(\"Hmm ... it looks like you don't have the coupon specifically for this place. Sorry to say this, but without the coupon, there's no plastic surgery for you...\");\n+                }\n+            }\n+            \n+            cm.dispose();\n+        }\n+    }\n+}"}, {"sha": "516d82248ca37c0d5aef5794a534ceab6b4cf321", "filename": "scripts/npc/9200100.js", "status": "modified", "additions": 56, "deletions": 7, "changes": 63, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9200100.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9200100.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9200100.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -28,6 +28,22 @@ var regprice = 1000000;\n var vipprice = 1000000;\n var colors = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n+function pushIfItemsExists(array, itemidList) {\n+    for (var i = 0; i < itemidList.length; i++) {\n+        var itemid = itemidList[i];\n+        \n+        if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+            array.push(itemid);\n+        }\n+    }\n+}\n+\n function start() {\n     status = -1;\n     action(1, 0, 0);\n@@ -44,7 +60,7 @@ function action(mode, type, selection) {\n         else\n             status--;\n         if (status == 0)\n-            cm.sendSimple(\"Hi, there~! I'm Dr. Lenu, in charge of the cosmetic lenses here at the Henesys Plastic Surgery Shop! With #b#t5152010##k or #b#t5152013##k, you can let us take care of the rest and have the kind of beautiful look you've always craved~! Remember, the first thing everyone notices about you is the eyes, and we can help you find the cosmetic lens that most fits you! Now, what would you like to use?\\r\\n#L1#Cosmetic Lenses: #i5152010##t5152010##l\\r\\n#L2#Cosmetic Lenses: #i5152013##t5152013##l\");\n+            cm.sendSimple(\"Hi, there~! I'm Dr. Lenu, in charge of the cosmetic lenses here at the Henesys Plastic Surgery Shop! With #b#t5152010##k or #b#t5152013##k, you can let us take care of the rest and have the kind of beautiful look you've always craved~! Remember, the first thing everyone notices about you is the eyes, and we can help you find the cosmetic lens that most fits you! Now, what would you like to use?\\r\\n#L1#Cosmetic Lenses: #i5152010##t5152010##l\\r\\n#L2#Cosmetic Lenses: #i5152013##t5152013##l\\r\\n#L3#One-time Cosmetic Lenses: #i5152103# (any color)#l\");\n         else if (status == 1) {\n             if (selection == 1) {\n                 beauty = 1;\n@@ -53,7 +69,7 @@ function action(mode, type, selection) {\n                 if (cm.getPlayer().getGender() == 1)\n                     var current = cm.getPlayer().getFace()% 100 + 21000;\n                 colors = Array();\n-                colors = Array(current , current + 100, current + 200, current + 300, current +400, current + 500, current + 600, current + 700);\n+                pushIfItemsExists(colors, [current , current + 100, current + 200, current +400, current + 600, current + 700]);\n                 cm.sendYesNo(\"If you use the regular coupon, you'll be awarded a random pair of cosmetic lenses. Are you going to use a #b#t5152010##k and really make the change to your eyes?\");\n             } else if (selection == 2) {\n                 beauty = 2;\n@@ -62,8 +78,33 @@ function action(mode, type, selection) {\n                 if (cm.getPlayer().getGender() == 1)\n                     var current = cm.getPlayer().getFace() % 100 + 21000;\n                 colors = Array();\n-                colors = Array(current , current + 100, current + 200, current + 300, current +400, current + 500, current + 600, current + 700);\n+                pushIfItemsExists(colors, [current , current + 100, current + 200, current +400, current + 600, current + 700]);\n                 cm.sendStyle(\"With our specialized machine, you can see yourself after the treatment in advance. What kind of lens would you like to wear? Choose the style of your liking.\", colors);\n+            } else if (selection == 3) {\n+                beauty = 3;\n+                if (cm.getPlayer().getGender() == 0) {\n+                    var current = cm.getPlayer().getFace()\n+                    % 100 + 20000;\n+                }\n+                if (cm.getPlayer().getGender() == 1) {\n+                    var current = cm.getPlayer().getFace()\n+                    % 100 + 21000;\n+                }\n+                \n+                colors = Array();\n+                for (var i = 0; i < 8; i++) {\n+                    if (cm.haveItem(5152100 + i)) {\n+                        pushIfItemExists(colors, current + 100 * i);\n+                    }\n+                }\n+                \n+                if (colors.length == 0) {\n+                    cm.sendOk(\"You don't have any One-Time Cosmetic Lens to use.\");\n+                    cm.dispose();\n+                    return;\n+                }\n+                \n+                cm.sendStyle(\"What kind of lens would you like to wear? Please choose the style of your liking.\", colors);\n             }\n         }\n         else if (status == 2){\n@@ -75,16 +116,24 @@ function action(mode, type, selection) {\n                     cm.sendOk(\"Enjoy your new and improved cosmetic lenses!\");\n                 } else\n                     cm.sendOk(\"I'm sorry, but I don't think you have our cosmetic lens coupon with you right now. Without the coupon, I'm afraid I can't do it for you..\");\n-            }\n-            if (beauty == 2){\n+            } else if (beauty == 2){\n                 if (cm.haveItem(5152013) == true){\n                     cm.gainItem(5152013, -1);\n                     cm.setFace(colors[selection]);\n                     cm.sendOk(\"Enjoy your new and improved cosmetic lenses!\");\n                 } else\n                     cm.sendOk(\"I'm sorry, but I don't think you have our cosmetic lens coupon with you right now. Without the coupon, I'm afraid I can't do it for you..\");\n-            }\n-            if (beauty == 0){\n+            } else if (beauty == 3){\n+                var color = (colors[selection] / 100) % 100 | 0;\n+                \n+                if (cm.haveItem(5152100 + color)){\n+                    cm.gainItem(5152100 + color, -1);\n+                    cm.setFace(colors[selection]);\n+                    cm.sendOk(\"Enjoy your new and improved cosmetic lenses!\");\n+                } else {\n+                    cm.sendOk(\"I'm sorry, but I don't think you have our cosmetic lens coupon with you right now. Without the coupon, I'm afraid I can't do it for you..\");\n+                }\n+            } else if (beauty == 0){\n                 if (selection == 0 && cm.getMeso() >= regprice) {\n                     cm.gainMeso(-regprice);\n                     cm.gainItem(5152010, 1);"}, {"sha": "fc5a8a8a6b687fecf7101fb4162277489e6592ee", "filename": "scripts/npc/9200101.js", "status": "modified", "additions": 56, "deletions": 7, "changes": 63, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9200101.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9200101.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9200101.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -28,6 +28,22 @@ var regprice = 1000000;\n var vipprice = 1000000;\n var colors = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n+function pushIfItemsExists(array, itemidList) {\n+    for (var i = 0; i < itemidList.length; i++) {\n+        var itemid = itemidList[i];\n+        \n+        if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+            array.push(itemid);\n+        }\n+    }\n+}\n+\n function start() {\n     status = -1;\n     action(1, 0, 0);\n@@ -46,7 +62,7 @@ function action(mode, type, selection) {\n         else\n             status--;\n         if (status == 0) {\n-            cm.sendSimple(\"Hello, I'm Dr. Rhomes, head of the cosmetic lens department here at the Orbis Plastic Surgery Shop.\\r\\nMy goal here is to add personality to everyone's eyes through the wonders of cosmetic lenses, and with #b#t5152011##k or #b#t5152014##k, I can do the same for you, too! Now, what would you like to use?\\r\\n#L1#Cosmetic Lenses: #i5152011##t5152011##l\\r\\n#L2#Cosmetic Lenses: #i5152014##t5152014##l\");\n+            cm.sendSimple(\"Hello, I'm Dr. Rhomes, head of the cosmetic lens department here at the Orbis Plastic Surgery Shop.\\r\\nMy goal here is to add personality to everyone's eyes through the wonders of cosmetic lenses, and with #b#t5152011##k or #b#t5152014##k, I can do the same for you, too! Now, what would you like to use?\\r\\n#L1#Cosmetic Lenses: #i5152011##t5152011##l\\r\\n#L2#Cosmetic Lenses: #i5152014##t5152014##l\\r\\n#L3#One-time Cosmetic Lenses: #i5152104# (any color)#l\");\n         } else if (status == 1) {\n             if (selection == 1) {\n                 beauty = 1;\n@@ -59,7 +75,7 @@ function action(mode, type, selection) {\n                     % 100 + 21000;\n                 }\n                 colors = Array();\n-                colors = Array(current , current + 100, current + 200, current + 300, current +400, current + 500, current + 600, current + 700);\n+                pushIfItemsExists(colors, [current + 100, current + 300, current +400, current + 700]);\n                 cm.sendYesNo(\"If you use the regular coupon, you'll be awarded a random pair of cosmetic lenses. Are you going to use a #b#t5152011##k and really make the change to your eyes?\");\n             } else if (selection == 2) {\n                 beauty = 2;\n@@ -72,8 +88,33 @@ function action(mode, type, selection) {\n                     % 100 + 21000;\n                 }\n                 colors = Array();\n-                colors = Array(current , current + 100, current + 200, current + 300, current +400, current + 500, current + 600, current + 700);\n+                pushIfItemsExists(colors, [current + 100, current + 300, current +400, current + 700]);\n                 cm.sendStyle(\"With our new computer program, you can see yourself after the treatment in advance. What kind of lens would you like to wear? Please choose the style of your liking.\", colors);\n+            } else if (selection == 3) {\n+                beauty = 3;\n+                if (cm.getPlayer().getGender() == 0) {\n+                    var current = cm.getPlayer().getFace()\n+                    % 100 + 20000;\n+                }\n+                if (cm.getPlayer().getGender() == 1) {\n+                    var current = cm.getPlayer().getFace()\n+                    % 100 + 21000;\n+                }\n+                \n+                colors = Array();\n+                for (var i = 0; i < 8; i++) {\n+                    if (cm.haveItem(5152100 + i)) {\n+                        pushIfItemExists(colors, current + 100 * i);\n+                    }\n+                }\n+                \n+                if (colors.length == 0) {\n+                    cm.sendOk(\"You don't have any One-Time Cosmetic Lens to use.\");\n+                    cm.dispose();\n+                    return;\n+                }\n+                \n+                cm.sendStyle(\"What kind of lens would you like to wear? Please choose the style of your liking.\", colors);\n             }\n         }\n         else if (status == 2){\n@@ -86,17 +127,25 @@ function action(mode, type, selection) {\n                 } else {\n                     cm.sendOk(\"I'm sorry, but I don't think you have our cosmetic lens coupon with you right now. Without the coupon, I'm afraid I can't do it for you..\");\n                 }\n-            }\n-            if (beauty == 2){\n+            } else if (beauty == 2){\n                 if (cm.haveItem(5152014)){\n                     cm.gainItem(5152014, -1);\n                     cm.setFace(colors[selection]);\n                     cm.sendOk(\"Enjoy your new and improved cosmetic lenses!\");\n                 } else {\n                     cm.sendOk(\"I'm sorry, but I don't think you have our cosmetic lens coupon with you right now. Without the coupon, I'm afraid I can't do it for you..\");\n                 }\n-            }\n-            if (beauty == 0){\n+            } else if (beauty == 3){\n+                var color = (colors[selection] / 100) % 100 | 0;\n+                \n+                if (cm.haveItem(5152100 + color)){\n+                    cm.gainItem(5152100 + color, -1);\n+                    cm.setFace(colors[selection]);\n+                    cm.sendOk(\"Enjoy your new and improved cosmetic lenses!\");\n+                } else {\n+                    cm.sendOk(\"I'm sorry, but I don't think you have our cosmetic lens coupon with you right now. Without the coupon, I'm afraid I can't do it for you..\");\n+                }\n+            } else if (beauty == 0){\n                 if (selection == 0 && cm.getMeso() >= regprice) {\n                     cm.gainMeso(-regprice);\n                     cm.gainItem(5152011, 1);"}, {"sha": "78ff68ade6ca4541ed8edbc2d6ca24b1e90e5ba3", "filename": "scripts/npc/9200102.js", "status": "modified", "additions": 56, "deletions": 7, "changes": 63, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9200102.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9200102.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9200102.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -28,6 +28,22 @@ var regprice = 1000000;\n var vipprice = 1000000;\n var colors = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n+function pushIfItemsExists(array, itemidList) {\n+    for (var i = 0; i < itemidList.length; i++) {\n+        var itemid = itemidList[i];\n+        \n+        if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+            array.push(itemid);\n+        }\n+    }\n+}\n+\n function start() {\n     status = -1;\n     action(1, 0, 0);\n@@ -46,7 +62,7 @@ function action(mode, type, selection) {\n         else\n             status--;\n         if (status == 0) {\n-            cm.sendSimple(\"Um... hi, I'm Dr. Bosch, and I am a cosmetic lens expert here at the Ludibrium Plastic Surgery Shop. I believe your eyes are the most important feature in your body, and with #b#t5152012##k or #b#t5152015##k, I can prescribe the right kind of cosmetic lenses for you. Now, what would you like to use?\\r\\n#L1#Cosmetic Lenses: #i5152012##t5152012##l\\r\\n#L2#Cosmetic Lenses: #i5152015##t5152015##l\");\t\t\t\t\t\t\n+            cm.sendSimple(\"Um... hi, I'm Dr. Bosch, and I am a cosmetic lens expert here at the Ludibrium Plastic Surgery Shop. I believe your eyes are the most important feature in your body, and with #b#t5152012##k or #b#t5152015##k, I can prescribe the right kind of cosmetic lenses for you. Now, what would you like to use?\\r\\n#L1#Cosmetic Lenses: #i5152012##t5152012##l\\r\\n#L2#Cosmetic Lenses: #i5152015##t5152015##l\\r\\n#L3#One-time Cosmetic Lenses: #i5152105# (any color)#l\");\n         } else if (status == 1) {\n             if (selection == 1) {\n                 beauty = 1;\n@@ -57,7 +73,7 @@ function action(mode, type, selection) {\n                     var current = cm.getPlayer().getFace() % 100 + 21000;\n                 }\n                 colors = Array();\n-                colors = Array(current , current + 100, current + 200, current + 300, current +400, current + 500, current + 600, current + 700);\n+                pushIfItemsExists(colors, [current + 200, current + 300, current +400, current + 500, current + 700]);\n                 cm.sendYesNo(\"If you use the regular coupon, you'll be awarded a random pair of cosmetic lenses. Are you going to use a #b#t5152012##k and really make the change to your eyes?\");\n             } else if (selection == 2) {\n                 beauty = 2;\n@@ -68,8 +84,33 @@ function action(mode, type, selection) {\n                     var current = cm.getPlayer().getFace() % 100 + 21000;\n                 }\n                 colors = Array();\n-                colors = Array(current , current + 100, current + 200, current + 300, current +400, current + 500, current + 600, current + 700);\n+                pushIfItemsExists(colors, [current + 200, current + 300, current +400, current + 500, current + 700]);\n                 cm.sendStyle(\"With our new computer program, you can see yourself after the treatment in advance. What kind of lens would you like to wear? Please choose the style of your liking.\", colors);\n+            } else if (selection == 3) {\n+                beauty = 3;\n+                if (cm.getPlayer().getGender() == 0) {\n+                    var current = cm.getPlayer().getFace()\n+                    % 100 + 20000;\n+                }\n+                if (cm.getPlayer().getGender() == 1) {\n+                    var current = cm.getPlayer().getFace()\n+                    % 100 + 21000;\n+                }\n+                \n+                colors = Array();\n+                for (var i = 0; i < 8; i++) {\n+                    if (cm.haveItem(5152100 + i)) {\n+                        pushIfItemExists(colors, current + 100 * i);\n+                    }\n+                }\n+                \n+                if (colors.length == 0) {\n+                    cm.sendOk(\"You don't have any One-Time Cosmetic Lens to use.\");\n+                    cm.dispose();\n+                    return;\n+                }\n+                \n+                cm.sendStyle(\"What kind of lens would you like to wear? Please choose the style of your liking.\", colors);\n             }\n         }\n         else if (status == 2){\n@@ -83,8 +124,7 @@ function action(mode, type, selection) {\n                     cm.sendOk(\"I'm sorry, but I don't think you have our cosmetic lens coupon with you right now. Without the coupon, I'm afraid I can't do it for you..\");\n                     cm.dispose();\n                 }\n-            }\n-            if (beauty == 2){\n+            } else if (beauty == 2){\n                 if (cm.haveItem(5152015) == true){\n                     cm.gainItem(5152015, -1);\n                     cm.setFace(colors[selection]);\n@@ -94,8 +134,17 @@ function action(mode, type, selection) {\n                     cm.sendOk(\"I'm sorry, but I don't think you have our cosmetic lens coupon with you right now. Without the coupon, I'm afraid I can't do it for you..\");\n                     cm.dispose();\n                 }\n-            }\n-            if (beauty == 0){\n+            } else if (beauty == 3){\n+                var color = (colors[selection] / 100) % 100 | 0;\n+                \n+                if (cm.haveItem(5152100 + color)){\n+                    cm.gainItem(5152100 + color, -1);\n+                    cm.setFace(colors[selection]);\n+                    cm.sendOk(\"Enjoy your new and improved cosmetic lenses!\");\n+                } else {\n+                    cm.sendOk(\"I'm sorry, but I don't think you have our cosmetic lens coupon with you right now. Without the coupon, I'm afraid I can't do it for you..\");\n+                }\n+            } else if (beauty == 0){\n                 if (selection == 0 && cm.getMeso() >= regprice) {\n                     cm.gainMeso(-regprice);\n                     cm.gainItem(5152012, 1);"}, {"sha": "58ecd8a92abcda3e8b5e0a55a4c68635ff282bf0", "filename": "scripts/npc/9201015.js", "status": "modified", "additions": 15, "deletions": 7, "changes": 22, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9201015.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9201015.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201015.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -21,15 +21,23 @@\n \n /* Julius Styleman\n \tAmoria VIP Hair/Hair Color Change.\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n var hairprice = 1000000;\n var haircolorprice = 1000000;\n-var mhair = Array(30580, 30590, 30280, 30670, 30410, 30200, 30050, 30230, 30290, 30300, 30250);\n-var fhair = Array(31580, 31590, 31310, 31200, 31150, 31160, 31020, 31260, 31230, 31220, 31110);\n+var mhair_v = Array(30050, 30300, 30410, 30450, 30510, 30570, 30580, 30590, 30660, 30910);\n+var fhair_v = Array(31150, 31220, 31260, 31310, 31420, 31480, 31490, 31580, 31590, 31610, 31630);\n var hairnew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n function start() {\n     status = -1;\n     action(1, 0, 0);\n@@ -54,14 +62,14 @@ function action(mode, type, selection) {\n                 beauty = 1;\n                 hairnew = Array();\n                 if (cm.getPlayer().getGender() == 0) {\n-                    for(var i = 0; i < mhair.length; i++) {\n-                        hairnew.push(mhair[i] + parseInt(cm.getPlayer().getHair()\n+                    for(var i = 0; i < mhair_v.length; i++) {\n+                        pushIfItemExists(hairnew, mhair_v[i] + parseInt(cm.getPlayer().getHair()\n                             % 10));\n                     }\n                 }\n                 if (cm.getPlayer().getGender() == 1) {\n-                    for(var i = 0; i < fhair.length; i++) {\n-                        hairnew.push(fhair[i] + parseInt(cm.getPlayer().getHair()\n+                    for(var i = 0; i < fhair_v.length; i++) {\n+                        pushIfItemExists(hairnew, fhair_v[i] + parseInt(cm.getPlayer().getHair()\n                             % 10));\n                     }\n                 }\n@@ -72,7 +80,7 @@ function action(mode, type, selection) {\n                 var current = parseInt(cm.getPlayer().getHair()\n                     /10)*10;\n                 for(var i = 0; i < 8; i++) {\n-                    haircolor.push(current + i);\n+                    pushIfItemExists(haircolor, current + i);\n                 }\n                 cm.sendStyle(\"I can totally change your haircolor and make it look so good. Why don't you change it up a bit? With #b#t5151017##k, I'll take care of the rest. Choose the color of your liking!\", haircolor);\n             }"}, {"sha": "fb1d2d799eca4c4c85d591d35ebe6d88ae55573e", "filename": "scripts/npc/9201016.js", "status": "modified", "additions": 14, "deletions": 100, "changes": 114, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9201016.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9201016.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201016.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -21,108 +21,22 @@\n */\n /* Salon Seamus\n \tAmoria Random Hair/Hair Color Change.\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n var hairprice = 1000000;\n var haircolorprice = 1000000;\n-var mhair = Array(30570, 30690, 30250, 30230, 30050, 30280, 30410, 30290, 30300, 30580, 30590, 30200, 30450);\n-var fhair = Array(31490, 31570, 31150, 31590, 31310, 31220, 31260, 31020, 31160, 31110, 31230, 31580, 31480);\n+var mhair_e = Array(30000, 30020, 30110, 30130, 30160, 30190, 30240, 30270, 30430);\n+var fhair_e = Array(31000, 31030, 31050, 31070, 31090, 31150, 31310, 31910, 34010);\n var hairnew = Array();\n \n-function start() {\n-    status = -1;\n-    action(1, 0, 0);\n-}\n-\n-function action(mode, type, selection) {\n-    if (mode == -1) {\n-        cm.dispose();\n-    } else {\n-        if (mode == 0 && status == 0) {\n-            cm.dispose();\n-            return;\n-        }\n-        if (mode == 1)\n-            status++;\n-        else\n-            status--;\n-        if (status == 0) {\n-            cm.sendSimple(\"I'm Salon Seamus. If you have #b#t5150019##k or #b#t5151016##k by any chance, then how about letting me change your hairdo?\\r\\n#L1#Haircut: #i5150019##t5150019##l\\r\\n#L2#Dye your hair: #i5151016##t5151016##l\");\n-        } else if (status == 1) {\n-            if (selection == 1) {\n-                beauty = 1;\n-                hairnew = Array();\n-                if (cm.getPlayer().getGender() == 0) {\n-                    for(var i = 0; i < mhair.length; i++) {\n-                        hairnew.push(mhair[i] + parseInt(cm.getPlayer().getHair()\n-                            % 10));\n-                    }\n-                }\n-                if (cm.getPlayer().getGender() == 1) {\n-                    for(var i = 0; i < fhair.length; i++) {\n-                        hairnew.push(fhair[i] + parseInt(cm.getPlayer().getHair()\n-                            % 10));\n-                    }\n-                }\n-                cm.sendYesNo(\"If you use the EXP coupon your hair will change RANDOMLY with a chance to obtain a new experimental style that even you didn't think was possible. Are you going to use #b#t5150019##k and really change your hairstyle?\");\n-            } else if (selection == 2) {\n-                beauty = 2;\n-                haircolor = Array();\n-                var current = parseInt(cm.getPlayer().getHair()\n-                    /10)*10;\n-                for(var i = 0; i < 8; i++) {\n-                    haircolor.push(current + i);\n-                }\n-                cm.sendYesNo(\"If you use a regular coupon your hair will change RANDOMLY. Do you still want to use #b#t5150019##k and change it up?\");\n-            }\n-        }\n-        else if (status == 2){\n-            cm.dispose();\n-            if (beauty == 1){\n-                if (cm.haveItem(5150019) == true){\n-                    cm.gainItem(5150019, -1);\n-                    cm.setHair(hairnew[Math.floor(Math.random() * hairnew.length)]);\n-                    cm.sendOk(\"Enjoy your new and improved hairstyle!\");\n-                } else {\n-                    cm.sendOk(\"Hmmm...it looks like you don't have our designated coupon...I'm afraid I can't give you a haircut without it. I'm sorry...\");\n-                }\n-            }\n-            if (beauty == 2){\n-                if (cm.haveItem(5151016) == true){\n-                    cm.gainItem(5151016, -1);\n-                    cm.setHair(haircolor[Math.floor(Math.random() * haircolor.length)]);\n-                    cm.sendOk(\"Enjoy your new and improved haircolor!\");\n-                } else {\n-                    cm.sendOk(\"Hmmm...it looks like you don't have our designated coupon...I'm afraid I can't dye your hair without it. I'm sorry...\");\n-                }\n-            }\n-            if (beauty == 0){\n-                if (selection == 0 && cm.getMeso() >= hairprice) {\n-                    cm.gainMeso(-hairprice);\n-                    cm.gainItem(5150019, 1);\n-                    cm.sendOk(\"Enjoy!\");\n-                } else if (selection == 1 && cm.getMeso() >= haircolorprice) {\n-                    cm.gainMeso(-haircolorprice);\n-                    cm.gainItem(5151016, 1);\n-                    cm.sendOk(\"Enjoy!\");\n-                } else {\n-                    cm.sendOk(\"You don't have enough mesos to buy a coupon!\");\n-                }\n-            }\n-        }\n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n     }\n }\n-/* Salon Seamus\n-\tAmoria Random Hair/Hair Color Change.\n-*/\n-var status = 0;\n-var beauty = 0;\n-var hairprice = 1000000;\n-var haircolorprice = 1000000;\n-var mhair = Array(30570, 30690, 30250, 30230, 30050, 30280, 30410, 30290, 30300, 30580, 30590, 30200, 30450);\n-var fhair = Array(31490, 31570, 31150, 31590, 31310, 31220, 31260, 31020, 31160, 31110, 31230, 31580, 31480);\n-var hairnew = Array();\n \n function start() {\n     status = -1;\n@@ -148,14 +62,14 @@ function action(mode, type, selection) {\n                 beauty = 1;\n                 hairnew = Array();\n                 if (cm.getPlayer().getGender() == 0) {\n-                    for(var i = 0; i < mhair.length; i++) {\n-                        hairnew.push(mhair[i] + parseInt(cm.getPlayer().getHair()\n+                    for(var i = 0; i < mhair_e.length; i++) {\n+                        pushIfItemExists(hairnew, mhair_e[i] + parseInt(cm.getPlayer().getHair()\n                             % 10));\n                     }\n                 }\n                 if (cm.getPlayer().getGender() == 1) {\n-                    for(var i = 0; i < fhair.length; i++) {\n-                        hairnew.push(fhair[i] + parseInt(cm.getPlayer().getHair()\n+                    for(var i = 0; i < fhair_e.length; i++) {\n+                        pushIfItemExists(hairnew, fhair_e[i] + parseInt(cm.getPlayer().getHair()\n                             % 10));\n                     }\n                 }\n@@ -166,9 +80,9 @@ function action(mode, type, selection) {\n                 var current = parseInt(cm.getPlayer().getHair()\n                     /10)*10;\n                 for(var i = 0; i < 8; i++) {\n-                    haircolor.push(current + i);\n+                    pushIfItemExists(haircolor, current + i);\n                 }\n-                cm.sendYesNo(\"If you use a regular coupon your hair will change RANDOMLY. Do you still want to use #b#t5151016##k and change it up?\");\n+                cm.sendYesNo(\"If you use a regular coupon your hair will change RANDOMLY. Do you still want to use #b#t5150016##k and change it up?\");\n             }\n         }\n         else if (status == 2){\n@@ -206,4 +120,4 @@ function action(mode, type, selection) {\n             }\n         }\n     }\n-}\n+}\n\\ No newline at end of file"}, {"sha": "98e22575682d88da7a91e03564eb9cb98b5c09ed", "filename": "scripts/npc/9201017.js", "status": "modified", "additions": 56, "deletions": 7, "changes": 63, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9201017.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9201017.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201017.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -28,6 +28,22 @@ var regprice = 1000000;\n var vipprice = 1000000;\n var colors = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n+function pushIfItemsExists(array, itemidList) {\n+    for (var i = 0; i < itemidList.length; i++) {\n+        var itemid = itemidList[i];\n+        \n+        if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+            array.push(itemid);\n+        }\n+    }\n+}\n+\n function start() {\n     status = -1;\n     action(1, 0, 0);\n@@ -46,7 +62,7 @@ function action(mode, type, selection) {\n         else\n             status--;\n         if (status == 0) {\n-            cm.sendSimple(\"Hi, there~! I'm Dr.Roberts, in charge of the cosmetic lenses here at the Amoria Plastic Surgery Shop! With #b#t5152025##k or #b#t5152026##k, you can let us take care of the rest and have the kind of beautiful look you've always craved~! Remember, the first thing everyone notices about you is the eyes, and we can help you find the cosmetic lens that most fits you! Now, what would you like to use?\\r\\n#L1#Cosmetic Lenses: #i5152025##t5152025##l\\r\\n#L2#Cosmetic Lenses: #i5152026##t5152026##l\");\t\t\t\t\t\t\n+            cm.sendSimple(\"Hi, there~! I'm Dr.Roberts, in charge of the cosmetic lenses here at the Amoria Plastic Surgery Shop! With #b#t5152025##k or #b#t5152026##k, you can let us take care of the rest and have the kind of beautiful look you've always craved~! Remember, the first thing everyone notices about you is the eyes, and we can help you find the cosmetic lens that most fits you! Now, what would you like to use?\\r\\n#L1#Cosmetic Lenses: #i5152025##t5152025##l\\r\\n#L2#Cosmetic Lenses: #i5152026##t5152026##l\\r\\n#L3#One-time Cosmetic Lenses: #i5152106# (any color)#l\");\n         } else if (status == 1) {\n             if (selection == 1) {\n                 beauty = 1;\n@@ -57,7 +73,7 @@ function action(mode, type, selection) {\n                     var current = cm.getPlayer().getFace() % 100 + 21000;\n                 }\n                 colors = Array();\n-                colors = Array(current , current + 100, current + 200, current + 300, current +400, current + 500, current + 600, current + 700);\n+                pushIfItemsExists(colors, [current , current + 100, current + 300, current +400, current + 500, current + 700]);\n                 cm.sendYesNo(\"If you use the regular coupon, you'll be awarded a random pair of cosmetic lenses. Are you going to use a #b#t5152025##k and really make the change to your eyes?\");\n             } else if (selection == 2) {\n                 beauty = 2;\n@@ -68,8 +84,33 @@ function action(mode, type, selection) {\n                     var current = cm.getPlayer().getFace() % 100 + 21000;\n                 }\n                 colors = Array();\n-                colors = Array(current , current + 100, current + 200, current + 300, current +400, current + 500, current + 600, current + 700);\n+                pushIfItemsExists(colors, [current , current + 100, current + 300, current +400, current + 500, current + 700]);\n                 cm.sendStyle(\"With our specialized machine, you can see yourself after the treatment in advance. What kind of lens would you like to wear? Choose the style of your liking.\", colors);\n+            } else if (selection == 3) {\n+                beauty = 3;\n+                if (cm.getPlayer().getGender() == 0) {\n+                    var current = cm.getPlayer().getFace()\n+                    % 100 + 20000;\n+                }\n+                if (cm.getPlayer().getGender() == 1) {\n+                    var current = cm.getPlayer().getFace()\n+                    % 100 + 21000;\n+                }\n+                \n+                colors = Array();\n+                for (var i = 0; i < 8; i++) {\n+                    if (cm.haveItem(5152100 + i)) {\n+                        pushIfItemExists(colors, current + 100 * i);\n+                    }\n+                }\n+                \n+                if (colors.length == 0) {\n+                    cm.sendOk(\"You don't have any One-Time Cosmetic Lens to use.\");\n+                    cm.dispose();\n+                    return;\n+                }\n+                \n+                cm.sendStyle(\"What kind of lens would you like to wear? Please choose the style of your liking.\", colors);\n             }\n         }\n         else if (status == 2){\n@@ -82,8 +123,7 @@ function action(mode, type, selection) {\n                     cm.sendOk(\"I'm sorry, but I don't think you have our cosmetic lens coupon with you right now. Without the coupon, I'm afraid I can't do it for you..\");\n                     cm.dispose();\n                 }\n-            }\n-            if (beauty == 2){\n+            } else if (beauty == 2){\n                 if (cm.haveItem(5152026)){\n                     cm.gainItem(5152026, -1);\n                     cm.setFace(colors[selection]);\n@@ -92,8 +132,17 @@ function action(mode, type, selection) {\n                     cm.sendOk(\"I'm sorry, but I don't think you have our cosmetic lens coupon with you right now. Without the coupon, I'm afraid I can't do it for you..\");\n                     cm.dispose();\n                 }\n-            }\n-            if (beauty == 0){\n+            } else if (beauty == 3){\n+                var color = (colors[selection] / 100) % 100 | 0;\n+                \n+                if (cm.haveItem(5152100 + color)){\n+                    cm.gainItem(5152100 + color, -1);\n+                    cm.setFace(colors[selection]);\n+                    cm.sendOk(\"Enjoy your new and improved cosmetic lenses!\");\n+                } else {\n+                    cm.sendOk(\"I'm sorry, but I don't think you have our cosmetic lens coupon with you right now. Without the coupon, I'm afraid I can't do it for you..\");\n+                }\n+            } else if (beauty == 0){\n                 if (selection == 0 && cm.getMeso() >= regprice) {\n                     cm.gainMeso(-regprice);\n                     cm.gainItem(5152025, 1);"}, {"sha": "c511102ca19ccce510a9b983e506171313d1d37d", "filename": "scripts/npc/9201018.js", "status": "modified", "additions": 15, "deletions": 7, "changes": 22, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9201018.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9201018.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201018.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -21,14 +21,22 @@\n */\n /* Dr. 90212\n \tAmoria VIP Eye Change.\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n  */\n var status = 0;\n var beauty = 0;\n var price = 1000000;\n-var mface = Array(20000, 20001, 20003, 20004, 20005, 20006, 20007, 20008, 20018, 20019);\n-var fface = Array(21018, 21001, 21002, 21003, 21004, 21005, 21006, 21007, 21012, 21019);\n+var mface_v = Array(20000, 20001, 20003, 20004, 20005, 20006, 20007, 20008, 20018, 20019);\n+var fface_v = Array(21001, 21002, 21003, 21004, 21005, 21006, 21007, 21012, 21018, 21019);\n var facenew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n function start() {\n     status = -1;\n     action(1, 0, 0);\n@@ -47,18 +55,18 @@ function action(mode, type, selection) {\n         else\n             status--;\n         if (status == 0) {\n-            cm.sendSimple(\"Well, hello! Welcome to Amoria Plastic Surgery! Would you like to transform your face into something new? With a #b#t5152022##k, you can let us take care of the rest and have the face you've always wanted~!\\r\\n#L2#I already have a Coupon!#l\");\n+            cm.sendSimple(\"Well, hello! Welcome to Amoria Plastic Surgery! Would you like to transform your face into something new? With a #b#t5152022##k, you can let us take care of the rest and have the face you've always wanted~!\\r\\n#L2#Plastic Surgery: #i5152022##t5152022##l\");\n         } else if (status == 1) {\n             if (selection == 2) {\n                 facenew = Array();\n                 if (cm.getPlayer().getGender() == 0) {\n-                    for(var i = 0; i < mface.length; i++) {\n-                        facenew.push(mface[i] + cm.getPlayer().getFace() % 1000 - (cm.getPlayer().getFace() % 100));\n+                    for(var i = 0; i < mface_v.length; i++) {\n+                        pushIfItemExists(facenew, mface_v[i] + cm.getPlayer().getFace() % 1000 - (cm.getPlayer().getFace() % 100));\n                     }\n                 }\n                 if (cm.getPlayer().getGender() == 1) {\n-                    for(var i = 0; i < fface.length; i++) {\n-                        facenew.push(fface[i] + cm.getPlayer().getFace() % 1000 - (cm.getPlayer().getFace() % 100));\n+                    for(var i = 0; i < fface_v.length; i++) {\n+                        pushIfItemExists(facenew, fface_v[i] + cm.getPlayer().getFace() % 1000 - (cm.getPlayer().getFace() % 100));\n                     }\n                 }\n                 cm.sendStyle(\"Let's see... I can totally transform your face into something new. Don't you want to try it? For #b#t5152022##k, you can get the face of your liking. Take your time in choosing the face of your preference.\", facenew);"}, {"sha": "f7c66d73f565d13c88fd221cb25c36876fb09b21", "filename": "scripts/npc/9201019.js", "status": "modified", "additions": 15, "deletions": 7, "changes": 22, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9201019.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9201019.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201019.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -21,14 +21,22 @@\n */\n /* Intern Shakihands\n \tAmoria Random Eye Change\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n  */\n var status = 0;\n var beauty = 0;\n var price = 1000000;\n-var mface = Array(20000, 20001, 20003, 20004, 20005, 20006, 20007, 20008, 20018, 20019);\n-var fface = Array(21018, 21001, 21002, 21003, 21004, 21005, 21006, 21007, 21012, 21019);\n+var mface_r = Array(20002, 20005, 20007, 20011, 20014, 20027, 20029);\n+var fface_r = Array(21001, 21005, 21007, 21017, 21018, 21020, 21022);\n var facenew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n function start() {\n     status = -1;\n     action(1, 0, 0);\n@@ -47,18 +55,18 @@ function action(mode, type, selection) {\n         else\n             status--;\n         if (status == 0) {\n-            cm.sendSimple(\"Hi, I pretty much shouldn't be doing this, but with a #b#t5152021##k, I will do it anyways for you. But don't forget, it will be random!\\r\\n#L2#I already have a Coupon!#l\");\n+            cm.sendSimple(\"Hi, I pretty much shouldn't be doing this, but with a #b#t5152021##k, I will do it anyways for you. But don't forget, it will be random!\\r\\n#L2#Plastic Surgery: #i5152021##t5152021##l\");\n         } else if (status == 1) {\n             if (selection == 2) {\n                 facenew = Array();\n                 if (cm.getPlayer().getGender() == 0) {\n-                    for(var i = 0; i < mface.length; i++) {\n-                        facenew.push(mface[i] + cm.getPlayer().getFace() % 1000 - (cm.getPlayer().getFace() % 100));\n+                    for(var i = 0; i < mface_r.length; i++) {\n+                        pushIfItemExists(facenew, mface_r[i] + cm.getPlayer().getFace() % 1000 - (cm.getPlayer().getFace() % 100));\n                     }\n                 }\n                 if (cm.getPlayer().getGender() == 1) {\n-                    for(var i = 0; i < fface.length; i++) {\n-                        facenew.push(fface[i] + cm.getPlayer().getFace() % 1000 - (cm.getPlayer().getFace() % 100));\n+                    for(var i = 0; i < fface_r.length; i++) {\n+                        pushIfItemExists(facenew, fface_r[i] + cm.getPlayer().getFace() % 1000 - (cm.getPlayer().getFace() % 100));\n                     }\n                 }\n                 cm.sendYesNo(\"If you use the regular coupon, your face may transform into a random new look...do you still want to do it using #b#t5152021##k?\");"}, {"sha": "491e3b8e0a68766eb2fc31f560023bca5d8d40dd", "filename": "scripts/npc/9201039.js", "status": "modified", "additions": 19, "deletions": 6, "changes": 25, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9201039.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9201039.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201039.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -19,11 +19,24 @@\n     You should have received a copy of the GNU Affero General Public License\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  */\n+\n+/* Claudia\n+\tAmoria Quest Hair Change.\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n+*/\n+\n var status = 0;\n-var mhair = Array(30270, 30240, 30020, 30000, 30132, 30192, 30032, 30112, 30162);\n-var fhair = Array(31150, 31250, 31310, 31050, 31050, 31030, 31070, 31091, 31001);\n+var mhair_q = Array(30270, 30240, 30020, 30000, 30132, 30192, 30032, 30112, 30162);\n+var fhair_q = Array(31150, 31250, 31310, 31050, 31050, 31030, 31070, 31091, 31001);\n var hairnew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n function start() {\n     if (cm.isQuestCompleted(8860) && !cm.haveItem(4031528)) {\n         cm.sendNext(\"I've already done your hair once as a trade-for-services, sport. You'll have to snag an EXP Hair coupon from the Cash Shop if you want to change it again!\");\n@@ -44,11 +57,11 @@ function action(mode, type, selection) {\n     if (status == 1) {\n         hairnew = Array();\n         if (cm.getPlayer().getGender() == 0)\n-            for(var i = 0; i < mhair.length; i++)\n-                hairnew.push(mhair[i]);\n+            for(var i = 0; i < mhair_q.length; i++)\n+                pushIfItemExists(hairnew, mhair_q[i]);\n         else\n-            for(var j = 0; j < fhair.length; j++)\n-                hairnew.push(fhair[j]);\n+            for(var j = 0; j < fhair_q.length; j++)\n+                pushIfItemExists(hairnew, fhair_q[j]);\n         cm.sendNext(\"Here we go!\");\n     } else {\n         if (cm.haveItem(4031528)) {"}, {"sha": "0c61db6b64979e1e0e6746b0c55e42beee4fa338", "filename": "scripts/npc/9201061.js", "status": "modified", "additions": 12, "deletions": 2, "changes": 14, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9201061.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9201061.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201061.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -26,6 +26,16 @@ var status = 0;\n var price = 1000000;\n var colors = Array();\n \n+function pushIfItemsExists(array, itemidList) {\n+    for (var i = 0; i < itemidList.length; i++) {\n+        var itemid = itemidList[i];\n+        \n+        if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+            array.push(itemid);\n+        }\n+    }\n+}\n+\n function start() {\n     status = -1;\n     action(1, 0, 0);\n@@ -44,7 +54,7 @@ function action(mode, type, selection) {\n         else\n             status--;\n         if (status == 0) {\n-            cm.sendSimple(\"Hi, there~! I'm Bomack. If you have a #b#t5152035##k, I can prescribe the right kind of cosmetic lenses for you. Now, what would you like to do?\\r\\n#L2#I already have a Coupon!#l\");\n+            cm.sendSimple(\"Hi, there~! I'm Bomack. If you have a #b#t5152035##k, I can prescribe the right kind of cosmetic lenses for you. Now, what would you like to do?\\r\\n#L2#Cosmetic Lens: #i5152035##t5152035##l\");\n         } else if (status == 1) {\n             if (selection == 2) {\n                 if (cm.getPlayer().getGender() == 0) {\n@@ -54,7 +64,7 @@ function action(mode, type, selection) {\n                     var current = cm.getPlayer().getFace() % 100 + 21000;\n                 }\n                 colors = Array();\n-                colors = Array(current , current + 100, current + 200, current + 300, current +400, current + 500, current + 600, current + 700);\n+                pushIfItemsExists(colors, [current + 100, current + 200, current + 300, current +400, current + 500, current + 600, current + 700]);\n                 cm.sendYesNo(\"If you use the regular coupon, you'll be awarded a random pair of cosmetic lenses. Are you going to use #b#t5152035##k and really make the change to your eyes?\");\n             }\n         }"}, {"sha": "228ad43bc3863d6782214f068740d575b52e0e42", "filename": "scripts/npc/9201062.js", "status": "modified", "additions": 63, "deletions": 10, "changes": 73, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9201062.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9201062.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201062.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -23,9 +23,26 @@\n \tNLC VIP Eye Color Change.\n */\n var status = 0;\n+var beauty = 0;\n var price = 1000000;\n var colors = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n+function pushIfItemsExists(array, itemidList) {\n+    for (var i = 0; i < itemidList.length; i++) {\n+        var itemid = itemidList[i];\n+        \n+        if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+            array.push(itemid);\n+        }\n+    }\n+}\n+\n function start() {\n     status = -1;\n     action(1, 0, 0);\n@@ -44,7 +61,7 @@ function action(mode, type, selection) {\n         else\n             status--;\n         if (status == 0) {\n-            cm.sendSimple(\"Hey, there~! I'm J.J.! I'm in charge of the cosmetic lenses here at NLC Shop! If you have a #b#t5152036##k, I can get you the best cosmetic lenses you have ever had! Now, what would you like to do?\\r\\n#L2#I already have a Coupon!#l\");\n+            cm.sendSimple(\"Hey, there~! I'm J.J.! I'm in charge of the cosmetic lenses here at NLC Shop! If you have a #b#t5152036##k, I can get you the best cosmetic lenses you have ever had! Now, what would you like to do?\\r\\n#L2#Cosmetic Lenses: #i5152036##t5152036##l\\r\\n#L3#One-time Cosmetic Lenses: #i5152107# (any color)#l\");\n         } else if (status == 1) {\n             if (selection == 2) {\n                 if (cm.getPlayer().getGender() == 0) {\n@@ -54,18 +71,54 @@ function action(mode, type, selection) {\n                     var current = cm.getPlayer().getFace() % 100 + 21000;\n                 }\n                 colors = Array();\n-                colors = Array(current , current + 100, current + 200, current + 300, current +400, current + 500, current + 600, current + 700);\n+                pushIfItemsExists(colors, [current + 100, current + 200, current + 300, current +400, current + 500, current + 600, current + 700]);\n                 cm.sendStyle(\"With our specialized machine, you can see yourself after the treatment in advance. What kind of lens would you like to wear? Choose the style of your liking.\", colors);\n+            } else if (selection == 3) {\n+                beauty = 3;\n+                if (cm.getPlayer().getGender() == 0) {\n+                    var current = cm.getPlayer().getFace()\n+                    % 100 + 20000;\n+                }\n+                if (cm.getPlayer().getGender() == 1) {\n+                    var current = cm.getPlayer().getFace()\n+                    % 100 + 21000;\n+                }\n+                \n+                colors = Array();\n+                for (var i = 0; i < 8; i++) {\n+                    if (cm.haveItem(5152100 + i)) {\n+                        pushIfItemExists(colors, current + 100 * i);\n+                    }\n+                }\n+                \n+                if (colors.length == 0) {\n+                    cm.sendOk(\"You don't have any One-Time Cosmetic Lens to use.\");\n+                    cm.dispose();\n+                    return;\n+                }\n+                \n+                cm.sendStyle(\"What kind of lens would you like to wear? Please choose the style of your liking.\", colors);\n             }\n-        }\n-        else if (status == 2){\n+        } else if (status == 2){\n             cm.dispose();\n-            if (cm.haveItem(5152036) == true){\n-                cm.gainItem(5152036, -1);\n-                cm.setFace(colors[selection]);\n-                cm.sendOk(\"Enjoy your new and improved cosmetic lenses!\");\n-            } else {\n-                cm.sendOk(\"I'm sorry, but I don't think you have our cosmetic lens coupon with you right now. Without the coupon, I'm afraid I can't do it for you..\");\n+            if (beauty == 0) {\n+                if (cm.haveItem(5152036) == true){\n+                    cm.gainItem(5152036, -1);\n+                    cm.setFace(colors[selection]);\n+                    cm.sendOk(\"Enjoy your new and improved cosmetic lenses!\");\n+                } else {\n+                    cm.sendOk(\"I'm sorry, but I don't think you have our cosmetic lens coupon with you right now. Without the coupon, I'm afraid I can't do it for you..\");\n+                }\n+            } else if (beauty == 3){\n+                var color = (colors[selection] / 100) % 100 | 0;\n+                \n+                if (cm.haveItem(5152100 + color)){\n+                    cm.gainItem(5152100 + color, -1);\n+                    cm.setFace(colors[selection]);\n+                    cm.sendOk(\"Enjoy your new and improved cosmetic lenses!\");\n+                } else {\n+                    cm.sendOk(\"I'm sorry, but I don't think you have our cosmetic lens coupon with you right now. Without the coupon, I'm afraid I can't do it for you..\");\n+                }\n             }\n         }\n     }"}, {"sha": "47224f97a3dc00f708275a8e4fb23c9685504054", "filename": "scripts/npc/9201063.js", "status": "modified", "additions": 15, "deletions": 7, "changes": 22, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9201063.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9201063.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201063.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -21,15 +21,23 @@\n */\n /* Ari\n \tNLC Random Hair/Hair Color Change.\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n var hairprice = 1000000;\n var haircolorprice = 1000000;\n-var mhair = Array(30250, 30110, 30230, 30050, 30280, 30410, 30730, 30160, 30200, 30440, 30360, 30740, 30400);\n-var fhair = Array(31150, 31310, 31220, 31300, 31260, 31160, 31730, 31410, 31410, 31720, 31560, 31450);\n+var mhair_e = Array(30250, 30400, 30430, 30440, 30490, 30730, 30830, 30870, 30880, 33100);\n+var fhair_e = Array(31320, 31450, 31560, 31570, 31690, 31720, 31730, 31830, 34010);\n var hairnew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n function start() {\n     status = -1;\n     action(1, 0, 0);\n@@ -54,13 +62,13 @@ function action(mode, type, selection) {\n                 beauty = 1;\n                 hairnew = Array();\n                 if (cm.getPlayer().getGender() == 0) {\n-                    for(var i = 0; i < mhair.length; i++) {\n-                        hairnew.push(mhair[i] + parseInt(cm.getPlayer().getHair() % 10));\n+                    for(var i = 0; i < mhair_e.length; i++) {\n+                        pushIfItemExists(hairnew, mhair_e[i] + parseInt(cm.getPlayer().getHair() % 10));\n                     }\n                 }\n                 if (cm.getPlayer().getGender() == 1) {\n-                    for(var i = 0; i < fhair.length; i++) {\n-                        hairnew.push(fhair[i] + parseInt(cm.getPlayer().getHair() % 10));\n+                    for(var i = 0; i < fhair_e.length; i++) {\n+                        pushIfItemExists(hairnew, fhair_e[i] + parseInt(cm.getPlayer().getHair() % 10));\n                     }\n                 }\n                 cm.sendYesNo(\"If you use the EXP coupon your hair will change RANDOMLY with a chance to obtain a new experimental style that I came up with. Are you going to use #b#t5150030##k and really change your hairstyle?\");\n@@ -69,7 +77,7 @@ function action(mode, type, selection) {\n                 haircolor = Array();\n                 var current = parseInt(cm.getPlayer().getHair()/10)*10;\n                 for(var i = 0; i < 8; i++) {\n-                    haircolor.push(current + i);\n+                    pushIfItemExists(haircolor, current + i);\n                 }\n                 cm.sendYesNo(\"If you use a regular coupon your hair will change RANDOMLY. Do you still want to use #b#t5151025##k and change it up?\");\n             }"}, {"sha": "06e696ea622f7dfb6b9ea621830a4a4fa1d4f654", "filename": "scripts/npc/9201064.js", "status": "modified", "additions": 16, "deletions": 8, "changes": 24, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9201064.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9201064.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201064.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -20,16 +20,24 @@\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n /* Mani\n-NLC VIP Hair/Hair Color Change.\n+        NLC VIP Hair/Hair Color Change.\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n var hairprice = 1000000;\n var haircolorprice = 1000000;\n-var mhair = Array(30250, 30110, 30230, 30050, 30280, 30410, 30730, 30160, 30200);\n-var fhair = Array(31150, 31310, 31220, 31300, 31260, 31160, 31730, 31410, 31410);\n+var mhair_v = Array(30250, 30490, 30730, 30870, 30880, 33100);\n+var fhair_v = Array(31320, 31450, 31560, 31730, 31830);\n var hairnew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n function start() {\n     cm.sendSimple(\"I'm the head of this hair salon Mani. If you have a #b#t5150031##k or a #b#t5151026##k, allow me to take care of your hairdo. Please choose the one you want.\\r\\n#L1#Haircut: #i5150031##t5150031##l\\r\\n#L2#Dye your hair: #i5151026##t5151026##l\");\n }\n@@ -51,18 +59,18 @@ function action(mode, type, selection) {\n                 beauty = 1;\n                 hairnew = Array();\n                 if (cm.getPlayer().getGender() == 0)\n-                    for(var i = 0; i < mhair.length; i++)\n-                        hairnew.push(mhair[i] + parseInt(cm.getPlayer().getHair()% 10));\n+                    for(var i = 0; i < mhair_v.length; i++)\n+                        pushIfItemExists(hairnew, mhair_v[i] + parseInt(cm.getPlayer().getHair()% 10));\n                 if (cm.getPlayer().getGender() == 1)\n-                    for(var i = 0; i < fhair.length; i++)\n-                        hairnew.push(fhair[i] + parseInt(cm.getPlayer().getHair() % 10));\n+                    for(var i = 0; i < fhair_v.length; i++)\n+                        pushIfItemExists(hairnew, fhair_v[i] + parseInt(cm.getPlayer().getHair() % 10));\n                 cm.sendStyle(\"I can totally change up your hairstyle and make it look so good. Why don't you change it up a bit? With #b#t5150031##k, I'll take care of the rest for you. Choose the style of your liking!\", hairnew);\n             } else if (selection == 2) {\n                 beauty = 2;\n                 haircolor = Array();\n                 var current = parseInt(cm.getPlayer().getHair()/10)*10;\n                 for(var i = 0; i < 8; i++)\n-                    haircolor.push(current + i);\n+                    pushIfItemExists(haircolor, current + i);\n                 cm.sendStyle(\"I can totally change your haircolor and make it look so good. Why don't you change it up a bit? With #b#t5151026##k, I'll take care of the rest. Choose the color of your liking!\", haircolor);\n             }\n         }"}, {"sha": "94811914ee8a669c15dd6506388aa0f62cb5ab7b", "filename": "scripts/npc/9201065.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9201065.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9201065.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201065.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -27,7 +27,7 @@ var price = 1000000;\n var skin = Array(0, 1, 2, 3, 4);\n \n function start() {\n-    cm.sendSimple(\"Well, hello! Welcome to the NLC Skin-Care! Would you like to have a firm, tight, healthy looking skin like mine?  With #b#t5153009##k, you can let us take care of the rest and have the kind of skin you've always wanted~!\\r\\n#L2#I already have a Coupon!#l\");\n+    cm.sendSimple(\"Well, hello! Welcome to the NLC Skin-Care! Would you like to have a firm, tight, healthy looking skin like mine?  With #b#t5153009##k, you can let us take care of the rest and have the kind of skin you've always wanted~!\\r\\n#L2#Skin Care: #i5153009##t5153009##l\");\n }\n \n function action(mode, type, selection) {"}, {"sha": "fe70fa205b8f1c73d5309454836b5216e7fed683", "filename": "scripts/npc/9201069.js", "status": "modified", "additions": 15, "deletions": 7, "changes": 22, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9201069.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9201069.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201069.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -21,16 +21,24 @@\n */\n /* V. Isage\n \tNLC VIP Eye Change.\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n var price = 1000000;\n-var mface = Array(20000, 20001, 20002, 20003, 20004, 20005, 20006, 20007, 20008, 20012);\n-var fface = Array(21001, 21002, 21003, 21004, 21005, 21006, 21008, 21012, 21014, 21016);\n+var mface_v = Array(20000, 20001, 20003, 20004, 20005, 20006, 20008, 20012, 20031);\n+var fface_v = Array(21001, 21002, 21003, 21004, 21005, 21006, 21008, 21012, 21016);\n var facenew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n function start() {\n-    cm.sendSimple(\"Well, hello! Welcome to the New Leaf City Plastic Surgery! Would you like to transform your face into something new? With a #b#t5152034##k, you can let us take care of the rest and have the face you've always wanted~!\\r\\n#L2#I already have a Coupon!#l\");\n+    cm.sendSimple(\"Well, hello! Welcome to the New Leaf City Plastic Surgery! Would you like to transform your face into something new? With a #b#t5152034##k, you can let us take care of the rest and have the face you've always wanted~!\\r\\n#L2#Plastic Surgery: #i5152034##t5152034##l\");\n }\n \n function action(mode, type, selection) {\n@@ -49,11 +57,11 @@ function action(mode, type, selection) {\n             if (selection == 2) {\n                 facenew = Array();\n                 if (cm.getPlayer().getGender() == 0)\n-                    for(var i = 0; i < mface.length; i++)\n-                        facenew.push(mface[i] + cm.getPlayer().getFace() % 1000 - (cm.getPlayer().getFace()% 100));\n+                    for(var i = 0; i < mface_v.length; i++)\n+                        pushIfItemExists(facenew, mface_v[i] + cm.getPlayer().getFace() % 1000 - (cm.getPlayer().getFace()% 100));\n                 if (cm.getPlayer().getGender() == 1)\n-                    for(var i = 0; i < fface.length; i++)\n-                        facenew.push(fface[i] + cm.getPlayer().getFace() % 1000 - (cm.getPlayer().getFace() % 100));\n+                    for(var i = 0; i < fface_v.length; i++)\n+                        pushIfItemExists(facenew, fface_v[i] + cm.getPlayer().getFace() % 1000 - (cm.getPlayer().getFace() % 100));\n                 cm.sendStyle(\"Let's see... I can totally transform your face into something new. Don't you want to try it? For #b#t5152034##k, you can get the face of your liking. Take your time in choosing the face of your preference.\", facenew);\n             }\n         }"}, {"sha": "92d19f172a8c2f44c23cb903f6eb03b11c572326", "filename": "scripts/npc/9201070.js", "status": "modified", "additions": 15, "deletions": 8, "changes": 23, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9201070.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9201070.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201070.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -21,17 +21,24 @@\n */\n /* Nerbit\n \tNLC Random Eye Change.\n-@TODO: Make this not sell tickets like in GMS\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n var price = 1000000;\n-var mface = Array(20000, 20001, 20002, 20003, 20004, 20005, 20006, 20007, 20008, 20012);\n-var fface = Array(21001, 21002, 21003, 21004, 21005, 21006, 21008, 21012, 21014, 21016);\n+var mface_r = Array(20001, 20008, 20011, 20013, 20024, 20029, 20032);\n+var fface_r = Array(21000, 21007, 21011, 21012, 21017, 21020, 21022);\n var facenew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n function start() {\n-    cm.sendSimple(\"Hi, I pretty much shouldn't be doing this, but with a #b#t5152033##k, I will do it anyways for you. But don't forget, it will be random!\\r\\n#L2#I already have a Coupon!#l\");\n+    cm.sendSimple(\"Hi, I pretty much shouldn't be doing this, but with a #b#t5152033##k, I will do it anyways for you. But don't forget, it will be random!\\r\\n#L2#Plastic Surgery: #i5152033##t5152033##l\");\n }\n \n function action(mode, type, selection) {\n@@ -50,11 +57,11 @@ function action(mode, type, selection) {\n             if (selection == 2) {\n                 facenew = Array();\n                 if (cm.getPlayer().getGender() == 0)\n-                    for(var i = 0; i < mface.length; i++)\n-                        facenew.push(mface[i] + cm.getPlayer().getFace() % 1000 - (cm.getPlayer().getFace() % 100));\n+                    for(var i = 0; i < mface_r.length; i++)\n+                        pushIfItemExists(facenew, mface_r[i] + cm.getPlayer().getFace() % 1000 - (cm.getPlayer().getFace() % 100));\n                 if (cm.getPlayer().getGender() == 1)\n-                    for(var i = 0; i < fface.length; i++)\n-                        facenew.push(fface[i] + cm.getPlayer().getFace() % 1000 - (cm.getPlayer().getFace() % 100));\n+                    for(var i = 0; i < fface_r.length; i++)\n+                        pushIfItemExists(facenew, fface_r[i] + cm.getPlayer().getFace() % 1000 - (cm.getPlayer().getFace() % 100));\n                 cm.sendYesNo(\"If you use the regular coupon, your face may transform into a random new look...do you still want to do it using #b#t5152033##k?\");\n             }\n         } else if (status == 2){"}, {"sha": "45e93e68463b1de0e400ed18373e607443db4727", "filename": "scripts/npc/9270023.js", "status": "modified", "additions": 14, "deletions": 6, "changes": 20, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9270023.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9270023.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9270023.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -23,13 +23,21 @@\n \tSingapore Random Face Changer\n \t@Author AAron (aaroncsn), Cody\n \tSide note by aaron [If there is something wrong PM me on fMS]\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n-var mface = Array(20000, 20001, 20002, 20003, 20004, 20005, 20006, 20007, 20008, 20012);\n-var fface = Array(21001, 21002, 21003, 21004, 21005, 21006, 21008, 21012, 21014, 21016);\n+var mface_r = Array(20002, 20005, 20006, 20013, 20017, 20021, 20024);\n+var fface_r = Array(21002, 21003, 21014, 21016, 21017, 21021, 21027);\n var facenew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n function start() {\n     cm.sendSimple(\"If you use this regular coupon, your face may transform into a random new look...do you still want to do it using #b#t5152037##k, I will do it anyways for you. But don't forget, it will be random!\\r\\n\\#L2#OK! (Uses #i5152037# #t5152037#)#l\");\n }\n@@ -57,11 +65,11 @@ function action(mode, type, selection) {\n             \n             facenew = Array();\n             if (cm.getPlayer().getGender() == 0)\n-                for(var i = 0; i < mface.length; i++) \n-                    facenew.push(mface[i] + cm.getPlayer().getFace()% 1000 - (cm.getPlayer().getFace()% 100));\n+                for(var i = 0; i < mface_r.length; i++) \n+                    pushIfItemExists(facenew, mface_r[i] + cm.getPlayer().getFace()% 1000 - (cm.getPlayer().getFace()% 100));\n             if (cm.getPlayer().getGender() == 1)\n-                for(var i = 0; i < fface.length; i++) \n-                    facenew.push(fface[i] + cm.getPlayer().getFace()% 1000 - (cm.getPlayer().getFace()% 100));\n+                for(var i = 0; i < fface_r.length; i++) \n+                    pushIfItemExists(facenew, fface_r[i] + cm.getPlayer().getFace()% 1000 - (cm.getPlayer().getFace()% 100));\n             cm.sendYesNo(\"If you use the regular coupon, your face may transform into a random new look...do you still want to do it using #b#t5152037##k?\");\n         } else if (status == 2){\n             cm.gainItem(5152037 , -1);"}, {"sha": "605f93f4f66508ee1c399251ec410eb08efc356b", "filename": "scripts/npc/9270024.js", "status": "modified", "additions": 14, "deletions": 6, "changes": 20, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9270024.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9270024.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9270024.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -22,13 +22,21 @@\n /* \tKelvin\n \tSingaPore VIP Face changer\n \t@Author AAron (aaroncsn), Cody\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n-var mface = Array(20109, 20110, 20106, 20108, 20112, 20013);\n-var fface = Array(21021, 21009, 21010, 21006, 21008, 21012);\n+var mface_v = Array(20005, 20012, 20013, 20020, 20021, 20026);\n+var fface_v = Array(21006, 21009, 21011, 21012, 21021, 21025);\n var facenew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n function start() {\n     status = -1;\n     action(1, 0, 0);\n@@ -58,12 +66,12 @@ function action(mode, type, selection) {\n             \n             facenew = Array();\n             if (cm.getPlayer().getGender() == 0) {\n-                for(var i = 0; i < mface.length; i++)\n-                    facenew.push(mface[i] + cm.getPlayer().getFace()% 1000 - (cm.getPlayer().getFace()% 100));\n+                for(var i = 0; i < mface_v.length; i++)\n+                    pushIfItemExists(facenew, mface_v[i] + cm.getPlayer().getFace()% 1000 - (cm.getPlayer().getFace()% 100));\n             }\n             if (cm.getPlayer().getGender() == 1) {\n-                for(var i = 0; i < fface.length; i++) {\n-                    facenew.push(fface[i] + cm.getPlayer().getFace()% 1000 - (cm.getPlayer().getFace()% 100));\n+                for(var i = 0; i < fface_v.length; i++) {\n+                    pushIfItemExists(facenew, fface_v[i] + cm.getPlayer().getFace()% 1000 - (cm.getPlayer().getFace()% 100));\n                 }\n             }\n             cm.sendStyle(\"Let's see... I can totally transform your face into something new. Don't you want to try it? For #b#t5152038##k, you can get the face of your liking. Take your time in choosing the face of your preference...\", facenew);"}, {"sha": "9dbc3a6629d814987c5a22930a1829b071c64d89", "filename": "scripts/npc/9270026.js", "status": "modified", "additions": 54, "deletions": 3, "changes": 57, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9270026.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9270026.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9270026.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -27,8 +27,24 @@ var status = 0;\n var beauty = 0;\n var colors = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n+function pushIfItemsExists(array, itemidList) {\n+    for (var i = 0; i < itemidList.length; i++) {\n+        var itemid = itemidList[i];\n+        \n+        if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+            array.push(itemid);\n+        }\n+    }\n+}\n+\n function start() {\n-    cm.sendSimple(\"Hi, there! I'm Sixx, in charge of Da Yan Jing Lens Shop here at CBD! With #b#t5152039##k or #b#t5152040##k, you can let us take care of the rest and have the kind of beautiful look you've always craved! Remember, the first thing everyone notices about you are the eyes, and we can help you find the cosmetic lens that most fits you! Now, what would you like to use?\\r\\n#L1#Cosmetic Lenses: #i5152039##t5152039##l\\r\\n#L2#Cosmetic Lenses: #i5152040##t5152040##l\");\n+    cm.sendSimple(\"Hi, there! I'm Sixx, in charge of Da Yan Jing Lens Shop here at CBD! With #b#t5152039##k or #b#t5152040##k, you can let us take care of the rest and have the kind of beautiful look you've always craved! Remember, the first thing everyone notices about you are the eyes, and we can help you find the cosmetic lens that most fits you! Now, what would you like to use?\\r\\n#L1#Cosmetic Lenses: #i5152039##t5152039##l\\r\\n#L2#Cosmetic Lenses: #i5152040##t5152040##l\\r\\n#L3#One-time Cosmetic Lenses: #i5152107# (any color)#l\");\n }\n \n function action(mode, type, selection) {\n@@ -41,11 +57,36 @@ function action(mode, type, selection) {\n                 beauty = 1;\n                 var current = cm.getPlayer().getFace()% 100 + 20000 + cm.getPlayer().getGender() * 1000;\n                 cm.sendYesNo(\"If you use the regular coupon, you'll be awarded a random pair of cosmetic lenses. Are you going to use a #b#t5152039##k and really make the change to your eyes?\");\n-            } else {\n+            } else if (selection == 2) {\n                 beauty = 2;\n                 var current = cm.getPlayer().getFace()% 100 + 20000 + cm.getPlayer().getGender() * 1000;\n-                colors = [current , current + 100, current + 200, current + 300, current +400, current + 500, current + 600, current + 700];\n+                pushIfItemsExists(colors, [current + 200, current + 300, current +400, current + 700]);\n                 cm.sendStyle(\"With our specialized machine, you can see yourself after the treatment in advance. What kind of lens would you like to wear? Choose the style of your liking.\", colors);\n+            } else if (selection == 3) {\n+                beauty = 3;\n+                if (cm.getPlayer().getGender() == 0) {\n+                    var current = cm.getPlayer().getFace()\n+                    % 100 + 20000;\n+                }\n+                if (cm.getPlayer().getGender() == 1) {\n+                    var current = cm.getPlayer().getFace()\n+                    % 100 + 21000;\n+                }\n+                \n+                colors = Array();\n+                for (var i = 0; i < 8; i++) {\n+                    if (cm.haveItem(5152100 + i)) {\n+                        pushIfItemExists(colors, current + 100 * i);\n+                    }\n+                }\n+                \n+                if (colors.length == 0) {\n+                    cm.sendOk(\"You don't have any One-Time Cosmetic Lens to use.\");\n+                    cm.dispose();\n+                    return;\n+                }\n+                \n+                cm.sendStyle(\"What kind of lens would you like to wear? Please choose the style of your liking.\", colors);\n             }\n         }\n         else if (status == 2) {\n@@ -63,6 +104,16 @@ function action(mode, type, selection) {\n                     cm.sendOk(\"Enjoy your new and improved cosmetic lenses!\");\n                 } else \n                     cm.sendOk(\"I'm sorry, but I don't think you have our cosmetic lens coupon with you right now. Without the coupon, I'm afraid I can't do it for you..\");\n+            } else if (beauty == 3){\n+                var color = (colors[selection] / 100) % 100 | 0;\n+                \n+                if (cm.haveItem(5152100 + color)){\n+                    cm.gainItem(5152100 + color, -1);\n+                    cm.setFace(colors[selection]);\n+                    cm.sendOk(\"Enjoy your new and improved cosmetic lenses!\");\n+                } else {\n+                    cm.sendOk(\"I'm sorry, but I don't think you have our cosmetic lens coupon with you right now. Without the coupon, I'm afraid I can't do it for you..\");\n+                }\n             }\n             cm.dispose();\n         }"}, {"sha": "b4df39879f8aed31640535fb6fad6c20b71b8b25", "filename": "scripts/npc/9270036.js", "status": "modified", "additions": 18, "deletions": 10, "changes": 28, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9270036.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9270036.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9270036.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -20,17 +20,25 @@\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n /*     Eric\n-    Singapore VIP Hair/Color Changer\n-    @Author AAron, Cody (FlowsionMS) Forums\n+        Singapore VIP Hair/Color Changer\n+        @Author AAron, Cody (FlowsionMS) Forums\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n */\n var status = 0;\n var beauty = 0;\n-var mhair = Array(30110, 30290, 30230, 30260, 30320, 30190, 30240, 30350, 30270, 30180);\n-var fhair = Array(31260, 31090, 31220, 31250, 31140, 31160, 31100, 31120, 31030, 31270, 31810);\n+var mhair_v = Array(30000, 30020, 30110, 30120, 30270, 30290, 30310, 30670, 30840);\n+var fhair_v = Array(31010, 31050, 31110, 31120, 31240, 31250, 31280, 31670, 31810);\n var hairnew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n function start() {\n-    cm.sendSimple(\"Welcome to the Quick-Hand Hair-Salon!. Do you, by any chance, have #b#t5150033##k or #b#t5151028 ##k? If so, how about letting me take care of your hair? Please what you want to do with it.\\r\\n#L1#Haircut: #i5150033##t5150033##l\\r\\n#L2#Dye your hair: #i5151028##t5151028##l\");\n+    cm.sendSimple(\"Welcome to the Quick-Hand Hair-Salon!. Do you, by any chance, have #b#t5150033##k or #b#t5151028##k? If so, how about letting me take care of your hair? Please what you want to do with it.\\r\\n#L1#Haircut: #i5150033##t5150033##l\\r\\n#L2#Dye your hair: #i5151028##t5151028##l\");\n }\n \n function action(mode, type, selection) {\n@@ -42,18 +50,18 @@ function action(mode, type, selection) {\n             beauty = 1;\n             hairnew = Array();\n             if (cm.getPlayer().getGender() == 0)\n-                for(var i = 0; i < mhair.length; i++)\n-                    hairnew.push(mhair[i] + parseInt(cm.getPlayer().getHair()% 10));\n+                for(var i = 0; i < mhair_v.length; i++)\n+                    pushIfItemExists(hairnew, mhair_v[i] + parseInt(cm.getPlayer().getHair()% 10));\n             else\n-                for(var i = 0; i < fhair.length; i++)\n-                    hairnew.push(fhair[i] + parseInt(cm.getPlayer().getHair()% 10));\n+                for(var i = 0; i < fhair_v.length; i++)\n+                    pushIfItemExists(hairnew, fhair_v[i] + parseInt(cm.getPlayer().getHair()% 10));\n             cm.sendStyle(\"I can completely change the look of your hair. Aren't you ready for a change? With #b#t5150033##k, I'll take care of the rest for you. Choose the style of your liking!\", hairnew);\n         } else if (selection == 2) {\n             beauty = 2;\n             haircolor = Array();\n             var current = parseInt(cm.getPlayer().getHair()/10)*10;\n             for(var i = 0; i < 8; i++)\n-                haircolor.push(current + i);\n+                pushIfItemExists(haircolor, current + i);\n             cm.sendStyle(\"I can completely change the look of your hair. Aren't you ready for a change? With #b#t5151028##k, I'll take care of the rest. Choose the color of your liking!\", haircolor);\n         } else if (status == 2) {\n             if (beauty == 1){"}, {"sha": "14d5f07e0e5794c0801a1fbbb31cb18722536395", "filename": "scripts/npc/9270037.js", "status": "modified", "additions": 14, "deletions": 6, "changes": 20, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9270037.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9270037.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9270037.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -20,16 +20,24 @@\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n /* \tJimmy\n-\tSinga Random Hair/Color Changer\n+\tSingapore Random Hair/Color Changer\n \t@Author Cody (FlowsionMS)\n         @Author AAron (FlowsionMS)\n+\n+        GMS-like revised by Ronan. Contents found thanks to Mitsune (GamerBewbs), Waltzing, AyumiLove\n  */\n var status = 0;\n var beauty = 0;\n-var mhair = Array(30110, 30290, 30230, 30260, 30320, 30190, 30240, 30350, 30270, 30180);\n-var fhair = Array(31260, 31090, 31220, 31250, 31140, 31160, 31100, 31120, 31030, 31270, 31810);\n+var mhair_r = Array(30110, 30180, 30260, 30290, 30300, 30350, 30470, 30720, 30840);\n+var fhair_r = Array(31110, 31200, 31250, 31280, 31600, 31640, 31670, 31810, 34020);\n var hairnew = Array();\n \n+function pushIfItemExists(array, itemid) {\n+    if ((itemid = cm.getCosmeticItem(itemid)) != -1 && !cm.isCosmeticEquipped(itemid)) {\n+        array.push(itemid);\n+    }\n+}\n+\n function start() {\n     cm.sendSimple(\"Hi, I'm the assistant here. Dont worry, I'm plenty good enough for this. If you have #b#t5150032##k or #b#t5151027##k by any chance, then allow me to take care of the rest?\\r\\n#L1#Haircut: #i5150032##t5150032##l\\r\\n#L2#Dye your hair: #i5151027##t5151027##l\");\n }\n@@ -42,15 +50,15 @@ function action(mode, type, selection) {\n         if (selection == 1) {\n             beauty = 1;\n             hairnew = Array();\n-            for (var id = 0; id < cm.getPlayer().getGender() == 0 ? mhair.length : fhair.length; id++)\n-                hairnew.push(cm.getPlayer().getGender == 0 ? mhair[i] : fhair[i] +  parseInt(cm.getPlayer().getHair() % 10));\n+            for (var id = 0; id < cm.getPlayer().getGender() == 0 ? mhair_r.length : fhair_r.length; id++)\n+                pushIfItemExists(hairnew, cm.getPlayer().getGender == 0 ? mhair_r[i] : fhair_r[i] +  parseInt(cm.getPlayer().getHair() % 10));\n             cm.sendYesNo(\"If you use the REG coupon your hair will change RANDOMLY with a chance to obtain a new experimental style that I came up with. Are you going to use #b#t5150032##k and really change your hairstyle?\");\n         } else if (selection == 2) {\n             beauty = 2;\n             haircolor = Array();\n             var current = parseInt(cm.getPlayer().getHair()/10)*10;\n             for(var i = 0; i < 8; i++)\n-                haircolor.push(current + i);\n+                pushIfItemExists(haircolor, current + i);\n             cm.sendYesNo(\"If you use the REG coupon your hair will change RANDOMLY. Do you still want to use #b#t5151027##k and change it up?\");\n         } else if (status == 2) {\n             if (beauty == 1){"}, {"sha": "0975bcb5033b3cf472ccfa76a5e967e71359f340", "filename": "scripts/npc/9270043.js", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9270043.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9270043.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9270043.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -27,7 +27,7 @@ var status = 0;\n function start() {\n     if (cm.haveItem(5451000)) {\n         cm.gainItem(5451000, -1);\n-        cm.processGachapon(ids, true);\n+        cm.doGachapon();\n         cm.dispose();\n     } else if (cm.haveItem(5220000))\n         cm.sendYesNo(\"You may use Gachapon. Would you like to use your Gachapon ticket?\");\n@@ -38,7 +38,7 @@ function start() {\n \n function action(mode, type, selection){\n     if (mode == 1 && cm.haveItem(5220000)) {\n-        cm.processGachapon(ids, false);\n+        cm.doGachapon();\n         cm.dispose();\n     } else {\n         if (mode > 0) {"}, {"sha": "6162248be3ce7f3646b5e3e2db3855adf1eb5a7b", "filename": "scripts/npc/9977777.js", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9977777.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/9977777.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9977777.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -100,6 +100,8 @@ function writeFeatureTab_CashItems() {\n         addFeature(\"Close-quarters evaluation mode for items.\");\n         addFeature(\"Reviewed Karma scissors & Untradeable items.\");\n         addFeature(\"Reviewed an pet position issue within CASH inventory.\");\n+        addFeature(\"Reviewed fashion-related contents, almost GMS-like.\");\n+        addFeature(\"Plastic surgeons/stylists no longer stuck characters.\");\n         addFeature(\"Scroll for Spikes on Shoes.\");\n         addFeature(\"Scroll for Cold Protection.\");\n         addFeature(\"Vega's spell.\");\n@@ -109,6 +111,7 @@ function writeFeatureTab_CashItems() {\n         addFeature(\"Kite.\");\n         addFeature(\"Cash Shop surprise.\");\n         addFeature(\"Maple Life.\");\n+        addFeature(\"EXP Increase.\");\n }\n \n function writeFeatureTab_MonstersMapsReactors() {\n@@ -120,7 +123,7 @@ function writeFeatureTab_MonstersMapsReactors() {\n         addFeature(\"Mobs only drop items collectable by the player/party.\");\n         addFeature(\"Mobs shouldn't fall from foothold too often now.\");\n         addFeature(\"Properly applying MP cost on non-skill mob moves.\");\n-        addFeature(\"Implemented banish mob skill move.\");\n+        addFeature(\"Implemented mob banish by touch & skill move.\");\n         addFeature(\"Redesigned HT mechanics: assemble & dmg taken.\");\n         addFeature(\"Implemented Zombify disease status.\");\n         addFeature(\"Dmg Reflect mobskill icons no longer lags to display.\");\n@@ -247,6 +250,7 @@ function writeFeatureTab_Project() {\n         addFeature(\"Usage of HikariCP to improve DB connection calls.\");\n         addFeature(\"Usage of Java Threadpool to improve runnable calls.\");\n         addFeature(\"Developed many survey tools for content profiling.\");\n+        addFeature(\"Removed dangling item name throughout game files.\");\n         addFeature(\"ThreadTracker: runtime tool for deadlock detection.\");\n         addFeature(\"Channel, World and Server-wide timer management.\");\n         addFeature(\"Thoroughly reviewed encapsulation for player stats.\");"}, {"sha": "e4b660644f98c22bd89b2db6949dd9ca6115c265", "filename": "scripts/npc/gachaponold.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/gachaponold.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/scripts/npc/gachaponold.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/gachaponold.js?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -48,7 +48,7 @@ function action(mode, type, selection){\n \t} else if (mode == 1 && cm.haveItem(ticketId)) {\n \t\tif(cm.canHold(1302000) && cm.canHold(2000000) && cm.canHold(3010001) && cm.canHold(4000000)) { // One free slot in every inventory.\n \t\t\tcm.gainItem(ticketId, -1);\n-\t\t\tcm.doGachapon(cm.getNpc());\n+\t\t\tcm.doGachapon();\n \t\t} else {\n \t\t\tcm.sendOk(\"Please have at least one slot in your #rEQUIP, USE, SET-UP, #kand #bETC#k inventories free.\");\n \t\t}"}, {"sha": "aea3ca13e5a450bdbb43a833c83b69209f3a3113", "filename": "src/client/MapleBuffStat.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/src/client/MapleBuffStat.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/src/client/MapleBuffStat.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleBuffStat.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -97,7 +97,7 @@\n     PICKPOCKET(0x800000000000000L),\n     PUPPET(0x800000000000000L),\n     MESOGUARD(0x1000000000000000L),\n-    //0x2000000000000000L\n+    EXP_INCREASE(0x2000000000000000L),\n     WEAKEN(0x4000000000000000L),\n     //THAT GAP\n     "}, {"sha": "10662c614dda0c9dee540b129178b1308294a05e", "filename": "src/client/MapleCharacter.java", "status": "modified", "additions": 20, "deletions": 7, "changes": 27, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/src/client/MapleCharacter.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/src/client/MapleCharacter.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleCharacter.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -1243,9 +1243,11 @@ public void changeMapBanish(int mapid, String portal, String msg) {\n         int banSp = this.getMap().findClosestPlayerSpawnpoint(this.getPosition()).getId();\n         long banTime = System.currentTimeMillis();\n         \n-        dropMessage(5, msg);\n+        if (msg != null) dropMessage(5, msg);\n+        \n         MapleMap map_ = getWarpMap(mapid);\n-        changeMap(map_, map_.getPortal(portal));\n+        MaplePortal portal_ = map_.getPortal(portal);\n+        changeMap(map_, portal_ != null ? portal_ : map_.getRandomPlayerSpawnpoint());\n         \n         setBanishPlayerData(banMap, banSp, banTime);\n     }\n@@ -2123,7 +2125,7 @@ public static boolean deleteCharFromDB(MapleCharacter player, int senderAccId) {\n                                                             }\n                                                     }\n                                             }\n-                                        \n+                                            \n                                             try (PreparedStatement ps2 = con.prepareStatement(\"DELETE FROM inventoryequipment WHERE inventoryitemid = ?\")) {\n                                                     ps2.setInt(1, inventoryitemid);\n                                                     ps2.executeUpdate();\n@@ -2897,7 +2899,7 @@ public void loseExp(int loss, boolean show, boolean inChat, boolean white) {\n         gainExpInternal(-loss, 0, 0, show, inChat, white);\n     }\n     \n-    private void gainExpInternal(long gain, int equip, int party, boolean show, boolean inChat, boolean white) {\n+    private synchronized void gainExpInternal(long gain, int equip, int party, boolean show, boolean inChat, boolean white) {   // need of method synchonization here detected thanks to MedicOP\n         long total = Math.max(gain, -exp.get());\n         \n         if (level < getMaxLevel()) {\n@@ -5161,7 +5163,7 @@ public int getRankMove() {\n         return rankMove;\n     }\n \n-    private void clearSavedLocation(SavedLocationType type) {\n+    public void clearSavedLocation(SavedLocationType type) {\n         savedLocations[type.ordinal()] = null;\n     }\n     \n@@ -7441,6 +7443,17 @@ public void saveGuildStatus() {\n         }\n     }\n \n+    public void saveLocationOnWarp() {  // suggestion to remember the map before warp command thanks to Lei\n+        MaplePortal closest = map.findClosestPortal(getPosition());\n+        int curMapid = getMapId();\n+        \n+        for (int i = 0; i < savedLocations.length; i++) {\n+            if (savedLocations[i] == null) {\n+                savedLocations[i] = new SavedLocation(curMapid, closest != null ? closest.getId() : 0);\n+            }\n+        }\n+    }\n+    \n     public void saveLocation(String type) {\n         MaplePortal closest = map.findClosestPortal(getPosition());\n         savedLocations[SavedLocationType.fromString(type).ordinal()] = new SavedLocation(getMapId(), closest != null ? closest.getId() : 0);\n@@ -8612,8 +8625,8 @@ public boolean mergeAllItemsFromName(String name) {\n             }\n \n             /*\n-            for (Entry<StatUpgrade, Float> e : statups.entrySet()) {\n-                System.out.println(e);\n+            for (Entry<StatUpgrade, Float> es : statups.entrySet()) {\n+                System.out.println(es);\n             }\n             */\n "}, {"sha": "3ddda29c7c3d73f8699d06a8e16bead8a04be429", "filename": "src/client/command/CommandsExecutor.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/src/client/command/CommandsExecutor.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/src/client/command/CommandsExecutor.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/CommandsExecutor.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -216,6 +216,7 @@ private void registerLv2Commands(){\n         addCommand(\"dc\", 2, DcCommand.class);\n         addCommand(\"cleardrops\", 2, ClearDropsCommand.class);\n         addCommand(\"clearslot\", 2, ClearSlotCommand.class);\n+        addCommand(\"clearsavelocs\", 2, ClearSavedLocationsCommand.class);\n         addCommand(\"warp\", 2, WarpCommand.class);\n         addCommand(new String[]{\"warphere\", \"summon\"}, 2, SummonCommand.class);\n         addCommand(new String[]{\"warpto\", \"reach\", \"follow\"}, 2, ReachCommand.class);\n@@ -229,7 +230,6 @@ private void registerLv2Commands(){\n         addCommand(\"maxstat\", 2, MaxStatCommand.class);\n         addCommand(\"maxskill\", 2, MaxSkillCommand.class);\n         addCommand(\"resetskill\", 2, ResetSkillCommand.class);\n-        addCommand(\"mesos\", 2, MesosCommand.class);\n         addCommand(\"search\", 2, SearchCommand.class);\n         addCommand(\"jail\", 2, JailCommand.class);\n         addCommand(\"unjail\", 2, UnJailCommand.class);"}, {"sha": "5b0b66eace1e68ba26df9f133089b6d897b74777", "filename": "src/client/command/commands/gm0/JoinEventCommand.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/src/client/command/commands/gm0/JoinEventCommand.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/src/client/command/commands/gm0/JoinEventCommand.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/commands/gm0/JoinEventCommand.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -49,6 +49,7 @@ public void execute(MapleClient c, String[] params) {\n \n                         event.minusLimit();\n \n+                        player.saveLocationOnWarp();\n                         player.changeMap(event.getMapId());\n                     } else {\n                         player.dropMessage(5, \"The limit of players for the event has already been reached.\");"}, {"sha": "2269f938c284ed5e97fe22276f479046086252ab", "filename": "src/client/command/commands/gm0/LeaveEventCommand.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/src/client/command/commands/gm0/LeaveEventCommand.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/src/client/command/commands/gm0/LeaveEventCommand.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/commands/gm0/LeaveEventCommand.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -46,6 +46,7 @@ public void execute(MapleClient c, String[] params) {\n                 player.setFitness(null);\n             }\n \n+            player.saveLocationOnWarp();\n             player.changeMap(returnMap);\n             if(c.getChannelServer().getEvent() != null) {\n                 c.getChannelServer().getEvent().addLimit();"}, {"sha": "3ab2baf76ff3ba5a2e027168a8b676a36a5e5746", "filename": "src/client/command/commands/gm1/GotoCommand.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/src/client/command/commands/gm1/GotoCommand.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/src/client/command/commands/gm1/GotoCommand.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/commands/gm1/GotoCommand.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -51,6 +51,7 @@ public void execute(MapleClient c, String[] params) {\n             \n             // expedition issue with this command detected thanks to Masterrulax\n             MaplePortal targetPortal = target.getRandomPlayerSpawnpoint();\n+            player.saveLocationOnWarp();\n             player.changeMap(target, targetPortal);\n         } else {\n             player.dropMessage(5, \"Area '\" + params[0] + \"' is not registered.\");"}, {"sha": "d049b193822b5283d94dd8988e63ab13dedfcde5", "filename": "src/client/command/commands/gm2/ClearSavedLocationsCommand.java", "status": "renamed", "additions": 18, "deletions": 4, "changes": 22, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/src/client/command/commands/gm2/ClearSavedLocationsCommand.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/src/client/command/commands/gm2/ClearSavedLocationsCommand.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/commands/gm2/ClearSavedLocationsCommand.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -26,17 +26,31 @@\n import client.command.Command;\n import client.MapleClient;\n import client.MapleCharacter;\n+import server.maps.SavedLocationType;\n \n-public class MesosCommand extends Command {\n+public class ClearSavedLocationsCommand extends Command {\n     {\n         setDescription(\"\");\n     }\n \n     @Override\n     public void execute(MapleClient c, String[] params) {\n-        MapleCharacter player = c.getPlayer();\n-        if (params.length >= 1) {\n-            player.gainMeso(Integer.parseInt(params[0]), true);\n+        MapleCharacter player = c.getPlayer(), victim;\n+        \n+        if (params.length > 0) {\n+            victim = c.getChannelServer().getPlayerStorage().getCharacterByName(params[0]);\n+            if (victim == null) {\n+                player.message(\"Player '\" + params[0] + \"' could not be found on this channel.\");\n+                return;\n+            }\n+        } else {\n+            victim = c.getPlayer();\n         }\n+        \n+        for (SavedLocationType type : SavedLocationType.values()) {\n+            victim.clearSavedLocation(type);\n+        }\n+        \n+        player.message(\"Cleared \" + params[0] + \"'s saved locations.\");\n     }\n }", "previous_filename": "src/client/command/commands/gm2/MesosCommand.java"}, {"sha": "ceb5c6063f265fe32d8e59e792ebd871234f0840", "filename": "src/client/command/commands/gm2/JailCommand.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/src/client/command/commands/gm2/JailCommand.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/src/client/command/commands/gm2/JailCommand.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/commands/gm2/JailCommand.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -60,6 +60,7 @@ public void execute(MapleClient c, String[] params) {\n             if (victim.getMapId() != mapid) {    // those gone to jail won't be changing map anyway\n                 MapleMap target = c.getChannelServer().getMapFactory().getMap(mapid);\n                 MaplePortal targetPortal = target.getPortal(0);\n+                victim.saveLocationOnWarp();\n                 victim.changeMap(target, targetPortal);\n                 player.message(victim.getName() + \" was jailed for \" + minutesJailed + \" minutes.\");\n             } else {"}, {"sha": "331114fd9f60333e7d6793d44a66481b8e75720e", "filename": "src/client/command/commands/gm2/ReachCommand.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/src/client/command/commands/gm2/ReachCommand.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/src/client/command/commands/gm2/ReachCommand.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/commands/gm2/ReachCommand.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -47,6 +47,7 @@ public void execute(MapleClient c, String[] params) {\n                 player.dropMessage(5, \"Player '\" + victim.getName() + \"' is at channel \" + victim.getClient().getChannel() + \".\");\n             } else {\n                 MapleMap map = victim.getMap();\n+                player.saveLocationOnWarp();\n                 player.forceChangeMap(map, map.findClosestPortal(victim.getPosition()));\n             }\n         } else {"}, {"sha": "7efb7584e91904b7fd79fc4e8b5e5ccf503c8256", "filename": "src/client/command/commands/gm2/SetStatCommand.java", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/src/client/command/commands/gm2/SetStatCommand.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/src/client/command/commands/gm2/SetStatCommand.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/commands/gm2/SetStatCommand.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -23,7 +23,6 @@\n */\n package client.command.commands.gm2;\n \n-import client.MapleStat;\n import client.command.Command;\n import client.MapleClient;\n import client.MapleCharacter;\n@@ -45,7 +44,7 @@ public void execute(MapleClient c, String[] params) {\n             int x = Integer.parseInt(params[0]);\n \n             if (x > Short.MAX_VALUE) x = Short.MAX_VALUE;\n-            else if (x < 0) x = 0;\n+            else if (x < 4) x = 4;  // thanks Vcoc for pointing the minimal allowed stat value here\n \n             player.updateStrDexIntLuk(x);\n         } catch (NumberFormatException nfe) {}"}, {"sha": "f46bafe726eb34686983a2de6a13ffde91845f1e", "filename": "src/client/command/commands/gm2/SummonCommand.java", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/src/client/command/commands/gm2/SummonCommand.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/src/client/command/commands/gm2/SummonCommand.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/commands/gm2/SummonCommand.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -68,11 +68,13 @@ public void execute(MapleClient c, String[] params) {\n             if (player.getEventInstance() != null && changingEvent) {\n                 if (player.getClient().getChannel() == victim.getClient().getChannel()) {\n                     player.getEventInstance().registerPlayer(victim);\n+                    victim.saveLocationOnWarp();\n                     victim.changeMap(player.getEventInstance().getMapInstance(player.getMapId()), player.getMap().findClosestPortal(player.getPosition()));\n                 } else {\n                     player.dropMessage(\"Target isn't on your channel, not able to warp into event instance.\");\n                 }\n             } else {//If victim isn't in an event instance or is in the same event instance as the one the caller is, just warp them.\n+                victim.saveLocationOnWarp();\n                 victim.changeMap(player.getMapId(), player.getMap().findClosestPortal(player.getPosition()));\n             }\n             if (player.getClient().getChannel() != victim.getClient().getChannel()) {//And then change channel if needed."}, {"sha": "aee84fc769e9677d4e6e6f8fab82efd43fd96ca8", "filename": "src/client/command/commands/gm2/WarpCommand.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/src/client/command/commands/gm2/WarpCommand.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/src/client/command/commands/gm2/WarpCommand.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/commands/gm2/WarpCommand.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -49,6 +49,7 @@ public void execute(MapleClient c, String[] params) {\n             }\n             \n             // expedition issue with this command detected thanks to Masterrulax\n+            player.saveLocationOnWarp();\n             player.changeMap(target, target.getRandomPlayerSpawnpoint());\n         } catch (Exception ex) {\n             player.yellowMessage(\"Map ID \" + params[0] + \" is invalid.\");"}, {"sha": "61a47117ce172cd39b16cf5a1386382c53bae9f6", "filename": "src/client/command/commands/gm3/ReloadMapCommand.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/src/client/command/commands/gm3/ReloadMapCommand.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/src/client/command/commands/gm3/ReloadMapCommand.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/commands/gm3/ReloadMapCommand.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -41,6 +41,7 @@ public void execute(MapleClient c, String[] params) {\n         int callerid = c.getPlayer().getId();\n \n         for (MapleCharacter chr : oldMap.getCharacters()) {\n+            chr.saveLocationOnWarp();\n             chr.changeMap(newMap);\n             if (chr.getId() != callerid)\n                 chr.dropMessage(\"You have been relocated due to map reloading. Sorry for the inconvenience.\");"}, {"sha": "4018010e2e480f2f62642fcca93e9d23ebe00efa", "filename": "src/client/command/commands/gm3/WarpSnowBallCommand.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/src/client/command/commands/gm3/WarpSnowBallCommand.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/src/client/command/commands/gm3/WarpSnowBallCommand.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/commands/gm3/WarpSnowBallCommand.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -40,6 +40,7 @@ public void execute(MapleClient c, String[] params) {\n         MapleCharacter player = c.getPlayer();\n         List<MapleCharacter> chars = new ArrayList<>(player.getMap().getCharacters());\n         for (MapleCharacter chr : chars) {\n+            chr.saveLocationOnWarp();\n             chr.changeMap(109060000, chr.getTeam());\n         }\n     }"}, {"sha": "ae8ec01675c73fd3d32abff1044c05a5ad053264", "filename": "src/net/PacketProcessor.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/src/net/PacketProcessor.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/src/net/PacketProcessor.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/PacketProcessor.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -216,6 +216,7 @@ public void reset(int channel) {\n             registerHandler(RecvOpcode.TOUCH_MONSTER_ATTACK, new TouchMonsterDamageHandler());\n             registerHandler(RecvOpcode.TROCK_ADD_MAP, new TrockAddMapHandler());\n             registerHandler(RecvOpcode.HIRED_MERCHANT_REQUEST, new HiredMerchantRequest());\n+            registerHandler(RecvOpcode.MOB_BANISH_PLAYER, new MobBanishPlayerHandler());\n             registerHandler(RecvOpcode.MOB_DAMAGE_MOB, new MobDamageMobHandler());\n             registerHandler(RecvOpcode.REPORT, new ReportHandler());\n             registerHandler(RecvOpcode.MONSTER_BOOK_COVER, new MonsterBookCoverHandler());"}, {"sha": "c6b5ba1517f445fd7d848d51851e8773277b33e3", "filename": "src/net/opcodes/RecvOpcode.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/src/net/opcodes/RecvOpcode.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/src/net/opcodes/RecvOpcode.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/opcodes/RecvOpcode.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -69,6 +69,7 @@\n     FACE_EXPRESSION(0x33),\n     USE_ITEMEFFECT(0x34),\n     USE_DEATHITEM(0x35),\n+    MOB_BANISH_PLAYER(0x38),\n     MONSTER_BOOK_COVER(0x39),\n     NPC_TALK(0x3A),\n     REMOTE_STORE(0x3B),"}, {"sha": "6ad2bd3722a12110351c8939cad294095bbda8de", "filename": "src/net/server/channel/handlers/CashOperationHandler.java", "status": "modified", "additions": 13, "deletions": 7, "changes": 20, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/src/net/server/channel/handlers/CashOperationHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/src/net/server/channel/handlers/CashOperationHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/CashOperationHandler.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -39,6 +39,7 @@\n import server.CashShop.CashItemFactory;\n import client.inventory.manipulator.MapleInventoryManipulator;\n import constants.ServerConstants;\n+import server.MapleItemInformationProvider;\n import tools.FilePrinter;\n import tools.MaplePacketCreator;\n import tools.Pair;\n@@ -62,7 +63,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             final int useNX = slea.readInt();\n             final int snCS = slea.readInt();\n             CashItem cItem = CashItemFactory.getItem(snCS);\n-            if (!canBuy(cItem, cs.getCash(useNX))) {\n+            if (!canBuy(chr, cItem, cs.getCash(useNX))) {\n                 FilePrinter.printError(FilePrinter.ITEM, \"Denied to sell cash item with SN \" + snCS);   // preventing NPE here thanks to MedicOP\n                 c.enableCSActions();\n                 return;\n@@ -98,7 +99,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             CashItem cItem = CashItemFactory.getItem(slea.readInt());\n             Map<String, String> recipient = MapleCharacter.getCharacterFromDatabase(slea.readMapleAsciiString());\n             String message = slea.readMapleAsciiString();\n-            if (!canBuy(cItem, cs.getCash(4)) || message.length() < 1 || message.length() > 73) {\n+            if (!canBuy(chr, cItem, cs.getCash(4)) || message.length() < 1 || message.length() > 73) {\n                 c.enableCSActions();\n                 return;\n             }\n@@ -151,7 +152,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             } else {\n                 CashItem cItem = CashItemFactory.getItem(slea.readInt());\n                 int type = (cItem.getItemId() - 9110000) / 1000;\n-                if (!canBuy(cItem, cs.getCash(cash))) {\n+                if (!canBuy(chr, cItem, cs.getCash(cash))) {\n                     c.enableCSActions();\n                     return;\n                 }\n@@ -181,7 +182,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             } else {\n                 CashItem cItem = CashItemFactory.getItem(slea.readInt());\n \n-                if (!canBuy(cItem, cs.getCash(cash))) {\n+                if (!canBuy(chr, cItem, cs.getCash(cash))) {\n                     c.enableCSActions();\n                     return;\n                 }\n@@ -199,7 +200,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             int cash = slea.readInt();\n             CashItem cItem = CashItemFactory.getItem(slea.readInt());\n \n-            if (!canBuy(cItem, cs.getCash(cash))) {\n+            if (!canBuy(chr, cItem, cs.getCash(cash))) {\n                 c.enableCSActions();\n                 return;\n             }\n@@ -380,7 +381,12 @@ public static boolean checkBirthday(MapleClient c, int idate) {\n         return c.checkBirthDate(cal);\n     }\n     \n-    private static boolean canBuy(CashItem item, int cash) {\n-        return item != null && item.isOnSale() && item.getPrice() <= cash;\n+    private static boolean canBuy(MapleCharacter chr, CashItem item, int cash) {\n+        if (item != null && item.isOnSale() && item.getPrice() <= cash) {\n+            FilePrinter.print(FilePrinter.CASHITEM_BOUGHT, chr + \" bought \" + MapleItemInformationProvider.getInstance().getName(item.getItemId()) + \" (SN \" + item.getSN() + \") for \" + item.getPrice());\n+            return true;\n+        } else {\n+            return false;\n+        }\n     }\n }"}, {"sha": "2794c1aedda1df922824725ddc91a42e7fad92b4", "filename": "src/net/server/channel/handlers/ItemRewardHandler.java", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/src/net/server/channel/handlers/ItemRewardHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/src/net/server/channel/handlers/ItemRewardHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/ItemRewardHandler.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -45,7 +45,10 @@\n     public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n         byte slot = (byte) slea.readShort();\n         int itemId = slea.readInt(); // will load from xml I don't care.\n-        if (c.getPlayer().getInventory(MapleInventoryType.USE).getItem(slot).getItemId() != itemId || c.getPlayer().getInventory(MapleInventoryType.USE).countById(itemId) < 1) return;\n+        \n+        Item it = c.getPlayer().getInventory(MapleInventoryType.USE).getItem(slot);   // null check here thanks to Thora\n+        if (it == null || it.getItemId() != itemId || c.getPlayer().getInventory(MapleInventoryType.USE).countById(itemId) < 1) return;\n+        \n         MapleItemInformationProvider ii = MapleItemInformationProvider.getInstance();\n         Pair<Integer, List<RewardItem>> rewards = ii.getItemReward(itemId);\n         for (RewardItem reward : rewards.getRight()) {"}, {"sha": "cf841414e7e20a708a07f5fa57c0619f0376e985", "filename": "src/net/server/channel/handlers/MobBanishPlayerHandler.java", "status": "added", "additions": 45, "deletions": 0, "changes": 45, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/src/net/server/channel/handlers/MobBanishPlayerHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/src/net/server/channel/handlers/MobBanishPlayerHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/MobBanishPlayerHandler.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,45 @@\n+/*\n+    This file is part of the HeavenMS MapleStory Server\n+    Copyleft (L) 2016 - 2018 RonanLana\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package net.server.channel.handlers;\n+\n+import client.MapleCharacter;\n+import client.MapleClient;\n+import server.life.MapleMonster;\n+import server.life.MapleLifeFactory.BanishInfo;\n+import net.AbstractMaplePacketHandler;\n+import tools.data.input.SeekableLittleEndianAccessor;\n+\n+public final class MobBanishPlayerHandler extends AbstractMaplePacketHandler {\n+\n+    @Override\n+    public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n+        int mobid = slea.readInt();     // mob banish handling detected thanks to MedicOP\n+        \n+        MapleCharacter chr = c.getPlayer();\n+        MapleMonster mob = chr.getMap().getMonsterById(mobid);\n+        \n+        if (mob != null) {\n+            BanishInfo banishInfo = mob.getBanish();\n+            if (banishInfo != null) {\n+                chr.changeMapBanish(banishInfo.getMap(), banishInfo.getPortal(), banishInfo.getMsg());\n+            }\n+        }\n+    }\n+}\n\\ No newline at end of file"}, {"sha": "443fd56fb521b63a4f63e86ea13cab9616958d34", "filename": "src/net/server/world/World.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/src/net/server/world/World.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/src/net/server/world/World.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/world/World.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -1333,7 +1333,7 @@ public void runPetSchedule() {\n         activePetsLock.lock();\n         try {\n             petUpdate = Server.getInstance().getCurrentTime();\n-            deployedPets = Collections.unmodifiableMap(activePets);\n+            deployedPets = new HashMap<>(activePets);   // exception here found thanks to MedicOP\n         } finally {\n             activePetsLock.unlock();\n         }\n@@ -1391,7 +1391,7 @@ public void runMountSchedule() {\n         activeMountsLock.lock();\n         try {\n             mountUpdate = Server.getInstance().getCurrentTime();\n-            deployedMounts = Collections.unmodifiableMap(activeMounts);\n+            deployedMounts = new HashMap<>(activeMounts);\n         } finally {\n             activeMountsLock.unlock();\n         }"}, {"sha": "755b29e902d50da0d9877d0fcd251aa97291abad", "filename": "src/provider/wz/XMLWZFile.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/src/provider/wz/XMLWZFile.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/src/provider/wz/XMLWZFile.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/provider/wz/XMLWZFile.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -53,7 +53,7 @@ private void fillMapleDataEntitys(File lroot, WZDirectoryEntry wzdir) {\n     }\n \n     @Override\n-    public MapleData getData(String path) {\n+    public synchronized MapleData getData(String path) {\n         File dataFile = new File(root, path + \".xml\");\n         File imageDataDir = new File(root, path);\n         if (!dataFile.exists()) {"}, {"sha": "8c205358ba17edaa194ad41a75d04b66970a3a9d", "filename": "src/scripting/npc/NPCConversationManager.java", "status": "modified", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/src/scripting/npc/NPCConversationManager.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/src/scripting/npc/NPCConversationManager.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/scripting/npc/NPCConversationManager.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -531,6 +531,35 @@ public boolean createPyramid(String mode, boolean party) {//lol\n \t\treturn true;\n \t}\n         \n+        public boolean itemExists(int itemid) {\n+                return MapleItemInformationProvider.getInstance().getName(itemid) != null;\n+        }\n+        \n+        public int getCosmeticItem(int itemid) {\n+                if (itemExists(itemid)) return itemid;\n+                \n+                int baseid;\n+                if (itemid < 30000) {\n+                        baseid = (itemid / 1000) * 1000 + (itemid % 100);\n+                } else {\n+                        baseid = (itemid / 10) * 10;\n+                }\n+                \n+                return itemid != baseid && itemExists(baseid) ? baseid : -1;\n+        }\n+        \n+        private int getEquippedItemid(int itemid) {\n+                if (itemid < 30000) {\n+                        return getPlayer().getFace();\n+                } else {\n+                        return getPlayer().getHair();\n+                }\n+        }\n+        \n+        public boolean isCosmeticEquipped(int itemid) {\n+                return getEquippedItemid(itemid) == itemid;\n+        }\n+        \n         public boolean isUsingOldPqNpcStyle() {\n                 return ServerConstants.USE_OLD_GMS_STYLED_PQ_NPCS && this.getPlayer().getParty() != null;\n         }"}, {"sha": "7a5853f4d9e7824d371c9ef274296e69790115b1", "filename": "src/server/MapleItemInformationProvider.java", "status": "modified", "additions": 26, "deletions": 8, "changes": 34, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/src/server/MapleItemInformationProvider.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/src/server/MapleItemInformationProvider.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/MapleItemInformationProvider.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -110,7 +110,8 @@ public static MapleItemInformationProvider getInstance() {\n     protected Map<Integer, Boolean> pickupRestrictionCache = new HashMap<>();\n     protected Map<Integer, Integer> getMesoCache = new HashMap<>();\n     protected Map<Integer, Integer> monsterBookID = new HashMap<>();\n-    protected Map<Integer, Boolean> onEquipUntradableCache = new HashMap<>();\n+    protected Map<Integer, Boolean> untradeableCache = new HashMap<>();\n+    protected Map<Integer, Boolean> onEquipUntradeableCache = new HashMap<>();\n     protected Map<Integer, scriptedItem> scriptedItemCache = new HashMap<>();\n     protected Map<Integer, Boolean> karmaCache = new HashMap<>();\n     protected Map<Integer, Integer> triggerItemCache = new HashMap<>();\n@@ -942,7 +943,7 @@ private void scrollEquipWithChaos(Equip nEquip, int range) {\n     \n     public boolean canUseCleanSlate(Equip nEquip) {\n         Map<String, Integer> eqstats = this.getEquipStats(nEquip.getItemId());\n-        return ServerConstants.USE_ENHANCED_CLNSLATE || nEquip.getLevel() + nEquip.getUpgradeSlots() < eqstats.get(\"tuc\");\n+        return ServerConstants.USE_ENHANCED_CLNSLATE || nEquip.getUpgradeSlots() < eqstats.get(\"tuc\");  // issue with clean slate found thanks to Masterrulax\n     }\n     \n     public Item scrollEquipWithId(Item equip, int scrollId, boolean usingWhiteScroll, int vegaItemId, boolean isGM) {\n@@ -1102,7 +1103,7 @@ Item getEquipById(int equipId, int ringId) {\n                     nEquip.setMp((short) stat.getValue().intValue());\n                 } else if (stat.getKey().equals(\"tuc\")) {\n                     nEquip.setUpgradeSlots((byte) stat.getValue().intValue());\n-                } else if (isDropRestricted(equipId)) {\n+                } else if (isUntradeableRestricted(equipId)) {  // thanks Hyun & Thora for showing an issue with more than only \"Untradeable\" items being flagged as such here\n                     byte flag = nEquip.getFlag();\n                     flag |= ItemConstants.UNTRADEABLE;\n                     nEquip.setFlag(flag);\n@@ -1230,6 +1231,23 @@ public String getMsg(int itemId) {\n         return ret;\n     }\n \n+    public boolean isUntradeableRestricted(int itemId) {\n+        if (untradeableCache.containsKey(itemId)) {\n+            return untradeableCache.get(itemId);\n+        }\n+        \n+        boolean bRestricted = false;\n+        if(itemId != 0) {\n+            MapleData data = getItemData(itemId);\n+            if (data != null) {\n+                bRestricted = MapleDataTool.getIntConvert(\"info/tradeBlock\", data, 0) == 1;\n+            }\n+        }\n+        \n+        untradeableCache.put(itemId, bRestricted);\n+        return bRestricted;\n+    }\n+    \n     public boolean isLootRestricted(int itemId) {\n         if (dropRestrictionCache.containsKey(itemId)) {\n             return dropRestrictionCache.get(itemId);\n@@ -1421,12 +1439,12 @@ public int getCardMobId(int id) {\n     }\n \n     public boolean isUntradeableOnEquip(int itemId) {\n-        if (onEquipUntradableCache.containsKey(itemId)) {\n-            return onEquipUntradableCache.get(itemId);\n+        if (onEquipUntradeableCache.containsKey(itemId)) {\n+            return onEquipUntradeableCache.get(itemId);\n         }\n-        boolean untradableOnEquip = MapleDataTool.getIntConvert(\"info/equipTradeBlock\", getItemData(itemId), 0) > 0;\n-        onEquipUntradableCache.put(itemId, untradableOnEquip);\n-        return untradableOnEquip;\n+        boolean untradeableOnEquip = MapleDataTool.getIntConvert(\"info/equipTradeBlock\", getItemData(itemId), 0) > 0;\n+        onEquipUntradeableCache.put(itemId, untradeableOnEquip);\n+        return untradeableOnEquip;\n     }\n \n     public scriptedItem getScriptedItemInfo(int itemId) {"}, {"sha": "05c6ee24b5c6878d689618a78a06519065f6d4a4", "filename": "src/server/MapleStatEffect.java", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/src/server/MapleStatEffect.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/src/server/MapleStatEffect.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/MapleStatEffect.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -257,6 +257,8 @@ private static MapleStatEffect loadFromData(MapleData source, int sourceid, bool\n                             addBuffStatPairToListIfNotZero(statups, MapleBuffStat.COUPON_DRP3, 1);\n                             break;\n                     }\n+                } else if(isExpIncrease(sourceid)) {\n+                    addBuffStatPairToListIfNotZero(statups, MapleBuffStat.EXP_INCREASE, MapleDataTool.getInt(\"expinc\", source, 0));\n                 }\n             } else {\n                 if(isMapChair(sourceid)) {\n@@ -1366,6 +1368,10 @@ public static boolean isRateCoupon(int sourceid) {\n         return itemType == 5211 || itemType == 5360;\n     }\n     \n+    public static boolean isExpIncrease(int sourceid) {\n+        return sourceid >= 2022450 && sourceid <= 2022452;\n+    }\n+    \n     private boolean isDs() {\n         return skill && (sourceid == Rogue.DARK_SIGHT || sourceid == NightWalker.DARK_SIGHT);\n     }"}, {"sha": "df73a292f215a5c3f860441174b0a1f979e59116", "filename": "src/server/life/MapleMonster.java", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/src/server/life/MapleMonster.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/src/server/life/MapleMonster.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/life/MapleMonster.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -544,8 +544,13 @@ private void giveExpToCharacter(MapleCharacter attacker, float exp, boolean isKi\n         int partyExp = 0;\n         if (attacker.getHp() > 0) {\n             exp *= attacker.getExpRate();\n+            \n+            Integer expBonus = attacker.getBuffedValue(MapleBuffStat.EXP_INCREASE);\n+            if (expBonus != null) {     // exp increase buff found thanks to HighKey21\n+                exp += expBonus;\n+            }\n+            \n             int personalExp = (int) exp;\n-\n             if (exp <= Integer.MAX_VALUE) {  // assuming no negative xp here\n                 if (partyModifier > 0.0f) {\n                     partyExp = (int) (personalExp * partyModifier * ServerConstants.PARTY_BONUS_EXP_RATE);"}, {"sha": "9482cc2de646cde590de1dbf941a7fc554a85fac", "filename": "src/server/maps/MapleMap.java", "status": "modified", "additions": 14, "deletions": 2, "changes": 16, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/src/server/maps/MapleMap.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/src/server/maps/MapleMap.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/MapleMap.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -384,6 +384,8 @@ private void spawnAndAddRangedMapObject(MapleMapObject mapobject, DelayedPacketC\n     }\n \n     private void spawnAndAddRangedMapObject(MapleMapObject mapobject, DelayedPacketCreation packetbakery, SpawnCondition condition) {\n+        List<MapleCharacter> inRangeCharacters = new LinkedList<>();\n+        \n         chrRLock.lock();\n         objectWLock.lock();\n         try {\n@@ -393,7 +395,7 @@ private void spawnAndAddRangedMapObject(MapleMapObject mapobject, DelayedPacketC\n             for (MapleCharacter chr : characters) {\n                 if (condition == null || condition.canSpawn(chr)) {\n                     if (chr.getPosition().distanceSq(mapobject.getPosition()) <= getRangedDistance()) {\n-                        packetbakery.sendPackets(chr.getClient());\n+                        inRangeCharacters.add(chr);\n                         chr.addVisibleMapObject(mapobject);\n                     }\n                 }\n@@ -402,24 +404,34 @@ private void spawnAndAddRangedMapObject(MapleMapObject mapobject, DelayedPacketC\n             objectWLock.unlock();\n             chrRLock.unlock();\n         }\n+        \n+        for (MapleCharacter chr : inRangeCharacters) {\n+            packetbakery.sendPackets(chr.getClient());\n+        }\n     }\n     \n     private void spawnRangedMapObject(MapleMapObject mapobject, DelayedPacketCreation packetbakery, SpawnCondition condition) {\n+        List<MapleCharacter> inRangeCharacters = new LinkedList<>();\n+        \n         chrRLock.lock();\n         try {\n             int curOID = getUsableOID();\n             mapobject.setObjectId(curOID);\n             for (MapleCharacter chr : characters) {\n                 if (condition == null || condition.canSpawn(chr)) {\n                     if (chr.getPosition().distanceSq(mapobject.getPosition()) <= getRangedDistance()) {\n-                        packetbakery.sendPackets(chr.getClient());\n+                        inRangeCharacters.add(chr);\n                         chr.addVisibleMapObject(mapobject);\n                     }\n                 }\n             }\n         } finally {\n             chrRLock.unlock();\n         }\n+        \n+        for (MapleCharacter chr : inRangeCharacters) {\n+            packetbakery.sendPackets(chr.getClient());\n+        }\n     }\n \n     private int getUsableOID() {"}, {"sha": "cea8800b36eac458fdd99f04328c5310c9611079", "filename": "src/server/maps/MapleMapFactory.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/src/server/maps/MapleMapFactory.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/src/server/maps/MapleMapFactory.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/MapleMapFactory.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -100,7 +100,7 @@ private synchronized MapleMap loadMapFromWz(int mapid, Integer omapid) {\n         }\n         \n         String mapName = getMapName(mapid);\n-        MapleData mapData = source.getData(mapName);\n+        MapleData mapData = source.getData(mapName);    // source.getData issue with giving nulls in rare ocasions found thanks to MedicOP\n         MapleData infoData = mapData.getChildByPath(\"info\");\n \n         String link = MapleDataTool.getString(infoData.getChildByPath(\"link\"), \"\");"}, {"sha": "4ae5a12416583057544e7708b5b56dafa7d749d1", "filename": "src/tools/FilePrinter.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/src/tools/FilePrinter.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/src/tools/FilePrinter.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/tools/FilePrinter.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -18,6 +18,7 @@\n             MAPLE_MAP = \"mapleMap.txt\",\n             ERROR38 = \"error38.txt\",\n             PACKET_LOG = \"log.txt\",\n+            CASHITEM_BOUGHT = \"cashlog.txt\",\n             EXCEPTION = \"exceptions.txt\",\n             SQL_EXCEPTION = \"sqlexceptions.txt\",\n             PACKET_HANDLER = \"PacketHandler/\","}, {"sha": "6cacd4baa8785a51d75edc5a7c289bc5eca97e7b", "filename": "tools/MapleCashCosmeticsChecker/build.xml", "status": "added", "additions": 73, "deletions": 0, "changes": 73, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/build.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/build.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsChecker/build.xml?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,73 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!-- You may freely edit this file. See commented blocks below for -->\n+<!-- some examples of how to customize the build. -->\n+<!-- (If you delete it and reopen the project it will be recreated.) -->\n+<!-- By default, only the Clean and Build commands use this build script. -->\n+<!-- Commands such as Run, Debug, and Test only use this build script if -->\n+<!-- the Compile on Save feature is turned off for the project. -->\n+<!-- You can turn off the Compile on Save (or Deploy on Save) setting -->\n+<!-- in the project's Project Properties dialog box.-->\n+<project name=\"MapleCashCosmeticsChecker\" default=\"default\" basedir=\".\">\n+    <description>Builds, tests, and runs the project MapleCashCosmeticsChecker.</description>\n+    <import file=\"nbproject/build-impl.xml\"/>\n+    <!--\n+\n+    There exist several targets which are by default empty and which can be \n+    used for execution of your tasks. These targets are usually executed \n+    before and after some main targets. They are: \n+\n+      -pre-init:                 called before initialization of project properties\n+      -post-init:                called after initialization of project properties\n+      -pre-compile:              called before javac compilation\n+      -post-compile:             called after javac compilation\n+      -pre-compile-single:       called before javac compilation of single file\n+      -post-compile-single:      called after javac compilation of single file\n+      -pre-compile-test:         called before javac compilation of JUnit tests\n+      -post-compile-test:        called after javac compilation of JUnit tests\n+      -pre-compile-test-single:  called before javac compilation of single JUnit test\n+      -post-compile-test-single: called after javac compilation of single JUunit test\n+      -pre-jar:                  called before JAR building\n+      -post-jar:                 called after JAR building\n+      -post-clean:               called after cleaning build products\n+\n+    (Targets beginning with '-' are not intended to be called on their own.)\n+\n+    Example of inserting an obfuscator after compilation could look like this:\n+\n+        <target name=\"-post-compile\">\n+            <obfuscate>\n+                <fileset dir=\"${build.classes.dir}\"/>\n+            </obfuscate>\n+        </target>\n+\n+    For list of available properties check the imported \n+    nbproject/build-impl.xml file. \n+\n+\n+    Another way to customize the build is by overriding existing main targets.\n+    The targets of interest are: \n+\n+      -init-macrodef-javac:     defines macro for javac compilation\n+      -init-macrodef-junit:     defines macro for junit execution\n+      -init-macrodef-debug:     defines macro for class debugging\n+      -init-macrodef-java:      defines macro for class execution\n+      -do-jar:                  JAR building\n+      run:                      execution of project \n+      -javadoc-build:           Javadoc generation\n+      test-report:              JUnit report generation\n+\n+    An example of overriding the target for project execution could look like this:\n+\n+        <target name=\"run\" depends=\"MapleCashCosmeticsChecker-impl.jar\">\n+            <exec dir=\"bin\" executable=\"launcher.exe\">\n+                <arg file=\"${dist.jar}\"/>\n+            </exec>\n+        </target>\n+\n+    Notice that the overridden target depends on the jar target and not only on \n+    the compile target as the regular run target does. Again, for a list of available \n+    properties which you can use, check the target you are overriding in the\n+    nbproject/build-impl.xml file. \n+\n+    -->\n+</project>"}, {"sha": "0a65e1bb649fc5a5f2840e4a8e1c81b3a2e37591", "filename": "tools/MapleCashCosmeticsChecker/lib/care/amoria/face.txt", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/amoria/face.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/amoria/face.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsChecker/lib/care/amoria/face.txt?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,4 @@\n+Male VIP: Champion Focus, Irritable Face, Motivated Look, Perplexed Stare, Dramatic Face, Rebel's Fire, Alert Face, Babyface Pout, Sad Innocence, Worrisome Glare\n+Male REG: Pensive Look, Shade of Cool, Alert Face, Cool Guy Gaze, Leisure Look, Sad Innocence, Look of Wonder\n+Female VIP: Athena's Grace, Hera's Radiance, Fearful Stare, Leisure Look, Strong Stare, Angel Glow, Babyface Pout, Pucker Up Face, Dollface Look, Soul's Window\n+Female REG: Glitzy Face, Demure Poise Eyes, Fearful Stare, Babyface Pout, Dollface Look, Gentle Glow, Athena's Grace\n\\ No newline at end of file"}, {"sha": "aa5914a738fec50535d101f4f5f7daed43344461", "filename": "tools/MapleCashCosmeticsChecker/lib/care/amoria/hair.txt", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/amoria/hair.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/amoria/hair.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsChecker/lib/care/amoria/hair.txt?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,4 @@\n+Male VIP: Casanova, Eternal Elegance, Fuzz, Jun Pyo Hair, Metro, Natural, Rockie, Romance, Saturday Special, Super Suave, Windy Hair\n+Male EXP: Antagonist, Explosion, w/ Bald Spot, Bowl Cut, Trip Scratch, Rebel, Fireball, Toben, Monkey, Head\n+Female VIP: Angelica, Ballroom Classic, Carla, Caspia, Daisy Do, The Honeybun, Victorian Wrap, Darling Diva, Cecelia Twist, Classy Sass, Lana\n+Female EXP: Connie, Bridget, Sammy, Carla, Stella, Angelica, Polly, Housewife, Rollered Hair\n\\ No newline at end of file"}, {"sha": "279ee08ee95ea922bc568d2935ad9bb72a4fb0e2", "filename": "tools/MapleCashCosmeticsChecker/lib/care/ariant/face.txt", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/ariant/face.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/ariant/face.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsChecker/lib/care/ariant/face.txt?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,4 @@\n+Male VIP: Insomniac Daze, Motivated Look, Fearful Glance, Rebel's Fire, Alert Face, Curious Dog\n+Male REG: Edge of Emotion, Fearful Glance, Anger's Blaze, Dramatic Face, Smart Aleck, Perplexed Stare\n+Female VIP: Look of Death, Motivated Look, Keen Look, Strong Stare, Pucker Up Face, Soul's Window\n+Female REG: Kitty Cat, Poker Face, Look of Death, Wide-eyed Girl, Beauty Stare, Hypnotized Look, Leisure Look\n\\ No newline at end of file"}, {"sha": "8cbfffa164a84e0310d55dfaf00483cdc4a35c46", "filename": "tools/MapleCashCosmeticsChecker/lib/care/ariant/hair.txt", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/ariant/hair.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/ariant/hair.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsChecker/lib/care/ariant/hair.txt?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,4 @@\n+Male VIP: Afro (small), Cabana Boy, Dreadlocks, Kravitz Locks, Line Scratch, Mane, Matinee Idol, Natural, Tornade Hair\n+Male REG: Afro (small), Cabana Boy, Dreadlocks, Dreamcatcher, Hobo, Kravitz Locks, Line Scratch, Mane, Matinee Idol, Natural, Tornade Hair\n+Female VIP: Bridget, Celeb, Edgy, Lana, Penelope, Rae, Boyish, Desert Flower, Tighty Bun\n+Female REG: Boyish, Bridget, Celeb, Curly Stream, Dashing Damsel, Desert Flower, Lana, Oh So Windy, Palm Tree Hair, Penelope, Rae, Tighty Bun\n\\ No newline at end of file"}, {"sha": "40f134494808620bc15d0eb26acf27570da094c3", "filename": "tools/MapleCashCosmeticsChecker/lib/care/cbd/face.txt", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/cbd/face.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/cbd/face.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsChecker/lib/care/cbd/face.txt?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,4 @@\n+Male VIP: Fierce Edge, Insomniac Daze, Overjoyed Smile, Shuteye, Alert Face, Curious Dog\n+Male REG: Intense Stare, Demure Poise, Leisure Look, Insomniac Daze, Alert Face, Babyface Pout, Overjoyed Smile\n+Female VIP: Compassion Look, Hypnotized Look, Look of Death, Shuteye, Pucker Up Face, Soul's Window\n+Female REG: Glamorous Edge, Demure Poise Eyes, Leisure Look, Strong Stare, Curious Look, Beauty Stare, Compassion Look\n\\ No newline at end of file"}, {"sha": "390ed8827d3d74bad734825ba24f65851a7e58bc", "filename": "tools/MapleCashCosmeticsChecker/lib/care/cbd/hair.txt", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/cbd/hair.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/cbd/hair.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsChecker/lib/care/cbd/hair.txt?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,4 @@\n+Male VIP: Acorn, w/ Bald Spot, Fireball, Julian Hair, Old Man 'Do, Preppy Spike, Rebel, Toben, Vincent\n+Male REG: Astro, Fireball, Julian Hair, Mane, Metrosexual, Old Man 'Do, Romance, Slick Dean, Exotica\n+Female VIP: Apple Hair, Bowlcut, Connie, Disheveled, Ellie, Grandma ma', Miru, Monica, Veronica\n+Female REG: Apple Hair, Bowlcut, Ellie, Grandma ma', Holla' Back Do, Monica, Oh So Windy, Sonara Wave, Tall Bun, School Girl Hair\n\\ No newline at end of file"}, {"sha": "00fed1e6579d7c175577d2f41f68487f47a22b8e", "filename": "tools/MapleCashCosmeticsChecker/lib/care/henesys/face.txt", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/henesys/face.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/henesys/face.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsChecker/lib/care/henesys/face.txt?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,4 @@\n+Male VIP: Motivated Look, Perplexed Stare, Fearful Glance, Dramatic Face, Rebel's Fire, Alert Face, Babyface Pout, Sad Innocence, Worrisome Glare, Curious Dog, Look of Wonder, Eye of the Lion, Child's Play, Sarcastic Face\n+Male REG: Ghostface Stare, Undecided Face, Worrisome Glare, Curious Dog, Motivated Look, Child's Play, Alert Face\n+Female VIP: Motivated Look, Fearful Stare, Leisure Look, Strong Stare, Angel Glow, Babyface Pout, Pucker Up Face, Dollface Look, Hopeless Gaze, Soul's Window, Curious Look, Wide-eyed Girl, Innocent Look, Tender Love\n+Female REG: Gentle Glow, Kitty Cat, Motivated Look, Hopeless Gaze, Keen Look, Leisure Look, Curious Look\n\\ No newline at end of file"}, {"sha": "a43c0f8ea490dbc9f5c24d0dd992b49fa60808eb", "filename": "tools/MapleCashCosmeticsChecker/lib/care/henesys/hair.txt", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/henesys/hair.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/henesys/hair.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsChecker/lib/care/henesys/hair.txt?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,6 @@\n+Male VIP: Aran Cut, Catalyst, Acorn, Topknot, Wind, Shaggy Wax, The Coco\n+Male REG: Aran Cut, Catalyst, Evan Hair (M), Acorn, Shaggy Wax, The Coco, The Mo Rawk, Topknot, Wind\n+Male EXP: Aran Cut, Acorn, Shaggy Wax, The Coco, The Mo Rawk, Topknot, Wind, Buzz\n+Female VIP: Angelica, Aran Hair, Chantelle, Crazy Medusa, Fourtail Braids, Frizzle Dizzle, Full Bangs\n+Female REG: Angelica, Aran Hair, Chantelle, Crazy Medusa, Evan Hair (F), Fourtail Braids, Full Bangs, Rainbow, Stella\n+Female EXP: Angelica, Aran Hair, Chantelle, Crazy Medusa, Fourtail Braids, Full Bangs, Stella, Head\n\\ No newline at end of file"}, {"sha": "82dc4d22aadac40ed77f82d06a7fa09663138933", "filename": "tools/MapleCashCosmeticsChecker/lib/care/kerning_city/face.txt", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/kerning_city/face.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/kerning_city/face.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsChecker/lib/care/kerning_city/face.txt?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,4 @@\n+Male VIP: \n+Male REG: \n+Female VIP: \n+Female REG: \n\\ No newline at end of file"}, {"sha": "e97ad8983d58a7a98c4502e011e6f22e3ff9d7a7", "filename": "tools/MapleCashCosmeticsChecker/lib/care/kerning_city/hair.txt", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/kerning_city/hair.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/kerning_city/hair.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsChecker/lib/care/kerning_city/hair.txt?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,6 @@\n+Male VIP: Antagonist, Aran Cut, Cornrow, Dragon Tail, Rockstar, Short Top Tail, Male Runway Hair\n+Male REG: Antagonist, Aran Cut, Cornrow, Dragon Tail, Dual Blade Hair, Hontas, Lucky Charms, Rockstar, Short Top Tail\n+Male EXP: Antagonist, Aran Cut, Cornrow, Dragon Tail, Hontas, Lucky Charms, Short Top Tail, Head\n+Female VIP: Aran Hair, Bridget, Gardener, Pei Pei, Penelope, Shaggy Dog, Ravishing Raven\n+Female REG: Annie, Aran Hair, Curly Stream, Gardener, Pei Pei, Penelope, Ravishing Raven, Shaggy Dog, Super Diva\n+Female EXP: Annie, Aran Hair, Curly Stream, Gardener, Pei Pei, Penelope, Shaggy Dog, Rollered Hair\n\\ No newline at end of file"}, {"sha": "2d01b0a2ffbda319806a000d3619a35ce9c7fe55", "filename": "tools/MapleCashCosmeticsChecker/lib/care/ludibrium/face.txt", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/ludibrium/face.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/ludibrium/face.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsChecker/lib/care/ludibrium/face.txt?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,4 @@\n+Male VIP: Motivated Look, Perplexed Stare, Fearful Glance, Dramatic Face, Rebel's Fire, Alert Face, Babyface Pout, Sad Innocence, Worrisome Glare, Curious Dog, Look of Wonder, Cool Guy Gaze\n+Male REG: Hypnotized Look, Edge of Emotion, Insomniac Daze, Dramatic Face, Perplexed Stare, Sad Innocence, Overjoyed Smile\n+Female VIP: Motivated Look, Fearful Stare, Leisure Look, Strong Stare, Angel Glow, Babyface Pout, Pucker Up Face, Dollface Look, Hopeless Gaze, Soul's Window, Curious Look, Wisdom Glance\n+Female REG: Glamorous Edge, Kitty Cat, Leisure Look, Hopeless Gaze, Angel Glow, Pucker Up Face, Glitzy Face\n\\ No newline at end of file"}, {"sha": "71e85593faab107e31ca41be4a7120c4e88eef20", "filename": "tools/MapleCashCosmeticsChecker/lib/care/ludibrium/hair.txt", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/ludibrium/hair.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/ludibrium/hair.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsChecker/lib/care/ludibrium/hair.txt?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,6 @@\n+Male VIP: Afro (big), Bowl Cut, Fuzz, Hector Hair, Julian Hair, Tentacle Hair, Trip Scratch, Urban Dragon\n+Male REG: Afro (big), Bowl Cut, Bubba GoaTee, Fuzz, Hector Hair, Grooovy Do, Julian Hair, Hip Hop Cut, Rise N Shine, Robot, Tentacle Hair, The Mo Rawk, Urban Dragon\n+Male EXP: Afro (big), Bowl Cut, Bubba GoaTee, Fuzz, Grooovy Do, Julian Hair, Rise N Shine, Robot, Tentacle Hair, The Mo Rawk, Urban Dragon, Buzz\n+Female VIP: Apple Hair, Candy Heart, Eye-skimming Bang, Female Runway Hair, Lovely Ladyhawk, Naomi, Pigtails, Ayu\n+Female REG: Apple Hair, Ayu, Bohemian Hair, Candy Heart, Eye-skimming Bang, Female Runway Hair, Jean, Lovely Ladyhawk, Naomi, Pigtails, Rastafari, Sonara Wave, Tall Bun, Minnie\n+Female EXP: Apple Hair, Ayu, Bohemian Hair, Candy Heart, Eye-skimming Bang, Female Runway Hair, Jean, Lovely Ladyhawk, Pigtails, Rastafari, Tall Bun, Minnie, Head\n\\ No newline at end of file"}, {"sha": "fde46df0782a02c841c816e2cd61012419499316", "filename": "tools/MapleCashCosmeticsChecker/lib/care/mu_lung/face.txt", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/mu_lung/face.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/mu_lung/face.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsChecker/lib/care/mu_lung/face.txt?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,4 @@\n+Male VIP: Motivated Look, Perplexed Stare, Fearful Glance, Rebel's Fire, Alert Face, Babyface Pout, Sad Innocence, Curious Dog, Smart Aleck, Child's Play, Sarcastic Face\n+Male REG: Demure Poise, Shade of Cool, Sad Innocence, Look of Wonder, Leisure Look, Alert Face, Cool Guy Gaze\n+Female VIP: Hypnotized Look, Motivated Look, Keen Look, Strong Stare, Babyface Pout, Pucker Up Face, Hopeless Gaze, Soul's Window, Look of Death, Innocent Look, Tender Love\n+Female REG: Gentle Glow, Poker Face, Athena's Grace, Compassion Look, Fearful Stare, Wisdom Glance, Wide-eyed Girl\n\\ No newline at end of file"}, {"sha": "cf83e6d206d7de22eeddad320170e5a61b2b900a", "filename": "tools/MapleCashCosmeticsChecker/lib/care/mu_lung/hair.txt", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/mu_lung/hair.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/mu_lung/hair.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsChecker/lib/care/mu_lung/hair.txt?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,4 @@\n+Male VIP: Buddha Fire, Cozy Amber, Dreadlocks, Gruff & Tough, Monkey, Puffy Fro, Shaggy Dragon, Urban Dragon\n+Male EXP: Alex, Buddha Fire, Cozy Amber, Dreadlocks, Exotica, Gruff & Tough, Kongfu Braids, Monkey, Puffy Fro, Rising Rocker, Shaggy Dragon, The Curl, Urban Dragon, Buzz\n+Female VIP: Chantelle, Cutey Doll, Housewife, Lady Mariko, Lori, Ming Ming, Pei Pei, Tighty Bun\n+Female EXP: Chantelle, Cutey Doll, Demolishing Diva, Housewife, Lady Mariko, Lori, Ming Ming, Onna's Honor, Pei Pei, Perfect Stranger, Spunky Do, Tighty Bun, Short Twin Tails, Head\n\\ No newline at end of file"}, {"sha": "cc6eb2de6d3dc47781c7734f7a0ecdc5c9e2e95f", "filename": "tools/MapleCashCosmeticsChecker/lib/care/nlc/face.txt", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/nlc/face.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/nlc/face.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsChecker/lib/care/nlc/face.txt?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,4 @@\n+Male VIP: Curious Dog, Motivated Look, Perplexed Stare, Fearful Glance, Dramatic Face, Rebel's Fire, Alert Face, Babyface Pout, Worrisome Glare\n+Male REG: Undecided Face, Shade of Cool, Intense Stare, Perplexed Stare, Worrisome Glare, Cool Guy Gaze, Insomniac Daze\n+Female VIP: Beauty Stare, Fearful Stare, Leisure Look, Strong Stare, Angel Glow, Babyface Pout, Pucker Up Face, Hopeless Gaze, Soul's Window\n+Female REG: Demure Poise Eyes, Glitzy Face, Hypnotized Look, Motivated Look, Gentle Glow, Dollface Look, Soul's Window\n\\ No newline at end of file"}, {"sha": "38c180069fb79ed096ea1b49be6c1ea0e4ccce2c", "filename": "tools/MapleCashCosmeticsChecker/lib/care/nlc/hair.txt", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/nlc/hair.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/nlc/hair.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsChecker/lib/care/nlc/hair.txt?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,4 @@\n+Male VIP: Afro (big), Hector Hair, Messy Spike, Roving Rockstar, Spiky Shag, The Coco, Unbalanced\n+Male EXP: Afro (big), Alex, Evan Hair (M), Fury, Hector Hair, Messy Spike, Roving Rockstar, Spiky Shag, The Coco, Tribal Buzz, Unbalanced, Head\n+Female VIP: Eye-skimming Bang, Fluffy Dolly, Low Cut Bob, Messy Pigtails, Model's Ambition, Roxy, Sunflower Power\n+Female EXP: Demolishing Diva, Eye-skimming Bang, Evan Hair (F), Fluffy Dolly, Low Cut Bob, Maiden's Weave, Messy Pigtails, Model's Ambition, Roxy, Streaky Siren, Sunflower Power, Rollered Hair\n\\ No newline at end of file"}, {"sha": "fb60cc44f87c2e2c2938934f0f9d2de836937ef9", "filename": "tools/MapleCashCosmeticsChecker/lib/care/orbis/face.txt", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/orbis/face.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/orbis/face.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsChecker/lib/care/orbis/face.txt?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,4 @@\n+Male VIP: Motivated Look, Perplexed Stare, Fearful Glance, Dramatic Face, Rebel's Fire, Alert Face, Babyface Pout, Sad Innocence, Worrisome Glare, Curious Dog, Look of Wonder, Child's Play, Sarcastic Face\n+Male REG: Pensive Look, Fearful Glance, Cool Guy Gaze, Overjoyed Smile, Child's Play, Hypnotized Look, Dramatic Face\n+Female VIP: Motivated Look, Fearful Stare, Leisure Look, Strong Stare, Angel Glow, Babyface Pout, Pucker Up Face, Dollface Look, Hopeless Gaze, Soul's Window, Curious Look, Innocent Look, Tender Love\n+Female REG: Gentle Glow, Poker Face, Compassion Look, Angel Glow, Wisdom Glance, Soul's Window, Dollface Look\n\\ No newline at end of file"}, {"sha": "d2515f676d3aafc54dfb4f64cef72a979b045598", "filename": "tools/MapleCashCosmeticsChecker/lib/care/orbis/hair.txt", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/orbis/hair.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/orbis/hair.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsChecker/lib/care/orbis/hair.txt?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,6 @@\n+Male VIP: Clean-Cut Short Hair, Foil Perm, Messy Spike, Metrosexual, Mohecan Shaggy Do, Spiky Shag, Tristan\n+Male REG: Baldie, Clean-Cut Short Hair, Foil Perm, Messy Spike, Metrosexual, Mohecan Shaggy Do, Neon Cactus, Receding Hair, Spiky Shag, Tristan, Updo\n+Male EXP: Baldie, Clean-Cut Short Hair, Foil Perm, Messy Spike, Mohecan Shaggy Do, Receding Hair, Spiky Shag, Tristan, Updo\n+Female VIP: Bow Hair, Caspia, Monica, Princessa, Rose, The Honeybun, Top Tied Hair\n+Female REG: Bow Hair, Caspia, Dashing Damsel, Lilin Hair, Monica, Princess Warrior, Princessa, Rose, Short Twin Tails, The Honeybun, Top Tied Hair, Bowl Cut\n+Female EXP: Bow Hair, Caspia, Lilin Hair, Monica, Princess Warrior, Princessa, Rose, Short Twin Tails, Top Tied Hair, Bowl Cut\n\\ No newline at end of file"}, {"sha": "93a64287ed30a439768262907aa20e25dcb70b3e", "filename": "tools/MapleCashCosmeticsChecker/lib/care/showa/face.txt", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/showa/face.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/showa/face.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsChecker/lib/care/showa/face.txt?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,4 @@\n+Male VIP: Fierce Edge, Motivated Look, Fearful Glance, Rebel's Fire, Alert Face, Curious Dog\n+Male REG: Ghostface Stare, Intense Stare, Shuteye, Motivated Look, Fierce Edge, Irritable Face, Overjoyed Smile\n+Female VIP: Compassion Look, Motivated Look, Keen Look, Strong Stare, Pucker Up Face, Soul's Window\n+Female REG: Glitzy Face, Glamorous Edge, Motivated Look, Leisure Look, Look of Death, Shuteye, Beauty Stare\n\\ No newline at end of file"}, {"sha": "d379b7b13d5a8d84f5a715be538f16688cc1e426", "filename": "tools/MapleCashCosmeticsChecker/lib/care/showa/hair.txt", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/showa/hair.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/care/showa/hair.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsChecker/lib/care/showa/hair.txt?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,4 @@\n+Male VIP: Dreamcatcher, Clean-Cut Short Hair, Dragon Tail, Gruff & Tough, Matinee Idol, Metrosexual, Mohecan Shaggy Do, Puffy Fro, Short Top Tail, Tristan\n+Male REG: Clean-Cut Short Hair, Dragon Tail, Dreamcatcher, Gruff & Tough, Lion Hair, Matinee Idol, Metrosexual, Mohecan Shaggy Do, Puffy Fro, Short Top Tail, Spiky Tail, Tristan\n+Female VIP: Candy Heart, Dambi, Fourtail Braids, Lady Mariko, Mary, Polly, Princessa, Sammy, Short Shaggy Hair, Top Tied Hair\n+Female REG: Candy Heart, Dambi, Fourtail Braids, Jean, Lady Mariko, Onna's Honor, Paula, Princess Warrior, Princessa, Short Shaggy Hair, Streaky Siren, Top Tied Hair, Palm Tree Hair\n\\ No newline at end of file"}, {"sha": "215a123647fda62904e06e168ebf96f45d5d6bd6", "filename": "tools/MapleCashCosmeticsChecker/lib/colors.txt", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/colors.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/colors.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsChecker/lib/colors.txt?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,10 @@\n+amoria\t0 1 3 4 5 7\n+ariant\t0 1 3 6 7\n+cbd\t2 3 4 7\n+henesys\t0 1 2 4 6 7\n+kerning\t\n+ludi\t2 3 4 5 7\n+mulung\t0 1 3 5 6 7\n+nlc\t1 2 3 4 5 6 7\n+orbis\t1 3 4 7\n+showa\t0 1 2 3 4 5 7\n\\ No newline at end of file"}, {"sha": "60ce233efb5cfab2e8e5442fee8dcc03fdb0b6d4", "filename": "tools/MapleCashCosmeticsChecker/lib/result.txt", "status": "added", "additions": 213, "deletions": 0, "changes": 213, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/result.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/lib/result.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsChecker/lib/result.txt?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,213 @@\n+ # Report File autogenerated from the MapleCashCosmeticsChecker feature by Ronan Lana.\n+ # Generated data takes into account several data info from the server source files and the server-side WZ.xmls.\n+\n+Found 42 entries with missing cosmetic entries.\n+  NPC 1012103:VIP\n+    30060, 30140, 30200, 30210, 30310, 33040, 33100\n+    31150, 31300, 31350, 31700, 31740, 34050, 34110\n+\n+  NPC 1012104:EXP\n+    30030, 30140, 30200, 30210, 30310, 30610, 33040, 33100\n+    31070, 31150, 31300, 31350, 31430, 31700, 34050, 34110\n+\n+  NPC 1012104:REG\n+    30060, 30140, 30200, 30210, 30310, 30610, 33040, 33100\n+    31070, 31080, 31150, 31300, 31350, 31700, 34050, 34110\n+\n+  NPC 1052004:VIP\n+    20000, 20001, 20003, 20004, 20005, 20006, 20007, 20008, 20012, 20014, 20015, 20022, 20028, 20031\n+    21000, 21001, 21002, 21003, 21004, 21005, 21006, 21007, 21008, 21012, 21013, 21014, 21023, 21026\n+\n+  NPC 1052005:REG\n+    20000, 20005, 20008, 20012, 20016, 20022, 20032\n+    21000, 21002, 21008, 21014, 21020, 21024, 21029\n+\n+  NPC 1052100:VIP\n+    30040, 30130, 30780, 30850, 30860, 30920, 33040\n+    31090, 31140, 31330, 31440, 31760, 31880, 34050\n+\n+  NPC 1052101:EXP\n+    30130, 30430, 30520, 30770, 30780, 30850, 30920, 33040\n+    31060, 31140, 31330, 31520, 31760, 31880, 34010, 34050\n+\n+  NPC 1052101:REG\n+    30040, 30130, 30520, 30770, 30780, 30850, 30920, 33040\n+    31060, 31140, 31330, 31440, 31520, 31750, 31760, 31880, 34050\n+\n+  NPC 2010001:VIP\n+    30230, 30260, 30280, 30340, 30490\n+    31110, 31220, 31230, 31630, 31790\n+\n+  NPC 2010002:VIP\n+    20000, 20001, 20003, 20004, 20005, 20006, 20007, 20008, 20012, 20014, 20022, 20028, 20031\n+    21000, 21001, 21002, 21003, 21004, 21005, 21006, 21007, 21008, 21012, 21014, 21023, 21026\n+\n+  NPC 2012007:EXP\n+    30230, 30280, 30340, 30490, 30530, 30740\n+    31110, 31220, 31230, 31710, 31790, 31890, 31930\n+\n+  NPC 2012007:REG\n+    30230, 30260, 30280, 30340, 30490, 30530, 30630, 30740\n+    31110, 31220, 31230, 31630, 31650, 31710, 31790, 31890, 31930\n+\n+  NPC 2012009:REG\n+    20003, 20011, 20021, 20022, 20023, 20027, 20031\n+    21004, 21007, 21010, 21012, 21020, 21021, 21030\n+\n+  NPC 2040019:REG\n+    20001, 20003, 20007, 20013, 20021, 20023, 20025\n+    21002, 21004, 21006, 21008, 21022, 21027, 21029\n+\n+  NPC 2041007:VIP\n+    30160, 30190, 30250, 30640, 30660, 30840, 30870, 30990\n+    31270, 31290, 31550, 31680, 31810, 31830, 31840, 31870\n+\n+  NPC 2041009:EXP\n+    30030, 30190, 30220, 30250, 30540, 30610, 30620, 30640, 30650, 30660, 30840, 30990\n+    31170, 31270, 31430, 31510, 31540, 31550, 31600, 31680, 31810, 31830, 31840, 31870\n+\n+  NPC 2041009:REG\n+    30190, 30220, 30250, 30540, 30610, 30620, 30640, 30650, 30660, 30840, 30870, 30940, 30990\n+    31170, 31270, 31290, 31510, 31540, 31550, 31600, 31640, 31680, 31810, 31830, 31840, 31870\n+\n+  NPC 2041010:VIP\n+    20000, 20001, 20003, 20004, 20005, 20006, 20007, 20008, 20011, 20012, 20014, 20031\n+    21000, 21001, 21002, 21003, 21004, 21005, 21006, 21007, 21008, 21010, 21012, 21014\n+\n+  NPC 2090100:VIP\n+    30150, 30240, 30370, 30420, 30640, 30710, 30750, 30810\n+    31140, 31160, 31180, 31300, 31460, 31470, 31660, 31910\n+\n+  NPC 2090101:EXP\n+    30030, 30150, 30240, 30370, 30420, 30550, 30600, 30640, 30700, 30710, 30720, 30750, 30810, 30830\n+    31140, 31160, 31180, 31210, 31300, 31430, 31460, 31470, 31660, 31690, 31800, 31890, 31910, 31940\n+\n+  NPC 2090104:REG\n+    20002, 20005, 20007, 20011, 20014, 20017, 20029\n+    21001, 21010, 21013, 21018, 21020, 21021, 21030\n+\n+  NPC 2090104:VIP\n+    20000, 20001, 20004, 20005, 20006, 20007, 20009, 20012, 20022, 20028, 20031\n+    21000, 21003, 21005, 21006, 21008, 21009, 21011, 21012, 21023, 21024, 21026\n+\n+  NPC 2100005:REG\n+    30150, 30170, 30180, 30320, 30330, 30410, 30460, 30680, 30800, 30820, 30900\n+    31090, 31190, 31330, 31340, 31400, 31420, 31520, 31620, 31650, 31660, 34000\n+\n+  NPC 2100006:VIP\n+    30150, 30170, 30180, 30320, 30330, 30410, 30460, 30820, 30900\n+    31040, 31090, 31190, 31330, 31340, 31400, 31420, 31620, 31660\n+\n+  NPC 2100008:VIP\n+    20000, 20004, 20005, 20012, 20013, 20031\n+    21000, 21003, 21006, 21009, 21012, 21024\n+\n+  NPC 2100009:REG\n+    20001, 20003, 20009, 20010, 20025, 20031\n+    21002, 21009, 21011, 21013, 21016, 21029, 21030\n+\n+  NPC 9120100:VIP\n+    30260, 30280, 30340, 30710, 30780, 30800, 30810, 30820, 30920\n+    31000, 31030, 31100, 31350, 31460, 31550, 31770, 31790, 31850\n+\n+  NPC 9120101:REG\n+    30260, 30280, 30340, 30360, 30710, 30780, 30790, 30800, 30810, 30820, 30920\n+    31350, 31410, 31460, 31540, 31550, 31710, 31720, 31770, 31790, 31800, 31850, 34000\n+\n+  NPC 9120102:VIP\n+    20000, 20004, 20005, 20012, 20020, 20031\n+    21000, 21003, 21006, 21012, 21021, 21024\n+\n+  NPC 9120103:REG\n+    20000, 20016, 20019, 20020, 20021, 20024, 20026\n+    21000, 21002, 21009, 21016, 21022, 21025, 21027\n+\n+  NPC 9201015:VIP\n+    30050, 30300, 30410, 30450, 30510, 30570, 30580, 30590, 30660, 30910\n+    31150, 31220, 31260, 31310, 31420, 31480, 31490, 31580, 31590, 31610, 31630\n+\n+  NPC 9201016:EXP\n+    30000, 30020, 30110, 30130, 30160, 30190, 30240, 30270, 30430\n+    31000, 31030, 31050, 31070, 31090, 31150, 31310, 31910, 34010\n+\n+  NPC 9201018:VIP\n+    20000, 20001, 20003, 20004, 20005, 20006, 20007, 20008, 20018, 20019\n+    21001, 21002, 21003, 21004, 21005, 21006, 21007, 21012, 21018, 21019\n+\n+  NPC 9201019:REG\n+    20002, 20005, 20007, 20011, 20014, 20027, 20029\n+    21001, 21005, 21007, 21017, 21018, 21020, 21022\n+\n+  NPC 9201063:EXP\n+    30250, 30400, 30430, 30440, 30490, 30730, 30830, 30870, 30880, 33100\n+    31320, 31450, 31560, 31570, 31690, 31720, 31730, 31830, 34010\n+\n+  NPC 9201064:VIP\n+    30250, 30490, 30730, 30870, 30880, 33100\n+    31320, 31450, 31560, 31730, 31830\n+\n+  NPC 9201069:VIP\n+    20000, 20001, 20003, 20004, 20005, 20006, 20008, 20012, 20031\n+    21001, 21002, 21003, 21004, 21005, 21006, 21008, 21012, 21016\n+\n+  NPC 9201070:REG\n+    20001, 20008, 20011, 20013, 20024, 20029, 20032\n+    21000, 21007, 21011, 21012, 21017, 21020, 21022\n+\n+  NPC 9270023:REG\n+    20002, 20005, 20006, 20013, 20017, 20021, 20024\n+    21002, 21003, 21014, 21016, 21017, 21021, 21027\n+\n+  NPC 9270024:VIP\n+    20005, 20012, 20013, 20020, 20021, 20026\n+    21006, 21009, 21011, 21012, 21021, 21025\n+\n+  NPC 9270036:VIP\n+    30000, 30020, 30110, 30120, 30270, 30290, 30310, 30670, 30840\n+    31010, 31050, 31110, 31120, 31240, 31250, 31280, 31670, 31810\n+\n+  NPC 9270037:REG\n+    30110, 30180, 30260, 30290, 30300, 30350, 30470, 30720, 30840\n+    31110, 31200, 31250, 31280, 31600, 31640, 31670, 31810, 34020\n+\n+Unused cosmetics: 22\n+30010 Zeta\n+30070 Back\n+30080 Buzzcut\n+30090 Mohawk\n+30100 Fantasy\n+30480 Babby Cut\n+30560 Grand Lionman\n+30690 Metro Man\n+30760 Bowling Ball\n+30890 Eastern Mystery\n+30930 Boy Band Cut\n+30950 Volume Cut\n+31020 Francesca\n+31130 Jolie\n+31530 Zessica\n+31780 ???? ??\n+31820 Grace\n+31860 Laguna Beach\n+31920 CL Hair\n+31950 Vintage Flip\n+33000 Prince Cut\n+34030 Designer Hair\n+\n+Missing cosmetic itemids: 15\n+Bohemian Hair\n+Bow Hair\n+Clean-Cut Short Hair\n+Dual Blade Hair\n+Evan Hair (F)\n+Evan Hair (M)\n+Explosion\n+Lilin Hair\n+Low Cut Bob\n+Messy Pigtails\n+Oh So Windy\n+Spiky Shag\n+Top Tied Hair\n+Updo\n+Windy Hair\n+"}, {"sha": "328e8e5bc3b7f1f7bad2bc0751a933e00c801983", "filename": "tools/MapleCashCosmeticsChecker/manifest.mf", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/manifest.mf", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/manifest.mf", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsChecker/manifest.mf?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,3 @@\n+Manifest-Version: 1.0\n+X-COMMENT: Main-Class will be added automatically by build\n+"}, {"sha": "3ab8ee7c7053e4ea19124361f542de96feede2a5", "filename": "tools/MapleCashCosmeticsChecker/src/maplecashcosmeticschecker/MapleCashCosmeticsChecker.java", "status": "added", "additions": 722, "deletions": 0, "changes": 722, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/src/maplecashcosmeticschecker/MapleCashCosmeticsChecker.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/src/maplecashcosmeticschecker/MapleCashCosmeticsChecker.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsChecker/src/maplecashcosmeticschecker/MapleCashCosmeticsChecker.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,722 @@\n+/*\n+    This file is part of the HeavenMS MapleStory Server\n+    Copyleft (L) 2016 - 2018 RonanLana\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package maplecashcosmeticschecker;\n+\n+import java.io.BufferedReader;\n+import java.io.File;\n+import java.io.FileInputStream;\n+import java.io.InputStreamReader;\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.LinkedList;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Map.Entry;\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.Comparator;\n+import java.util.Set;\n+\n+/**\n+ *\n+ * @author RonanLana\n+ \n+  This application parses the cosmetic recipes defined within \"lib/care\" folder, loads\n+  every present cosmetic itemid from the XML data, then checks the scripts for missed\n+  cosmetics within the stylist/surgeon. Results from the search are reported in a report\n+  file.\n+  \n+  Note: to best make use of this feature, set ignoreCurrentScriptCosmetics = true. This\n+  way, every available cosmetic present on the recipes will be listed on the report.\n+  \n+  Estimated parse time: 1 minute\n+\n+ */\n+public class MapleCashCosmeticsChecker {\n+    static String libPath = \"lib\";\n+    static String handbookPath = \"../../handbook\";\n+    static String wzPath = \"../../wz\";\n+    static String scriptPath = \"../../scripts\";\n+    \n+    private static PrintWriter printWriter = null;\n+    static InputStreamReader fileReader = null;\n+    static BufferedReader bufferedReader = null;\n+    \n+    static boolean ignoreCurrentScriptCosmetics = false;\n+    \n+    static int initialStringLength = 50;\n+    \n+    static byte status = 0;\n+    \n+    static Map<Integer, Set<Integer>> scriptCosmetics = new HashMap<>();\n+    static Map<Integer, String> scriptEntries = new HashMap<>(500);\n+    \n+    static Set<Integer> allCosmetics = new HashSet<>();\n+    \n+    static Set<Integer> unusedCosmetics = new HashSet<>();\n+    static Map<Integer, List<Integer>> usedCosmetics = new HashMap<>();\n+    \n+    static Map<Integer, String> couponNames = new HashMap<>();\n+    static Map<Integer, Integer> cosmeticNpcs = new HashMap<>(); // expected only 1 NPC per cosmetic coupon (town care/salon)\n+    static Map<List<String>, Integer> cosmeticNpcids = new HashMap<>();\n+    \n+    static Set<String> missingCosmeticNames = new HashSet<>();\n+    static Map<String, Integer> cosmeticNameIds = new HashMap<>();\n+    static Map<Integer, String> cosmeticIdNames = new HashMap<>();\n+    \n+    static Map<Pair<Integer, String>, Set<Integer>> missingCosmeticsNpcTypes = new HashMap<>();\n+    \n+    private static String getName(String token) {\n+        int i, j;\n+        char[] dest;\n+        String d;\n+\n+        i = token.lastIndexOf(\"name\");\n+        i = token.indexOf(\"\\\"\", i) + 1; //lower bound of the string\n+        j = token.indexOf(\"\\\"\", i);     //upper bound\n+\n+        dest = new char[initialStringLength];\n+        token.getChars(i, j, dest, 0);\n+\n+        d = new String(dest);\n+        return(d.trim());\n+    }\n+    \n+    private static String getValue(String token) {\n+        int i, j;\n+        char[] dest;\n+        String d;\n+\n+        i = token.lastIndexOf(\"value\");\n+        i = token.indexOf(\"\\\"\", i) + 1; //lower bound of the string\n+        j = token.indexOf(\"\\\"\", i);     //upper bound\n+\n+        dest = new char[initialStringLength];\n+        token.getChars(i, j, dest, 0);\n+\n+        d = new String(dest);\n+        return(d.trim());\n+    }\n+    \n+    private static void forwardCursor(int st) {\n+        String line = null;\n+\n+        try {\n+            while(status >= st && (line = bufferedReader.readLine()) != null) {\n+                simpleToken(line);\n+            }\n+        }\n+        catch(Exception e) {\n+            e.printStackTrace();\n+        }\n+    }\n+\n+    private static void simpleToken(String token) {\n+        if(token.contains(\"/imgdir\")) {\n+            status -= 1;\n+        }\n+        else if(token.contains(\"imgdir\")) {\n+            status += 1;\n+        }\n+    }\n+    \n+    private static void translateToken(String token) {\n+        if(token.contains(\"/imgdir\")) {\n+            status -= 1;\n+        }\n+        else if(token.contains(\"imgdir\")) {\n+            status += 1;\n+            \n+            if (status == 3) {\n+                String d = getName(token);\n+                \n+                if (!(d.contentEquals(\"Face\") || d.contentEquals(\"Hair\"))) {\n+                    forwardCursor(status);\n+                }\n+            } else if (status == 4) {\n+                String d = getName(token);\n+                int itemid = Integer.valueOf(d);\n+                \n+                int cosmeticid;\n+                if (itemid >= 30000) {\n+                    cosmeticid = (itemid / 10) * 10;\n+                } else {\n+                    cosmeticid = itemid - ((itemid / 100) % 10) * 100;\n+                }\n+                \n+                allCosmetics.add(cosmeticid);\n+                forwardCursor(status);\n+            }\n+        }\n+    }\n+    \n+    private static void readEqpStringData(String eqpStringDirectory) throws IOException {\n+        String line;\n+        \n+        fileReader = new InputStreamReader(new FileInputStream(eqpStringDirectory), \"UTF-8\");\n+        bufferedReader = new BufferedReader(fileReader);\n+\n+        while((line = bufferedReader.readLine()) != null) {\n+            translateToken(line);\n+        }\n+\n+        bufferedReader.close();\n+        fileReader.close();\n+    }\n+    \n+    private static void loadCosmeticWzData() throws IOException {\n+        System.out.println(\"Reading String.wz ...\");\n+        readEqpStringData(wzPath + \"/String.wz/Eqp.img.xml\");\n+    }\n+    \n+    private static void setCosmeticUsage(List<Integer> usedByNpcids, int cosmeticid) {\n+        if (!usedByNpcids.isEmpty()) {\n+            usedCosmetics.put(cosmeticid, usedByNpcids);\n+        } else {\n+            unusedCosmetics.add(cosmeticid);\n+        }\n+    }\n+    \n+    private static void listFiles(String directoryName, ArrayList<File> files) {\n+        File directory = new File(directoryName);\n+\n+        // get all the files from a directory\n+        File[] fList = directory.listFiles();\n+        for (File file : fList) {\n+            if (file.isFile()) {\n+                files.add(file);\n+            } else if (file.isDirectory()) {\n+                listFiles(file.getAbsolutePath(), files);\n+            }\n+        }\n+    }\n+    \n+    private static int getNpcIdFromFilename(String name) {\n+        try {\n+            return Integer.valueOf(name.substring(0, name.indexOf('.')));\n+        } catch(Exception e) {\n+            return -1;\n+        }\n+    }\n+    \n+    private static List<Integer> findCosmeticDataNpcids(int itemid) {\n+        List<Integer> npcids = new LinkedList<>();\n+        for (Entry<Integer, Set<Integer>> sc : scriptCosmetics.entrySet()) {\n+            if (sc.getValue().contains(itemid)) {\n+                npcids.add(itemid);\n+            }\n+        }\n+        \n+        return npcids;\n+    }\n+    \n+    private static void loadScripts() throws IOException {\n+        ArrayList<File> files = new ArrayList<>();\n+        listFiles(scriptPath + \"/npc\", files);\n+\n+        for(File f : files) {\n+            Integer npcid = getNpcIdFromFilename(f.getName());\n+            \n+            //System.out.println(\"Parsing \" + f.getAbsolutePath());\n+            fileReader = new InputStreamReader(new FileInputStream(f), \"UTF-8\");\n+            bufferedReader = new BufferedReader(fileReader);\n+\n+            String line;\n+\n+            StringBuilder stringBuffer = new StringBuilder();\n+            \n+            boolean cosmeticNpc = false;\n+            Set<Integer> cosmeticids = new HashSet<>();\n+            while((line = bufferedReader.readLine())!=null){\n+                String[] s = line.split(\"hair_. = Array\\\\(\", 2);\n+                \n+                if (s.length > 1) {\n+                    cosmeticNpc = true;\n+                    s = s[1].split(\"\\\\)\", 2);\n+                    s = s[0].split(\", \");\n+                    \n+                    for (String st : s) {\n+                        if (!st.isEmpty()) {\n+                            int itemid = Integer.valueOf(st);\n+                            cosmeticids.add(itemid);\n+                        }\n+                    }\n+                } else {\n+                    s = line.split(\"face_. = Array\\\\(\", 2);\n+                \n+                    if (s.length > 1) {\n+                        cosmeticNpc = true;\n+                        s = s[1].split(\"\\\\)\", 2);\n+                        s = s[0].split(\", \");\n+\n+                        for (String st : s) {\n+                            if (!st.isEmpty()) {\n+                                int itemid = Integer.valueOf(st);\n+                                cosmeticids.add(itemid);\n+                            }\n+                        }\n+                    }\n+                }\n+                \n+                stringBuffer.append(line).append(\"\\n\");\n+            }\n+            \n+            scriptEntries.put(npcid, stringBuffer.toString());\n+            \n+            if (cosmeticNpc) {\n+                scriptCosmetics.put(npcid, cosmeticids);\n+            }\n+\n+            bufferedReader.close();\n+            fileReader.close();\n+        }\n+    }\n+    \n+    private static void processCosmeticScriptData() throws IOException {\n+        System.out.println(\"Reading script files ...\");\n+        loadScripts();\n+        \n+        if (ignoreCurrentScriptCosmetics) {\n+            for (Set<Integer> npcCosmetics : scriptCosmetics.values()) {\n+                npcCosmetics.clear();\n+            }\n+        }\n+        \n+        for (Integer itemid : allCosmetics) {\n+            List<Integer> npcids = findCosmeticDataNpcids(itemid);\n+            setCosmeticUsage(npcids, itemid);\n+        }\n+    }\n+    \n+    private static List<Integer> loadCosmeticCouponids() throws IOException {\n+        List<Integer> couponItemids = new LinkedList<>();\n+        \n+        fileReader = new InputStreamReader(new FileInputStream(handbookPath + \"/Cash.txt\"), \"UTF-8\");\n+        bufferedReader = new BufferedReader(fileReader);\n+\n+        String line;\n+        while((line = bufferedReader.readLine())!=null){\n+            if (line.isEmpty()) continue;\n+            String[] s = line.split(\" - \", 3);\n+            \n+            int itemid = Integer.valueOf(s[0]);\n+            if (itemid >= 5150000 && itemid < 5160000) {\n+                couponItemids.add(itemid);\n+                couponNames.put(itemid, s[1]);\n+            }\n+        }\n+        \n+        bufferedReader.close();\n+        fileReader.close();\n+        \n+        return couponItemids;\n+    }\n+    \n+    private static List<Integer> findItemidOnScript(int itemid) {\n+        List<Integer> files = new LinkedList<>();\n+        String t = String.valueOf(itemid);\n+        \n+        for (Entry<Integer, String> text : scriptEntries.entrySet()) {\n+            if (text.getValue().contains(t)) {\n+                files.add(text.getKey());\n+            }\n+        }\n+        \n+        return files;\n+    }\n+    \n+    private static void loadCosmeticCouponNpcs() throws IOException {\n+        System.out.println(\"Locating cosmetic NPCs ...\");\n+        \n+        for (Integer itemid : loadCosmeticCouponids()) {\n+            List<Integer> npcids = findItemidOnScript(itemid);\n+            \n+            if (!npcids.isEmpty()) {\n+                cosmeticNpcs.put(itemid, npcids.get(0));\n+            }\n+        }\n+    }\n+    \n+    private enum CosmeticType {\n+        HAIRSTYLE,\n+        HAIRCOLOR,\n+        DIRTYHAIR,\n+        FACE_SURGERY,\n+        EYE_COLOR,\n+        SKIN_CARE\n+    }\n+    \n+    private static Pair<Integer, CosmeticType> parseCosmeticCoupon(String[] tokens) {\n+        for (int i = 0; i < tokens.length; i++) {\n+            String s = tokens[i];\n+            \n+            if (s.startsWith(\"Hair\")) {\n+                if (s.contentEquals(\"Hairstyle\")) {\n+                    return new Pair<>(i, CosmeticType.HAIRSTYLE);\n+                } else {\n+                    if (i - 1 >= 0 && tokens[i - 1].contentEquals(\"Dirty\")) {\n+                        return new Pair<>(i - 1, CosmeticType.DIRTYHAIR);\n+                    } else if (i + 1 < tokens.length && tokens[i + 1].contentEquals(\"Color\")) {\n+                        return new Pair<>(i, CosmeticType.HAIRCOLOR);\n+                    } else {\n+                        return new Pair<>(i, CosmeticType.HAIRSTYLE);\n+                    }\n+                }\n+            } else if (s.startsWith(\"Face\")) {\n+                return new Pair<>(i, CosmeticType.FACE_SURGERY);\n+            } else if (s.startsWith(\"Cosmetic\")) {\n+                return new Pair<>(i, CosmeticType.EYE_COLOR);\n+            } else if (s.startsWith(\"Plastic\")) {\n+                return new Pair<>(i, CosmeticType.FACE_SURGERY);\n+            } else if (s.startsWith(\"Skin\")) {\n+                return new Pair<>(i, CosmeticType.SKIN_CARE);\n+            }\n+        }\n+        \n+        return null;\n+    }\n+    \n+    private static List<String> getCosmeticCouponData(String town, String type, String subtype) {\n+        List<String> ret = new ArrayList<>(3);\n+        ret.add(town);\n+        ret.add(type);\n+        ret.add(subtype);\n+        return ret;\n+    }\n+    \n+    private static List<String> parseCosmeticCoupon(String couponName) {\n+        String town, type, subtype = \"EXP\";\n+        \n+        String[] s = couponName.split(\" Coupon \", 2);\n+        \n+        if (s.length > 1) {\n+            subtype = s[1].substring(1, s[1].length() - 1);\n+        }\n+        \n+        String[] tokens = s[0].split(\" \");\n+        Pair<Integer, CosmeticType> cosmeticData = parseCosmeticCoupon(tokens);\n+        if (cosmeticData == null) return null;\n+        \n+        town = \"\";\n+        for (int i = 0; i < cosmeticData.left; i++) {\n+            town += (tokens[i] + \"_\");\n+        }\n+        town = town.substring(0, town.length() - 1).toLowerCase();\n+        \n+        switch (cosmeticData.right) {\n+            case HAIRSTYLE:\n+                type = \"hair\";\n+                break;\n+                \n+            case FACE_SURGERY:\n+                type = \"face\";\n+                break;\n+                \n+            default:\n+                return null;\n+        }\n+        \n+        return getCosmeticCouponData(town, type, subtype);\n+    }\n+    \n+    private static void generateCosmeticPlaceNpcs() {\n+        for (Entry<Integer, String> e : couponNames.entrySet()) {\n+            Integer npcid = cosmeticNpcs.get(e.getKey());\n+            if (npcid == null) continue;\n+            \n+            String couponName = e.getValue();\n+            List<String> couponData = parseCosmeticCoupon(couponName);\n+            \n+            if (couponData == null) continue;\n+            cosmeticNpcids.put(couponData, npcid);\n+        }\n+    }\n+    \n+    private static Integer getCosmeticNpcid(String townName, String typeCosmetic, String typeCoupon) {\n+        return cosmeticNpcids.get(getCosmeticCouponData(townName, typeCosmetic, typeCoupon));\n+    }\n+    \n+    private static String getCosmeticName(String name, boolean gender) {\n+        String ret = name + \" (\" + (gender ? \"F\" : \"M\") + \")\";\n+        return ret;\n+    }\n+    \n+    private static void loadCosmeticNames(String cosmeticPath) throws IOException {\n+        fileReader = new InputStreamReader(new FileInputStream(cosmeticPath), \"UTF-8\");\n+        bufferedReader = new BufferedReader(fileReader);\n+\n+        String line;\n+        while((line = bufferedReader.readLine()) != null) {\n+            String[] s = line.split(\" - \", 3);\n+            int itemid = Integer.valueOf(s[0]);\n+            \n+            String name;\n+            if (itemid < 30000) {\n+                itemid = itemid - ((itemid / 100) % 10) * 100;\n+                \n+                int idx = s[1].lastIndexOf(\" \");\n+                if (idx > -1) {\n+                    name = s[1].substring(0, idx);\n+                } else {\n+                    name = s[1];\n+                }\n+            } else {\n+                itemid = (Integer.valueOf(s[0]) / 10) * 10;\n+                \n+                int idx = s[1].indexOf(\" \");\n+                if (idx > -1) {\n+                    name = s[1].substring(idx + 1);\n+                } else {\n+                    name = s[1];\n+                }\n+            }\n+            \n+            name = name.trim();\n+            \n+            String cname = getCosmeticName(name, (((itemid / 1000) % 10) % 3) != 0);\n+            \n+            /*\n+            if (cosmeticNameIds.containsKey(cname) && Math.abs(cosmeticNameIds.get(cname) - itemid) > 50) {\n+                System.out.println(\"Clashing '\" + name + \"' \" + itemid + \"/\" + cosmeticNameIds.get(cname));\n+            }\n+            */\n+            \n+            cosmeticNameIds.put(cname, itemid);\n+            cosmeticIdNames.put(itemid, name);\n+        }\n+\n+        bufferedReader.close();\n+        fileReader.close();\n+    }\n+    \n+    private static void loadCosmeticNames() throws IOException {\n+        System.out.println(\"Reading cosmetics from handbook ...\");\n+        \n+        loadCosmeticNames(handbookPath + \"/Equip/Face.txt\");\n+        loadCosmeticNames(handbookPath + \"/Equip/Hair.txt\");\n+    }\n+    \n+    private static List<Integer> fetchExpectedCosmetics(String[] cosmeticList, boolean gender) {\n+        List<Integer> list = new LinkedList<>();\n+        \n+        for (String cosmetic : cosmeticList) {\n+            String cname = getCosmeticName(cosmetic, gender);\n+            Integer itemid = cosmeticNameIds.get(cname);\n+            if (itemid != null) {\n+                list.add(itemid);\n+            } else {\n+                missingCosmeticNames.add(cosmetic);\n+            }\n+        }\n+        \n+        return list;\n+    }\n+    \n+    private static void verifyCosmeticExpectedFile(File f) throws IOException {\n+        String townName = f.getParent().substring(f.getParent().lastIndexOf(\"\\\\\") + 1);\n+        String typeCosmetic = f.getName().substring(0, f.getName().indexOf(\".\"));\n+        \n+        fileReader = new InputStreamReader(new FileInputStream(f), \"UTF-8\");\n+        bufferedReader = new BufferedReader(fileReader);\n+\n+        String line;\n+        while((line = bufferedReader.readLine())!=null){\n+            String[] s = line.split(\": \", 2);\n+            String[] t = s[0].split(\"ale \");\n+            \n+            String typeCoupon = t[1];\n+            boolean gender = !t[0].contentEquals(\"M\");\n+            \n+            Integer npcid = getCosmeticNpcid(townName, typeCosmetic, typeCoupon);\n+            if (npcid != null) {\n+                String[] cosmetics = s[1].split(\", \");\n+                List<Integer> cosmeticItemids = fetchExpectedCosmetics(cosmetics, gender);\n+                \n+                Set<Integer> npcCosmetics = scriptCosmetics.get(npcid);\n+                Set<Integer> missingCosmetics = new HashSet<>();\n+                for (Integer itemid : cosmeticItemids) {\n+                    if (!npcCosmetics.contains(itemid)) {\n+                        missingCosmetics.add(itemid);\n+                    }\n+                }\n+                \n+                if (!missingCosmetics.isEmpty()) {\n+                    Pair<Integer, String> key = new Pair<>(npcid, typeCoupon);\n+                    \n+                    Set<Integer> list = missingCosmeticsNpcTypes.get(key);\n+                    if (list == null) {\n+                        missingCosmeticsNpcTypes.put(key, missingCosmetics);\n+                    } else {\n+                        list.addAll(missingCosmetics);\n+                    }\n+                }\n+            }\n+        }\n+        \n+        bufferedReader.close();\n+        fileReader.close();\n+    }\n+    \n+    private static void verifyCosmeticExpectedData() throws IOException {\n+        System.out.println(\"Analyzing cosmetic NPC scripts ...\");\n+        \n+        ArrayList<File> cosmeticRecipes = new ArrayList<>();\n+        listFiles(libPath + \"/care\", cosmeticRecipes);\n+        \n+        for (File f : cosmeticRecipes) {\n+            verifyCosmeticExpectedFile(f);\n+        }\n+    }\n+    \n+    private static List<Pair<Pair<Integer, String>, List<Integer>>> getSortedMapEntries(Map<Pair<Integer, String>, Set<Integer>> map) {\n+        List<Pair<Pair<Integer, String>, List<Integer>>> list = new ArrayList<>(map.size());\n+        for(Entry<Pair<Integer, String>, Set<Integer>> e : map.entrySet()) {\n+            List<Integer> il = new ArrayList<>(2);\n+            for(Integer i : e.getValue()) {\n+                il.add(i);\n+            }\n+            \n+            Collections.sort(il, new Comparator<Integer>() {\n+                @Override\n+                public int compare(Integer o1, Integer o2) {\n+                    return o1 - o2;\n+                }\n+            });\n+            \n+            list.add(new Pair<>(e.getKey(), il));\n+        }\n+        \n+        Collections.sort(list, new Comparator<Pair<Pair<Integer, String>, List<Integer>>>() {\n+            @Override\n+            public int compare(Pair<Pair<Integer, String>, List<Integer>> o1, Pair<Pair<Integer, String>, List<Integer>> o2) {\n+                int cmp = o1.getLeft().getLeft() - o2.getLeft().getLeft();\n+                if (cmp == 0) {\n+                    return o1.getLeft().getRight().compareTo(o2.getLeft().getRight());\n+                } else {\n+                    return cmp;\n+                }\n+            }\n+        });\n+        \n+        return list;\n+    }\n+    \n+    private static void printReportFileHeader() {\n+        printWriter.println(\" # Report File autogenerated from the MapleCashCosmeticsChecker feature by Ronan Lana.\");\n+        printWriter.println(\" # Generated data takes into account several data info from the server source files and the server-side WZ.xmls.\");\n+        printWriter.println();\n+    }\n+    \n+    private static Pair<List<Integer>, List<Integer>> getCosmeticReport(List<Integer> itemids) {\n+        List<Integer> maleItemids = new LinkedList<>();\n+        List<Integer> femaleItemids = new LinkedList<>();\n+        \n+        for (Integer i : itemids) {\n+            if ((((i / 1000) % 10) % 3) == 0) {\n+                maleItemids.add(i);\n+            } else {\n+                femaleItemids.add(i);\n+            }\n+        }\n+        \n+        return new Pair<>(maleItemids, femaleItemids);\n+    }\n+    \n+    private static void reportNpcCosmetics(List<Integer> itemids) {\n+        if (!itemids.isEmpty()) {\n+            String res = \"    \";\n+            for (Integer i : itemids) {\n+                res += (i + \", \");\n+                unusedCosmetics.remove(i);\n+            }\n+            \n+            printWriter.println(res.substring(0, res.length() - 2));\n+        }\n+    }\n+    \n+    private static void reportCosmeticResults() throws IOException {\n+        System.out.println(\"Reporting results ...\");\n+        \n+        printWriter = new PrintWriter(\"lib/result.txt\", \"UTF-8\");\n+        \n+        printReportFileHeader();\n+        \n+        if (!missingCosmeticsNpcTypes.isEmpty()) {\n+            printWriter.println(\"Found \" + missingCosmeticsNpcTypes.size() + \" entries with missing cosmetic entries.\");\n+            \n+            for (Pair<Pair<Integer, String>, List<Integer>> mcn : getSortedMapEntries(missingCosmeticsNpcTypes)) {\n+                printWriter.println(\"  NPC \" + mcn.getLeft());\n+                \n+                Pair<List<Integer>, List<Integer>> genderItemids = getCosmeticReport(mcn.getRight());\n+                reportNpcCosmetics(genderItemids.getLeft());\n+                reportNpcCosmetics(genderItemids.getRight());\n+                printWriter.println();\n+            }\n+        }\n+        \n+        if (!unusedCosmetics.isEmpty()) {\n+            printWriter.println(\"Unused cosmetics: \" + unusedCosmetics.size());\n+            \n+            List<Integer> list = new ArrayList<>(unusedCosmetics);\n+            Collections.sort(list);\n+            \n+            for (Integer i : list) {\n+                printWriter.println(i + \" \" + cosmeticIdNames.get(i));\n+            }\n+            \n+            printWriter.println();\n+        }\n+        \n+        if (!missingCosmeticNames.isEmpty()) {\n+            printWriter.println(\"Missing cosmetic itemids: \" + missingCosmeticNames.size());\n+            \n+            List<String> listString = new ArrayList<>(missingCosmeticNames);\n+            Collections.sort(listString);\n+            \n+            for (String c : listString) {\n+                printWriter.println(c);\n+            }\n+            \n+            printWriter.println();\n+        }\n+\n+        printWriter.close();\n+    }\n+    \n+    public static void main(String[] args) {\n+        try {\n+            loadCosmeticWzData();\n+            processCosmeticScriptData();\n+            \n+            loadCosmeticCouponNpcs();\n+            generateCosmeticPlaceNpcs();\n+            \n+            loadCosmeticNames();\n+            verifyCosmeticExpectedData();\n+            \n+            reportCosmeticResults();\n+            System.out.println(\"Done!\");\n+        } catch (IOException ioe) {\n+            ioe.printStackTrace();\n+        }\n+    }\n+}\n\\ No newline at end of file"}, {"sha": "1cdc70eece72014f601275e8a880793c0b1c7b69", "filename": "tools/MapleCashCosmeticsChecker/src/maplecashcosmeticschecker/Pair.java", "status": "added", "additions": 121, "deletions": 0, "changes": 121, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/src/maplecashcosmeticschecker/Pair.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsChecker/src/maplecashcosmeticschecker/Pair.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsChecker/src/maplecashcosmeticschecker/Pair.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,121 @@\n+/*\n+This file is part of the OdinMS Maple Story Server\n+Copyright (C) 2008 ~ 2010 Patrick Huy <patrick.huy@frz.cc> \n+Matthias Butz <matze@odinms.de>\n+Jan Christian Meyer <vimes@odinms.de>\n+\n+This program is free software: you can redistribute it and/or modify\n+it under the terms of the GNU Affero General Public License version 3\n+as published by the Free Software Foundation. You may not use, modify\n+or distribute this program under any other version of the\n+GNU Affero General Public License.\n+\n+This program is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU Affero General Public License for more details.\n+\n+You should have received a copy of the GNU Affero General Public License\n+along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+package maplecashcosmeticschecker;\n+\n+/**\n+ * Represents a pair of values.\n+ * \n+ * @author Frz\n+ * @since Revision 333\n+ * @version 1.0\n+ * \n+ * @param <E> The type of the left value.\n+ * @param <F> The type of the right value.\n+ */\n+public class Pair<E, F> {\n+\n+    public E left;\n+    public F right;\n+\n+    /**\n+     * Class constructor - pairs two objects together.\n+     *\n+     * @param left The left object.\n+     * @param right The right object.\n+     */\n+    public Pair(E left, F right) {\n+        this.left = left;\n+        this.right = right;\n+    }\n+\n+    /**\n+     * Gets the left value.\n+     *\n+     * @return The left value.\n+     */\n+    public E getLeft() {\n+        return left;\n+    }\n+\n+    /**\n+     * Gets the right value.\n+     *\n+     * @return The right value.\n+     */\n+    public F getRight() {\n+        return right;\n+    }\n+\n+    /**\n+     * Turns the pair into a string.\n+     *\n+     * @return Each value of the pair as a string joined by a colon.\n+     */\n+    @Override\n+    public String toString() {\n+        return left.toString() + \":\" + right.toString();\n+    }\n+\n+    /**\n+     * Gets the hash code of this pair.\n+     */\n+    @Override\n+    public int hashCode() {\n+        final int prime = 31;\n+        int result = 1;\n+        result = prime * result + ((left == null) ? 0 : left.hashCode());\n+        result = prime * result + ((right == null) ? 0 : right.hashCode());\n+        return result;\n+    }\n+\n+    /**\n+     * Checks to see if two pairs are equal.\n+     */\n+    @SuppressWarnings(\"unchecked\")\n+    @Override\n+    public boolean equals(Object obj) {\n+        if (this == obj) {\n+            return true;\n+        }\n+        if (obj == null) {\n+            return false;\n+        }\n+        if (getClass() != obj.getClass()) {\n+            return false;\n+        }\n+        final Pair other = (Pair) obj;\n+        if (left == null) {\n+            if (other.left != null) {\n+                return false;\n+            }\n+        } else if (!left.equals(other.left)) {\n+            return false;\n+        }\n+        if (right == null) {\n+            if (other.right != null) {\n+                return false;\n+            }\n+        } else if (!right.equals(other.right)) {\n+            return false;\n+        }\n+        return true;\n+    }\n+}\n\\ No newline at end of file"}, {"sha": "bcf28617e6b1e42d89a4d18c56d53d52c3fdc5ee", "filename": "tools/MapleCashCosmeticsFetcher/build.xml", "status": "added", "additions": 73, "deletions": 0, "changes": 73, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/build.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/build.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/build.xml?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,73 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!-- You may freely edit this file. See commented blocks below for -->\n+<!-- some examples of how to customize the build. -->\n+<!-- (If you delete it and reopen the project it will be recreated.) -->\n+<!-- By default, only the Clean and Build commands use this build script. -->\n+<!-- Commands such as Run, Debug, and Test only use this build script if -->\n+<!-- the Compile on Save feature is turned off for the project. -->\n+<!-- You can turn off the Compile on Save (or Deploy on Save) setting -->\n+<!-- in the project's Project Properties dialog box.-->\n+<project name=\"MapleCashCosmeticsFetcher\" default=\"default\" basedir=\".\">\n+    <description>Builds, tests, and runs the project MapleCashCosmeticsFetcher.</description>\n+    <import file=\"nbproject/build-impl.xml\"/>\n+    <!--\n+\n+    There exist several targets which are by default empty and which can be \n+    used for execution of your tasks. These targets are usually executed \n+    before and after some main targets. They are: \n+\n+      -pre-init:                 called before initialization of project properties\n+      -post-init:                called after initialization of project properties\n+      -pre-compile:              called before javac compilation\n+      -post-compile:             called after javac compilation\n+      -pre-compile-single:       called before javac compilation of single file\n+      -post-compile-single:      called after javac compilation of single file\n+      -pre-compile-test:         called before javac compilation of JUnit tests\n+      -post-compile-test:        called after javac compilation of JUnit tests\n+      -pre-compile-test-single:  called before javac compilation of single JUnit test\n+      -post-compile-test-single: called after javac compilation of single JUunit test\n+      -pre-jar:                  called before JAR building\n+      -post-jar:                 called after JAR building\n+      -post-clean:               called after cleaning build products\n+\n+    (Targets beginning with '-' are not intended to be called on their own.)\n+\n+    Example of inserting an obfuscator after compilation could look like this:\n+\n+        <target name=\"-post-compile\">\n+            <obfuscate>\n+                <fileset dir=\"${build.classes.dir}\"/>\n+            </obfuscate>\n+        </target>\n+\n+    For list of available properties check the imported \n+    nbproject/build-impl.xml file. \n+\n+\n+    Another way to customize the build is by overriding existing main targets.\n+    The targets of interest are: \n+\n+      -init-macrodef-javac:     defines macro for javac compilation\n+      -init-macrodef-junit:     defines macro for junit execution\n+      -init-macrodef-debug:     defines macro for class debugging\n+      -init-macrodef-java:      defines macro for class execution\n+      -do-jar:                  JAR building\n+      run:                      execution of project \n+      -javadoc-build:           Javadoc generation\n+      test-report:              JUnit report generation\n+\n+    An example of overriding the target for project execution could look like this:\n+\n+        <target name=\"run\" depends=\"MapleCashCosmeticsFetcher-impl.jar\">\n+            <exec dir=\"bin\" executable=\"launcher.exe\">\n+                <arg file=\"${dist.jar}\"/>\n+            </exec>\n+        </target>\n+\n+    Notice that the overridden target depends on the jar target and not only on \n+    the compile target as the regular run target does. Again, for a list of available \n+    properties which you can use, check the target you are overriding in the\n+    nbproject/build-impl.xml file. \n+\n+    -->\n+</project>"}, {"sha": "328e8e5bc3b7f1f7bad2bc0751a933e00c801983", "filename": "tools/MapleCashCosmeticsFetcher/manifest.mf", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/manifest.mf", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/manifest.mf", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/manifest.mf?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,3 @@\n+Manifest-Version: 1.0\n+X-COMMENT: Main-Class will be added automatically by build\n+"}, {"sha": "484034a1e7f49d8d8787f36fe00d89c9fddb1df3", "filename": "tools/MapleCashCosmeticsFetcher/src/maplecashcosmeticsfetcher/MapleCashCosmeticsFetcher.java", "status": "added", "additions": 145, "deletions": 0, "changes": 145, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/maplecashcosmeticsfetcher/MapleCashCosmeticsFetcher.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/maplecashcosmeticsfetcher/MapleCashCosmeticsFetcher.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/maplecashcosmeticsfetcher/MapleCashCosmeticsFetcher.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,145 @@\n+/*\n+    This file is part of the HeavenMS MapleStory Server\n+    Copyleft (L) 2016 - 2018 RonanLana\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package maplecashcosmeticsfetcher;\n+\n+import java.io.BufferedReader;\n+import java.io.File;\n+import java.io.FileInputStream;\n+import java.io.InputStreamReader;\n+import java.util.HashMap;\n+import java.util.LinkedList;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Map.Entry;\n+import java.util.ArrayList;\n+\n+import tools.MapleItemInformationProvider;\n+\n+/**\n+ *\n+ * @author RonanLana\n+ \n+  This application gathers info from the WZ.XML files, fetching all cosmetic coupons and tickets from there, and then\n+  searches the NPC script files, identifying the stylish NPCs that supposedly uses them. It will reports all NPCs that\n+  uses up a card, as well as report those currently unused.\n+ \n+  Estimated parse time: 10 seconds\n+\n+ */\n+public class MapleCashCosmeticsFetcher {\n+    static MapleItemInformationProvider ii;\n+    \n+    static String wzPath = \"../../wz\";\n+    static String scriptPath = \"../../scripts\";\n+    static InputStreamReader fileReader = null;\n+    static BufferedReader bufferedReader = null;\n+    \n+    static Map<Integer, String> scriptEntries = new HashMap<>(500);\n+\n+    private static void listFiles(String directoryName, ArrayList<File> files) {\n+        File directory = new File(directoryName);\n+\n+        // get all the files from a directory\n+        File[] fList = directory.listFiles();\n+        for (File file : fList) {\n+            if (file.isFile()) {\n+                files.add(file);\n+            } else if (file.isDirectory()) {\n+                listFiles(file.getAbsolutePath(), files);\n+            }\n+        }\n+    }\n+    \n+    private static int getNpcIdFromFilename(String name) {\n+        try {\n+            return Integer.valueOf(name.substring(0, name.indexOf('.')));\n+        } catch(Exception e) {\n+            return -1;\n+        }\n+    }\n+    \n+    private static void loadScripts() throws Exception {\n+        ArrayList<File> files = new ArrayList<>();\n+        listFiles(scriptPath + \"/npc\", files);\n+\n+        for(File f : files) {\n+            Integer npcid = getNpcIdFromFilename(f.getName());\n+            \n+            //System.out.println(\"Parsing \" + f.getAbsolutePath());\n+            fileReader = new InputStreamReader(new FileInputStream(f), \"UTF-8\");\n+            bufferedReader = new BufferedReader(fileReader);\n+\n+            StringBuilder stringBuffer = new StringBuilder();\n+            String line;\n+\n+            while((line = bufferedReader.readLine())!=null){\n+                stringBuffer.append(line).append(\"\\n\");\n+            }\n+            \n+            scriptEntries.put(npcid, stringBuffer.toString());\n+\n+            bufferedReader.close();\n+            fileReader.close();\n+        }\n+    }\n+    \n+    private static List<Integer> findItemidOnScript(int itemid) {\n+        List<Integer> files = new LinkedList<>();\n+        String t = String.valueOf(itemid);\n+        \n+        for (Entry<Integer, String> text : scriptEntries.entrySet()) {\n+            if (text.getValue().contains(t)) {\n+                files.add(text.getKey());\n+            }\n+        }\n+        \n+        return files;\n+    }\n+    \n+    private static void reportCosmeticCouponResults() {\n+        for (int itemid = 5150000; itemid <= 5154000; itemid++) {\n+            String itemName = ii.getName(itemid);\n+\n+            if (itemName != null) {\n+                List<Integer> npcids = findItemidOnScript(itemid);\n+\n+                if (!npcids.isEmpty()) {\n+                    System.out.println(\"Itemid \" + itemid + \" found on \" + npcids + \". (\" + itemName + \")\");\n+                } else {\n+                    System.out.println(\"NOT FOUND ITEMID \" + itemid + \" (\" + itemName + \")\");\n+                }\n+            }\n+        }\n+    }\n+    \n+    public static void main(String[] args) {\n+        System.setProperty(\"wzpath\", wzPath);\n+        ii = MapleItemInformationProvider.getInstance();\n+        \n+        try {\n+            loadScripts();\n+            System.out.println(\"Loaded scripts\");\n+            \n+            reportCosmeticCouponResults();\n+        } catch(Exception e) {\n+            e.printStackTrace();\n+        }\n+    }\n+}\n\\ No newline at end of file"}, {"sha": "10ab68219636d6faf90029f5bd485ff3a6648c56", "filename": "tools/MapleCashCosmeticsFetcher/src/provider/MapleCanvas.java", "status": "added", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/MapleCanvas.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/MapleCanvas.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/provider/MapleCanvas.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,30 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package provider;\n+\n+import java.awt.image.BufferedImage;\n+\n+public interface MapleCanvas {\n+    int getHeight();\n+    int getWidth();\n+    BufferedImage getImage();\n+}"}, {"sha": "4d90a9380442c23c911757c8e49cebc2141cf869", "filename": "tools/MapleCashCosmeticsFetcher/src/provider/MapleData.java", "status": "added", "additions": 34, "deletions": 0, "changes": 34, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/MapleData.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/MapleData.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/provider/MapleData.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,34 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package provider;\n+\n+import java.util.List;\n+import provider.wz.MapleDataType;\n+\n+public interface MapleData extends MapleDataEntity, Iterable<MapleData> {\n+    @Override\n+    public String getName();\n+    public MapleDataType getType();\n+    public List<MapleData> getChildren();\n+    public MapleData getChildByPath(String path);\n+    public Object getData();\n+}"}, {"sha": "cb043e0c945ea92f8e3aaa122e5b00a63c9588c5", "filename": "tools/MapleCashCosmeticsFetcher/src/provider/MapleDataDirectoryEntry.java", "status": "added", "additions": 34, "deletions": 0, "changes": 34, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/MapleDataDirectoryEntry.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/MapleDataDirectoryEntry.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/provider/MapleDataDirectoryEntry.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,34 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package provider;\n+\n+import java.util.List;\n+\n+/**\n+ *\n+ * @author Matze\n+ */\n+public interface MapleDataDirectoryEntry extends MapleDataEntry {\n+    public List<MapleDataDirectoryEntry> getSubdirectories();\n+    public List<MapleDataFileEntry> getFiles();\n+    public MapleDataEntry getEntry(String name);\n+}"}, {"sha": "03ff77649c8e5acc43bd9dc417bd6a5a5bde9f45", "filename": "tools/MapleCashCosmeticsFetcher/src/provider/MapleDataEntity.java", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/MapleDataEntity.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/MapleDataEntity.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/provider/MapleDataEntity.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,31 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package provider;\n+\n+/**\n+ *\n+ * @author Matze\n+ */\n+public interface MapleDataEntity {\n+    public String getName();\n+    public MapleDataEntity getParent();\n+}"}, {"sha": "62db6d0abeac3165aaa502d4098c15ce9598acab", "filename": "tools/MapleCashCosmeticsFetcher/src/provider/MapleDataEntry.java", "status": "added", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/MapleDataEntry.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/MapleDataEntry.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/provider/MapleDataEntry.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,33 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package provider;\n+\n+/**\n+ *\n+ * @author Matze\n+ */\n+public interface MapleDataEntry extends MapleDataEntity {\n+    public String getName();\n+    public int getSize();\n+    public int getChecksum();\n+    public int getOffset();\n+}"}, {"sha": "902130a612aeb60746ac4fd119b4f88376947472", "filename": "tools/MapleCashCosmeticsFetcher/src/provider/MapleDataFileEntry.java", "status": "added", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/MapleDataFileEntry.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/MapleDataFileEntry.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/provider/MapleDataFileEntry.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,30 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package provider;\n+\n+/**\n+ *\n+ * @author Matze\n+ */\n+public interface MapleDataFileEntry extends MapleDataEntry {\n+    public void setOffset(int offset);\n+}"}, {"sha": "5237b7ac37e4655b807bc6d47ad4bd10a360cc49", "filename": "tools/MapleCashCosmeticsFetcher/src/provider/MapleDataProvider.java", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/MapleDataProvider.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/MapleDataProvider.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/provider/MapleDataProvider.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,27 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package provider;\n+\n+public interface MapleDataProvider {\n+    MapleData getData(String path);\n+    MapleDataDirectoryEntry getRoot();\n+}"}, {"sha": "14753d440683c1c13e8012d993cfbb85b3b76e8b", "filename": "tools/MapleCashCosmeticsFetcher/src/provider/MapleDataProviderFactory.java", "status": "added", "additions": 55, "deletions": 0, "changes": 55, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/MapleDataProviderFactory.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/MapleDataProviderFactory.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/provider/MapleDataProviderFactory.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,55 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package provider;\n+\n+import java.io.File;\n+import java.io.IOException;\n+import provider.wz.WZFile;\n+import provider.wz.XMLWZFile;\n+\n+public class MapleDataProviderFactory {\n+    private final static String wzPath = System.getProperty(\"wzpath\");\n+\n+    private static MapleDataProvider getWZ(File in, boolean provideImages) {\n+        if (in.getName().toLowerCase().endsWith(\"wz\") && !in.isDirectory()) {\n+            try {\n+                return new WZFile(in, provideImages);\n+            } catch (IOException e) {\n+                throw new RuntimeException(\"Loading WZ File failed\", e);\n+            }\n+        } else {\n+            return new XMLWZFile(in);\n+        }\n+    }\n+\n+    public static MapleDataProvider getDataProvider(File in) {\n+        return getWZ(in, false);\n+    }\n+\n+    public static MapleDataProvider getImageProvidingDataProvider(File in) {\n+        return getWZ(in, true);\n+    }\n+\n+    public static File fileInWZPath(String filename) {\n+        return new File(wzPath, filename);\n+    }\n+}\n\\ No newline at end of file"}, {"sha": "25f4c7f81749a8145359d27437f2d7075c5786c3", "filename": "tools/MapleCashCosmeticsFetcher/src/provider/MapleDataTool.java", "status": "added", "additions": 145, "deletions": 0, "changes": 145, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/MapleDataTool.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/MapleDataTool.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/provider/MapleDataTool.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,145 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package provider;\n+\n+import java.awt.Point;\n+import java.awt.image.BufferedImage;\n+import provider.wz.MapleDataType;\n+\n+public class MapleDataTool {\n+    public static String getString(MapleData data) {\n+        return ((String) data.getData());\n+    }\n+\n+    public static String getString(MapleData data, String def) {\n+        if (data == null || data.getData() == null) {\n+            return def;\n+        } else {\n+            return ((String) data.getData());\n+        }\n+    }\n+\n+    public static String getString(String path, MapleData data) {\n+        return getString(data.getChildByPath(path));\n+    }\n+\n+    public static String getString(String path, MapleData data, String def) {\n+        return getString(data.getChildByPath(path), def);\n+    }\n+\n+    public static double getDouble(MapleData data) {\n+        return ((Double) data.getData()).doubleValue();\n+    }\n+\n+    public static float getFloat(MapleData data) {\n+        return ((Float) data.getData()).floatValue();\n+    }\n+\n+    public static int getInt(MapleData data) {\n+        if (data == null || data.getData() == null) {\n+            return 0;// DEF?\n+        }\n+        return ((Integer) data.getData()).intValue();\n+    }\n+\n+    public static int getInt(String path, MapleData data) {\n+        return getInt(data.getChildByPath(path));\n+    }\n+\n+    public static int getIntConvert(MapleData data) {\n+        if (data.getType() == MapleDataType.STRING) {\n+            return Integer.parseInt(getString(data));\n+        } else {\n+            return getInt(data);\n+        }\n+    }\n+\n+    public static int getIntConvert(String path, MapleData data) {\n+        MapleData d = data.getChildByPath(path);\n+        if (d.getType() == MapleDataType.STRING) {\n+            return Integer.parseInt(getString(d));\n+        } else {\n+            return getInt(d);\n+        }\n+    }\n+\n+    public static int getInt(MapleData data, int def) {\n+        if (data == null || data.getData() == null) {\n+            return  def;\n+        } else if (data.getType() == MapleDataType.STRING) {\n+            return Integer.parseInt(getString(data));\n+        } else {\n+            return ((Integer) data.getData()).intValue();\n+        }\n+    }\n+\n+    public static int getInt(String path, MapleData data, int def) {\n+        return getInt(data.getChildByPath(path), def);\n+    }\n+\n+    public static int getIntConvert(String path, MapleData data, int def) {\n+        MapleData d = data.getChildByPath(path);\n+        if (d == null) {\n+            return def;\n+        }\n+        if (d.getType() == MapleDataType.STRING) {\n+            try {\n+                return Integer.parseInt(getString(d));\n+            } catch (NumberFormatException nfe) {\n+                nfe.printStackTrace();\n+                return def;\n+            }\n+        } else {\n+            return getInt(d, def);\n+        }\n+    }\n+\n+    public static BufferedImage getImage(MapleData data) {\n+        return ((MapleCanvas) data.getData()).getImage();\n+    }\n+\n+    public static Point getPoint(MapleData data) {\n+        return ((Point) data.getData());\n+    }\n+\n+    public static Point getPoint(String path, MapleData data) {\n+        return getPoint(data.getChildByPath(path));\n+    }\n+\n+    public static Point getPoint(String path, MapleData data, Point def) {\n+        final MapleData pointData = data.getChildByPath(path);\n+        if (pointData == null) {\n+            return def;\n+        }\n+        return getPoint(pointData);\n+    }\n+\n+    public static String getFullDataPath(MapleData data) {\n+        String path = \"\";\n+        MapleDataEntity myData = data;\n+        while (myData != null) {\n+            path = myData.getName() + \"/\" + path;\n+            myData = myData.getParent();\n+        }\n+        return path.substring(0, path.length() - 1);\n+    }\n+}"}, {"sha": "21736c2c162063c141117bff66deb9f830b4bc06", "filename": "tools/MapleCashCosmeticsFetcher/src/provider/wz/FileStoredPngMapleCanvas.java", "status": "added", "additions": 70, "deletions": 0, "changes": 70, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/wz/FileStoredPngMapleCanvas.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/wz/FileStoredPngMapleCanvas.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/provider/wz/FileStoredPngMapleCanvas.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,70 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package provider.wz;\n+\n+import java.awt.image.BufferedImage;\n+import java.io.File;\n+import java.io.IOException;\n+import javax.imageio.ImageIO;\n+import provider.MapleCanvas;\n+\n+public class FileStoredPngMapleCanvas implements MapleCanvas {\n+    private File file;\n+    private int width;\n+    private int height;\n+    private BufferedImage image;\n+\n+    public FileStoredPngMapleCanvas(int width, int height, File fileIn) {\n+        this.width = width;\n+        this.height = height;\n+        this.file = fileIn;\n+    }\n+\n+    @Override\n+    public int getHeight() {\n+        return height;\n+    }\n+\n+    @Override\n+    public int getWidth() {\n+        return width;\n+    }\n+\n+    @Override\n+    public BufferedImage getImage() {\n+        loadImageIfNecessary();\n+        return image;\n+    }\n+\n+    private void loadImageIfNecessary() {\n+        if (image == null) {\n+            try {\n+                image = ImageIO.read(file);\n+                // replace the dimensions loaded from the wz by the REAL dimensions from the image - should be equal tho\n+                width = image.getWidth();\n+                height = image.getHeight();\n+            } catch (IOException e) {\n+                throw new RuntimeException(e);\n+            }\n+        }\n+    }\n+}"}, {"sha": "8add2ccb36fcfa8f1a683da0562601e9f2c0afda", "filename": "tools/MapleCashCosmeticsFetcher/src/provider/wz/ImgMapleSound.java", "status": "added", "additions": 39, "deletions": 0, "changes": 39, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/wz/ImgMapleSound.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/wz/ImgMapleSound.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/provider/wz/ImgMapleSound.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,39 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package provider.wz;\n+\n+public class ImgMapleSound {\n+    private int dataLength, offset;\n+\n+    public ImgMapleSound(int dataLength, int offset) {\n+        this.dataLength = dataLength;\n+        this.offset = offset;\n+    }\n+\n+    public int getDataLength() {\n+        return dataLength;\n+    }\n+\n+    public int getOffset() {\n+        return offset;\n+    }\n+}"}, {"sha": "1672a08c598cb21a441ea89664de97fdb9b9c90b", "filename": "tools/MapleCashCosmeticsFetcher/src/provider/wz/ListWZFile.java", "status": "added", "additions": 86, "deletions": 0, "changes": 86, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/wz/ListWZFile.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/wz/ListWZFile.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/provider/wz/ListWZFile.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,86 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package provider.wz;\n+\n+import java.io.BufferedInputStream;\n+import java.io.File;\n+import java.io.FileInputStream;\n+import java.io.FileNotFoundException;\n+import java.util.ArrayList;\n+import java.util.Collection;\n+import java.util.Collections;\n+import java.util.HashSet;\n+import java.util.List;\n+import provider.MapleDataProviderFactory;\n+import tools.data.input.GenericLittleEndianAccessor;\n+import tools.data.input.InputStreamByteStream;\n+import tools.data.input.LittleEndianAccessor;\n+\n+public class ListWZFile {\n+    private LittleEndianAccessor lea;\n+    private List<String> entries = new ArrayList<String>();\n+    private static Collection<String> modernImgs = new HashSet<String>();\n+\n+    public static byte[] xorBytes(byte[] a, byte[] b) {\n+        byte[] wusched = new byte[a.length];\n+        for (int i = 0; i < a.length; i++) {\n+            wusched[i] = (byte) (a[i] ^ b[i]);\n+        }\n+        return wusched;\n+    }\n+\n+    public ListWZFile(File listwz) throws FileNotFoundException {\n+        lea = new GenericLittleEndianAccessor(new InputStreamByteStream(new BufferedInputStream(new FileInputStream(listwz))));\n+        while (lea.available() > 0) {\n+            int l = lea.readInt() * 2;\n+            byte[] chunk = new byte[l];\n+            for (int i = 0; i < chunk.length; i++) {\n+                chunk[i] = lea.readByte();\n+            }\n+            lea.readChar();\n+            final String value = String.valueOf(WZTool.readListString(chunk));\n+            entries.add(value);\n+        }\n+        entries = Collections.unmodifiableList(entries);\n+    }\n+\n+    public List<String> getEntries() {\n+        return entries;\n+    }\n+\n+    public static void init() {\n+        final String listWz = System.getProperty(\"listwz\");\n+        if (listWz != null) {\n+            ListWZFile listwz;\n+            try {\n+                listwz = new ListWZFile(MapleDataProviderFactory.fileInWZPath(\"List.wz\"));\n+                modernImgs = new HashSet<String>(listwz.getEntries());\n+            } catch (FileNotFoundException e) {\n+                e.printStackTrace();\n+            }\n+        }\n+    }\n+\n+    public static boolean isModernImgFile(String path) {\n+        return modernImgs.contains(path);\n+    }\n+}"}, {"sha": "e074d57d14a16e7ccc38449c8f9b10d9176215eb", "filename": "tools/MapleCashCosmeticsFetcher/src/provider/wz/MapleDataType.java", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/wz/MapleDataType.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/wz/MapleDataType.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/provider/wz/MapleDataType.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,26 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package provider.wz;\n+\n+public enum MapleDataType {\n+    NONE, IMG_0x00, SHORT, INT, FLOAT, DOUBLE, STRING, EXTENDED, PROPERTY, CANVAS, VECTOR, CONVEX, SOUND, UOL, UNKNOWN_TYPE, UNKNOWN_EXTENDED_TYPE;\n+}\n\\ No newline at end of file"}, {"sha": "97c2303804d63dbbfc36bb745fb675fff26b61a3", "filename": "tools/MapleCashCosmeticsFetcher/src/provider/wz/PNGMapleCanvas.java", "status": "added", "additions": 151, "deletions": 0, "changes": 151, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/wz/PNGMapleCanvas.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/wz/PNGMapleCanvas.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/provider/wz/PNGMapleCanvas.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,151 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package provider.wz;\n+\n+import java.awt.Point;\n+import java.awt.image.BufferedImage;\n+import java.awt.image.DataBuffer;\n+import java.awt.image.DataBufferByte;\n+import java.awt.image.PixelInterleavedSampleModel;\n+import java.awt.image.Raster;\n+import java.awt.image.SampleModel;\n+import java.awt.image.WritableRaster;\n+import java.util.zip.DataFormatException;\n+import java.util.zip.Inflater;\n+import provider.MapleCanvas;\n+\n+public class PNGMapleCanvas implements MapleCanvas {\n+    private static final int[] ZAHLEN = new int[]{2, 1, 0, 3};\n+    private int height;\n+    private int width;\n+    private int dataLength;\n+    private int format;\n+    private byte[] data;\n+\n+    public PNGMapleCanvas(int width, int height, int dataLength, int format, byte[] data) {\n+        super();\n+        this.height = height;\n+        this.width = width;\n+        this.dataLength = dataLength;\n+        this.format = format;\n+        this.data = data;\n+    }\n+\n+    public int getHeight() {\n+        return height;\n+    }\n+\n+    public int getWidth() {\n+        return width;\n+    }\n+\n+    public int getFormat() {\n+        return format;\n+    }\n+\n+    private byte[] getData() {\n+        return data;\n+    }\n+\n+    @Override\n+    public BufferedImage getImage() {\n+        int sizeUncompressed = 0;\n+        int size8888 = 0;\n+        int maxWriteBuf = 2;\n+        int maxHeight = 3;\n+        byte[] writeBuf = new byte[maxWriteBuf];\n+        @SuppressWarnings (\"unused\")\n+        byte[] rowPointers = new byte[maxHeight];\n+        switch (getFormat()) {\n+            case 1:\n+            case 513:\n+                sizeUncompressed = getHeight() * getWidth() * 4;\n+                break;\n+            case 2:\n+                sizeUncompressed = getHeight() * getWidth() * 8;\n+                break;\n+            case 517:\n+                sizeUncompressed = getHeight() * getWidth() / 128;\n+                break;\n+        }\n+        size8888 = getHeight() * getWidth() * 8;\n+        if (size8888 > maxWriteBuf) {\n+            maxWriteBuf = size8888;\n+            writeBuf = new byte[maxWriteBuf];\n+        }\n+        if (getHeight() > maxHeight) {\n+            maxHeight = getHeight();\n+            rowPointers = new byte[maxHeight];\n+        }\n+        Inflater dec = new Inflater();\n+        dec.setInput(getData(), 0, dataLength);\n+        int declen = 0;\n+        byte[] uc = new byte[sizeUncompressed];\n+        try {\n+            declen = dec.inflate(uc);\n+        } catch (DataFormatException ex) {\n+            throw new RuntimeException(\"zlib fucks\", ex);\n+        }\n+        dec.end();\n+        if (getFormat() == 1) {\n+            for (int i = 0; i < sizeUncompressed; i++) {\n+                byte low = (byte) (uc[i] & 0x0F);\n+                byte high = (byte) (uc[i] & 0xF0);\n+                writeBuf[(i << 1)] = (byte) (((low << 4) | low) & 0xFF);\n+                writeBuf[(i << 1) + 1] = (byte) (high | ((high >>> 4) & 0xF));\n+            }\n+        } else if (getFormat() == 2) {\n+            writeBuf = uc;\n+        } else if (getFormat() == 513) {\n+            for (int i = 0; i < declen; i += 2) {\n+                byte bBits = (byte) ((uc[i] & 0x1F) << 3);\n+                byte gBits = (byte) (((uc[i + 1] & 0x07) << 5) | ((uc[i] & 0xE0) >> 3));\n+                byte rBits = (byte) (uc[i + 1] & 0xF8);\n+                writeBuf[(i << 1)] = (byte) (bBits | (bBits >> 5));\n+                writeBuf[(i << 1) + 1] = (byte) (gBits | (gBits >> 6));\n+                writeBuf[(i << 1) + 2] = (byte) (rBits | (rBits >> 5));\n+                writeBuf[(i << 1) + 3] = (byte) 0xFF;\n+            }\n+        } else if (getFormat() == 517) {\n+            byte b = 0x00;\n+            int pixelIndex = 0;\n+            for (int i = 0; i < declen; i++) {\n+                for (int j = 0; j < 8; j++) {\n+                    b = (byte) (((uc[i] & (0x01 << (7 - j))) >> (7 - j)) * 255);\n+                    for (int k = 0; k < 16; k++) {\n+                        pixelIndex = (i << 9) + (j << 6) + k * 2;\n+                        writeBuf[pixelIndex] = b;\n+                        writeBuf[pixelIndex + 1] = b;\n+                        writeBuf[pixelIndex + 2] = b;\n+                        writeBuf[pixelIndex + 3] = (byte) 0xFF;\n+                    }\n+                }\n+            }\n+        }\n+        DataBufferByte imgData = new DataBufferByte(writeBuf, sizeUncompressed);\n+        SampleModel sm = new PixelInterleavedSampleModel(DataBuffer.TYPE_BYTE, getWidth(), getHeight(), 4, getWidth() * 4, ZAHLEN);\n+        WritableRaster imgRaster = Raster.createWritableRaster(sm, imgData, new Point(0, 0));\n+        BufferedImage aa = new BufferedImage(getWidth(), getHeight(), BufferedImage.TYPE_INT_ARGB);\n+        aa.setData(imgRaster);\n+        return aa;\n+    }\n+}"}, {"sha": "d24b8cb2b992c82b360366af581c08599323781e", "filename": "tools/MapleCashCosmeticsFetcher/src/provider/wz/WZDirectoryEntry.java", "status": "added", "additions": 68, "deletions": 0, "changes": 68, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/wz/WZDirectoryEntry.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/wz/WZDirectoryEntry.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/provider/wz/WZDirectoryEntry.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,68 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package provider.wz;\n+\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+import provider.MapleDataDirectoryEntry;\n+import provider.MapleDataEntity;\n+import provider.MapleDataEntry;\n+import provider.MapleDataFileEntry;\n+\n+public class WZDirectoryEntry extends WZEntry implements MapleDataDirectoryEntry {\n+    private List<MapleDataDirectoryEntry> subdirs = new ArrayList<MapleDataDirectoryEntry>();\n+    private List<MapleDataFileEntry> files = new ArrayList<MapleDataFileEntry>();\n+    private Map<String, MapleDataEntry> entries = new HashMap<String, MapleDataEntry>();\n+\n+    public WZDirectoryEntry(String name, int size, int checksum, MapleDataEntity parent) {\n+        super(name, size, checksum, parent);\n+    }\n+\n+    public WZDirectoryEntry() {\n+        super(null, 0, 0, null);\n+    }\n+\n+    public void addDirectory(MapleDataDirectoryEntry dir) {\n+        subdirs.add(dir);\n+        entries.put(dir.getName(), dir);\n+    }\n+\n+    public void addFile(MapleDataFileEntry fileEntry) {\n+        files.add(fileEntry);\n+        entries.put(fileEntry.getName(), fileEntry);\n+    }\n+\n+    public List<MapleDataDirectoryEntry> getSubdirectories() {\n+        return Collections.unmodifiableList(subdirs);\n+    }\n+\n+    public List<MapleDataFileEntry> getFiles() {\n+        return Collections.unmodifiableList(files);\n+    }\n+\n+    public MapleDataEntry getEntry(String name) {\n+        return entries.get(name);\n+    }\n+}"}, {"sha": "1e921b208220663ddd15966a89f32f5cfbb4a8a2", "filename": "tools/MapleCashCosmeticsFetcher/src/provider/wz/WZEntry.java", "status": "added", "additions": 61, "deletions": 0, "changes": 61, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/wz/WZEntry.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/wz/WZEntry.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/provider/wz/WZEntry.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,61 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package provider.wz;\n+\n+import provider.MapleDataEntity;\n+import provider.MapleDataEntry;\n+\n+public class WZEntry implements MapleDataEntry {\n+    private String name;\n+    private int size;\n+    private int checksum;\n+    private int offset;\n+    private MapleDataEntity parent;\n+\n+    public WZEntry(String name, int size, int checksum, MapleDataEntity parent) {\n+        super();\n+        this.name = name;\n+        this.size = size;\n+        this.checksum = checksum;\n+        this.parent = parent;\n+    }\n+\n+    public String getName() {\n+        return name;\n+    }\n+\n+    public int getSize() {\n+        return size;\n+    }\n+\n+    public int getChecksum() {\n+        return checksum;\n+    }\n+\n+    public int getOffset() {\n+        return offset;\n+    }\n+\n+    public MapleDataEntity getParent() {\n+        return parent;\n+    }\n+}"}, {"sha": "c6c0abf5377cf42dbf23295649d0b321fb497913", "filename": "tools/MapleCashCosmeticsFetcher/src/provider/wz/WZFile.java", "status": "added", "additions": 154, "deletions": 0, "changes": 154, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/wz/WZFile.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/wz/WZFile.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/provider/wz/WZFile.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,154 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package provider.wz;\n+\n+import java.io.BufferedInputStream;\n+import java.io.File;\n+import java.io.FileInputStream;\n+import java.io.IOException;\n+import java.io.RandomAccessFile;\n+import provider.MapleData;\n+import provider.MapleDataDirectoryEntry;\n+import provider.MapleDataFileEntry;\n+import provider.MapleDataProvider;\n+import tools.data.input.GenericLittleEndianAccessor;\n+import tools.data.input.GenericSeekableLittleEndianAccessor;\n+import tools.data.input.InputStreamByteStream;\n+import tools.data.input.LittleEndianAccessor;\n+import tools.data.input.RandomAccessByteStream;\n+import tools.data.input.SeekableLittleEndianAccessor;\n+\n+public class WZFile implements MapleDataProvider {\n+    static {\n+        ListWZFile.init();\n+    }\n+    private File wzfile;\n+    private LittleEndianAccessor lea;\n+    private SeekableLittleEndianAccessor slea;\n+    private int headerSize;\n+    private WZDirectoryEntry root;\n+    private boolean provideImages;\n+    private int cOffset;\n+\n+    public WZFile(File wzfile, boolean provideImages) throws IOException {\n+        this.wzfile = wzfile;\n+        lea = new GenericLittleEndianAccessor(new InputStreamByteStream(new BufferedInputStream(new FileInputStream(wzfile))));\n+        RandomAccessFile raf = new RandomAccessFile(wzfile, \"r\");\n+        slea = new GenericSeekableLittleEndianAccessor(new RandomAccessByteStream(raf));\n+        root = new WZDirectoryEntry(wzfile.getName(), 0, 0, null);\n+        this.provideImages = provideImages;\n+        load();\n+    }\n+\n+    private void load() throws IOException {\n+        lea.readAsciiString(4);\n+        lea.readInt();\n+        lea.readInt();\n+        headerSize = lea.readInt();\n+        lea.readNullTerminatedAsciiString();\n+        lea.readShort();\n+        parseDirectory(root);\n+        cOffset = (int) lea.getBytesRead();\n+        getOffsets(root);\n+    }\n+\n+    private void getOffsets(MapleDataDirectoryEntry dir) {\n+        for (MapleDataFileEntry file : dir.getFiles()) {\n+            file.setOffset(cOffset);\n+            cOffset += file.getSize();\n+        }\n+        for (MapleDataDirectoryEntry sdir : dir.getSubdirectories()) {\n+            getOffsets(sdir);\n+        }\n+    }\n+\n+    private void parseDirectory(WZDirectoryEntry dir) {\n+        int entries = WZTool.readValue(lea);\n+        for (int i = 0; i < entries; i++) {\n+            byte marker = lea.readByte();\n+            String name = null;\n+            int size, checksum;\n+            switch (marker) {\n+                case 0x02:\n+                    name = WZTool.readDecodedStringAtOffsetAndReset(slea, lea.readInt() + this.headerSize + 1);\n+                    size = WZTool.readValue(lea);\n+                    checksum = WZTool.readValue(lea);\n+                    lea.readInt(); //dummy int\n+                    dir.addFile(new WZFileEntry(name, size, checksum, dir));\n+                    break;\n+                case 0x03:\n+                case 0x04:\n+                    name = WZTool.readDecodedString(lea);\n+                    size = WZTool.readValue(lea);\n+                    checksum = WZTool.readValue(lea);\n+                    lea.readInt(); //dummy int\n+                    if (marker == 3) {\n+                        dir.addDirectory(new WZDirectoryEntry(name, size, checksum, dir));\n+                    } else {\n+                        dir.addFile(new WZFileEntry(name, size, checksum, dir));\n+                    }\n+                    break;\n+                default:\n+            }\n+        }\n+        for (MapleDataDirectoryEntry idir : dir.getSubdirectories()) {\n+            parseDirectory((WZDirectoryEntry) idir);\n+        }\n+    }\n+\n+    public WZIMGFile getImgFile(String path) throws IOException {\n+        String segments[] = path.split(\"/\");\n+        WZDirectoryEntry dir = root;\n+        for (int x = 0; x < segments.length - 1; x++) {\n+            dir = (WZDirectoryEntry) dir.getEntry(segments[x]);\n+            if (dir == null) {\n+                return null;\n+            }\n+        }\n+        WZFileEntry entry = (WZFileEntry) dir.getEntry(segments[segments.length - 1]);\n+        if (entry == null) {\n+            return null;\n+        }\n+        String fullPath = wzfile.getName().substring(0, wzfile.getName().length() - 3).toLowerCase() + \"/\" + path;\n+        return new WZIMGFile(this.wzfile, entry, provideImages, ListWZFile.isModernImgFile(fullPath));\n+    }\n+\n+    @Override\n+    public synchronized MapleData getData(String path) {\n+        try {\n+            WZIMGFile imgFile = getImgFile(path);\n+            if (imgFile == null) {\n+                return null;\n+            }\n+            MapleData ret = imgFile.getRoot();\n+            return ret;\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+        }\n+        return null;\n+    }\n+\n+    @Override\n+    public MapleDataDirectoryEntry getRoot() {\n+        return root;\n+    }\n+}"}, {"sha": "792371d9cf3ef340e9c895ec2143cf2918a92952", "filename": "tools/MapleCashCosmeticsFetcher/src/provider/wz/WZFileEntry.java", "status": "added", "additions": 42, "deletions": 0, "changes": 42, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/wz/WZFileEntry.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/wz/WZFileEntry.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/provider/wz/WZFileEntry.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,42 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package provider.wz;\n+\n+import provider.MapleDataEntity;\n+import provider.MapleDataFileEntry;\n+\n+public class WZFileEntry extends WZEntry implements MapleDataFileEntry {\n+    private int offset;\n+\n+    public WZFileEntry(String name, int size, int checksum, MapleDataEntity parent) {\n+        super(name, size, checksum, parent);\n+    }\n+\n+    @Override\n+    public int getOffset() {\n+        return offset;\n+    }\n+\n+    public void setOffset(int offset) {\n+        this.offset = offset;\n+    }\n+}"}, {"sha": "385d78518357407cf131b0197f29c175b9815c9c", "filename": "tools/MapleCashCosmeticsFetcher/src/provider/wz/WZIMGEntry.java", "status": "added", "additions": 118, "deletions": 0, "changes": 118, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/wz/WZIMGEntry.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/wz/WZIMGEntry.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/provider/wz/WZIMGEntry.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,118 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package provider.wz;\n+\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.Iterator;\n+import java.util.List;\n+import provider.MapleData;\n+import provider.MapleDataEntity;\n+\n+public class WZIMGEntry implements MapleData {\n+    private String name;\n+    private MapleDataType type;\n+    private List<MapleData> children = new ArrayList<MapleData>(10);\n+    private Object data;\n+    private MapleDataEntity parent;\n+\n+    public WZIMGEntry(MapleDataEntity parent) {\n+        this.parent = parent;\n+    }\n+\n+    @Override\n+    public String getName() {\n+        return name;\n+    }\n+\n+    @Override\n+    public MapleDataType getType() {\n+        return type;\n+    }\n+\n+    @Override\n+    public List<MapleData> getChildren() {\n+        return Collections.unmodifiableList(children);\n+    }\n+\n+    @Override\n+    public MapleData getChildByPath(String path) {\n+        String segments[] = path.split(\"/\");\n+        if (segments[0].equals(\"..\")) {\n+            return ((MapleData) getParent()).getChildByPath(path.substring(path.indexOf(\"/\") + 1));\n+        }\n+        MapleData ret = this;\n+        for (int x = 0; x < segments.length; x++) {\n+            boolean foundChild = false;\n+            for (MapleData child : ret.getChildren()) {\n+                if (child.getName().equals(segments[x])) {\n+                    ret = child;\n+                    foundChild = true;\n+                    break;\n+                }\n+            }\n+            if (!foundChild) {\n+                return null;\n+            }\n+        }\n+        return ret;\n+    }\n+\n+    @Override\n+    public Object getData() {\n+        return data;\n+    }\n+\n+    public void setName(String name) {\n+        this.name = name;\n+    }\n+\n+    public void setType(MapleDataType type) {\n+        this.type = type;\n+    }\n+\n+    public void setData(Object data) {\n+        this.data = data;\n+    }\n+\n+    public void addChild(WZIMGEntry entry) {\n+        children.add(entry);\n+    }\n+\n+    @Override\n+    public Iterator<MapleData> iterator() {\n+        return getChildren().iterator();\n+    }\n+\n+    @Override\n+    public String toString() {\n+        return getName() + \":\" + getData();\n+    }\n+\n+    public MapleDataEntity getParent() {\n+        return parent;\n+    }\n+\n+    public void finish() {\n+        ((ArrayList<MapleData>) children).trimToSize();\n+    }\n+}"}, {"sha": "bec06c78bdf9568da3ea9819f896e22bbc7f7c44", "filename": "tools/MapleCashCosmeticsFetcher/src/provider/wz/WZIMGFile.java", "status": "added", "additions": 227, "deletions": 0, "changes": 227, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/wz/WZIMGFile.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/wz/WZIMGFile.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/provider/wz/WZIMGFile.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,227 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package provider.wz;\n+\n+import java.awt.Point;\n+import java.io.DataOutputStream;\n+import java.io.File;\n+import java.io.IOException;\n+import java.io.OutputStream;\n+import java.io.RandomAccessFile;\n+import tools.data.input.GenericSeekableLittleEndianAccessor;\n+import tools.data.input.RandomAccessByteStream;\n+import tools.data.input.SeekableLittleEndianAccessor;\n+\n+public class WZIMGFile {\n+    private WZFileEntry file;\n+    private WZIMGEntry root;\n+    private boolean provideImages;\n+    @SuppressWarnings (\"unused\")\n+    private boolean modernImg;\n+\n+    public WZIMGFile(File wzfile, WZFileEntry file, boolean provideImages, boolean modernImg) throws IOException {\n+        RandomAccessFile raf = new RandomAccessFile(wzfile, \"r\");\n+        SeekableLittleEndianAccessor slea = new GenericSeekableLittleEndianAccessor(new RandomAccessByteStream(raf));\n+        slea.seek(file.getOffset());\n+        this.file = file;\n+        this.provideImages = provideImages;\n+        root = new WZIMGEntry(file.getParent());\n+        root.setName(file.getName());\n+        root.setType(MapleDataType.EXTENDED);\n+        this.modernImg = modernImg;\n+        parseExtended(root, slea, 0);\n+        root.finish();\n+        raf.close();\n+    }\n+\n+    protected void dumpImg(OutputStream out, SeekableLittleEndianAccessor slea) throws IOException {\n+        DataOutputStream os = new DataOutputStream(out);\n+        long oldPos = slea.getPosition();\n+        slea.seek(file.getOffset());\n+        for (int x = 0; x < file.getSize(); x++) {\n+            os.write(slea.readByte());\n+        }\n+        slea.seek(oldPos);\n+    }\n+\n+    public WZIMGEntry getRoot() {\n+        return root;\n+    }\n+\n+    private void parse(WZIMGEntry entry, SeekableLittleEndianAccessor slea) {\n+        byte marker = slea.readByte();\n+        switch (marker) {\n+            case 0: {\n+                String name = WZTool.readDecodedString(slea);\n+                entry.setName(name);\n+                break;\n+            }\n+            case 1: {\n+                String name = WZTool.readDecodedStringAtOffsetAndReset(slea, file.getOffset() + slea.readInt());\n+                entry.setName(name);\n+                break;\n+            }\n+            default:\n+                System.out.println(\"Unknown Image identifier: \" + marker + \" at offset \" + (slea.getPosition() - file.getOffset()));\n+        }\n+        marker = slea.readByte();\n+        switch (marker) {\n+            case 0:\n+                entry.setType(MapleDataType.IMG_0x00);\n+                break;\n+            case 2:\n+            case 11: //??? no idea, since 0.49\n+                entry.setType(MapleDataType.SHORT);\n+                entry.setData(Short.valueOf(slea.readShort()));\n+                break;\n+            case 3:\n+                entry.setType(MapleDataType.INT);\n+                entry.setData(Integer.valueOf(WZTool.readValue(slea)));\n+                break;\n+            case 4:\n+                entry.setType(MapleDataType.FLOAT);\n+                entry.setData(Float.valueOf(WZTool.readFloatValue(slea)));\n+                break;\n+            case 5:\n+                entry.setType(MapleDataType.DOUBLE);\n+                entry.setData(Double.valueOf(slea.readDouble()));\n+                break;\n+            case 8:\n+                entry.setType(MapleDataType.STRING);\n+                byte iMarker = slea.readByte();\n+                if (iMarker == 0) {\n+                    entry.setData(WZTool.readDecodedString(slea));\n+                } else if (iMarker == 1) {\n+                    entry.setData(WZTool.readDecodedStringAtOffsetAndReset(slea, slea.readInt() + file.getOffset()));\n+                } else {\n+                    System.out.println(\"Unknown String type \" + iMarker);\n+                }\n+                break;\n+            case 9:\n+                entry.setType(MapleDataType.EXTENDED);\n+                long endOfExtendedBlock = slea.readInt();\n+                endOfExtendedBlock += slea.getPosition();\n+                parseExtended(entry, slea, endOfExtendedBlock);\n+                break;\n+            default:\n+                System.out.println(\"Unknown Image type \" + marker);\n+        }\n+    }\n+\n+    private void parseExtended(WZIMGEntry entry, SeekableLittleEndianAccessor slea, long endOfExtendedBlock) {\n+        byte marker = slea.readByte();\n+        String type;\n+        switch (marker) {\n+            case 0x73:\n+                type = WZTool.readDecodedString(slea);\n+                break;\n+            case 0x1B:\n+                type = WZTool.readDecodedStringAtOffsetAndReset(slea, file.getOffset() + slea.readInt());\n+                break;\n+            default:\n+                throw new RuntimeException(\"Unknown extended image identifier: \" + marker + \" at offset \" +\n+                        (slea.getPosition() - file.getOffset()));\n+        }\n+        if (type.equals(\"Property\")) {\n+            entry.setType(MapleDataType.PROPERTY);\n+            slea.readByte();\n+            slea.readByte();\n+            int children = WZTool.readValue(slea);\n+            for (int i = 0; i < children; i++) {\n+                WZIMGEntry cEntry = new WZIMGEntry(entry);\n+                parse(cEntry, slea);\n+                cEntry.finish();\n+                entry.addChild(cEntry);\n+            }\n+        } else if (type.equals(\"Canvas\")) {\n+            entry.setType(MapleDataType.CANVAS);\n+            slea.readByte();\n+            marker = slea.readByte();\n+            if (marker == 0) {\n+                // do nothing\n+            } else if (marker == 1) {\n+                slea.readByte();\n+                slea.readByte();\n+                int children = WZTool.readValue(slea);\n+                for (int i = 0; i < children; i++) {\n+                    WZIMGEntry child = new WZIMGEntry(entry);\n+                    parse(child, slea);\n+                    child.finish();\n+                    entry.addChild(child);\n+                }\n+            } else {\n+                System.out.println(\"Canvas marker != 1 (\" + marker + \")\");\n+            }\n+            int width = WZTool.readValue(slea);\n+            int height = WZTool.readValue(slea);\n+            int format = WZTool.readValue(slea);\n+            int format2 = slea.readByte();\n+            slea.readInt();\n+            int dataLength = slea.readInt() - 1;\n+            slea.readByte();\n+            if (provideImages) {\n+                byte[] pngdata = slea.read(dataLength);\n+                entry.setData(new PNGMapleCanvas(width, height, dataLength, format + format2, pngdata));\n+            } else {\n+                entry.setData(new PNGMapleCanvas(width, height, dataLength, format + format2, null));\n+                slea.skip(dataLength);\n+            }\n+        } else if (type.equals(\"Shape2D#Vector2D\")) {\n+            entry.setType(MapleDataType.VECTOR);\n+            int x = WZTool.readValue(slea);\n+            int y = WZTool.readValue(slea);\n+            entry.setData(new Point(x, y));\n+        } else if (type.equals(\"Shape2D#Convex2D\")) {\n+            int children = WZTool.readValue(slea);\n+            for (int i = 0; i < children; i++) {\n+                WZIMGEntry cEntry = new WZIMGEntry(entry);\n+                parseExtended(cEntry, slea, 0);\n+                cEntry.finish();\n+                entry.addChild(cEntry);\n+            }\n+        } else if (type.equals(\"Sound_DX8\")) {\n+            entry.setType(MapleDataType.SOUND);\n+            slea.readByte();\n+            int dataLength = WZTool.readValue(slea);\n+            WZTool.readValue(slea); // no clue what this is\n+            int offset = (int) slea.getPosition();\n+            entry.setData(new ImgMapleSound(dataLength, offset - file.getOffset()));\n+            slea.seek(endOfExtendedBlock);\n+        } else if (type.equals(\"UOL\")) {\n+            entry.setType(MapleDataType.UOL);\n+            slea.readByte();\n+            byte uolmarker = slea.readByte();\n+            switch (uolmarker) {\n+                case 0:\n+                    entry.setData(WZTool.readDecodedString(slea));\n+                    break;\n+                case 1:\n+                    entry.setData(WZTool.readDecodedStringAtOffsetAndReset(slea, file.getOffset() + slea.readInt()));\n+                    break;\n+                default:\n+                    System.out.println(\"Unknown UOL marker: \" + uolmarker + \" \" + entry.getName());\n+            }\n+        } else {\n+            throw new RuntimeException(\"Unhandled extended type: \" + type);\n+        }\n+    }\n+}"}, {"sha": "85e1c8d90b12ad81599c4bc39bd3af48af60deeb", "filename": "tools/MapleCashCosmeticsFetcher/src/provider/wz/WZTool.java", "status": "added", "additions": 187, "deletions": 0, "changes": 187, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/wz/WZTool.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/wz/WZTool.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/provider/wz/WZTool.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,187 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package provider.wz;\n+\n+import java.security.InvalidKeyException;\n+import java.security.NoSuchAlgorithmException;\n+import javax.crypto.BadPaddingException;\n+import javax.crypto.Cipher;\n+import javax.crypto.IllegalBlockSizeException;\n+import javax.crypto.NoSuchPaddingException;\n+import javax.crypto.spec.SecretKeySpec;\n+import tools.data.input.LittleEndianAccessor;\n+import tools.data.input.SeekableLittleEndianAccessor;\n+\n+/*\n+ * Ported Code, see WZFile.java for more info\n+ */\n+public class WZTool {\n+    private static byte[] encKey;\n+\n+    static {\n+        byte[] iv = new byte[]{(byte) 0x4d, (byte) 0x23, (byte) 0xc7, (byte) 0x2b,\n+            (byte) 0x4d, (byte) 0x23, (byte) 0xc7, (byte) 0x2b,\n+            (byte) 0x4d, (byte) 0x23, (byte) 0xc7, (byte) 0x2b,\n+            (byte) 0x4d, (byte) 0x23, (byte) 0xc7, (byte) 0x2b,};\n+        byte[] key = new byte[]{(byte) 0x13, 0x00, 0x00, 0x00,\n+            (byte) 0x08, 0x00, 0x00, 0x00,\n+            (byte) 0x06, 0x00, 0x00, 0x00,\n+            (byte) 0xB4, 0x00, 0x00, 0x00,\n+            (byte) 0x1B, 0x00, 0x00, 0x00,\n+            (byte) 0x0F, 0x00, 0x00, 0x00,\n+            (byte) 0x33, 0x00, 0x00, 0x00,\n+            (byte) 0x52, 0x00, 0x00, 0x00\n+        };\n+        Cipher cipher = null;\n+        SecretKeySpec skeySpec = new SecretKeySpec(key, \"AES\");\n+        try {\n+            cipher = Cipher.getInstance(\"AES\");\n+        } catch (NoSuchAlgorithmException e) {\n+            e.printStackTrace();\n+        } catch (NoSuchPaddingException e) {\n+            e.printStackTrace();\n+        }\n+        try {\n+            cipher.init(Cipher.ENCRYPT_MODE, skeySpec);\n+        } catch (InvalidKeyException e) {\n+            e.printStackTrace();\n+        }\n+        encKey = new byte[0xFFFF];\n+        for (int i = 0; i < (0xFFFF / 16); i++) {\n+            try {\n+                iv = cipher.doFinal(iv);\n+            } catch (IllegalBlockSizeException e) {\n+                e.printStackTrace();\n+            } catch (BadPaddingException e) {\n+                e.printStackTrace();\n+            }\n+            System.arraycopy(iv, 0, encKey, (i * 16), 16);\n+        }\n+        try {\n+            iv = cipher.doFinal(iv);\n+        } catch (IllegalBlockSizeException e) {\n+            e.printStackTrace();\n+        } catch (BadPaddingException e) {\n+            e.printStackTrace();\n+        }\n+        System.arraycopy(iv, 0, encKey, 65520, 15);\n+    }\n+\n+    public static byte[] readListString(byte[] str) {\n+        for (int i = 0; i < str.length; i++) {\n+            str[i] = (byte) (str[i] ^ encKey[i]);\n+        }\n+        return str;\n+    }\n+\n+    public static String readDecodedString(LittleEndianAccessor llea) {\n+        int strLength;\n+        byte b = llea.readByte();\n+        if (b == 0x00) {\n+            return \"\";\n+        }\n+        if (b >= 0) {\n+            if (b == 0x7F) {\n+                strLength = llea.readInt();\n+            } else {\n+                strLength = (int) b;\n+            }\n+            if (strLength < 0) {\n+                return \"\";\n+            }\n+            byte str[] = new byte[strLength * 2];\n+            for (int i = 0; i < strLength * 2; i++) {\n+                str[i] = llea.readByte();\n+            }\n+            return DecryptUnicodeStr(str);\n+        } else {\n+            if (b == -128) {\n+                strLength = llea.readInt();\n+            } else {\n+                strLength = -b;\n+            }\n+            if (strLength < 0) {\n+                return \"\";\n+            }\n+            byte str[] = new byte[strLength];\n+            for (int i = 0; i < strLength; i++) {\n+                str[i] = llea.readByte();\n+            }\n+            return DecryptAsciiStr(str);\n+        }\n+    }\n+\n+    public static String DecryptAsciiStr(byte[] str) {\n+        byte xorByte = (byte) 0xAA;\n+        for (int i = 0; i < str.length; i++) {\n+            str[i] = (byte) (str[i] ^ xorByte ^ encKey[i]);\n+            xorByte++;\n+        }\n+        return new String(str);\n+    }\n+\n+    public static String DecryptUnicodeStr(byte[] str) {\n+        int xorByte = 0xAAAA;\n+        char[] charRet = new char[str.length / 2];\n+        for (int i = 0; i < str.length; i++) {\n+            str[i] = (byte) (str[i] ^ encKey[i]);\n+        }\n+        for (int i = 0; i < (str.length / 2); i++) {\n+            char toXor = (char) ((str[i] << 8) | str[i + 1]);\n+            charRet[i] = (char) (toXor ^ xorByte);\n+            xorByte++;\n+        }\n+        return String.valueOf(charRet);\n+    }\n+\n+    public static String readDecodedStringAtOffset(SeekableLittleEndianAccessor slea, int offset) {\n+        slea.seek(offset);\n+        return readDecodedString(slea);\n+    }\n+\n+    public static String readDecodedStringAtOffsetAndReset(SeekableLittleEndianAccessor slea, int offset) {\n+        long pos = 0;\n+        pos = slea.getPosition();\n+        slea.seek(offset);\n+        String ret = readDecodedString(slea);\n+        slea.seek(pos);\n+        return ret;\n+    }\n+\n+    public static int readValue(LittleEndianAccessor lea) {\n+        byte b = lea.readByte();\n+        if (b == -128) {\n+            return lea.readInt();\n+        } else {\n+            return ((int) b);\n+        }\n+    }\n+\n+    public static float readFloatValue(LittleEndianAccessor lea) {\n+        byte b = lea.readByte();\n+        if (b == -128) {\n+            return lea.readFloat();\n+        } else {\n+            return 0;\n+        }\n+    }\n+}\n\\ No newline at end of file"}, {"sha": "151a04c2fd6b1e0e6c2084f2cabb9938ff4bfcd4", "filename": "tools/MapleCashCosmeticsFetcher/src/provider/wz/XMLDomMapleData.java", "status": "added", "additions": 219, "deletions": 0, "changes": 219, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/wz/XMLDomMapleData.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/wz/XMLDomMapleData.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/provider/wz/XMLDomMapleData.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,219 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+package provider.wz;\n+\n+import java.awt.Point;\n+import java.io.File;\n+import java.io.FileInputStream;\n+import java.io.IOException;\n+import java.util.ArrayList;\n+import java.util.Iterator;\n+import java.util.List;\n+import java.util.Locale;\n+import java.text.NumberFormat;\n+import javax.xml.parsers.DocumentBuilder;\n+import javax.xml.parsers.DocumentBuilderFactory;\n+import javax.xml.parsers.ParserConfigurationException;\n+import provider.MapleData;\n+import provider.MapleDataEntity;\n+import org.w3c.dom.Document;\n+import org.w3c.dom.NamedNodeMap;\n+import org.w3c.dom.Node;\n+import org.w3c.dom.NodeList;\n+import org.xml.sax.SAXException;\n+\n+public class XMLDomMapleData implements MapleData {\n+\tprivate Node node;\n+\tprivate File imageDataDir;\n+        private NumberFormat nf;\n+\n+\tpublic XMLDomMapleData(FileInputStream fis, File imageDataDir) {\n+\t\ttry {\n+\t\t\tDocumentBuilderFactory documentBuilderFactory = DocumentBuilderFactory.newInstance();\n+\t\t\tDocumentBuilder documentBuilder = documentBuilderFactory.newDocumentBuilder();\n+\t\t\tDocument document = documentBuilder.parse(fis);\n+\t\t\tthis.node = document.getFirstChild();\n+\t\t} catch (ParserConfigurationException e) {\n+\t\t\tthrow new RuntimeException(e);\n+\t\t} catch (SAXException e) {\n+\t\t\tthrow new RuntimeException(e);\n+\t\t} catch (IOException e) {\n+\t\t\tthrow new RuntimeException(e);\n+\t\t}\n+\t\tthis.imageDataDir = imageDataDir;\n+                this.nf = NumberFormat.getInstance(Locale.FRANCE);\n+\t}\n+\n+\tprivate XMLDomMapleData(Node node) {\n+\t\tthis.node = node;\n+                this.nf = NumberFormat.getInstance(Locale.FRANCE);\n+\t}\n+\n+\t@Override\n+\tpublic MapleData getChildByPath(String path) {\n+\t\tString segments[] = path.split(\"/\");\n+\t\tif (segments[0].equals(\"..\")) {\n+\t\t\treturn ((MapleData) getParent()).getChildByPath(path.substring(path.indexOf(\"/\") + 1));\n+\t\t}\n+\n+\t\tNode myNode = node;\n+\t\tfor (int x = 0; x < segments.length; x++) {\n+\t\t\tNodeList childNodes = myNode.getChildNodes();\n+\t\t\tboolean foundChild = false;\n+\t\t\tfor (int i = 0; i < childNodes.getLength(); i++) {\n+\t\t\t\tNode childNode = childNodes.item(i);\n+\t\t\t\tif (childNode.getNodeType() == Node.ELEMENT_NODE && childNode.getAttributes().getNamedItem(\"name\").getNodeValue().equals(segments[x])) {\n+\t\t\t\t\tmyNode = childNode;\n+\t\t\t\t\tfoundChild = true;\n+\t\t\t\t\tbreak;\n+\t\t\t\t}\n+\t\t\t}\n+\t\t\tif (!foundChild) {\n+\t\t\t\treturn null;\n+\t\t\t}\n+\t\t}\n+\t\tXMLDomMapleData ret = new XMLDomMapleData(myNode);\n+\t\tret.imageDataDir = new File(imageDataDir, getName() + \"/\" + path).getParentFile();\n+\t\treturn ret;\n+\t}\n+\n+\t@Override\n+\tpublic List<MapleData> getChildren() {\n+\t\tList<MapleData> ret = new ArrayList<MapleData>();\n+\t\tNodeList childNodes = node.getChildNodes();\n+\t\tfor (int i = 0; i < childNodes.getLength(); i++) {\n+\t\t\tNode childNode = childNodes.item(i);\n+\t\t\tif (childNode.getNodeType() == Node.ELEMENT_NODE) {\n+\t\t\t\tXMLDomMapleData child = new XMLDomMapleData(childNode);\n+\t\t\t\tchild.imageDataDir = new File(imageDataDir, getName());\n+\t\t\t\tret.add(child);\n+\t\t\t}\n+\t\t}\n+\t\treturn ret;\n+\t}\n+\n+\t@Override\n+\tpublic Object getData() {\n+\t\tNamedNodeMap attributes = node.getAttributes();\n+\t\tMapleDataType type = getType();\n+\t\tswitch (type) {\n+\t\tcase DOUBLE:\n+\t\tcase FLOAT:\n+\t\tcase INT:\n+                case SHORT: {\n+                        String value = attributes.getNamedItem(\"value\").getNodeValue();\n+                        Number nval;\n+                        \n+                        try {\n+                                nval = nf.parse(value);\n+                        }\n+                        catch(java.text.ParseException pe) {\n+                                pe.printStackTrace();\n+                                nval = 0.0f;\n+                        }\n+                                \n+                        switch (type) {\n+                        case DOUBLE:\n+                                return nval.doubleValue();\n+                        case FLOAT:\n+                                return nval.floatValue();\n+                        case INT:\n+                                return nval.intValue();\n+                        case SHORT:\n+                                return nval.shortValue();\n+                        default:\n+                                return null;\n+                        }\n+                }\n+\t\tcase STRING:\n+\t\tcase UOL: {\n+\t\t\tString value = attributes.getNamedItem(\"value\").getNodeValue();\n+                        return value;\n+\t\t}\n+\t\tcase VECTOR: {\n+\t\t\tString x = attributes.getNamedItem(\"x\").getNodeValue();\n+\t\t\tString y = attributes.getNamedItem(\"y\").getNodeValue();\n+\t\t\treturn new Point(Integer.parseInt(x), Integer.parseInt(y));\n+\t\t}\n+\t\tcase CANVAS: {\n+\t\t\tString width = attributes.getNamedItem(\"width\").getNodeValue();\n+\t\t\tString height = attributes.getNamedItem(\"height\").getNodeValue();\n+\t\t\treturn new FileStoredPngMapleCanvas(Integer.parseInt(width), Integer.parseInt(height), new File(\n+\t\t\t\t\timageDataDir, getName() + \".png\"));\n+\t\t}\n+\t\tdefault:\n+\t\t\treturn null;\n+\t\t}\n+\t}\n+\n+\t@Override\n+\tpublic MapleDataType getType() {\n+\t\tString nodeName = node.getNodeName();\n+\t\tif (nodeName.equals(\"imgdir\")) {\n+\t\t\treturn MapleDataType.PROPERTY;\n+\t\t} else if (nodeName.equals(\"canvas\")) {\n+\t\t\treturn MapleDataType.CANVAS;\n+\t\t} else if (nodeName.equals(\"convex\")) {\n+\t\t\treturn MapleDataType.CONVEX;\n+\t\t} else if (nodeName.equals(\"sound\")) {\n+\t\t\treturn MapleDataType.SOUND;\n+\t\t} else if (nodeName.equals(\"uol\")) {\n+\t\t\treturn MapleDataType.UOL;\n+\t\t} else if (nodeName.equals(\"double\")) {\n+\t\t\treturn MapleDataType.DOUBLE;\n+\t\t} else if (nodeName.equals(\"float\")) {\n+\t\t\treturn MapleDataType.FLOAT;\n+\t\t} else if (nodeName.equals(\"int\")) {\n+\t\t\treturn MapleDataType.INT;\n+\t\t} else if (nodeName.equals(\"short\")) {\n+\t\t\treturn MapleDataType.SHORT;\n+\t\t} else if (nodeName.equals(\"string\")) {\n+\t\t\treturn MapleDataType.STRING;\n+\t\t} else if (nodeName.equals(\"vector\")) {\n+\t\t\treturn MapleDataType.VECTOR;\n+\t\t} else if (nodeName.equals(\"null\")) {\n+\t\t\treturn MapleDataType.IMG_0x00;\n+\t\t}\n+\t\treturn null;\n+\t}\n+\n+\t@Override\n+\tpublic MapleDataEntity getParent() {\n+\t\tNode parentNode = node.getParentNode();\n+\t\tif (parentNode.getNodeType() == Node.DOCUMENT_NODE) {\n+\t\t\treturn null;\n+\t\t}\n+\t\tXMLDomMapleData parentData = new XMLDomMapleData(parentNode);\n+\t\tparentData.imageDataDir = imageDataDir.getParentFile();\n+\t\treturn parentData;\n+\t}\n+\n+\t@Override\n+\tpublic String getName() {\n+\t\treturn node.getAttributes().getNamedItem(\"name\").getNodeValue();\n+\t}\n+\n+\t@Override\n+\tpublic Iterator<MapleData> iterator() {\n+\t\treturn getChildren().iterator();\n+\t}\n+}"}, {"sha": "2a7694fdc97c511f4e0d4b894967b02d813683be", "filename": "tools/MapleCashCosmeticsFetcher/src/provider/wz/XMLWZFile.java", "status": "added", "additions": 85, "deletions": 0, "changes": 85, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/wz/XMLWZFile.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/provider/wz/XMLWZFile.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/provider/wz/XMLWZFile.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,85 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package provider.wz;\n+\n+import java.io.File;\n+import java.io.FileInputStream;\n+import java.io.FileNotFoundException;\n+import java.io.IOException;\n+import provider.MapleData;\n+import provider.MapleDataDirectoryEntry;\n+import provider.MapleDataProvider;\n+\n+public class XMLWZFile implements MapleDataProvider {\n+    private File root;\n+    private WZDirectoryEntry rootForNavigation;\n+\n+    public XMLWZFile(File fileIn) {\n+        root = fileIn;\n+        rootForNavigation = new WZDirectoryEntry(fileIn.getName(), 0, 0, null);\n+        fillMapleDataEntitys(root, rootForNavigation);\n+    }\n+\n+    private void fillMapleDataEntitys(File lroot, WZDirectoryEntry wzdir) {\n+        for (File file : lroot.listFiles()) {\n+            String fileName = file.getName();\n+            if (file.isDirectory() && !fileName.endsWith(\".img\")) {\n+                WZDirectoryEntry newDir = new WZDirectoryEntry(fileName, 0, 0, wzdir);\n+                wzdir.addDirectory(newDir);\n+                fillMapleDataEntitys(file, newDir);\n+            } else if (fileName.endsWith(\".xml\")) {\n+                wzdir.addFile(new WZFileEntry(fileName.substring(0, fileName.length() - 4), 0, 0, wzdir));\n+            }\n+        }\n+    }\n+\n+    @Override\n+    public MapleData getData(String path) {\n+        File dataFile = new File(root, path + \".xml\");\n+        File imageDataDir = new File(root, path);\n+        if (!dataFile.exists()) {\n+            return null;//bitches\n+        }\n+        FileInputStream fis;\n+        try {\n+            fis = new FileInputStream(dataFile);\n+        } catch (FileNotFoundException e) {\n+            throw new RuntimeException(\"Datafile \" + path + \" does not exist in \" + root.getAbsolutePath());\n+        }\n+        final XMLDomMapleData domMapleData;\n+        try {\n+            domMapleData = new XMLDomMapleData(fis, imageDataDir.getParentFile());\n+        } finally {\n+            try {\n+                fis.close();\n+            } catch (IOException e) {\n+                throw new RuntimeException(e);\n+            }\n+        }\n+        return domMapleData;\n+    }\n+\n+    @Override\n+    public MapleDataDirectoryEntry getRoot() {\n+        return rootForNavigation;\n+    }\n+}"}, {"sha": "c08508f7e397f2986c797c70b627a718b9d24d69", "filename": "tools/MapleCashCosmeticsFetcher/src/tools/ArrayMap.java", "status": "added", "additions": 149, "deletions": 0, "changes": 149, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/ArrayMap.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/ArrayMap.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/tools/ArrayMap.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,149 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package tools;\n+\n+import java.util.AbstractMap;\n+import java.util.AbstractSet;\n+import java.util.ArrayList;\n+import java.util.Iterator;\n+import java.util.Map;\n+import java.util.Set;\n+\n+public class ArrayMap<K, V> extends AbstractMap<K, V> {\n+\n+    static class Entry<K, V> implements Map.Entry<K, V> {\n+        protected K key;\n+        protected V value;\n+\n+        public Entry(K key, V value) {\n+            this.key = key;\n+            this.value = value;\n+        }\n+\n+        @Override\n+        public K getKey() {\n+            return key;\n+        }\n+\n+        @Override\n+        public V getValue() {\n+            return value;\n+        }\n+\n+        @Override\n+        public V setValue(V newValue) {\n+            V oldValue = value;\n+            value = newValue;\n+            return oldValue;\n+        }\n+\n+        @Override\n+        public boolean equals(Object o) {\n+            if (!(o instanceof Map.Entry<?, ?>)) {\n+                return false;\n+            }\n+            Map.Entry<?, ?> e = (Map.Entry<?, ?>) o;\n+            return (key == null ? e.getKey() == null : key.equals(e.getKey())) && (value == null ? e.getValue() == null : value.equals(e.getValue()));\n+        }\n+\n+        @Override\n+        public int hashCode() {\n+            int keyHash = (key == null ? 0 : key.hashCode());\n+            int valueHash = (value == null ? 0 : value.hashCode());\n+            return keyHash ^ valueHash;\n+        }\n+\n+        @Override\n+        public String toString() {\n+            return key + \"=\" + value;\n+        }\n+    }\n+    private Set<? extends java.util.Map.Entry<K, V>> entries = null;\n+    private ArrayList<Entry<K, V>> list;\n+\n+    public ArrayMap() {\n+        list = new ArrayList<>();\n+    }\n+\n+    public ArrayMap(Map<K, V> map) {\n+        list = new ArrayList<>();\n+        putAll(map);\n+    }\n+\n+    public ArrayMap(int initialCapacity) {\n+        list = new ArrayList<>(initialCapacity);\n+    }\n+\n+    @Override\n+    @SuppressWarnings (\"unchecked\")\n+    public Set<java.util.Map.Entry<K, V>> entrySet() {\n+        if (entries == null) {\n+            entries = new AbstractSet<Entry<K, V>>() {\n+                @Override\n+                public void clear() {\n+                    throw new UnsupportedOperationException();\n+                }\n+\n+                @Override\n+                public Iterator<Entry<K, V>> iterator() {\n+                    return list.iterator();\n+                }\n+\n+                @Override\n+                public int size() {\n+                    return list.size();\n+                }\n+            };\n+        }\n+        return (Set<java.util.Map.Entry<K, V>>) entries;\n+    }\n+\n+    @Override\n+    public V put(K key, V value) {\n+        int size = list.size();\n+        Entry<K, V> entry = null;\n+        int i;\n+        if (key == null) {\n+            for (i = 0; i < size; i++) {\n+                entry = (list.get(i));\n+                if (entry.getKey() == null) {\n+                    break;\n+                }\n+            }\n+        } else {\n+            for (i = 0; i < size; i++) {\n+                entry = (list.get(i));\n+                if (key.equals(entry.getKey())) {\n+                    break;\n+                }\n+            }\n+        }\n+        V oldValue = null;\n+        if (i < size) {\n+            oldValue = entry.getValue();\n+            entry.setValue(value);\n+        } else {\n+            list.add(new Entry<>(key, value));\n+        }\n+        return oldValue;\n+    }\n+}"}, {"sha": "9dcd4e654526bf10315acc9d9b52b1fbfa47b0e6", "filename": "tools/MapleCashCosmeticsFetcher/src/tools/DatabaseConnection.java", "status": "added", "additions": 51, "deletions": 0, "changes": 51, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/DatabaseConnection.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/DatabaseConnection.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/tools/DatabaseConnection.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,51 @@\n+package tools;\n+\n+import java.sql.Connection;\n+import java.sql.DriverManager;\n+import java.sql.SQLException;\n+\n+/**\n+ * @author Frz (Big Daddy)\n+ * @author The Real Spookster (some modifications to this beautiful code)\n+ */\n+public class DatabaseConnection {\n+    private static String DB_URL = \"jdbc:mysql://localhost:3306/heavenms\";\n+    private static String DB_USER = \"root\";\n+    private static String DB_PASS = \"\";\n+    \n+    public static final int RETURN_GENERATED_KEYS = 1;\n+\n+    private static ThreadLocal<Connection> con = new ThreadLocalConnection();\n+\n+    public static Connection getConnection() {\n+        Connection c = con.get();\n+        try {\n+            c.getMetaData();\n+        } catch (SQLException e) { // connection is dead, therefore discard old object 5ever\n+            con.remove();\n+            c = con.get();\n+        }\n+        return c;\n+    }\n+\n+    private static class ThreadLocalConnection extends ThreadLocal<Connection> {\n+\n+        @Override\n+        protected Connection initialValue() {\n+            try {\n+                Class.forName(\"com.mysql.jdbc.Driver\"); // touch the mysql driver\n+            } catch (ClassNotFoundException e) {\n+                System.out.println(\"[SEVERE] SQL Driver Not Found. Consider death by clams.\");\n+                e.printStackTrace();\n+                return null;\n+            }\n+            try {\n+                return DriverManager.getConnection(DB_URL, DB_USER, DB_PASS);\n+            } catch (SQLException e) {\n+                System.out.println(\"[SEVERE] Unable to make database connection.\");\n+                e.printStackTrace();\n+                return null;\n+            }\n+        }\n+    }\n+}\n\\ No newline at end of file"}, {"sha": "340129765c019aa03f718af9eeb7282e3174467f", "filename": "tools/MapleCashCosmeticsFetcher/src/tools/FilePrinter.java", "status": "added", "additions": 188, "deletions": 0, "changes": 188, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/FilePrinter.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/FilePrinter.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/tools/FilePrinter.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,188 @@\n+package tools;\n+\n+import java.io.File;\n+import java.io.FileOutputStream;\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import java.io.StringWriter;\n+import java.text.SimpleDateFormat;\n+import java.util.Calendar;\n+\n+public class FilePrinter {\n+\n+    public static final String \n+            ACCOUNT_STUCK = \"accountStuck.txt\",\n+            EXCEPTION_CAUGHT = \"exceptionCaught.txt\",\n+            CLIENT_START = \"clientStartError.txt\",\n+            ADD_PLAYER = \"addPlayer.txt\",\n+            MAPLE_MAP = \"mapleMap.txt\",\n+            ERROR38 = \"error38.txt\",\n+            PACKET_LOG = \"log.txt\",\n+            EXCEPTION = \"exceptions.txt\",\n+            SQL_EXCEPTION = \"sqlexceptions.txt\",\n+            PACKET_HANDLER = \"PacketHandler/\",\n+            PORTAL = \"portals/\",\n+            NPC = \"npcs/\",\n+            INVOCABLE = \"invocable/\",\n+            REACTOR = \"reactors/\",\n+            QUEST = \"quests/\",\n+            ITEM = \"items/\",\n+            MOB_MOVEMENT = \"mobmovement.txt\",\n+            MAP_SCRIPT = \"mapscript/\",\n+            DIRECTION = \"directions/\",\n+            SAVE_CHAR = \"saveToDB.txt\",\n+            INSERT_CHAR = \"insertCharacter.txt\",\n+            LOAD_CHAR = \"loadCharFromDB.txt\",\n+            UNHANDLED_EVENT = \"doesNotExist.txt\",\n+            SESSION = \"sessions.txt\",\n+            EXPLOITS = \"exploits/\",\n+            STORAGE = \"storage/\",\n+            PACKET_LOGS = \"packetlogs/\",\n+            DELETED_CHARACTERS = \"deletedchars/\",\n+            FREDRICK = \"fredrick/\",\n+            NPC_UNCODED = \"uncodedNPCs.txt\",\n+            QUEST_UNCODED = \"uncodedQuests.txt\",\n+            AUTOSAVING_CHARACTER = \"saveCharAuto.txt\",\n+            SAVING_CHARACTER = \"saveChar.txt\",\n+            USED_COMMANDS = \"usedCommands.txt\";//more to come (maps)\n+    \n+    private static final SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\"); //for file system purposes, it's nice to use yyyy-MM-dd\n+    private static final String FILE_PATH = \"logs/\" + sdf.format(Calendar.getInstance().getTime()) + \"/\"; // + sdf.format(Calendar.getInstance().getTime()) + \"/\"\n+    private static final String ERROR = \"error/\";\n+\n+    public static void printError(final String name, final Throwable t) {\n+    \tSystem.out.println(\"Error thrown: \" + name);\n+    \tSystem.out.println(getString(t));\n+        FileOutputStream out = null;\n+        final String file = FILE_PATH + ERROR + name;\n+        try {\n+            File outputFile = new File(file);\n+            if (outputFile.getParentFile() != null) {\n+                outputFile.getParentFile().mkdirs();\n+            }\n+            out = new FileOutputStream(file, true);\n+            out.write(getString(t).getBytes());\n+            out.write(\"\\n---------------------------------\\r\\n\".getBytes());\n+        } catch (IOException ess) {\n+            ess.printStackTrace();\n+        } finally {\n+            try {\n+                if (out != null) {\n+                    out.close();\n+                }\n+            } catch (IOException ignore) {\n+                ignore.printStackTrace();\n+            }\n+        }\n+    }\n+\n+    public static void printError(final String name, final Throwable t, final String info) {\n+    \tSystem.out.println(\"Error thrown: \" + name);\n+    \tSystem.out.println(getString(t));\n+        FileOutputStream out = null;\n+        final String file = FILE_PATH + ERROR + name;\n+        try {\n+            File outputFile = new File(file);\n+            if (outputFile.getParentFile() != null) {\n+                outputFile.getParentFile().mkdirs();\n+            }\n+            out = new FileOutputStream(file, true);\n+            out.write((info + \"\\r\\n\").getBytes());\n+            out.write(getString(t).getBytes());\n+            out.write(\"\\n---------------------------------\\r\\n\".getBytes());\n+        } catch (IOException ess) {\n+            ess.printStackTrace();\n+        } finally {\n+            try {\n+                if (out != null) {\n+                    out.close();\n+                }\n+            } catch (IOException ignore) {\n+                ignore.printStackTrace();\n+            }\n+        }\n+    }\n+\n+    public static void printError(final String name, final String s) {\n+    \tSystem.out.println(\"Error thrown: \" + name);\n+    \tSystem.out.println(s);\n+        FileOutputStream out = null;\n+        final String file = FILE_PATH + ERROR + name;\n+        try {\n+            File outputFile = new File(file);\n+            if (outputFile.getParentFile() != null) {\n+                outputFile.getParentFile().mkdirs();\n+            }\n+            out = new FileOutputStream(file, true);\n+            out.write(s.getBytes());\n+            //out.write(\"\\n---------------------------------\\n\".getBytes());\n+        } catch (IOException ess) {\n+            ess.printStackTrace();\n+        } finally {\n+            try {\n+                if (out != null) {\n+                    out.close();\n+                }\n+            } catch (IOException ignore) {\n+                ignore.printStackTrace();\n+            }\n+        }\n+    }\n+\n+    public static void print(final String name, final String s) {\n+        print(name, s, true);\n+    }\n+\n+    public static void print(final String name, final String s, boolean line) {\n+    \tSystem.out.println(\"Log: \" + name);\n+    \tSystem.out.println(s);\n+        FileOutputStream out = null;\n+        String file = FILE_PATH + name;\n+        try {\n+            File outputFile = new File(file);\n+            if (outputFile.getParentFile() != null) {\n+                outputFile.getParentFile().mkdirs();\n+            }\n+            out = new FileOutputStream(file, true);\n+            out.write(s.getBytes());\n+            out.write(\"\\r\\n\".getBytes());\n+            if (line) {\n+                out.write(\"---------------------------------\\r\\n\".getBytes());\n+            }\n+        } catch (IOException ess) {\n+            ess.printStackTrace();\n+        } finally {\n+            try {\n+                if (out != null) {\n+                    out.close();\n+                }\n+            } catch (IOException ignore) {\n+                ignore.printStackTrace();\n+            }\n+        }\n+    }\n+\n+    private static String getString(final Throwable e) {\n+        String retValue = null;\n+        StringWriter sw = null;\n+        PrintWriter pw = null;\n+        try {\n+            sw = new StringWriter();\n+            pw = new PrintWriter(sw);\n+            e.printStackTrace(pw);\n+            retValue = sw.toString();\n+        } finally {\n+            try {\n+                if (pw != null) {\n+                    pw.close();\n+                }\n+                if (sw != null) {\n+                    sw.close();\n+                }\n+            } catch (IOException ignore) {\n+                ignore.printStackTrace();\n+            }\n+        }\n+        return retValue;\n+    }\n+}\n\\ No newline at end of file"}, {"sha": "8cc0c8aa84947f28e2bf1695d146b6c246eddec8", "filename": "tools/MapleCashCosmeticsFetcher/src/tools/HexTool.java", "status": "added", "additions": 79, "deletions": 0, "changes": 79, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/HexTool.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/HexTool.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/tools/HexTool.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,79 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package tools;\n+\n+import java.io.ByteArrayOutputStream;\n+\n+public class HexTool {\n+    private static final char[] HEX = {'0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F'};\n+\n+    private static String toString(byte byteValue) {\n+        int tmp = byteValue << 8;\n+        char[] retstr = new char[]{HEX[(tmp >> 12) & 0x0F], HEX[(tmp >> 8) & 0x0F]};\n+        return String.valueOf(retstr);\n+    }\n+\n+    public static String toString(byte[] bytes) {\n+        StringBuilder hexed = new StringBuilder();\n+        for (int i = 0; i < bytes.length; i++) {\n+            hexed.append(toString(bytes[i]));\n+            hexed.append(' ');\n+        }\n+        return hexed.substring(0, hexed.length() - 1);\n+    }\n+\n+    public static byte[] getByteArrayFromHexString(String hex) {\n+        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n+        int nexti = 0;\n+        int nextb = 0;\n+        boolean highoc = true;\n+        outer:\n+        for (;;) {\n+            int number = -1;\n+            while (number == -1) {\n+                if (nexti == hex.length()) {\n+                    break outer;\n+                }\n+                char chr = hex.charAt(nexti);\n+                if (chr >= '0' && chr <= '9') {\n+                    number = chr - '0';\n+                } else if (chr >= 'a' && chr <= 'f') {\n+                    number = chr - 'a' + 10;\n+                } else if (chr >= 'A' && chr <= 'F') {\n+                    number = chr - 'A' + 10;\n+                } else {\n+                    number = -1;\n+                }\n+                nexti++;\n+            }\n+            if (highoc) {\n+                nextb = number << 4;\n+                highoc = false;\n+            } else {\n+                nextb |= number;\n+                highoc = true;\n+                baos.write(nextb);\n+            }\n+        }\n+        return baos.toByteArray();\n+    }\n+}"}, {"sha": "37addfc38953913c7a6599bd463b9f936ce14e34", "filename": "tools/MapleCashCosmeticsFetcher/src/tools/MapleItemInformationProvider.java", "status": "added", "additions": 664, "deletions": 0, "changes": 664, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/MapleItemInformationProvider.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/MapleItemInformationProvider.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/tools/MapleItemInformationProvider.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,664 @@\n+/*\n+ This file is part of the OdinMS Maple Story Server\n+ Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+ Matthias Butz <matze@odinms.de>\n+ Jan Christian Meyer <vimes@odinms.de>\n+\n+ This program is free software: you can redistribute it and/or modify\n+ it under the terms of the GNU Affero General Public License as\n+ published by the Free Software Foundation version 3 as published by\n+ the Free Software Foundation. You may not use, modify or distribute\n+ this program under any other version of the GNU Affero General Public\n+ License.\n+\n+ This program is distributed in the hope that it will be useful,\n+ but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ GNU Affero General Public License for more details.\n+\n+ You should have received a copy of the GNU Affero General Public License\n+ along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+package tools;\n+\n+import java.io.File;\n+import java.sql.PreparedStatement;\n+import java.sql.ResultSet;\n+import java.sql.SQLException;\n+import java.util.ArrayList;\n+import java.util.HashMap;\n+import java.util.LinkedHashMap;\n+import java.util.LinkedList;\n+import java.util.List;\n+import java.util.Map;\n+\n+//import net.server.Server;\n+import provider.MapleData;\n+import provider.MapleDataDirectoryEntry;\n+import provider.MapleDataFileEntry;\n+import provider.MapleDataProvider;\n+import provider.MapleDataProviderFactory;\n+import provider.MapleDataTool;\n+import tools.DatabaseConnection;\n+//import tools.MaplePacketCreator;\n+import tools.Pair;\n+//import client.MapleCharacter;\n+//import client.MapleClient;\n+//import client.MapleJob;\n+//import client.Skill;\n+//import client.SkillFactory;\n+//import client.autoban.AutobanFactory;\n+//import client.inventory.Equip;\n+//import client.inventory.Item;\n+//import client.inventory.MapleInventory;\n+//import client.inventory.MapleInventoryType;\n+//import client.inventory.MapleWeaponType;\n+//import constants.ServerConstants;\n+//import constants.EquipSlot;\n+//import constants.ItemConstants;\n+//import constants.skills.Assassin;\n+//import constants.skills.Gunslinger;\n+//import constants.skills.NightWalker;\n+import java.sql.Connection;\n+//import server.life.MapleMonsterInformationProvider;\n+\n+/**\n+ *\n+ * @author Matze\n+ *\n+ */\n+public class MapleItemInformationProvider {\n+\n+    private static MapleItemInformationProvider instance = null;\n+    protected MapleDataProvider itemData;\n+    protected MapleDataProvider equipData;\n+    protected MapleDataProvider stringData;\n+    protected MapleData cashStringData;\n+    protected MapleData consumeStringData;\n+    protected MapleData eqpStringData;\n+    protected MapleData etcStringData;\n+    protected MapleData insStringData;\n+    protected MapleData petStringData;\n+    protected Map<Integer, Short> slotMaxCache = new HashMap<>();\n+    protected Map<Integer, Integer> itemEffects = new HashMap<>();\n+    protected Map<Integer, Map<String, Integer>> equipStatsCache = new HashMap<>();\n+    protected Map<Integer, Integer> equipCache = new HashMap<>();\n+    protected Map<Integer, Double> priceCache = new HashMap<>();\n+    protected Map<Integer, Integer> wholePriceCache = new HashMap<>();\n+    protected Map<Integer, Integer> projectileWatkCache = new HashMap<>();\n+    protected Map<Integer, String> nameCache = new HashMap<>();\n+    protected Map<Integer, String> descCache = new HashMap<>();\n+    protected Map<Integer, String> msgCache = new HashMap<>();\n+    protected Map<Integer, Boolean> dropRestrictionCache = new HashMap<>();\n+    protected Map<Integer, Boolean> pickupRestrictionCache = new HashMap<>();\n+    protected Map<Integer, Integer> getMesoCache = new HashMap<>();\n+    protected Map<Integer, Boolean> onEquipUntradableCache = new HashMap<>();\n+    protected Map<Integer, Boolean> karmaCache = new HashMap<>();\n+    protected Map<Integer, Integer> triggerItemCache = new HashMap<>();\n+    protected Map<Integer, Integer> expCache = new HashMap<>();\n+    protected Map<Integer, Integer> levelCache = new HashMap<>();\n+    protected List<Pair<Integer, String>> itemNameCache = new ArrayList<>();\n+    protected Map<Integer, Boolean> consumeOnPickupCache = new HashMap<>();\n+    protected Map<Integer, Boolean> isQuestItemCache = new HashMap<>();\n+    protected Map<Integer, String> equipmentSlotCache = new HashMap<>();\n+    protected Map<Integer, Boolean> noCancelMouseCache = new HashMap<>();\n+\n+    private MapleItemInformationProvider() {\n+        itemData = MapleDataProviderFactory.getDataProvider(new File(System.getProperty(\"wzpath\") + \"/Item.wz\"));\n+        equipData = MapleDataProviderFactory.getDataProvider(new File(System.getProperty(\"wzpath\") + \"/Character.wz\"));\n+        stringData = MapleDataProviderFactory.getDataProvider(new File(System.getProperty(\"wzpath\") + \"/String.wz\"));\n+        cashStringData = stringData.getData(\"Cash.img\");\n+        consumeStringData = stringData.getData(\"Consume.img\");\n+        eqpStringData = stringData.getData(\"Eqp.img\");\n+        etcStringData = stringData.getData(\"Etc.img\");\n+        insStringData = stringData.getData(\"Ins.img\");\n+        petStringData = stringData.getData(\"Pet.img\");\n+    }\n+\n+    public static MapleItemInformationProvider getInstance() {\n+        if (instance == null) {\n+            instance = new MapleItemInformationProvider();\n+        }\n+        return instance;\n+    }\n+\n+    public List<Pair<Integer, String>> getAllItems() {\n+        if (!itemNameCache.isEmpty()) {\n+            return itemNameCache;\n+        }\n+        List<Pair<Integer, String>> itemPairs = new ArrayList<>();\n+        MapleData itemsData;\n+        itemsData = stringData.getData(\"Cash.img\");\n+        for (MapleData itemFolder : itemsData.getChildren()) {\n+            itemPairs.add(new Pair<>(Integer.parseInt(itemFolder.getName()), MapleDataTool.getString(\"name\", itemFolder, \"NO-NAME\")));\n+        }\n+        itemsData = stringData.getData(\"Consume.img\");\n+        for (MapleData itemFolder : itemsData.getChildren()) {\n+            itemPairs.add(new Pair<>(Integer.parseInt(itemFolder.getName()), MapleDataTool.getString(\"name\", itemFolder, \"NO-NAME\")));\n+        }\n+        itemsData = stringData.getData(\"Eqp.img\").getChildByPath(\"Eqp\");\n+        for (MapleData eqpType : itemsData.getChildren()) {\n+            for (MapleData itemFolder : eqpType.getChildren()) {\n+                itemPairs.add(new Pair<>(Integer.parseInt(itemFolder.getName()), MapleDataTool.getString(\"name\", itemFolder, \"NO-NAME\")));\n+            }\n+        }\n+        itemsData = stringData.getData(\"Etc.img\").getChildByPath(\"Etc\");\n+        for (MapleData itemFolder : itemsData.getChildren()) {\n+            itemPairs.add(new Pair<>(Integer.parseInt(itemFolder.getName()), MapleDataTool.getString(\"name\", itemFolder, \"NO-NAME\")));\n+        }\n+        itemsData = stringData.getData(\"Ins.img\");\n+        for (MapleData itemFolder : itemsData.getChildren()) {\n+            itemPairs.add(new Pair<>(Integer.parseInt(itemFolder.getName()), MapleDataTool.getString(\"name\", itemFolder, \"NO-NAME\")));\n+        }\n+        itemsData = stringData.getData(\"Pet.img\");\n+        for (MapleData itemFolder : itemsData.getChildren()) {\n+            itemPairs.add(new Pair<>(Integer.parseInt(itemFolder.getName()), MapleDataTool.getString(\"name\", itemFolder, \"NO-NAME\")));\n+        }\n+        return itemPairs;\n+    }\n+\n+    public List<Pair<Integer, String>> getAllEtcItems() {\n+        if (!itemNameCache.isEmpty()) {\n+            return itemNameCache;\n+        }\n+        \n+        List<Pair<Integer, String>> itemPairs = new ArrayList<>();\n+        MapleData itemsData;\n+        \n+        itemsData = stringData.getData(\"Etc.img\").getChildByPath(\"Etc\");\n+        for (MapleData itemFolder : itemsData.getChildren()) {\n+            itemPairs.add(new Pair<>(Integer.parseInt(itemFolder.getName()), MapleDataTool.getString(\"name\", itemFolder, \"NO-NAME\")));\n+        }\n+        return itemPairs;\n+    }\n+    \n+    private MapleData getStringData(int itemId) {\n+        String cat = \"null\";\n+        MapleData theData;\n+        if (itemId >= 5010000) {\n+            theData = cashStringData;\n+        } else if (itemId >= 2000000 && itemId < 3000000) {\n+            theData = consumeStringData;\n+        } else if ((itemId >= 1010000 && itemId < 1040000) || (itemId >= 1122000 && itemId < 1123000) || (itemId >= 1132000 && itemId < 1133000) || (itemId >= 1142000 && itemId < 1143000)) {\n+            theData = eqpStringData;\n+            cat = \"Eqp/Accessory\";\n+        } else if (itemId >= 1000000 && itemId < 1010000) {\n+            theData = eqpStringData;\n+            cat = \"Eqp/Cap\";\n+        } else if (itemId >= 1102000 && itemId < 1103000) {\n+            theData = eqpStringData;\n+            cat = \"Eqp/Cape\";\n+        } else if (itemId >= 1040000 && itemId < 1050000) {\n+            theData = eqpStringData;\n+            cat = \"Eqp/Coat\";\n+        } else if (itemId >= 20000 && itemId < 22000) {\n+            theData = eqpStringData;\n+            cat = \"Eqp/Face\";\n+        } else if (itemId >= 1080000 && itemId < 1090000) {\n+            theData = eqpStringData;\n+            cat = \"Eqp/Glove\";\n+        } else if (itemId >= 30000 && itemId < 35000) {\n+            theData = eqpStringData;\n+            cat = \"Eqp/Hair\";\n+        } else if (itemId >= 1050000 && itemId < 1060000) {\n+            theData = eqpStringData;\n+            cat = \"Eqp/Longcoat\";\n+        } else if (itemId >= 1060000 && itemId < 1070000) {\n+            theData = eqpStringData;\n+            cat = \"Eqp/Pants\";\n+        } else if (itemId >= 1802000 && itemId < 1842000) {\n+            theData = eqpStringData;\n+            cat = \"Eqp/PetEquip\";\n+        } else if (itemId >= 1112000 && itemId < 1120000) {\n+            theData = eqpStringData;\n+            cat = \"Eqp/Ring\";\n+        } else if (itemId >= 1092000 && itemId < 1100000) {\n+            theData = eqpStringData;\n+            cat = \"Eqp/Shield\";\n+        } else if (itemId >= 1070000 && itemId < 1080000) {\n+            theData = eqpStringData;\n+            cat = \"Eqp/Shoes\";\n+        } else if (itemId >= 1900000 && itemId < 2000000) {\n+            theData = eqpStringData;\n+            cat = \"Eqp/Taming\";\n+        } else if (itemId >= 1300000 && itemId < 1800000) {\n+            theData = eqpStringData;\n+            cat = \"Eqp/Weapon\";\n+        } else if (itemId >= 4000000 && itemId < 5000000) {\n+            theData = etcStringData;\n+            cat = \"Etc\";\n+        } else if (itemId >= 3000000 && itemId < 4000000) {\n+            theData = insStringData;\n+        } else if (itemId / 1000 == 5000) {\n+            theData = petStringData;\n+        } else {\n+            return null;\n+        }\n+        if (cat.equalsIgnoreCase(\"null\")) {\n+            return theData.getChildByPath(String.valueOf(itemId));\n+        } else {\n+            return theData.getChildByPath(cat + \"/\" + itemId);\n+        }\n+    }\n+\n+    public boolean noCancelMouse(int itemId) {\n+        if (noCancelMouseCache.containsKey(itemId)) {\n+            return noCancelMouseCache.get(itemId);\n+        }\n+        \n+        MapleData item = getItemData(itemId);\n+        if (item == null) {\n+            noCancelMouseCache.put(itemId, false);\n+            return false;\n+        }\n+        \n+        boolean blockMouse = MapleDataTool.getIntConvert(\"info/noCancelMouse\", item, 0) == 1;\n+        noCancelMouseCache.put(itemId, blockMouse);\n+        return blockMouse;\n+    }\n+\n+    private MapleData getItemData(int itemId) {\n+        MapleData ret = null;\n+        String idStr = \"0\" + String.valueOf(itemId);\n+        MapleDataDirectoryEntry root = itemData.getRoot();\n+        for (MapleDataDirectoryEntry topDir : root.getSubdirectories()) {\n+            for (MapleDataFileEntry iFile : topDir.getFiles()) {\n+                if (iFile.getName().equals(idStr.substring(0, 4) + \".img\")) {\n+                    ret = itemData.getData(topDir.getName() + \"/\" + iFile.getName());\n+                    if (ret == null) {\n+                        return null;\n+                    }\n+                    ret = ret.getChildByPath(idStr);\n+                    return ret;\n+                } else if (iFile.getName().equals(idStr.substring(1) + \".img\")) {\n+                    return itemData.getData(topDir.getName() + \"/\" + iFile.getName());\n+                }\n+            }\n+        }\n+        root = equipData.getRoot();\n+        for (MapleDataDirectoryEntry topDir : root.getSubdirectories()) {\n+            for (MapleDataFileEntry iFile : topDir.getFiles()) {\n+                if (iFile.getName().equals(idStr + \".img\")) {\n+                    return equipData.getData(topDir.getName() + \"/\" + iFile.getName());\n+                }\n+            }\n+        }\n+        return ret;\n+    }\n+    \n+    public List<Integer> getItemIdsInRange(int minId, int maxId, boolean ignoreCashItem) {\n+        List<Integer> list = new ArrayList<>();\n+        \n+        if(ignoreCashItem) {\n+            for(int i = minId; i <= maxId; i++) {\n+                if(getItemData(i) != null && !isCash(i)) {\n+                    list.add(i);\n+                }\n+            }\n+        }\n+        else {\n+            for(int i = minId; i <= maxId; i++) {\n+                if(getItemData(i) != null) {\n+                    list.add(i);\n+                }\n+            }\n+        }\n+        \n+        \n+        return list;\n+    }\n+\n+    public short getSlotMax(int itemId) {\n+        Short slotMax = slotMaxCache.get(itemId);\n+        if (slotMax != null) {\n+            return (short)(slotMax);\n+        }\n+        short ret = 0;\n+        MapleData item = getItemData(itemId);\n+        if (item != null) {\n+            MapleData smEntry = item.getChildByPath(\"info/slotMax\");\n+            if (smEntry == null) {\n+                ret = 100;\n+            } else {\n+                ret = (short) MapleDataTool.getInt(smEntry);\n+            }\n+        }\n+        \n+        slotMaxCache.put(itemId, ret);\n+        return (short)(ret);\n+    }\n+\n+    public int getMeso(int itemId) {\n+        if (getMesoCache.containsKey(itemId)) {\n+            return getMesoCache.get(itemId);\n+        }\n+        MapleData item = getItemData(itemId);\n+        if (item == null) {\n+            return -1;\n+        }\n+        int pEntry;\n+        MapleData pData = item.getChildByPath(\"info/meso\");\n+        if (pData == null) {\n+            return -1;\n+        }\n+        pEntry = MapleDataTool.getInt(pData);\n+        getMesoCache.put(itemId, pEntry);\n+        return pEntry;\n+    }\n+\n+    public int getWholePrice(int itemId) {\n+        if (wholePriceCache.containsKey(itemId)) {\n+            return wholePriceCache.get(itemId);\n+        }\n+        MapleData item = getItemData(itemId);\n+        if (item == null) {\n+            return -1;\n+        }\n+        int pEntry;\n+        MapleData pData = item.getChildByPath(\"info/price\");\n+        if (pData == null) {\n+            return -1;\n+        }\n+        pEntry = MapleDataTool.getInt(pData);\n+        wholePriceCache.put(itemId, pEntry);\n+        return pEntry;\n+    }\n+\n+    public double getPrice(int itemId) {\n+        if (priceCache.containsKey(itemId)) {\n+            return priceCache.get(itemId);\n+        }\n+        MapleData item = getItemData(itemId);\n+        if (item == null) {\n+            return -1;\n+        }\n+        double pEntry;\n+        MapleData pData = item.getChildByPath(\"info/unitPrice\");\n+        if (pData != null) {\n+            try {\n+                pEntry = MapleDataTool.getDouble(pData);\n+            } catch (Exception e) {\n+                pEntry = (double) MapleDataTool.getInt(pData);\n+            }\n+        } else {\n+            pData = item.getChildByPath(\"info/price\");\n+            if (pData == null) {\n+                return -1;\n+            }\n+            try {\n+                pEntry = (double) MapleDataTool.getInt(pData);\n+            } catch(Exception e) {\n+                priceCache.put(itemId, 0.0);\n+                return 0;\n+            }\n+        }\n+        priceCache.put(itemId, pEntry);\n+        return pEntry;\n+    }\n+    \n+    protected String getEquipmentSlot(int itemId) {\n+        if (equipmentSlotCache.containsKey(itemId)) {\n+            return equipmentSlotCache.get(itemId);\n+        }\n+        \n+        String ret = \"\";\n+        \n+        MapleData item = getItemData(itemId);\n+        \n+        if (item == null) {\n+            return null;\n+        }\n+        \n+        MapleData info = item.getChildByPath(\"info\");\n+        \n+        if (info == null) {\n+            return null;\n+        }\n+\n+        ret = MapleDataTool.getString(\"islot\", info, \"\");\n+        \n+        equipmentSlotCache.put(itemId, ret);\n+        \n+        return ret;\n+    }\n+\n+    public Map<String, Integer> getEquipStats(int itemId) {\n+        if (equipStatsCache.containsKey(itemId)) {\n+            return equipStatsCache.get(itemId);\n+        }\n+        Map<String, Integer> ret = new LinkedHashMap<>();\n+        MapleData item = getItemData(itemId);\n+        if (item == null) {\n+            return null;\n+        }\n+        MapleData info = item.getChildByPath(\"info\");\n+        if (info == null) {\n+            return null;\n+        }\n+        for (MapleData data : info.getChildren()) {\n+            if (data.getName().startsWith(\"inc\")) {\n+                ret.put(data.getName().substring(3), MapleDataTool.getIntConvert(data));\n+            }\n+            /*else if (data.getName().startsWith(\"req\"))\n+             ret.put(data.getName(), MapleDataTool.getInt(data.getName(), info, 0));*/\n+        }\n+        ret.put(\"reqJob\", MapleDataTool.getInt(\"reqJob\", info, 0));\n+        ret.put(\"reqLevel\", MapleDataTool.getInt(\"reqLevel\", info, 0));\n+        ret.put(\"reqDEX\", MapleDataTool.getInt(\"reqDEX\", info, 0));\n+        ret.put(\"reqSTR\", MapleDataTool.getInt(\"reqSTR\", info, 0));\n+        ret.put(\"reqINT\", MapleDataTool.getInt(\"reqINT\", info, 0));\n+        ret.put(\"reqLUK\", MapleDataTool.getInt(\"reqLUK\", info, 0));\n+        ret.put(\"reqPOP\", MapleDataTool.getInt(\"reqPOP\", info, 0));\n+        ret.put(\"cash\", MapleDataTool.getInt(\"cash\", info, 0));\n+        ret.put(\"tuc\", MapleDataTool.getInt(\"tuc\", info, 0));\n+        ret.put(\"cursed\", MapleDataTool.getInt(\"cursed\", info, 0));\n+        ret.put(\"success\", MapleDataTool.getInt(\"success\", info, 0));\n+        ret.put(\"fs\", MapleDataTool.getInt(\"fs\", info, 0));\n+        equipStatsCache.put(itemId, ret);\n+        return ret;\n+    }\n+\n+    public List<Integer> getScrollReqs(int itemId) {\n+        List<Integer> ret = new ArrayList<>();\n+        MapleData data = getItemData(itemId);\n+        data = data.getChildByPath(\"req\");\n+        if (data == null) {\n+            return ret;\n+        }\n+        for (MapleData req : data.getChildren()) {\n+            ret.add(MapleDataTool.getInt(req));\n+        }\n+        return ret;\n+    }\n+\n+    public String getName(int itemId) {\n+        if (nameCache.containsKey(itemId)) {\n+            return nameCache.get(itemId);\n+        }\n+        MapleData strings = getStringData(itemId);\n+        if (strings == null) {\n+            return null;\n+        }\n+        String ret = MapleDataTool.getString(\"name\", strings, null);\n+        nameCache.put(itemId, ret);\n+        return ret;\n+    }\n+\n+    public String getMsg(int itemId) {\n+        if (msgCache.containsKey(itemId)) {\n+            return msgCache.get(itemId);\n+        }\n+        MapleData strings = getStringData(itemId);\n+        if (strings == null) {\n+            return null;\n+        }\n+        String ret = MapleDataTool.getString(\"msg\", strings, null);\n+        msgCache.put(itemId, ret);\n+        return ret;\n+    }\n+\n+    public boolean isDropRestricted(int itemId) {\n+        if (dropRestrictionCache.containsKey(itemId)) {\n+            return dropRestrictionCache.get(itemId);\n+        }\n+        MapleData data = getItemData(itemId);\n+        boolean bRestricted = MapleDataTool.getIntConvert(\"info/tradeBlock\", data, 0) == 1;\n+        if (!bRestricted) {\n+        \tbRestricted = MapleDataTool.getIntConvert(\"info/accountSharable\", data, 0) == 1;\n+        }\n+        if (!bRestricted) {\n+            bRestricted = MapleDataTool.getIntConvert(\"info/quest\", data, 0) == 1;\n+        }\n+        dropRestrictionCache.put(itemId, bRestricted);\n+        return bRestricted;\n+    }\n+\n+    public boolean isPickupRestricted(int itemId) {\n+        if (pickupRestrictionCache.containsKey(itemId)) {\n+            return pickupRestrictionCache.get(itemId);\n+        }\n+        MapleData data = getItemData(itemId);\n+        boolean bRestricted = MapleDataTool.getIntConvert(\"info/only\", data, 0) == 1;\n+        pickupRestrictionCache.put(itemId, bRestricted);\n+        return bRestricted;\n+    }\n+\n+    public Map<String, Integer> getSkillStats(int itemId, double playerJob) {\n+        Map<String, Integer> ret = new LinkedHashMap<>();\n+        MapleData item = getItemData(itemId);\n+        if (item == null) {\n+            return null;\n+        }\n+        MapleData info = item.getChildByPath(\"info\");\n+        if (info == null) {\n+            return null;\n+        }\n+        for (MapleData data : info.getChildren()) {\n+            if (data.getName().startsWith(\"inc\")) {\n+                ret.put(data.getName().substring(3), MapleDataTool.getIntConvert(data));\n+            }\n+        }\n+        ret.put(\"masterLevel\", MapleDataTool.getInt(\"masterLevel\", info, 0));\n+        ret.put(\"reqSkillLevel\", MapleDataTool.getInt(\"reqSkillLevel\", info, 0));\n+        ret.put(\"success\", MapleDataTool.getInt(\"success\", info, 0));\n+        MapleData skill = info.getChildByPath(\"skill\");\n+        int curskill;\n+        for (int i = 0; i < skill.getChildren().size(); i++) {\n+            curskill = MapleDataTool.getInt(Integer.toString(i), skill, 0);\n+            if (curskill == 0) {\n+                break;\n+            }\n+            if (curskill / 10000 == playerJob) {\n+                ret.put(\"skillid\", curskill);\n+                break;\n+            }\n+        }\n+        if (ret.get(\"skillid\") == null) {\n+            ret.put(\"skillid\", 0);\n+        }\n+        return ret;\n+    }\n+\n+    public List<Integer> petsCanConsume(int itemId) {\n+        List<Integer> ret = new ArrayList<>();\n+        MapleData data = getItemData(itemId);\n+        int curPetId;\n+        for (int i = 0; i < data.getChildren().size(); i++) {\n+            curPetId = MapleDataTool.getInt(\"spec/\" + Integer.toString(i), data, 0);\n+            if (curPetId == 0) {\n+                break;\n+            }\n+            ret.add(Integer.valueOf(curPetId));\n+        }\n+        return ret;\n+    }\n+\n+    public boolean isQuestItem(int itemId) {\n+        if (isQuestItemCache.containsKey(itemId)) {\n+            return isQuestItemCache.get(itemId);\n+        }\n+        MapleData data = getItemData(itemId);\n+        boolean questItem = MapleDataTool.getIntConvert(\"info/quest\", data, 0) == 1;\n+        isQuestItemCache.put(itemId, questItem);\n+        return questItem;\n+    }\n+\n+    public int getQuestIdFromItem(int itemId) {\n+        MapleData data = getItemData(itemId);\n+        int questItem = MapleDataTool.getIntConvert(\"info/quest\", data, 0);\n+        return questItem;\n+    }\n+\n+    public boolean isUntradeableOnEquip(int itemId) {\n+        if (onEquipUntradableCache.containsKey(itemId)) {\n+            return onEquipUntradableCache.get(itemId);\n+        }\n+        boolean untradableOnEquip = MapleDataTool.getIntConvert(\"info/equipTradeBlock\", getItemData(itemId), 0) > 0;\n+        onEquipUntradableCache.put(itemId, untradableOnEquip);\n+        return untradableOnEquip;\n+    }\n+\n+    public boolean isKarmaAble(int itemId) {\n+        if (karmaCache.containsKey(itemId)) {\n+            return karmaCache.get(itemId);\n+        }\n+        boolean bRestricted = MapleDataTool.getIntConvert(\"info/tradeAvailable\", getItemData(itemId), 0) > 0;\n+        karmaCache.put(itemId, bRestricted);\n+        return bRestricted;\n+    }\n+\n+    public int getStateChangeItem(int itemId) {\n+        if (triggerItemCache.containsKey(itemId)) {\n+            return triggerItemCache.get(itemId);\n+        } else {\n+            int triggerItem = MapleDataTool.getIntConvert(\"info/stateChangeItem\", getItemData(itemId), 0);\n+            triggerItemCache.put(itemId, triggerItem);\n+            return triggerItem;\n+        }\n+    }\n+\n+    public int getExpById(int itemId) {\n+        if (expCache.containsKey(itemId)) {\n+            return expCache.get(itemId);\n+        } else {\n+            int exp = MapleDataTool.getIntConvert(\"spec/exp\", getItemData(itemId), 0);\n+            expCache.put(itemId, exp);\n+            return exp;\n+        }\n+    }\n+\n+    public int getMaxLevelById(int itemId) {\n+        if (levelCache.containsKey(itemId)) {\n+            return levelCache.get(itemId);\n+        } else {\n+            int level = MapleDataTool.getIntConvert(\"info/maxLevel\", getItemData(itemId), 256);\n+            levelCache.put(itemId, level);\n+            return level;\n+        }\n+    }\n+\n+    public boolean isConsumeOnPickup(int itemId) {\n+        if (consumeOnPickupCache.containsKey(itemId)) {\n+            return consumeOnPickupCache.get(itemId);\n+        }\n+        MapleData data = getItemData(itemId);\n+        boolean consume = MapleDataTool.getIntConvert(\"spec/consumeOnPickup\", data, 0) == 1 || MapleDataTool.getIntConvert(\"specEx/consumeOnPickup\", data, 0) == 1;\n+        consumeOnPickupCache.put(itemId, consume);\n+        return consume;\n+    }\n+\n+    public boolean isCash(int itemId) {\n+        return itemId / 1000000 == 5 || getEquipStats(itemId).get(\"cash\") == 1;\n+    }\n+    \n+    public ArrayList<Pair<Integer, String>> getItemDataByName(String name)\n+    {\n+        ArrayList<Pair<Integer, String>> ret = new ArrayList<>();\n+         for (Pair<Integer, String> itemPair : MapleItemInformationProvider.getInstance().getAllItems()) {\n+                    if (itemPair.getRight().toLowerCase().contains(name.toLowerCase())) {\n+                            ret.add(itemPair);\n+                        }\n+                    }\n+         return ret;\n+    }\n+}"}, {"sha": "f88718cbe3e8471b9ccca9461e4978c346b1c43c", "filename": "tools/MapleCashCosmeticsFetcher/src/tools/Pair.java", "status": "added", "additions": 121, "deletions": 0, "changes": 121, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/Pair.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/Pair.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/tools/Pair.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,121 @@\n+/*\n+This file is part of the OdinMS Maple Story Server\n+Copyright (C) 2008 ~ 2010 Patrick Huy <patrick.huy@frz.cc> \n+Matthias Butz <matze@odinms.de>\n+Jan Christian Meyer <vimes@odinms.de>\n+\n+This program is free software: you can redistribute it and/or modify\n+it under the terms of the GNU Affero General Public License version 3\n+as published by the Free Software Foundation. You may not use, modify\n+or distribute this program under any other version of the\n+GNU Affero General Public License.\n+\n+This program is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU Affero General Public License for more details.\n+\n+You should have received a copy of the GNU Affero General Public License\n+along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+package tools;\n+\n+/**\n+ * Represents a pair of values.\n+ * \n+ * @author Frz\n+ * @since Revision 333\n+ * @version 1.0\n+ * \n+ * @param <E> The type of the left value.\n+ * @param <F> The type of the right value.\n+ */\n+public class Pair<E, F> {\n+\n+    public E left;\n+    public F right;\n+\n+    /**\n+     * Class constructor - pairs two objects together.\n+     *\n+     * @param left The left object.\n+     * @param right The right object.\n+     */\n+    public Pair(E left, F right) {\n+        this.left = left;\n+        this.right = right;\n+    }\n+\n+    /**\n+     * Gets the left value.\n+     *\n+     * @return The left value.\n+     */\n+    public E getLeft() {\n+        return left;\n+    }\n+\n+    /**\n+     * Gets the right value.\n+     *\n+     * @return The right value.\n+     */\n+    public F getRight() {\n+        return right;\n+    }\n+\n+    /**\n+     * Turns the pair into a string.\n+     *\n+     * @return Each value of the pair as a string joined by a colon.\n+     */\n+    @Override\n+    public String toString() {\n+        return left.toString() + \":\" + right.toString();\n+    }\n+\n+    /**\n+     * Gets the hash code of this pair.\n+     */\n+    @Override\n+    public int hashCode() {\n+        final int prime = 31;\n+        int result = 1;\n+        result = prime * result + ((left == null) ? 0 : left.hashCode());\n+        result = prime * result + ((right == null) ? 0 : right.hashCode());\n+        return result;\n+    }\n+\n+    /**\n+     * Checks to see if two pairs are equal.\n+     */\n+    @SuppressWarnings(\"unchecked\")\n+    @Override\n+    public boolean equals(Object obj) {\n+        if (this == obj) {\n+            return true;\n+        }\n+        if (obj == null) {\n+            return false;\n+        }\n+        if (getClass() != obj.getClass()) {\n+            return false;\n+        }\n+        final Pair other = (Pair) obj;\n+        if (left == null) {\n+            if (other.left != null) {\n+                return false;\n+            }\n+        } else if (!left.equals(other.left)) {\n+            return false;\n+        }\n+        if (right == null) {\n+            if (other.right != null) {\n+                return false;\n+            }\n+        } else if (!right.equals(other.right)) {\n+            return false;\n+        }\n+        return true;\n+    }\n+}\n\\ No newline at end of file"}, {"sha": "b471e4aef27e444fdf354af9a71e001307dfe2bd", "filename": "tools/MapleCashCosmeticsFetcher/src/tools/StringUtil.java", "status": "added", "additions": 128, "deletions": 0, "changes": 128, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/StringUtil.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/StringUtil.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/tools/StringUtil.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,128 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package tools;\n+\n+public class StringUtil {\n+\t/**\n+\t * Gets a string padded from the left to <code>length</code> by\n+\t * <code>padchar</code>.\n+\t *\n+\t * @param in The input string to be padded.\n+\t * @param padchar The character to pad with.\n+\t * @param length The length to pad to.\n+\t * @return The padded string.\n+\t */\n+\tpublic static String getLeftPaddedStr(String in, char padchar, int length) {\n+\t\tStringBuilder builder = new StringBuilder(length);\n+\t\tfor (int x = in.length(); x < length; x++) {\n+\t\t\tbuilder.append(padchar);\n+\t\t}\n+\t\tbuilder.append(in);\n+\t\treturn builder.toString();\n+\t}\n+\n+\t/**\n+\t * Gets a string padded from the right to <code>length</code> by\n+\t * <code>padchar</code>.\n+\t *\n+\t * @param in The input string to be padded.\n+\t * @param padchar The character to pad with.\n+\t * @param length The length to pad to.\n+\t * @return The padded string.\n+\t */\n+\tpublic static String getRightPaddedStr(String in, char padchar, int length) {\n+\t\tStringBuilder builder = new StringBuilder(in);\n+\t\tfor (int x = in.length(); x < length; x++) {\n+\t\t\tbuilder.append(padchar);\n+\t\t}\n+\t\treturn builder.toString();\n+\t}\n+\n+\t/**\n+\t * Joins an array of strings starting from string <code>start</code> with\n+\t * a space.\n+\t *\n+\t * @param arr The array of strings to join.\n+\t * @param start Starting from which string.\n+\t * @return The joined strings.\n+\t */\n+\tpublic static String joinStringFrom(String arr[], int start) {\n+\t\treturn joinStringFrom(arr, start, \" \");\n+\t}\n+\n+\t/**\n+\t * Joins an array of strings starting from string <code>start</code> with\n+\t * <code>sep</code> as a seperator.\n+\t *\n+\t * @param arr The array of strings to join.\n+\t * @param start Starting from which string.\n+\t * @return The joined strings.\n+\t */\n+\tpublic static String joinStringFrom(String arr[], int start, String sep) {\n+\t\tStringBuilder builder = new StringBuilder();\n+\t\tfor (int i = start; i < arr.length; i++) {\n+\t\t\tbuilder.append(arr[i]);\n+\t\t\tif (i != arr.length - 1) {\n+\t\t\t\tbuilder.append(sep);\n+\t\t\t}\n+\t\t}\n+\t\treturn builder.toString();\n+\t}\n+\n+\t/**\n+\t * Makes an enum name human readable (fixes spaces, capitalization, etc)\n+\t *\n+\t * @param enumName The name of the enum to neaten up.\n+\t * @return The human-readable enum name.\n+\t */\n+\tpublic static String makeEnumHumanReadable(String enumName) {\n+\t\tStringBuilder builder = new StringBuilder(enumName.length() + 1);\n+\t\tString[] words = enumName.split(\"_\");\n+\t\tfor (String word : words) {\n+\t\t\tif (word.length() <= 2) {\n+\t\t\t\tbuilder.append(word); // assume that it's an abbrevation\n+\t\t\t} else {\n+\t\t\t\tbuilder.append(word.charAt(0));\n+\t\t\t\tbuilder.append(word.substring(1).toLowerCase());\n+\t\t\t}\n+\t\t\tbuilder.append(' ');\n+\t\t}\n+\t\treturn builder.substring(0, enumName.length());\n+\t}\n+\n+\t/**\n+\t * Counts the number of <code>chr</code>'s in <code>str</code>.\n+\t *\n+\t * @param str The string to check for instances of <code>chr</code>.\n+\t * @param chr The character to check for.\n+\t * @return The number of times <code>chr</code> occurs in <code>str</code>.\n+\t */\n+\tpublic static int countCharacters(String str, char chr) {\n+\t\tint ret = 0;\n+\t\tfor (int i = 0; i < str.length(); i++) {\n+\t\t\tif (str.charAt(i) == chr) {\n+\t\t\t\tret++;\n+\t\t\t}\n+\t\t}\n+\t\treturn ret;\n+\t}\n+}\n\\ No newline at end of file"}, {"sha": "eac7de21eaac3423b32736fe92c5bd80da94d2a6", "filename": "tools/MapleCashCosmeticsFetcher/src/tools/data/input/ByteArrayByteStream.java", "status": "added", "additions": 72, "deletions": 0, "changes": 72, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/data/input/ByteArrayByteStream.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/data/input/ByteArrayByteStream.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/tools/data/input/ByteArrayByteStream.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,72 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package tools.data.input;\n+\n+import java.io.IOException;\n+import tools.HexTool;\n+\n+public class ByteArrayByteStream implements SeekableInputStreamBytestream {\n+    private int pos = 0;\n+    private long bytesRead = 0;\n+    private byte[] arr;\n+\n+    public ByteArrayByteStream(byte[] arr) {\n+        this.arr = arr;\n+    }\n+\n+    @Override\n+    public long getPosition() {\n+        return pos;\n+    }\n+\n+    @Override\n+    public void seek(long offset) throws IOException {\n+        pos = (int) offset;\n+    }\n+\n+    @Override\n+    public long getBytesRead() {\n+        return bytesRead;\n+    }\n+\n+    @Override\n+    public int readByte() {\n+        bytesRead++;\n+        return ((int) arr[pos++]) & 0xFF;\n+    }\n+\n+    @Override\n+    public String toString() {\n+        String nows = \"kevintjuh93 pwns\";//I lol'd\n+        if (arr.length - pos > 0) {\n+            byte[] now = new byte[arr.length - pos];\n+            System.arraycopy(arr, pos, now, 0, arr.length - pos);\n+            nows = HexTool.toString(now);\n+        }\n+        return \"All: \" + HexTool.toString(arr) + \"\\nNow: \" + nows;\n+    }\n+  \n+    @Override\n+    public long available() {\n+        return arr.length - pos;\n+    }\n+}"}, {"sha": "107f71843e5890dc43f8679eb7608ac631165eae", "filename": "tools/MapleCashCosmeticsFetcher/src/tools/data/input/ByteInputStream.java", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/data/input/ByteInputStream.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/data/input/ByteInputStream.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/tools/data/input/ByteInputStream.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,35 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package tools.data.input;\n+\n+/**\n+ * Represents an abstract stream of bytes.\n+ * \n+ * @author Frz\n+ * @version 1.0\n+ * @since Revision 323\n+ */\n+public interface ByteInputStream {\n+    int readByte();\n+    long getBytesRead();\n+    long available();\n+}"}, {"sha": "d08a9b8374c3b3a9c38fd898295446e7d3582d50", "filename": "tools/MapleCashCosmeticsFetcher/src/tools/data/input/GenericLittleEndianAccessor.java", "status": "added", "additions": 239, "deletions": 0, "changes": 239, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/data/input/GenericLittleEndianAccessor.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/data/input/GenericLittleEndianAccessor.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/tools/data/input/GenericLittleEndianAccessor.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,239 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package tools.data.input;\n+\n+import java.awt.Point;\n+import java.io.ByteArrayOutputStream;\n+\n+/**\n+ * Provides a generic interface to a Little Endian stream of bytes.\n+ *\n+ * @version 1.0\n+ * @author Frz\n+ * @since Revision 323\n+ */\n+public class GenericLittleEndianAccessor implements LittleEndianAccessor {\n+    private ByteInputStream bs;\n+\n+    /**\n+     * Class constructor - Wraps the accessor around a stream of bytes.\n+     *\n+     * @param bs The byte stream to wrap the accessor around.\n+     */\n+    public GenericLittleEndianAccessor(ByteInputStream bs) {\n+        this.bs = bs;\n+    }\n+\n+    /**\n+     * Read a single byte from the stream.\n+     *\n+     * @return The byte read.\n+     * @see tools.data.input.ByteInputStream#readByte\n+     */\n+    @Override\n+    public byte readByte() {\n+        return (byte) bs.readByte();\n+    }\n+\n+    /**\n+     * Reads an integer from the stream.\n+     *\n+     * @return The integer read.\n+     */\n+    @Override\n+    public int readInt() {\n+        return bs.readByte() + (bs.readByte() << 8) + (bs.readByte() << 16) + (bs.readByte() << 24);\n+    }\n+\n+    /**\n+     * Reads a short integer from the stream.\n+     *\n+     * @return The short read.\n+     */\n+    @Override\n+    public short readShort() {\n+        return (short) (bs.readByte() + (bs.readByte() << 8));\n+    }\n+\n+    /**\n+     * Reads a single character from the stream.\n+     *\n+     * @return The character read.\n+     */\n+    @Override\n+    public char readChar() {\n+        return (char) readShort();\n+    }\n+\n+    /**\n+     * Reads a long integer from the stream.\n+     *\n+     * @return The long integer read.\n+     */\n+    @Override\n+    public long readLong() {\n+        long byte1 = bs.readByte();\n+        long byte2 = bs.readByte();\n+        long byte3 = bs.readByte();\n+        long byte4 = bs.readByte();\n+        long byte5 = bs.readByte();\n+        long byte6 = bs.readByte();\n+        long byte7 = bs.readByte();\n+        long byte8 = bs.readByte();\n+        return (byte8 << 56) + (byte7 << 48) + (byte6 << 40) + (byte5 << 32) + (byte4 << 24) + (byte3 << 16) + (byte2 << 8) + byte1;\n+    }\n+\n+    /**\n+     * Reads a floating point integer from the stream.\n+     *\n+     * @return The float-type integer read.\n+     */\n+    @Override\n+    public float readFloat() {\n+        return Float.intBitsToFloat(readInt());\n+    }\n+\n+    /**\n+     * Reads a double-precision integer from the stream.\n+     *\n+     * @return The double-type integer read.\n+     */\n+    @Override\n+    public double readDouble() {\n+        return Double.longBitsToDouble(readLong());\n+    }\n+\n+    /**\n+     * Reads an ASCII string from the stream with length <code>n</code>.\n+     *\n+     * @param n Number of characters to read.\n+     * @return The string read.\n+     */\n+    public final String readAsciiString(int n) {\n+        char ret[] = new char[n];\n+        for (int x = 0; x < n; x++) {\n+            ret[x] = (char) readByte();\n+        }\n+        return String.valueOf(ret);\n+    }\n+\n+    /**\n+     * Reads a null-terminated string from the stream.\n+     *\n+     * @return The string read.\n+     */\n+    public final String readNullTerminatedAsciiString() {\n+        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n+        byte b;\n+        while (true) {\n+            b = readByte();\n+            if (b == 0) {\n+                break;\n+            }\n+            baos.write(b);\n+        }\n+        byte[] buf = baos.toByteArray();\n+        char[] chrBuf = new char[buf.length];\n+        for (int x = 0; x < buf.length; x++) {\n+            chrBuf[x] = (char) buf[x];\n+        }\n+        return String.valueOf(chrBuf);\n+    }\n+\n+    /**\n+     * Gets the number of bytes read from the stream so far.\n+     *\n+     * @return A long integer representing the number of bytes read.\n+     * @see tools.data.input.ByteInputStream#getBytesRead()\n+     */\n+    public long getBytesRead() {\n+        return bs.getBytesRead();\n+    }\n+\n+    /**\n+     * Reads a MapleStory convention lengthed ASCII string.\n+     * This consists of a short integer telling the length of the string,\n+     * then the string itself.\n+     *\n+     * @return The string read.\n+     */\n+    @Override\n+    public String readMapleAsciiString() {\n+        return readAsciiString(readShort());\n+    }\n+\n+    /**\n+     * Reads <code>num</code> bytes off the stream.\n+     *\n+     * @param num The number of bytes to read.\n+     * @return An array of bytes with the length of <code>num</code>\n+     */\n+    @Override\n+    public byte[] read(int num) {\n+        byte[] ret = new byte[num];\n+        for (int x = 0; x < num; x++) {\n+            ret[x] = readByte();\n+        }\n+        return ret;\n+    }\n+\n+    /**\n+     * Reads a MapleStory Position information.\n+     * This consists of 2 short integer.\n+     *\n+     * @return The Position read.\n+     */\n+    @Override\n+    public final Point readPos() {\n+\tfinal int x = readShort();\n+\tfinal int y = readShort();\n+\treturn new Point(x, y);\n+    }\n+\n+    /**\n+     * Skips the current position of the stream <code>num</code> bytes ahead.\n+     *\n+     * @param num Number of bytes to skip.\n+     */\n+    @Override\n+    public void skip(int num) {\n+        for (int x = 0; x < num; x++) {\n+            readByte();\n+        }\n+    }\n+\n+    /**\n+     * @see tools.data.input.ByteInputStream#available\n+     */\n+    @Override\n+    public long available() {\n+        return bs.available();\n+    }\n+\n+    /**\n+     * @see java.lang.Object#toString\n+     */\n+    @Override\n+    public String toString() {\n+        return bs.toString();\n+    }\n+}\n\\ No newline at end of file"}, {"sha": "fdd147d79637904e92445553643117eb0aa6ebf4", "filename": "tools/MapleCashCosmeticsFetcher/src/tools/data/input/GenericSeekableLittleEndianAccessor.java", "status": "added", "additions": 91, "deletions": 0, "changes": 91, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/data/input/GenericSeekableLittleEndianAccessor.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/data/input/GenericSeekableLittleEndianAccessor.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/tools/data/input/GenericSeekableLittleEndianAccessor.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,91 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package tools.data.input;\n+\n+import java.io.IOException;\n+\n+/**\n+ * Provides an abstract accessor to a generic Little Endian byte stream. This\n+ * accessor is seekable.\n+ * \n+ * @author Frz\n+ * @version 1.0\n+ * @since Revision 323\n+ * @see tools.data.input.GenericLittleEndianAccessor\n+ */\n+public class GenericSeekableLittleEndianAccessor extends GenericLittleEndianAccessor implements SeekableLittleEndianAccessor {\n+    private SeekableInputStreamBytestream bs;\n+\n+    /**\n+     * Class constructor\n+     * Provide a seekable input stream to wrap this object around.\n+     *\n+     * @param bs The byte stream to wrap this around.\n+     */\n+    public GenericSeekableLittleEndianAccessor(SeekableInputStreamBytestream bs) {\n+        super(bs);\n+        this.bs = bs;\n+    }\n+\n+    /**\n+     * Seek the pointer to <code>offset</code>\n+     *\n+     * @param offset The offset to seek to.\n+     * @see tools.data.input.SeekableInputStreamBytestream#seek\n+     */\n+    @Override\n+    public void seek(long offset) {\n+        try {\n+            bs.seek(offset);\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+            System.out.println(\"Seek failed \" + e);\n+        }\n+    }\n+\n+    /**\n+     * Get the current position of the pointer.\n+     *\n+     * @return The current position of the pointer as a long integer.\n+     * @see tools.data.input.SeekableInputStreamBytestream#getPosition\n+     */\n+    @Override\n+    public long getPosition() {\n+        try {\n+            return bs.getPosition();\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+            System.out.println(\"getPosition failed\" + e);\n+            return -1;\n+        }\n+    }\n+\n+    /**\n+     * Skip <code>num</code> number of bytes in the stream.\n+     *\n+     * @param num The number of bytes to skip.\n+     */\n+    @Override\n+    public void skip(int num) {\n+        seek(getPosition() + num);\n+    }\n+}"}, {"sha": "70aef3489f8eeaa27e8236c069dd847e069c0a85", "filename": "tools/MapleCashCosmeticsFetcher/src/tools/data/input/InputStreamByteStream.java", "status": "added", "additions": 93, "deletions": 0, "changes": 93, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/data/input/InputStreamByteStream.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/data/input/InputStreamByteStream.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/tools/data/input/InputStreamByteStream.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,93 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package tools.data.input;\n+\n+import java.io.IOException;\n+import java.io.InputStream;\n+\n+/**\n+ * Provides an abstract wrapper to a stream of bytes.\n+ * \n+ * @author Frz\n+ * @version 1.0\n+ * @since Revision 323\n+ */\n+public class InputStreamByteStream implements ByteInputStream {\n+    private InputStream is;\n+    private long read = 0;\n+\n+    /**\n+     * Class constructor.\n+     * Provide an input stream to wrap this around.\n+     *\n+     * @param is The input stream to wrap this object around.\n+     */\n+    public InputStreamByteStream(InputStream is) {\n+        this.is = is;\n+    }\n+\n+    /**\n+     * Reads the next byte from the stream.\n+     *\n+     * @return Then next byte in the stream.\n+     */\n+    @Override\n+    public int readByte() {\n+        int temp;\n+        try {\n+            temp = is.read();\n+            if (temp == -1) {\n+                throw new RuntimeException(\"EOF\");\n+            }\n+            read++;\n+            return temp;\n+        } catch (IOException e) {\n+            throw new RuntimeException(e);\n+        }\n+    }\n+\n+    /**\n+     * Gets the number of bytes read from the stream.\n+     *\n+     * @return The number of bytes read as a long integer.\n+     */\n+    @Override\n+    public long getBytesRead() {\n+        return read;\n+    }\n+\n+    /**\n+     * Returns the number of bytes left in the stream.\n+     *\n+     * @return The number of bytes available for reading as a long integer.\n+     */\n+    @Override\n+    public long available() {\n+        try {\n+            return is.available();\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+            System.out.println(\"ERROR\" + e);\n+            return 0;\n+        }\n+    }\n+}"}, {"sha": "f991dbf537e4230969cf96296d460306fb52c019", "filename": "tools/MapleCashCosmeticsFetcher/src/tools/data/input/LittleEndianAccessor.java", "status": "added", "additions": 45, "deletions": 0, "changes": 45, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/data/input/LittleEndianAccessor.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/data/input/LittleEndianAccessor.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/tools/data/input/LittleEndianAccessor.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,45 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package tools.data.input;\n+\n+import java.awt.Point;\n+\n+/**\n+ * @author Frz\n+ */\n+public interface LittleEndianAccessor {\n+    byte readByte();\n+    char readChar();\n+    short readShort();\n+    int readInt();\n+    Point readPos();\n+    long readLong();\n+    void skip(int num);\n+    byte[] read(int num);\n+    float readFloat();\n+    double readDouble();\n+    String readAsciiString(int n);\n+    String readNullTerminatedAsciiString();\n+    String readMapleAsciiString();\n+    long getBytesRead();\n+    long available();\n+}"}, {"sha": "c0004be17fd1125ee7bff7911c3be489bc488f5c", "filename": "tools/MapleCashCosmeticsFetcher/src/tools/data/input/RandomAccessByteStream.java", "status": "added", "additions": 84, "deletions": 0, "changes": 84, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/data/input/RandomAccessByteStream.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/data/input/RandomAccessByteStream.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/tools/data/input/RandomAccessByteStream.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,84 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package tools.data.input;\n+\n+import java.io.IOException;\n+import java.io.RandomAccessFile;\n+\n+/**\n+ * Provides an abstract layer to a byte stream. This layer can be accessed\n+ * randomly.\n+ * \n+ * @author Frz\n+ * @version 1.0\n+ * @since Revision 323\n+ */\n+public class RandomAccessByteStream implements SeekableInputStreamBytestream {\n+    private RandomAccessFile raf;\n+    private long read = 0;\n+\n+    public RandomAccessByteStream(RandomAccessFile raf) {\n+        super();\n+        this.raf = raf;\n+    }\n+\n+    @Override\n+    public int readByte() {\n+        int temp;\n+        try {\n+            temp = raf.read();\n+            if (temp == -1) {\n+                throw new RuntimeException(\"EOF\");\n+            }\n+            read++;\n+            return temp;\n+        } catch (IOException e) {\n+            throw new RuntimeException(e);\n+        }\n+    }\n+\n+    @Override\n+    public void seek(long offset) throws IOException {\n+        raf.seek(offset);\n+    }\n+\n+    @Override\n+    public long getPosition() throws IOException {\n+        return raf.getFilePointer();\n+    }\n+\n+    @Override\n+    public long getBytesRead() {\n+        return read;\n+    }\n+\n+    @Override\n+    public long available() {\n+        try {\n+            return raf.length() - raf.getFilePointer();\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+            System.out.println(\"ERROR \" + e);\n+            return 0;\n+        }\n+    }\n+}"}, {"sha": "f4922dc876ef24832968388c0d62c27e9303cf20", "filename": "tools/MapleCashCosmeticsFetcher/src/tools/data/input/SeekableInputStreamBytestream.java", "status": "added", "additions": 51, "deletions": 0, "changes": 51, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/data/input/SeekableInputStreamBytestream.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/data/input/SeekableInputStreamBytestream.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/tools/data/input/SeekableInputStreamBytestream.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,51 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package tools.data.input;\n+\n+import java.io.IOException;\n+\n+/**\n+ * Provides an abstract interface to a stream of bytes. This stream can be\n+ * seeked.\n+ * \n+ * @author Frz\n+ * @version 1.0\n+ * @since 299\n+ */\n+public interface SeekableInputStreamBytestream extends ByteInputStream {\n+    /**\n+     * Seeks the stream by the specified offset.\n+     *\n+     * @param offset\n+     *            Number of bytes to seek.\n+     * @throws IOException\n+     */\n+    void seek(long offset) throws IOException;\n+\n+    /**\n+     * Gets the current position of the stream.\n+     *\n+     * @return The stream position as a long integer.\n+     * @throws IOException\n+     */\n+    long getPosition() throws IOException;\n+}"}, {"sha": "16b2317f7a5b5d000be9d7f12cd86bdc30d2ed89", "filename": "tools/MapleCashCosmeticsFetcher/src/tools/data/input/SeekableLittleEndianAccessor.java", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/data/input/SeekableLittleEndianAccessor.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/data/input/SeekableLittleEndianAccessor.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/tools/data/input/SeekableLittleEndianAccessor.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,27 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package tools.data.input;\n+\n+public interface SeekableLittleEndianAccessor extends LittleEndianAccessor {\n+    void seek(long offset);\n+    long getPosition();\n+}"}, {"sha": "80cbc9301e410f00b74731f7f8ee366109f12a1d", "filename": "tools/MapleCashCosmeticsFetcher/src/tools/data/output/BAOSByteOutputStream.java", "status": "added", "additions": 56, "deletions": 0, "changes": 56, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/data/output/BAOSByteOutputStream.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/data/output/BAOSByteOutputStream.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/tools/data/output/BAOSByteOutputStream.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,56 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package tools.data.output;\n+\n+import java.io.ByteArrayOutputStream;\n+\n+/**\n+ * Uses a byte array to output a stream of bytes.\n+ * \n+ * @author Frz\n+ * @version 1.0\n+ * @since Revision 352\n+ */\n+class BAOSByteOutputStream implements ByteOutputStream {\n+    private ByteArrayOutputStream baos;\n+\n+    /**\n+     * Class constructor - Wraps the stream around a Java BAOS.\n+     *\n+     * @param baos <code>The ByteArrayOutputStream</code> to wrap this around.\n+     */\n+    BAOSByteOutputStream(ByteArrayOutputStream baos) {\n+        super();\n+        this.baos = baos;\n+    }\n+\n+    /**\n+     * Writes a byte to the stream.\n+     *\n+     * @param b The byte to write to the stream.\n+     * @see tools.data.output.ByteOutputStream#writeByte(byte)\n+     */\n+    @Override\n+    public void writeByte(byte b) {\n+        baos.write(b);\n+    }\n+}"}, {"sha": "0df7ca775362e7ef40ee4e5fa9d9b36ebd0b5001", "filename": "tools/MapleCashCosmeticsFetcher/src/tools/data/output/ByteOutputStream.java", "status": "added", "additions": 38, "deletions": 0, "changes": 38, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/data/output/ByteOutputStream.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/data/output/ByteOutputStream.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/tools/data/output/ByteOutputStream.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,38 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package tools.data.output;\n+\n+/**\n+ * Provides an interface to an output stream of bytes.\n+ * \n+ * @author Frz\n+ * @since Revision 323\n+ * @version 1.0\n+ */\n+interface ByteOutputStream {\n+    /**\n+     * Writes a byte to the stream.\n+     *\n+     * @param b The byte to write.\n+     */\n+    void writeByte(byte b);\n+}"}, {"sha": "e804fd8000c7748c854795b388a49da0a98666d9", "filename": "tools/MapleCashCosmeticsFetcher/src/tools/data/output/GenericLittleEndianWriter.java", "status": "added", "additions": 183, "deletions": 0, "changes": 183, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/data/output/GenericLittleEndianWriter.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/data/output/GenericLittleEndianWriter.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/tools/data/output/GenericLittleEndianWriter.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,183 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package tools.data.output;\n+\n+import java.awt.Point;\n+import java.nio.charset.Charset;\n+\n+/**\n+ * Provides a generic writer of a little-endian sequence of bytes.\n+ * \n+ * @author Frz\n+ * @version 1.0\n+ * @since Revision 323\n+ */\n+public class GenericLittleEndianWriter implements LittleEndianWriter {\n+    private static Charset ASCII = Charset.forName(\"US-ASCII\");\n+    private ByteOutputStream bos;\n+\n+    /**\n+     * Class constructor - Protected to prevent instantiation with no arguments.\n+     */\n+    protected GenericLittleEndianWriter() {\n+        // Blah!\n+    }\n+\n+    /**\n+     * Sets the byte-output stream for this instance of the object.\n+     *\n+     * @param bos The new output stream to set.\n+     */\n+    void setByteOutputStream(ByteOutputStream bos) {\n+        this.bos = bos;\n+    }\n+\n+    /**\n+     * Write an array of bytes to the stream.\n+     *\n+     * @param b The bytes to write.\n+     */\n+    @Override\n+    public void write(byte[] b) {\n+        for (int x = 0; x < b.length; x++) {\n+            bos.writeByte(b[x]);\n+        }\n+    }\n+\n+    /**\n+     * Write a byte to the stream.\n+     *\n+     * @param b The byte to write.\n+     */\n+    @Override\n+    public void write(byte b) {\n+        bos.writeByte(b);\n+    }\n+\n+    /**\n+     * Write a byte in integer form to the stream.\n+     *\n+     * @param b The byte as an <code>Integer</code> to write.\n+     */\n+    @Override\n+    public void write(int b) {\n+        bos.writeByte((byte) b);\n+    }\n+\n+    @Override\n+    public void skip(int b) {\n+        write(new byte[b]);\n+    }\n+\n+    /**\n+     * Write a short integer to the stream.\n+     *\n+     * @param i The short integer to write.\n+     */\n+    @Override\n+    public void writeShort(int i) {\n+        bos.writeByte((byte) (i & 0xFF));\n+        bos.writeByte((byte) ((i >>> 8) & 0xFF));\n+    }\n+\n+    /**\n+     * Writes an integer to the stream.\n+     *\n+     * @param i The integer to write.\n+     */\n+    @Override\n+    public void writeInt(int i) {\n+        bos.writeByte((byte) (i & 0xFF));\n+        bos.writeByte((byte) ((i >>> 8) & 0xFF));\n+        bos.writeByte((byte) ((i >>> 16) & 0xFF));\n+        bos.writeByte((byte) ((i >>> 24) & 0xFF));\n+    }\n+\n+    /**\n+     * Writes an ASCII string the the stream.\n+     *\n+     * @param s The ASCII string to write.\n+     */\n+    @Override\n+    public void writeAsciiString(String s) {\n+        write(s.getBytes(ASCII));\n+    }\n+\n+    /**\n+     * Writes a maple-convention ASCII string to the stream.\n+     *\n+     * @param s The ASCII string to use maple-convention to write.\n+     */\n+    @Override\n+    public void writeMapleAsciiString(String s) {\n+        writeShort((short) s.length());\n+        writeAsciiString(s);\n+    }\n+\n+    /**\n+     * Writes a null-terminated ASCII string to the stream.\n+     *\n+     * @param s The ASCII string to write.\n+     */\n+    @Override\n+    public void writeNullTerminatedAsciiString(String s) {\n+        writeAsciiString(s);\n+        write(0);\n+    }\n+\n+    /**\n+     * Write a long integer to the stream.\n+     * @param l The long integer to write.\n+     */\n+    @Override\n+    public void writeLong(long l) {\n+        bos.writeByte((byte) (l & 0xFF));\n+        bos.writeByte((byte) ((l >>> 8) & 0xFF));\n+        bos.writeByte((byte) ((l >>> 16) & 0xFF));\n+        bos.writeByte((byte) ((l >>> 24) & 0xFF));\n+        bos.writeByte((byte) ((l >>> 32) & 0xFF));\n+        bos.writeByte((byte) ((l >>> 40) & 0xFF));\n+        bos.writeByte((byte) ((l >>> 48) & 0xFF));\n+        bos.writeByte((byte) ((l >>> 56) & 0xFF));\n+    }\n+\n+    /**\n+     * Writes a 2D 4 byte position information\n+     *\n+     * @param s The Point position to write.\n+     */\n+    @Override\n+    public void writePos(Point s) {\n+        writeShort(s.x);\n+        writeShort(s.y);\n+    }\n+\n+    /**\n+     * Writes a boolean true ? 1 : 0\n+     *\n+     * @param b The boolean to write.\n+     */\n+    @Override\n+    public void writeBool(final boolean b) {\n+        write(b ? 1 : 0);\n+    }\n+}"}, {"sha": "f17bd7c72ec04f5abf2032a6622141630bd3dc81", "filename": "tools/MapleCashCosmeticsFetcher/src/tools/data/output/LittleEndianWriter.java", "status": "added", "additions": 114, "deletions": 0, "changes": 114, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/data/output/LittleEndianWriter.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/data/output/LittleEndianWriter.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/tools/data/output/LittleEndianWriter.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,114 @@\n+/*\n+ This file is part of the OdinMS Maple Story Server\n+ Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+ Matthias Butz <matze@odinms.de>\n+ Jan Christian Meyer <vimes@odinms.de>\n+\n+ This program is free software: you can redistribute it and/or modify\n+ it under the terms of the GNU Affero General Public License as\n+ published by the Free Software Foundation version 3 as published by\n+ the Free Software Foundation. You may not use, modify or distribute\n+ this program under any other version of the GNU Affero General Public\n+ License.\n+\n+ This program is distributed in the hope that it will be useful,\n+ but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ GNU Affero General Public License for more details.\n+\n+ You should have received a copy of the GNU Affero General Public License\n+ along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+package tools.data.output;\n+\n+import java.awt.Point;\n+\n+/**\n+ * Provides an interface to a writer class that writes a little-endian sequence\n+ * of bytes.\n+ *\n+ * @author Frz\n+ * @version 1.0\n+ * @since Revision 323\n+ */\n+public interface LittleEndianWriter {\n+\n+    /**\n+     * Write an array of bytes to the sequence.\n+     *\n+     * @param b The bytes to write.\n+     */\n+    public void write(byte b[]);\n+\n+    /**\n+     * Write a byte to the sequence.\n+     *\n+     * @param b The byte to write.\n+     */\n+    public void write(byte b);\n+\n+    /**\n+     * Write a byte in integer form to the sequence.\n+     *\n+     * @param b The byte as an <code>Integer</code> to write.\n+     */\n+    public void write(int b);\n+\n+    public void skip(int b);\n+\n+    /**\n+     * Writes an integer to the sequence.\n+     *\n+     * @param i The integer to write.\n+     */\n+    public void writeInt(int i);\n+\n+    /**\n+     * Write a short integer to the sequence.\n+     *\n+     * @param s The short integer to write.\n+     */\n+    public void writeShort(int s);\n+\n+    /**\n+     * Write a long integer to the sequence.\n+     *\n+     * @param l The long integer to write.\n+     */\n+    public void writeLong(long l);\n+\n+    /**\n+     * Writes an ASCII string the the sequence.\n+     *\n+     * @param s The ASCII string to write.\n+     */\n+    void writeAsciiString(String s);\n+\n+    /**\n+     * Writes a null-terminated ASCII string to the sequence.\n+     *\n+     * @param s The ASCII string to write.\n+     */\n+    void writeNullTerminatedAsciiString(String s);\n+\n+    /**\n+     * Writes a maple-convention ASCII string to the sequence.\n+     *\n+     * @param s The ASCII string to use maple-convention to write.\n+     */\n+    void writeMapleAsciiString(String s);\n+\n+    /**\n+     * Writes a 2D 4 byte position information\n+     *\n+     * @param s The Point position to write.\n+     */\n+    void writePos(Point s);\n+\n+    /**\n+     * Writes a boolean true ? 1 : 0\n+     *\n+     * @param b The boolean to write.\n+     */\n+    void writeBool(final boolean b);\n+}"}, {"sha": "b02365ec62c9cbaf2998c5816928195512967a7f", "filename": "tools/MapleCashCosmeticsFetcher/src/tools/data/output/MaplePacketLittleEndianWriter.java", "status": "added", "additions": 73, "deletions": 0, "changes": 73, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/data/output/MaplePacketLittleEndianWriter.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleCashCosmeticsFetcher/src/tools/data/output/MaplePacketLittleEndianWriter.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleCashCosmeticsFetcher/src/tools/data/output/MaplePacketLittleEndianWriter.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,73 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package tools.data.output;\n+\n+import java.io.ByteArrayOutputStream;\n+import tools.HexTool;\n+\n+/**\n+ * Writes a maplestory-packet little-endian stream of bytes.\n+ * \n+ * @author Frz\n+ * @version 1.0\n+ * @since Revision 352\n+ */\n+public class MaplePacketLittleEndianWriter extends GenericLittleEndianWriter {\n+    private ByteArrayOutputStream baos;\n+\n+    /**\n+     * Constructor - initializes this stream with a default size.\n+     */\n+    public MaplePacketLittleEndianWriter() {\n+        this(32);\n+    }\n+\n+    /**\n+     * Constructor - initializes this stream with size <code>size</code>.\n+     *\n+     * @param size The size of the underlying stream.\n+     */\n+    public MaplePacketLittleEndianWriter(int size) {\n+        this.baos = new ByteArrayOutputStream(size);\n+        setByteOutputStream(new BAOSByteOutputStream(baos));\n+    }\n+\n+    /**\n+     * Gets a <code>MaplePacket</code> instance representing this\n+     * sequence of bytes.\n+     *\n+     * @return A <code>MaplePacket</code> with the bytes in this stream.\n+     */\n+    public byte[] getPacket() {\n+        return baos.toByteArray();\n+    }\n+\n+    /**\n+     * Changes this packet into a human-readable hexadecimal stream of bytes.\n+     *\n+     * @return This packet as hex digits.\n+     */\n+    @Override\n+    public String toString() {\n+        return HexTool.toString(baos.toByteArray());\n+    }\n+}"}, {"sha": "aebb661d7b33256cf51654fdb9e61813d723d75a", "filename": "tools/MapleEmptyItemWzChecker/build.xml", "status": "added", "additions": 73, "deletions": 0, "changes": 73, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleEmptyItemWzChecker/build.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleEmptyItemWzChecker/build.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleEmptyItemWzChecker/build.xml?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,73 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!-- You may freely edit this file. See commented blocks below for -->\n+<!-- some examples of how to customize the build. -->\n+<!-- (If you delete it and reopen the project it will be recreated.) -->\n+<!-- By default, only the Clean and Build commands use this build script. -->\n+<!-- Commands such as Run, Debug, and Test only use this build script if -->\n+<!-- the Compile on Save feature is turned off for the project. -->\n+<!-- You can turn off the Compile on Save (or Deploy on Save) setting -->\n+<!-- in the project's Project Properties dialog box.-->\n+<project name=\"MapleEmptyItemWzChecker\" default=\"default\" basedir=\".\">\n+    <description>Builds, tests, and runs the project MapleEmptyItemWzChecker.</description>\n+    <import file=\"nbproject/build-impl.xml\"/>\n+    <!--\n+\n+    There exist several targets which are by default empty and which can be \n+    used for execution of your tasks. These targets are usually executed \n+    before and after some main targets. They are: \n+\n+      -pre-init:                 called before initialization of project properties\n+      -post-init:                called after initialization of project properties\n+      -pre-compile:              called before javac compilation\n+      -post-compile:             called after javac compilation\n+      -pre-compile-single:       called before javac compilation of single file\n+      -post-compile-single:      called after javac compilation of single file\n+      -pre-compile-test:         called before javac compilation of JUnit tests\n+      -post-compile-test:        called after javac compilation of JUnit tests\n+      -pre-compile-test-single:  called before javac compilation of single JUnit test\n+      -post-compile-test-single: called after javac compilation of single JUunit test\n+      -pre-jar:                  called before JAR building\n+      -post-jar:                 called after JAR building\n+      -post-clean:               called after cleaning build products\n+\n+    (Targets beginning with '-' are not intended to be called on their own.)\n+\n+    Example of inserting an obfuscator after compilation could look like this:\n+\n+        <target name=\"-post-compile\">\n+            <obfuscate>\n+                <fileset dir=\"${build.classes.dir}\"/>\n+            </obfuscate>\n+        </target>\n+\n+    For list of available properties check the imported \n+    nbproject/build-impl.xml file. \n+\n+\n+    Another way to customize the build is by overriding existing main targets.\n+    The targets of interest are: \n+\n+      -init-macrodef-javac:     defines macro for javac compilation\n+      -init-macrodef-junit:     defines macro for junit execution\n+      -init-macrodef-debug:     defines macro for class debugging\n+      -init-macrodef-java:      defines macro for class execution\n+      -do-jar:                  JAR building\n+      run:                      execution of project \n+      -javadoc-build:           Javadoc generation\n+      test-report:              JUnit report generation\n+\n+    An example of overriding the target for project execution could look like this:\n+\n+        <target name=\"run\" depends=\"MapleEmptyItemWzChecker-impl.jar\">\n+            <exec dir=\"bin\" executable=\"launcher.exe\">\n+                <arg file=\"${dist.jar}\"/>\n+            </exec>\n+        </target>\n+\n+    Notice that the overridden target depends on the jar target and not only on \n+    the compile target as the regular run target does. Again, for a list of available \n+    properties which you can use, check the target you are overriding in the\n+    nbproject/build-impl.xml file. \n+\n+    -->\n+</project>"}, {"sha": "2d4b2753148f43fa7f05e9187a39a43a6cd374a5", "filename": "tools/MapleEmptyItemWzChecker/lib/Report.txt", "status": "added", "additions": 149, "deletions": 0, "changes": 149, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleEmptyItemWzChecker/lib/Report.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleEmptyItemWzChecker/lib/Report.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleEmptyItemWzChecker/lib/Report.txt?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,149 @@\n+ # Report File autogenerated from the MapleEmptyItemWzChecker feature by Ronan Lana.\n+ # Generated data takes into account several data info from the server-side WZ.xmls.\n+\n+String.wz NAMES with no Item.wz node, 130 entries:\n+  20816 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Face\\\n+  20817 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Face\\\n+  21817 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Face\\\n+  21820 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Face\\\n+  1002655 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Cap\\\n+  1002657 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Cap\\\n+  1002658 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Cap\\\n+  1003028 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Cap\\\n+  1003029 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Cap\\\n+  1003030 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Cap\\\n+  1003043 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Cap\\\n+  1022096 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Accessory\\\n+  1042180 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Coat\\\n+  1052226 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Longcoat\\\n+  1060115 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Pants\\\n+  1060138 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Pants\\\n+  1061125 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Pants\\\n+  1061160 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Pants\\\n+  1062036 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Pants\\\n+  1062037 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Pants\\\n+  1072248 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Shoes\\\n+  1072249 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Shoes\\\n+  1072418 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Shoes\\\n+  1072425 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Shoes\\\n+  1080002 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Glove\\\n+  1082217 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Glove\\\n+  1082221 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Glove\\\n+  1082261 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Glove\\\n+  1142152 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Accessory\\\n+  1142155 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Accessory\\\n+  1302032 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Weapon\\\n+  1302069 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Weapon\\\n+  1322030 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Weapon\\\n+  1322034 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Weapon\\\n+  1332058 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Weapon\\\n+  1382013 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Weapon\\\n+  1452047 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Weapon\\\n+  1462020 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Weapon\\\n+  1462042 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Weapon\\\n+  1472057 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Weapon\\\n+  1702113 ../../wz/String.wz/Eqp.img.xml -> Eqp.img\\Eqp\\Weapon\\\n+  2002012 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2002013 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2002014 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2012004 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2022034 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2022036 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2022046 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2022114 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2070014 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2083000 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2084000 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2101016 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2101017 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2101018 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2101019 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2101022 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2101058 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2210023 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2210024 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2240004 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2240005 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2240006 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2240007 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2240008 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2240009 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2240010 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2240011 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2240012 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2240013 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2240014 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2240015 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2290109 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  2390000 ../../wz/String.wz/Consume.img.xml -> Consume.img\\\n+  3010044 ../../wz/String.wz/Ins.img.xml -> Ins.img\\\n+  3994016 ../../wz/String.wz/Ins.img.xml -> Ins.img\\\n+  4000275 ../../wz/String.wz/Etc.img.xml -> Etc.img\\Etc\\\n+  4001150 ../../wz/String.wz/Etc.img.xml -> Etc.img\\Etc\\\n+  4031294 ../../wz/String.wz/Etc.img.xml -> Etc.img\\Etc\\\n+  4031627 ../../wz/String.wz/Etc.img.xml -> Etc.img\\Etc\\\n+  4031628 ../../wz/String.wz/Etc.img.xml -> Etc.img\\Etc\\\n+  4031629 ../../wz/String.wz/Etc.img.xml -> Etc.img\\Etc\\\n+  4031630 ../../wz/String.wz/Etc.img.xml -> Etc.img\\Etc\\\n+  4031631 ../../wz/String.wz/Etc.img.xml -> Etc.img\\Etc\\\n+  4031632 ../../wz/String.wz/Etc.img.xml -> Etc.img\\Etc\\\n+  4031633 ../../wz/String.wz/Etc.img.xml -> Etc.img\\Etc\\\n+  4031634 ../../wz/String.wz/Etc.img.xml -> Etc.img\\Etc\\\n+  4031635 ../../wz/String.wz/Etc.img.xml -> Etc.img\\Etc\\\n+  4031636 ../../wz/String.wz/Etc.img.xml -> Etc.img\\Etc\\\n+  4031637 ../../wz/String.wz/Etc.img.xml -> Etc.img\\Etc\\\n+  4031638 ../../wz/String.wz/Etc.img.xml -> Etc.img\\Etc\\\n+  4031639 ../../wz/String.wz/Etc.img.xml -> Etc.img\\Etc\\\n+  4031640 ../../wz/String.wz/Etc.img.xml -> Etc.img\\Etc\\\n+  4031641 ../../wz/String.wz/Etc.img.xml -> Etc.img\\Etc\\\n+  4031642 ../../wz/String.wz/Etc.img.xml -> Etc.img\\Etc\\\n+  4031643 ../../wz/String.wz/Etc.img.xml -> Etc.img\\Etc\\\n+  4031644 ../../wz/String.wz/Etc.img.xml -> Etc.img\\Etc\\\n+  4031645 ../../wz/String.wz/Etc.img.xml -> Etc.img\\Etc\\\n+  4031646 ../../wz/String.wz/Etc.img.xml -> Etc.img\\Etc\\\n+  4031647 ../../wz/String.wz/Etc.img.xml -> Etc.img\\Etc\\\n+  4031648 ../../wz/String.wz/Etc.img.xml -> Etc.img\\Etc\\\n+  4031795 ../../wz/String.wz/Etc.img.xml -> Etc.img\\Etc\\\n+  4031867 ../../wz/String.wz/Etc.img.xml -> Etc.img\\Etc\\\n+  4032526 ../../wz/String.wz/Etc.img.xml -> Etc.img\\Etc\\\n+  5000040 ../../wz/String.wz/Pet.img.xml -> Pet.img\\\n+  5000043 ../../wz/String.wz/Pet.img.xml -> Pet.img\\\n+  5000046 ../../wz/String.wz/Pet.img.xml -> Pet.img\\\n+  5201000 ../../wz/String.wz/Cash.img.xml -> Cash.img\\\n+  5201001 ../../wz/String.wz/Cash.img.xml -> Cash.img\\\n+  5210000 ../../wz/String.wz/Cash.img.xml -> Cash.img\\\n+  5210001 ../../wz/String.wz/Cash.img.xml -> Cash.img\\\n+  5210002 ../../wz/String.wz/Cash.img.xml -> Cash.img\\\n+  5210003 ../../wz/String.wz/Cash.img.xml -> Cash.img\\\n+  5210004 ../../wz/String.wz/Cash.img.xml -> Cash.img\\\n+  5210005 ../../wz/String.wz/Cash.img.xml -> Cash.img\\\n+  5211001 ../../wz/String.wz/Cash.img.xml -> Cash.img\\\n+  5211002 ../../wz/String.wz/Cash.img.xml -> Cash.img\\\n+  5211003 ../../wz/String.wz/Cash.img.xml -> Cash.img\\\n+  5211047 ../../wz/String.wz/Cash.img.xml -> Cash.img\\\n+  5240016 ../../wz/String.wz/Cash.img.xml -> Cash.img\\\n+  5240019 ../../wz/String.wz/Cash.img.xml -> Cash.img\\\n+  5251004 ../../wz/String.wz/Cash.img.xml -> Cash.img\\\n+  5251005 ../../wz/String.wz/Cash.img.xml -> Cash.img\\\n+  5251006 ../../wz/String.wz/Cash.img.xml -> Cash.img\\\n+  5360009 ../../wz/String.wz/Cash.img.xml -> Cash.img\\\n+  5360010 ../../wz/String.wz/Cash.img.xml -> Cash.img\\\n+  5360011 ../../wz/String.wz/Cash.img.xml -> Cash.img\\\n+  5360012 ../../wz/String.wz/Cash.img.xml -> Cash.img\\\n+  5360013 ../../wz/String.wz/Cash.img.xml -> Cash.img\\\n+  5360014 ../../wz/String.wz/Cash.img.xml -> Cash.img\\\n+\n+Item.wz ITEMS with no String.wz node, 12 entries:\n+  1942000 C:\\Nexon\\HeavenMS\\wz\\Character.wz\\Dragon\\01942000.img.xml ->  NOT FOUND\n+  1942001 C:\\Nexon\\HeavenMS\\wz\\Character.wz\\Dragon\\01942001.img.xml ->  NOT FOUND\n+  1942002 C:\\Nexon\\HeavenMS\\wz\\Character.wz\\Dragon\\01942002.img.xml ->  NOT FOUND\n+  1952000 C:\\Nexon\\HeavenMS\\wz\\Character.wz\\Dragon\\01952000.img.xml ->  NOT FOUND\n+  1952001 C:\\Nexon\\HeavenMS\\wz\\Character.wz\\Dragon\\01952001.img.xml ->  NOT FOUND\n+  1952002 C:\\Nexon\\HeavenMS\\wz\\Character.wz\\Dragon\\01952002.img.xml ->  NOT FOUND\n+  1962000 C:\\Nexon\\HeavenMS\\wz\\Character.wz\\Dragon\\01962000.img.xml ->  NOT FOUND\n+  1962001 C:\\Nexon\\HeavenMS\\wz\\Character.wz\\Dragon\\01962001.img.xml ->  NOT FOUND\n+  1962002 C:\\Nexon\\HeavenMS\\wz\\Character.wz\\Dragon\\01962002.img.xml ->  NOT FOUND\n+  1972000 C:\\Nexon\\HeavenMS\\wz\\Character.wz\\Dragon\\01972000.img.xml ->  NOT FOUND\n+  1972001 C:\\Nexon\\HeavenMS\\wz\\Character.wz\\Dragon\\01972001.img.xml ->  NOT FOUND\n+  1972002 C:\\Nexon\\HeavenMS\\wz\\Character.wz\\Dragon\\01972002.img.xml ->  NOT FOUND\n+"}, {"sha": "328e8e5bc3b7f1f7bad2bc0751a933e00c801983", "filename": "tools/MapleEmptyItemWzChecker/manifest.mf", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleEmptyItemWzChecker/manifest.mf", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleEmptyItemWzChecker/manifest.mf", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleEmptyItemWzChecker/manifest.mf?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,3 @@\n+Manifest-Version: 1.0\n+X-COMMENT: Main-Class will be added automatically by build\n+"}, {"sha": "2c47beb8fa1547e1829b353c6582276e8f50147f", "filename": "tools/MapleEmptyItemWzChecker/src/mapleemptyitemwzchecker/MapleEmptyItemWzChecker.java", "status": "added", "additions": 476, "deletions": 0, "changes": 476, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleEmptyItemWzChecker/src/mapleemptyitemwzchecker/MapleEmptyItemWzChecker.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/tools/MapleEmptyItemWzChecker/src/mapleemptyitemwzchecker/MapleEmptyItemWzChecker.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleEmptyItemWzChecker/src/mapleemptyitemwzchecker/MapleEmptyItemWzChecker.java?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,476 @@\n+/*\n+    This file is part of the HeavenMS MapleStory Server\n+    Copyleft (L) 2016 - 2018 RonanLana\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package mapleemptyitemwzchecker;\n+\n+import java.io.BufferedReader;\n+import java.io.File;\n+import java.io.FileInputStream;\n+import java.io.InputStreamReader;\n+import java.io.IOException;\n+import java.io.PrintWriter;\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.Stack;\n+\n+/**\n+ *\n+ * @author RonanLana\n+ * \n+  This application has two objectives: it reports in a detailed file all itemids which is\n+  currently missing either a name entry in the String.wz or an item entry in the Item.wz;\n+  And it removes from the String.wz XMLs all entries which misses properties on Item.wz.\n+ */\n+public class MapleEmptyItemWzChecker {\n+    \n+    static String newFile = \"lib/Report.txt\";\n+    static String outputWzPath = \"lib\";\n+    static PrintWriter printWriter = null;\n+    static InputStreamReader fileReader = null;\n+    static BufferedReader bufferedReader = null;\n+    \n+    static String wzPath = \"../../wz\";\n+    static String handbookPath = \"../../handbook\";\n+    static int initialStringLength = 50;\n+    static int itemFileNameSize = 13;\n+    \n+    static byte status = 0;\n+    static int currentItemid = 0;\n+    static int currentDepth = 0;\n+    static Stack<String> currentPath = new Stack<>();\n+    static String currentFile;\n+    \n+    static Map<Integer, String> stringWzItems = new HashMap<>();\n+    static Map<Integer, String> contentWzItems = new HashMap<>();\n+    \n+    static Set<Integer> handbookItems = new HashSet<>();\n+    static Set<Integer> nonPropItems;\n+    \n+    private static String getName(String token) {\n+        int i, j;\n+        char[] dest;\n+        String d;\n+\n+        i = token.lastIndexOf(\"name\");\n+        i = token.indexOf(\"\\\"\", i) + 1; //lower bound of the string\n+        j = token.indexOf(\"\\\"\", i);     //upper bound\n+\n+        dest = new char[initialStringLength];\n+        token.getChars(i, j, dest, 0);\n+\n+        d = new String(dest);\n+        return(d.trim());\n+    }\n+    \n+    private static void forwardCursor(int st) {\n+        String line = null;\n+\n+        try {\n+            while(status >= st && (line = bufferedReader.readLine()) != null) {\n+                simpleToken(line);\n+            }\n+        }\n+        catch(Exception e) {\n+            e.printStackTrace();\n+        }\n+    }\n+\n+    private static void simpleToken(String token) {\n+        if(token.contains(\"/imgdir\")) {\n+            status -= 1;\n+        }\n+        else if(token.contains(\"imgdir\")) {\n+            status += 1;\n+        }\n+    }\n+    \n+    private static void listFiles(String directoryName, ArrayList<File> files) {\n+        File directory = new File(directoryName);\n+\n+        // get all the files from a directory\n+        File[] fList = directory.listFiles();\n+        for (File file : fList) {\n+            if (file.isFile()) {\n+                files.add(file);\n+            } else if (file.isDirectory()) {\n+                listFiles(file.getAbsolutePath(), files);\n+            }\n+        }\n+    }\n+    \n+    private static int getItemIdFromFilename(String name) {\n+        try {\n+            return Integer.valueOf(name.substring(0, name.indexOf('.')));\n+        } catch(Exception e) {\n+            return -1;\n+        }\n+    }\n+    \n+    private static void inspectItemWzEntry() {\n+        String line = null;\n+\n+        try {\n+            while((line = bufferedReader.readLine()) != null) {\n+                translateItemToken(line);\n+            }\n+        }\n+        catch(Exception e) {\n+            e.printStackTrace();\n+        }\n+    }\n+    \n+    private static String currentItemPath() {\n+        String s = currentFile + \" -> \";\n+        \n+        for (String p : currentPath) {\n+            s += (p + \"\\\\\");\n+        }\n+        \n+        return s;\n+    }\n+    \n+    private static void translateItemToken(String token) {\n+        if(token.contains(\"/imgdir\")) {\n+            status -= 1;\n+            \n+            currentPath.pop();\n+        }\n+        else if(token.contains(\"imgdir\")) {\n+            status += 1;\n+            String d = getName(token);\n+            \n+            if(status == 2) {\n+                currentItemid = Integer.valueOf(d);\n+                contentWzItems.put(currentItemid, currentItemPath());\n+                \n+                forwardCursor(status);\n+            } else {\n+                currentPath.push(d);\n+            }\n+        }\n+    }\n+    \n+    private static void inspectStringWzEntry() {\n+        String line = null;\n+        \n+        try {\n+            while((line = bufferedReader.readLine()) != null) {\n+                translateStringToken(line);\n+            }\n+        }\n+        catch(Exception e) {\n+            e.printStackTrace();\n+        }\n+    }\n+    \n+    private static void translateStringToken(String token) {\n+        if(token.contains(\"/imgdir\")) {\n+            status -= 1;\n+            currentPath.pop();\n+        }\n+        else if(token.contains(\"imgdir\")) {\n+            status += 1;\n+            String d = getName(token);\n+            \n+            if(status == currentDepth) {\n+                currentItemid = Integer.valueOf(d);\n+                stringWzItems.put(currentItemid, currentItemPath());\n+                //if (currentItemid >= 4000000) System.out.println(\"  \" + currentItemid);\n+                \n+                forwardCursor(status);\n+            } else {\n+                currentPath.push(d);\n+            }\n+        }\n+    }\n+    \n+    private static void loadStringWzFile(String filePath, int depth) throws IOException {\n+        fileReader = new InputStreamReader(new FileInputStream(filePath), \"UTF-8\");\n+        bufferedReader = new BufferedReader(fileReader);\n+\n+        currentFile = filePath;\n+        currentDepth = 2 + depth;\n+        //System.out.println(filePath + \" depth \" + depth);\n+        inspectStringWzEntry();\n+        \n+        bufferedReader.close();\n+        fileReader.close();\n+    }\n+    \n+    private static void loadStringWz() throws IOException {\n+        System.out.println(\"Reading String.wz ...\");\n+        String stringWzFiles[][] = {{\"Cash\", \"Consume\", \"Ins\", \"Pet\"}, {\"Etc\"}, {\"Eqp\"}};\n+        String stringWzPath = wzPath + \"/String.wz/\";\n+        \n+        for (int i = 0; i < stringWzFiles.length; i++) {\n+            for (String dirFile : stringWzFiles[i]) {\n+                loadStringWzFile(stringWzPath + dirFile + \".img.xml\", i);\n+            }\n+        }\n+    }\n+    \n+    private static void loadItemWz() throws IOException {\n+        System.out.println(\"Reading Item.wz ...\");\n+        ArrayList<File> files = new ArrayList<>();\n+        listFiles(wzPath + \"/Item.wz\", files);\n+\n+        for(File f : files) {\n+            if (f.getParentFile().getName().contentEquals(\"Special\")) continue;\n+            \n+            //System.out.println(\"Parsing \" + f.getAbsolutePath());\n+            fileReader = new InputStreamReader(new FileInputStream(f), \"UTF-8\");\n+            bufferedReader = new BufferedReader(fileReader);\n+            \n+            currentFile = f.getCanonicalPath();\n+\n+            if(f.getName().length() <= itemFileNameSize) {\n+                inspectItemWzEntry();\n+            } else {    // pet file structure is similar to equips, maybe there are other item-types following this behaviour?\n+                int itemid = getItemIdFromFilename(f.getName());\n+                if(itemid < 0) {\n+                    continue;\n+                }\n+\n+                currentItemid = itemid;\n+                contentWzItems.put(currentItemid, currentItemPath());\n+            }\n+\n+            bufferedReader.close();\n+            fileReader.close();\n+        }\n+    }\n+    \n+    private static void loadCharacterWz() throws IOException {\n+        System.out.println(\"Reading Character.wz ...\");\n+        ArrayList<File> files = new ArrayList<>();\n+        listFiles(wzPath + \"/Character.wz\", files);\n+\n+        for(File f : files) {\n+            if (f.getParentFile().getName().contentEquals(\"Character.wz\")) continue;\n+            \n+            int itemid = getItemIdFromFilename(f.getName());\n+            if(itemid < 0) {\n+                continue;\n+            }\n+\n+            currentFile = f.getCanonicalPath();\n+            currentItemid = itemid;\n+            contentWzItems.put(currentItemid, currentItemPath());\n+        }\n+    }\n+    \n+    private static void calculateItemNameDiff(Set<Integer> emptyItemNames, Set<Integer> emptyNameItems) {\n+        for (Integer i : contentWzItems.keySet()) {\n+            if (!stringWzItems.containsKey(i)) {\n+                emptyNameItems.add(i);\n+            }\n+        }\n+        \n+        for (Integer i : stringWzItems.keySet()) {\n+            if (!contentWzItems.containsKey(i)) {\n+                emptyItemNames.add(i);\n+            }\n+        }\n+    }\n+    \n+    private static void readHandbookItems() throws IOException {\n+        System.out.println(\"Reading handbook ...\");\n+        String[] handbookPaths = {\"Equip\", \"Cash.txt\", \"Etc.txt\", \"Pet.txt\", \"Setup.txt\", \"Use.txt\"};\n+        \n+        for (String path : handbookPaths) {\n+            readHandbookPath(handbookPath + \"/\" + path);\n+        }\n+    }\n+    \n+    private static void readHandbookPath(String filePath) throws IOException {\n+        ArrayList<File> files = new ArrayList<>();\n+        \n+        File testFile = new File(filePath);\n+        if (testFile.isDirectory()) {\n+            listFiles(filePath, files);\n+        } else {\n+            files.add(testFile);\n+        }\n+        \n+        for (File f : files) {\n+            fileReader = new InputStreamReader(new FileInputStream(f), \"UTF-8\");\n+            bufferedReader = new BufferedReader(fileReader);\n+\n+            String line = null;\n+\n+            try {\n+                while((line = bufferedReader.readLine()) != null) {\n+                    String[] tokens = line.split(\" - \");\n+\n+                    if (tokens[0].length() > 0) {\n+                        int itemid = Integer.valueOf(tokens[0]);\n+                        handbookItems.add(itemid);\n+                    }\n+                }\n+            }\n+            catch(Exception e) {\n+                e.printStackTrace();\n+            }\n+\n+            bufferedReader.close();\n+            fileReader.close();\n+        }\n+    }\n+    \n+    private static void printReportFileHeader() {\n+        printWriter.println(\" # Report File autogenerated from the MapleEmptyItemWzChecker feature by Ronan Lana.\");\n+        printWriter.println(\" # Generated data takes into account several data info from the server-side WZ.xmls.\");\n+        printWriter.println();\n+    }\n+    \n+    private static List<Integer> getSortedItems(Set<Integer> items) {\n+        List<Integer> sortedItems = new ArrayList<>(items);\n+        Collections.sort(sortedItems);\n+        \n+        return sortedItems;\n+    }\n+    \n+    private static void printReportFileResults(Set<Integer> emptyItemNames, Set<Integer> emptyNameItems) {\n+        if (!emptyItemNames.isEmpty()) {\n+            printWriter.println(\"String.wz NAMES with no Item.wz node, \" + emptyItemNames.size() + \" entries:\");\n+            \n+            for(Integer itemid : getSortedItems(emptyItemNames)) {\n+                printWriter.println(\"  \" + itemid + \" \" + stringWzItems.get(itemid) + (handbookItems.contains(itemid) ? \"\" : \" NOT FOUND\"));\n+            }\n+            \n+            printWriter.println();\n+        }\n+        \n+        if (!emptyNameItems.isEmpty()) {\n+            printWriter.println(\"Item.wz ITEMS with no String.wz node, \" + emptyNameItems.size() + \" entries:\");\n+            \n+            for(Integer itemid : getSortedItems(emptyNameItems)) {\n+                printWriter.println(\"  \" + itemid + \" \" + contentWzItems.get(itemid) + (handbookItems.contains(itemid) ? \"\" : \" NOT FOUND\"));\n+            }\n+            \n+            printWriter.println();\n+        }\n+    }\n+    \n+    private static void reportItemNameDiff(Set<Integer> emptyItemNames, Set<Integer> emptyNameItems) throws IOException {\n+        System.out.println(\"Reporting results...\");\n+        printWriter = new PrintWriter(newFile, \"UTF-8\");\n+        \n+        printReportFileHeader();\n+        printReportFileResults(emptyItemNames, emptyNameItems);\n+        \n+        printWriter.close();\n+    }\n+    \n+    private static void locateItemStringWzDiff() throws IOException {\n+        Set<Integer> emptyItemNames = new HashSet<>(), emptyNameItems = new HashSet<>();\n+        calculateItemNameDiff(emptyItemNames, emptyNameItems);\n+        \n+        reportItemNameDiff(emptyItemNames, emptyNameItems);\n+        nonPropItems = emptyItemNames;\n+    }\n+    \n+    private static void runEmptyItemWzChecker() throws IOException {\n+        readHandbookItems();\n+\n+        loadCharacterWz();\n+        loadItemWz();\n+        loadStringWz();\n+\n+        locateItemStringWzDiff();\n+    }\n+    \n+    private static void generateStringWzEntry() {\n+        String line = null;\n+        \n+        try {\n+            while((line = bufferedReader.readLine()) != null) {\n+                updateStringToken(line);\n+            }\n+        }\n+        catch(Exception e) {\n+            e.printStackTrace();\n+        }\n+    }\n+    \n+    private static void updateStringToken(String token) {\n+        if(token.contains(\"/imgdir\")) {\n+            status -= 1;\n+            \n+        }\n+        else if(token.contains(\"imgdir\")) {\n+            status += 1;\n+            \n+            if (status == currentDepth && nonPropItems.contains(Integer.valueOf(getName(token)))) {\n+                forwardCursor(status);\n+                return;\n+            }\n+        }\n+        \n+        printWriter.println(token);\n+    }\n+    \n+    private static void generateStringWzFile(String filePath, int depth) throws IOException {\n+        fileReader = new InputStreamReader(new FileInputStream(wzPath + filePath), \"UTF-8\");\n+        bufferedReader = new BufferedReader(fileReader);\n+        printWriter = new PrintWriter(outputWzPath + filePath, \"UTF-8\");\n+        currentDepth = 2 + depth;\n+        \n+        //System.out.println(filePath + \" depth \" + depth);\n+        generateStringWzEntry();\n+        \n+        printWriter.close();\n+        bufferedReader.close();\n+        fileReader.close();\n+    }\n+    \n+    private static void generateStringWz() throws IOException {\n+        System.out.println(\"Generating clean String.wz ...\");\n+        String stringWzFiles[][] = {{\"Cash\", \"Consume\", \"Ins\", \"Pet\"}, {\"Etc\"}, {\"Eqp\"}};\n+        String stringWzPath = \"/String.wz/\";\n+        \n+        File folder = new File(outputWzPath + \"/String.wz/\");\n+        if (!folder.exists()) {\n+            folder.mkdirs();\n+        }\n+        \n+        for (int i = 0; i < stringWzFiles.length; i++) {\n+            for (String dirFile : stringWzFiles[i]) {\n+                generateStringWzFile(stringWzPath + dirFile + \".img.xml\", i);\n+            }\n+        }\n+    }\n+    \n+    public static void main(String[] args) {\n+        try {\n+            runEmptyItemWzChecker();\n+            generateStringWz();\n+            \n+            System.out.println(\"Done!\");\n+        } catch (IOException ioe) {\n+            ioe.printStackTrace();\n+        }\n+    }\n+    \n+}"}, {"sha": "d56874900c17fbbb326ee5039b21f76d2288a0bf", "filename": "wz/Character.wz/Face/00020816.img.xml", "status": "added", "additions": 432, "deletions": 0, "changes": 432, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/Character.wz/Face/00020816.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/Character.wz/Face/00020816.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Character.wz/Face/00020816.img.xml?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,432 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"00020816.img\">\n+  <imgdir name=\"info\">\n+    <string name=\"islot\" value=\"Fc\"/>\n+    <string name=\"vslot\" value=\"Fc\"/>\n+    <int name=\"cash\" value=\"1\"/>\n+  </imgdir>\n+  <imgdir name=\"default\">\n+    <canvas name=\"face\" width=\"27\" height=\"15\">\n+      <vector name=\"origin\" x=\"12\" y=\"-4\"/>\n+      <imgdir name=\"map\">\n+        <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+      </imgdir>\n+      <string name=\"z\" value=\"face\"/>\n+    </canvas>\n+  </imgdir>\n+  <imgdir name=\"blink\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"27\" height=\"15\">\n+        <vector name=\"origin\" x=\"12\" y=\"-4\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020816.img/default/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"60\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"26\" height=\"12\">\n+        <vector name=\"origin\" x=\"12\" y=\"-7\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020016.img/blink/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"60\"/>\n+    </imgdir>\n+    <imgdir name=\"2\">\n+      <canvas name=\"face\" width=\"26\" height=\"14\">\n+        <vector name=\"origin\" x=\"12\" y=\"-5\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"60\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"hit\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"27\" height=\"16\">\n+        <vector name=\"origin\" x=\"12\" y=\"-3\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"smile\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"26\" height=\"16\">\n+        <vector name=\"origin\" x=\"13\" y=\"-5\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020016.img/smile/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"troubled\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"26\" height=\"15\">\n+        <vector name=\"origin\" x=\"12\" y=\"-6\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020016.img/troubled/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"cry\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"26\" height=\"10\">\n+        <vector name=\"origin\" x=\"12\" y=\"-6\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020016.img/cry/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"angry\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"25\" height=\"22\">\n+        <vector name=\"origin\" x=\"12\" y=\"-3\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020016.img/angry/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"bewildered\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"26\" height=\"17\">\n+        <vector name=\"origin\" x=\"12\" y=\"-4\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020016.img/bewildered/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stunned\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"26\" height=\"15\">\n+        <vector name=\"origin\" x=\"12\" y=\"-6\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020016.img/stunned/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"vomit\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"28\" height=\"46\">\n+        <vector name=\"origin\" x=\"14\" y=\"-6\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020016.img/vomit/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"120\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"28\" height=\"46\">\n+        <vector name=\"origin\" x=\"14\" y=\"-6\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020016.img/vomit/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"120\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"oops\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"26\" height=\"14\">\n+        <vector name=\"origin\" x=\"12\" y=\"-5\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020016.img/oops/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"1640\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"cheers\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"26\" height=\"19\">\n+        <vector name=\"origin\" x=\"13\" y=\"-5\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020016.img/cheers/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"chu\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"26\" height=\"15\">\n+        <vector name=\"origin\" x=\"12\" y=\"-5\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020016.img/chu/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"wink\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"27\" height=\"15\">\n+        <vector name=\"origin\" x=\"12\" y=\"-5\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"pain\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"30\" height=\"16\">\n+        <vector name=\"origin\" x=\"14\" y=\"-3\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020016.img/pain/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"glitter\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"27\" height=\"17\">\n+        <vector name=\"origin\" x=\"13\" y=\"-3\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"150\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"27\" height=\"17\">\n+        <vector name=\"origin\" x=\"13\" y=\"-3\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"150\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"despair\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"42\" height=\"20\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"14\" y=\"-12\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/despair/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"150\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"44\" height=\"20\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"16\" y=\"-12\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/despair/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"150\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"love\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"27\" height=\"22\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"-9\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/love/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"150\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"27\" height=\"22\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"-9\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/love/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"150\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"shine\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"26\" height=\"16\">\n+        <vector name=\"origin\" x=\"13\" y=\"6\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"-8\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/shine/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"blaze\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"30\" height=\"21\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"-10\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/blaze/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"30\" height=\"23\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"-8\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/blaze/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"hum\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"25\" height=\"21\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"-2\" y=\"-9\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/hum/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"25\" height=\"21\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"-2\" y=\"-9\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/hum/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"bowing\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"36\" height=\"20\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"11\" y=\"-11\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/bowing/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"37\" height=\"20\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"12\" y=\"-11\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/bowing/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"hot\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"40\" height=\"25\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"16\" y=\"-10\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/hot/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"46\" height=\"26\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"21\" y=\"-9\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/hot/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"dam\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"24\" height=\"22\">\n+        <vector name=\"origin\" x=\"11\" y=\"-2\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/dam/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"240\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"24\" height=\"23\">\n+        <vector name=\"origin\" x=\"11\" y=\"-1\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/dam/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"240\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"qBlue\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"37\" height=\"32\">\n+        <vector name=\"origin\" x=\"14\" y=\"11\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/qBlue/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "6c604e6e58d5a8d047ccc829a54faa646e1786bb", "filename": "wz/Character.wz/Face/00020817.img.xml", "status": "added", "additions": 432, "deletions": 0, "changes": 432, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/Character.wz/Face/00020817.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/Character.wz/Face/00020817.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Character.wz/Face/00020817.img.xml?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,432 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"00020817.img\">\n+  <imgdir name=\"info\">\n+    <string name=\"islot\" value=\"Fc\"/>\n+    <string name=\"vslot\" value=\"Fc\"/>\n+    <int name=\"cash\" value=\"1\"/>\n+  </imgdir>\n+  <imgdir name=\"default\">\n+    <canvas name=\"face\" width=\"27\" height=\"16\">\n+      <vector name=\"origin\" x=\"13\" y=\"-4\"/>\n+      <imgdir name=\"map\">\n+        <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+      </imgdir>\n+      <string name=\"z\" value=\"face\"/>\n+    </canvas>\n+  </imgdir>\n+  <imgdir name=\"blink\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"27\" height=\"16\">\n+        <vector name=\"origin\" x=\"13\" y=\"-4\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"60\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"27\" height=\"16\">\n+        <vector name=\"origin\" x=\"13\" y=\"-4\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020017.img/blink/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"60\"/>\n+    </imgdir>\n+    <imgdir name=\"2\">\n+      <canvas name=\"face\" width=\"27\" height=\"16\">\n+        <vector name=\"origin\" x=\"13\" y=\"-4\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020817.img/blink/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"60\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"hit\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"25\" height=\"15\">\n+        <vector name=\"origin\" x=\"12\" y=\"-4\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"smile\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"27\" height=\"17\">\n+        <vector name=\"origin\" x=\"13\" y=\"-4\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020017.img/smile/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"troubled\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"26\" height=\"15\">\n+        <vector name=\"origin\" x=\"12\" y=\"-6\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020016.img/troubled/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"cry\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"27\" height=\"12\">\n+        <vector name=\"origin\" x=\"13\" y=\"-4\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020017.img/cry/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"angry\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"25\" height=\"22\">\n+        <vector name=\"origin\" x=\"12\" y=\"-3\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020017.img/angry/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"bewildered\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"28\" height=\"20\">\n+        <vector name=\"origin\" x=\"13\" y=\"-1\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020017.img/bewildered/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stunned\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"27\" height=\"17\">\n+        <vector name=\"origin\" x=\"13\" y=\"-4\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020017.img/stunned/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"vomit\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"27\" height=\"46\">\n+        <vector name=\"origin\" x=\"13\" y=\"-4\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020017.img/vomit/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"120\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"27\" height=\"46\">\n+        <vector name=\"origin\" x=\"13\" y=\"-4\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020017.img/vomit/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"120\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"oops\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"25\" height=\"15\">\n+        <vector name=\"origin\" x=\"12\" y=\"-4\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020017.img/oops/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+    <int name=\"delay\" value=\"1640\"/>\n+  </imgdir>\n+  <imgdir name=\"cheers\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"27\" height=\"21\">\n+        <vector name=\"origin\" x=\"13\" y=\"-3\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020017.img/cheers/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"chu\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"27\" height=\"16\">\n+        <vector name=\"origin\" x=\"13\" y=\"-4\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020017.img/chu/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"wink\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"26\" height=\"16\">\n+        <vector name=\"origin\" x=\"12\" y=\"-4\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"pain\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"30\" height=\"18\">\n+        <vector name=\"origin\" x=\"14\" y=\"-1\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020017.img/pain/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"glitter\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"27\" height=\"19\">\n+        <vector name=\"origin\" x=\"13\" y=\"-1\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"150\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"27\" height=\"19\">\n+        <vector name=\"origin\" x=\"13\" y=\"-1\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"150\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"despair\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"42\" height=\"20\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"14\" y=\"-12\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/despair/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"150\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"44\" height=\"20\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"16\" y=\"-12\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/despair/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"150\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"love\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"27\" height=\"22\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"-9\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/love/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"150\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"27\" height=\"22\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"-9\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/love/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"150\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"shine\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"26\" height=\"16\">\n+        <vector name=\"origin\" x=\"13\" y=\"6\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"-8\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/shine/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"blaze\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"30\" height=\"21\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"-10\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/blaze/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"30\" height=\"23\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"-8\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/blaze/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"hum\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"25\" height=\"21\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"-2\" y=\"-9\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/hum/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"25\" height=\"21\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"-2\" y=\"-9\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/hum/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"bowing\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"36\" height=\"20\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"11\" y=\"-11\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/bowing/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"37\" height=\"20\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"12\" y=\"-11\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/bowing/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"hot\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"40\" height=\"25\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"16\" y=\"-10\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/hot/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"46\" height=\"26\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"21\" y=\"-9\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/hot/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"dam\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"24\" height=\"22\">\n+        <vector name=\"origin\" x=\"11\" y=\"-2\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/dam/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"240\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"24\" height=\"23\">\n+        <vector name=\"origin\" x=\"11\" y=\"-1\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/dam/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"240\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"qBlue\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"37\" height=\"32\">\n+        <vector name=\"origin\" x=\"14\" y=\"11\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/qBlue/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "38e1700ee740bf8a053cd52f6fb9c47428369b53", "filename": "wz/Character.wz/Face/00021817.img.xml", "status": "added", "additions": 432, "deletions": 0, "changes": 432, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/Character.wz/Face/00021817.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/Character.wz/Face/00021817.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Character.wz/Face/00021817.img.xml?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,432 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"00021817.img\">\n+  <imgdir name=\"info\">\n+    <string name=\"islot\" value=\"Fc\"/>\n+    <string name=\"vslot\" value=\"Fc\"/>\n+    <int name=\"cash\" value=\"1\"/>\n+  </imgdir>\n+  <imgdir name=\"default\">\n+    <canvas name=\"face\" width=\"27\" height=\"16\">\n+      <vector name=\"origin\" x=\"12\" y=\"-4\"/>\n+      <imgdir name=\"map\">\n+        <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+      </imgdir>\n+      <string name=\"z\" value=\"face\"/>\n+    </canvas>\n+  </imgdir>\n+  <imgdir name=\"blink\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"27\" height=\"16\">\n+        <vector name=\"origin\" x=\"12\" y=\"-4\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00021817.img/default/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"60\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"27\" height=\"16\">\n+        <vector name=\"origin\" x=\"13\" y=\"-4\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020017.img/blink/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"60\"/>\n+    </imgdir>\n+    <imgdir name=\"2\">\n+      <canvas name=\"face\" width=\"26\" height=\"16\">\n+        <vector name=\"origin\" x=\"12\" y=\"-4\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"60\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"hit\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"27\" height=\"16\">\n+        <vector name=\"origin\" x=\"12\" y=\"-4\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"smile\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"26\" height=\"16\">\n+        <vector name=\"origin\" x=\"13\" y=\"-5\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020016.img/smile/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"troubled\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"26\" height=\"17\">\n+        <vector name=\"origin\" x=\"12\" y=\"-4\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00021017.img/troubled/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"cry\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"25\" height=\"11\">\n+        <vector name=\"origin\" x=\"11\" y=\"-5\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00021017.img/cry/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"angry\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"25\" height=\"22\">\n+        <vector name=\"origin\" x=\"12\" y=\"-3\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00021017.img/angry/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"bewildered\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"24\" height=\"18\">\n+        <vector name=\"origin\" x=\"12\" y=\"-3\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00021017.img/bewildered/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stunned\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"26\" height=\"17\">\n+        <vector name=\"origin\" x=\"12\" y=\"-4\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00021017.img/stunned/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"vomit\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"28\" height=\"48\">\n+        <vector name=\"origin\" x=\"14\" y=\"-4\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00021017.img/vomit/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"120\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"28\" height=\"48\">\n+        <vector name=\"origin\" x=\"14\" y=\"-4\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00021017.img/vomit/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"120\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"oops\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"24\" height=\"14\">\n+        <vector name=\"origin\" x=\"11\" y=\"-5\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00021017.img/oops/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+    <int name=\"delay\" value=\"1640\"/>\n+  </imgdir>\n+  <imgdir name=\"cheers\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"23\" height=\"21\">\n+        <vector name=\"origin\" x=\"11\" y=\"-3\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00021017.img/cheers/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"chu\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"26\" height=\"16\">\n+        <vector name=\"origin\" x=\"12\" y=\"-4\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00021017.img/chu/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"wink\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"28\" height=\"15\">\n+        <vector name=\"origin\" x=\"13\" y=\"-4\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"pain\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"30\" height=\"18\">\n+        <vector name=\"origin\" x=\"14\" y=\"-1\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00021017.img/pain/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"glitter\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"27\" height=\"19\">\n+        <vector name=\"origin\" x=\"13\" y=\"-1\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"150\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"27\" height=\"19\">\n+        <vector name=\"origin\" x=\"13\" y=\"-1\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"150\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"despair\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"42\" height=\"20\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"14\" y=\"-12\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/despair/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"150\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"44\" height=\"20\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"16\" y=\"-12\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/despair/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"150\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"love\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"27\" height=\"22\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"-9\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/love/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"150\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"27\" height=\"22\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"-9\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/love/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"150\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"shine\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"26\" height=\"16\">\n+        <vector name=\"origin\" x=\"13\" y=\"6\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"-8\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/shine/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"blaze\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"30\" height=\"21\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"-10\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/blaze/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"30\" height=\"23\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"-8\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/blaze/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"hum\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"25\" height=\"21\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"-2\" y=\"-9\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/hum/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"25\" height=\"21\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"-2\" y=\"-9\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/hum/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"bowing\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"36\" height=\"20\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"11\" y=\"-11\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/bowing/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"37\" height=\"20\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"12\" y=\"-11\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/bowing/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"hot\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"40\" height=\"25\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"16\" y=\"-10\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/hot/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"46\" height=\"26\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"21\" y=\"-9\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/hot/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"dam\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"24\" height=\"22\">\n+        <vector name=\"origin\" x=\"11\" y=\"-2\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/dam/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"240\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"24\" height=\"23\">\n+        <vector name=\"origin\" x=\"11\" y=\"-1\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/dam/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"240\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"qBlue\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"37\" height=\"32\">\n+        <vector name=\"origin\" x=\"14\" y=\"11\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/qBlue/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "79c9c25167341977c49a1bf186c4d63107946dc4", "filename": "wz/Character.wz/Face/00021820.img.xml", "status": "added", "additions": 434, "deletions": 0, "changes": 434, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/Character.wz/Face/00021820.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/Character.wz/Face/00021820.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Character.wz/Face/00021820.img.xml?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -0,0 +1,434 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"00021820.img\">\n+  <imgdir name=\"info\">\n+    <string name=\"islot\" value=\"Fc\"/>\n+    <string name=\"vslot\" value=\"Fc\"/>\n+    <int name=\"cash\" value=\"1\"/>\n+  </imgdir>\n+  <imgdir name=\"default\">\n+    <canvas name=\"face\" width=\"24\" height=\"14\">\n+      <vector name=\"origin\" x=\"12\" y=\"-5\"/>\n+      <imgdir name=\"map\">\n+        <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+      </imgdir>\n+      <string name=\"z\" value=\"face\"/>\n+    </canvas>\n+  </imgdir>\n+  <imgdir name=\"blink\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"24\" height=\"14\">\n+        <vector name=\"origin\" x=\"12\" y=\"-5\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00021820.img/default/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"60\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"25\" height=\"15\">\n+        <vector name=\"origin\" x=\"12\" y=\"-5\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00021020.img/blink/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"60\"/>\n+    </imgdir>\n+    <imgdir name=\"2\">\n+      <canvas name=\"face\" width=\"24\" height=\"15\">\n+        <vector name=\"origin\" x=\"12\" y=\"-5\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"60\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"hit\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"25\" height=\"13\">\n+        <vector name=\"origin\" x=\"13\" y=\"-5\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"smile\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"26\" height=\"16\">\n+        <vector name=\"origin\" x=\"13\" y=\"-5\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00021020.img/smile/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"troubled\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"26\" height=\"15\">\n+        <vector name=\"origin\" x=\"12\" y=\"-6\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00021020.img/troubled/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"cry\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"27\" height=\"11\">\n+        <vector name=\"origin\" x=\"13\" y=\"-5\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00021020.img/cry/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"angry\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"25\" height=\"20\">\n+        <vector name=\"origin\" x=\"12\" y=\"-5\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00021020.img/angry/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"bewildered\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"24\" height=\"17\">\n+        <vector name=\"origin\" x=\"12\" y=\"-4\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00021020.img/bewildered/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stunned\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"25\" height=\"15\">\n+        <vector name=\"origin\" x=\"12\" y=\"-6\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00021020.img/stunned/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"vomit\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"27\" height=\"46\">\n+        <vector name=\"origin\" x=\"14\" y=\"-6\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00021020.img/vomit/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"120\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"27\" height=\"46\">\n+        <vector name=\"origin\" x=\"14\" y=\"-6\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00021020.img/vomit/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"120\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"oops\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"25\" height=\"14\">\n+        <vector name=\"origin\" x=\"12\" y=\"-5\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00021020.img/oops/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+    <int name=\"delay\" value=\"1640\"/>\n+  </imgdir>\n+  <imgdir name=\"cheers\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"24\" height=\"19\">\n+        <vector name=\"origin\" x=\"12\" y=\"-5\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00021020.img/cheers/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"chu\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"25\" height=\"15\">\n+        <vector name=\"origin\" x=\"12\" y=\"-5\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00021020.img/chu/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"wink\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"24\" height=\"13\">\n+        <vector name=\"origin\" x=\"12\" y=\"-5\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"pain\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"30\" height=\"16\">\n+        <vector name=\"origin\" x=\"14\" y=\"-3\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00021020.img/pain/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"glitter\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"27\" height=\"18\">\n+        <vector name=\"origin\" x=\"13\" y=\"-2\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00021816.img/glitter/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"150\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"27\" height=\"18\">\n+        <vector name=\"origin\" x=\"13\" y=\"-2\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00021816.img/glitter/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"150\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"despair\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"42\" height=\"20\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"14\" y=\"-12\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/despair/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"150\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"44\" height=\"20\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"16\" y=\"-12\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/despair/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"150\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"love\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"27\" height=\"22\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"-9\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/love/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"150\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"27\" height=\"22\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"-9\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/love/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"150\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"shine\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"26\" height=\"16\">\n+        <vector name=\"origin\" x=\"13\" y=\"6\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"-8\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/shine/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"blaze\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"30\" height=\"21\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"-10\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/blaze/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"30\" height=\"23\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"-8\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/blaze/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"hum\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"25\" height=\"21\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"-2\" y=\"-9\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/hum/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"25\" height=\"21\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"-2\" y=\"-9\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/hum/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"bowing\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"36\" height=\"20\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"11\" y=\"-11\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/bowing/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"37\" height=\"20\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"12\" y=\"-11\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/bowing/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"hot\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"40\" height=\"25\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"16\" y=\"-10\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/hot/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"46\" height=\"26\">\n+        <vector name=\"origin\" x=\"13\" y=\"8\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"21\" y=\"-9\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/hot/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"110\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"dam\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"24\" height=\"22\">\n+        <vector name=\"origin\" x=\"11\" y=\"-2\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/dam/0/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"240\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <canvas name=\"face\" width=\"24\" height=\"23\">\n+        <vector name=\"origin\" x=\"11\" y=\"-1\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020000.img/dam/1/face\"/>\n+      </canvas>\n+      <int name=\"delay\" value=\"240\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"qBlue\">\n+    <imgdir name=\"0\">\n+      <canvas name=\"face\" width=\"37\" height=\"32\">\n+        <vector name=\"origin\" x=\"14\" y=\"11\"/>\n+        <imgdir name=\"map\">\n+          <vector name=\"brow\" x=\"0\" y=\"0\"/>\n+        </imgdir>\n+        <string name=\"z\" value=\"face\"/>\n+        <string name=\"source\" value=\"Character/Face/00020091.img/qBlue/0/face\"/>\n+      </canvas>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "68399645e9effb3c5db58caa19470d6ce1263095", "filename": "wz/Etc.wz/Commodity.img.xml", "status": "modified", "additions": 37, "deletions": 37, "changes": 74, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/Etc.wz/Commodity.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/Etc.wz/Commodity.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Etc.wz/Commodity.img.xml?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -77814,83 +77814,83 @@\n   </imgdir>\n   <imgdir name=\"7595\">\n     <int name=\"SN\" value=\"50000094\"/>\n-    <int name=\"ItemId\" value=\"5150025\"/>\n+    <int name=\"ItemId\" value=\"5152100\"/>\n     <int name=\"Count\" value=\"1\"/>\n-    <int name=\"Price\" value=\"4500\"/>\n+    <int name=\"Price\" value=\"4700\"/>\n     <int name=\"Period\" value=\"90\"/>\n-    <int name=\"Priority\" value=\"7\"/>\n+    <int name=\"Priority\" value=\"0\"/>\n     <int name=\"Gender\" value=\"2\"/>\n-    <int name=\"OnSale\" value=\"0\"/>\n+    <int name=\"OnSale\" value=\"1\"/>\n   </imgdir>\n   <imgdir name=\"7596\">\n     <int name=\"SN\" value=\"50000095\"/>\n-    <int name=\"ItemId\" value=\"5151020\"/>\n+    <int name=\"ItemId\" value=\"5152101\"/>\n     <int name=\"Count\" value=\"1\"/>\n-    <int name=\"Price\" value=\"3500\"/>\n+    <int name=\"Price\" value=\"4700\"/>\n     <int name=\"Period\" value=\"90\"/>\n-    <int name=\"Priority\" value=\"7\"/>\n+    <int name=\"Priority\" value=\"0\"/>\n     <int name=\"Gender\" value=\"2\"/>\n-    <int name=\"OnSale\" value=\"0\"/>\n+    <int name=\"OnSale\" value=\"1\"/>\n   </imgdir>\n   <imgdir name=\"7597\">\n     <int name=\"SN\" value=\"50000096\"/>\n-    <int name=\"ItemId\" value=\"5150011\"/>\n+    <int name=\"ItemId\" value=\"5152102\"/>\n     <int name=\"Count\" value=\"1\"/>\n-    <int name=\"Price\" value=\"1000\"/>\n+    <int name=\"Price\" value=\"4700\"/>\n     <int name=\"Period\" value=\"90\"/>\n-    <int name=\"Priority\" value=\"7\"/>\n+    <int name=\"Priority\" value=\"0\"/>\n     <int name=\"Gender\" value=\"2\"/>\n-    <int name=\"OnSale\" value=\"0\"/>\n+    <int name=\"OnSale\" value=\"1\"/>\n   </imgdir>\n   <imgdir name=\"7598\">\n     <int name=\"SN\" value=\"50000097\"/>\n-    <int name=\"ItemId\" value=\"5150012\"/>\n+    <int name=\"ItemId\" value=\"5152103\"/>\n     <int name=\"Count\" value=\"1\"/>\n-    <int name=\"Price\" value=\"1000\"/>\n+    <int name=\"Price\" value=\"4700\"/>\n     <int name=\"Period\" value=\"90\"/>\n-    <int name=\"Priority\" value=\"8\"/>\n+    <int name=\"Priority\" value=\"0\"/>\n     <int name=\"Gender\" value=\"2\"/>\n-    <int name=\"OnSale\" value=\"0\"/>\n+    <int name=\"OnSale\" value=\"1\"/>\n   </imgdir>\n   <imgdir name=\"7599\">\n     <int name=\"SN\" value=\"50000098\"/>\n-    <int name=\"ItemId\" value=\"5150019\"/>\n+    <int name=\"ItemId\" value=\"5152104\"/>\n     <int name=\"Count\" value=\"1\"/>\n-    <int name=\"Price\" value=\"1000\"/>\n+    <int name=\"Price\" value=\"4700\"/>\n     <int name=\"Period\" value=\"90\"/>\n-    <int name=\"Priority\" value=\"9\"/>\n+    <int name=\"Priority\" value=\"0\"/>\n     <int name=\"Gender\" value=\"2\"/>\n-    <int name=\"OnSale\" value=\"0\"/>\n+    <int name=\"OnSale\" value=\"1\"/>\n   </imgdir>\n   <imgdir name=\"7600\">\n     <int name=\"SN\" value=\"50000099\"/>\n-    <int name=\"ItemId\" value=\"5150030\"/>\n+    <int name=\"ItemId\" value=\"5152105\"/>\n     <int name=\"Count\" value=\"1\"/>\n-    <int name=\"Price\" value=\"1000\"/>\n+    <int name=\"Price\" value=\"4700\"/>\n     <int name=\"Period\" value=\"90\"/>\n-    <int name=\"Priority\" value=\"7\"/>\n+    <int name=\"Priority\" value=\"0\"/>\n     <int name=\"Gender\" value=\"2\"/>\n-    <int name=\"OnSale\" value=\"0\"/>\n+    <int name=\"OnSale\" value=\"1\"/>\n   </imgdir>\n   <imgdir name=\"7601\">\n     <int name=\"SN\" value=\"50000100\"/>\n-    <int name=\"ItemId\" value=\"5150024\"/>\n+    <int name=\"ItemId\" value=\"5152106\"/>\n     <int name=\"Count\" value=\"1\"/>\n-    <int name=\"Price\" value=\"1000\"/>\n+    <int name=\"Price\" value=\"4700\"/>\n     <int name=\"Period\" value=\"90\"/>\n-    <int name=\"Priority\" value=\"7\"/>\n+    <int name=\"Priority\" value=\"0\"/>\n     <int name=\"Gender\" value=\"2\"/>\n-    <int name=\"OnSale\" value=\"0\"/>\n+    <int name=\"OnSale\" value=\"1\"/>\n   </imgdir>\n   <imgdir name=\"7602\">\n     <int name=\"SN\" value=\"50000101\"/>\n-    <int name=\"ItemId\" value=\"5150010\"/>\n+    <int name=\"ItemId\" value=\"5152107\"/>\n     <int name=\"Count\" value=\"1\"/>\n-    <int name=\"Price\" value=\"1000\"/>\n+    <int name=\"Price\" value=\"4700\"/>\n     <int name=\"Period\" value=\"90\"/>\n-    <int name=\"Priority\" value=\"9\"/>\n+    <int name=\"Priority\" value=\"0\"/>\n     <int name=\"Gender\" value=\"2\"/>\n-    <int name=\"OnSale\" value=\"0\"/>\n+    <int name=\"OnSale\" value=\"1\"/>\n   </imgdir>\n   <imgdir name=\"7603\">\n     <int name=\"SN\" value=\"50000102\"/>\n@@ -79818,14 +79818,14 @@\n   </imgdir>\n   <imgdir name=\"7784\">\n     <int name=\"SN\" value=\"50000283\"/>\n-    <int name=\"ItemId\" value=\"5150009\"/>\n+    <int name=\"ItemId\" value=\"5150044\"/>\n     <int name=\"Count\" value=\"1\"/>\n-    <int name=\"Price\" value=\"3990\"/>\n+    <int name=\"Price\" value=\"11000\"/>\n     <int name=\"Period\" value=\"90\"/>\n-    <int name=\"Priority\" value=\"15\"/>\n+    <int name=\"Priority\" value=\"21\"/>\n     <int name=\"Gender\" value=\"2\"/>\n-    <int name=\"OnSale\" value=\"0\"/>\n-    <int name=\"Class\" value=\"1\"/>\n+    <int name=\"OnSale\" value=\"1\"/>\n+    <int name=\"Class\" value=\"0\"/>\n   </imgdir>\n   <imgdir name=\"7785\">\n     <int name=\"SN\" value=\"50000284\"/>"}, {"sha": "6db7fddb1f17d0fd15e25105f672be4ac81e2e4a", "filename": "wz/Item.wz/Consume/0202.img.xml", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/Item.wz/Consume/0202.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/Item.wz/Consume/0202.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Item.wz/Consume/0202.img.xml?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -6496,8 +6496,9 @@\n       <int name=\"tradeBlock\" value=\"1\"/>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"expinc\" value=\"30\"/>\n+      <int name=\"expinc\" value=\"50\"/>\n       <int name=\"consumeOnPickup\" value=\"1\"/>\n+      <int name=\"time\" value=\"2147483647\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"02022451\">\n@@ -6515,6 +6516,7 @@\n     <imgdir name=\"spec\">\n       <int name=\"expinc\" value=\"200\"/>\n       <int name=\"consumeOnPickup\" value=\"1\"/>\n+      <int name=\"time\" value=\"2147483647\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"02022452\">\n@@ -6532,6 +6534,7 @@\n     <imgdir name=\"spec\">\n       <int name=\"expinc\" value=\"500\"/>\n       <int name=\"consumeOnPickup\" value=\"1\"/>\n+      <int name=\"time\" value=\"2147483647\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"02022453\">"}, {"sha": "70d1cf762e6c9761b5a0668187ca8ff008a28b6f", "filename": "wz/Map.wz/Map/Map9/925010000.img.xml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/Map.wz/Map/Map9/925010000.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/Map.wz/Map/Map9/925010000.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map9/925010000.img.xml?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -5,7 +5,7 @@\n     <int name=\"cloud\" value=\"0\"/>\n     <int name=\"town\" value=\"1\"/>\n     <int name=\"swim\" value=\"0\"/>\n-    <int name=\"returnMap\" value=\"120000101\"/>\n+    <int name=\"returnMap\" value=\"925010000\"/>\n     <int name=\"forcedReturn\" value=\"999999999\"/>\n     <float name=\"mobRate\" value=\"5.999997\"/>\n     <string name=\"bgm\" value=\"Bgm11/DownTown\"/>"}, {"sha": "cd3797b7ca637d09d9b6270fa275ea05c1435062", "filename": "wz/Map.wz/Map/Map9/925010100.img.xml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/Map.wz/Map/Map9/925010100.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/Map.wz/Map/Map9/925010100.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map9/925010100.img.xml?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -5,7 +5,7 @@\n     <int name=\"cloud\" value=\"0\"/>\n     <int name=\"town\" value=\"1\"/>\n     <int name=\"swim\" value=\"0\"/>\n-    <int name=\"returnMap\" value=\"120000101\"/>\n+    <int name=\"returnMap\" value=\"925010000\"/>\n     <int name=\"forcedReturn\" value=\"999999999\"/>\n     <float name=\"mobRate\" value=\"5.999997\"/>\n     <string name=\"bgm\" value=\"Bgm11/DownTown\"/>"}, {"sha": "7c1368d31167bc459b4a5cc02e532cde5b55b2ca", "filename": "wz/Map.wz/Map/Map9/925010200.img.xml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/Map.wz/Map/Map9/925010200.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/Map.wz/Map/Map9/925010200.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map9/925010200.img.xml?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -5,7 +5,7 @@\n     <int name=\"cloud\" value=\"0\"/>\n     <int name=\"town\" value=\"1\"/>\n     <int name=\"swim\" value=\"0\"/>\n-    <int name=\"returnMap\" value=\"120000101\"/>\n+    <int name=\"returnMap\" value=\"925010000\"/>\n     <int name=\"forcedReturn\" value=\"999999999\"/>\n     <float name=\"mobRate\" value=\"5.999997\"/>\n     <string name=\"bgm\" value=\"Bgm11/DownTown\"/>"}, {"sha": "eb7c5e13c38da3d2a313ed5598fcd2452a06b8d2", "filename": "wz/Map.wz/Map/Map9/925010300.img.xml", "status": "modified", "additions": 1039, "deletions": 1046, "changes": 2085, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/Map.wz/Map/Map9/925010300.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/Map.wz/Map/Map9/925010300.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map9/925010300.img.xml?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -1,1491 +1,1484 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"925010300.img\">\n   <imgdir name=\"info\">\n-    <int name=\"version\" value=\"10\"/>\n+    <string name=\"bgm\" value=\"Bgm11/DownTown\"/>\n     <int name=\"cloud\" value=\"0\"/>\n-    <int name=\"town\" value=\"1\"/>\n     <int name=\"swim\" value=\"0\"/>\n-    <int name=\"returnMap\" value=\"120000101\"/>\n     <int name=\"forcedReturn\" value=\"925010200\"/>\n-    <float name=\"mobRate\" value=\"1.0\"/>\n-    <string name=\"bgm\" value=\"Bgm11/DownTown\"/>\n-    <string name=\"mapMark\" value=\"Quest\"/>\n     <int name=\"hideMinimap\" value=\"1\"/>\n+    <string name=\"mapMark\" value=\"Quest\"/>\n+    <float name=\"mobRate\" value=\"1.0\"/>\n+    <int name=\"returnMap\" value=\"925010000\"/>\n+    <int name=\"town\" value=\"1\"/>\n+    <int name=\"version\" value=\"10\"/>\n     <int name=\"fieldLimit\" value=\"8958\"/>\n   </imgdir>\n-  <imgdir name=\"back\">\n-    <imgdir name=\"0\">\n-      <string name=\"bS\" value=\"folkvillige\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"0\"/>\n-      <int name=\"y\" value=\"0\"/>\n-      <int name=\"rx\" value=\"0\"/>\n-      <int name=\"ry\" value=\"0\"/>\n-      <int name=\"type\" value=\"3\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n+  <imgdir name=\"miniMap\">\n+    <canvas name=\"canvas\" width=\"90\" height=\"47\">\n+    </canvas>\n+    <int name=\"width\" value=\"1446\"/>\n+    <int name=\"height\" value=\"761\"/>\n+    <int name=\"centerX\" value=\"768\"/>\n+    <int name=\"centerY\" value=\"128\"/>\n+    <int name=\"mag\" value=\"4\"/>\n+  </imgdir>\n+  <imgdir name=\"0\">\n+    <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"1\">\n-      <string name=\"bS\" value=\"folkvillige\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"1\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"55\"/>\n-      <int name=\"y\" value=\"1\"/>\n-      <int name=\"rx\" value=\"0\"/>\n-      <int name=\"ry\" value=\"-10\"/>\n-      <int name=\"type\" value=\"1\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n+    <imgdir name=\"obj\">\n     </imgdir>\n-    <imgdir name=\"2\">\n-      <string name=\"bS\" value=\"folkvillige\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"15\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"-93\"/>\n-      <int name=\"y\" value=\"-237\"/>\n-      <int name=\"rx\" value=\"2\"/>\n-      <int name=\"ry\" value=\"-12\"/>\n-      <int name=\"type\" value=\"4\"/>\n-      <int name=\"cx\" value=\"1300\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n+    <imgdir name=\"tile\">\n     </imgdir>\n-    <imgdir name=\"3\">\n-      <string name=\"bS\" value=\"folkvillige\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"14\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"324\"/>\n-      <int name=\"y\" value=\"-140\"/>\n-      <int name=\"rx\" value=\"3\"/>\n-      <int name=\"ry\" value=\"-14\"/>\n-      <int name=\"type\" value=\"4\"/>\n-      <int name=\"cx\" value=\"1000\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n+  </imgdir>\n+  <imgdir name=\"1\">\n+    <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"4\">\n-      <string name=\"bS\" value=\"folkvillige\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"13\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"-59\"/>\n-      <int name=\"y\" value=\"-88\"/>\n-      <int name=\"rx\" value=\"4\"/>\n-      <int name=\"ry\" value=\"-16\"/>\n-      <int name=\"type\" value=\"4\"/>\n-      <int name=\"cx\" value=\"1000\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n+    <imgdir name=\"obj\">\n     </imgdir>\n-    <imgdir name=\"5\">\n-      <string name=\"bS\" value=\"folkvillige\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"12\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"257\"/>\n-      <int name=\"y\" value=\"-222\"/>\n-      <int name=\"rx\" value=\"5\"/>\n-      <int name=\"ry\" value=\"-17\"/>\n-      <int name=\"type\" value=\"4\"/>\n-      <int name=\"cx\" value=\"1500\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n+    <imgdir name=\"tile\">\n     </imgdir>\n-    <imgdir name=\"6\">\n-      <string name=\"bS\" value=\"folkvillige\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"11\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"-365\"/>\n-      <int name=\"y\" value=\"-156\"/>\n-      <int name=\"rx\" value=\"4\"/>\n-      <int name=\"ry\" value=\"-18\"/>\n-      <int name=\"type\" value=\"4\"/>\n-      <int name=\"cx\" value=\"1200\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n+  </imgdir>\n+  <imgdir name=\"2\">\n+    <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"7\">\n-      <string name=\"bS\" value=\"folkvillige\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"10\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"405\"/>\n-      <int name=\"y\" value=\"-96\"/>\n-      <int name=\"rx\" value=\"3\"/>\n-      <int name=\"ry\" value=\"-18\"/>\n-      <int name=\"type\" value=\"4\"/>\n-      <int name=\"cx\" value=\"1800\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n+    <imgdir name=\"obj\">\n     </imgdir>\n-    <imgdir name=\"8\">\n-      <string name=\"bS\" value=\"folkvillige\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"9\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"-347\"/>\n-      <int name=\"y\" value=\"-294\"/>\n-      <int name=\"rx\" value=\"2\"/>\n-      <int name=\"ry\" value=\"-19\"/>\n-      <int name=\"type\" value=\"4\"/>\n-      <int name=\"cx\" value=\"1500\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n+    <imgdir name=\"tile\">\n     </imgdir>\n-    <imgdir name=\"9\">\n-      <string name=\"bS\" value=\"folkvillige\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"8\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"117\"/>\n-      <int name=\"y\" value=\"-87\"/>\n-      <int name=\"rx\" value=\"5\"/>\n-      <int name=\"ry\" value=\"-20\"/>\n-      <int name=\"type\" value=\"4\"/>\n-      <int name=\"cx\" value=\"1700\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n+  </imgdir>\n+  <imgdir name=\"3\">\n+    <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"10\">\n-      <string name=\"bS\" value=\"folkvillige\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"7\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"-312\"/>\n-      <int name=\"y\" value=\"-7\"/>\n-      <int name=\"rx\" value=\"5\"/>\n-      <int name=\"ry\" value=\"-21\"/>\n-      <int name=\"type\" value=\"4\"/>\n-      <int name=\"cx\" value=\"1000\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n+    <imgdir name=\"obj\">\n+      <imgdir name=\"0\">\n+        <int name=\"x\" value=\"-543\"/>\n+        <int name=\"y\" value=\"306\"/>\n+        <int name=\"z\" value=\"9\"/>\n+        <int name=\"zM\" value=\"3\"/>\n+        <string name=\"oS\" value=\"acc6\"/>\n+        <string name=\"l0\" value=\"folkvillige\"/>\n+        <string name=\"l1\" value=\"event\"/>\n+        <string name=\"l2\" value=\"10\"/>\n+        <int name=\"r\" value=\"0\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"1\">\n+        <int name=\"x\" value=\"-157\"/>\n+        <int name=\"y\" value=\"308\"/>\n+        <int name=\"z\" value=\"9\"/>\n+        <int name=\"zM\" value=\"4\"/>\n+        <string name=\"oS\" value=\"acc6\"/>\n+        <string name=\"l0\" value=\"folkvillige\"/>\n+        <string name=\"l1\" value=\"event\"/>\n+        <string name=\"l2\" value=\"12\"/>\n+        <int name=\"r\" value=\"0\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"2\">\n+        <int name=\"x\" value=\"365\"/>\n+        <int name=\"y\" value=\"318\"/>\n+        <int name=\"z\" value=\"5\"/>\n+        <int name=\"zM\" value=\"1\"/>\n+        <string name=\"oS\" value=\"acc6\"/>\n+        <string name=\"l0\" value=\"folkvillige\"/>\n+        <string name=\"l1\" value=\"event\"/>\n+        <string name=\"l2\" value=\"11\"/>\n+        <int name=\"r\" value=\"0\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"3\">\n+        <int name=\"x\" value=\"-9\"/>\n+        <int name=\"y\" value=\"313\"/>\n+        <int name=\"z\" value=\"7\"/>\n+        <int name=\"zM\" value=\"2\"/>\n+        <string name=\"oS\" value=\"acc6\"/>\n+        <string name=\"l0\" value=\"folkvillige\"/>\n+        <string name=\"l1\" value=\"event\"/>\n+        <string name=\"l2\" value=\"10\"/>\n+        <int name=\"r\" value=\"0\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"4\">\n+        <int name=\"x\" value=\"389\"/>\n+        <int name=\"y\" value=\"314\"/>\n+        <int name=\"z\" value=\"7\"/>\n+        <int name=\"zM\" value=\"1\"/>\n+        <string name=\"oS\" value=\"acc6\"/>\n+        <string name=\"l0\" value=\"folkvillige\"/>\n+        <string name=\"l1\" value=\"event\"/>\n+        <string name=\"l2\" value=\"12\"/>\n+        <int name=\"r\" value=\"0\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n     </imgdir>\n-    <imgdir name=\"12\">\n-      <string name=\"bS\" value=\"folkvillige\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"3\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"-33\"/>\n-      <int name=\"y\" value=\"36\"/>\n-      <int name=\"rx\" value=\"-20\"/>\n-      <int name=\"ry\" value=\"-35\"/>\n-      <int name=\"type\" value=\"1\"/>\n-      <int name=\"cx\" value=\"700\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-    <imgdir name=\"13\">\n-      <string name=\"bS\" value=\"folkvillige\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"4\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"-53\"/>\n-      <int name=\"y\" value=\"119\"/>\n-      <int name=\"rx\" value=\"-25\"/>\n-      <int name=\"ry\" value=\"-40\"/>\n-      <int name=\"type\" value=\"1\"/>\n-      <int name=\"cx\" value=\"2046\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-    <imgdir name=\"14\">\n-      <string name=\"bS\" value=\"folkvillige\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"5\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"969\"/>\n-      <int name=\"y\" value=\"126\"/>\n-      <int name=\"rx\" value=\"-25\"/>\n-      <int name=\"ry\" value=\"-40\"/>\n-      <int name=\"type\" value=\"1\"/>\n-      <int name=\"cx\" value=\"2046\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-    <imgdir name=\"15\">\n-      <string name=\"bS\" value=\"folkvillige\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"6\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"10\"/>\n-      <int name=\"y\" value=\"179\"/>\n-      <int name=\"rx\" value=\"-40\"/>\n-      <int name=\"ry\" value=\"-70\"/>\n-      <int name=\"type\" value=\"1\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-    <imgdir name=\"11\">\n-      <string name=\"bS\" value=\"folkvillige\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"2\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"-19\"/>\n-      <int name=\"y\" value=\"42\"/>\n-      <int name=\"rx\" value=\"-20\"/>\n-      <int name=\"ry\" value=\"-30\"/>\n-      <int name=\"type\" value=\"1\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"life\">\n-    <imgdir name=\"0\">\n-      <string name=\"type\" value=\"m\"/>\n-      <string name=\"id\" value=\"9300162\"/>\n-      <int name=\"x\" value=\"-156\"/>\n-      <int name=\"y\" value=\"328\"/>\n-      <int name=\"mobTime\" value=\"-1\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"23\"/>\n-      <int name=\"cy\" value=\"333\"/>\n-      <int name=\"rx0\" value=\"-700\"/>\n-      <int name=\"rx1\" value=\"610\"/>\n-    </imgdir>\n-    <imgdir name=\"1\">\n-      <string name=\"type\" value=\"m\"/>\n-      <string name=\"id\" value=\"9300163\"/>\n-      <int name=\"x\" value=\"462\"/>\n-      <int name=\"y\" value=\"254\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"7\"/>\n-      <int name=\"cy\" value=\"273\"/>\n-      <int name=\"rx0\" value=\"-700\"/>\n-      <int name=\"rx1\" value=\"610\"/>\n-    </imgdir>\n-    <imgdir name=\"2\">\n-      <string name=\"type\" value=\"m\"/>\n-      <string name=\"id\" value=\"9300163\"/>\n-      <int name=\"x\" value=\"-532\"/>\n-      <int name=\"y\" value=\"305\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"19\"/>\n-      <int name=\"cy\" value=\"333\"/>\n-      <int name=\"rx0\" value=\"-700\"/>\n-      <int name=\"rx1\" value=\"610\"/>\n-    </imgdir>\n-    <imgdir name=\"3\">\n-      <string name=\"type\" value=\"m\"/>\n-      <string name=\"id\" value=\"9300165\"/>\n-      <int name=\"x\" value=\"580\"/>\n-      <int name=\"y\" value=\"199\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"4\"/>\n-      <int name=\"cy\" value=\"213\"/>\n-      <int name=\"rx0\" value=\"-700\"/>\n-      <int name=\"rx1\" value=\"610\"/>\n-    </imgdir>\n-    <imgdir name=\"4\">\n-      <string name=\"type\" value=\"m\"/>\n-      <string name=\"id\" value=\"9300164\"/>\n-      <int name=\"x\" value=\"72\"/>\n-      <int name=\"y\" value=\"328\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"25\"/>\n-      <int name=\"cy\" value=\"333\"/>\n-      <int name=\"rx0\" value=\"-700\"/>\n-      <int name=\"rx1\" value=\"610\"/>\n-    </imgdir>\n-    <imgdir name=\"5\">\n-      <string name=\"type\" value=\"m\"/>\n-      <string name=\"id\" value=\"9300165\"/>\n-      <int name=\"x\" value=\"-380\"/>\n-      <int name=\"y\" value=\"313\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"20\"/>\n-      <int name=\"cy\" value=\"333\"/>\n-      <int name=\"rx0\" value=\"-700\"/>\n-      <int name=\"rx1\" value=\"610\"/>\n+    <imgdir name=\"tile\">\n     </imgdir>\n   </imgdir>\n-  <imgdir name=\"reactor\">\n-  </imgdir>\n-  <imgdir name=\"0\">\n+  <imgdir name=\"4\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n-  </imgdir>\n-  <imgdir name=\"1\">\n-    <imgdir name=\"info\">\n-    </imgdir>\n     <imgdir name=\"tile\">\n     </imgdir>\n-    <imgdir name=\"obj\">\n-    </imgdir>\n   </imgdir>\n-  <imgdir name=\"2\">\n+  <imgdir name=\"5\">\n     <imgdir name=\"info\">\n-    </imgdir>\n-    <imgdir name=\"tile\">\n+      <string name=\"tS\" value=\"folkvillige\"/>\n     </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n-  </imgdir>\n-  <imgdir name=\"3\">\n-    <imgdir name=\"info\">\n-    </imgdir>\n     <imgdir name=\"tile\">\n-    </imgdir>\n-    <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n-        <string name=\"oS\" value=\"acc6\"/>\n-        <string name=\"l0\" value=\"folkvillige\"/>\n-        <string name=\"l1\" value=\"event\"/>\n-        <string name=\"l2\" value=\"10\"/>\n-        <int name=\"x\" value=\"-543\"/>\n-        <int name=\"y\" value=\"306\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"3\"/>\n-        <int name=\"r\" value=\"0\"/>\n+        <int name=\"x\" value=\"90\"/>\n+        <int name=\"y\" value=\"540\"/>\n+        <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"enH1\"/>\n+        <int name=\"no\" value=\"2\"/>\n+      </imgdir>\n+      <imgdir name=\"1\">\n+        <int name=\"x\" value=\"180\"/>\n+        <int name=\"y\" value=\"480\"/>\n+        <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"bsc\"/>\n+        <int name=\"no\" value=\"3\"/>\n       </imgdir>\n       <imgdir name=\"2\">\n-        <string name=\"oS\" value=\"acc6\"/>\n-        <string name=\"l0\" value=\"folkvillige\"/>\n-        <string name=\"l1\" value=\"event\"/>\n-        <string name=\"l2\" value=\"12\"/>\n-        <int name=\"x\" value=\"-157\"/>\n-        <int name=\"y\" value=\"308\"/>\n-        <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"4\"/>\n-        <int name=\"r\" value=\"0\"/>\n+        <int name=\"x\" value=\"270\"/>\n+        <int name=\"y\" value=\"480\"/>\n+        <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"bsc\"/>\n+        <int name=\"no\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"3\">\n+        <int name=\"x\" value=\"-90\"/>\n+        <int name=\"y\" value=\"480\"/>\n+        <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"bsc\"/>\n+        <int name=\"no\" value=\"3\"/>\n       </imgdir>\n       <imgdir name=\"4\">\n-        <string name=\"oS\" value=\"acc6\"/>\n-        <string name=\"l0\" value=\"folkvillige\"/>\n-        <string name=\"l1\" value=\"event\"/>\n-        <string name=\"l2\" value=\"11\"/>\n-        <int name=\"x\" value=\"365\"/>\n-        <int name=\"y\" value=\"318\"/>\n-        <int name=\"z\" value=\"5\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"1\"/>\n-        <int name=\"r\" value=\"0\"/>\n+        <int name=\"x\" value=\"0\"/>\n+        <int name=\"y\" value=\"420\"/>\n+        <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"bsc\"/>\n+        <int name=\"no\" value=\"2\"/>\n       </imgdir>\n-      <imgdir name=\"3\">\n-        <string name=\"oS\" value=\"acc6\"/>\n-        <string name=\"l0\" value=\"folkvillige\"/>\n-        <string name=\"l1\" value=\"event\"/>\n-        <string name=\"l2\" value=\"10\"/>\n-        <int name=\"x\" value=\"-9\"/>\n-        <int name=\"y\" value=\"313\"/>\n-        <int name=\"z\" value=\"7\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"2\"/>\n-        <int name=\"r\" value=\"0\"/>\n+      <imgdir name=\"5\">\n+        <int name=\"x\" value=\"0\"/>\n+        <int name=\"y\" value=\"480\"/>\n+        <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"bsc\"/>\n+        <int name=\"no\" value=\"2\"/>\n       </imgdir>\n-      <imgdir name=\"1\">\n-        <string name=\"oS\" value=\"acc6\"/>\n-        <string name=\"l0\" value=\"folkvillige\"/>\n-        <string name=\"l1\" value=\"event\"/>\n-        <string name=\"l2\" value=\"12\"/>\n-        <int name=\"x\" value=\"389\"/>\n-        <int name=\"y\" value=\"314\"/>\n-        <int name=\"z\" value=\"7\"/>\n-        <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"1\"/>\n-        <int name=\"r\" value=\"0\"/>\n+      <imgdir name=\"6\">\n+        <int name=\"x\" value=\"540\"/>\n+        <int name=\"y\" value=\"360\"/>\n+        <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"bsc\"/>\n+        <int name=\"no\" value=\"2\"/>\n       </imgdir>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"4\">\n-    <imgdir name=\"info\">\n-    </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n-    <imgdir name=\"obj\">\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"5\">\n-    <imgdir name=\"info\">\n-      <string name=\"tS\" value=\"folkvillige\"/>\n-      <int name=\"tSMag\" value=\"1\"/>\n-    </imgdir>\n-    <imgdir name=\"tile\">\n-      <imgdir name=\"73\">\n-        <int name=\"x\" value=\"-450\"/>\n-        <int name=\"y\" value=\"360\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"71\">\n-        <int name=\"x\" value=\"-540\"/>\n-        <int name=\"y\" value=\"360\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"1\"/>\n+      <imgdir name=\"7\">\n+        <int name=\"x\" value=\"-180\"/>\n+        <int name=\"y\" value=\"480\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"bsc\"/>\n+        <int name=\"no\" value=\"3\"/>\n       </imgdir>\n-      <imgdir name=\"65\">\n-        <int name=\"x\" value=\"-360\"/>\n-        <int name=\"y\" value=\"360\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"1\"/>\n+      <imgdir name=\"8\">\n+        <int name=\"x\" value=\"-270\"/>\n+        <int name=\"y\" value=\"540\"/>\n         <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"83\">\n-        <int name=\"x\" value=\"0\"/>\n-        <int name=\"y\" value=\"360\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n+        <string name=\"u\" value=\"enH1\"/>\n         <int name=\"no\" value=\"1\"/>\n-        <int name=\"zM\" value=\"0\"/>\n       </imgdir>\n-      <imgdir name=\"81\">\n-        <int name=\"x\" value=\"-90\"/>\n-        <int name=\"y\" value=\"360\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n+      <imgdir name=\"9\">\n+        <int name=\"x\" value=\"-450\"/>\n+        <int name=\"y\" value=\"420\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"bsc\"/>\n+        <int name=\"no\" value=\"5\"/>\n       </imgdir>\n-      <imgdir name=\"79\">\n+      <imgdir name=\"10\">\n         <int name=\"x\" value=\"-180\"/>\n-        <int name=\"y\" value=\"360\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"75\">\n-        <int name=\"x\" value=\"-270\"/>\n-        <int name=\"y\" value=\"360\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"1\"/>\n+        <int name=\"y\" value=\"540\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"enH1\"/>\n+        <int name=\"no\" value=\"2\"/>\n       </imgdir>\n-      <imgdir name=\"77\">\n+      <imgdir name=\"11\">\n         <int name=\"x\" value=\"90\"/>\n-        <int name=\"y\" value=\"360\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"85\">\n-        <int name=\"x\" value=\"180\"/>\n-        <int name=\"y\" value=\"360\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"2\"/>\n+        <int name=\"y\" value=\"420\"/>\n         <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"70\">\n-        <int name=\"x\" value=\"-540\"/>\n-        <int name=\"y\" value=\"360\"/>\n         <string name=\"u\" value=\"bsc\"/>\n         <int name=\"no\" value=\"5\"/>\n-        <int name=\"zM\" value=\"0\"/>\n       </imgdir>\n-      <imgdir name=\"64\">\n+      <imgdir name=\"12\">\n         <int name=\"x\" value=\"-360\"/>\n-        <int name=\"y\" value=\"360\"/>\n+        <int name=\"y\" value=\"420\"/>\n+        <int name=\"zM\" value=\"0\"/>\n         <string name=\"u\" value=\"bsc\"/>\n         <int name=\"no\" value=\"1\"/>\n-        <int name=\"zM\" value=\"0\"/>\n       </imgdir>\n-      <imgdir name=\"74\">\n-        <int name=\"x\" value=\"-270\"/>\n-        <int name=\"y\" value=\"360\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"0\"/>\n+      <imgdir name=\"13\">\n+        <int name=\"x\" value=\"270\"/>\n+        <int name=\"y\" value=\"420\"/>\n         <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"72\">\n-        <int name=\"x\" value=\"-450\"/>\n-        <int name=\"y\" value=\"360\"/>\n         <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"4\"/>\n-        <int name=\"zM\" value=\"0\"/>\n+        <int name=\"no\" value=\"1\"/>\n       </imgdir>\n-      <imgdir name=\"78\">\n-        <int name=\"x\" value=\"-180\"/>\n-        <int name=\"y\" value=\"360\"/>\n+      <imgdir name=\"14\">\n+        <int name=\"x\" value=\"540\"/>\n+        <int name=\"y\" value=\"480\"/>\n+        <int name=\"zM\" value=\"0\"/>\n         <string name=\"u\" value=\"bsc\"/>\n         <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n       </imgdir>\n-      <imgdir name=\"80\">\n-        <int name=\"x\" value=\"-90\"/>\n-        <int name=\"y\" value=\"360\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"4\"/>\n+      <imgdir name=\"15\">\n+        <int name=\"x\" value=\"180\"/>\n+        <int name=\"y\" value=\"540\"/>\n         <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"82\">\n-        <int name=\"x\" value=\"0\"/>\n-        <int name=\"y\" value=\"360\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n+        <string name=\"u\" value=\"enH1\"/>\n         <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n       </imgdir>\n-      <imgdir name=\"76\">\n-        <int name=\"x\" value=\"90\"/>\n-        <int name=\"y\" value=\"360\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"0\"/>\n+      <imgdir name=\"16\">\n+        <int name=\"x\" value=\"360\"/>\n+        <int name=\"y\" value=\"480\"/>\n         <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"84\">\n-        <int name=\"x\" value=\"180\"/>\n-        <int name=\"y\" value=\"360\"/>\n         <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"2\"/>\n+        <int name=\"no\" value=\"3\"/>\n+      </imgdir>\n+      <imgdir name=\"17\">\n+        <int name=\"x\" value=\"-630\"/>\n+        <int name=\"y\" value=\"300\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"edU\"/>\n+        <int name=\"no\" value=\"1\"/>\n       </imgdir>\n-      <imgdir name=\"86\">\n+      <imgdir name=\"18\">\n         <int name=\"x\" value=\"270\"/>\n         <int name=\"y\" value=\"360\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"0\"/>\n         <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"2\">\n-        <int name=\"x\" value=\"270\"/>\n-        <int name=\"y\" value=\"480\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n+        <string name=\"u\" value=\"enH0\"/>\n         <int name=\"no\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"19\">\n+        <int name=\"x\" value=\"540\"/>\n+        <int name=\"y\" value=\"240\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"enV0\"/>\n+        <int name=\"no\" value=\"0\"/>\n       </imgdir>\n-      <imgdir name=\"3\">\n-        <int name=\"x\" value=\"-90\"/>\n+      <imgdir name=\"20\">\n+        <int name=\"x\" value=\"-540\"/>\n         <int name=\"y\" value=\"480\"/>\n+        <int name=\"zM\" value=\"0\"/>\n         <string name=\"u\" value=\"bsc\"/>\n         <int name=\"no\" value=\"3\"/>\n-        <int name=\"zM\" value=\"0\"/>\n       </imgdir>\n-      <imgdir name=\"5\">\n-        <int name=\"x\" value=\"0\"/>\n+      <imgdir name=\"21\">\n+        <int name=\"x\" value=\"-270\"/>\n         <int name=\"y\" value=\"480\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"2\"/>\n         <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"4\">\n-        <int name=\"x\" value=\"0\"/>\n-        <int name=\"y\" value=\"420\"/>\n         <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n+        <int name=\"no\" value=\"0\"/>\n       </imgdir>\n-      <imgdir name=\"0\">\n-        <int name=\"x\" value=\"90\"/>\n+      <imgdir name=\"22\">\n+        <int name=\"x\" value=\"360\"/>\n         <int name=\"y\" value=\"540\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"2\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"enH1\"/>\n+        <int name=\"no\" value=\"1\"/>\n       </imgdir>\n-      <imgdir name=\"1\">\n-        <int name=\"x\" value=\"180\"/>\n-        <int name=\"y\" value=\"480\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"3\"/>\n+      <imgdir name=\"23\">\n+        <int name=\"x\" value=\"-630\"/>\n+        <int name=\"y\" value=\"360\"/>\n         <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"7\">\n-        <int name=\"x\" value=\"-180\"/>\n-        <int name=\"y\" value=\"480\"/>\n         <string name=\"u\" value=\"bsc\"/>\n         <int name=\"no\" value=\"3\"/>\n-        <int name=\"zM\" value=\"0\"/>\n       </imgdir>\n-      <imgdir name=\"10\">\n-        <int name=\"x\" value=\"-180\"/>\n-        <int name=\"y\" value=\"540\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n+      <imgdir name=\"24\">\n+        <int name=\"x\" value=\"540\"/>\n+        <int name=\"y\" value=\"300\"/>\n+        <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"bsc\"/>\n         <int name=\"no\" value=\"2\"/>\n+      </imgdir>\n+      <imgdir name=\"25\">\n+        <int name=\"x\" value=\"360\"/>\n+        <int name=\"y\" value=\"360\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"bsc\"/>\n+        <int name=\"no\" value=\"4\"/>\n       </imgdir>\n-      <imgdir name=\"11\">\n-        <int name=\"x\" value=\"90\"/>\n+      <imgdir name=\"26\">\n+        <int name=\"x\" value=\"450\"/>\n         <int name=\"y\" value=\"420\"/>\n+        <int name=\"zM\" value=\"0\"/>\n         <string name=\"u\" value=\"bsc\"/>\n         <int name=\"no\" value=\"5\"/>\n+      </imgdir>\n+      <imgdir name=\"27\">\n+        <int name=\"x\" value=\"-720\"/>\n+        <int name=\"y\" value=\"540\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"enH1\"/>\n+        <int name=\"no\" value=\"2\"/>\n       </imgdir>\n-      <imgdir name=\"8\">\n-        <int name=\"x\" value=\"-270\"/>\n+      <imgdir name=\"28\">\n+        <int name=\"x\" value=\"0\"/>\n         <int name=\"y\" value=\"540\"/>\n+        <int name=\"zM\" value=\"0\"/>\n         <string name=\"u\" value=\"enH1\"/>\n         <int name=\"no\" value=\"1\"/>\n-        <int name=\"zM\" value=\"0\"/>\n       </imgdir>\n-      <imgdir name=\"9\">\n+      <imgdir name=\"29\">\n         <int name=\"x\" value=\"-450\"/>\n-        <int name=\"y\" value=\"420\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"5\"/>\n+        <int name=\"y\" value=\"540\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"enH1\"/>\n+        <int name=\"no\" value=\"2\"/>\n       </imgdir>\n-      <imgdir name=\"13\">\n-        <int name=\"x\" value=\"270\"/>\n+      <imgdir name=\"30\">\n+        <int name=\"x\" value=\"-630\"/>\n         <int name=\"y\" value=\"420\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"1\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"bsc\"/>\n+        <int name=\"no\" value=\"4\"/>\n       </imgdir>\n-      <imgdir name=\"12\">\n-        <int name=\"x\" value=\"-360\"/>\n+      <imgdir name=\"31\">\n+        <int name=\"x\" value=\"360\"/>\n         <int name=\"y\" value=\"420\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"1\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"bsc\"/>\n+        <int name=\"no\" value=\"5\"/>\n       </imgdir>\n-      <imgdir name=\"15\">\n-        <int name=\"x\" value=\"180\"/>\n-        <int name=\"y\" value=\"540\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n+      <imgdir name=\"32\">\n+        <int name=\"x\" value=\"-720\"/>\n+        <int name=\"y\" value=\"480\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"bsc\"/>\n+        <int name=\"no\" value=\"5\"/>\n       </imgdir>\n-      <imgdir name=\"39\">\n-        <int name=\"x\" value=\"-90\"/>\n-        <int name=\"y\" value=\"540\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"2\"/>\n+      <imgdir name=\"33\">\n+        <int name=\"x\" value=\"540\"/>\n+        <int name=\"y\" value=\"240\"/>\n         <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"37\">\n-        <int name=\"x\" value=\"270\"/>\n-        <int name=\"y\" value=\"540\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n+        <string name=\"u\" value=\"bsc\"/>\n         <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n       </imgdir>\n       <imgdir name=\"34\">\n         <int name=\"x\" value=\"-360\"/>\n         <int name=\"y\" value=\"480\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"0\"/>\n         <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"66\">\n-        <int name=\"x\" value=\"-540\"/>\n-        <int name=\"y\" value=\"420\"/>\n         <string name=\"u\" value=\"bsc\"/>\n         <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"59\">\n-        <int name=\"x\" value=\"-630\"/>\n-        <int name=\"y\" value=\"480\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"3\"/>\n-        <int name=\"zM\" value=\"0\"/>\n       </imgdir>\n-      <imgdir name=\"30\">\n-        <int name=\"x\" value=\"-630\"/>\n-        <int name=\"y\" value=\"420\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"4\"/>\n+      <imgdir name=\"35\">\n+        <int name=\"x\" value=\"540\"/>\n+        <int name=\"y\" value=\"240\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"enH0\"/>\n+        <int name=\"no\" value=\"2\"/>\n       </imgdir>\n-      <imgdir name=\"51\">\n-        <int name=\"x\" value=\"-720\"/>\n+      <imgdir name=\"36\">\n+        <int name=\"x\" value=\"360\"/>\n         <int name=\"y\" value=\"360\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"3\"/>\n         <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"27\">\n-        <int name=\"x\" value=\"-720\"/>\n-        <int name=\"y\" value=\"540\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n+        <string name=\"u\" value=\"enH0\"/>\n         <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n       </imgdir>\n-      <imgdir name=\"53\">\n-        <int name=\"x\" value=\"540\"/>\n-        <int name=\"y\" value=\"420\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"3\"/>\n+      <imgdir name=\"37\">\n+        <int name=\"x\" value=\"270\"/>\n+        <int name=\"y\" value=\"540\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"enH1\"/>\n+        <int name=\"no\" value=\"0\"/>\n       </imgdir>\n-      <imgdir name=\"57\">\n-        <int name=\"x\" value=\"-720\"/>\n+      <imgdir name=\"38\">\n+        <int name=\"x\" value=\"-90\"/>\n         <int name=\"y\" value=\"420\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"3\"/>\n         <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"32\">\n-        <int name=\"x\" value=\"-720\"/>\n-        <int name=\"y\" value=\"480\"/>\n         <string name=\"u\" value=\"bsc\"/>\n         <int name=\"no\" value=\"5\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"52\">\n-        <int name=\"x\" value=\"-630\"/>\n-        <int name=\"y\" value=\"300\"/>\n-        <string name=\"u\" value=\"enV1\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n       </imgdir>\n-      <imgdir name=\"17\">\n-        <int name=\"x\" value=\"-630\"/>\n-        <int name=\"y\" value=\"300\"/>\n-        <string name=\"u\" value=\"edU\"/>\n-        <int name=\"no\" value=\"1\"/>\n+      <imgdir name=\"39\">\n+        <int name=\"x\" value=\"-90\"/>\n+        <int name=\"y\" value=\"540\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"enH1\"/>\n+        <int name=\"no\" value=\"2\"/>\n       </imgdir>\n       <imgdir name=\"40\">\n         <int name=\"x\" value=\"-720\"/>\n         <int name=\"y\" value=\"300\"/>\n+        <int name=\"zM\" value=\"0\"/>\n         <string name=\"u\" value=\"bsc\"/>\n         <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n       </imgdir>\n       <imgdir name=\"41\">\n         <int name=\"x\" value=\"-720\"/>\n         <int name=\"y\" value=\"300\"/>\n+        <int name=\"zM\" value=\"0\"/>\n         <string name=\"u\" value=\"enH0\"/>\n         <int name=\"no\" value=\"2\"/>\n+      </imgdir>\n+      <imgdir name=\"42\">\n+        <int name=\"x\" value=\"-630\"/>\n+        <int name=\"y\" value=\"540\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"enH1\"/>\n+        <int name=\"no\" value=\"2\"/>\n       </imgdir>\n-      <imgdir name=\"44\">\n+      <imgdir name=\"43\">\n         <int name=\"x\" value=\"450\"/>\n         <int name=\"y\" value=\"300\"/>\n-        <string name=\"u\" value=\"edU\"/>\n-        <int name=\"no\" value=\"1\"/>\n         <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"35\">\n-        <int name=\"x\" value=\"540\"/>\n-        <int name=\"y\" value=\"240\"/>\n         <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n+        <int name=\"no\" value=\"0\"/>\n       </imgdir>\n-      <imgdir name=\"58\">\n+      <imgdir name=\"44\">\n         <int name=\"x\" value=\"450\"/>\n         <int name=\"y\" value=\"300\"/>\n-        <string name=\"u\" value=\"enV0\"/>\n-        <int name=\"no\" value=\"2\"/>\n         <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"54\">\n-        <int name=\"x\" value=\"540\"/>\n-        <int name=\"y\" value=\"240\"/>\n         <string name=\"u\" value=\"edU\"/>\n         <int name=\"no\" value=\"1\"/>\n-        <int name=\"zM\" value=\"0\"/>\n       </imgdir>\n-      <imgdir name=\"43\">\n-        <int name=\"x\" value=\"450\"/>\n-        <int name=\"y\" value=\"300\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"14\">\n+      <imgdir name=\"45\">\n         <int name=\"x\" value=\"540\"/>\n-        <int name=\"y\" value=\"480\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"2\"/>\n+        <int name=\"y\" value=\"540\"/>\n         <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"6\">\n-        <int name=\"x\" value=\"540\"/>\n-        <int name=\"y\" value=\"360\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n+        <string name=\"u\" value=\"enH1\"/>\n         <int name=\"no\" value=\"2\"/>\n+      </imgdir>\n+      <imgdir name=\"46\">\n+        <int name=\"x\" value=\"-540\"/>\n+        <int name=\"y\" value=\"540\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"enH1\"/>\n+        <int name=\"no\" value=\"1\"/>\n       </imgdir>\n       <imgdir name=\"47\">\n         <int name=\"x\" value=\"-630\"/>\n         <int name=\"y\" value=\"360\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"2\"/>\n         <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"24\">\n-        <int name=\"x\" value=\"540\"/>\n-        <int name=\"y\" value=\"300\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n+        <string name=\"u\" value=\"enH0\"/>\n         <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n       </imgdir>\n-      <imgdir name=\"55\">\n-        <int name=\"x\" value=\"450\"/>\n+      <imgdir name=\"48\">\n+        <int name=\"x\" value=\"-360\"/>\n         <int name=\"y\" value=\"540\"/>\n+        <int name=\"zM\" value=\"0\"/>\n         <string name=\"u\" value=\"enH1\"/>\n         <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n       </imgdir>\n-      <imgdir name=\"62\">\n+      <imgdir name=\"49\">\n         <int name=\"x\" value=\"450\"/>\n-        <int name=\"y\" value=\"480\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"2\"/>\n+        <int name=\"y\" value=\"360\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"bsc\"/>\n+        <int name=\"no\" value=\"0\"/>\n       </imgdir>\n-      <imgdir name=\"26\">\n-        <int name=\"x\" value=\"450\"/>\n+      <imgdir name=\"50\">\n+        <int name=\"x\" value=\"180\"/>\n         <int name=\"y\" value=\"420\"/>\n+        <int name=\"zM\" value=\"0\"/>\n         <string name=\"u\" value=\"bsc\"/>\n         <int name=\"no\" value=\"5\"/>\n-        <int name=\"zM\" value=\"0\"/>\n       </imgdir>\n-      <imgdir name=\"49\">\n-        <int name=\"x\" value=\"450\"/>\n+      <imgdir name=\"51\">\n+        <int name=\"x\" value=\"-720\"/>\n         <int name=\"y\" value=\"360\"/>\n+        <int name=\"zM\" value=\"0\"/>\n         <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"0\"/>\n+        <int name=\"no\" value=\"3\"/>\n+      </imgdir>\n+      <imgdir name=\"52\">\n+        <int name=\"x\" value=\"-630\"/>\n+        <int name=\"y\" value=\"300\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"enV1\"/>\n+        <int name=\"no\" value=\"2\"/>\n       </imgdir>\n-      <imgdir name=\"45\">\n+      <imgdir name=\"53\">\n         <int name=\"x\" value=\"540\"/>\n-        <int name=\"y\" value=\"540\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"2\"/>\n+        <int name=\"y\" value=\"420\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"bsc\"/>\n+        <int name=\"no\" value=\"3\"/>\n       </imgdir>\n-      <imgdir name=\"19\">\n+      <imgdir name=\"54\">\n         <int name=\"x\" value=\"540\"/>\n         <int name=\"y\" value=\"240\"/>\n-        <string name=\"u\" value=\"enV0\"/>\n-        <int name=\"no\" value=\"0\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"edU\"/>\n+        <int name=\"no\" value=\"1\"/>\n+      </imgdir>\n+      <imgdir name=\"55\">\n+        <int name=\"x\" value=\"450\"/>\n+        <int name=\"y\" value=\"540\"/>\n+        <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"enH1\"/>\n+        <int name=\"no\" value=\"2\"/>\n       </imgdir>\n       <imgdir name=\"56\">\n         <int name=\"x\" value=\"450\"/>\n         <int name=\"y\" value=\"300\"/>\n+        <int name=\"zM\" value=\"0\"/>\n         <string name=\"u\" value=\"bsc\"/>\n         <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n       </imgdir>\n-      <imgdir name=\"42\">\n-        <int name=\"x\" value=\"-630\"/>\n-        <int name=\"y\" value=\"540\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"2\"/>\n+      <imgdir name=\"57\">\n+        <int name=\"x\" value=\"-720\"/>\n+        <int name=\"y\" value=\"420\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"bsc\"/>\n+        <int name=\"no\" value=\"3\"/>\n       </imgdir>\n-      <imgdir name=\"29\">\n-        <int name=\"x\" value=\"-450\"/>\n-        <int name=\"y\" value=\"540\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"2\"/>\n+      <imgdir name=\"58\">\n+        <int name=\"x\" value=\"450\"/>\n+        <int name=\"y\" value=\"300\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"enV0\"/>\n+        <int name=\"no\" value=\"2\"/>\n       </imgdir>\n-      <imgdir name=\"63\">\n-        <int name=\"x\" value=\"-450\"/>\n+      <imgdir name=\"59\">\n+        <int name=\"x\" value=\"-630\"/>\n         <int name=\"y\" value=\"480\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"5\"/>\n         <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"69\">\n-        <int name=\"x\" value=\"-270\"/>\n-        <int name=\"y\" value=\"420\"/>\n         <string name=\"u\" value=\"bsc\"/>\n         <int name=\"no\" value=\"3\"/>\n-        <int name=\"zM\" value=\"0\"/>\n       </imgdir>\n-      <imgdir name=\"33\">\n-        <int name=\"x\" value=\"540\"/>\n-        <int name=\"y\" value=\"240\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n+      <imgdir name=\"60\">\n+        <int name=\"x\" value=\"450\"/>\n+        <int name=\"y\" value=\"60\"/>\n+        <int name=\"zM\" value=\"7\"/>\n+        <string name=\"u\" value=\"enH0\"/>\n+        <int name=\"no\" value=\"2\"/>\n       </imgdir>\n-      <imgdir name=\"48\">\n-        <int name=\"x\" value=\"-360\"/>\n-        <int name=\"y\" value=\"540\"/>\n+      <imgdir name=\"61\">\n+        <int name=\"x\" value=\"450\"/>\n+        <int name=\"y\" value=\"60\"/>\n+        <int name=\"zM\" value=\"7\"/>\n         <string name=\"u\" value=\"enH1\"/>\n+        <int name=\"no\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"62\">\n+        <int name=\"x\" value=\"450\"/>\n+        <int name=\"y\" value=\"480\"/>\n+        <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"bsc\"/>\n         <int name=\"no\" value=\"2\"/>\n+      </imgdir>\n+      <imgdir name=\"63\">\n+        <int name=\"x\" value=\"-450\"/>\n+        <int name=\"y\" value=\"480\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"bsc\"/>\n+        <int name=\"no\" value=\"5\"/>\n       </imgdir>\n-      <imgdir name=\"23\">\n-        <int name=\"x\" value=\"-630\"/>\n+      <imgdir name=\"64\">\n+        <int name=\"x\" value=\"-360\"/>\n         <int name=\"y\" value=\"360\"/>\n+        <int name=\"zM\" value=\"0\"/>\n         <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"3\"/>\n+        <int name=\"no\" value=\"1\"/>\n+      </imgdir>\n+      <imgdir name=\"65\">\n+        <int name=\"x\" value=\"-360\"/>\n+        <int name=\"y\" value=\"360\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"enH0\"/>\n+        <int name=\"no\" value=\"1\"/>\n       </imgdir>\n-      <imgdir name=\"31\">\n-        <int name=\"x\" value=\"360\"/>\n+      <imgdir name=\"66\">\n+        <int name=\"x\" value=\"-540\"/>\n         <int name=\"y\" value=\"420\"/>\n-        <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"5\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"bsc\"/>\n+        <int name=\"no\" value=\"0\"/>\n       </imgdir>\n       <imgdir name=\"67\">\n         <int name=\"x\" value=\"90\"/>\n         <int name=\"y\" value=\"480\"/>\n+        <int name=\"zM\" value=\"0\"/>\n         <string name=\"u\" value=\"bsc\"/>\n         <int name=\"no\" value=\"5\"/>\n-        <int name=\"zM\" value=\"0\"/>\n       </imgdir>\n-      <imgdir name=\"21\">\n-        <int name=\"x\" value=\"-270\"/>\n-        <int name=\"y\" value=\"480\"/>\n+      <imgdir name=\"68\">\n+        <int name=\"x\" value=\"-180\"/>\n+        <int name=\"y\" value=\"420\"/>\n+        <int name=\"zM\" value=\"0\"/>\n         <string name=\"u\" value=\"bsc\"/>\n         <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n       </imgdir>\n-      <imgdir name=\"22\">\n-        <int name=\"x\" value=\"360\"/>\n-        <int name=\"y\" value=\"540\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"1\"/>\n+      <imgdir name=\"69\">\n+        <int name=\"x\" value=\"-270\"/>\n+        <int name=\"y\" value=\"420\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"bsc\"/>\n+        <int name=\"no\" value=\"3\"/>\n       </imgdir>\n-      <imgdir name=\"46\">\n+      <imgdir name=\"70\">\n         <int name=\"x\" value=\"-540\"/>\n-        <int name=\"y\" value=\"540\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"1\"/>\n+        <int name=\"y\" value=\"360\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"bsc\"/>\n+        <int name=\"no\" value=\"5\"/>\n       </imgdir>\n-      <imgdir name=\"20\">\n+      <imgdir name=\"71\">\n         <int name=\"x\" value=\"-540\"/>\n-        <int name=\"y\" value=\"480\"/>\n+        <int name=\"y\" value=\"360\"/>\n+        <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"enH0\"/>\n+        <int name=\"no\" value=\"1\"/>\n+      </imgdir>\n+      <imgdir name=\"72\">\n+        <int name=\"x\" value=\"-450\"/>\n+        <int name=\"y\" value=\"360\"/>\n+        <int name=\"zM\" value=\"0\"/>\n         <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"3\"/>\n+        <int name=\"no\" value=\"4\"/>\n+      </imgdir>\n+      <imgdir name=\"73\">\n+        <int name=\"x\" value=\"-450\"/>\n+        <int name=\"y\" value=\"360\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"enH0\"/>\n+        <int name=\"no\" value=\"0\"/>\n       </imgdir>\n-      <imgdir name=\"68\">\n-        <int name=\"x\" value=\"-180\"/>\n-        <int name=\"y\" value=\"420\"/>\n+      <imgdir name=\"74\">\n+        <int name=\"x\" value=\"-270\"/>\n+        <int name=\"y\" value=\"360\"/>\n+        <int name=\"zM\" value=\"0\"/>\n         <string name=\"u\" value=\"bsc\"/>\n         <int name=\"no\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"75\">\n+        <int name=\"x\" value=\"-270\"/>\n+        <int name=\"y\" value=\"360\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"enH0\"/>\n+        <int name=\"no\" value=\"1\"/>\n       </imgdir>\n-      <imgdir name=\"16\">\n-        <int name=\"x\" value=\"360\"/>\n-        <int name=\"y\" value=\"480\"/>\n+      <imgdir name=\"76\">\n+        <int name=\"x\" value=\"90\"/>\n+        <int name=\"y\" value=\"360\"/>\n+        <int name=\"zM\" value=\"0\"/>\n         <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"3\"/>\n+        <int name=\"no\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"77\">\n+        <int name=\"x\" value=\"90\"/>\n+        <int name=\"y\" value=\"360\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"enH0\"/>\n+        <int name=\"no\" value=\"0\"/>\n       </imgdir>\n-      <imgdir name=\"28\">\n-        <int name=\"x\" value=\"0\"/>\n-        <int name=\"y\" value=\"540\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"1\"/>\n+      <imgdir name=\"78\">\n+        <int name=\"x\" value=\"-180\"/>\n+        <int name=\"y\" value=\"360\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"bsc\"/>\n+        <int name=\"no\" value=\"2\"/>\n       </imgdir>\n-      <imgdir name=\"36\">\n-        <int name=\"x\" value=\"360\"/>\n+      <imgdir name=\"79\">\n+        <int name=\"x\" value=\"-180\"/>\n         <int name=\"y\" value=\"360\"/>\n+        <int name=\"zM\" value=\"0\"/>\n         <string name=\"u\" value=\"enH0\"/>\n         <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"0\"/>\n       </imgdir>\n-      <imgdir name=\"25\">\n-        <int name=\"x\" value=\"360\"/>\n+      <imgdir name=\"80\">\n+        <int name=\"x\" value=\"-90\"/>\n         <int name=\"y\" value=\"360\"/>\n+        <int name=\"zM\" value=\"0\"/>\n         <string name=\"u\" value=\"bsc\"/>\n         <int name=\"no\" value=\"4\"/>\n-        <int name=\"zM\" value=\"0\"/>\n       </imgdir>\n-      <imgdir name=\"38\">\n+      <imgdir name=\"81\">\n         <int name=\"x\" value=\"-90\"/>\n-        <int name=\"y\" value=\"420\"/>\n+        <int name=\"y\" value=\"360\"/>\n+        <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"enH0\"/>\n+        <int name=\"no\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"82\">\n+        <int name=\"x\" value=\"0\"/>\n+        <int name=\"y\" value=\"360\"/>\n+        <int name=\"zM\" value=\"0\"/>\n         <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"5\"/>\n+        <int name=\"no\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"83\">\n+        <int name=\"x\" value=\"0\"/>\n+        <int name=\"y\" value=\"360\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"enH0\"/>\n+        <int name=\"no\" value=\"1\"/>\n       </imgdir>\n-      <imgdir name=\"50\">\n+      <imgdir name=\"84\">\n         <int name=\"x\" value=\"180\"/>\n-        <int name=\"y\" value=\"420\"/>\n+        <int name=\"y\" value=\"360\"/>\n+        <int name=\"zM\" value=\"0\"/>\n         <string name=\"u\" value=\"bsc\"/>\n-        <int name=\"no\" value=\"5\"/>\n+        <int name=\"no\" value=\"2\"/>\n+      </imgdir>\n+      <imgdir name=\"85\">\n+        <int name=\"x\" value=\"180\"/>\n+        <int name=\"y\" value=\"360\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"u\" value=\"enH0\"/>\n+        <int name=\"no\" value=\"2\"/>\n       </imgdir>\n-      <imgdir name=\"18\">\n+      <imgdir name=\"86\">\n         <int name=\"x\" value=\"270\"/>\n         <int name=\"y\" value=\"360\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"0\"/>\n         <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"88\">\n-        <int name=\"x\" value=\"540\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"edU\"/>\n+        <string name=\"u\" value=\"bsc\"/>\n         <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"7\"/>\n       </imgdir>\n       <imgdir name=\"87\">\n         <int name=\"x\" value=\"540\"/>\n         <int name=\"y\" value=\"60\"/>\n+        <int name=\"zM\" value=\"7\"/>\n         <string name=\"u\" value=\"edD\"/>\n         <int name=\"no\" value=\"1\"/>\n-        <int name=\"zM\" value=\"7\"/>\n-      </imgdir>\n-      <imgdir name=\"61\">\n-        <int name=\"x\" value=\"450\"/>\n-        <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"enH1\"/>\n-        <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"7\"/>\n       </imgdir>\n-      <imgdir name=\"60\">\n-        <int name=\"x\" value=\"450\"/>\n+      <imgdir name=\"88\">\n+        <int name=\"x\" value=\"540\"/>\n         <int name=\"y\" value=\"60\"/>\n-        <string name=\"u\" value=\"enH0\"/>\n-        <int name=\"no\" value=\"2\"/>\n         <int name=\"zM\" value=\"7\"/>\n+        <string name=\"u\" value=\"edU\"/>\n+        <int name=\"no\" value=\"0\"/>\n       </imgdir>\n       <imgdir name=\"89\">\n         <int name=\"x\" value=\"360\"/>\n         <int name=\"y\" value=\"60\"/>\n+        <int name=\"zM\" value=\"7\"/>\n         <string name=\"u\" value=\"edU\"/>\n         <int name=\"no\" value=\"1\"/>\n-        <int name=\"zM\" value=\"7\"/>\n       </imgdir>\n       <imgdir name=\"90\">\n         <int name=\"x\" value=\"360\"/>\n         <int name=\"y\" value=\"60\"/>\n+        <int name=\"zM\" value=\"7\"/>\n         <string name=\"u\" value=\"edD\"/>\n         <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"7\"/>\n       </imgdir>\n       <imgdir name=\"91\">\n         <int name=\"x\" value=\"360\"/>\n         <int name=\"y\" value=\"60\"/>\n+        <int name=\"zM\" value=\"7\"/>\n         <string name=\"u\" value=\"enH0\"/>\n         <int name=\"no\" value=\"2\"/>\n-        <int name=\"zM\" value=\"7\"/>\n       </imgdir>\n       <imgdir name=\"92\">\n         <int name=\"x\" value=\"360\"/>\n         <int name=\"y\" value=\"60\"/>\n+        <int name=\"zM\" value=\"7\"/>\n         <string name=\"u\" value=\"enH1\"/>\n         <int name=\"no\" value=\"0\"/>\n-        <int name=\"zM\" value=\"7\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"obj\">\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"6\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n-      <imgdir name=\"2\">\n-        <string name=\"oS\" value=\"connect\"/>\n-        <string name=\"l0\" value=\"ladder\"/>\n-        <string name=\"l1\" value=\"0\"/>\n-        <string name=\"l2\" value=\"3\"/>\n+      <imgdir name=\"0\">\n         <int name=\"x\" value=\"530\"/>\n         <int name=\"y\" value=\"157\"/>\n         <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"5\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"1\">\n         <string name=\"oS\" value=\"connect\"/>\n         <string name=\"l0\" value=\"ladder\"/>\n         <string name=\"l1\" value=\"0\"/>\n-        <string name=\"l2\" value=\"2\"/>\n+        <string name=\"l2\" value=\"3\"/>\n+        <int name=\"r\" value=\"0\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"1\">\n         <int name=\"x\" value=\"530\"/>\n         <int name=\"y\" value=\"73\"/>\n         <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"8\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"0\">\n         <string name=\"oS\" value=\"connect\"/>\n         <string name=\"l0\" value=\"ladder\"/>\n         <string name=\"l1\" value=\"0\"/>\n-        <string name=\"l2\" value=\"0\"/>\n+        <string name=\"l2\" value=\"2\"/>\n+        <int name=\"r\" value=\"0\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"2\">\n         <int name=\"x\" value=\"530\"/>\n         <int name=\"y\" value=\"33\"/>\n         <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"9\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"3\">\n         <string name=\"oS\" value=\"connect\"/>\n         <string name=\"l0\" value=\"ladder\"/>\n         <string name=\"l1\" value=\"0\"/>\n-        <string name=\"l2\" value=\"1\"/>\n+        <string name=\"l2\" value=\"0\"/>\n+        <int name=\"r\" value=\"0\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"3\">\n         <int name=\"x\" value=\"530\"/>\n         <int name=\"y\" value=\"125\"/>\n         <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"6\"/>\n+        <string name=\"oS\" value=\"connect\"/>\n+        <string name=\"l0\" value=\"ladder\"/>\n+        <string name=\"l1\" value=\"0\"/>\n+        <string name=\"l2\" value=\"1\"/>\n         <int name=\"r\" value=\"0\"/>\n+        <int name=\"f\" value=\"0\"/>\n       </imgdir>\n     </imgdir>\n-  </imgdir>\n-  <imgdir name=\"7\">\n-    <imgdir name=\"info\">\n+    <imgdir name=\"tile\">\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"7\">\n+    <imgdir name=\"info\">\n+    </imgdir>\n+    <imgdir name=\"obj\">\n+    </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"ladderRope\">\n+    <imgdir name=\"1\">\n+      <int name=\"x\" value=\"530\"/>\n+      <int name=\"y1\" value=\"35\"/>\n+      <int name=\"y2\" value=\"186\"/>\n+      <int name=\"uf\" value=\"1\"/>\n+      <int name=\"page\" value=\"6\"/>\n+      <int name=\"l\" value=\"1\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"portal\">\n+    <imgdir name=\"0\">\n+      <int name=\"x\" value=\"-660\"/>\n+      <int name=\"y\" value=\"224\"/>\n+      <int name=\"pt\" value=\"0\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+      <string name=\"pn\" value=\"sp\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <int name=\"x\" value=\"403\"/>\n+      <int name=\"y\" value=\"29\"/>\n+      <int name=\"pt\" value=\"1\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+      <string name=\"pn\" value=\"gm00\"/>\n+    </imgdir>\n+    <imgdir name=\"2\">\n+      <int name=\"x\" value=\"-661\"/>\n+      <int name=\"y\" value=\"270\"/>\n+      <int name=\"pt\" value=\"2\"/>\n+      <int name=\"tm\" value=\"925010200\"/>\n+      <string name=\"tn\" value=\"out02\"/>\n+      <string name=\"pn\" value=\"in03\"/>\n+    </imgdir>\n+    <imgdir name=\"3\">\n+      <int name=\"x\" value=\"403\"/>\n+      <int name=\"y\" value=\"32\"/>\n+      <int name=\"pt\" value=\"7\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+      <string name=\"pn\" value=\"s4mpt\"/>\n+      <string name=\"script\" value=\"s4mind_end\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"reactor\">\n+  </imgdir>\n+  <imgdir name=\"back\">\n+    <imgdir name=\"0\">\n+      <int name=\"x\" value=\"0\"/>\n+      <int name=\"y\" value=\"0\"/>\n+      <int name=\"rx\" value=\"0\"/>\n+      <int name=\"ry\" value=\"0\"/>\n+      <int name=\"cx\" value=\"0\"/>\n+      <int name=\"cy\" value=\"0\"/>\n+      <int name=\"a\" value=\"255\"/>\n+      <int name=\"type\" value=\"3\"/>\n+      <int name=\"front\" value=\"0\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"bS\" value=\"folkvillige\"/>\n+      <int name=\"ani\" value=\"0\"/>\n+      <int name=\"no\" value=\"0\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <int name=\"x\" value=\"55\"/>\n+      <int name=\"y\" value=\"1\"/>\n+      <int name=\"rx\" value=\"0\"/>\n+      <int name=\"ry\" value=\"-10\"/>\n+      <int name=\"cx\" value=\"0\"/>\n+      <int name=\"cy\" value=\"0\"/>\n+      <int name=\"a\" value=\"255\"/>\n+      <int name=\"type\" value=\"1\"/>\n+      <int name=\"front\" value=\"0\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"bS\" value=\"folkvillige\"/>\n+      <int name=\"ani\" value=\"0\"/>\n+      <int name=\"no\" value=\"1\"/>\n+    </imgdir>\n+    <imgdir name=\"2\">\n+      <int name=\"x\" value=\"-93\"/>\n+      <int name=\"y\" value=\"-237\"/>\n+      <int name=\"rx\" value=\"2\"/>\n+      <int name=\"ry\" value=\"-12\"/>\n+      <int name=\"cx\" value=\"1300\"/>\n+      <int name=\"cy\" value=\"0\"/>\n+      <int name=\"a\" value=\"255\"/>\n+      <int name=\"type\" value=\"4\"/>\n+      <int name=\"front\" value=\"0\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"bS\" value=\"folkvillige\"/>\n+      <int name=\"ani\" value=\"0\"/>\n+      <int name=\"no\" value=\"15\"/>\n+    </imgdir>\n+    <imgdir name=\"3\">\n+      <int name=\"x\" value=\"324\"/>\n+      <int name=\"y\" value=\"-140\"/>\n+      <int name=\"rx\" value=\"3\"/>\n+      <int name=\"ry\" value=\"-14\"/>\n+      <int name=\"cx\" value=\"1000\"/>\n+      <int name=\"cy\" value=\"0\"/>\n+      <int name=\"a\" value=\"255\"/>\n+      <int name=\"type\" value=\"4\"/>\n+      <int name=\"front\" value=\"0\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"bS\" value=\"folkvillige\"/>\n+      <int name=\"ani\" value=\"0\"/>\n+      <int name=\"no\" value=\"14\"/>\n+    </imgdir>\n+    <imgdir name=\"4\">\n+      <int name=\"x\" value=\"-59\"/>\n+      <int name=\"y\" value=\"-88\"/>\n+      <int name=\"rx\" value=\"4\"/>\n+      <int name=\"ry\" value=\"-16\"/>\n+      <int name=\"cx\" value=\"1000\"/>\n+      <int name=\"cy\" value=\"0\"/>\n+      <int name=\"a\" value=\"255\"/>\n+      <int name=\"type\" value=\"4\"/>\n+      <int name=\"front\" value=\"0\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"bS\" value=\"folkvillige\"/>\n+      <int name=\"ani\" value=\"0\"/>\n+      <int name=\"no\" value=\"13\"/>\n+    </imgdir>\n+    <imgdir name=\"5\">\n+      <int name=\"x\" value=\"257\"/>\n+      <int name=\"y\" value=\"-222\"/>\n+      <int name=\"rx\" value=\"5\"/>\n+      <int name=\"ry\" value=\"-17\"/>\n+      <int name=\"cx\" value=\"1500\"/>\n+      <int name=\"cy\" value=\"0\"/>\n+      <int name=\"a\" value=\"255\"/>\n+      <int name=\"type\" value=\"4\"/>\n+      <int name=\"front\" value=\"0\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"bS\" value=\"folkvillige\"/>\n+      <int name=\"ani\" value=\"0\"/>\n+      <int name=\"no\" value=\"12\"/>\n+    </imgdir>\n+    <imgdir name=\"6\">\n+      <int name=\"x\" value=\"-365\"/>\n+      <int name=\"y\" value=\"-156\"/>\n+      <int name=\"rx\" value=\"4\"/>\n+      <int name=\"ry\" value=\"-18\"/>\n+      <int name=\"cx\" value=\"1200\"/>\n+      <int name=\"cy\" value=\"0\"/>\n+      <int name=\"a\" value=\"255\"/>\n+      <int name=\"type\" value=\"4\"/>\n+      <int name=\"front\" value=\"0\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"bS\" value=\"folkvillige\"/>\n+      <int name=\"ani\" value=\"0\"/>\n+      <int name=\"no\" value=\"11\"/>\n+    </imgdir>\n+    <imgdir name=\"7\">\n+      <int name=\"x\" value=\"405\"/>\n+      <int name=\"y\" value=\"-96\"/>\n+      <int name=\"rx\" value=\"3\"/>\n+      <int name=\"ry\" value=\"-18\"/>\n+      <int name=\"cx\" value=\"1800\"/>\n+      <int name=\"cy\" value=\"0\"/>\n+      <int name=\"a\" value=\"255\"/>\n+      <int name=\"type\" value=\"4\"/>\n+      <int name=\"front\" value=\"0\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"bS\" value=\"folkvillige\"/>\n+      <int name=\"ani\" value=\"0\"/>\n+      <int name=\"no\" value=\"10\"/>\n+    </imgdir>\n+    <imgdir name=\"8\">\n+      <int name=\"x\" value=\"-347\"/>\n+      <int name=\"y\" value=\"-294\"/>\n+      <int name=\"rx\" value=\"2\"/>\n+      <int name=\"ry\" value=\"-19\"/>\n+      <int name=\"cx\" value=\"1500\"/>\n+      <int name=\"cy\" value=\"0\"/>\n+      <int name=\"a\" value=\"255\"/>\n+      <int name=\"type\" value=\"4\"/>\n+      <int name=\"front\" value=\"0\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"bS\" value=\"folkvillige\"/>\n+      <int name=\"ani\" value=\"0\"/>\n+      <int name=\"no\" value=\"9\"/>\n+    </imgdir>\n+    <imgdir name=\"9\">\n+      <int name=\"x\" value=\"117\"/>\n+      <int name=\"y\" value=\"-87\"/>\n+      <int name=\"rx\" value=\"5\"/>\n+      <int name=\"ry\" value=\"-20\"/>\n+      <int name=\"cx\" value=\"1700\"/>\n+      <int name=\"cy\" value=\"0\"/>\n+      <int name=\"a\" value=\"255\"/>\n+      <int name=\"type\" value=\"4\"/>\n+      <int name=\"front\" value=\"0\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"bS\" value=\"folkvillige\"/>\n+      <int name=\"ani\" value=\"0\"/>\n+      <int name=\"no\" value=\"8\"/>\n+    </imgdir>\n+    <imgdir name=\"10\">\n+      <int name=\"x\" value=\"-312\"/>\n+      <int name=\"y\" value=\"-7\"/>\n+      <int name=\"rx\" value=\"5\"/>\n+      <int name=\"ry\" value=\"-21\"/>\n+      <int name=\"cx\" value=\"1000\"/>\n+      <int name=\"cy\" value=\"0\"/>\n+      <int name=\"a\" value=\"255\"/>\n+      <int name=\"type\" value=\"4\"/>\n+      <int name=\"front\" value=\"0\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"bS\" value=\"folkvillige\"/>\n+      <int name=\"ani\" value=\"0\"/>\n+      <int name=\"no\" value=\"7\"/>\n+    </imgdir>\n+    <imgdir name=\"11\">\n+      <int name=\"x\" value=\"-19\"/>\n+      <int name=\"y\" value=\"42\"/>\n+      <int name=\"rx\" value=\"-20\"/>\n+      <int name=\"ry\" value=\"-30\"/>\n+      <int name=\"cx\" value=\"0\"/>\n+      <int name=\"cy\" value=\"0\"/>\n+      <int name=\"a\" value=\"255\"/>\n+      <int name=\"type\" value=\"1\"/>\n+      <int name=\"front\" value=\"0\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"bS\" value=\"folkvillige\"/>\n+      <int name=\"ani\" value=\"0\"/>\n+      <int name=\"no\" value=\"2\"/>\n+    </imgdir>\n+    <imgdir name=\"12\">\n+      <int name=\"x\" value=\"-33\"/>\n+      <int name=\"y\" value=\"36\"/>\n+      <int name=\"rx\" value=\"-20\"/>\n+      <int name=\"ry\" value=\"-35\"/>\n+      <int name=\"cx\" value=\"700\"/>\n+      <int name=\"cy\" value=\"0\"/>\n+      <int name=\"a\" value=\"255\"/>\n+      <int name=\"type\" value=\"1\"/>\n+      <int name=\"front\" value=\"0\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"bS\" value=\"folkvillige\"/>\n+      <int name=\"ani\" value=\"0\"/>\n+      <int name=\"no\" value=\"3\"/>\n+    </imgdir>\n+    <imgdir name=\"13\">\n+      <int name=\"x\" value=\"-53\"/>\n+      <int name=\"y\" value=\"119\"/>\n+      <int name=\"rx\" value=\"-25\"/>\n+      <int name=\"ry\" value=\"-40\"/>\n+      <int name=\"cx\" value=\"2046\"/>\n+      <int name=\"cy\" value=\"0\"/>\n+      <int name=\"a\" value=\"255\"/>\n+      <int name=\"type\" value=\"1\"/>\n+      <int name=\"front\" value=\"0\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"bS\" value=\"folkvillige\"/>\n+      <int name=\"ani\" value=\"0\"/>\n+      <int name=\"no\" value=\"4\"/>\n     </imgdir>\n-    <imgdir name=\"tile\">\n+    <imgdir name=\"14\">\n+      <int name=\"x\" value=\"969\"/>\n+      <int name=\"y\" value=\"126\"/>\n+      <int name=\"rx\" value=\"-25\"/>\n+      <int name=\"ry\" value=\"-40\"/>\n+      <int name=\"cx\" value=\"2046\"/>\n+      <int name=\"cy\" value=\"0\"/>\n+      <int name=\"a\" value=\"255\"/>\n+      <int name=\"type\" value=\"1\"/>\n+      <int name=\"front\" value=\"0\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"bS\" value=\"folkvillige\"/>\n+      <int name=\"ani\" value=\"0\"/>\n+      <int name=\"no\" value=\"5\"/>\n     </imgdir>\n-    <imgdir name=\"obj\">\n+    <imgdir name=\"15\">\n+      <int name=\"x\" value=\"10\"/>\n+      <int name=\"y\" value=\"179\"/>\n+      <int name=\"rx\" value=\"-40\"/>\n+      <int name=\"ry\" value=\"-70\"/>\n+      <int name=\"cx\" value=\"0\"/>\n+      <int name=\"cy\" value=\"0\"/>\n+      <int name=\"a\" value=\"255\"/>\n+      <int name=\"type\" value=\"1\"/>\n+      <int name=\"front\" value=\"0\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"bS\" value=\"folkvillige\"/>\n+      <int name=\"ani\" value=\"0\"/>\n+      <int name=\"no\" value=\"6\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"foothold\">\n     <imgdir name=\"5\">\n       <imgdir name=\"0\">\n         <imgdir name=\"1\">\n-          <int name=\"x1\" value=\"-664\"/>\n+          <int name=\"x1\" value=\"-720\"/>\n           <int name=\"y1\" value=\"273\"/>\n-          <int name=\"x2\" value=\"-588\"/>\n+          <int name=\"x2\" value=\"-664\"/>\n           <int name=\"y2\" value=\"273\"/>\n-          <int name=\"prev\" value=\"6\"/>\n+          <int name=\"prev\" value=\"0\"/>\n           <int name=\"next\" value=\"2\"/>\n         </imgdir>\n         <imgdir name=\"2\">\n-          <int name=\"x1\" value=\"-588\"/>\n+          <int name=\"x1\" value=\"-664\"/>\n           <int name=\"y1\" value=\"273\"/>\n           <int name=\"x2\" value=\"-588\"/>\n-          <int name=\"y2\" value=\"300\"/>\n+          <int name=\"y2\" value=\"273\"/>\n           <int name=\"prev\" value=\"1\"/>\n-          <int name=\"next\" value=\"12\"/>\n+          <int name=\"next\" value=\"3\"/>\n         </imgdir>\n         <imgdir name=\"3\">\n-          <int name=\"x1\" value=\"270\"/>\n-          <int name=\"y1\" value=\"333\"/>\n-          <int name=\"x2\" value=\"360\"/>\n-          <int name=\"y2\" value=\"333\"/>\n-          <int name=\"prev\" value=\"26\"/>\n-          <int name=\"next\" value=\"5\"/>\n+          <int name=\"x1\" value=\"-588\"/>\n+          <int name=\"y1\" value=\"273\"/>\n+          <int name=\"x2\" value=\"-588\"/>\n+          <int name=\"y2\" value=\"300\"/>\n+          <int name=\"prev\" value=\"2\"/>\n+          <int name=\"next\" value=\"4\"/>\n         </imgdir>\n         <imgdir name=\"4\">\n-          <int name=\"x1\" value=\"540\"/>\n-          <int name=\"y1\" value=\"213\"/>\n-          <int name=\"x2\" value=\"582\"/>\n-          <int name=\"y2\" value=\"213\"/>\n-          <int name=\"prev\" value=\"15\"/>\n-          <int name=\"next\" value=\"16\"/>\n+          <int name=\"x1\" value=\"-588\"/>\n+          <int name=\"y1\" value=\"300\"/>\n+          <int name=\"x2\" value=\"-588\"/>\n+          <int name=\"y2\" value=\"333\"/>\n+          <int name=\"prev\" value=\"3\"/>\n+          <int name=\"next\" value=\"5\"/>\n         </imgdir>\n         <imgdir name=\"5\">\n-          <int name=\"x1\" value=\"360\"/>\n+          <int name=\"x1\" value=\"-588\"/>\n           <int name=\"y1\" value=\"333\"/>\n-          <int name=\"x2\" value=\"416\"/>\n+          <int name=\"x2\" value=\"-540\"/>\n           <int name=\"y2\" value=\"333\"/>\n-          <int name=\"prev\" value=\"3\"/>\n-          <int name=\"next\" value=\"17\"/>\n+          <int name=\"prev\" value=\"4\"/>\n+          <int name=\"next\" value=\"6\"/>\n         </imgdir>\n         <imgdir name=\"6\">\n-          <int name=\"x1\" value=\"-720\"/>\n-          <int name=\"y1\" value=\"273\"/>\n-          <int name=\"x2\" value=\"-664\"/>\n-          <int name=\"y2\" value=\"273\"/>\n-          <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"1\"/>\n+          <int name=\"x1\" value=\"-540\"/>\n+          <int name=\"y1\" value=\"333\"/>\n+          <int name=\"x2\" value=\"-450\"/>\n+          <int name=\"y2\" value=\"333\"/>\n+          <int name=\"prev\" value=\"5\"/>\n+          <int name=\"next\" value=\"7\"/>\n         </imgdir>\n         <imgdir name=\"7\">\n-          <int name=\"x1\" value=\"450\"/>\n-          <int name=\"y1\" value=\"273\"/>\n-          <int name=\"x2\" value=\"492\"/>\n-          <int name=\"y2\" value=\"273\"/>\n-          <int name=\"prev\" value=\"10\"/>\n-          <int name=\"next\" value=\"11\"/>\n+          <int name=\"x1\" value=\"-450\"/>\n+          <int name=\"y1\" value=\"333\"/>\n+          <int name=\"x2\" value=\"-360\"/>\n+          <int name=\"y2\" value=\"333\"/>\n+          <int name=\"prev\" value=\"6\"/>\n+          <int name=\"next\" value=\"8\"/>\n         </imgdir>\n         <imgdir name=\"8\">\n-          <int name=\"x1\" value=\"506\"/>\n-          <int name=\"y1\" value=\"273\"/>\n-          <int name=\"x2\" value=\"506\"/>\n-          <int name=\"y2\" value=\"240\"/>\n-          <int name=\"prev\" value=\"11\"/>\n-          <int name=\"next\" value=\"14\"/>\n+          <int name=\"x1\" value=\"-360\"/>\n+          <int name=\"y1\" value=\"333\"/>\n+          <int name=\"x2\" value=\"-270\"/>\n+          <int name=\"y2\" value=\"333\"/>\n+          <int name=\"prev\" value=\"7\"/>\n+          <int name=\"next\" value=\"9\"/>\n         </imgdir>\n         <imgdir name=\"9\">\n-          <int name=\"x1\" value=\"416\"/>\n-          <int name=\"y1\" value=\"300\"/>\n-          <int name=\"x2\" value=\"416\"/>\n-          <int name=\"y2\" value=\"273\"/>\n-          <int name=\"prev\" value=\"17\"/>\n+          <int name=\"x1\" value=\"-270\"/>\n+          <int name=\"y1\" value=\"333\"/>\n+          <int name=\"x2\" value=\"-180\"/>\n+          <int name=\"y2\" value=\"333\"/>\n+          <int name=\"prev\" value=\"8\"/>\n           <int name=\"next\" value=\"10\"/>\n         </imgdir>\n         <imgdir name=\"10\">\n-          <int name=\"x1\" value=\"416\"/>\n-          <int name=\"y1\" value=\"273\"/>\n-          <int name=\"x2\" value=\"450\"/>\n-          <int name=\"y2\" value=\"273\"/>\n+          <int name=\"x1\" value=\"-180\"/>\n+          <int name=\"y1\" value=\"333\"/>\n+          <int name=\"x2\" value=\"-90\"/>\n+          <int name=\"y2\" value=\"333\"/>\n           <int name=\"prev\" value=\"9\"/>\n-          <int name=\"next\" value=\"7\"/>\n+          <int name=\"next\" value=\"11\"/>\n         </imgdir>\n         <imgdir name=\"11\">\n-          <int name=\"x1\" value=\"492\"/>\n-          <int name=\"y1\" value=\"273\"/>\n-          <int name=\"x2\" value=\"506\"/>\n-          <int name=\"y2\" value=\"273\"/>\n-          <int name=\"prev\" value=\"7\"/>\n-          <int name=\"next\" value=\"8\"/>\n+          <int name=\"x1\" value=\"-90\"/>\n+          <int name=\"y1\" value=\"333\"/>\n+          <int name=\"x2\" value=\"0\"/>\n+          <int name=\"y2\" value=\"333\"/>\n+          <int name=\"prev\" value=\"10\"/>\n+          <int name=\"next\" value=\"12\"/>\n         </imgdir>\n         <imgdir name=\"12\">\n-          <int name=\"x1\" value=\"-588\"/>\n-          <int name=\"y1\" value=\"300\"/>\n-          <int name=\"x2\" value=\"-588\"/>\n+          <int name=\"x1\" value=\"0\"/>\n+          <int name=\"y1\" value=\"333\"/>\n+          <int name=\"x2\" value=\"90\"/>\n           <int name=\"y2\" value=\"333\"/>\n-          <int name=\"prev\" value=\"2\"/>\n+          <int name=\"prev\" value=\"11\"/>\n           <int name=\"next\" value=\"13\"/>\n         </imgdir>\n         <imgdir name=\"13\">\n-          <int name=\"x1\" value=\"-588\"/>\n+          <int name=\"x1\" value=\"90\"/>\n           <int name=\"y1\" value=\"333\"/>\n-          <int name=\"x2\" value=\"-540\"/>\n+          <int name=\"x2\" value=\"180\"/>\n           <int name=\"y2\" value=\"333\"/>\n           <int name=\"prev\" value=\"12\"/>\n-          <int name=\"next\" value=\"19\"/>\n+          <int name=\"next\" value=\"14\"/>\n         </imgdir>\n         <imgdir name=\"14\">\n+          <int name=\"x1\" value=\"180\"/>\n+          <int name=\"y1\" value=\"333\"/>\n+          <int name=\"x2\" value=\"270\"/>\n+          <int name=\"y2\" value=\"333\"/>\n+          <int name=\"prev\" value=\"13\"/>\n+          <int name=\"next\" value=\"15\"/>\n+        </imgdir>\n+        <imgdir name=\"15\">\n+          <int name=\"x1\" value=\"270\"/>\n+          <int name=\"y1\" value=\"333\"/>\n+          <int name=\"x2\" value=\"360\"/>\n+          <int name=\"y2\" value=\"333\"/>\n+          <int name=\"prev\" value=\"14\"/>\n+          <int name=\"next\" value=\"18\"/>\n+        </imgdir>\n+        <imgdir name=\"18\">\n+          <int name=\"x1\" value=\"360\"/>\n+          <int name=\"y1\" value=\"333\"/>\n+          <int name=\"x2\" value=\"416\"/>\n+          <int name=\"y2\" value=\"333\"/>\n+          <int name=\"prev\" value=\"15\"/>\n+          <int name=\"next\" value=\"22\"/>\n+        </imgdir>\n+        <imgdir name=\"20\">\n+          <int name=\"x1\" value=\"416\"/>\n+          <int name=\"y1\" value=\"273\"/>\n+          <int name=\"x2\" value=\"450\"/>\n+          <int name=\"y2\" value=\"273\"/>\n+          <int name=\"prev\" value=\"21\"/>\n+          <int name=\"next\" value=\"24\"/>\n+        </imgdir>\n+        <imgdir name=\"21\">\n+          <int name=\"x1\" value=\"416\"/>\n+          <int name=\"y1\" value=\"300\"/>\n+          <int name=\"x2\" value=\"416\"/>\n+          <int name=\"y2\" value=\"273\"/>\n+          <int name=\"prev\" value=\"22\"/>\n+          <int name=\"next\" value=\"20\"/>\n+        </imgdir>\n+        <imgdir name=\"22\">\n+          <int name=\"x1\" value=\"416\"/>\n+          <int name=\"y1\" value=\"333\"/>\n+          <int name=\"x2\" value=\"416\"/>\n+          <int name=\"y2\" value=\"300\"/>\n+          <int name=\"prev\" value=\"18\"/>\n+          <int name=\"next\" value=\"21\"/>\n+        </imgdir>\n+        <imgdir name=\"24\">\n+          <int name=\"x1\" value=\"450\"/>\n+          <int name=\"y1\" value=\"273\"/>\n+          <int name=\"x2\" value=\"492\"/>\n+          <int name=\"y2\" value=\"273\"/>\n+          <int name=\"prev\" value=\"20\"/>\n+          <int name=\"next\" value=\"25\"/>\n+        </imgdir>\n+        <imgdir name=\"25\">\n+          <int name=\"x1\" value=\"492\"/>\n+          <int name=\"y1\" value=\"273\"/>\n+          <int name=\"x2\" value=\"506\"/>\n+          <int name=\"y2\" value=\"273\"/>\n+          <int name=\"prev\" value=\"24\"/>\n+          <int name=\"next\" value=\"29\"/>\n+        </imgdir>\n+        <imgdir name=\"27\">\n+          <int name=\"x1\" value=\"506\"/>\n+          <int name=\"y1\" value=\"213\"/>\n+          <int name=\"x2\" value=\"540\"/>\n+          <int name=\"y2\" value=\"213\"/>\n+          <int name=\"prev\" value=\"28\"/>\n+          <int name=\"next\" value=\"31\"/>\n+        </imgdir>\n+        <imgdir name=\"28\">\n           <int name=\"x1\" value=\"506\"/>\n           <int name=\"y1\" value=\"240\"/>\n           <int name=\"x2\" value=\"506\"/>\n           <int name=\"y2\" value=\"213\"/>\n-          <int name=\"prev\" value=\"8\"/>\n-          <int name=\"next\" value=\"15\"/>\n+          <int name=\"prev\" value=\"29\"/>\n+          <int name=\"next\" value=\"27\"/>\n+        </imgdir>\n+        <imgdir name=\"29\">\n+          <int name=\"x1\" value=\"506\"/>\n+          <int name=\"y1\" value=\"273\"/>\n+          <int name=\"x2\" value=\"506\"/>\n+          <int name=\"y2\" value=\"240\"/>\n+          <int name=\"prev\" value=\"25\"/>\n+          <int name=\"next\" value=\"28\"/>\n         </imgdir>\n-        <imgdir name=\"15\">\n-          <int name=\"x1\" value=\"506\"/>\n+        <imgdir name=\"31\">\n+          <int name=\"x1\" value=\"540\"/>\n           <int name=\"y1\" value=\"213\"/>\n-          <int name=\"x2\" value=\"540\"/>\n+          <int name=\"x2\" value=\"582\"/>\n           <int name=\"y2\" value=\"213\"/>\n-          <int name=\"prev\" value=\"14\"/>\n-          <int name=\"next\" value=\"4\"/>\n+          <int name=\"prev\" value=\"27\"/>\n+          <int name=\"next\" value=\"33\"/>\n         </imgdir>\n-        <imgdir name=\"16\">\n+        <imgdir name=\"33\">\n           <int name=\"x1\" value=\"582\"/>\n           <int name=\"y1\" value=\"213\"/>\n           <int name=\"x2\" value=\"630\"/>\n           <int name=\"y2\" value=\"213\"/>\n-          <int name=\"prev\" value=\"4\"/>\n+          <int name=\"prev\" value=\"31\"/>\n           <int name=\"next\" value=\"0\"/>\n         </imgdir>\n-        <imgdir name=\"17\">\n-          <int name=\"x1\" value=\"416\"/>\n-          <int name=\"y1\" value=\"333\"/>\n-          <int name=\"x2\" value=\"416\"/>\n-          <int name=\"y2\" value=\"300\"/>\n-          <int name=\"prev\" value=\"5\"/>\n-          <int name=\"next\" value=\"9\"/>\n+      </imgdir>\n+      <imgdir name=\"7\">\n+        <imgdir name=\"16\">\n+          <int name=\"x1\" value=\"326\"/>\n+          <int name=\"y1\" value=\"33\"/>\n+          <int name=\"x2\" value=\"402\"/>\n+          <int name=\"y2\" value=\"33\"/>\n+          <int name=\"prev\" value=\"17\"/>\n+          <int name=\"next\" value=\"19\"/>\n         </imgdir>\n-        <imgdir name=\"18\">\n-          <int name=\"x1\" value=\"-360\"/>\n-          <int name=\"y1\" value=\"333\"/>\n-          <int name=\"x2\" value=\"-270\"/>\n-          <int name=\"y2\" value=\"333\"/>\n-          <int name=\"prev\" value=\"20\"/>\n-          <int name=\"next\" value=\"21\"/>\n+        <imgdir name=\"17\">\n+          <int name=\"x1\" value=\"326\"/>\n+          <int name=\"y1\" value=\"60\"/>\n+          <int name=\"x2\" value=\"326\"/>\n+          <int name=\"y2\" value=\"33\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"16\"/>\n         </imgdir>\n         <imgdir name=\"19\">\n-          <int name=\"x1\" value=\"-540\"/>\n-          <int name=\"y1\" value=\"333\"/>\n-          <int name=\"x2\" value=\"-450\"/>\n-          <int name=\"y2\" value=\"333\"/>\n-          <int name=\"prev\" value=\"13\"/>\n-          <int name=\"next\" value=\"20\"/>\n-        </imgdir>\n-        <imgdir name=\"20\">\n-          <int name=\"x1\" value=\"-450\"/>\n-          <int name=\"y1\" value=\"333\"/>\n-          <int name=\"x2\" value=\"-360\"/>\n-          <int name=\"y2\" value=\"333\"/>\n-          <int name=\"prev\" value=\"19\"/>\n-          <int name=\"next\" value=\"18\"/>\n-        </imgdir>\n-        <imgdir name=\"21\">\n-          <int name=\"x1\" value=\"-270\"/>\n-          <int name=\"y1\" value=\"333\"/>\n-          <int name=\"x2\" value=\"-180\"/>\n-          <int name=\"y2\" value=\"333\"/>\n-          <int name=\"prev\" value=\"18\"/>\n+          <int name=\"x1\" value=\"402\"/>\n+          <int name=\"y1\" value=\"33\"/>\n+          <int name=\"x2\" value=\"450\"/>\n+          <int name=\"y2\" value=\"33\"/>\n+          <int name=\"prev\" value=\"16\"/>\n           <int name=\"next\" value=\"23\"/>\n         </imgdir>\n-        <imgdir name=\"22\">\n-          <int name=\"x1\" value=\"90\"/>\n-          <int name=\"y1\" value=\"333\"/>\n-          <int name=\"x2\" value=\"180\"/>\n-          <int name=\"y2\" value=\"333\"/>\n-          <int name=\"prev\" value=\"25\"/>\n-          <int name=\"next\" value=\"26\"/>\n-        </imgdir>\n         <imgdir name=\"23\">\n-          <int name=\"x1\" value=\"-180\"/>\n-          <int name=\"y1\" value=\"333\"/>\n-          <int name=\"x2\" value=\"-90\"/>\n-          <int name=\"y2\" value=\"333\"/>\n-          <int name=\"prev\" value=\"21\"/>\n-          <int name=\"next\" value=\"24\"/>\n-        </imgdir>\n-        <imgdir name=\"24\">\n-          <int name=\"x1\" value=\"-90\"/>\n-          <int name=\"y1\" value=\"333\"/>\n-          <int name=\"x2\" value=\"0\"/>\n-          <int name=\"y2\" value=\"333\"/>\n-          <int name=\"prev\" value=\"23\"/>\n-          <int name=\"next\" value=\"25\"/>\n-        </imgdir>\n-        <imgdir name=\"25\">\n-          <int name=\"x1\" value=\"0\"/>\n-          <int name=\"y1\" value=\"333\"/>\n-          <int name=\"x2\" value=\"90\"/>\n-          <int name=\"y2\" value=\"333\"/>\n-          <int name=\"prev\" value=\"24\"/>\n-          <int name=\"next\" value=\"22\"/>\n-        </imgdir>\n-        <imgdir name=\"26\">\n-          <int name=\"x1\" value=\"180\"/>\n-          <int name=\"y1\" value=\"333\"/>\n-          <int name=\"x2\" value=\"270\"/>\n-          <int name=\"y2\" value=\"333\"/>\n-          <int name=\"prev\" value=\"22\"/>\n-          <int name=\"next\" value=\"3\"/>\n-        </imgdir>\n-      </imgdir>\n-      <imgdir name=\"7\">\n-        <imgdir name=\"27\">\n           <int name=\"x1\" value=\"450\"/>\n           <int name=\"y1\" value=\"33\"/>\n           <int name=\"x2\" value=\"506\"/>\n           <int name=\"y2\" value=\"33\"/>\n-          <int name=\"prev\" value=\"33\"/>\n-          <int name=\"next\" value=\"28\"/>\n+          <int name=\"prev\" value=\"19\"/>\n+          <int name=\"next\" value=\"26\"/>\n         </imgdir>\n-        <imgdir name=\"28\">\n+        <imgdir name=\"26\">\n           <int name=\"x1\" value=\"506\"/>\n           <int name=\"y1\" value=\"33\"/>\n           <int name=\"x2\" value=\"540\"/>\n           <int name=\"y2\" value=\"33\"/>\n-          <int name=\"prev\" value=\"27\"/>\n-          <int name=\"next\" value=\"29\"/>\n+          <int name=\"prev\" value=\"23\"/>\n+          <int name=\"next\" value=\"30\"/>\n         </imgdir>\n-        <imgdir name=\"29\">\n+        <imgdir name=\"30\">\n           <int name=\"x1\" value=\"540\"/>\n           <int name=\"y1\" value=\"33\"/>\n           <int name=\"x2\" value=\"582\"/>\n           <int name=\"y2\" value=\"33\"/>\n-          <int name=\"prev\" value=\"28\"/>\n-          <int name=\"next\" value=\"30\"/>\n+          <int name=\"prev\" value=\"26\"/>\n+          <int name=\"next\" value=\"32\"/>\n         </imgdir>\n-        <imgdir name=\"30\">\n+        <imgdir name=\"32\">\n           <int name=\"x1\" value=\"582\"/>\n           <int name=\"y1\" value=\"33\"/>\n           <int name=\"x2\" value=\"582\"/>\n           <int name=\"y2\" value=\"60\"/>\n-          <int name=\"prev\" value=\"29\"/>\n+          <int name=\"prev\" value=\"30\"/>\n           <int name=\"next\" value=\"0\"/>\n         </imgdir>\n-        <imgdir name=\"31\">\n-          <int name=\"x1\" value=\"326\"/>\n-          <int name=\"y1\" value=\"60\"/>\n-          <int name=\"x2\" value=\"326\"/>\n-          <int name=\"y2\" value=\"33\"/>\n-          <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"32\"/>\n-        </imgdir>\n-        <imgdir name=\"32\">\n-          <int name=\"x1\" value=\"326\"/>\n-          <int name=\"y1\" value=\"33\"/>\n-          <int name=\"x2\" value=\"402\"/>\n-          <int name=\"y2\" value=\"33\"/>\n-          <int name=\"prev\" value=\"31\"/>\n-          <int name=\"next\" value=\"33\"/>\n-        </imgdir>\n-        <imgdir name=\"33\">\n-          <int name=\"x1\" value=\"402\"/>\n-          <int name=\"y1\" value=\"33\"/>\n-          <int name=\"x2\" value=\"450\"/>\n-          <int name=\"y2\" value=\"33\"/>\n-          <int name=\"prev\" value=\"32\"/>\n-          <int name=\"next\" value=\"27\"/>\n-        </imgdir>\n       </imgdir>\n     </imgdir>\n   </imgdir>\n-  <imgdir name=\"ladderRope\">\n-    <imgdir name=\"1\">\n-      <int name=\"l\" value=\"1\"/>\n-      <int name=\"uf\" value=\"1\"/>\n-      <int name=\"x\" value=\"530\"/>\n-      <int name=\"y1\" value=\"35\"/>\n-      <int name=\"y2\" value=\"186\"/>\n-      <int name=\"page\" value=\"6\"/>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"miniMap\">\n-    <canvas name=\"canvas\" width=\"90\" height=\"47\">\n-    </canvas>\n-    <int name=\"width\" value=\"1446\"/>\n-    <int name=\"height\" value=\"761\"/>\n-    <int name=\"centerX\" value=\"768\"/>\n-    <int name=\"centerY\" value=\"128\"/>\n-    <int name=\"mag\" value=\"4\"/>\n-  </imgdir>\n-  <imgdir name=\"portal\">\n+  <imgdir name=\"life\">\n     <imgdir name=\"0\">\n-      <string name=\"pn\" value=\"sp\"/>\n-      <int name=\"pt\" value=\"0\"/>\n-      <int name=\"x\" value=\"-660\"/>\n-      <int name=\"y\" value=\"224\"/>\n-      <int name=\"tm\" value=\"999999999\"/>\n-      <string name=\"tn\" value=\"\"/>\n+      <string name=\"id\" value=\"9300162\"/>\n+      <int name=\"x\" value=\"-156\"/>\n+      <int name=\"y\" value=\"328\"/>\n+      <int name=\"cy\" value=\"333\"/>\n+      <int name=\"mobTime\" value=\"-1\"/>\n+      <int name=\"rx0\" value=\"-700\"/>\n+      <int name=\"rx1\" value=\"610\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"type\" value=\"m\"/>\n+      <int name=\"fh\" value=\"10\"/>\n     </imgdir>\n     <imgdir name=\"1\">\n-      <string name=\"pn\" value=\"gm00\"/>\n-      <int name=\"pt\" value=\"1\"/>\n-      <int name=\"x\" value=\"403\"/>\n-      <int name=\"y\" value=\"29\"/>\n-      <int name=\"tm\" value=\"999999999\"/>\n-      <string name=\"tn\" value=\"\"/>\n+      <string name=\"id\" value=\"9300163\"/>\n+      <int name=\"x\" value=\"346\"/>\n+      <int name=\"y\" value=\"313\"/>\n+      <int name=\"cy\" value=\"332\"/>\n+      <int name=\"mobTime\" value=\"0\"/>\n+      <int name=\"rx0\" value=\"-816\"/>\n+      <int name=\"rx1\" value=\"494\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"type\" value=\"m\"/>\n+      <int name=\"fh\" value=\"15\"/>\n     </imgdir>\n     <imgdir name=\"2\">\n-      <string name=\"pn\" value=\"in03\"/>\n-      <int name=\"pt\" value=\"2\"/>\n-      <int name=\"x\" value=\"-661\"/>\n-      <int name=\"y\" value=\"270\"/>\n-      <int name=\"tm\" value=\"925010200\"/>\n-      <string name=\"tn\" value=\"out02\"/>\n+      <string name=\"id\" value=\"9300163\"/>\n+      <int name=\"x\" value=\"-532\"/>\n+      <int name=\"y\" value=\"305\"/>\n+      <int name=\"cy\" value=\"333\"/>\n+      <int name=\"mobTime\" value=\"0\"/>\n+      <int name=\"rx0\" value=\"-700\"/>\n+      <int name=\"rx1\" value=\"610\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"type\" value=\"m\"/>\n+      <int name=\"fh\" value=\"6\"/>\n     </imgdir>\n     <imgdir name=\"3\">\n-      <string name=\"pn\" value=\"s4mpt\"/>\n-      <int name=\"pt\" value=\"7\"/>\n-      <int name=\"x\" value=\"403\"/>\n-      <int name=\"y\" value=\"32\"/>\n-      <int name=\"tm\" value=\"999999999\"/>\n-      <string name=\"tn\" value=\"\"/>\n-      <string name=\"script\" value=\"s4mind_end\"/>\n+      <string name=\"id\" value=\"9300165\"/>\n+      <int name=\"x\" value=\"580\"/>\n+      <int name=\"y\" value=\"199\"/>\n+      <int name=\"cy\" value=\"213\"/>\n+      <int name=\"mobTime\" value=\"0\"/>\n+      <int name=\"rx0\" value=\"-700\"/>\n+      <int name=\"rx1\" value=\"610\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"type\" value=\"m\"/>\n+      <int name=\"fh\" value=\"31\"/>\n+    </imgdir>\n+    <imgdir name=\"4\">\n+      <string name=\"id\" value=\"9300164\"/>\n+      <int name=\"x\" value=\"72\"/>\n+      <int name=\"y\" value=\"328\"/>\n+      <int name=\"cy\" value=\"333\"/>\n+      <int name=\"mobTime\" value=\"0\"/>\n+      <int name=\"rx0\" value=\"-700\"/>\n+      <int name=\"rx1\" value=\"610\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"type\" value=\"m\"/>\n+      <int name=\"fh\" value=\"12\"/>\n+    </imgdir>\n+    <imgdir name=\"5\">\n+      <string name=\"id\" value=\"9300165\"/>\n+      <int name=\"x\" value=\"-380\"/>\n+      <int name=\"y\" value=\"313\"/>\n+      <int name=\"cy\" value=\"333\"/>\n+      <int name=\"mobTime\" value=\"0\"/>\n+      <int name=\"rx0\" value=\"-700\"/>\n+      <int name=\"rx1\" value=\"610\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"type\" value=\"m\"/>\n+      <int name=\"fh\" value=\"7\"/>\n     </imgdir>\n   </imgdir>\n </imgdir>"}, {"sha": "908ccff3d63e771728d4976e31c0545f0649cf07", "filename": "wz/Skill.wz/1510.img.xml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/Skill.wz/1510.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/Skill.wz/1510.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Skill.wz/1510.img.xml?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -1591,13 +1591,13 @@\n           <string name=\"hs\" value=\"h20\"/>\n           <int name=\"mpCon\" value=\"30\"/>\n           <int name=\"damage\" value=\"120\"/>\n-          <int name=\"mad\" value=\"30\"/>\n           <int name=\"time\" value=\"140\"/>\n           <vector name=\"lt\" x=\"-50\" y=\"-35\"/>\n           <vector name=\"rb\" x=\"50\" y=\"35\"/>\n           <int name=\"mobCount\" value=\"6\"/>\n           <int name=\"x\" value=\"1\"/>\n           <int name=\"z\" value=\"50\"/>\n+          <int name=\"mad\" value=\"30\"/>\n         </imgdir>\n       </imgdir>\n       <imgdir name=\"effect\">"}, {"sha": "34f490c95f9bb69e4fbc25ca2c1519a1fb56c452", "filename": "wz/String.wz/Cash.img.xml", "status": "modified", "additions": 1, "deletions": 93, "changes": 94, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/String.wz/Cash.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/String.wz/Cash.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/String.wz/Cash.img.xml?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -1197,54 +1197,10 @@\n     <string name=\"name\" value=\"Gold Sack of Mesos\"/>\n     <string name=\"desc\" value=\"Contains lots and lots of mesos. User must be above level 15 to purchase sacks.\"/>\n   </imgdir>\n-  <imgdir name=\"5201000\">\n-    <string name=\"name\" value=\"Box of Metal Balls\"/>\n-    <string name=\"desc\" value=\"200 balls in the box.\"/>\n-  </imgdir>\n-  <imgdir name=\"5201001\">\n-    <string name=\"name\" value=\"Box of Metal Balls\"/>\n-    <string name=\"desc\" value=\"500 balls in the box.\"/>\n-  </imgdir>\n-  <imgdir name=\"5210000\">\n-    <string name=\"name\" value=\"Pro-Adult Ticket\"/>\n-    <string name=\"desc\" value=\"When in possession, temporarily doubles the EXP gained.\"/>\n-  </imgdir>\n-  <imgdir name=\"5210001\">\n-    <string name=\"name\" value=\"Pro-Adult Ticket\"/>\n-    <string name=\"desc\" value=\"When in possession during a specific time period, all EXP gained will be double.\"/>\n-  </imgdir>\n-  <imgdir name=\"5210002\">\n-    <string name=\"name\" value=\"Pro-Adult Ticket\"/>\n-    <string name=\"desc\" value=\"When in possession during a specific time period, all EXP gained will be double.\"/>\n-  </imgdir>\n-  <imgdir name=\"5210003\">\n-    <string name=\"name\" value=\"Pro-Adult Ticket\"/>\n-    <string name=\"desc\" value=\"When in possession during a specific time period, all EXP gained will be double.\"/>\n-  </imgdir>\n-  <imgdir name=\"5210004\">\n-    <string name=\"name\" value=\"Pro-Adult Ticket\"/>\n-    <string name=\"desc\" value=\"When in possession during a specific time period, all EXP gained will be double.\"/>\n-  </imgdir>\n-  <imgdir name=\"5210005\">\n-    <string name=\"name\" value=\"Pro-Adult Ticket\"/>\n-    <string name=\"desc\" value=\"When in possession during a specific time period, all EXP gained will be double.\"/>\n-  </imgdir>\n   <imgdir name=\"5211000\">\n     <string name=\"name\" value=\"2x EXP Card\"/>\n     <string name=\"desc\" value=\"This coupon allows users to earn #c2x Exp (double experience)#. The coupon will be activated immediately after purchase, and the double experience effect will be available from 6pm ~ 8pm (Pacific time) for #c7 days#.\"/>\n   </imgdir>\n-  <imgdir name=\"5211001\">\n-    <string name=\"name\" value=\"From NEXON\"/>\n-    <string name=\"desc\" value=\"Please refrain from breaking Maplestory client apart.\"/>\n-  </imgdir>\n-  <imgdir name=\"5211002\">\n-    <string name=\"name\" value=\"Special Coupon - 5 days\"/>\n-    <string name=\"desc\" value=\"Hold on to this coupon to #cearn 2x EXP from all monsters#. This coupon is valid for 5 days after the initial possession, and please be aware that if the character has multiple coupons of the same kind, they will all kick in at once.\"/>\n-  </imgdir>\n-  <imgdir name=\"5211003\">\n-    <string name=\"name\" value=\"one-time 2x EXP coupon\"/>\n-    <string name=\"desc\" value=\"This coupon allows users to earn #c2x Exp (double experience)# for xx minutes after the purchaser activate the coupon.\"/>\n-  </imgdir>\n   <imgdir name=\"5211004\">\n     <string name=\"name\" value=\"2x EXP Card Type 1 - Weekdays\"/>\n     <string name=\"desc\" value=\"This coupon allows users to earn #c2x Exp (double experience)#. The coupon will be activated immediately after purchase, and the double experience effect will be available from 07 am to 11 am (Pacific time) #cweekdays#.\"/>\n@@ -1345,10 +1301,6 @@\n     <string name=\"name\" value=\"1day 2x EXP Special Coupon \"/>\n     <string name=\"desc\" value=\"This coupon allows users to earn #c2x Exp (double experience)#. The coupon will be activated immediately after purchase, and the double experience effect will be available for 24 hours upon purchase.\"/>\n   </imgdir>\n-  <imgdir name=\"5211047\">\n-    <string name=\"name\" value=\"2x EXP 3 Hours Special Coupon \"/>\n-    <string name=\"desc\" value=\"This coupon allows users to earn #c2x Exp (double experience)#. The coupon will be activated immediately after purchase, and the double experience effect will be available for 3 hours upon purchase.\"/>\n-  </imgdir>\n   <imgdir name=\"5211048\">\n     <string name=\"name\" value=\"4 hour 2 x EXP special coupon\"/>\n     <string name=\"desc\" value=\"This coupon allows users to earn #c2x Exp (double experience)#. The coupon will be activated immediately after purchase, and the double experience effect will be available for 4 hour upon purchase.\"/>\n@@ -1435,10 +1387,6 @@\n     <string name=\"name\" value=\"Garlic Salt Chips\"/>\n     <string name=\"desc\" value=\"Crispy-Salty looking bag of Chips. Only edible for the pet Porcupine. \\nRecovers entire Fullness. \\nIncrease 100 Closeness.\"/>\n   </imgdir>\n-  <imgdir name=\"5240016\">\n-    <string name=\"name\" value=\"Caramel Beetle\"/>\n-    <string name=\"desc\" value=\"A caramel beetle plucked right from a myserious tree. Only the #cJr. Reaper# appreciates such delicacy. Restores Fullness and #cincreases 100 Closeness#.\"/>\n-  </imgdir>\n   <imgdir name=\"5240017\">\n     <string name=\"name\" value=\"Snowflake\"/>\n     <string name=\"desc\" value=\"A tasty icicle that can only be consumed by #cSnowman and Crystal Rudolph#. Recovers entire Fullness and #cincreases 100 Closeness#.\"/>\n@@ -1447,10 +1395,6 @@\n     <string name=\"name\" value=\"Sprout\"/>\n     <string name=\"desc\" value=\"A nutritious food only available for #cKino#. Restores Fullness and #cincreases 100 Closeness#..\"/>\n   </imgdir>\n-  <imgdir name=\"5240019\">\n-    <string name=\"name\" value=\"Hedgehog Food\t\t\t\t\t\t\t\t\t\t\tIs this supposed to be for the Porcupine?\"/>\n-    <string name=\"desc\" value=\"A nutritious blend of formulas only for #cHedgehogs#. Restores Fullness and #cincreases 100 Closeness#..\"/>\n-  </imgdir>\n   <imgdir name=\"5240020\">\n     <string name=\"name\" value=\"Caviar\"/>\n     <string name=\"desc\" value=\"Only eligible for the pet Skunk. \\nIncrease 100 Closeness.\"/>\n@@ -1471,18 +1415,6 @@\n     <string name=\"name\" value=\"Premium Wedding Ticket (Cathedral)\"/>\n     <string name=\"desc\" value=\"Cathedral wedding ticket that includes invitations and a special wedding event. \"/>\n   </imgdir>\n-  <imgdir name=\"5251004\">\n-    <string name=\"name\" value=\"Simple Wedding Ticket\"/>\n-    <string name=\"desc\" value=\"A ticket that allows for a simple wedding. #cThe bride and groom may each invite 5 well-wishers and receive a 1 Carat Wedding Ring.#\"/>\n-  </imgdir>\n-  <imgdir name=\"5251005\">\n-    <string name=\"name\" value=\"Sweet Wedding Ticket\"/>\n-    <string name=\"desc\" value=\"A ticket that allows for a sweet wedding. #cThe bride and groom may each invite 15 well-wishers, take a Wedding Photo, and receive a 2 Carat Wedding Ring.#\"/>\n-  </imgdir>\n-  <imgdir name=\"5251006\">\n-    <string name=\"name\" value=\"Premium Wedding Ticket\"/>\n-    <string name=\"desc\" value=\"A ticket that allows for a lavish, premier wedding. #cThe bride and groom may each invite 30 well-wishers, take a Wedding Photo, and receive a 3 Carat Wedding Ring.#\"/>\n-  </imgdir>\n   <imgdir name=\"5251100\">\n     <string name=\"name\" value=\"Wedding Invitation Ticket\"/>\n     <string name=\"desc\" value=\"Ticket that lets you make additional invitation cards.(one-time use)\"/>\n@@ -1579,30 +1511,6 @@\n     <string name=\"name\" value=\"2x Drop Card Type 8 - Everyday\"/>\n     <string name=\"desc\" value=\"This coupon #cdoubles the amount of mesos and doubles the rate of items# dropped from monsters. The Double Drop card is immediately activated upon purchase and the double drop effect will be available from 06 am to 10 am (Pacific time) #ceveryday#.\"/>\n   </imgdir>\n-  <imgdir name=\"5360009\">\n-    <string name=\"name\" value=\"2X Drop Card - Type 1\"/>\n-    <string name=\"desc\" value=\"This coupon allows users to earn #c2x Exp (double experience)#. The coupon will be activated immediately after purchase, and the double experience effect will be available for 24 hours upon purchase.\"/>\n-  </imgdir>\n-  <imgdir name=\"5360010\">\n-    <string name=\"name\" value=\"2X Drop Card - Type 1\"/>\n-    <string name=\"desc\" value=\"This coupon allows users to earn #c2x Exp (double experience)#. The coupon will be activated immediately after purchase, and the double experience effect will be available for 24 hours upon purchase.\"/>\n-  </imgdir>\n-  <imgdir name=\"5360011\">\n-    <string name=\"name\" value=\"2X Drop Card - Type 1\"/>\n-    <string name=\"desc\" value=\"This coupon allows users to earn #c2x Exp (double experience)#. The coupon will be activated immediately after purchase, and the double experience effect will be available for 24 hours upon purchase.\"/>\n-  </imgdir>\n-  <imgdir name=\"5360012\">\n-    <string name=\"name\" value=\"2X Drop Card - Type 1\"/>\n-    <string name=\"desc\" value=\"This coupon allows users to earn #c2x Drop (double drop rate)# from monsters. The coupon will be activated immediately after purchase, and the double experience effect will be available for 24 hours upon purchase.\"/>\n-  </imgdir>\n-  <imgdir name=\"5360013\">\n-    <string name=\"name\" value=\"2X Drop Card - Type 1\"/>\n-    <string name=\"desc\" value=\"This coupon allows users to earn #c2x Drop (double drop rate)# from monsters. The coupon will be activated immediately after purchase, and the double experience effect will be available for 24 hours upon purchase.\"/>\n-  </imgdir>\n-  <imgdir name=\"5360014\">\n-    <string name=\"name\" value=\"2x Drop 3 Hours Special Card\"/>\n-    <string name=\"desc\" value=\"This coupon allows users to earn #c2x Drop (double drop)#. The coupon will be activated immediately after purchase, and the double drop effect will be available for 3 hours upon purchase.\"/>\n-  </imgdir>\n   <imgdir name=\"5360042\">\n     <string name=\"name\" value=\"4 hour 2 x Drop special coupon\"/>\n     <string name=\"desc\" value=\"This coupon #cdoubles the amount of mesos and doubles the rate of items# dropped from monsters. The coupon will be immediately activated after purchase and the double drop effect will be available for 4 hour upon purchase.\"/>\n@@ -1945,7 +1853,7 @@\n   </imgdir>\n   <imgdir name=\"5150044\">\n     <string name=\"name\" value=\"Special Royal Hair Coupon\"/>\n-    <string name=\"desc\" value=\"Take this coupon to the #cBig Headward of Henesys Hair Salon#, and you&apos;ll be able to #ctemporarily#k change your hair.\"/>\n+    <string name=\"desc\" value=\"Take this coupon to the #cBig Headward of Henesys Hair Salon#, and you&apos;ll be able to change to a royal hairstyle of your liking.\"/>\n   </imgdir>\n   <imgdir name=\"5010070\">\n     <string name=\"name\" value=\"Sprite Wings\"/>"}, {"sha": "28230edbb8d8e68b6f6c0d5d704e0b4e9a0f162b", "filename": "wz/String.wz/Consume.img.xml", "status": "modified", "additions": 0, "deletions": 129, "changes": 129, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/String.wz/Consume.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/String.wz/Consume.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/String.wz/Consume.img.xml?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -140,18 +140,6 @@\n     <string name=\"name\" value=\"Pain Reliever\"/>\n     <string name=\"desc\" value=\"A special pain reliever created in Omega Sector.nWeapon Def + 30 for 30 min.\"/>\n   </imgdir>\n-  <imgdir name=\"2002012\">\n-    <string name=\"name\" value=\"Elixir\"/>\n-    <string name=\"desc\" value=\"Recovers both HP and MP by 50%.\"/>\n-  </imgdir>\n-  <imgdir name=\"2002013\">\n-    <string name=\"name\" value=\"Power Elixir\"/>\n-    <string name=\"desc\" value=\"Fully recovers HP and MP.\"/>\n-  </imgdir>\n-  <imgdir name=\"2002014\">\n-    <string name=\"name\" value=\"Iron Body Medicine\"/>\n-    <string name=\"desc\" value=\"A n enhanced pain reliever smuggled out of Omega Sector.n Def + 30 for 30 min. (Modification Request)\"/>\n-  </imgdir>\n   <imgdir name=\"2002015\">\n     <string name=\"name\" value=\"Elpam Elixir\"/>\n     <string name=\"desc\" value=\"A rare, powerful elixir from Versal. Restores 90% HP &amp; MP, and gives a boost of +5 Att and +40 Def for a duration of 15 minutes.\"/>\n@@ -268,10 +256,6 @@\n     <string name=\"name\" value=\"Drake&apos;s Meat\"/>\n     <string name=\"desc\" value=\"Drake&apos;s meat.nWeapon Def. +10 for 5 min.\"/>\n   </imgdir>\n-  <imgdir name=\"2012004\">\n-    <string name=\"name\" value=\"Purified Honey\"/>\n-    <string name=\"desc\" value=\"Fairies favorite purified honey.nAvoidability +40 for 5 min. (Modification Request)\"/>\n-  </imgdir>\n   <imgdir name=\"2020000\">\n     <string name=\"name\" value=\"Salad\"/>\n     <string name=\"desc\" value=\"Made out of fresh vegetable.\\nRecovers 200 MP.\"/>\n@@ -540,18 +524,10 @@\n     <string name=\"name\" value=\"Candy\"/>\n     <string name=\"desc\" value=\"A sparkling candy with a scent of tropical fruit.\"/>\n   </imgdir>\n-  <imgdir name=\"2022034\">\n-    <string name=\"name\" value=\"Zong Zi\"/>\n-    <string name=\"desc\" value=\"A tiny seed of a fruit.\\nRecovers 50 HP.\"/>\n-  </imgdir>\n   <imgdir name=\"2022035\">\n     <string name=\"name\" value=\"Maple Cola\"/>\n     <string name=\"desc\" value=\"none\"/>\n   </imgdir>\n-  <imgdir name=\"2022036\">\n-    <string name=\"name\" value=\"Candy Basket\"/>\n-    <string name=\"desc\" value=\"Defense and avoidablity will be increased by 300 for 30 minutes.\"/>\n-  </imgdir>\n   <imgdir name=\"2022037\">\n     <string name=\"name\" value=\"Pink Rice Cake\"/>\n     <string name=\"desc\" value=\"Recovers 500 HP and MP.\"/>\n@@ -588,10 +564,6 @@\n     <string name=\"name\" value=\"New Year Lunchbox\"/>\n     <string name=\"desc\" value=\"Recovers 2000 HP &amp; MP\"/>\n   </imgdir>\n-  <imgdir name=\"2022046\">\n-    <string name=\"name\" value=\"Seaweed\"/>\n-    <null name=\"desc\"/>\n-  </imgdir>\n   <imgdir name=\"2022047\">\n     <string name=\"name\" value=\"Cooked Sea Bream\"/>\n     <string name=\"desc\" value=\"Magic Attack +35 for 10 min.\"/>\n@@ -812,10 +784,6 @@\n     <string name=\"name\" value=\"Pumpkin Pie\"/>\n     <string name=\"desc\" value=\"A piping hot, delicious pie right from Grandma Benson&apos;s oven. Eat up! \\nRecovers 700 HP, 400 MP and Defense +50 for 10 mins.\"/>\n   </imgdir>\n-  <imgdir name=\"2022114\">\n-    <string name=\"name\" value=\"Enchanted Apple Crisp\"/>\n-    <string name=\"desc\" value=\"A hot pastry made from mystic apples. At an HP-decreasing map, whenever such map damage is dealt, 50% HP will be protected. (Modification Request)\"/>\n-  </imgdir>\n   <imgdir name=\"2022116\">\n     <string name=\"name\" value=\"Peach\"/>\n     <string name=\"desc\" value=\"Recovers a set amount of HP and MP. Only obtainable in Mu Lung.\"/>\n@@ -3807,10 +3775,6 @@\n     <string name=\"name\" value=\"Orange\"/>\n     <string name=\"desc\" value=\"A tasty orange that can be thrown at things. Attack + 20\"/>\n   </imgdir>\n-  <imgdir name=\"2070014\">\n-    <string name=\"name\" value=\"Devil Rain Throwing Star\"/>\n-    <string name=\"desc\" value=\"Throwing Star\"/>\n-  </imgdir>\n   <imgdir name=\"2070015\">\n     <string name=\"name\" value=\"A Beginner Thief&apos;s Throwing Stars\"/>\n     <string name=\"desc\" value=\"These are steel throwing stars given by Dark Lord for Beginner Thieves. Unlike normal throwing stars, you can&apos;t recharge it. \\nAttack + 15\"/>\n@@ -3823,14 +3787,6 @@\n     <string name=\"name\" value=\"Balanced Fury\"/>\n     <string name=\"desc\" value=\"Ancient Shadowknight throwing stars made from black crystal.  These can be recharged when used up. rnAttack + 30\"/>\n   </imgdir>\n-  <imgdir name=\"2083000\">\n-    <string name=\"name\" value=\"Heart Megaphone\"/>\n-    <string name=\"desc\" value=\"Shout to everyone in the world your character is on with this megaphone. (Heart accents)\"/>\n-  </imgdir>\n-  <imgdir name=\"2084000\">\n-    <string name=\"name\" value=\"Skull Megaphone\"/>\n-    <string name=\"desc\" value=\"Shout to everyone in the world your character is on with this megaphone. (Skull accents)\"/>\n-  </imgdir>\n   <imgdir name=\"2100000\">\n     <string name=\"name\" value=\"Black Sack\"/>\n     <string name=\"desc\" value=\"If you think your level&apos;s too low, don&apos;t bother opening it.\"/>\n@@ -4187,20 +4143,6 @@\n     <string name=\"name\" value=\"Summon Bodyguard A\"/>\n     <string name=\"desc\" value=\"Summons Bodyguard A.\"/>\n   </imgdir>\n-  <imgdir name=\"2101016\">\n-    <string name=\"name\" value=\"Summon Toy Robot\"/>\n-    <string name=\"desc\" value=\"Summons toy robots.\"/>\n-  </imgdir>\n-  <imgdir name=\"2101017\">\n-    <string name=\"name\" value=\"Summon Black Boogie\"/>\n-    <string name=\"desc\" value=\"Summons Black Boogie.\"/>\n-  </imgdir>\n-  <imgdir name=\"2101018\">\n-    <string name=\"name\" value=\"Summon Black Boogie\"/>\n-  </imgdir>\n-  <imgdir name=\"2101019\">\n-    <string name=\"name\" value=\"Summon Pachinko Monster\"/>\n-  </imgdir>\n   <imgdir name=\"2101020\">\n     <string name=\"name\" value=\"Halloween Monster Sack\"/>\n     <string name=\"desc\" value=\"Summon Halloween monsters.\"/>\n@@ -4209,9 +4151,6 @@\n     <string name=\"name\" value=\"Monster Sack (Jr. Mimick)\"/>\n     <string name=\"desc\" value=\"Summons 1 Jr. Mimick\"/>\n   </imgdir>\n-  <imgdir name=\"2101022\">\n-    <string name=\"name\" value=\"Monster Sack (Golden Egg)\"/>\n-  </imgdir>\n   <imgdir name=\"2101023\">\n     <string name=\"name\" value=\"Monster Sack (Slime Gold)\"/>\n     <string name=\"desc\" value=\"Summons 3 Slime Gold.\"/>\n@@ -4292,10 +4231,6 @@\n     <string name=\"name\" value=\"Amoria Penalty Monster Sack8\"/>\n     <string name=\"desc\" value=\"Summons some monsters.\"/>\n   </imgdir>\n-  <imgdir name=\"2101058\">\n-    <string name=\"name\" value=\"Amoria Penalty Monster Sack8\"/>\n-    <string name=\"desc\" value=\"Summons some monsters.\"/>\n-  </imgdir>\n   <imgdir name=\"2101060\">\n     <string name=\"name\" value=\"Monster Sack (SG CBD)\"/>\n     <string name=\"desc\" value=\"Summons 9 SG Exclusive monsters.\"/>\n@@ -4567,14 +4502,6 @@\n     <string name=\"name\" value=\"Mini Draco Transformation\"/>\n     <string name=\"desc\" value=\"The mysterious skills of an old halfling has transformed you into a form of a dragon. You can now fly.\"/>\n   </imgdir>\n-  <imgdir name=\"2210023\">\n-    <string name=\"name\" value=\"Cliff&apos;s Special Potion\"/>\n-    <string name=\"desc\" value=\"No one knows what you&apos;ll transform into when you drink this, but something WILL happen for one hour.  It&apos;s all about the risk...\"/>\n-  </imgdir>\n-  <imgdir name=\"2210024\">\n-    <string name=\"name\" value=\"Maplemas Party Potion\"/>\n-    <string name=\"desc\" value=\"Double-click on this to transform a character of your choice. Which one? Try it and find out!\"/>\n-  </imgdir>\n   <imgdir name=\"2210032\">\n     <string name=\"name\" value=\"Cody&apos;s Picture\"/>\n     <string name=\"desc\" value=\"A picture given by Cody of himself.  I get a feeling something fun will happen when I use it.\"/>\n@@ -4607,54 +4534,6 @@\n     <string name=\"name\" value=\"Silver Swan Engagement Ring Box\"/>\n     <string name=\"desc\" value=\"Engagement Ring made of silver. The ring will be inside a wrapped box. Required for proposal.\"/>\n   </imgdir>\n-  <imgdir name=\"2240004\">\n-    <string name=\"name\" value=\"Ring of Moon Stone\"/>\n-    <string name=\"desc\" value=\"An engagement ring crafted out of Moon Rock and Diamond. Use this to propose to your loved one.\"/>\n-  </imgdir>\n-  <imgdir name=\"2240005\">\n-    <string name=\"name\" value=\"Ring of Moon Stone: 2 Carats\"/>\n-    <string name=\"desc\" value=\"An engagement ring crafted out of Moon Rock and 2 carats of Diamond. Use this to propose to your loved one.\"/>\n-  </imgdir>\n-  <imgdir name=\"2240006\">\n-    <string name=\"name\" value=\"Ring of Moon Stone: 3 Carats\"/>\n-    <string name=\"desc\" value=\"An engagement ring crafted out of Moon Rock and 3 carats of Diamond. Use this to propose to your loved one.\"/>\n-  </imgdir>\n-  <imgdir name=\"2240007\">\n-    <string name=\"name\" value=\"Ring of Shining Star\"/>\n-    <string name=\"desc\" value=\"An engagement ring crafted out of Star Rock and Diamond. Use this to propose to your loved one.\"/>\n-  </imgdir>\n-  <imgdir name=\"2240008\">\n-    <string name=\"name\" value=\"Ring of Shining Star: 2 Carats\"/>\n-    <string name=\"desc\" value=\"An engagement ring crafted out of Star Rock and 2 carats of Diamond. Use this to propose to your loved one.\"/>\n-  </imgdir>\n-  <imgdir name=\"2240009\">\n-    <string name=\"name\" value=\"Ring of Shining Star: 3 Carats\"/>\n-    <string name=\"desc\" value=\"An engagement ring crafted out of Star Rock and 3 carats of Diamond. Use this to propose to your loved one.\"/>\n-  </imgdir>\n-  <imgdir name=\"2240010\">\n-    <string name=\"name\" value=\"Gold Heart Ring\"/>\n-    <string name=\"desc\" value=\"An engagement ring crafted out of Gold and Diamond. Use this to propose to your loved one.\"/>\n-  </imgdir>\n-  <imgdir name=\"2240011\">\n-    <string name=\"name\" value=\"Gold Heart Ring: 2 Carats\"/>\n-    <string name=\"desc\" value=\"An engagement ring crafted out of Gold and 2 carats of Diamond. Use this to propose to your loved one.\"/>\n-  </imgdir>\n-  <imgdir name=\"2240012\">\n-    <string name=\"name\" value=\"Gold Heart Ring: 3 Carats\"/>\n-    <string name=\"desc\" value=\"An engagement ring crafted out of Gold and 3 carats of Diamond. Use this to propose to your loved one.\"/>\n-  </imgdir>\n-  <imgdir name=\"2240013\">\n-    <string name=\"name\" value=\"Ring of Silver Wing\"/>\n-    <string name=\"desc\" value=\"An engagement ring crafted out of Silver and Diamond. Use this to propose to your loved one.\"/>\n-  </imgdir>\n-  <imgdir name=\"2240014\">\n-    <string name=\"name\" value=\"Ring of Silver Wing: 2 Carats\"/>\n-    <string name=\"desc\" value=\"An engagement ring crafted out of Silver and 2 carats of Diamond. Use this to propose to your loved one.\"/>\n-  </imgdir>\n-  <imgdir name=\"2240015\">\n-    <string name=\"name\" value=\"Ring of Silver Wing: 3 Carats\"/>\n-    <string name=\"desc\" value=\"An engagement ring crafted out of Silver and 3 carats of Diamond. Use this to propose to your loved one.\"/>\n-  </imgdir>\n   <imgdir name=\"2260000\">\n     <string name=\"name\" value=\"Revitalizer\"/>\n     <string name=\"desc\" value=\"Restores tamed monster&apos;s fatigue level by 30.\"/>\n@@ -6148,10 +6027,6 @@\n     <string name=\"name\" value=\"Pink Bean\"/>\n     <string name=\"desc\" value=\"A card with a picture of Pink Bean.n#cWhen hunting at the Temple of TimenItem/Meso Drop rate increase#\"/>\n   </imgdir>\n-  <imgdir name=\"2390000\">\n-    <string name=\"name\" value=\"Helena&apos;s Marble\"/>\n-    <string name=\"desc\" value=\"A marble given by Helena. Use this to communicate with her regardless of the place. This item is good for one-time use only...\"/>\n-  </imgdir>\n   <imgdir name=\"2430000\">\n     <string name=\"name\" value=\"Torn Cygnus&apos; Book Volume 1\"/>\n     <string name=\"desc\" value=\"When used one at a time, a special power covers my body and blesses me.  I think if I collect 20, I&apos;ll be able to read what&apos;s written inside.\"/>\n@@ -9136,10 +9011,6 @@\n     <string name=\"name\" value=\"[Mastery Book] Speed Infusion\"/>\n     <string name=\"desc\" value=\"With a 70% success rate, it raises the Master Level of #cSpeed Infusion# to 20.nJob : Buccaneer\\r\\nRequirement : At least Level 5 in this skill\"/>\n   </imgdir>\n-  <imgdir name=\"2290109\">\n-    <string name=\"name\" value=\"[Mastery Book] Wind Booster\"/>\n-    <string name=\"desc\" value=\"With a 50% success rate, it raises the Master Level of #cWind Booster# to 30. nJob : Buccaneer\\r\\nRequirement : At least Level 15 in this skill\"/>\n-  </imgdir>\n   <imgdir name=\"2290110\">\n     <string name=\"name\" value=\"[Mastery Book] Time Leap\"/>\n     <string name=\"desc\" value=\"With a 70% success rate, it raises the Master Level of #cTime Leap# to 20.nJob : Buccaneer\\r\\nRequirement : At least Level 5 in this skill\"/>"}, {"sha": "f58e7cc0102bbfd9971237165ce868ab8bbdc018", "filename": "wz/String.wz/Eqp.img.xml", "status": "modified", "additions": 574, "deletions": 664, "changes": 1238, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/String.wz/Eqp.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/String.wz/Eqp.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/String.wz/Eqp.img.xml?ref=dc73cb00de5035d07d32309e358642a85b4e88c7"}, {"sha": "2cc65ee97e924f98f62b2b9b10e610a9e46779e7", "filename": "wz/String.wz/Etc.img.xml", "status": "modified", "additions": 0, "deletions": 111, "changes": 111, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/String.wz/Etc.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/String.wz/Etc.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/String.wz/Etc.img.xml?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -20,10 +20,6 @@\n     <imgdir name=\"4000488\">\n       <string name=\"name\" value=\"MasteriaPQ Mob Summon\"/>\n     </imgdir>\n-    <imgdir name=\"4031867\">\n-      <string name=\"name\" value=\"A secret letter\"/>\n-      <string name=\"desc\" value=\"A secret letter that contains information about the traitorous MV.  Needs to be delivered to Charles the Adventurer.\"/>\n-    </imgdir>\n     <imgdir name=\"4032234\">\n       <string name=\"name\" value=\"Piece of Courage\"/>\n       <string name=\"desc\" value=\"A piece that represents courage\"/>\n@@ -1320,10 +1316,6 @@\n       <string name=\"name\" value=\"Broken Horn\"/>\n       <string name=\"desc\" value=\"A horn that used to adorn the head of Skelegon. It&apos;s now broken off.\"/>\n     </imgdir>\n-    <imgdir name=\"4000275\">\n-      <string name=\"name\" value=\"Broken Horn\"/>\n-      <string name=\"desc\" value=\"A horn that used to adorn the head of Skelegon. It&apos;s now broken off.\"/>\n-    </imgdir>\n     <imgdir name=\"4000276\">\n       <string name=\"name\" value=\"Acorn\"/>\n       <string name=\"desc\" value=\"A small acorn that the squirrels collect.\"/>\n@@ -3720,9 +3712,6 @@\n       <string name=\"name\" value=\"Tears of Eternity\"/>\n       <string name=\"desc\" value=\"A legendary tale in which a fairy, feeling despondent over not seeing, shed a tear or two.\"/>\n     </imgdir>\n-    <imgdir name=\"4031294\">\n-      <string name=\"name\" value=\"Dog Food\"/>\n-    </imgdir>\n     <imgdir name=\"4031295\">\n       <string name=\"name\" value=\"Yan Zi&apos;s Letter\"/>\n       <string name=\"desc\" value=\"A letter written by the superstar Yan Zi for her dear friend.\"/>\n@@ -4775,94 +4764,6 @@\n       <string name=\"name\" value=\"Aquarium Invitation\"/>\n       <string name=\"desc\" value=\"An invitation to the Aquarium that a kid lost.\"/>\n     </imgdir>\n-    <imgdir name=\"4031627\">\n-      <string name=\"name\" value=\"Whitebait (3cm)\"/>\n-      <string name=\"desc\" value=\"It measures 3cm in length, with high nutritional value, and it is suitable for steaming with the egg ingredients. It is delicious &amp; low in fats.\"/>\n-    </imgdir>\n-    <imgdir name=\"4031628\">\n-      <string name=\"name\" value=\"Sailfish (120cm)\"/>\n-      <string name=\"desc\" value=\"It measures 120cm in length, containing protein, calcium, magnesium and vitamin D that a human body needs. It is a very healthy seafood.\"/>\n-    </imgdir>\n-    <imgdir name=\"4031629\">\n-      <string name=\"name\" value=\"Pot\"/>\n-      <string name=\"desc\" value=\"This superior heat conduction pot is easy to clean, and it is very suitable for those who are on diet.\"/>\n-    </imgdir>\n-    <imgdir name=\"4031630\">\n-      <string name=\"name\" value=\"Carp (30cm)\"/>\n-      <string name=\"desc\" value=\"It measures 30cm in length, with rich protein contents. It has the essential quantity of amino acids that a human body needs.\"/>\n-    </imgdir>\n-    <imgdir name=\"4031631\">\n-      <string name=\"name\" value=\"Salmon(150cm)\"/>\n-      <string name=\"desc\" value=\"It measures 150cm in length, with green and tender flesh. It is always the first choice in Sashimi.\"/>\n-    </imgdir>\n-    <imgdir name=\"4031632\">\n-      <string name=\"name\" value=\"Shovel\"/>\n-      <string name=\"desc\" value=\"An equipment used for stir-frying dishes\"/>\n-    </imgdir>\n-    <imgdir name=\"4031633\">\n-      <string name=\"name\" value=\"Whitebait (3.6cm)\"/>\n-      <string name=\"desc\" value=\"It measures 3.6cm in length, with high nutritional value, and it is suitable for steaming with the egg ingredients. It is delicious &amp; low in fats.\"/>\n-    </imgdir>\n-    <imgdir name=\"4031634\">\n-      <string name=\"name\" value=\"Whitebait (5cm)\"/>\n-      <string name=\"desc\" value=\"It measures 5cm in length, with high nutritional value, and it is suitable for steaming with the egg ingredients. It is delicious &amp; low in fats.\"/>\n-    </imgdir>\n-    <imgdir name=\"4031635\">\n-      <string name=\"name\" value=\"Whitebait (6.5cm)\"/>\n-      <string name=\"desc\" value=\"It measures 6.5cm in length, with high nutritional value, and it is suitable for steaming with the egg ingredients. It is delicious &amp; low in fats.\"/>\n-    </imgdir>\n-    <imgdir name=\"4031636\">\n-      <string name=\"name\" value=\"Whitebait (10cm)\"/>\n-      <string name=\"desc\" value=\"It measures 10cm in length, with high nutritional value, and it is suitable for steaming with the egg ingredients. It is delicious &amp; low in fats.\"/>\n-    </imgdir>\n-    <imgdir name=\"4031637\">\n-      <string name=\"name\" value=\"Carp (53cm)\"/>\n-      <string name=\"desc\" value=\"It measures 53cm in length, with rich protein contents. It has the essential quantity of amino acids that a human body needs.\"/>\n-    </imgdir>\n-    <imgdir name=\"4031638\">\n-      <string name=\"name\" value=\"Carp (60cm)\"/>\n-      <string name=\"desc\" value=\"It measures 60cm in length, with rich protein contents. It has the essential quantity of amino acids that a human body needs.\"/>\n-    </imgdir>\n-    <imgdir name=\"4031639\">\n-      <string name=\"name\" value=\"Carp (100cm)\"/>\n-      <string name=\"desc\" value=\"It measures 100cm in length, with rich protein contents. It has the essential quantity of amino acids that a human body needs.\"/>\n-    </imgdir>\n-    <imgdir name=\"4031640\">\n-      <string name=\"name\" value=\"Carp (113cm)\"/>\n-      <string name=\"desc\" value=\"It measures 113cm in length, with rich protein contents. It has the essential quantity of amino acids that a human body needs.\"/>\n-    </imgdir>\n-    <imgdir name=\"4031641\">\n-      <string name=\"name\" value=\"Sailfish (128cm)\"/>\n-      <string name=\"desc\" value=\"It measures 128cm in length, containing protein, calcium, magnesium and vitamin D that a human body needs. It is a very healthy seafood.\"/>\n-    </imgdir>\n-    <imgdir name=\"4031642\">\n-      <string name=\"name\" value=\"Sailfish (131cm)\"/>\n-      <string name=\"desc\" value=\"It measures 131cm in length, containing protein, calcium, magnesium and vitamin D that a human body needs. It is a very healthy seafood.\"/>\n-    </imgdir>\n-    <imgdir name=\"4031643\">\n-      <string name=\"name\" value=\"Sailfish (140cm)\"/>\n-      <string name=\"desc\" value=\"It measures 140cm in length, containing protein, calcium, magnesium and vitamin D that a human body needs. It is a very healthy seafood.\"/>\n-    </imgdir>\n-    <imgdir name=\"4031644\">\n-      <string name=\"name\" value=\"Sailfish (148cm)\"/>\n-      <string name=\"desc\" value=\"It measures 148cm in length, containing protein, calcium, magnesium and vitamin D that a human body needs. It is a very healthy seafood.\"/>\n-    </imgdir>\n-    <imgdir name=\"4031645\">\n-      <string name=\"name\" value=\"Salmon (166cm)\"/>\n-      <string name=\"desc\" value=\"It measures 166cm in length, with green and tender flesh. It is always the first choice in Sashimi.\"/>\n-    </imgdir>\n-    <imgdir name=\"4031646\">\n-      <string name=\"name\" value=\"Salmon (183cm)\"/>\n-      <string name=\"desc\" value=\"It measures 183cm in length, with green and tender flesh. It is always the first choice in Sashimi.\"/>\n-    </imgdir>\n-    <imgdir name=\"4031647\">\n-      <string name=\"name\" value=\"Salmon (227cm)\"/>\n-      <string name=\"desc\" value=\"It measures 227cm in length, with green and tender flesh. It is always the first choice in Sashimi.\"/>\n-    </imgdir>\n-    <imgdir name=\"4031648\">\n-      <string name=\"name\" value=\"Salmon (288cm)\"/>\n-      <string name=\"desc\" value=\"It measures 288cm in length, with green and tender flesh. It is always the first choice in Sashimi.\"/>\n-    </imgdir>\n     <imgdir name=\"4031658\">\n       <string name=\"name\" value=\"Charcoal\"/>\n       <string name=\"desc\" value=\"Heats up the grill, needed for any BBQ.\"/>\n@@ -5291,10 +5192,6 @@\n       <string name=\"name\" value=\"Tae Soo&apos;s Peach\"/>\n       <string name=\"desc\" value=\"A special Peach Tae Soo plucked out of the Peach Farm with Tae Sang&apos;s blessings. Only the sweetest and the most delicious Peaches can be found here.\"/>\n     </imgdir>\n-    <imgdir name=\"4031795\">\n-      <string name=\"name\" value=\"Cat Doll Under a Spell\"/>\n-      <string name=\"desc\" value=\"A cat doll from Sage Cat with a spell from Do Gong.\"/>\n-    </imgdir>\n     <imgdir name=\"4031796\">\n       <string name=\"name\" value=\"Yulete&apos;s Lab Report\"/>\n       <string name=\"desc\" value=\"A compilation of Yulete&apos;s lab work and research. The notes, while very neat, are complicated. \"/>\n@@ -7193,10 +7090,6 @@\n       <string name=\"name\" value=\"Aquarium\"/>\n       <string name=\"desc\" value=\"Aquarium\"/>\n     </imgdir>\n-    <imgdir name=\"4001150\">\n-      <string name=\"name\" value=\"Baekcho Village\"/>\n-      <string name=\"desc\" value=\"Baekcho Village\"/>\n-    </imgdir>\n     <imgdir name=\"4001151\">\n       <string name=\"name\" value=\"Happy Valley\"/>\n       <string name=\"desc\" value=\"Happy Valley\"/>\n@@ -9498,10 +9391,6 @@\n       <string name=\"name\" value=\"VIP Invitation\"/>\n       <string name=\"desc\" value=\"An invitation that grants admission to the VIP Zone. \"/>\n     </imgdir>\n-    <imgdir name=\"4032526\">\n-      <string name=\"name\" value=\"John&apos;s Map\"/>\n-      <string name=\"desc\" value=\"John&apos;s map that contains information on some island. That island is said to be the place where the dragon lies asleep.\"/>\n-    </imgdir>\n     <imgdir name=\"4160041\">\n       <string name=\"name\" value=\"Pet Command Guide : Gold Pig\"/>\n       <string name=\"desc\" value=\"A guide that has all the commands for the Gold Pig.\\n#cDouble-click on the item to open the guide.#\"/>"}, {"sha": "72d470092702891bb1f5ee6e673df3c4a05ce264", "filename": "wz/String.wz/Ins.img.xml", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/String.wz/Ins.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/String.wz/Ins.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/String.wz/Ins.img.xml?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -639,9 +639,6 @@\n   <imgdir name=\"3994015\">\n     <string name=\"name\" value=\"Wooden Alphabet C\"/>\n   </imgdir>\n-  <imgdir name=\"3994016\">\n-    <string name=\"name\" value=\"Wooden Alphabet H\"/>\n-  </imgdir>\n   <imgdir name=\"3994017\">\n     <string name=\"name\" value=\"Alphabet A\"/>\n     <string name=\"desc\" value=\"An alphabet A. Collect other alphabets and hand them to Maple Administrator to...\"/>\n@@ -953,10 +950,6 @@\n     <string name=\"name\" value=\"Cuddly Polar Bear\"/>\n     <string name=\"desc\" value=\"Cuddling with the Polar Bear for some cozy, comfy rest will recover 50 HP and 50 MP every 10 seconds.\"/>\n   </imgdir>\n-  <imgdir name=\"3010044\">\n-    <string name=\"name\" value=\"Winter Red Chair \"/>\n-    <string name=\"desc\" value=\"A chair with a big umbrella. Recovers 30 HP and 30 MP every 10 seconds.\"/>\n-  </imgdir>\n   <imgdir name=\"3010106\">\n     <string name=\"name\" value=\"Ryko Chair\"/>\n     <string name=\"desc\" value=\"Snuggle up with Aran&apos;s loyal mount, Ryko, to recover 50 HP and MP every 10 seconds.\"/>"}, {"sha": "d1ec92578ff520c760a96ab45981bfb5131f88ff", "filename": "wz/String.wz/Pet.img.xml", "status": "modified", "additions": 0, "deletions": 15, "changes": 15, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/String.wz/Pet.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/dc73cb00de5035d07d32309e358642a85b4e88c7/wz/String.wz/Pet.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/String.wz/Pet.img.xml?ref=dc73cb00de5035d07d32309e358642a85b4e88c7", "patch": "@@ -189,26 +189,11 @@\n     <string name=\"desc\" value=\"Sun Wu Kong ran out of Tang Shan Zhang. He is lazy and  moody but can be changed with love.\"/>\n     <string name=\"descD\" value=\"Sun Wu Kong used to be cute but now he went back to doll as water of life dried out. Special magic can give him a life again.\"/>\n   </imgdir>\n-  <imgdir name=\"5000040\">\n-    <string name=\"name\" value=\"\uc8fc\ub2c8\uc5b4 \ub9ac\ud37c\"/>\n-    <string name=\"desc\" value=\"\ud560\ub85c\uc708 \ub370\uc774\uc5d0 \ud0dc\uc5b4\ub09c \uadc0\uc5ec\uc6b4 \uc544\uae30\uc0ac\uc2e0\uc785\ub2c8\ub2e4. \uc601\ud63c\uc744 \uac70\ub450\uc5b4\uac00\ub294 \ubb34\uc11c\uc6b4 \uc874\uc7ac\uc774\uc9c0\ub9cc, \uce5c\uad6c\uac00 \ub420 \uc218\ub9cc \uc788\ub2e4\uba74 \uc774\ubcf4\ub2e4 \uc2e0\ube44\ub85c\uc6b4 \uc874\uc7ac\ub294 \uc5c6\uc744 \uac83\uc785\ub2c8\ub2e4. \\n#c\uc2a4\ud0ac: \uba54\uc18c \uc90d\uae30, \uc544\uc774\ud15c \uc90d\uae30, \uc18c\uc720\uad8c \uc5c6\ub294 \uc544\uc774\ud15c&amp;\uba54\uc18c \uc90d\uae30, \uc790\ub3d9 \uc90d\uae30, \uc774\ub3d9\ubc18\uacbd \ud655\ub300, MP \ubb3c\uc57d\ucda9\uc804#\"/>\n-    <string name=\"descD\" value=\"\uadc0\uc5ec\uc6b4 \uc8fc\ub2c8\uc5b4 \ub9ac\ud37c\uc774\uc5c8\uc9c0\ub9cc \uc0dd\uba85\uc758 \ubb3c\uc774 \ubaa8\ub450 \ub9d0\ub77c\uc11c \uc778\ud615\uc758 \ud615\ud0dc\ub85c \ub3cc\uc544\uac14\uc2b5\ub2c8\ub2e4. \ud2b9\uc815\ud55c \ub9c8\ubc95\uc73c\ub85c \ub2e4\uc2dc \uc0dd\uba85\uc744 \ubd88\uc5b4\ub123\uc5b4 \uc904 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\"/>\n-  </imgdir>\n   <imgdir name=\"5000042\">\n     <string name=\"name\" value=\"Kino\"/>\n     <string name=\"desc\" value=\"A happy-go-lucky, orange mushroom that loves shiny stones.\"/>\n     <string name=\"descD\" value=\"A formerly adorable orange mushroom that turned into an inanimate doll due to severe dehydration from Life Water. Breathe new life into the doll using a special kind of magic!\"/>\n   </imgdir>\n-  <imgdir name=\"5000043\">\n-    <string name=\"name\" value=\"\uace0\uc2b4\ub3c4\uce58\"/>\n-    <string name=\"desc\" value=\"\uc0c1\ub2f9\ud788 \uae4c\uce60\ud558\uace0, \uc2eb\uace0 \uc88b\uc74c\uc774 \ubd84\uba85\ud55c \uace0\uc2b4\ub3c4\uce58\uc785\ub2c8\ub2e4. \ud558\uc9c0\ub9cc \ub9d0\uc744 \uc798 \ub4e4\uc5b4\ubcf4\uba74, \uc8fc\uc778\uc744 \ub108\ubb34\ub098 \uc88b\uc544\ud558\ub294 \ub9c8\uc74c\uc774 \ub2f4\uaca8 \uc788\uc2b5\ub2c8\ub2e4. \\n#c\uc2a4\ud0ac: \uba54\uc18c\uc90d\uae30, \uc544\uc774\ud15c\uc90d\uae30#\"/>\n-    <string name=\"descD\" value=\"\uadc0\uc5ec\uc6b4 \uace0\uc2b4\ub3c4\uce58\uc774\uc5c8\uc9c0\ub9cc \uc0dd\uba85\uc758 \ubb3c\uc774 \ubaa8\ub450 \ub9d0\ub77c\uc11c \uc778\ud615\uc758 \ud615\ud0dc\ub85c \ub3cc\uc544\uac14\uc2b5\ub2c8\ub2e4. \ud2b9\uc815\ud55c \ub9c8\ubc95\uc73c\ub85c \ub2e4\uc2dc \uc0dd\uba85\uc744 \ubd88\uc5b4\ub123\uc5b4 \uc904 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\"/>\n-  </imgdir>\n-  <imgdir name=\"5000046\">\n-    <string name=\"name\" value=\"\ud0a4\ub178\"/>\n-    <string name=\"desc\" value=\"\ubc18\uc9dd\uc774\ub294 \ub3cc\uc744 \uc544\uc8fc \uc88b\uc544\ud558\ub294 \ud65c\ubc1c\ud558\uace0 \uba85\ub791\ud55c \uc8fc\ud669\ubc84\uc12f\uc785\ub2c8\ub2e4.  \\n#c\uc2a4\ud0ac:\uba54\uc18c\uc90d\uae30, \uc544\uc774\ud15c\uc90d\uae30#\"/>\n-    <string name=\"descD\" value=\"\uadc0\uc5ec\uc6b4 \uc8fc\ud669\ubc84\uc12f\uc774\uc5c8\uc9c0\ub9cc \uc0dd\uba85\uc758 \ubb3c\uc774 \ubaa8\ub450 \ub9d0\ub77c\uc11c \uc778\ud615\uc758 \ud615\ud0dc\ub85c \ub3cc\uc544\uac14\uc2b5\ub2c8\ub2e4. \ud2b9\uc815\ud55c \ub9c8\ubc95\uc73c\ub85c \ub2e4\uc2dc \uc0dd\uba85\uc744 \ubd88\uc5b4\ub123\uc5b4 \uc904 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\"/>\n-  </imgdir>\n   <imgdir name=\"5000047\">\n     <string name=\"name\" value=\"Robo\"/>\n     <string name=\"desc\" value=\"A special egg that becomes a mythical Robo upon hatching.\"/>"}]}]},
