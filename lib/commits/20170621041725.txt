{"fetchDate": "2019-12-19", "content": [{"sha": "6b2b3616d6c316f994f094a1b72eede3e8239fce", "node_id": "MDY6Q29tbWl0NDUwODIwMjM6NmIyYjM2MTZkNmMzMTZmOTk0ZjA5NGExYjcyZWVkZTNlODIzOWZjZQ==", "commit": {"author": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2017-06-21T04:17:25Z"}, "committer": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2017-06-21T04:17:25Z"}, "message": "Guild & Alliances Patches\n\nAs reported by J0k3r613, patched guild system not recognizing properly\nthe guild leader just after creation. Patched many more issues related\nto guilds and alliances.", "tree": {"sha": "2e70a9a5ac068fe763be1d963dfa14eaacc25cd6", "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/trees/2e70a9a5ac068fe763be1d963dfa14eaacc25cd6"}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/commits/6b2b3616d6c316f994f094a1b72eede3e8239fce", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/6b2b3616d6c316f994f094a1b72eede3e8239fce", "html_url": "https://github.com/ronancpl/HeavenMS/commit/6b2b3616d6c316f994f094a1b72eede3e8239fce", "comments_url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/6b2b3616d6c316f994f094a1b72eede3e8239fce/comments", "author": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7f6d420cf142c94d9221bd8121012b926180b0d3", "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/7f6d420cf142c94d9221bd8121012b926180b0d3", "html_url": "https://github.com/ronancpl/HeavenMS/commit/7f6d420cf142c94d9221bd8121012b926180b0d3"}], "stats": {"total": 469, "additions": 292, "deletions": 177}, "files": [{"sha": "544ef1d2b05796a8a931c81c09771c38fa036c3f", "filename": "build/built-jar.properties", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/built-jar.properties", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/built-jar.properties", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/built-jar.properties?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce", "patch": "@@ -1,4 +1,4 @@\n-#Mon, 19 Jun 2017 14:48:35 -0300\n+#Wed, 21 Jun 2017 00:41:12 -0300\n \n \n C\\:\\\\Nexon\\\\MapleSolaxia\\\\MapleSolaxiaV2="}, {"sha": "e16a658ebcb5591d889cc5af59ebb4feba85745f", "filename": "build/classes/client/MapleCharacter$13.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/client/MapleCharacter$13.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/client/MapleCharacter$13.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$13.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "b46543447d80e23eddba5cc62d6864538d939803", "filename": "build/classes/client/MapleCharacter$14.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/client/MapleCharacter$14.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/client/MapleCharacter$14.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$14.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "62e5abb71091d377a1bb7bf291be01f4e0f604e0", "filename": "build/classes/client/MapleCharacter$15.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/client/MapleCharacter$15.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/client/MapleCharacter$15.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$15.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "cbdbdb62ddc6233f8dd7385dbf70afe57eb3c4d9", "filename": "build/classes/client/MapleCharacter$16.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/client/MapleCharacter$16.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/client/MapleCharacter$16.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$16.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "48879d1fcc9f0e2224fe1b2f612c5d2b087aa7c9", "filename": "build/classes/client/MapleCharacter$17.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/client/MapleCharacter$17.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/client/MapleCharacter$17.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$17.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "eca1c2ea42a7995cb8c432811b9c705068dfa06d", "filename": "build/classes/client/MapleCharacter$18.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/client/MapleCharacter$18.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/client/MapleCharacter$18.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$18.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "b534dc5c48ee9b2409ef22d3182e82c2f8940ee8", "filename": "build/classes/client/MapleCharacter$SkillEntry.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/client/MapleCharacter$SkillEntry.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/client/MapleCharacter$SkillEntry.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$SkillEntry.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "1148ab2a161f2a4dd57206fabf58312b583a369d", "filename": "build/classes/client/MapleCharacter.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/client/MapleCharacter.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/client/MapleCharacter.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "b11ad5eae613b7709eb1d8ff1b15a49471a202dd", "filename": "build/classes/net/server/Server$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/net/server/Server$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/net/server/Server$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/Server$1.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "f4e83e57a1b756e9ac3e1494a77301871655e247", "filename": "build/classes/net/server/Server.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/net/server/Server.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/net/server/Server.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/Server.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "074adff457b4e0d9639a53cd4240ae06129a160f", "filename": "build/classes/net/server/channel/handlers/AllianceOperationHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/net/server/channel/handlers/AllianceOperationHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/net/server/channel/handlers/AllianceOperationHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/AllianceOperationHandler.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "517861173e8fc66e6403fe21e1a498ca90f1f666", "filename": "build/classes/net/server/channel/handlers/GuildOperationHandler$Invited.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/net/server/channel/handlers/GuildOperationHandler$Invited.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/net/server/channel/handlers/GuildOperationHandler$Invited.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/GuildOperationHandler$Invited.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "f5210279e90ecb20b7e4262a689fd52c4216c0d7", "filename": "build/classes/net/server/channel/handlers/GuildOperationHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/net/server/channel/handlers/GuildOperationHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/net/server/channel/handlers/GuildOperationHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/GuildOperationHandler.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "24c2863cf4b2a179cf974b1ea5b162f8707b3f5d", "filename": "build/classes/net/server/channel/handlers/PlayerLoggedinHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/net/server/channel/handlers/PlayerLoggedinHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/net/server/channel/handlers/PlayerLoggedinHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/PlayerLoggedinHandler.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "58407c52ecc623e1f6858ab7772410d04d6926a6", "filename": "build/classes/net/server/guild/MapleAlliance.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/net/server/guild/MapleAlliance.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/net/server/guild/MapleAlliance.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/guild/MapleAlliance.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "da8d12e1ab1ff81e7cfa91376f2e5601dd077a53", "filename": "build/classes/net/server/guild/MapleGuild.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/net/server/guild/MapleGuild.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/net/server/guild/MapleGuild.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/guild/MapleGuild.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "fb8b8cbb3dc4997d4cdbe78c3629aaf3fd3d52ad", "filename": "build/classes/net/server/guild/MapleGuildCharacter.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/net/server/guild/MapleGuildCharacter.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/net/server/guild/MapleGuildCharacter.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/guild/MapleGuildCharacter.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "97fa97b0eb5789f2cc44d09da4feb661bd62a695", "filename": "build/classes/net/server/world/World$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/net/server/world/World$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/net/server/world/World$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/world/World$1.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "b89946e9596779f77d82453cd9b860d72cd096ad", "filename": "build/classes/net/server/world/World.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/net/server/world/World.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/net/server/world/World.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/world/World.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "dd34b12862d82d9f2738413d530de0258b7188b1", "filename": "build/classes/scripting/event/EventInstanceManager$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/scripting/event/EventInstanceManager$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/scripting/event/EventInstanceManager$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/scripting/event/EventInstanceManager$1.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "2c054d895f94ae60c0cd6ddd7e410d03c85f2204", "filename": "build/classes/scripting/event/EventInstanceManager$2.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/scripting/event/EventInstanceManager$2.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/scripting/event/EventInstanceManager$2.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/scripting/event/EventInstanceManager$2.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "07a8dce64d93da86236196a8cbecb4bdd1324688", "filename": "build/classes/scripting/event/EventInstanceManager$3.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/scripting/event/EventInstanceManager$3.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/scripting/event/EventInstanceManager$3.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/scripting/event/EventInstanceManager$3.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "2991e2c89ffcf16a1fd9fb7b6c1def4611d768dd", "filename": "build/classes/scripting/event/EventInstanceManager.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/scripting/event/EventInstanceManager.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/scripting/event/EventInstanceManager.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/scripting/event/EventInstanceManager.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "3f5639993909081dae9d8d42c4edb5c9b1a97190", "filename": "build/classes/scripting/event/EventManager.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/scripting/event/EventManager.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/scripting/event/EventManager.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/scripting/event/EventManager.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "058fd8e17d5aecf6b1f22d68891ef4df665c4f1c", "filename": "build/classes/scripting/npc/NPCConversationManager.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/scripting/npc/NPCConversationManager.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/scripting/npc/NPCConversationManager.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/scripting/npc/NPCConversationManager.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "21bf6e06318e22dda87eb20d0fef333018e4ca95", "filename": "build/classes/server/expeditions/MapleExpedition.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/expeditions/MapleExpedition.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/expeditions/MapleExpedition.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/expeditions/MapleExpedition.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "dc27b2a6f1deed533dd420b06769d70e7d1da94f", "filename": "build/classes/server/maps/MapleMap$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$1.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "41bcffb798ef537d974ac8945a92984105d94112", "filename": "build/classes/server/maps/MapleMap$10.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$10.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$10.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$10.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "afd211bd37791b5100557f4fc067061ceaa3bba9", "filename": "build/classes/server/maps/MapleMap$11.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$11.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$11.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$11.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "546c836638fbf250be65aa6d70418c90be13f421", "filename": "build/classes/server/maps/MapleMap$12.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$12.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$12.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$12.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "b7fd82b212aedd16a59f4f8566e8671bd89ed633", "filename": "build/classes/server/maps/MapleMap$13.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$13.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$13.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$13.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "801ec51b4b791de60d0fb46fc1eb476338f0684c", "filename": "build/classes/server/maps/MapleMap$14.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$14.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$14.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$14.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "d759e5236a714cc2ec7db2d93253cd636d2dc923", "filename": "build/classes/server/maps/MapleMap$15.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$15.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$15.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$15.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "f5ad8f279da7813c81622efaa7431e3164da5ed0", "filename": "build/classes/server/maps/MapleMap$16.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$16.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$16.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$16.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "d42db5a472f526e98e4fccd609d3224ebeeca56a", "filename": "build/classes/server/maps/MapleMap$17.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$17.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$17.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$17.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "52e068a714813840c33532e679b645fbffd64708", "filename": "build/classes/server/maps/MapleMap$18.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$18.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$18.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$18.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "1a7061fbeb4d374211f67e0678a0587b1522cae9", "filename": "build/classes/server/maps/MapleMap$19.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$19.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$19.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$19.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "d8253bcb822ae834cc6a80d1cc1f44bb9dc6f1c8", "filename": "build/classes/server/maps/MapleMap$2.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$2.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$2.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$2.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "ca5b8c0009d6b3fc8d3b6048c1de3fe0e3ca93d3", "filename": "build/classes/server/maps/MapleMap$20.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$20.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$20.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$20.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "aac832b60f82a828006eed3469bccd8d8ea3554a", "filename": "build/classes/server/maps/MapleMap$21.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$21.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$21.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$21.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "946192eb72b3647280bdfd54f98995e44169d389", "filename": "build/classes/server/maps/MapleMap$22.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$22.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$22.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$22.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "9bf3be31f4d0f8eab6d485cfea10e7d2ff9c08d2", "filename": "build/classes/server/maps/MapleMap$23.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$23.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$23.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$23.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "55bf7b981056caf12d4e3c3cb4389c48b33c0962", "filename": "build/classes/server/maps/MapleMap$24.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$24.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$24.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$24.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "a7ec54a02bc94f94dea13ca12771bdab76a07448", "filename": "build/classes/server/maps/MapleMap$25.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$25.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$25.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$25.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "98a4d5eea3555c956697e0a422e1d71df82281da", "filename": "build/classes/server/maps/MapleMap$26.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$26.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$26.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$26.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "1f0b9ab0e432040bac9046264d3d79a4475f3dea", "filename": "build/classes/server/maps/MapleMap$27.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$27.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$27.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$27.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "58167128c751bdc9c17c3ad453be87e0f54f4d30", "filename": "build/classes/server/maps/MapleMap$28$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$28$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$28$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$28$1.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "7e2eb64bb1a21a4ae71dc46834b94cd2daa32223", "filename": "build/classes/server/maps/MapleMap$28.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$28.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$28.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$28.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "112c45ce6af8b9489c26f8cb7a29b78be1d863a1", "filename": "build/classes/server/maps/MapleMap$29.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$29.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$29.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$29.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "e5de38b97d46f560d0b0be8d3ff7e2a78777631e", "filename": "build/classes/server/maps/MapleMap$3.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$3.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$3.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$3.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "e028fc962aa0801a22f4b13d68f59d2226346c7d", "filename": "build/classes/server/maps/MapleMap$4.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$4.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$4.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$4.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "5bab6e186eeeaeff949b363d7b60f5ac04504c01", "filename": "build/classes/server/maps/MapleMap$5.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$5.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$5.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$5.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "e0a77acd8354fcb8c7495a55936aeaa92659c23d", "filename": "build/classes/server/maps/MapleMap$6.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$6.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$6.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$6.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "bc9f7fe1fc51771683c57942d513385f2d0688c5", "filename": "build/classes/server/maps/MapleMap$7.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$7.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$7.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$7.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "85031635b62557781c7d65a8e4b8a7ee88dfd15e", "filename": "build/classes/server/maps/MapleMap$8.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$8.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$8.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$8.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "69e3063902d5c11c5d38e44166b5d4d1ebf97b9b", "filename": "build/classes/server/maps/MapleMap$9.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$9.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$9.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$9.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "282bbc335a01a82cd3b1e6e9598e68a255edce90", "filename": "build/classes/server/maps/MapleMap$ActivateItemReactor$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$ActivateItemReactor$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$ActivateItemReactor$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$ActivateItemReactor$1.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "fb95d366b3652ca06caaa3c9cd4e6e5957536173", "filename": "build/classes/server/maps/MapleMap$ActivateItemReactor.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$ActivateItemReactor.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$ActivateItemReactor.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$ActivateItemReactor.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "2244dbe9d12c470f748d2222b1162fb2b0b2150e", "filename": "build/classes/server/maps/MapleMap$ExpireMapItemJob.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$ExpireMapItemJob.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap$ExpireMapItemJob.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$ExpireMapItemJob.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "07d58bdf8ab34e3c8861c34ace4936f2b5042284", "filename": "build/classes/server/maps/MapleMap.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/server/maps/MapleMap.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "a3a9472dd1e2fe3bef1a35ca82a2b8e749947b54", "filename": "build/classes/tools/MaplePacketCreator.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/tools/MaplePacketCreator.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/build/classes/tools/MaplePacketCreator.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/tools/MaplePacketCreator.class?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "9f9b60ca4784e38471bb30534d3449507262a948", "filename": "dist/MapleSolaxia.jar", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/dist/MapleSolaxia.jar", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/dist/MapleSolaxia.jar", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/dist/MapleSolaxia.jar?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce"}, {"sha": "0a58c60003366d1cff80b3fdd79368421d77cc80", "filename": "mychanges_ptbr.txt", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/mychanges_ptbr.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/mychanges_ptbr.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/mychanges_ptbr.txt?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce", "patch": "@@ -329,4 +329,12 @@ Consertado bugs referentes ao comando \"level\", n\n 19 Junho 2017,\n Consertado cupons n\ufffdo aparecendo apropriadamente na regi\ufffdo de buffs.\n Consertado alguns problemas de concorr\ufffdncia com cupons.\n-Consertado alguns problemas de concorr\ufffdncia com character buffs.\n\\ No newline at end of file\n+Consertado alguns problemas de concorr\ufffdncia com character buffs.\n+\n+20 Junho 2017,\n+Definido um suporte para o esquema de expedi\ufffd\ufffdes, tal como pode ser visto na CWKPQ.\n+\n+21 Junho 2017,\n+Corrigido v\ufffdrios aspectos de guilds e alliances, que operavam irregularmente no cliente.\n+Corrigido \"player logged in\" aparecendo sempre que jogador troca de canal.\n+MGC do jogador agora est\ufffd sincronizado com o MGC da guild, n\ufffdo o contr\ufffdrio.\n\\ No newline at end of file"}, {"sha": "6644bb1bd705f22619f540806e2301a5e562b0c2", "filename": "nbproject/private/private.xml", "status": "modified", "additions": 12, "deletions": 18, "changes": 30, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/nbproject/private/private.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/nbproject/private/private.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/nbproject/private/private.xml?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce", "patch": "@@ -1,29 +1,23 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n <project-private xmlns=\"http://www.netbeans.org/ns/project-private/1\">\n-    <editor-bookmarks xmlns=\"http://www.netbeans.org/ns/editor-bookmarks/2\" lastBookmarkId=\"1\">\n-        <file>\n-            <url>src/tools/MaplePacketCreator.java</url>\n-            <bookmark id=\"1\">\n-                <name/>\n-                <line>5937</line>\n-                <key/>\n-            </bookmark>\n-        </file>\n-    </editor-bookmarks>\n+    <editor-bookmarks xmlns=\"http://www.netbeans.org/ns/editor-bookmarks/2\" lastBookmarkId=\"1\"/>\n     <open-files xmlns=\"http://www.netbeans.org/ns/projectui-open-files/2\">\n         <group>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/TimerManager.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/channel/handlers/AllianceOperationHandler.java</file>\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/channel/handlers/PlayerLoggedinHandler.java</file>\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/command/Commands.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/MapleStatEffect.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/world/World.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/tools/MaplePacketCreator.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/npc/2010009.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/channel/handlers/GuildOperationHandler.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/guild/MapleGuild.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/guild/MapleAlliance.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/guild/MapleGuildCharacter.java</file>\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/Server.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/CouponWorker.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/MapleBuffStat.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/constants/ServerConstants.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/scripting/npc/NPCConversationManager.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/npc/2010008.js</file>\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/MapleCharacter.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/MapleItemInformationProvider.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/inventory/MapleInventory.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/tools/MaplePacketCreator.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/MapleClient.java</file>\n         </group>\n     </open-files>\n </project-private>"}, {"sha": "7e9fc41c019f2c7bd36dc152fba93f771177a5c2", "filename": "scripts/event/CWKPQ.js", "status": "modified", "additions": 71, "deletions": 74, "changes": 145, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/scripts/event/CWKPQ.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/scripts/event/CWKPQ.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/CWKPQ.js?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce", "patch": "@@ -17,93 +17,93 @@ var pos_y = Array(-204,-384,-504,-384,-204);\n var pos_y2 = Array(-144, -444, -744, -1044, -1344, -1644);\n \n function init() {\n-em.setProperty(\"state\", \"0\");\n-\tem.setProperty(\"leader\", \"true\");\n+    em.setProperty(\"state\", \"0\");\n+    em.setProperty(\"leader\", \"true\");\n }\n \n function afterSetup(eim) {}\n \n-function setup(eim, leaderid) {\n-em.setProperty(\"state\", \"1\");\n-\tem.setProperty(\"leader\", \"true\");\n-\tem.setProperty(\"current_instance\", \"0\");\n-\tem.setProperty(\"glpq1\", \"0\");\n-\tem.setProperty(\"glpq2\", \"0\");\n-\tem.setProperty(\"glpq3\", \"0\");\n-\tem.setProperty(\"glpq4\", \"0\");\n-\tem.setProperty(\"glpq5\", \"0\");\n-\tem.setProperty(\"glpq6\", \"0\");\n+function setup(leaderid) {\n+    em.setProperty(\"state\", \"1\");\n+    em.setProperty(\"leader\", \"true\");\n+    em.setProperty(\"current_instance\", \"0\");\n+    em.setProperty(\"glpq1\", \"0\");\n+    em.setProperty(\"glpq2\", \"0\");\n+    em.setProperty(\"glpq3\", \"0\");\n+    em.setProperty(\"glpq4\", \"0\");\n+    em.setProperty(\"glpq5\", \"0\");\n+    em.setProperty(\"glpq6\", \"0\");\n+\n     var eim = em.newInstance(\"CWKPQ\" + leaderid);\n-\tfor (var i = 0; i < mapz.length; i++) {\n-\t\tvar map = eim.getInstanceMap(610030000 + mapz[i]);\n-\t\tif (map != null) {\n-\t\t\tmap.resetFully();\n-\t\t\tif (map.getId() == 610030400) {\n-\t\t\t\tmap.setReactorState(); //because everything is at 0 =[\n-\t\t\t\tmap.limitReactor(6109016, 1);\n-\t\t\t\tmap.limitReactor(6109017, 1);\n-\t\t\t\tmap.limitReactor(6109018, 1);\n-\t\t\t\tmap.limitReactor(6109019, 1);\n-\t\t\t\tmap.limitReactor(6109020, 1);\n-\t\t\t\tmap.shuffleReactors(6109016, 6109020);\n-\t\t\t\tmap.destroyReactors(6108000, 6108005); //destroy the fake ones, non-GMS like or is this necessary\n-\n-\t\t\t\t//add environments\n-\t\t\t\tfor (var x = 0; x < a.length; x++) {\n-\t\t\t\t\tfor (var y = 1; y <= 7; y++) {\n-\t\t\t\t\t\tif (x == 1 || x == 3 || x == 4 || x == 6 || x == 8) {\n-\t\t\t\t\t\t\tif (y != 2 && y != 4 && y != 5 && y != 7) {\n-\t\t\t\t\t\t\t\tmap.moveEnvironment(a[x] + \"\" + y, 1);\n-\t\t\t\t\t\t\t}\n-\t\t\t\t\t\t} else {\n-\t\t\t\t\t\t\tmap.moveEnvironment(a[x] + \"\" + y, 1);\n-\t\t\t\t\t\t}\n-\t\t\t\t\t}\n-\t\t\t\t}\n-\t\t\t} else if (map.getId() == 610030510) { //warrior room, crimson guardians\n-\t\t\t\tfor (var z = 0; z < pos_y2.length; z++) {\n-\t\t\t\t\tvar mob = em.getMonster(9400582);\n-\t\t\t\t\teim.registerMonster(mob);\n-\t\t\t\t\tmap.spawnMonsterOnGroundBelow(mob, new java.awt.Point(0, pos_y2[z]));\n-\t\t\t\t}\n-\t\t\t//skipping mage room, ehh\n-\t\t\t} else if (map.getId() == 610030540) { //bowman room, spawn master guardians\n-\t\t\t\tfor (var z = 0; z < pos_x.length; z++) {\n-\t\t\t\t\tvar mob = em.getMonster(9400594);\n-\t\t\t\t\teim.registerMonster(mob);\n-\t\t\t\t\tmap.spawnMonsterOnGroundBelow(mob, new java.awt.Point(pos_x[z], pos_y[z]));\n-\t\t\t\t}\n-\t\t\t} else if (map.getId() == 610030550) {\n-\t\t\t\tmap.shuffleReactors(); //pirate room\n-\t\t\t}\n-\t\t}\n-\t}\n+    for (var i = 0; i < mapz.length; i++) {\n+        var map = eim.getInstanceMap(610030000 + mapz[i]);\n+        if (map != null) {\n+            map.resetFully();\n+            if (map.getId() == 610030400) {\n+                map.setReactorState(); //because everything is at 0 =[\n+                map.limitReactor(6109016, 1);\n+                map.limitReactor(6109017, 1);\n+                map.limitReactor(6109018, 1);\n+                map.limitReactor(6109019, 1);\n+                map.limitReactor(6109020, 1);\n+                map.shuffleReactors(6109016, 6109020);\n+                map.destroyReactors(6108000, 6108005); //destroy the fake ones, non-GMS like or is this necessary\n+\n+                //add environments\n+                for (var x = 0; x < a.length; x++) {\n+                    for (var y = 1; y <= 7; y++) {\n+                        if (x == 1 || x == 3 || x == 4 || x == 6 || x == 8) {\n+                            if (y != 2 && y != 4 && y != 5 && y != 7) {\n+                                map.moveEnvironment(a[x] + \"\" + y, 1);\n+                            }\n+                        } else {\n+                            map.moveEnvironment(a[x] + \"\" + y, 1);\n+                        }\n+                    }\n+                }\n+            } else if (map.getId() == 610030510) { //warrior room, crimson guardians\n+                for (var z = 0; z < pos_y2.length; z++) {\n+                    var mob = em.getMonster(9400582);\n+                    eim.registerMonster(mob);\n+                    map.spawnMonsterOnGroundBelow(mob, new java.awt.Point(0, pos_y2[z]));\n+                }\n+            //skipping mage room, ehh\n+            } else if (map.getId() == 610030540) { //bowman room, spawn master guardians\n+                for (var z = 0; z < pos_x.length; z++) {\n+                    var mob = em.getMonster(9400594);\n+                    eim.registerMonster(mob);\n+                    map.spawnMonsterOnGroundBelow(mob, new java.awt.Point(pos_x[z], pos_y[z]));\n+                }\n+            } else if (map.getId() == 610030550) {\n+                map.shuffleReactors(); //pirate room\n+            }\n+        }\n+    }\n     eim.startEventTimer(120000); //2 MIN for first stg\n     eim.schedule(\"spawnGuardians\", 60000);\n     return eim;\n }\n \n function playerEntry(eim, player) {\n-    eim.broadcastPlayerMsg(5, \"[Expedition] \" + player.getName() + \" has entered the map.\");\n+    eim.dropMessage(5, \"[Expedition] \" + player.getName() + \" has entered the map.\");\n     var map = eim.getMapInstance(610030100 + (parseInt(em.getProperty(\"current_instance\")) * 100));\n     player.changeMap(map, map.getPortal(0));\n }\n \n function spawnGuardians(eim) {\n     var map = eim.getMapInstance(0);\n-    if (map.getCharactersSize() <= 0) {\n+    if (map.countPlayers() <= 0) {\n \treturn;\n     }\n-    eim.broadcastPlayerMsg(5, \"The Master Guardians have detected you.\");\n+    eim.dropMessage(5, \"The Master Guardians have detected you.\");\n     for (var i = 0; i < 20; i++) { //spawn 20 guardians\n \tvar mob = em.getMonster(9400594);\n \teim.registerMonster(mob);\n \tmap.spawnMonsterOnGroundBelow(mob, new java.awt.Point(1000, 336));\n     }\n }\n \n-function playerRevive(eim, player) {\n-}\n+function playerRevive(eim, player) {}\n \n function scheduledTimeout(eim) {\n     end(eim);\n@@ -165,33 +165,30 @@ function monsterValue(eim, mobId) {\n function playerUnregistered(eim, player) {}\n \n function playerExit(eim, player) {\n-    eim.broadcastPlayerMsg(5, \"[Expedition] \" + player.getName() + \" has left the map.\");\n+    eim.dropMessage(5, \"[Expedition] \" + player.getName() + \" has left the event.\");\n     eim.unregisterPlayer(player);\n \n     if (eim.disposeIfPlayerBelow(minPlayers, 610030010)) {\n-\tem.setProperty(\"state\", \"0\");\n-\t\tem.setProperty(\"leader\", \"true\");\n-\t}\n+        em.setProperty(\"state\", \"0\");\n+        em.setProperty(\"leader\", \"true\");\n+    }\n }\n \n function end(eim) {\n     eim.disposeIfPlayerBelow(100, 610030010);\n-\tem.setProperty(\"state\", \"0\");\n-\t\tem.setProperty(\"leader\", \"true\");\n+    em.setProperty(\"state\", \"0\");\n+    em.setProperty(\"leader\", \"true\");\n }\n \n function clearPQ(eim) {\n+    eim.setEventCleared();\n     end(eim);\n }\n \n function monsterKilled(mob, eim) {}\n+function allMonstersDead(eim) {}\n \n-function allMonstersDead(eim) {\n-}\n-\n-function leftParty (eim, player) {\n-}\n-function disbandParty (eim) {\n-}\n+function leftParty (eim, player) {}\n+function disbandParty (eim) {}\n function playerDead(eim, player) {}\n function cancelSchedule() {}\n\\ No newline at end of file"}, {"sha": "f3ed1d962a18a1981c8db1d12296dfb381b4211a", "filename": "scripts/npc/9201113.js", "status": "modified", "additions": 9, "deletions": 12, "changes": 21, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/scripts/npc/9201113.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/scripts/npc/9201113.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201113.js?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce", "patch": "@@ -48,10 +48,7 @@ function action(mode, type, selection) {\n         return;\n     }\n     if (status == 0) {\n-        if (player.getClient().getChannel() != 1) { //Only channel 1\n-            cm.sendOk(\"Sorry, Crimsonwood Keep Party Quest may only be attempted on #bChannel 1#k.\");\n-            cm.dispose();\n-        } else if (player.getLevel() < cwkpq.getMinLevel() && player.getLevel() > cwkpq.getMaxLevel()) { //Don't fit requirement\n+        if (player.getLevel() < cwkpq.getMinLevel() && player.getLevel() > cwkpq.getMaxLevel()) { //Don't fit requirement\n             cm.sendOk(\"You do not meet the criteria to take attempt Crimsonwood Keep Party Quest!\");\n             cm.dispose();\n         } else if (expedition == null) { //Start an expedition\n@@ -109,14 +106,14 @@ function action(mode, type, selection) {\n             cm.sendSimple(text);\n             status = 6;\n         } else if (selection == 2) {\n-            cm.sendOk(\"The expedition will begin and you will now be escorted to the #bEntrance to cwkpq Altar#k.\");\n+            cm.sendOk(\"The expedition will begin and you will now be escorted to the #bEntrance to CWKPQ Altar#k.\");\n             status = 4;\n         } else if (selection == 3) {\n-\t\t\tplayer.getMap().broadcastMessage(MaplePacketCreator.removeClock());\n-\t\t\tplayer.getMap().broadcastMessage(MaplePacketCreator.serverNotice(6, expedition.getLeader().getName() + \" has ended the expedition.\"));\n-\t\t\tcm.endExpedition(expedition);\n+            player.getMap().broadcastMessage(MaplePacketCreator.removeClock());\n+            player.getMap().broadcastMessage(MaplePacketCreator.serverNotice(6, expedition.getLeader().getName() + \" has ended the expedition.\"));\n+            cm.endExpedition(expedition);\n             cm.sendOk(\"The expedition has now ended. Sometimes the best strategy is to run away.\");\n-\t\t\tcm.dispose();\n+            cm.dispose();\n             return;\n         }\n     } else if (status == 4) {\n@@ -132,15 +129,15 @@ function action(mode, type, selection) {\n             cm.dispose();\n             return;\n         }\n-        cm.sendOk(\"Good luck! Crimsonwood Keep Party Quest is a worthy challenge!\");\n-\t\tem.setProperty(\"leader\", player.getName());\n+        \n+        em.setProperty(\"leader\", player.getName());\n         em.setProperty(\"channel\", player.getClient().getChannel());\n         em.startInstance(expedition);\n         cm.dispose();\n         return;\n     } else if (status == 6) {\n         if (selection > 0) {\n-           var banned = expedition.getMembers().get(selection);\n+            var banned = expedition.getMembers().get(selection - 1);\n             expedition.ban(banned);\n             cm.sendOk(\"You have banned \" + banned.getName() + \" from the expedition.\");\n             cm.dispose();"}, {"sha": "f5f6c2894582e2925f07e6d5e2fb849b1b73266b", "filename": "scripts/npc/9201114.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/scripts/npc/9201114.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/scripts/npc/9201114.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201114.js?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce", "patch": "@@ -26,5 +26,5 @@\n  \n function start() {\n     cm.warp(610030020);\n-\tcm.dispose();\n+    cm.dispose();\n }\n\\ No newline at end of file"}, {"sha": "f7b9de5639a5a3b226f01933c1caff38c416026c", "filename": "src/client/MapleCharacter.java", "status": "modified", "additions": 1, "deletions": 12, "changes": 13, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/client/MapleCharacter.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/client/MapleCharacter.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleCharacter.java?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce", "patch": "@@ -3922,7 +3922,7 @@ public static MapleCharacter loadCharFromDB(int charid, MapleClient client, bool\n             ret.dojoPoints = rs.getInt(\"dojoPoints\");\n             ret.dojoStage = rs.getInt(\"lastDojoStage\");\n             ret.dataString = rs.getString(\"dataString\");\n-            if (ret.guildid > 0) ret.mgc = new MapleGuildCharacter(ret);\n+            ret.mgc = new MapleGuildCharacter(ret);\n             int buddyCapacity = rs.getInt(\"buddyCapacity\");\n             ret.buddylist = new BuddyList(buddyCapacity);\n             ret.getInventory(MapleInventoryType.EQUIP).setSlotLimit(rs.getByte(\"equipslots\"));\n@@ -5295,17 +5295,6 @@ public void setGM(int level) {\n \n     public void setGuildId(int _id) {\n         guildid = _id;\n-        if (guildid > 0) {\n-            if (mgc == null) {\n-                mgc = new MapleGuildCharacter(this);\n-            } else {\n-                mgc.setGuildId(guildid);\n-            }\n-        } else {\n-            mgc = null;\n-            guildRank = 5;\n-            allianceRank = 5;\n-        }\n     }\n \n     public void setGuildRank(int _rank) {"}, {"sha": "b3ac9633d2afe4b4d31761f9dee4ed05820837c9", "filename": "src/net/server/Server.java", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/net/server/Server.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/net/server/Server.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/Server.java?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce", "patch": "@@ -498,7 +498,9 @@ public MapleGuild getGuild(int id, int world, MapleCharacter mc) {\n             }\n             \n             if(mc != null) {\n-                g.addGuildMember(mc.getMGC());                   // i really REALLY must make player MGC the same as the guild MGC\n+                mc.setMGC(g.getMGC(mc.getId()));\n+                if(g.getMGC(mc.getId()) == null) System.out.println(\"null for \" + mc.getName() + \" when loading \" + id);\n+                g.getMGC(mc.getId()).setCharacter(mc);\n                 g.setOnline(mc.getId(), true, mc.getClient().getChannel());\n             }\n             \n@@ -520,10 +522,10 @@ public void setGuildMemberOnline(MapleCharacter mc, boolean bOnline, int channel\n         g.setOnline(mc.getId(), bOnline, channel);\n     }\n \n-    public int addGuildMember(MapleGuildCharacter mgc) {\n+    public int addGuildMember(MapleGuildCharacter mgc, MapleCharacter chr) {\n         MapleGuild g = guilds.get(mgc.getGuildId());\n         if (g != null) {\n-            return g.addGuildMember(mgc);\n+            return g.addGuildMember(mgc, chr);\n         }\n         return 0;\n     }"}, {"sha": "99cf50efb401e4eef575a22fcfad8a83efad7b28", "filename": "src/net/server/channel/handlers/AllianceOperationHandler.java", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/net/server/channel/handlers/AllianceOperationHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/net/server/channel/handlers/AllianceOperationHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/AllianceOperationHandler.java?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce", "patch": "@@ -98,7 +98,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                                 Server.getInstance().allianceMessage(alliance.getId(), MaplePacketCreator.addGuildToAlliance(alliance, guildid, c), -1, -1);\n                                 Server.getInstance().allianceMessage(alliance.getId(), MaplePacketCreator.updateAllianceInfo(alliance, c), -1, -1);\n                                 Server.getInstance().allianceMessage(alliance.getId(), MaplePacketCreator.allianceNotice(alliance.getId(), alliance.getNotice()), -1, -1);\n-                                victim.getGuild().dropMessage(\"Your guild has joined in the [\" + alliance.getName() + \"] union.\");\n+                                victim.getGuild().dropMessage(\"Your guild has joined the [\" + alliance.getName() + \"] union.\");\n                             }\n                         }\n                     }\n@@ -164,6 +164,8 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                 String notice = slea.readMapleAsciiString();\n                 Server.getInstance().setAllianceNotice(alliance.getId(), notice);\n                 Server.getInstance().allianceMessage(alliance.getId(), MaplePacketCreator.allianceNotice(alliance.getId(), notice), -1, -1);\n+                \n+                alliance.dropMessage(5, \"* Alliance Notice : \" + notice);\n                 break;\n             default:\n                 c.getPlayer().dropMessage(\"Feature not available\");"}, {"sha": "57d376be1d78b8a504cbed69746bc14dedec4c71", "filename": "src/net/server/channel/handlers/GuildOperationHandler.java", "status": "modified", "additions": 19, "deletions": 12, "changes": 31, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/net/server/channel/handlers/GuildOperationHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/net/server/channel/handlers/GuildOperationHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/GuildOperationHandler.java?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce", "patch": "@@ -31,6 +31,7 @@\n import tools.MaplePacketCreator;\n import client.MapleCharacter;\n import net.server.Server;\n+import net.server.guild.MapleAlliance;\n \n public final class GuildOperationHandler extends AbstractMaplePacketHandler {\n     private boolean isGuildNameAcceptable(String name) {\n@@ -115,21 +116,22 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                     c.getPlayer().dropMessage(1, \"The Guild name you have chosen is not accepted.\");\n                     return;\n                 }\n-                int gid;\n                 \n-                gid = Server.getInstance().createGuild(mc.getId(), guildName);\n+                int gid = Server.getInstance().createGuild(mc.getId(), guildName);\n                 if (gid == 0) {\n                     c.announce(MaplePacketCreator.genericGuildMessage((byte) 0x1c));\n                     return;\n                 }\n                 mc.gainMeso(-MapleGuild.CREATE_GUILD_COST, true, false, true);\n                 \n-                Server.getInstance().getWorld(mc.getWorld()).setGuildAndRank(mc.getId(), gid, 1);\n-                Server.getInstance().setGuildMemberOnline(mc, true, mc.getClient().getChannel());\n+                mc.getMGC().setGuildId(gid);\n+                Server.getInstance().getGuild(mc.getGuildId(), mc.getWorld(), mc);  // initialize guild structure\n+                Server.getInstance().changeRank(gid, mc.getId(), 1);\n                 \n                 c.announce(MaplePacketCreator.showGuildInfo(mc));\n                 \n                 c.getPlayer().dropMessage(1, \"You have successfully created a Guild.\");\n+                respawnPlayer(mc);\n                 break;\n             case 0x05:\n                 if (mc.getGuildId() <= 0 || mc.getGuildRank() > 2) {\n@@ -172,15 +174,14 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                     System.out.println(\"[hax] \" + mc.getName() + \" is trying to join a guild that never invited him/her (or that the invitation has expired)\");\n                     return;\n                 }\n-                mc.setGuildId(gid); // joins the guild\n-                mc.setGuildRank(5); // start at lowest rank\n-                mc.setAllianceRank(5);\n-                int s;\n+                mc.getMGC().setGuildId(gid); // joins the guild\n+                mc.getMGC().setGuildRank(5); // start at lowest rank\n+                mc.getMGC().setAllianceRank(5);\n                 \n-                s = Server.getInstance().addGuildMember(mc.getMGC());\n+                int s = Server.getInstance().addGuildMember(mc.getMGC(), mc);\n                 if (s == 0) {\n                     c.getPlayer().dropMessage(1, \"The Guild you are trying to join is already full.\");\n-                    mc.setGuildId(0);\n+                    mc.getMGC().setGuildId(0);\n                     return;\n                 }\n                 \n@@ -207,7 +208,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                 c.announce(MaplePacketCreator.showGuildInfo(null));\n                 if(allianceId > 0) Server.getInstance().getAlliance(allianceId).updateAlliancePackets(mc);\n                 \n-                mc.setGuildId(0);\n+                mc.getMGC().setGuildId(0);\n                 mc.saveGuildStatus();\n                 respawnPlayer(mc);\n                 break;\n@@ -262,12 +263,18 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                 short logo = slea.readShort();\n                 byte logocolor = slea.readByte();\n                 Server.getInstance().setGuildEmblem(mc.getGuildId(), bg, bgcolor, logo, logocolor);\n+                \n+                if (mc.getGuild() != null && mc.getGuild().getAllianceId() > 0) {\n+                    MapleAlliance alliance = mc.getAlliance();\n+                    Server.getInstance().allianceMessage(alliance.getId(), MaplePacketCreator.getGuildAlliances(alliance, c.getWorld()), -1, -1);\n+                }\n+                \n                 mc.gainMeso(-MapleGuild.CHANGE_EMBLEM_COST, true, false, true);\n                 respawnPlayer(mc);\n                 break;\n             case 0x10:\n                 if (mc.getGuildId() <= 0 || mc.getGuildRank() > 2) {\n-                    System.out.println(\"[hax] \" + mc.getName() + \" tried to change guild notice while not in a guild.\");\n+                    if(mc.getGuildId() <= 0) System.out.println(\"[hax] \" + mc.getName() + \" tried to change guild notice while not in a guild.\");\n                     return;\n                 }\n                 String notice = slea.readMapleAsciiString();"}, {"sha": "e5c0735c0785a1c41a2d8df79e7a2de3acec6e71", "filename": "src/net/server/channel/handlers/PlayerLoggedinHandler.java", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/net/server/channel/handlers/PlayerLoggedinHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/net/server/channel/handlers/PlayerLoggedinHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/PlayerLoggedinHandler.java?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce", "patch": "@@ -51,6 +51,7 @@\n import client.inventory.PetDataFactory;\n import constants.GameConstants;\n import constants.ServerConstants;\n+import java.lang.ref.WeakReference;\n import java.util.concurrent.ScheduledFuture;\n import server.TimerManager;\n \n@@ -187,12 +188,10 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             MapleGuild playerGuild = server.getGuild(player.getGuildId(), player.getWorld(), player);\n             if (playerGuild == null) {\n                 player.deleteGuild(player.getGuildId());\n-                player.setMGC(null);\n-                player.setGuildId(0);\n+                player.getMGC().setGuildId(0);\n             } else {\n                 playerGuild.getMGC(player.getId()).setCharacter(player);\n                 player.setMGC(playerGuild.getMGC(player.getId()));\n-                \n                 server.setGuildMemberOnline(player, true, c.getChannel());\n                 c.announce(MaplePacketCreator.showGuildInfo(player));\n                 int allianceId = player.getGuild().getAllianceId();\n@@ -206,12 +205,13 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                             player.getGuild().setAllianceId(0);\n                         }\n                     }\n-                    \n                     if (newAlliance != null) {\n                         c.announce(MaplePacketCreator.updateAllianceInfo(newAlliance, c));\n                         c.announce(MaplePacketCreator.allianceNotice(newAlliance.getId(), newAlliance.getNotice()));\n                         \n-                        server.allianceMessage(allianceId, MaplePacketCreator.allianceMemberOnline(player, true), player.getId(), -1);\n+                        if (newcomer) {\n+                            server.allianceMessage(allianceId, MaplePacketCreator.allianceMemberOnline(player, true), player.getId(), -1);\n+                        }\n                     }\n                 }\n             }"}, {"sha": "2c5df5c9d3994b60123ea3a8dbb8306db7a0a11c", "filename": "src/net/server/guild/MapleAlliance.java", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/net/server/guild/MapleAlliance.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/net/server/guild/MapleAlliance.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/guild/MapleAlliance.java?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce", "patch": "@@ -121,10 +121,13 @@ public static MapleAlliance createAlliance(MapleParty party, String name) {\n \n                     MapleCharacter chr = guildMasters.get(i);\n                     chr.getMGC().setAllianceRank((i == 0) ? 1 : 2);\n+                    Server.getInstance().getGuild(chr.getGuildId()).getMGC(chr.getId()).setAllianceRank((i == 0) ? 1 : 2);\n                     chr.saveGuildStatus();\n                 }\n \n                 Server.getInstance().addAlliance(id, alliance);\n+                \n+                System.out.println(\"\\n\\n\\n\\n----\");\n                 Server.getInstance().allianceMessage(id, MaplePacketCreator.updateAllianceInfo(alliance, guildMasters.get(0).getClient()), -1, -1);\n             } catch (Exception e) {\n                 e.printStackTrace();\n@@ -304,7 +307,7 @@ public static void removeGuildFromAlliance(int allianceId, int guildId, int worl\n         Server.getInstance().allianceMessage(alliance.getId(), MaplePacketCreator.allianceNotice(alliance.getId(), alliance.getNotice()), -1, -1);\n         Server.getInstance().guildMessage(guildId, MaplePacketCreator.disbandAlliance(alliance.getId()));\n \n-        alliance.dropMessage(\"[\" + Server.getInstance().getGuild(guildId, worldId) + \"] guild has left the union.\");\n+        alliance.dropMessage(\"[\" + Server.getInstance().getGuild(guildId, worldId).getName() + \"] guild has left the union.\");\n     }\n     \n     public void updateAlliancePackets(MapleCharacter chr) {"}, {"sha": "0caf005bd5ea3891e56de0a607b5534060ccc198", "filename": "src/net/server/guild/MapleGuild.java", "status": "modified", "additions": 27, "deletions": 15, "changes": 42, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/net/server/guild/MapleGuild.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/net/server/guild/MapleGuild.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/guild/MapleGuild.java?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce", "patch": "@@ -372,13 +372,14 @@ public static int createGuild(int leaderId, String name) {\n         }\n     }\n \n-    public int addGuildMember(MapleGuildCharacter mgc) {\n+    public int addGuildMember(MapleGuildCharacter mgc, MapleCharacter chr) {\n         synchronized (members) {\n             if (members.size() >= capacity) {\n                 return 0;\n             }\n             for (int i = members.size() - 1; i >= 0; i--) {\n                 if (members.get(i).getGuildRank() < 5 || members.get(i).getName().compareTo(mgc.getName()) < 0) {\n+                    mgc.setCharacter(chr);\n                     members.add(i + 1, mgc);\n                     bDirty = true;\n                     break;\n@@ -439,23 +440,30 @@ public void expelMember(MapleGuildCharacter initiator, String name, int cid) {\n     public void changeRank(int cid, int newRank) {\n         for (MapleGuildCharacter mgc : members) {\n             if (cid == mgc.getId()) {\n-                try {\n-                    if (mgc.isOnline()) {\n-                        Server.getInstance().getWorld(mgc.getWorld()).setGuildAndRank(cid, this.id, newRank);\n-                    } else {\n-                        Server.getInstance().getWorld(mgc.getWorld()).setOfflineGuildStatus((short) this.id, (byte) newRank, cid);\n-                    }\n-                } catch (Exception re) {\n-                    re.printStackTrace();\n-                    return;\n-                }\n-                mgc.setGuildRank(newRank);\n-                this.broadcast(MaplePacketCreator.changeRank(mgc));\n+                changeRank(mgc, newRank);\n                 return;\n             }\n         }\n     }\n-\n+    \n+    public void changeRank(MapleGuildCharacter mgc, int newRank) {\n+        try {\n+            if (mgc.isOnline()) {\n+                Server.getInstance().getWorld(mgc.getWorld()).setGuildAndRank(mgc.getId(), this.id, newRank);\n+                mgc.setGuildRank(newRank);\n+            } else {\n+                Server.getInstance().getWorld(mgc.getWorld()).setOfflineGuildStatus((short) this.id, (byte) newRank, mgc.getId());\n+                mgc.setOfflineGuildRank(newRank);\n+            }\n+        } catch (Exception re) {\n+            re.printStackTrace();\n+            return;\n+        }\n+        \n+        this.broadcast(MaplePacketCreator.changeRank(mgc));\n+        return;\n+    }\n+    \n     public void setGuildNotice(String notice) {\n         this.notice = notice;\n         writeToDB(false);\n@@ -594,7 +602,11 @@ public void setAllianceId(int aid) {\n     \n     public void resetAllianceGuildPlayersRank() {\n         try {\n-            for(MapleGuildCharacter mgc: members) mgc.setAllianceRank(5);\n+            for(MapleGuildCharacter mgc: members) {\n+                if(mgc.isOnline()) {\n+                    mgc.setAllianceRank(5);\n+                }\n+            }\n             \n             try (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"UPDATE characters SET allianceRank = ? WHERE guildid = ?\")) {\n                 ps.setInt(1, 5);"}, {"sha": "41e12ca42b8e9f5ece33c661fb561b38a289938f", "filename": "src/net/server/guild/MapleGuildCharacter.java", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/net/server/guild/MapleGuildCharacter.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/net/server/guild/MapleGuildCharacter.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/guild/MapleGuildCharacter.java?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce", "patch": "@@ -111,15 +111,20 @@ public int getGuildId() {\n \n     public void setGuildId(int gid) {\n         guildid = gid;\n+        character.setGuildId(gid);\n     }\n     \n     public int getGuildRank() {\n         return guildrank;\n     }\n \n+    public void setOfflineGuildRank(int rank) {\n+        guildrank = rank;\n+    }\n+    \n     public void setGuildRank(int rank) {\n         guildrank = rank;\n-        if(character != null) character.setGuildRank(rank);\n+        character.setGuildRank(rank);\n     }\n     \n     public int getAllianceRank() {\n@@ -128,7 +133,7 @@ public int getAllianceRank() {\n     \n     public void setAllianceRank(int rank) {\n         allianceRank = rank;\n-        if(character != null) character.setAllianceRank(rank);\n+        character.setAllianceRank(rank);\n     }\n \n     public boolean isOnline() {"}, {"sha": "812f63b028fadf853d8e699e53f122e115935671", "filename": "src/net/server/world/World.java", "status": "modified", "additions": 4, "deletions": 8, "changes": 12, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/net/server/world/World.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/net/server/world/World.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/world/World.java?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce", "patch": "@@ -206,8 +206,7 @@ public MapleGuild getGuild(MapleGuildCharacter mgc) {\n         if(mgc == null) return null;\n         \n         int gid = mgc.getGuildId();\n-        MapleGuild g;\n-        g = Server.getInstance().getGuild(gid, mgc.getWorld(), mgc.getCharacter());\n+        MapleGuild g = Server.getInstance().getGuild(gid, mgc.getWorld(), mgc.getCharacter());\n         if (gsStore.get(gid) == null) {\n             gsStore.put(gid, new MapleGuildSummary(g));\n         }\n@@ -274,13 +273,10 @@ public void setGuildAndRank(int cid, int guildid, int rank) {\n             bDifferentGuild = true;\n         } else {\n             bDifferentGuild = guildid != mc.getGuildId();\n-            mc.setGuildId(guildid);\n+            mc.getMGC().setGuildId(guildid);\n+            mc.getMGC().setGuildRank(rank);\n             \n-            MapleGuildCharacter mgc = mc.getMGC();\n-            if(mgc != null) {\n-                mgc.setGuildRank(rank);\n-                if(bDifferentGuild) mgc.setAllianceRank(5);\n-            }\n+            if(bDifferentGuild) mc.getMGC().setAllianceRank(5);\n             \n             mc.saveGuildStatus();\n         }"}, {"sha": "6016bc3773804d41e4ff2bbcc24c66d5b467dddb", "filename": "src/scripting/event/EventInstanceManager.java", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/scripting/event/EventInstanceManager.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/scripting/event/EventInstanceManager.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/scripting/event/EventInstanceManager.java?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce", "patch": "@@ -235,7 +235,18 @@ public void exitPlayer(MapleCharacter chr) {\n \t\t\tex.printStackTrace();\n \t\t}\n \t}\n+        \n+        public void dropMessage(int type, String message) {\n+                for (MapleCharacter chr : getPlayers()) {\n+                        chr.dropMessage(type, message);\n+                }\n+        }\n \n+        public void restartEventTimer(long time) {\n+                stopEventTimer();\n+                startEventTimer(time);\n+        }\n+        \n \tpublic void startEventTimer(long time) {\n                 timeStarted = System.currentTimeMillis();\n \t\teventTime = time;"}, {"sha": "8a6ac8264622cf1d714c5fad118143e2f9ca0a69", "filename": "src/scripting/event/EventManager.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/scripting/event/EventManager.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/scripting/event/EventManager.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/scripting/event/EventManager.java?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce", "patch": "@@ -279,7 +279,7 @@ public boolean startInstance(int lobbyId, MapleExpedition exped, MapleCharacter\n                 startLobbyInstance(lobbyId);\n             }\n             \n-            EventInstanceManager eim = (EventInstanceManager) (iv.invokeFunction(\"setup\", (Object) null));\n+            EventInstanceManager eim = (EventInstanceManager) (iv.invokeFunction(\"setup\", leader.getId()));\n             if(eim == null) {\n                 if(lobbyId > -1) setLockLobby(lobbyId, false);\n                 return false;"}, {"sha": "04fff22d0ee6cd1833f8004f50a323ac22c1b983", "filename": "src/scripting/npc/NPCConversationManager.java", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/scripting/npc/NPCConversationManager.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/scripting/npc/NPCConversationManager.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/scripting/npc/NPCConversationManager.java?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce", "patch": "@@ -352,7 +352,9 @@ public void doGachapon() {\n         public void upgradeAlliance() {\n                 MapleAlliance alliance = Server.getInstance().getAlliance(c.getPlayer().getGuild().getAllianceId());\n                 alliance.increaseCapacity(1);\n-                c.announce(MaplePacketCreator.updateAllianceInfo(alliance, c));\n+                \n+                Server.getInstance().allianceMessage(alliance.getId(), MaplePacketCreator.getGuildAlliances(alliance, c.getWorld()), -1, -1);\n+                Server.getInstance().allianceMessage(alliance.getId(), MaplePacketCreator.allianceNotice(alliance.getId(), alliance.getNotice()), -1, -1);\n         }\n \n \tpublic void disbandAlliance(MapleClient c, int allianceId) {"}, {"sha": "30ee4963f13fd79d354baead011c54f922fcf225", "filename": "src/server/expeditions/MapleExpedition.java", "status": "modified", "additions": 18, "deletions": 7, "changes": 25, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/server/expeditions/MapleExpedition.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/server/expeditions/MapleExpedition.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/expeditions/MapleExpedition.java?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce", "patch": "@@ -80,8 +80,8 @@\n \tprivate MapleMap startMap;\n \tprivate ArrayList<String> bossLogs;\n \tprivate ScheduledFuture<?> schedule;\n-\tprivate List<MapleCharacter> members = new ArrayList<MapleCharacter>();\n-\tprivate List<MapleCharacter> banned = new ArrayList<MapleCharacter>();\n+\tprivate List<MapleCharacter> members = new ArrayList<>();\n+\tprivate List<Integer> banned = new ArrayList<>();\n \tprivate long startTime;\n \n \tpublic MapleExpedition(MapleCharacter player, MapleExpeditionType met) {\n@@ -126,7 +126,7 @@ public void dispose(boolean log){\n \tpublic void start(){\n \t\tregistering = false;\n \t\tstartMap.broadcastMessage(MaplePacketCreator.removeClock());\n-\t\tbroadcastExped(MaplePacketCreator.serverNotice(6, \"The expedition has started! The expedition leader is waiting inside!\"));\n+\t\tbroadcastExped(MaplePacketCreator.serverNotice(6, \"The expedition has started! Good luck, brave heroes!\"));\n \t\tstartTime = System.currentTimeMillis();\n \t\tServer.getInstance().broadcastGMMessage(MaplePacketCreator.serverNotice(6, type.toString() + \" Expedition started with leader: \" + leader.getName()));\n \t}\n@@ -135,7 +135,7 @@ public String addMember(MapleCharacter player) {\n \t\tif (!registering){\n \t\t\treturn \"Sorry, this expedition is already underway. Registration is closed!\";\n \t\t}\n-\t\tif (banned.contains(player)){\n+\t\tif (banned.contains(player.getId())){\n \t\t\treturn \"Sorry, you've been banned from this expedition by #b\" + leader.getName() + \"#k.\";\n \t\t}\n \t\tif (members.size() >= type.getMaxSize()){ //Would be a miracle if anybody ever saw this\n@@ -155,7 +155,13 @@ private void broadcastExped(byte [] data){\n \t}\n \n \tpublic boolean removeMember(MapleCharacter chr) {\n-\t\treturn members.remove(chr);\n+\t\tif(members.remove(chr)) {\n+                    broadcastExped(MaplePacketCreator.serverNotice(6, chr.getName() + \" has left the expedition.\"));\n+                    chr.dropMessage(6, \"You have left this expedition.\");\n+                    return true;\n+                }\n+                \n+                return false;\n \t}\n \n \tpublic MapleExpeditionType getType() {\n@@ -192,9 +198,14 @@ public boolean isInProgress(){\n \t}\n \n \tpublic void ban(MapleCharacter player) {\n-\t\tif (!banned.contains(player)) {\n-\t\t\tbanned.add(player);\n+\t\tif (!banned.contains(player.getId())) {\n+\t\t\tbanned.add(player.getId());\n \t\t\tmembers.remove(player);\n+                        \n+                        broadcastExped(MaplePacketCreator.serverNotice(6, player.getName() + \" has been banned from the expedition.\"));\n+                        \n+                        player.announce(MaplePacketCreator.removeClock());\n+                        player.dropMessage(6, \"You have been banned from this expedition.\");\n \t\t}\n \t}\n "}, {"sha": "55011fab1b0614d59ed572a58dd1255360a75aa4", "filename": "src/server/maps/MapleMap.java", "status": "modified", "additions": 79, "deletions": 0, "changes": 79, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/server/maps/MapleMap.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/server/maps/MapleMap.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/MapleMap.java?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce", "patch": "@@ -93,6 +93,7 @@\n     private Collection<MapleCharacter> characters = new LinkedHashSet<>();\n     private Map<Integer, MaplePortal> portals = new HashMap<>();\n     private Map<Integer, Integer> backgroundTypes = new HashMap<>();\n+    private Map<String, Integer> environment = new LinkedHashMap<String, Integer>();\n     private List<Rectangle> areas = new ArrayList<>();\n     private MapleFootholdTree footholds = null;\n     private int mapid;\n@@ -252,6 +253,28 @@ public void setReactorState() {\n             objectRLock.unlock();\n         }\n     }\n+    \n+    public final void limitReactor(final int rid, final int num) {\n+        List<MapleReactor> toDestroy = new ArrayList<>();\n+        Map<Integer, Integer> contained = new LinkedHashMap<>();\n+        \n+        for (MapleMapObject obj : getReactors()) {\n+            MapleReactor mr = (MapleReactor) obj;\n+            if (contained.containsKey(mr.getId())) {\n+                if (contained.get(mr.getId()) >= num) {\n+                    toDestroy.add(mr);\n+                } else {\n+                    contained.put(mr.getId(), contained.get(mr.getId()) + 1);\n+                }\n+            } else {\n+                contained.put(mr.getId(), 1);\n+            }\n+        }\n+        \n+        for (MapleReactor mr : toDestroy) {\n+            destroyReactor(mr.getObjectId());\n+        }\n+    }\n \n     public int getForcedReturnId() {\n         return forcedReturnMap;\n@@ -837,6 +860,22 @@ public void killAllMonsters() {\n             killMonster(monster, null, false, 1);\n         }\n     }\n+    \n+    public final void destroyReactors(final int first, final int last) {\n+        List<MapleReactor> toDestroy = new ArrayList<>();\n+        List<MapleMapObject> reactors = getReactors();\n+        \n+        for (MapleMapObject obj : reactors) {\n+            MapleReactor mr = (MapleReactor) obj;\n+            if (mr.getId() >= first && mr.getId() <= last) {\n+                toDestroy.add(mr);\n+            }\n+        }\n+        \n+        for (MapleReactor mr : toDestroy) {\n+            destroyReactor(mr.getObjectId());\n+        }\n+    }\n \n     public void destroyReactor(int oid) {\n         final MapleReactor reactor = getReactorByOid(oid);\n@@ -897,6 +936,25 @@ public void shuffleReactors() {\n             objectRLock.unlock();\n         }\n     }\n+    \n+    public final void shuffleReactors(int first, int last) {\n+        List<Point> points = new ArrayList<>();\n+        List<MapleMapObject> reactors = getReactors();\n+        List<MapleMapObject> targets = new LinkedList<>();\n+        \n+        for (MapleMapObject obj : reactors) {\n+            MapleReactor mr = (MapleReactor) obj;\n+            if (mr.getId() >= first && mr.getId() <= last) {\n+                points.add(mr.getPosition());\n+                targets.add(obj);\n+            }\n+        }\n+        Collections.shuffle(points);\n+        for (MapleMapObject obj : targets) {\n+            MapleReactor mr = (MapleReactor) obj;\n+            mr.setPosition(points.remove(points.size() - 1));\n+        }\n+    }\n \n     /**\n      * Automagically finds a new controller for the given monster from the chars\n@@ -2035,6 +2093,27 @@ public void movePlayer(MapleCharacter player, Point newPosition) {\n             }\n         }\n     }\n+    \n+    // \\/\\/\\/\\/\\/\\/ CWKPQ things \\/\\/\\/\\/\\/\\/\n+    \n+    public final void toggleEnvironment(final String ms) {\n+        if (environment.containsKey(ms)) {\n+            moveEnvironment(ms, environment.get(ms) == 1 ? 2 : 1);\n+        } else {\n+            moveEnvironment(ms, 1);\n+        }\n+    }\n+\n+    public final void moveEnvironment(final String ms, final int type) {\n+        broadcastMessage(MaplePacketCreator.environmentChange(ms, type));\n+        environment.put(ms, type);\n+    }\n+\n+    public final Map<String, Integer> getEnvironment() {\n+        return environment;\n+    }\n+    \n+    // /\\/\\/\\/\\/\\/\\/\\ CWKPQ things /\\/\\/\\/\\/\\/\\\n \n     public String getMapName() {\n         return mapName;"}, {"sha": "0e17cc1cbcd6a753cbca81104aaa7abf8bd3fa62", "filename": "src/tools/MaplePacketCreator.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/tools/MaplePacketCreator.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6b2b3616d6c316f994f094a1b72eede3e8239fce/src/tools/MaplePacketCreator.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/tools/MaplePacketCreator.java?ref=6b2b3616d6c316f994f094a1b72eede3e8239fce", "patch": "@@ -5939,7 +5939,7 @@ private static void getGuildInfo(final MaplePacketLittleEndianWriter mplew, Mapl\n                 mplew.writeInt(alliance.getCapacity()); // probably capacity\n                 mplew.writeShort(0);\n                 for (Integer guildd : alliance.getGuilds()) {\n-                        getGuildInfo(mplew, Server.getInstance().getGuild(guildd, c.getWorld(), c.getPlayer()));\n+                        getGuildInfo(mplew, Server.getInstance().getGuild(guildd, c.getWorld()));\n                 }\n                 return mplew.getPacket();\n         }\n@@ -5950,7 +5950,7 @@ private static void getGuildInfo(final MaplePacketLittleEndianWriter mplew, Mapl\n                 mplew.write(0x0D);\n                 mplew.writeInt(alliance.getGuilds().size());\n                 for (Integer guild : alliance.getGuilds()) {\n-                        getGuildInfo(mplew, Server.getInstance().getGuild(guild, worldId, null));\n+                        getGuildInfo(mplew, Server.getInstance().getGuild(guild, worldId));\n                 }\n                 return mplew.getPacket();\n         }"}]}]},
