{"fetchDate": "2019-12-19", "content": [{"sha": "7f6d420cf142c94d9221bd8121012b926180b0d3", "node_id": "MDY6Q29tbWl0NDUwODIwMjM6N2Y2ZDQyMGNmMTQyYzk0ZDkyMjFiZDgxMjEwMTJiOTI2MTgwYjBkMw==", "commit": {"author": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2017-06-19T20:44:01Z"}, "committer": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2017-06-19T20:44:01Z"}, "message": "Coupon buff fix + concurrency fixes\n\nFixed coupon buff icon not showing properly. Fixed some cases involving\ncoupons and buff removal not dealing properly with concurrent access.", "tree": {"sha": "90549f1e880aaf4d5168868c6792f9d99720b176", "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/trees/90549f1e880aaf4d5168868c6792f9d99720b176"}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/commits/7f6d420cf142c94d9221bd8121012b926180b0d3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/7f6d420cf142c94d9221bd8121012b926180b0d3", "html_url": "https://github.com/ronancpl/HeavenMS/commit/7f6d420cf142c94d9221bd8121012b926180b0d3", "comments_url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/7f6d420cf142c94d9221bd8121012b926180b0d3/comments", "author": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "42fe74955d953138c279edf680a0aa9e8dc755f9", "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/42fe74955d953138c279edf680a0aa9e8dc755f9", "html_url": "https://github.com/ronancpl/HeavenMS/commit/42fe74955d953138c279edf680a0aa9e8dc755f9"}], "stats": {"total": 557, "additions": 341, "deletions": 216}, "files": [{"sha": "5be08aa22e31b593b6fde322e3cd13d81bb7512c", "filename": "build/built-jar.properties", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/built-jar.properties", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/built-jar.properties", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/built-jar.properties?ref=7f6d420cf142c94d9221bd8121012b926180b0d3", "patch": "@@ -1,4 +1,4 @@\n-#Sun, 18 Jun 2017 02:53:19 -0300\n+#Mon, 19 Jun 2017 14:48:35 -0300\n \n \n C\\:\\\\Nexon\\\\MapleSolaxia\\\\MapleSolaxiaV2="}, {"sha": "9b51cfe62c3cb209c4dbb6f7bd2335f3bc3c7a16", "filename": "build/classes/client/MapleBuffStat.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleBuffStat.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleBuffStat.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleBuffStat.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "cda0181234dc9c62a184fa1ce920d68b0a8f15c8", "filename": "build/classes/client/MapleCharacter$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$1.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "6f7911f68641e78aebf8255a5a79be08e40805ab", "filename": "build/classes/client/MapleCharacter$10.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$10.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$10.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$10.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "08ca1311e8a96f3a211749a4b00990ed61d3e7fb", "filename": "build/classes/client/MapleCharacter$11.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$11.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$11.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$11.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "3e4cb04be2bfc5b473315bd4f4d8934b24298b4f", "filename": "build/classes/client/MapleCharacter$12.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$12.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$12.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$12.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "415f1f76a25dee455c5d5d3240d28bb6108bee5c", "filename": "build/classes/client/MapleCharacter$13.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$13.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$13.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$13.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "21c363f261f22cbc5414776c5ed52f36768cd614", "filename": "build/classes/client/MapleCharacter$14.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$14.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$14.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$14.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "0d2deb02ace84988d85c0a4e8f6e5583218c0b29", "filename": "build/classes/client/MapleCharacter$15.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$15.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$15.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$15.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "8d78cf8a4dac577a617064f0375e3bacacb1c7ff", "filename": "build/classes/client/MapleCharacter$16.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$16.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$16.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$16.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "e349edd1097935a9c82a22cd25a7a1a841015281", "filename": "build/classes/client/MapleCharacter$17.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$17.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$17.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$17.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "c5a319412578c53dbf31cdce60d783b50177b924", "filename": "build/classes/client/MapleCharacter$18.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$18.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$18.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$18.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "99b73046d828a6d1481d859b371b3237d69ac204", "filename": "build/classes/client/MapleCharacter$2.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$2.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$2.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$2.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "dfd55c34662ab74102944099066ef6a8168575d1", "filename": "build/classes/client/MapleCharacter$3.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$3.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$3.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$3.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "6e569390129c94b5a8b5fa02dfb2a93e39bcb3e4", "filename": "build/classes/client/MapleCharacter$4.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$4.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$4.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$4.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "763d1a145eb0b3e7b27c24e5f1f63006a643e31b", "filename": "build/classes/client/MapleCharacter$5.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$5.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$5.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$5.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "a6e9ae54bad08a07467a6b82361f84d9ec2b93c4", "filename": "build/classes/client/MapleCharacter$6.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$6.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$6.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$6.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "c8afc399d369d7023676735f450db43a0b140deb", "filename": "build/classes/client/MapleCharacter$7.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$7.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$7.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$7.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "d555c6d3e814e43cf2c3fbd1bca7251cf6ea298f", "filename": "build/classes/client/MapleCharacter$8.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$8.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$8.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$8.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "658217c61074ba1a6ba790e1c8a8b9f284dfc76f", "filename": "build/classes/client/MapleCharacter$9.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$9.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$9.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$9.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "a4d5ced0f915bf96c709c16a7c2527609eadae3e", "filename": "build/classes/client/MapleCharacter$CancelCooldownAction.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$CancelCooldownAction.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$CancelCooldownAction.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$CancelCooldownAction.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "e38d5f8ac8a406d9f16bd7711fca931a552148aa", "filename": "build/classes/client/MapleCharacter$FameStatus.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$FameStatus.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$FameStatus.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$FameStatus.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "f7bf159ade723242d513dee3f0be38e84426be00", "filename": "build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "9d4c134c82e5bcd109e4243b591ba06c3a2d0a9b", "filename": "build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "56019cf7c1fb30d815bd52d1b3ee8daf0181f814", "filename": "build/classes/client/MapleCharacter$SkillEntry.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$SkillEntry.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter$SkillEntry.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$SkillEntry.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "bc39a3a9572adaa146f2abab59e87fd9f22b931e", "filename": "build/classes/client/MapleCharacter.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/MapleCharacter.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "93fe0780fcd67f961201aa56b3619c54b1991118", "filename": "build/classes/client/command/Commands$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/command/Commands$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/command/Commands$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/command/Commands$1.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "c38c18fdcd4f64b44e2b0d4342a0b15698b864dd", "filename": "build/classes/client/command/Commands.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/command/Commands.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/command/Commands.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/command/Commands.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "a1ed69522f5125b672f596db8636ad476782fe4c", "filename": "build/classes/client/inventory/MapleInventory.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/inventory/MapleInventory.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/client/inventory/MapleInventory.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/inventory/MapleInventory.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "f5707d1ae287e3bb0cea967bd017049346e3fa6f", "filename": "build/classes/constants/ServerConstants.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/constants/ServerConstants.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/constants/ServerConstants.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/constants/ServerConstants.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "79498e6aa77f39fbfd806411c008d546ff5f4931", "filename": "build/classes/net/server/CouponWorker.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/net/server/CouponWorker.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/net/server/CouponWorker.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/CouponWorker.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "f933d5ed4858bd189771db2cbc31c3b2b58ed58b", "filename": "build/classes/net/server/Server$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/net/server/Server$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/net/server/Server$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/Server$1.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "b9e2c777da587645dde602374bce23d87dd79618", "filename": "build/classes/net/server/Server.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/net/server/Server.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/net/server/Server.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/Server.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "5fd62f795c81c9850f432f78a027eb04959a553c", "filename": "build/classes/net/server/channel/handlers/AbstractDealDamageHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/net/server/channel/handlers/AbstractDealDamageHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/net/server/channel/handlers/AbstractDealDamageHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/AbstractDealDamageHandler.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "161a7721ba917fc1a455562082fdb86422a35b23", "filename": "build/classes/net/server/channel/handlers/CloseRangeDamageHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/net/server/channel/handlers/CloseRangeDamageHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/net/server/channel/handlers/CloseRangeDamageHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/CloseRangeDamageHandler.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "d13119fa5ce9fbe49206ca65190a8714d888ed70", "filename": "build/classes/net/server/channel/handlers/PlayerLoggedinHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/net/server/channel/handlers/PlayerLoggedinHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/net/server/channel/handlers/PlayerLoggedinHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/PlayerLoggedinHandler.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "26812bbc329709e93c47adbbb0318e870e4cb4e0", "filename": "build/classes/net/server/world/World$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/net/server/world/World$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/net/server/world/World$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/world/World$1.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "673bb0e52ad8ab6d0cd0071216fa92203daca51c", "filename": "build/classes/net/server/world/World.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/net/server/world/World.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/net/server/world/World.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/world/World.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "4aef3c90a2e9f3c183442fd32a8a1df470b2c833", "filename": "build/classes/server/MapleStatEffect$CancelEffectAction.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/server/MapleStatEffect$CancelEffectAction.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/server/MapleStatEffect$CancelEffectAction.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleStatEffect$CancelEffectAction.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "c64a0118d27c740fd95ea0985e44cdbc20c4942f", "filename": "build/classes/server/MapleStatEffect.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/server/MapleStatEffect.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/build/classes/server/MapleStatEffect.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleStatEffect.class?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "e390a4315e404e847d737b59745aee2b6f09c90e", "filename": "dist/MapleSolaxia.jar", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/dist/MapleSolaxia.jar", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/dist/MapleSolaxia.jar", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/dist/MapleSolaxia.jar?ref=7f6d420cf142c94d9221bd8121012b926180b0d3"}, {"sha": "e64525620d3629c29b059b8e285f898ed977c515", "filename": "mychanges_ptbr.txt", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/mychanges_ptbr.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/mychanges_ptbr.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/mychanges_ptbr.txt?ref=7f6d420cf142c94d9221bd8121012b926180b0d3", "patch": "@@ -320,4 +320,13 @@ Corre\n \n 15 - 17 Junho 2017,\n Corre\ufffd\ufffdo de bug na fun\ufffd\ufffdo de atribui\ufffd\ufffdo de EXP, que n\ufffdo permitia receber valores negativos de EXP.\n-Implementa\ufffd\ufffdo da GPQ.\n\\ No newline at end of file\n+Implementa\ufffd\ufffdo da GPQ.\n+\n+18 Junho 2017,\n+Corre\ufffd\ufffdo de problema de concorr\ufffdncia referente \ufffds altera\ufffd\ufffdes nos rates do server.\n+Consertado bugs referentes ao comando \"level\", n\ufffdo reatribuindo rates apropriadamente.\n+\n+19 Junho 2017,\n+Consertado cupons n\ufffdo aparecendo apropriadamente na regi\ufffdo de buffs.\n+Consertado alguns problemas de concorr\ufffdncia com cupons.\n+Consertado alguns problemas de concorr\ufffdncia com character buffs.\n\\ No newline at end of file"}, {"sha": "225a2093d847cf0739130ba0e7808dacb92c1e08", "filename": "nbproject/private/private.xml", "status": "modified", "additions": 10, "deletions": 7, "changes": 17, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/nbproject/private/private.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/nbproject/private/private.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/nbproject/private/private.xml?ref=7f6d420cf142c94d9221bd8121012b926180b0d3", "patch": "@@ -12,15 +12,18 @@\n     </editor-bookmarks>\n     <open-files xmlns=\"http://www.netbeans.org/ns/projectui-open-files/2\">\n         <group>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/event/GuildQuest.js</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/npc/9040009.js</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/channel/handlers/ChangeMapHandler.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/npc/9040006.js</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/reactor/2006001.js</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/reactor/9208009.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/TimerManager.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/channel/handlers/PlayerLoggedinHandler.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/command/Commands.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/MapleStatEffect.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/Server.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/CouponWorker.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/MapleBuffStat.java</file>\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/constants/ServerConstants.java</file>\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/MapleCharacter.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/npc/9040001.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/MapleItemInformationProvider.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/inventory/MapleInventory.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/tools/MaplePacketCreator.java</file>\n         </group>\n     </open-files>\n </project-private>"}, {"sha": "d5571633fa4d33e1e6008a88b9a1d15541fad720", "filename": "scripts/npc/22000.js", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/scripts/npc/22000.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/scripts/npc/22000.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/22000.js?ref=7f6d420cf142c94d9221bd8121012b926180b0d3", "patch": "@@ -62,8 +62,11 @@ function action(mode, type, selection) {\n             cm.dispose();\n         }\n     } else if (status == 3) {\n-        if (cm.haveItem(4031801))\n+        if (cm.haveItem(4031801)) {\n             cm.gainItem(4031801, -1);\n+        } else {\n+            cm.gainMeso(-150);\n+        }\n         cm.warp(104000000);\n         cm.dispose();\n     }"}, {"sha": "7dae4312677989ef3800e79adfadf4c2ec621a3a", "filename": "scripts/npc/9040005.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/scripts/npc/9040005.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/scripts/npc/9040005.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9040005.js?ref=7f6d420cf142c94d9221bd8121012b926180b0d3", "patch": "@@ -25,7 +25,7 @@ function start() {\n \n function action(mode, type, selection) {\n \tif(mode == 1) {\n-\t\tcm.warp(990001100);\n+\t\tcm.warp(101030104);\n \t}\n \tcm.dispose();\n }"}, {"sha": "206a2c9e2b5b81eb2037a5bebecf0f4b7769066d", "filename": "src/client/MapleBuffStat.java", "status": "modified", "additions": 36, "deletions": 30, "changes": 66, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/src/client/MapleBuffStat.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/src/client/MapleBuffStat.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleBuffStat.java?ref=7f6d420cf142c94d9221bd8121012b926180b0d3", "patch": "@@ -22,42 +22,48 @@\n package client;\n \n public enum MapleBuffStat {\n-    //SLOW(0x1),\n-    MORPH(0x2),\n-    RECOVERY(0x4),\n-    MAPLE_WARRIOR(0x8),\n-    STANCE(0x10),\n-    SHARP_EYES(0x20),\n-    MANA_REFLECTION(0x40),\n-    //ALWAYS_RIGHT(0X80),\n+    //SLOW(0x1L),\n+    MORPH(0x2L),\n+    RECOVERY(0x4L),\n+    MAPLE_WARRIOR(0x8L),\n+    STANCE(0x10L),\n+    SHARP_EYES(0x20L),\n+    MANA_REFLECTION(0x40L),\n+    //ALWAYS_RIGHT(0X80L),\n     \n     //------ bgn EDITED SLOT (was unused before) --------\n     MAP_PROTECTION(0x100000000000000L),\n     //------ end EDITED SLOT ----------------------------\n     \n-    SHADOW_CLAW(0x100),\n-    INFINITY(0x200),\n-    HOLY_SHIELD(0x400),\n-    HAMSTRING(0x800),\n-    BLIND(0x1000),\n-    CONCENTRATE(0x2000),\n-     //4000\n-    ECHO_OF_HERO(0x8000),\n-    //10000\n-    GHOST_MORPH(0x20000),\n-    AURA(0x40000),\n-    CONFUSE(0x80000),\n-    //100000\n-    //200000\n-    //400000\n-    //800000\n-    //1000000\n-    //2000000\n-    //4000000\n-    BERSERK_FURY(0x8000000),\n-    DIVINE_BODY(0x10000000),\n+    SHADOW_CLAW(0x100L),\n+    INFINITY(0x200L),\n+    HOLY_SHIELD(0x400L),\n+    HAMSTRING(0x800L),\n+    BLIND(0x1000L),\n+    CONCENTRATE(0x2000L),\n+     //4000L\n+    ECHO_OF_HERO(0x8000L),\n+    //10000L\n+    GHOST_MORPH(0x20000L),\n+    AURA(0x40000L),\n+    CONFUSE(0x80000L),\n+    \n+    // ---- COUPON feature (was unused anyway) ----\n+    \n+    COUPON_EXP1(0x100000L),\n+    COUPON_EXP2(0x200000L),\n+    COUPON_EXP3(0x400000L),\n+    COUPON_EXP4(0x800000L),\n+    COUPON_DRP1(0x1000000L),\n+    COUPON_DRP2(0x2000000L),\n+    COUPON_DRP3(0x4000000L),\n+    \n+    // ---- end COUPON feature ----\n+    \n+    BERSERK_FURY(0x8000000L),\n+    DIVINE_BODY(0x10000000L),\n     SPARK(0x20000000L),\n-    //40000000\n+    //40000000L\n     FINALATTACK(0x80000000L),\n     BATTLESHIP(0xA00000040L), // weird one\n     WATK(0x100000000L),"}, {"sha": "71526e444fbea658e3d385e666f396c1b8be9bcd", "filename": "src/client/MapleCharacter.java", "status": "modified", "additions": 142, "deletions": 75, "changes": 217, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/src/client/MapleCharacter.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/src/client/MapleCharacter.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleCharacter.java?ref=7f6d420cf142c94d9221bd8121012b926180b0d3", "patch": "@@ -46,6 +46,8 @@\n import java.util.Map.Entry;\n import java.util.Set;\n //import java.util.TimeZone;\n+import java.util.concurrent.locks.ReentrantLock;\n+import java.util.concurrent.locks.Lock;\n import java.util.concurrent.ScheduledFuture;\n import java.util.concurrent.atomic.AtomicInteger;\n import java.util.regex.Pattern;\n@@ -257,6 +259,7 @@\n     private ScheduledFuture<?> expiretask;\n     private ScheduledFuture<?> recoveryTask;\n     private List<ScheduledFuture<?>> timers = new ArrayList<>();\n+    private Lock couponLock = new ReentrantLock();\n     private NumberFormat nf = new DecimalFormat(\"#,###,###,###\");\n     private ArrayList<Integer> excluded = new ArrayList<>();\n     private MonsterBook monsterbook;\n@@ -700,9 +703,9 @@ public void cancelAllBuffs(boolean disconnect) {\n         }\n     }\n \n-    public void cancelBuffStats(MapleBuffStat stat) {\n+    public synchronized void cancelBuffStats(MapleBuffStat stat) {\n         List<MapleBuffStat> buffStatList = Arrays.asList(stat);\n-        deregisterBuffStats(buffStatList);\n+        dropBuffStats(deregisterBuffStats(buffStatList));\n         cancelPlayerBuffs(buffStatList);\n     }\n \n@@ -789,7 +792,15 @@ public void cancelEffect(int itemId) {\n         cancelEffect(MapleItemInformationProvider.getInstance().getItemEffect(itemId), false, -1);\n     }\n \n-    public void cancelEffect(MapleStatEffect effect, boolean overwrite, long startTime) {\n+    public synchronized void cancelEffect(MapleStatEffect effect, boolean overwrite, long startTime) {\n+        cancelEffect(effect, overwrite, startTime, true);\n+    }\n+    \n+    private void cancelEffect(MapleStatEffect effect, boolean overwrite, long startTime, boolean firstCancel) {\n+        dropBuffStats(cancelEffectInternal(effect, overwrite, startTime));\n+    }\n+    \n+    private List<MapleBuffStatValueHolder> cancelEffectInternal(MapleStatEffect effect, boolean overwrite, long startTime) {\n         List<MapleBuffStat> buffstats;\n         if (!overwrite) {\n             buffstats = getBuffStats(effect, startTime);\n@@ -800,7 +811,7 @@ public void cancelEffect(MapleStatEffect effect, boolean overwrite, long startTi\n                 buffstats.add(statup.getLeft());\n             }\n         }\n-        deregisterBuffStats(buffstats);\n+        List<MapleBuffStatValueHolder> toCancel = deregisterBuffStats(buffstats);\n         if (effect.isMagicDoor()) {\n             if (!getDoors().isEmpty()) {\n                 MapleDoor door = getDoors().iterator().next();\n@@ -842,6 +853,8 @@ public void cancelEffect(MapleStatEffect effect, boolean overwrite, long startTi\n         if (!overwrite) {\n             cancelPlayerBuffs(buffstats);\n         }\n+        \n+        return toCancel;\n     }\n \n     public void cancelEffectFromBuffStat(MapleBuffStat stat) {\n@@ -1745,60 +1758,63 @@ public static void deleteWhereCharacterId(Connection con, String sql, int cid) t\n         }\n     }\n \n-    private void deregisterBuffStats(List<MapleBuffStat> stats) {\n-        synchronized (stats) {\n-            List<MapleBuffStatValueHolder> effectsToCancel = new ArrayList<>(stats.size());\n-            for (MapleBuffStat stat : stats) {\n-                MapleBuffStatValueHolder mbsvh = effects.get(stat);\n-                if (mbsvh != null) {\n-                    effects.remove(stat);\n-                    boolean addMbsvh = true;\n-                    for (MapleBuffStatValueHolder contained : effectsToCancel) {\n-                        if (mbsvh.startTime == contained.startTime && contained.effect == mbsvh.effect) {\n-                            addMbsvh = false;\n-                        }\n+    private void dropBuffStats(List<MapleBuffStatValueHolder> effectsToCancel) {\n+        for (MapleBuffStatValueHolder cancelEffectCancelTasks : effectsToCancel) {\n+            if (cancelEffectCancelTasks.schedule != null) {\n+                cancelEffectCancelTasks.schedule.cancel(false);\n+                this.cancelEffect(cancelEffectCancelTasks.effect, false, -1, false);\n+            }\n+        }\n+    }\n+    \n+    private List<MapleBuffStatValueHolder> deregisterBuffStats(List<MapleBuffStat> stats) {\n+        List<MapleBuffStatValueHolder> effectsToCancel = new ArrayList<>(stats.size());\n+        for (MapleBuffStat stat : stats) {\n+            MapleBuffStatValueHolder mbsvh = effects.get(stat);\n+            if (mbsvh != null) {\n+                effects.remove(stat);\n+                boolean addMbsvh = true;\n+                for (MapleBuffStatValueHolder contained : effectsToCancel) {\n+                    if (mbsvh.startTime == contained.startTime && contained.effect == mbsvh.effect) {\n+                        addMbsvh = false;\n                     }\n-                    if (addMbsvh) {\n-                        effectsToCancel.add(mbsvh);\n+                }\n+                if (addMbsvh) {\n+                    effectsToCancel.add(mbsvh);\n+                }\n+                if (stat == MapleBuffStat.RECOVERY) {\n+                    if (recoveryTask != null) {\n+                        recoveryTask.cancel(false);\n+                        recoveryTask = null;\n                     }\n-                    if (stat == MapleBuffStat.RECOVERY) {\n-                        if (recoveryTask != null) {\n-                            recoveryTask.cancel(false);\n-                            recoveryTask = null;\n-                        }\n-                    } else if (stat == MapleBuffStat.SUMMON || stat == MapleBuffStat.PUPPET) {\n-                        int summonId = mbsvh.effect.getSourceId();\n-                        \n-                        MapleSummon summon = summons.get(summonId);\n-                        if (summon != null) {\n-                            getMap().broadcastMessage(MaplePacketCreator.removeSummon(summon, true), summon.getPosition());\n-                            getMap().removeMapObject(summon);\n-                            removeVisibleMapObject(summon);\n-                            summons.remove(summonId);\n+                } else if (stat == MapleBuffStat.SUMMON || stat == MapleBuffStat.PUPPET) {\n+                    int summonId = mbsvh.effect.getSourceId();\n+\n+                    MapleSummon summon = summons.get(summonId);\n+                    if (summon != null) {\n+                        getMap().broadcastMessage(MaplePacketCreator.removeSummon(summon, true), summon.getPosition());\n+                        getMap().removeMapObject(summon);\n+                        removeVisibleMapObject(summon);\n+                        summons.remove(summonId);\n+                    }\n+                    if (summon.getSkill() == DarkKnight.BEHOLDER) {\n+                        if (beholderHealingSchedule != null) {\n+                            beholderHealingSchedule.cancel(false);\n+                            beholderHealingSchedule = null;\n                         }\n-                        if (summon.getSkill() == DarkKnight.BEHOLDER) {\n-                            if (beholderHealingSchedule != null) {\n-                                beholderHealingSchedule.cancel(false);\n-                                beholderHealingSchedule = null;\n-                            }\n-                            if (beholderBuffSchedule != null) {\n-                                beholderBuffSchedule.cancel(false);\n-                                beholderBuffSchedule = null;\n-                            }\n+                        if (beholderBuffSchedule != null) {\n+                            beholderBuffSchedule.cancel(false);\n+                            beholderBuffSchedule = null;\n                         }\n-                    } else if (stat == MapleBuffStat.DRAGONBLOOD) {\n-                        dragonBloodSchedule.cancel(false);\n-                        dragonBloodSchedule = null;\n                     }\n-                }\n-            }\n-            for (MapleBuffStatValueHolder cancelEffectCancelTasks : effectsToCancel) {\n-                if (cancelEffectCancelTasks.schedule != null) {\n-                    cancelEffectCancelTasks.schedule.cancel(false);\n-                    this.cancelEffect(cancelEffectCancelTasks.effect, false, -1);\n+                } else if (stat == MapleBuffStat.DRAGONBLOOD) {\n+                    dragonBloodSchedule.cancel(false);\n+                    dragonBloodSchedule = null;\n                 }\n             }\n         }\n+\n+        return effectsToCancel;\n     }\n \n     public void disableDoor() {\n@@ -2015,6 +2031,9 @@ public void expirationTask() {\n             expiretask = TimerManager.getInstance().register(new Runnable() {\n                 @Override\n                 public void run() {\n+                    MapleItemInformationProvider miip = MapleItemInformationProvider.getInstance();\n+                    boolean deletedCoupon = false;\n+                    \n                     long expiration, currenttime = System.currentTimeMillis();\n                     Set<Skill> keys = getSkills().keySet();\n                     for (Iterator<Skill> i = keys.iterator(); i.hasNext();) {\n@@ -2038,12 +2057,19 @@ public void run() {\n                             } else if (expiration != -1 && expiration < currenttime) {\n                                 client.announce(MaplePacketCreator.itemExpired(item.getItemId()));\n                                 toberemove.add(item);\n+                                if(miip.isRateCoupon(item.getItemId())) {\n+                                    deletedCoupon = true;\n+                                }\n                             }\n                         }\n                         for (Item item : toberemove) {\n                             MapleInventoryManipulator.removeFromSlot(client, inv.getType(), item.getPosition(), item.getQuantity(), true);\n                         }\n                         toberemove.clear();\n+                        \n+                        if(deletedCoupon) {\n+                            updateCouponRates();\n+                        }\n                     }\n                 }\n             }, 60000);\n@@ -2378,10 +2404,6 @@ public int getDojoStage() {\n         return new ArrayList<>(doors);\n     }\n \n-    public int getDropRate() {\n-        return dropRate;\n-    }\n-\n     public int getEnergyBar() {\n         return energybar;\n     }\n@@ -2405,6 +2427,38 @@ public int getGachaExp() {\n     public int getExpRate() {\n         return expRate;\n     }\n+    \n+    public int getCouponExpRate() {\n+        return expCoupon;\n+    }\n+    \n+    public int getRawExpRate() {\n+        return expRate / (expCoupon * client.getWorldServer().getExpRate());\n+    }\n+    \n+    public int getDropRate() {\n+        return dropRate;\n+    }\n+    \n+    public int getCouponDropRate() {\n+        return dropCoupon;\n+    }\n+    \n+    public int getRawDropRate() {\n+        return dropRate / (dropCoupon * client.getWorldServer().getDropRate());\n+    }\n+    \n+    public int getMesoRate() {\n+        return mesoRate;\n+    }\n+    \n+    public int getCouponMesoRate() {\n+        return mesoCoupon;\n+    }\n+    \n+    public int getRawMesoRate() {\n+        return mesoRate / (mesoCoupon * client.getWorldServer().getMesoRate());\n+    }\n \n     public int getFace() {\n         return face;\n@@ -2675,10 +2729,6 @@ public int getMerchantMeso() {\n         return merchantmeso;\n     }\n \n-    public int getMesoRate() {\n-        return mesoRate;\n-    }\n-\n     public int getMesosTraded() {\n         return mesosTraded;\n     }\n@@ -3511,12 +3561,12 @@ public void levelUp(boolean takeexp) {\n                 for (byte i = 1; i < 5; i++) {\n                     gainSlots(i, 4, true);\n                 }\n-            }\n-            \n-            this.yellowMessage(\"We see you reached level \" + level + \". Congratulations! As a token of your success, your inventory has been expanded a little bit.\");\n+                \n+                this.yellowMessage(\"You reached level \" + level + \". Congratulations! As a token of your success, your inventory has been expanded a little bit.\");\n+            }            \n         }\n         if (level % 20 == 0 && ServerConstants.USE_ADD_RATES_BY_LEVEL == true) { //For the drop & meso rate\n-            revertPlayerRates();\n+            revertLastPlayerRates();\n             setPlayerRates();\n             this.yellowMessage(\"You managed to get level \" + level + \"! Getting experience and items seems a little easier now, huh?\");\n         }\n@@ -3626,24 +3676,22 @@ private void levelUpMessages() {\n         }\n     }\n     \n-    public void setPlayerRates() {        \n+    public void setPlayerRates() {\n         this.expRate  *=  GameConstants.getPlayerBonusExpRate(this.level / 20);\n         this.mesoRate *= GameConstants.getPlayerBonusMesoRate(this.level / 20);\n         this.dropRate *= GameConstants.getPlayerBonusDropRate(this.level / 20);\n     }\n \n-    public void revertPlayerRates() {\n+    public void revertLastPlayerRates() {\n         this.expRate  /=  GameConstants.getPlayerBonusExpRate((this.level - 1) / 20);\n         this.mesoRate /= GameConstants.getPlayerBonusMesoRate((this.level - 1) / 20);\n         this.dropRate /= GameConstants.getPlayerBonusDropRate((this.level - 1) / 20);\n     }\n     \n-    public void revertWorldRates() {\n-        World worldz = Server.getInstance().getWorld(world);\n-\n-        this.expRate /= worldz.getExpRate();\n-        this.mesoRate /= worldz.getMesoRate();\n-        this.dropRate /= worldz.getDropRate();\n+    public void revertPlayerRates() {\n+        this.expRate  /=  GameConstants.getPlayerBonusExpRate(this.level / 20);\n+        this.mesoRate /= GameConstants.getPlayerBonusMesoRate(this.level / 20);\n+        this.dropRate /= GameConstants.getPlayerBonusDropRate(this.level / 20);\n     }\n     \n     public void setWorldRates() {\n@@ -3653,15 +3701,32 @@ public void setWorldRates() {\n         this.dropRate *= worldz.getDropRate();\n     }\n     \n-    public void revertCouponRates() {\n-        revertCouponsEffects();\n+    public void revertWorldRates() {\n+        World worldz = Server.getInstance().getWorld(world);\n+        this.expRate /= worldz.getExpRate();\n+        this.mesoRate /= worldz.getMesoRate();\n+        this.dropRate /= worldz.getDropRate();\n     }\n     \n-    public void setCouponRates() {\n+    private void setCouponRates() {\n         setActiveCoupons();\n         activateCouponsEffects();\n     }\n     \n+    private void revertCouponRates() {\n+        revertCouponsEffects();\n+    }\n+    \n+    public void updateCouponRates() {\n+        try {\n+            couponLock.lock();\n+            revertCouponRates();\n+            setCouponRates();\n+        } finally {\n+            couponLock.unlock();\n+        }\n+    }\n+    \n     public void resetPlayerRates() {\n         expRate = 1;\n         mesoRate = 1;\n@@ -4508,6 +4573,8 @@ public void run() {\n                 }, buffInterval, buffInterval);\n             }\n         } else if (effect.isRecovery()) {\n+            int healInterval = (ServerConstants.USE_ULTRA_RECOVERY) ? 2500 : 5000;\n+            \n             final byte heal = (byte) effect.getX();\n             recoveryTask = TimerManager.getInstance().register(new Runnable() {\n                 @Override\n@@ -4516,12 +4583,12 @@ public void run() {\n                     client.announce(MaplePacketCreator.showOwnRecovery(heal));\n                     getMap().broadcastMessage(MapleCharacter.this, MaplePacketCreator.showRecovery(id, heal), false);\n                 }\n-            }, 5000, 5000);\n+            }, healInterval, healInterval);\n         }\n         \n         //is it possible to maintain a list of statup effects of the same type concurrently? Pair<MapleBuffStat, Itemid>\n         for (Pair<MapleBuffStat, Integer> statup : effect.getStatups()) {\n-            effects.put(statup.getLeft(), new MapleBuffStatValueHolder(effect, starttime, schedule, statup.getRight().intValue()));\n+            effects.put(statup.getLeft(), new MapleBuffStatValueHolder(effect, starttime, schedule, statup.getRight()));\n         }\n         recalcLocalStats();\n     }"}, {"sha": "63c9ecff5788acb65d47a1468ea2d7078bbb8f25", "filename": "src/client/command/Commands.java", "status": "modified", "additions": 14, "deletions": 7, "changes": 21, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/src/client/command/Commands.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/src/client/command/Commands.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/Commands.java?ref=7f6d420cf142c94d9221bd8121012b926180b0d3", "patch": "@@ -522,19 +522,22 @@ public static boolean executePlayerCommand(MapleClient c, String[] sub, char hea\n                         \n \t\t\tplayer.yellowMessage(\"DROP RATE\");\n                         player.message(\">>Base DROP Rate: \" + c.getWorldServer().getDropRate() + \"x\");\n-                        player.message(\">>Your DROP Rate: \" + player.getDropRate() / c.getWorldServer().getDropRate() + \"x\");\n+                        player.message(\">>Your DROP Rate: \" + player.getRawDropRate() + \"x\");\n+                        if(player.getCouponDropRate() != 1) player.message(\">>Your Coupon DROP Rate: \" + player.getCouponDropRate() + \"x\");\n                         player.message(\">>------------------------------------------------\");\n \t\t\tplayer.message(\">>Total DROP Rate: \" + player.getDropRate() + \"x\");\n \n \t\t\tplayer.yellowMessage(\"MESO RATE\");\n \t\t\tplayer.message(\">>Base MESO Rate: \" + c.getWorldServer().getMesoRate() + \"x\");\n-                        player.message(\">>Your MESO Rate: \" + player.getMesoRate() / c.getWorldServer().getMesoRate() + \"x\");\n+                        player.message(\">>Your MESO Rate: \" + player.getRawMesoRate() + \"x\");\n+                        if(player.getCouponMesoRate() != 1) player.message(\">>Your Coupon MESO Rate: \" + player.getCouponMesoRate() + \"x\");\n                         player.message(\">>------------------------------------------------\");\n \t\t\tplayer.message(\">>Total MESO Rate: \" + player.getMesoRate() + \"x\");\n \n \t\t\tplayer.yellowMessage(\"EXP RATE\");\n \t\t\tplayer.message(\">>Base EXP Rate: \" + c.getWorldServer().getExpRate() + \"x\");\n-                        player.message(\">>Your EXP Rate: \" + player.getExpRate() / c.getWorldServer().getExpRate() + \"x\");\n+                        player.message(\">>Your EXP Rate: \" + player.getRawExpRate() + \"x\");\n+                        if(player.getCouponExpRate() != 1) player.message(\">>Your Coupon EXP Rate: \" + player.getCouponExpRate() + \"x\");\n                         player.message(\">>------------------------------------------------\");\n                         player.message(\">>Total EXP Rate: \" + player.getExpRate() + \"x\");\n \t\t\t/*if(c.getWorldServer().getExpRate() > ServerConstants.EXP_RATE) {\n@@ -1386,8 +1389,12 @@ else if (sub[0].equals(\"sp\")) {\n \t\t\t\treturn true;\n \t\t\t}\n                     \n-\t\t\tplayer.setLevel(Integer.parseInt(sub[1]) - 1);\n-\t\t\tplayer.loseExp(player.getExp(), false, false);\n+                        player.loseExp(player.getExp(), false, false);\n+                        \n+\t\t\tplayer.revertPlayerRates();\n+                        player.setLevel(Math.min(Integer.parseInt(sub[1]), player.getMaxLevel()) - 1);\n+                        player.setPlayerRates();\n+                        \n \t\t\tplayer.levelUp(false);\n \t\t} else if (sub[0].equals(\"levelpro\")) {\n                         if (sub.length < 2){\n@@ -1402,16 +1409,16 @@ else if (sub[0].equals(\"sp\")) {\n \t\t\tfinal String[] s = {\"setall\", String.valueOf(Short.MAX_VALUE)};\n \t\t\texecuteGMCommand(c, s, heading);\n                         player.loseExp(player.getExp(), false, false);\n+                        player.revertPlayerRates();\n \t\t\tplayer.setLevel(255);\n+                        player.setPlayerRates();\n \t\t\tplayer.setFame(13337);\n \t\t\tplayer.setMaxHp(30000);\n \t\t\tplayer.setMaxMp(30000);\n \t\t\tplayer.updateSingleStat(MapleStat.LEVEL, 255);\n \t\t\tplayer.updateSingleStat(MapleStat.FAME, 13337);\n \t\t\tplayer.updateSingleStat(MapleStat.MAXHP, 30000);\n \t\t\tplayer.updateSingleStat(MapleStat.MAXMP, 30000);\n-                        player.revertPlayerRates();\n-                        player.setPlayerRates();\n                         player.yellowMessage(\"Stats maxed out.\");\n \t\t} else if (sub[0].equals(\"maxskills\")) {\n \t\t\tfor (MapleData skill_ : MapleDataProviderFactory.getDataProvider(new File(System.getProperty(\"wzpath\") + \"/\" + \"String.wz\")).getData(\"Skill.img\").getChildren()) {"}, {"sha": "73c1e8028cf616f0350cff2f121c69535b95c5e7", "filename": "src/client/inventory/MapleInventory.java", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/src/client/inventory/MapleInventory.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/src/client/inventory/MapleInventory.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/inventory/MapleInventory.java?ref=7f6d420cf142c94d9221bd8121012b926180b0d3", "patch": "@@ -199,17 +199,15 @@ public void addSlot(short slot, Item item) {\n         inventory.put(slot, item);\n         \n         if(MapleItemInformationProvider.getInstance().isRateCoupon(item.getItemId())) {\n-            owner.revertCouponRates();\n-            owner.setCouponRates();\n+            owner.updateCouponRates();\n         }\n     }\n     \n     public void removeSlot(short slot) {\n         Item item = inventory.remove(slot);\n         \n         if(item != null && MapleItemInformationProvider.getInstance().isRateCoupon(item.getItemId())) {\n-            owner.revertCouponRates();\n-            owner.setCouponRates();\n+            owner.updateCouponRates();\n         }\n     }\n "}, {"sha": "226d0b1e73145460336fd03cfb79dbd9351b3aaa", "filename": "src/constants/ServerConstants.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/src/constants/ServerConstants.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/src/constants/ServerConstants.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/constants/ServerConstants.java?ref=7f6d420cf142c94d9221bd8121012b926180b0d3", "patch": "@@ -39,7 +39,7 @@\n     public static final boolean USE_DEBUG_SHOW_INFO_EQPEXP = false;     //Prints on the cmd all equip exp gain info.\n     public static final boolean USE_MTS = false;\n     public static final boolean USE_FAMILY_SYSTEM = false;\n-    public static final boolean USE_PERMISSIVE_BUFFS = true;    //WARNING: Allows players that does not have increased certain buff-type skills to use it's effect. Used mainly on buff-cast commands, however making this active may generate a source for possible client-edited exploits.\n+    public static final boolean USE_PERMISSIVE_BUFFS = false;    //WARNING: Allows players that does not have increased certain buff-type skills to use it's effect. Used mainly on buff-cast commands, however making this active may generate a source for possible client-edited exploits.\n     public static final boolean USE_DUEY = true;\n     public static final boolean USE_ITEM_SORT = true;\n     public static final boolean USE_ITEM_SORT_BY_NAME = false;  //Item sorting based on name rather than id."}, {"sha": "cc1f1c792160ad296df329e1cf501b74ef35b2b6", "filename": "src/net/server/CouponWorker.java", "status": "modified", "additions": 3, "deletions": 13, "changes": 16, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/src/net/server/CouponWorker.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/src/net/server/CouponWorker.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/CouponWorker.java?ref=7f6d420cf142c94d9221bd8121012b926180b0d3", "patch": "@@ -19,21 +19,11 @@\n     You should have received a copy of the GNU Affero General Public License\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n+\n package net.server;\n \n-import java.util.Calendar;\n-import java.util.LinkedList;\n-import java.util.List;\n-import java.sql.Connection;\n-import java.sql.PreparedStatement;\n-import java.sql.ResultSet;\n import java.sql.SQLException;\n-\n-import constants.ServerConstants;\n-import tools.DatabaseConnection;\n-\n-import net.server.world.World;\n-import client.MapleCharacter;\n+import tools.FilePrinter;\n \n /**\n  * @author Ronan\n@@ -46,7 +36,7 @@ public void run() {\n             Server.getInstance().updateActiveCoupons();\n             Server.getInstance().commitActiveCoupons();\n         } catch(SQLException sqle) {\n-            sqle.printStackTrace();\n+            FilePrinter.printError(FilePrinter.EXCEPTION_CAUGHT, \"Unexpected SQL error: \" + sqle.getMessage() + \"\\n\\n\");\n         }\n     }\n }"}, {"sha": "7bb5624a84c29e1b75e7666868cd8f8838fe863e", "filename": "src/net/server/Server.java", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/src/net/server/Server.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/src/net/server/Server.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/Server.java?ref=7f6d420cf142c94d9221bd8121012b926180b0d3", "patch": "@@ -167,8 +167,7 @@ public void commitActiveCoupons() {\n             for(MapleCharacter chr: world.getPlayerStorage().getAllCharacters()) {\n                 if(!chr.isLoggedin()) continue;\n \n-                chr.revertCouponRates();\n-                chr.setCouponRates();\n+                chr.updateCouponRates();\n             }\n         }\n     }"}, {"sha": "ce7e900d4809827ea02940519085385044a8bd3f", "filename": "src/net/server/channel/handlers/MesoDropHandler.java", "status": "modified", "additions": 16, "deletions": 16, "changes": 32, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/src/net/server/channel/handlers/MesoDropHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/src/net/server/channel/handlers/MesoDropHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/MesoDropHandler.java?ref=7f6d420cf142c94d9221bd8121012b926180b0d3", "patch": "@@ -32,21 +32,21 @@\n  * @author Matze\n  */\n public final class MesoDropHandler extends AbstractMaplePacketHandler {//FIX\n-    public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n-        MapleCharacter player = c.getPlayer();\n-        if (!player.isAlive()) {\n-            c.announce(MaplePacketCreator.enableActions());\n-            return;\n+        public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n+                MapleCharacter player = c.getPlayer();\n+                if (!player.isAlive()) {\n+                        c.announce(MaplePacketCreator.enableActions());\n+                        return;\n+                }\n+                if (!player.canDropMeso()){\n+                        player.announce(MaplePacketCreator.serverNotice(5, \"Fast meso drop has been patched, cut that out. ;)\"));\n+                        return;\n+                }\n+                slea.skip(4);\n+                int meso = slea.readInt();\n+                if (meso <= player.getMeso() && meso > 9 && meso < 50001) {\n+                        player.gainMeso(-meso, false, true, false);\n+                        player.getMap().spawnMesoDrop(meso, player.getPosition(), player, player, true, (byte) 2);\n+                }\n         }\n-        if (!player.canDropMeso()){\n-        \tplayer.announce(MaplePacketCreator.serverNotice(5, \"Fast meso drop has been patched, cut that out. ;)\"));\n-        \treturn;\n-        }\n-        slea.skip(4);\n-        int meso = slea.readInt();\n-        if (meso <= player.getMeso() && meso > 9 && meso < 50001) {\n-        \tplayer.gainMeso(-meso, false, true, false);\n-        \tplayer.getMap().spawnMesoDrop(meso, player.getPosition(), player, player, true, (byte) 2);\n-        }\n-    }\n }\n\\ No newline at end of file"}, {"sha": "94a2cb871815235b82801e227ba497d926ce0974", "filename": "src/net/server/channel/handlers/PlayerLoggedinHandler.java", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/src/net/server/channel/handlers/PlayerLoggedinHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/src/net/server/channel/handlers/PlayerLoggedinHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/PlayerLoggedinHandler.java?ref=7f6d420cf142c94d9221bd8121012b926180b0d3", "patch": "@@ -269,11 +269,10 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n         \n         if (player.getMap().getHPDec() > 0) player.resetHpDecreaseTask();\n         \n-        player.dispelBuffCoupons();\n         player.resetPlayerRates();\n         \n         if(ServerConstants.USE_ADD_RATES_BY_LEVEL == true) player.setPlayerRates();\n         player.setWorldRates();\n-        player.setCouponRates();\n+        player.updateCouponRates();\n     }\n }"}, {"sha": "f9416881d5ea4b852ba74808a31ab0a3ce781efd", "filename": "src/net/server/world/World.java", "status": "modified", "additions": 20, "deletions": 14, "changes": 34, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/src/net/server/world/World.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/src/net/server/world/World.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/world/World.java?ref=7f6d420cf142c94d9221bd8121012b926180b0d3", "patch": "@@ -32,9 +32,10 @@\n import java.sql.PreparedStatement;\n import java.sql.SQLException;\n import java.util.ArrayList;\n+import java.util.LinkedList;\n+import java.util.List;\n import java.util.HashMap;\n import java.util.LinkedHashMap;\n-import java.util.List;\n import java.util.Map;\n import java.util.concurrent.atomic.AtomicInteger;\n import java.util.Set;\n@@ -114,12 +115,15 @@ public int getExpRate() {\n     }\n \n     public void setExpRate(int exp) {\n-    \t//System.out.println(\"Setting server EXP Rate to \" + exp * ServerConstants.EXP_RATE + \"x.\");\n-        for(MapleCharacter chr : getPlayerStorage().getAllCharacters()) {\n+        List<MapleCharacter> list = new LinkedList<>(getPlayerStorage().getAllCharacters());\n+        \n+        for(MapleCharacter chr : list) {\n+            if(!chr.isLoggedin()) continue;\n             chr.revertWorldRates();\n \t}\n         this.exprate = exp;\n-        for(MapleCharacter chr : getPlayerStorage().getAllCharacters()) {\n+        for(MapleCharacter chr : list) {\n+            if(!chr.isLoggedin()) continue;\n             chr.setWorldRates();\n         }\n     }\n@@ -129,11 +133,15 @@ public int getDropRate() {\n     }\n \n     public void setDropRate(int drop) {\n-        for(MapleCharacter chr : getPlayerStorage().getAllCharacters()) {\n+        List<MapleCharacter> list = new LinkedList<>(getPlayerStorage().getAllCharacters());\n+        \n+        for(MapleCharacter chr : list) {\n+            if(!chr.isLoggedin()) continue;\n             chr.revertWorldRates();\n \t}\n         this.droprate = drop;\n-        for(MapleCharacter chr : getPlayerStorage().getAllCharacters()) {\n+        for(MapleCharacter chr : list) {\n+            if(!chr.isLoggedin()) continue;\n             chr.setWorldRates();\n         }\n     }\n@@ -143,11 +151,15 @@ public int getMesoRate() {\n     }\n \n     public void setMesoRate(int meso) {\n-        for(MapleCharacter chr : getPlayerStorage().getAllCharacters()) {\n+        List<MapleCharacter> list = new LinkedList<>(getPlayerStorage().getAllCharacters());\n+        \n+        for(MapleCharacter chr : list) {\n+            if(!chr.isLoggedin()) continue;\n             chr.revertWorldRates();\n \t}\n         this.mesorate = meso;\n-        for(MapleCharacter chr : getPlayerStorage().getAllCharacters()) {\n+        for(MapleCharacter chr : list) {\n+            if(!chr.isLoggedin()) continue;\n             chr.setWorldRates();\n         }\n     }\n@@ -157,13 +169,7 @@ public int getBossDropRate() {\n     }\n     \n     public void setBossDropRate(int bossdrop) {\n-        for(MapleCharacter chr : getPlayerStorage().getAllCharacters()) {\n-            chr.revertWorldRates();\n-\t}\n         this.bossdroprate = bossdrop;\n-        for(MapleCharacter chr : getPlayerStorage().getAllCharacters()) {\n-            chr.setWorldRates();\n-        }\n     }\n \n     public PlayerStorage getPlayerStorage() {"}, {"sha": "d9c2fb77e8cff4c6e5cfe2eba89a9570ebfe2e11", "filename": "src/server/MapleStatEffect.java", "status": "modified", "additions": 39, "deletions": 1, "changes": 40, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/src/server/MapleStatEffect.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/src/server/MapleStatEffect.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/MapleStatEffect.java?ref=7f6d420cf142c94d9221bd8121012b926180b0d3", "patch": "@@ -223,6 +223,40 @@ private static MapleStatEffect loadFromData(MapleData source, int sourceid, bool\n             addBuffStatPairToListIfNotZero(statups, MapleBuffStat.JUMP, Integer.valueOf(ret.jump));\n             addBuffStatPairToListIfNotZero(statups, MapleBuffStat.PYRAMID_PQ, Integer.valueOf(ret.berserk));\n             addBuffStatPairToListIfNotZero(statups, MapleBuffStat.BOOSTER, Integer.valueOf(ret.booster));\n+            \n+            if(MapleItemInformationProvider.getInstance().isRateCoupon(sourceid)) {\n+                switch(MapleDataTool.getInt(\"expR\", source, 0)) {\n+                    case 1:\n+                        addBuffStatPairToListIfNotZero(statups, MapleBuffStat.COUPON_EXP1, 1);\n+                        break;\n+                        \n+                    case 2:\n+                        addBuffStatPairToListIfNotZero(statups, MapleBuffStat.COUPON_EXP2, 1);\n+                        break;\n+                            \n+                    case 3:\n+                        addBuffStatPairToListIfNotZero(statups, MapleBuffStat.COUPON_EXP3, 1);\n+                        break;\n+                                \n+                    case 4:\n+                        addBuffStatPairToListIfNotZero(statups, MapleBuffStat.COUPON_EXP4, 1);\n+                        break;\n+                }\n+                \n+                switch(MapleDataTool.getInt(\"drpR\", source, 0)) {\n+                    case 1:\n+                        addBuffStatPairToListIfNotZero(statups, MapleBuffStat.COUPON_DRP1, 1);\n+                        break;\n+                        \n+                    case 2:\n+                        addBuffStatPairToListIfNotZero(statups, MapleBuffStat.COUPON_DRP2, 1);\n+                        break;\n+                            \n+                    case 3:\n+                        addBuffStatPairToListIfNotZero(statups, MapleBuffStat.COUPON_DRP3, 1);\n+                        break;\n+                }\n+            }\n         }\n         MapleData ltd = source.getChildByPath(\"lt\");\n         if (ltd != null) {\n@@ -928,7 +962,7 @@ public final void applyComboBuff(final MapleCharacter applyto, int combo) {\n     }\n \n     private void applyBuffEffect(MapleCharacter applyfrom, MapleCharacter applyto, boolean primary) {\n-        if (!isMonsterRiding()) {\n+        if (!isMonsterRiding() && !isCouponBuff()) {\n             applyto.cancelEffect(this, true, -1);\n         }\n \n@@ -1253,6 +1287,10 @@ private boolean isChakra() {\n         return skill && sourceid == ChiefBandit.CHAKRA;\n     }\n \n+    private boolean isCouponBuff() {\n+        return MapleItemInformationProvider.getInstance().isRateCoupon(sourceid);\n+    }\n+    \n     public boolean isMonsterRiding() {\n         return skill && (sourceid % 10000000 == 1004 || sourceid == Corsair.BATTLE_SHIP || sourceid == Beginner.SPACESHIP || sourceid == Noblesse.SPACESHIP\n                 || sourceid == Beginner.YETI_MOUNT1 || sourceid == Beginner.YETI_MOUNT2 || sourceid == Beginner.WITCH_BROOMSTICK || sourceid == Beginner.BALROG_MOUNT"}, {"sha": "704708b1447f8fc60487c0e4f39c154b96de1cc2", "filename": "wz/Item.wz/Cash/0521.img.xml", "status": "modified", "additions": 30, "deletions": 30, "changes": 60, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/wz/Item.wz/Cash/0521.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/wz/Item.wz/Cash/0521.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Item.wz/Cash/0521.img.xml?ref=7f6d420cf142c94d9221bd8121012b926180b0d3", "patch": "@@ -22,8 +22,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"2\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211004\">\n@@ -46,8 +46,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"1\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211005\">\n@@ -70,8 +70,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"1\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211006\">\n@@ -94,8 +94,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"1\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211007\">\n@@ -118,8 +118,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"1\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211008\">\n@@ -142,8 +142,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"1\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211009\">\n@@ -163,8 +163,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"1\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211010\">\n@@ -184,8 +184,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"1\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211011\">\n@@ -205,8 +205,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"1\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211012\">\n@@ -226,8 +226,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"1\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211013\">\n@@ -247,8 +247,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"1\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211014\">\n@@ -273,8 +273,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"2\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211015\">\n@@ -299,8 +299,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"2\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211016\">\n@@ -325,8 +325,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"2\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211017\">\n@@ -351,8 +351,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"2\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211018\">\n@@ -377,8 +377,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"2\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211037\">\n@@ -401,8 +401,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"1\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211038\">\n@@ -422,8 +422,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"1\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211039\">\n@@ -448,8 +448,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"2\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211040\">\n@@ -472,8 +472,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"1\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211041\">\n@@ -493,8 +493,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"1\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211042\">\n@@ -519,8 +519,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"2\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211043\">\n@@ -543,8 +543,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"1\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211044\">\n@@ -564,8 +564,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"1\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211045\">\n@@ -590,8 +590,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"2\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211046\">\n@@ -616,8 +616,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"3\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211048\">\n@@ -642,8 +642,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"3\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211049\">\n@@ -668,8 +668,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"3\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211052\">\n@@ -695,8 +695,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"3\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05211060\">\n@@ -722,8 +722,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"expR\" value=\"4\"/>\n     </imgdir>\n   </imgdir>\n </imgdir>"}, {"sha": "fc50cd2174e94c04619cd8336cbc6d993452e872", "filename": "wz/Item.wz/Cash/0536.img.xml", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7f6d420cf142c94d9221bd8121012b926180b0d3/wz/Item.wz/Cash/0536.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7f6d420cf142c94d9221bd8121012b926180b0d3/wz/Item.wz/Cash/0536.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Item.wz/Cash/0536.img.xml?ref=7f6d420cf142c94d9221bd8121012b926180b0d3", "patch": "@@ -22,8 +22,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"drpR\" value=\"1\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05360001\">\n@@ -48,8 +48,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"drpR\" value=\"2\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05360002\">\n@@ -74,8 +74,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"drpR\" value=\"2\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05360003\">\n@@ -100,8 +100,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"drpR\" value=\"2\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05360004\">\n@@ -126,8 +126,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"drpR\" value=\"2\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05360005\">\n@@ -152,8 +152,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"drpR\" value=\"2\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05360006\">\n@@ -178,8 +178,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"drpR\" value=\"2\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05360007\">\n@@ -204,8 +204,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"drpR\" value=\"2\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05360008\">\n@@ -230,8 +230,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"drpR\" value=\"2\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"05360042\">\n@@ -256,8 +256,8 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"spec\">\n-      <int name=\"pad\" value=\"5\"/>\n       <int name=\"time\" value=\"2100000\"/>\n+      <int name=\"drpR\" value=\"3\"/>\n     </imgdir>\n   </imgdir>\n </imgdir>"}]}]},
