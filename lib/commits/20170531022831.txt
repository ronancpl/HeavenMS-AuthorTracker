{"fetchDate": "2019-12-19", "content": [{"sha": "f30acb3b8addb3558f06c496cc955843ed70dd76", "node_id": "MDY6Q29tbWl0NDUwODIwMjM6ZjMwYWNiM2I4YWRkYjM1NThmMDZjNDk2Y2M5NTU4NDNlZDcwZGQ3Ng==", "commit": {"author": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2017-05-31T02:28:31Z"}, "committer": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2017-05-31T02:28:31Z"}, "message": "Active Coupon Buff\n\nAdded buff icons for active coupons the player has. Fixed a minor issue,\nintroduced on the last commit, that prevented coupons to become active\nautomatically.", "tree": {"sha": "cca120c37e87633f24422617d125b5f4391fb297", "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/trees/cca120c37e87633f24422617d125b5f4391fb297"}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/commits/f30acb3b8addb3558f06c496cc955843ed70dd76", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/f30acb3b8addb3558f06c496cc955843ed70dd76", "html_url": "https://github.com/ronancpl/HeavenMS/commit/f30acb3b8addb3558f06c496cc955843ed70dd76", "comments_url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/f30acb3b8addb3558f06c496cc955843ed70dd76/comments", "author": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e1c95352c808e47c852107a51a1f2cf3064fa5c7", "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/e1c95352c808e47c852107a51a1f2cf3064fa5c7", "html_url": "https://github.com/ronancpl/HeavenMS/commit/e1c95352c808e47c852107a51a1f2cf3064fa5c7"}], "stats": {"total": 875, "additions": 538, "deletions": 337}, "files": [{"sha": "53d8f13a70021fe51d172110c864b93c402fca64", "filename": "MapleCouponInstaller/build/built-jar.properties", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/MapleCouponInstaller/build/built-jar.properties", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/MapleCouponInstaller/build/built-jar.properties", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/MapleCouponInstaller/build/built-jar.properties?ref=f30acb3b8addb3558f06c496cc955843ed70dd76", "patch": "@@ -1,4 +1,4 @@\n-#Tue, 30 May 2017 01:30:51 -0300\n+#Tue, 30 May 2017 13:56:57 -0300\n \n \n C\\:\\\\Nexon\\\\MapleSolaxia\\\\MapleSolaxiaV2\\\\MapleCouponInstaller="}, {"sha": "95a12c9381c078e028da0dfb55e67a0049ba6e62", "filename": "MapleCouponInstaller/build/classes/maplecouponinstaller/MapleCouponInstaller.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/MapleCouponInstaller/build/classes/maplecouponinstaller/MapleCouponInstaller.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/MapleCouponInstaller/build/classes/maplecouponinstaller/MapleCouponInstaller.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/MapleCouponInstaller/build/classes/maplecouponinstaller/MapleCouponInstaller.class?ref=f30acb3b8addb3558f06c496cc955843ed70dd76"}, {"sha": "566be7833a15d18bc7e54431662afa6a61a5e626", "filename": "MapleCouponInstaller/dist/MapleCouponInstaller.jar", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/MapleCouponInstaller/dist/MapleCouponInstaller.jar", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/MapleCouponInstaller/dist/MapleCouponInstaller.jar", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/MapleCouponInstaller/dist/MapleCouponInstaller.jar?ref=f30acb3b8addb3558f06c496cc955843ed70dd76"}, {"sha": "27b105dcc9645d2beea51c2a86ec31756d447412", "filename": "MapleCouponInstaller/nbproject/private/private.xml", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/MapleCouponInstaller/nbproject/private/private.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/MapleCouponInstaller/nbproject/private/private.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/MapleCouponInstaller/nbproject/private/private.xml?ref=f30acb3b8addb3558f06c496cc955843ed70dd76", "patch": "@@ -2,6 +2,8 @@\n <project-private xmlns=\"http://www.netbeans.org/ns/project-private/1\">\n     <editor-bookmarks xmlns=\"http://www.netbeans.org/ns/editor-bookmarks/2\" lastBookmarkId=\"0\"/>\n     <open-files xmlns=\"http://www.netbeans.org/ns/projectui-open-files/2\">\n-        <group/>\n+        <group>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/MapleCouponInstaller/src/maplecouponinstaller/MapleCouponInstaller.java</file>\n+        </group>\n     </open-files>\n </project-private>"}, {"sha": "da42aab5a45289042dea91e94e56c449846ef969", "filename": "MapleCouponInstaller/src/maplecouponinstaller/MapleCouponInstaller.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/MapleCouponInstaller/src/maplecouponinstaller/MapleCouponInstaller.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/MapleCouponInstaller/src/maplecouponinstaller/MapleCouponInstaller.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/MapleCouponInstaller/src/maplecouponinstaller/MapleCouponInstaller.java?ref=f30acb3b8addb3558f06c496cc955843ed70dd76", "patch": "@@ -124,7 +124,7 @@ private static void processHourTimeString(String time) {\n     }\n     \n     private static void processDayTimeString(String time) {\n-        String day = time.substring(0, 2);\n+        String day = time.substring(0, 3);\n         int d = getDayOfWeek(day);\n         \n         activeDay |= (1 << d);"}, {"sha": "4ef345a40600cfbf773c2a49304f22cccb3f936b", "filename": "MobBookUpdate/build/built-jar.properties", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/MobBookUpdate/build/built-jar.properties", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/MobBookUpdate/build/built-jar.properties", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/MobBookUpdate/build/built-jar.properties?ref=f30acb3b8addb3558f06c496cc955843ed70dd76", "patch": "@@ -1,4 +1,4 @@\n-#Tue, 30 May 2017 01:30:16 -0300\n+#Tue, 30 May 2017 23:02:51 -0300\n \n \n C\\:\\\\Nexon\\\\MapleSolaxia\\\\MapleSolaxiaV2\\\\MobBookUpdate="}, {"sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391", "filename": "MobBookUpdate/build/classes/.netbeans_automatic_build", "status": "removed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e1c95352c808e47c852107a51a1f2cf3064fa5c7/MobBookUpdate/build/classes/.netbeans_automatic_build", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e1c95352c808e47c852107a51a1f2cf3064fa5c7/MobBookUpdate/build/classes/.netbeans_automatic_build", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/MobBookUpdate/build/classes/.netbeans_automatic_build?ref=e1c95352c808e47c852107a51a1f2cf3064fa5c7"}, {"sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391", "filename": "MobBookUpdate/build/classes/.netbeans_update_resources", "status": "removed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e1c95352c808e47c852107a51a1f2cf3064fa5c7/MobBookUpdate/build/classes/.netbeans_update_resources", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e1c95352c808e47c852107a51a1f2cf3064fa5c7/MobBookUpdate/build/classes/.netbeans_update_resources", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/MobBookUpdate/build/classes/.netbeans_update_resources?ref=e1c95352c808e47c852107a51a1f2cf3064fa5c7"}, {"sha": "838ae80eade98fb1df000519be157b4a61c260a4", "filename": "MobBookUpdate/build/classes/mobbookupdate/MobBookUpdate.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/MobBookUpdate/build/classes/mobbookupdate/MobBookUpdate.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/MobBookUpdate/build/classes/mobbookupdate/MobBookUpdate.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/MobBookUpdate/build/classes/mobbookupdate/MobBookUpdate.class?ref=f30acb3b8addb3558f06c496cc955843ed70dd76"}, {"sha": "71e2c391c70d09022d685133da59884569af0998", "filename": "MobBookUpdate/dist/MobBookUpdate.jar", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/MobBookUpdate/dist/MobBookUpdate.jar", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/MobBookUpdate/dist/MobBookUpdate.jar", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/MobBookUpdate/dist/MobBookUpdate.jar?ref=f30acb3b8addb3558f06c496cc955843ed70dd76"}, {"sha": "1028b0d504af4fb5c5ed3bdce87e70face1adf6b", "filename": "build/built-jar.properties", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/build/built-jar.properties", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/build/built-jar.properties", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/built-jar.properties?ref=f30acb3b8addb3558f06c496cc955843ed70dd76", "patch": "@@ -1,4 +1,4 @@\n-#Tue, 30 May 2017 13:12:05 -0300\n+#Tue, 30 May 2017 23:04:14 -0300\n \n \n C\\:\\\\Nexon\\\\MapleSolaxia\\\\MapleSolaxiaV2="}, {"sha": "11b2b3794ca89ecad131a8af43cc0e268ebda492", "filename": "build/classes/client/MapleCharacter$10.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter$10.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter$10.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$10.class?ref=f30acb3b8addb3558f06c496cc955843ed70dd76"}, {"sha": "486f2bceb609c66a49461f305c55ea100f02d8b9", "filename": "build/classes/client/MapleCharacter$11.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter$11.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter$11.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$11.class?ref=f30acb3b8addb3558f06c496cc955843ed70dd76"}, {"sha": "4a942f8f0da8027ba62000b20e759e1452a89349", "filename": "build/classes/client/MapleCharacter$12.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter$12.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter$12.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$12.class?ref=f30acb3b8addb3558f06c496cc955843ed70dd76"}, {"sha": "1283191ed37411a44e4f17a5e463df62d70ac1bb", "filename": "build/classes/client/MapleCharacter$13.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter$13.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter$13.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$13.class?ref=f30acb3b8addb3558f06c496cc955843ed70dd76"}, {"sha": "cf7a32871c31dfad8d5a863f876080df6357c922", "filename": "build/classes/client/MapleCharacter$14.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter$14.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter$14.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$14.class?ref=f30acb3b8addb3558f06c496cc955843ed70dd76"}, {"sha": "9a96b482f7b3ceb268b769c6508fc3702b27e5d6", "filename": "build/classes/client/MapleCharacter$15.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter$15.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter$15.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$15.class?ref=f30acb3b8addb3558f06c496cc955843ed70dd76"}, {"sha": "db985666bc8cd1b5400777dcdecb48961149b84d", "filename": "build/classes/client/MapleCharacter$16.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter$16.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter$16.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$16.class?ref=f30acb3b8addb3558f06c496cc955843ed70dd76"}, {"sha": "3fb6df0b3a09479f51c1fed2dfa4b5c29edeacd5", "filename": "build/classes/client/MapleCharacter$17.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter$17.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter$17.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$17.class?ref=f30acb3b8addb3558f06c496cc955843ed70dd76"}, {"sha": "83d0a90e7cf39bd256fb9a596cab12b2e043d2e2", "filename": "build/classes/client/MapleCharacter$18.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter$18.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter$18.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$18.class?ref=f30acb3b8addb3558f06c496cc955843ed70dd76"}, {"sha": "0287bdebef23b2f5e707f0f8e53b0dd449d33d5a", "filename": "build/classes/client/MapleCharacter$8.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter$8.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter$8.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$8.class?ref=f30acb3b8addb3558f06c496cc955843ed70dd76"}, {"sha": "b37a411076e01a39d6d025370d316aca0c95df83", "filename": "build/classes/client/MapleCharacter$9.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter$9.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter$9.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$9.class?ref=f30acb3b8addb3558f06c496cc955843ed70dd76"}, {"sha": "ff5e3169f13263c23a8378873ab9e1291d3bf5ca", "filename": "build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class?ref=f30acb3b8addb3558f06c496cc955843ed70dd76"}, {"sha": "4b9aecf967a68600e272b04fed03da6f8bf2ce62", "filename": "build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class?ref=f30acb3b8addb3558f06c496cc955843ed70dd76"}, {"sha": "2f2d704d972da21efdd1eea43dd5881435c3477f", "filename": "build/classes/client/MapleCharacter$SkillEntry.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter$SkillEntry.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter$SkillEntry.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$SkillEntry.class?ref=f30acb3b8addb3558f06c496cc955843ed70dd76"}, {"sha": "be4ceeae82d13997adad60c920a02dbd2a714c28", "filename": "build/classes/client/MapleCharacter.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/MapleCharacter.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter.class?ref=f30acb3b8addb3558f06c496cc955843ed70dd76"}, {"sha": "239c8bb30fbc28303f7e696287e8134f990520be", "filename": "build/classes/client/command/Commands.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/command/Commands.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/command/Commands.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/command/Commands.class?ref=f30acb3b8addb3558f06c496cc955843ed70dd76"}, {"sha": "eb321ded05602bf2c2034288efe319664c35c335", "filename": "build/classes/client/inventory/MapleInventory.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/inventory/MapleInventory.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/client/inventory/MapleInventory.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/inventory/MapleInventory.class?ref=f30acb3b8addb3558f06c496cc955843ed70dd76"}, {"sha": "6d9ce2a135944613f54e0bce3468fc43927aef8c", "filename": "build/classes/net/server/channel/handlers/PlayerLoggedinHandler$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/net/server/channel/handlers/PlayerLoggedinHandler$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/net/server/channel/handlers/PlayerLoggedinHandler$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/PlayerLoggedinHandler$1.class?ref=f30acb3b8addb3558f06c496cc955843ed70dd76"}, {"sha": "4e3ea583a02c0b30c19e18191da7eaf6856cdc1b", "filename": "build/classes/net/server/channel/handlers/PlayerLoggedinHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/net/server/channel/handlers/PlayerLoggedinHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/build/classes/net/server/channel/handlers/PlayerLoggedinHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/PlayerLoggedinHandler.class?ref=f30acb3b8addb3558f06c496cc955843ed70dd76"}, {"sha": "baa1b0ef2c4c256e0ca59a2cf2e01be6afc3ac9e", "filename": "dist/MapleSolaxia.jar", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/dist/MapleSolaxia.jar", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/dist/MapleSolaxia.jar", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/dist/MapleSolaxia.jar?ref=f30acb3b8addb3558f06c496cc955843ed70dd76"}, {"sha": "e3a41b04d6edbc697464faf43533c80b8cb72b74", "filename": "nbproject/private/private.xml", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/nbproject/private/private.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/nbproject/private/private.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/nbproject/private/private.xml?ref=f30acb3b8addb3558f06c496cc955843ed70dd76", "patch": "@@ -12,11 +12,7 @@\n     </editor-bookmarks>\n     <open-files xmlns=\"http://www.netbeans.org/ns/projectui-open-files/2\">\n         <group>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/Server.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/CouponWorker.java</file>\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/MapleCharacter.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/MapleClient.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/inventory/MapleInventory.java</file>\n         </group>\n     </open-files>\n </project-private>"}, {"sha": "0504bb3249e7463df48997f1dde1e013a1a8cc46", "filename": "sql/db_database.sql", "status": "modified", "additions": 40, "deletions": 40, "changes": 80, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/sql/db_database.sql", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/sql/db_database.sql", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/sql/db_database.sql?ref=f30acb3b8addb3558f06c496cc955843ed70dd76", "patch": "@@ -16324,46 +16324,46 @@ CREATE TABLE IF NOT EXISTS `nxcoupons` (\n ) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=41 ;\n \n INSERT INTO `nxcoupons` (`id`, `couponid`, `rate`, `activeday`, `starthour`, `endhour`) VALUES\n-(1,5211000,2,1,18,20),\n-(2,5211004,2,1,7,11),\n-(3,5211005,2,1,10,14),\n-(4,5211006,2,1,13,17),\n-(5,5211007,2,1,16,20),\n-(6,5211008,2,1,19,23),\n-(7,5211009,2,1,7,11),\n-(8,5211010,2,1,10,14),\n-(9,5211011,2,1,13,17),\n-(10,5211012,2,1,16,20),\n-(11,5211013,2,1,19,23),\n-(12,5211014,2,1,7,11),\n-(13,5211015,2,1,10,14),\n-(14,5211016,2,1,13,17),\n-(15,5211017,2,1,16,20),\n-(16,5211018,2,1,19,23),\n-(17,5211037,2,1,0,4),\n-(18,5211038,2,1,0,4),\n-(19,5211039,2,1,0,4),\n-(20,5211040,2,1,3,7),\n-(21,5211041,2,1,3,7),\n-(22,5211042,2,1,3,7),\n-(23,5211043,2,1,6,10),\n-(24,5211044,2,1,6,10),\n-(25,5211045,2,1,6,10),\n-(26,5211046,2,1,0,24),\n-(27,5211048,2,1,0,24),\n-(28,5211049,2,1,0,24),\n-(29,5211052,3,1,0,24),\n-(30,5211060,3,1,0,24),\n-(31,5360000,2,1,0,24),\n-(32,5360001,2,1,7,11),\n-(33,5360002,2,1,10,14),\n-(34,5360003,2,1,13,17),\n-(35,5360004,2,1,16,20),\n-(36,5360005,2,1,19,23),\n-(37,5360006,2,1,0,4),\n-(38,5360007,2,1,3,7),\n-(39,5360008,2,1,6,10),\n-(40,5360042,2,1,0,24);\n+(1,5211000,2,254,18,20),\n+(2,5211004,2,124,7,11),\n+(3,5211005,2,124,10,14),\n+(4,5211006,2,124,13,17),\n+(5,5211007,2,124,16,20),\n+(6,5211008,2,124,19,23),\n+(7,5211009,2,130,7,11),\n+(8,5211010,2,130,10,14),\n+(9,5211011,2,130,13,17),\n+(10,5211012,2,130,16,20),\n+(11,5211013,2,130,19,23),\n+(12,5211014,2,254,7,11),\n+(13,5211015,2,254,10,14),\n+(14,5211016,2,254,13,17),\n+(15,5211017,2,254,16,20),\n+(16,5211018,2,254,19,23),\n+(17,5211037,2,124,0,4),\n+(18,5211038,2,130,0,4),\n+(19,5211039,2,254,0,4),\n+(20,5211040,2,124,3,7),\n+(21,5211041,2,130,3,7),\n+(22,5211042,2,254,3,7),\n+(23,5211043,2,124,6,10),\n+(24,5211044,2,130,6,10),\n+(25,5211045,2,254,6,10),\n+(26,5211046,2,254,0,24),\n+(27,5211048,2,254,0,24),\n+(28,5211049,2,254,0,24),\n+(29,5211052,3,255,0,24),\n+(30,5211060,3,255,0,24),\n+(31,5360000,2,254,0,24),\n+(32,5360001,2,254,7,11),\n+(33,5360002,2,254,10,14),\n+(34,5360003,2,254,13,17),\n+(35,5360004,2,254,16,20),\n+(36,5360005,2,254,19,23),\n+(37,5360006,2,254,0,4),\n+(38,5360007,2,254,3,7),\n+(39,5360008,2,254,6,10),\n+(40,5360042,2,254,0,24);\n \n \n CREATE TABLE IF NOT EXISTS `pets` ("}, {"sha": "5309955ab0793b1c638f40ae2d2404bc261d37de", "filename": "src/client/MapleCharacter.java", "status": "modified", "additions": 48, "deletions": 11, "changes": 59, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/src/client/MapleCharacter.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/src/client/MapleCharacter.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleCharacter.java?ref=f30acb3b8addb3558f06c496cc955843ed70dd76", "patch": "@@ -1691,7 +1691,7 @@ public void dispelDebuffs() {\n     public void cancelAllDebuffs() {\n         diseases.clear();\n     }\n-\n+    \n     public void dispelSkill(int skillid) {\n         LinkedList<MapleBuffStatValueHolder> allBuffs = new LinkedList<>(effects.values());\n         for (MapleBuffStatValueHolder mbsvh : allBuffs) {\n@@ -3418,6 +3418,16 @@ public void setCouponRates() {\n         activateCouponsEffects();\n     }\n     \n+    public void resetPlayerRates() {\n+        expRate = 1;\n+        mesoRate = 1;\n+        dropRate = 1;\n+        \n+        expCoupon = 1;\n+        mesoCoupon = 1;\n+        dropCoupon = 1;\n+    }\n+    \n     private boolean isExpCoupon(int couponId) {\n         return couponId / 1000 == 5211;\n     }\n@@ -3436,6 +3446,8 @@ private void setDropCouponRate(int couponId, int couponQty) {\n     }\n     \n     private void revertCouponsEffects() {\n+        dispelBuffCoupons();\n+        \n         this.expRate /= this.expCoupon;\n         this.dropRate /= this.dropCoupon;\n         this.mesoRate /= this.mesoCoupon;\n@@ -3451,20 +3463,34 @@ private void activateCouponsEffects() {\n                 int couponId = coupon.getKey();\n                 int couponQty = coupon.getValue();\n \n+                commitBuffCoupon(couponId);\n                 if(isExpCoupon(couponId)) setExpCouponRate(couponId, couponQty);\n                 else setDropCouponRate(couponId, couponQty);\n             }\n         }\n         else {\n-            int maxExpRate = 1, maxDropRate = 1;\n+            int maxExpRate = 1, maxDropRate = 1, maxExpCouponId = -1, maxDropCouponId = -1;\n             \n             for(Entry<Integer,Integer> coupon: activeCoupons.entrySet()) {\n                 int couponId = coupon.getKey();\n \n-                if(isExpCoupon(couponId)) maxExpRate = Math.max(maxExpRate, getCouponMultiplier(couponId));\n-                else maxDropRate = Math.max(maxDropRate, getCouponMultiplier(couponId));\n+                if(isExpCoupon(couponId)) {\n+                    if(maxExpRate < getCouponMultiplier(couponId)) {\n+                        maxExpCouponId = couponId;\n+                        maxExpRate = getCouponMultiplier(couponId);\n+                    }\n+                }\n+                else {\n+                    if(maxDropRate < getCouponMultiplier(couponId)) {\n+                        maxDropCouponId = couponId;\n+                        maxDropRate = getCouponMultiplier(couponId);\n+                    }\n+                }\n             }\n             \n+            if(maxExpCouponId > -1) commitBuffCoupon(maxExpCouponId);\n+            if(maxDropCouponId > -1) commitBuffCoupon(maxDropCouponId);\n+            \n             this.expCoupon = maxExpRate;\n             this.dropCoupon = maxDropRate;\n             this.mesoCoupon = maxDropRate;\n@@ -3494,6 +3520,24 @@ private void setActiveCoupons() {\n             }\n         }\n     }\n+    \n+    private void commitBuffCoupon(int couponid) {\n+        if(!isLoggedin() || getCashShop().isOpened()) return;\n+        \n+        MapleStatEffect mse = MapleItemInformationProvider.getInstance().getItemEffect(couponid);\n+        mse.applyTo(this);\n+    }\n+    \n+    public void dispelBuffCoupons() {\n+        LinkedList<MapleBuffStatValueHolder> allBuffs = new LinkedList<>(effects.values());\n+        MapleItemInformationProvider ii = MapleItemInformationProvider.getInstance();\n+        \n+        for (MapleBuffStatValueHolder mbsvh : allBuffs) {\n+            if (ii.isRateCoupon(mbsvh.effect.getSourceId())) {\n+                cancelEffect(mbsvh.effect, false, mbsvh.startTime);\n+            }\n+        }\n+    }\n \n     public static MapleCharacter loadCharFromDB(int charid, MapleClient client, boolean channelserver) throws SQLException {\n         try {\n@@ -3817,13 +3861,6 @@ public static MapleCharacter loadCharFromDB(int charid, MapleClient client, bool\n             ret.maplemount.setTiredness(mounttiredness);\n             ret.maplemount.setActive(false);\n             \n-            if(ServerConstants.USE_ADD_RATES_BY_LEVEL == true) {\n-                ret.setPlayerRates();\n-            }\n-            \n-            ret.setWorldRates();\n-            ret.setCouponRates();\n-            \n             return ret;\n         } catch (SQLException | RuntimeException e) {\n             e.printStackTrace();"}, {"sha": "098aef3a001208a9470acfbcb319d899659e9efb", "filename": "src/client/SkillFactory.java", "status": "modified", "additions": 255, "deletions": 255, "changes": 510, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/src/client/SkillFactory.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/src/client/SkillFactory.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/SkillFactory.java?ref=f30acb3b8addb3558f06c496cc955843ed70dd76", "patch": "@@ -98,22 +98,22 @@ public static Skill getSkill(int id) {\n     }\n \n     public static void loadAllSkills() {\n-\t\tfinal MapleDataDirectoryEntry root = datasource.getRoot();\n-\t\tint skillid;    \n-\t\tfor (MapleDataFileEntry topDir : root.getFiles()) { // Loop thru jobs\n-\t\t    if (topDir.getName().length() <= 8) {\n-\t\t\tfor (MapleData data : datasource.getData(topDir.getName())) { // Loop thru each jobs\n-\t\t\t    if (data.getName().equals(\"skill\")) {\n-\t\t\t\tfor (MapleData data2 : data) { // Loop thru each jobs\n-\t\t\t\t    if (data2 != null) {\n-\t\t\t\t\tskillid = Integer.parseInt(data2.getName());\n-\t\t\t\t\tskills.put(skillid, loadFromData(skillid, data2));\n-\t\t\t\t    }\n-\t\t\t\t}\n-\t\t\t    }\n-\t\t\t}\n-\t\t    }\n-\t\t}                \n+        final MapleDataDirectoryEntry root = datasource.getRoot();\n+        int skillid;    \n+        for (MapleDataFileEntry topDir : root.getFiles()) { // Loop thru jobs\n+            if (topDir.getName().length() <= 8) {\n+                for (MapleData data : datasource.getData(topDir.getName())) { // Loop thru each jobs\n+                    if (data.getName().equals(\"skill\")) {\n+                        for (MapleData data2 : data) { // Loop thru each jobs\n+                            if (data2 != null) {\n+                                skillid = Integer.parseInt(data2.getName());\n+                                skills.put(skillid, loadFromData(skillid, data2));\n+                            }\n+                        }\n+                    }\n+                }\n+            }\n+        }\n     }\n     \n     private static Skill loadFromData(int id, MapleData data) {\n@@ -135,251 +135,251 @@ private static Skill loadFromData(int id, MapleData data) {\n             MapleData action_ = data.getChildByPath(\"action\");\n             boolean action = false;\n \t    if (action_ == null) {\n-\t\t\tif (data.getChildByPath(\"prepare/action\") != null) {\n-\t\t\t    action = true;\n-\t\t\t} else {\n-\t\t\t    switch (id) {\n-\t\t\t\tcase Gunslinger.INVISIBLE_SHOT:\n-\t\t\t\tcase Corsair.HYPNOTIZE:\n-\t\t\t\t    action = true;\n-\t\t\t\t    break;\n-\t\t\t    }\n-\t\t\t}\n+                if (data.getChildByPath(\"prepare/action\") != null) {\n+                    action = true;\n+                } else {\n+                    switch (id) {\n+                        case Gunslinger.INVISIBLE_SHOT:\n+                        case Corsair.HYPNOTIZE:\n+                            action = true;\n+                            break;\n+                    }\n+                }\n \t    } else {\n \t    \taction = true;\n \t    }\n \t    ret.action = action;\n-        MapleData hit = data.getChildByPath(\"hit\");\n-        MapleData ball = data.getChildByPath(\"ball\");\n-        isBuff = effect != null && hit == null && ball == null;\n-        isBuff |= action_ != null && MapleDataTool.getString(\"0\", action_, \"\").equals(\"alert2\");\n-        switch (id) {\n-            case Hero.RUSH:\n-            case Paladin.RUSH:\n-            case DarkKnight.RUSH:\n-            case DragonKnight.SACRIFICE:\n-            case FPMage.EXPLOSION:\n-            case FPMage.POISON_MIST:\n-            case Cleric.HEAL:\n-            case Ranger.MORTAL_BLOW:\n-            case Sniper.MORTAL_BLOW:\n-            case Assassin.DRAIN:\n-            case Hermit.SHADOW_WEB:\n-            case Bandit.STEAL:\n-            case Shadower.SMOKE_SCREEN:\n-            case SuperGM.HEAL_PLUS_DISPEL:\n-            case Hero.MONSTER_MAGNET:\n-            case Paladin.MONSTER_MAGNET:\n-            case DarkKnight.MONSTER_MAGNET:\n-            case Evan.ICE_BREATH:\n-            case Evan.FIRE_BREATH:\n-            case Gunslinger.RECOIL_SHOT:\n-            case Marauder.ENERGY_DRAIN:\n-            case BlazeWizard.FLAME_GEAR:\n-            case NightWalker.SHADOW_WEB:\n-            case NightWalker.POISON_BOMB:\n-            case NightWalker.VAMPIRE:\n-            case ChiefBandit.CHAKRA:\n-            case Evan.RECOVERY_AURA:\n-                isBuff = false;\n-                break;\n-            case Beginner.RECOVERY:\n-            case Beginner.NIMBLE_FEET:\n-            case Beginner.MONSTER_RIDER:\n-            case Beginner.ECHO_OF_HERO:\n-            case Swordsman.IRON_BODY:\n-            case Fighter.AXE_BOOSTER:\n-            case Fighter.POWER_GUARD:\n-            case Fighter.RAGE:\n-            case Fighter.SWORD_BOOSTER:\n-            case Crusader.ARMOR_CRASH:\n-            case Crusader.COMBO:\n-            case Hero.ENRAGE:\n-            case Hero.HEROS_WILL:\n-            case Hero.MAPLE_WARRIOR:\n-            case Hero.STANCE:\n-            case Page.BW_BOOSTER:\n-            case Page.POWER_GUARD:\n-            case Page.SWORD_BOOSTER:\n-            case Page.THREATEN:\n-            case WhiteKnight.BW_FIRE_CHARGE:\n-            case WhiteKnight.BW_ICE_CHARGE:\n-            case WhiteKnight.BW_LIT_CHARGE:\n-            case WhiteKnight.MAGIC_CRASH:\n-            case WhiteKnight.SWORD_FIRE_CHARGE:\n-            case WhiteKnight.SWORD_ICE_CHARGE:\n-            case WhiteKnight.SWORD_LIT_CHARGE:\n-            case Paladin.BW_HOLY_CHARGE:\n-            case Paladin.HEROS_WILL:\n-            case Paladin.MAPLE_WARRIOR:\n-            case Paladin.STANCE:\n-            case Paladin.SWORD_HOLY_CHARGE:\n-            case Spearman.HYPER_BODY:\n-            case Spearman.IRON_WILL:\n-            case Spearman.POLEARM_BOOSTER:\n-            case Spearman.SPEAR_BOOSTER:\n-            case DragonKnight.DRAGON_BLOOD:\n-            case DragonKnight.POWER_CRASH:\n-            case DarkKnight.AURA_OF_BEHOLDER:\n-            case DarkKnight.BEHOLDER:\n-            case DarkKnight.HEROS_WILL:\n-            case DarkKnight.HEX_OF_BEHOLDER:\n-            case DarkKnight.MAPLE_WARRIOR:\n-            case DarkKnight.STANCE:\n-            case Magician.MAGIC_GUARD:\n-            case Magician.MAGIC_ARMOR:\n-            case FPWizard.MEDITATION:\n-            case FPWizard.SLOW:\n-            case FPMage.SEAL:\n-            case FPMage.SPELL_BOOSTER:\n-            case FPArchMage.HEROS_WILL:\n-            case FPArchMage.INFINITY:\n-            case FPArchMage.MANA_REFLECTION:\n-            case FPArchMage.MAPLE_WARRIOR:\n-            case ILWizard.MEDITATION:\n-            case ILMage.SEAL:\n-            case ILWizard.SLOW:\n-            case ILMage.SPELL_BOOSTER:\n-            case ILArchMage.HEROS_WILL:                \n-            case ILArchMage.INFINITY:\n-            case ILArchMage.MANA_REFLECTION:\n-            case ILArchMage.MAPLE_WARRIOR:\n-            case Cleric.INVINCIBLE:\n-            case Cleric.BLESS:\n-            case Priest.DISPEL:\n-            case Priest.DOOM:\n-            case Priest.HOLY_SYMBOL:\n-            case Priest.MYSTIC_DOOR:\n-            case Bishop.HEROS_WILL:\n-            case Bishop.HOLY_SHIELD:\n-            case Bishop.INFINITY:\n-            case Bishop.MANA_REFLECTION:\n-            case Bishop.MAPLE_WARRIOR:\n-            case Archer.FOCUS:\n-            case Hunter.BOW_BOOSTER:\n-            case Hunter.SOUL_ARROW:\n-            case Ranger.PUPPET:\n-            case Bowmaster.CONCENTRATE:\n-            case Bowmaster.HEROS_WILL:\n-            case Bowmaster.MAPLE_WARRIOR:\n-            case Bowmaster.SHARP_EYES:\n-            case Crossbowman.CROSSBOW_BOOSTER:\n-            case Crossbowman.SOUL_ARROW:\n-            case Sniper.PUPPET:\n-            case Marksman.BLIND:\n-            case Marksman.HEROS_WILL:\n-            case Marksman.MAPLE_WARRIOR:\n-            case Marksman.SHARP_EYES:\n-            case Rogue.DARK_SIGHT:\n-            case Assassin.CLAW_BOOSTER:\n-            case Assassin.HASTE:\n-            case Hermit.MESO_UP:\n-            case Hermit.SHADOW_PARTNER:\n-            case NightLord.HEROS_WILL:\n-            case NightLord.MAPLE_WARRIOR:\n-            case NightLord.NINJA_AMBUSH:\n-            case NightLord.SHADOW_STARS:\n-            case Bandit.DAGGER_BOOSTER:\n-            case Bandit.HASTE:\n-            case ChiefBandit.MESO_GUARD:\n-            case ChiefBandit.PICKPOCKET:              \t\n-            case Shadower.HEROS_WILL:\n-            case Shadower.MAPLE_WARRIOR:\n-            case Shadower.NINJA_AMBUSH:\n-            case Pirate.DASH:\n-            case Marauder.TRANSFORMATION:\n-            case Buccaneer.SUPER_TRANSFORMATION:\n-            case Corsair.BATTLE_SHIP:\n-            case GM.HIDE:\n-            case SuperGM.HASTE:\n-            case SuperGM.HOLY_SYMBOL:\n-            case SuperGM.BLESS:\n-            case SuperGM.HIDE:\n-            case SuperGM.HYPER_BODY:\n-            case Noblesse.BLESSING_OF_THE_FAIRY:\n-            case Noblesse.ECHO_OF_HERO:\n-            case Noblesse.MONSTER_RIDER:\n-            case Noblesse.NIMBLE_FEET:\n-            case Noblesse.RECOVERY:\n-            case DawnWarrior.COMBO:\n-            case DawnWarrior.FINAL_ATTACK:\n-            case DawnWarrior.IRON_BODY:\n-            case DawnWarrior.RAGE:\n-            case DawnWarrior.SOUL:\n-            case DawnWarrior.SOUL_CHARGE:\n-            case DawnWarrior.SWORD_BOOSTER:\n-            case BlazeWizard.ELEMENTAL_RESET:\n-            case BlazeWizard.FLAME:\n-            case BlazeWizard.IFRIT:\n-            case BlazeWizard.MAGIC_ARMOR:\n-            case BlazeWizard.MAGIC_GUARD:\n-            case BlazeWizard.MEDITATION:\n-            case BlazeWizard.SEAL:\n-            case BlazeWizard.SLOW:\n-            case BlazeWizard.SPELL_BOOSTER:\n-            case WindArcher.BOW_BOOSTER:\n-            case WindArcher.EAGLE_EYE:\n-            case WindArcher.FINAL_ATTACK:\n-            case WindArcher.FOCUS:\n-            case WindArcher.PUPPET:\n-            case WindArcher.SOUL_ARROW:\n-            case WindArcher.STORM:\n-            case WindArcher.WIND_WALK:\n-            case NightWalker.CLAW_BOOSTER:\n-            case NightWalker.DARKNESS:\n-            case NightWalker.DARK_SIGHT:\n-            case NightWalker.HASTE:\n-            case NightWalker.SHADOW_PARTNER:\n-            case ThunderBreaker.DASH:\n-            case ThunderBreaker.ENERGY_CHARGE:\n-            case ThunderBreaker.ENERGY_DRAIN:\n-            case ThunderBreaker.KNUCKLER_BOOSTER:\n-            case ThunderBreaker.LIGHTNING:\n-            case ThunderBreaker.SPARK:\n-            case ThunderBreaker.LIGHTNING_CHARGE:\n-            case ThunderBreaker.SPEED_INFUSION:\n-            case ThunderBreaker.TRANSFORMATION:\n-            case Legend.BLESSING_OF_THE_FAIRY:\n-            case Legend.AGILE_BODY:\n-            case Legend.ECHO_OF_HERO:\n-            case Legend.RECOVERY:\n-            case Legend.MONSTER_RIDER:\n-            case Aran.MAPLE_WARRIOR:\n-            case Aran.HEROS_WILL:\n-            case Aran.POLEARM_BOOSTER:\n-            case Aran.COMBO_DRAIN:\n-            case Aran.SNOW_CHARGE:\n-            case Aran.BODY_PRESSURE:\n-            case Aran.SMART_KNOCKBACK:\n-            case Aran.COMBO_BARRIER:\n-            case Aran.COMBO_ABILITY:\n-            case Evan.BLESSING_OF_THE_FAIRY:\n-            case Evan.RECOVERY:\n-            case Evan.NIMBLE_FEET:\n-            case Evan.HEROS_WILL:\n-            case Evan.ECHO_OF_HERO:\n-            case Evan.MAGIC_BOOSTER:\n-            case Evan.MAGIC_GUARD:\n-            case Evan.ELEMENTAL_RESET:\n-            case Evan.MAPLE_WARRIOR:\n-            case Evan.MAGIC_RESISTANCE:\n-            case Evan.MAGIC_SHIELD:\n-            case Evan.SLOW:\n-                isBuff = true;\n-                break;\n+            MapleData hit = data.getChildByPath(\"hit\");\n+            MapleData ball = data.getChildByPath(\"ball\");\n+            isBuff = effect != null && hit == null && ball == null;\n+            isBuff |= action_ != null && MapleDataTool.getString(\"0\", action_, \"\").equals(\"alert2\");\n+            switch (id) {\n+                case Hero.RUSH:\n+                case Paladin.RUSH:\n+                case DarkKnight.RUSH:\n+                case DragonKnight.SACRIFICE:\n+                case FPMage.EXPLOSION:\n+                case FPMage.POISON_MIST:\n+                case Cleric.HEAL:\n+                case Ranger.MORTAL_BLOW:\n+                case Sniper.MORTAL_BLOW:\n+                case Assassin.DRAIN:\n+                case Hermit.SHADOW_WEB:\n+                case Bandit.STEAL:\n+                case Shadower.SMOKE_SCREEN:\n+                case SuperGM.HEAL_PLUS_DISPEL:\n+                case Hero.MONSTER_MAGNET:\n+                case Paladin.MONSTER_MAGNET:\n+                case DarkKnight.MONSTER_MAGNET:\n+                case Evan.ICE_BREATH:\n+                case Evan.FIRE_BREATH:\n+                case Gunslinger.RECOIL_SHOT:\n+                case Marauder.ENERGY_DRAIN:\n+                case BlazeWizard.FLAME_GEAR:\n+                case NightWalker.SHADOW_WEB:\n+                case NightWalker.POISON_BOMB:\n+                case NightWalker.VAMPIRE:\n+                case ChiefBandit.CHAKRA:\n+                case Evan.RECOVERY_AURA:\n+                    isBuff = false;\n+                    break;\n+                case Beginner.RECOVERY:\n+                case Beginner.NIMBLE_FEET:\n+                case Beginner.MONSTER_RIDER:\n+                case Beginner.ECHO_OF_HERO:\n+                case Swordsman.IRON_BODY:\n+                case Fighter.AXE_BOOSTER:\n+                case Fighter.POWER_GUARD:\n+                case Fighter.RAGE:\n+                case Fighter.SWORD_BOOSTER:\n+                case Crusader.ARMOR_CRASH:\n+                case Crusader.COMBO:\n+                case Hero.ENRAGE:\n+                case Hero.HEROS_WILL:\n+                case Hero.MAPLE_WARRIOR:\n+                case Hero.STANCE:\n+                case Page.BW_BOOSTER:\n+                case Page.POWER_GUARD:\n+                case Page.SWORD_BOOSTER:\n+                case Page.THREATEN:\n+                case WhiteKnight.BW_FIRE_CHARGE:\n+                case WhiteKnight.BW_ICE_CHARGE:\n+                case WhiteKnight.BW_LIT_CHARGE:\n+                case WhiteKnight.MAGIC_CRASH:\n+                case WhiteKnight.SWORD_FIRE_CHARGE:\n+                case WhiteKnight.SWORD_ICE_CHARGE:\n+                case WhiteKnight.SWORD_LIT_CHARGE:\n+                case Paladin.BW_HOLY_CHARGE:\n+                case Paladin.HEROS_WILL:\n+                case Paladin.MAPLE_WARRIOR:\n+                case Paladin.STANCE:\n+                case Paladin.SWORD_HOLY_CHARGE:\n+                case Spearman.HYPER_BODY:\n+                case Spearman.IRON_WILL:\n+                case Spearman.POLEARM_BOOSTER:\n+                case Spearman.SPEAR_BOOSTER:\n+                case DragonKnight.DRAGON_BLOOD:\n+                case DragonKnight.POWER_CRASH:\n+                case DarkKnight.AURA_OF_BEHOLDER:\n+                case DarkKnight.BEHOLDER:\n+                case DarkKnight.HEROS_WILL:\n+                case DarkKnight.HEX_OF_BEHOLDER:\n+                case DarkKnight.MAPLE_WARRIOR:\n+                case DarkKnight.STANCE:\n+                case Magician.MAGIC_GUARD:\n+                case Magician.MAGIC_ARMOR:\n+                case FPWizard.MEDITATION:\n+                case FPWizard.SLOW:\n+                case FPMage.SEAL:\n+                case FPMage.SPELL_BOOSTER:\n+                case FPArchMage.HEROS_WILL:\n+                case FPArchMage.INFINITY:\n+                case FPArchMage.MANA_REFLECTION:\n+                case FPArchMage.MAPLE_WARRIOR:\n+                case ILWizard.MEDITATION:\n+                case ILMage.SEAL:\n+                case ILWizard.SLOW:\n+                case ILMage.SPELL_BOOSTER:\n+                case ILArchMage.HEROS_WILL:                \n+                case ILArchMage.INFINITY:\n+                case ILArchMage.MANA_REFLECTION:\n+                case ILArchMage.MAPLE_WARRIOR:\n+                case Cleric.INVINCIBLE:\n+                case Cleric.BLESS:\n+                case Priest.DISPEL:\n+                case Priest.DOOM:\n+                case Priest.HOLY_SYMBOL:\n+                case Priest.MYSTIC_DOOR:\n+                case Bishop.HEROS_WILL:\n+                case Bishop.HOLY_SHIELD:\n+                case Bishop.INFINITY:\n+                case Bishop.MANA_REFLECTION:\n+                case Bishop.MAPLE_WARRIOR:\n+                case Archer.FOCUS:\n+                case Hunter.BOW_BOOSTER:\n+                case Hunter.SOUL_ARROW:\n+                case Ranger.PUPPET:\n+                case Bowmaster.CONCENTRATE:\n+                case Bowmaster.HEROS_WILL:\n+                case Bowmaster.MAPLE_WARRIOR:\n+                case Bowmaster.SHARP_EYES:\n+                case Crossbowman.CROSSBOW_BOOSTER:\n+                case Crossbowman.SOUL_ARROW:\n+                case Sniper.PUPPET:\n+                case Marksman.BLIND:\n+                case Marksman.HEROS_WILL:\n+                case Marksman.MAPLE_WARRIOR:\n+                case Marksman.SHARP_EYES:\n+                case Rogue.DARK_SIGHT:\n+                case Assassin.CLAW_BOOSTER:\n+                case Assassin.HASTE:\n+                case Hermit.MESO_UP:\n+                case Hermit.SHADOW_PARTNER:\n+                case NightLord.HEROS_WILL:\n+                case NightLord.MAPLE_WARRIOR:\n+                case NightLord.NINJA_AMBUSH:\n+                case NightLord.SHADOW_STARS:\n+                case Bandit.DAGGER_BOOSTER:\n+                case Bandit.HASTE:\n+                case ChiefBandit.MESO_GUARD:\n+                case ChiefBandit.PICKPOCKET:              \t\n+                case Shadower.HEROS_WILL:\n+                case Shadower.MAPLE_WARRIOR:\n+                case Shadower.NINJA_AMBUSH:\n+                case Pirate.DASH:\n+                case Marauder.TRANSFORMATION:\n+                case Buccaneer.SUPER_TRANSFORMATION:\n+                case Corsair.BATTLE_SHIP:\n+                case GM.HIDE:\n+                case SuperGM.HASTE:\n+                case SuperGM.HOLY_SYMBOL:\n+                case SuperGM.BLESS:\n+                case SuperGM.HIDE:\n+                case SuperGM.HYPER_BODY:\n+                case Noblesse.BLESSING_OF_THE_FAIRY:\n+                case Noblesse.ECHO_OF_HERO:\n+                case Noblesse.MONSTER_RIDER:\n+                case Noblesse.NIMBLE_FEET:\n+                case Noblesse.RECOVERY:\n+                case DawnWarrior.COMBO:\n+                case DawnWarrior.FINAL_ATTACK:\n+                case DawnWarrior.IRON_BODY:\n+                case DawnWarrior.RAGE:\n+                case DawnWarrior.SOUL:\n+                case DawnWarrior.SOUL_CHARGE:\n+                case DawnWarrior.SWORD_BOOSTER:\n+                case BlazeWizard.ELEMENTAL_RESET:\n+                case BlazeWizard.FLAME:\n+                case BlazeWizard.IFRIT:\n+                case BlazeWizard.MAGIC_ARMOR:\n+                case BlazeWizard.MAGIC_GUARD:\n+                case BlazeWizard.MEDITATION:\n+                case BlazeWizard.SEAL:\n+                case BlazeWizard.SLOW:\n+                case BlazeWizard.SPELL_BOOSTER:\n+                case WindArcher.BOW_BOOSTER:\n+                case WindArcher.EAGLE_EYE:\n+                case WindArcher.FINAL_ATTACK:\n+                case WindArcher.FOCUS:\n+                case WindArcher.PUPPET:\n+                case WindArcher.SOUL_ARROW:\n+                case WindArcher.STORM:\n+                case WindArcher.WIND_WALK:\n+                case NightWalker.CLAW_BOOSTER:\n+                case NightWalker.DARKNESS:\n+                case NightWalker.DARK_SIGHT:\n+                case NightWalker.HASTE:\n+                case NightWalker.SHADOW_PARTNER:\n+                case ThunderBreaker.DASH:\n+                case ThunderBreaker.ENERGY_CHARGE:\n+                case ThunderBreaker.ENERGY_DRAIN:\n+                case ThunderBreaker.KNUCKLER_BOOSTER:\n+                case ThunderBreaker.LIGHTNING:\n+                case ThunderBreaker.SPARK:\n+                case ThunderBreaker.LIGHTNING_CHARGE:\n+                case ThunderBreaker.SPEED_INFUSION:\n+                case ThunderBreaker.TRANSFORMATION:\n+                case Legend.BLESSING_OF_THE_FAIRY:\n+                case Legend.AGILE_BODY:\n+                case Legend.ECHO_OF_HERO:\n+                case Legend.RECOVERY:\n+                case Legend.MONSTER_RIDER:\n+                case Aran.MAPLE_WARRIOR:\n+                case Aran.HEROS_WILL:\n+                case Aran.POLEARM_BOOSTER:\n+                case Aran.COMBO_DRAIN:\n+                case Aran.SNOW_CHARGE:\n+                case Aran.BODY_PRESSURE:\n+                case Aran.SMART_KNOCKBACK:\n+                case Aran.COMBO_BARRIER:\n+                case Aran.COMBO_ABILITY:\n+                case Evan.BLESSING_OF_THE_FAIRY:\n+                case Evan.RECOVERY:\n+                case Evan.NIMBLE_FEET:\n+                case Evan.HEROS_WILL:\n+                case Evan.ECHO_OF_HERO:\n+                case Evan.MAGIC_BOOSTER:\n+                case Evan.MAGIC_GUARD:\n+                case Evan.ELEMENTAL_RESET:\n+                case Evan.MAPLE_WARRIOR:\n+                case Evan.MAGIC_RESISTANCE:\n+                case Evan.MAGIC_SHIELD:\n+                case Evan.SLOW:\n+                    isBuff = true;\n+                    break;\n+            }\n         }\n-    }\n-    \n-    for (MapleData level : data.getChildByPath(\"level\")) {\n-        ret.effects.add(MapleStatEffect.loadSkillEffectFromData(level, id, isBuff));\n-    }\n-    ret.animationTime = 0;\n-    if (effect != null) {\n-        for (MapleData effectEntry : effect) {\n-            ret.animationTime += MapleDataTool.getIntConvert(\"delay\", effectEntry, 0);\n+\n+        for (MapleData level : data.getChildByPath(\"level\")) {\n+            ret.effects.add(MapleStatEffect.loadSkillEffectFromData(level, id, isBuff));\n         }\n-    }\n-    return ret;\n+        ret.animationTime = 0;\n+        if (effect != null) {\n+            for (MapleData effectEntry : effect) {\n+                ret.animationTime += MapleDataTool.getIntConvert(\"delay\", effectEntry, 0);\n+            }\n+        }\n+        return ret;\n     }\n \n     public static String getSkillName(int skillid) {"}, {"sha": "bad9b2e329e86eb7782ec3e1a0424d395968c771", "filename": "src/client/inventory/MapleInventory.java", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/src/client/inventory/MapleInventory.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/src/client/inventory/MapleInventory.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/inventory/MapleInventory.java?ref=f30acb3b8addb3558f06c496cc955843ed70dd76", "patch": "@@ -199,7 +199,6 @@ public void addSlot(short slot, Item item) {\n         inventory.put(slot, item);\n         \n         if(MapleItemInformationProvider.getInstance().isRateCoupon(item.getItemId())) {\n-            System.out.println(\"reformulating\");\n             owner.revertCouponRates();\n             owner.setCouponRates();\n         }\n@@ -209,7 +208,6 @@ public void removeSlot(short slot) {\n         Item item = inventory.remove(slot);\n         \n         if(item != null && MapleItemInformationProvider.getInstance().isRateCoupon(item.getItemId())) {\n-            System.out.println(\"reformulating\");\n             owner.revertCouponRates();\n             owner.setCouponRates();\n         }"}, {"sha": "d0be625c8ff2d41279289af1f933ad0831b84cc8", "filename": "src/net/server/channel/handlers/PlayerLoggedinHandler.java", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/src/net/server/channel/handlers/PlayerLoggedinHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/src/net/server/channel/handlers/PlayerLoggedinHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/PlayerLoggedinHandler.java?ref=f30acb3b8addb3558f06c496cc955843ed70dd76", "patch": "@@ -50,6 +50,7 @@\n import client.inventory.MaplePet;\n import client.inventory.PetDataFactory;\n import constants.GameConstants;\n+import constants.ServerConstants;\n import java.util.concurrent.ScheduledFuture;\n import server.TimerManager;\n \n@@ -278,5 +279,12 @@ public void run() {\n             \n             mc.setHpDecreaseTask(hpDecreaseTask);\n         }\n+        \n+        player.dispelBuffCoupons();\n+        player.resetPlayerRates();\n+        \n+        if(ServerConstants.USE_ADD_RATES_BY_LEVEL == true) player.setPlayerRates();\n+        player.setWorldRates();\n+        player.setCouponRates();\n     }\n }"}, {"sha": "48441020c7a544eacfa8e1f6dcf9723e8d40cd71", "filename": "src/server/MapleInventoryManipulator.java", "status": "modified", "additions": 20, "deletions": 20, "changes": 40, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/src/server/MapleInventoryManipulator.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/src/server/MapleInventoryManipulator.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/MapleInventoryManipulator.java?ref=f30acb3b8addb3558f06c496cc955843ed70dd76", "patch": "@@ -275,29 +275,29 @@ public static void removeFromSlot(MapleClient c, MapleInventoryType type, short\n     }\n \n     public static void removeById(MapleClient c, MapleInventoryType type, int itemId, int quantity, boolean fromDrop, boolean consume) {\n-    int removeQuantity = quantity;\n-    MapleInventory inv = c.getPlayer().getInventory(type);\n+        int removeQuantity = quantity;\n+        MapleInventory inv = c.getPlayer().getInventory(type);\n \tint slotLimit = type == MapleInventoryType.EQUIPPED ? 128 : inv.getSlotLimit();\n \t\n-    for (short i = 0; i <= slotLimit; i++) {\n-    \tItem item = inv.getItem((short) (type == MapleInventoryType.EQUIPPED ? -i : i));\n-    \tif (item != null) {\n-    \t\tif (item.getItemId() == itemId || item.getCashId() == itemId) {        \t\t\n-\t            if (removeQuantity <= item.getQuantity()) {\n-\t                removeFromSlot(c, type, item.getPosition(), (short) removeQuantity, fromDrop, consume);\n-\t                removeQuantity = 0;\n-\t                break;\n-\t            } else {\n-\t                removeQuantity -= item.getQuantity();\n-\t                removeFromSlot(c, type, item.getPosition(), item.getQuantity(), fromDrop, consume);\n-\t            }\n-    \t\t}\n-    \t}\n-    }\n-    if (removeQuantity > 0) {\n-        throw new RuntimeException(\"[HACK] Not enough items available of Item:\" + itemId + \", Quantity (After Quantity/Over Current Quantity): \" + (quantity - removeQuantity) + \"/\" + quantity);\n+        for (short i = 0; i <= slotLimit; i++) {\n+            Item item = inv.getItem((short) (type == MapleInventoryType.EQUIPPED ? -i : i));\n+            if (item != null) {\n+                if (item.getItemId() == itemId || item.getCashId() == itemId) {\n+                    if (removeQuantity <= item.getQuantity()) {\n+                        removeFromSlot(c, type, item.getPosition(), (short) removeQuantity, fromDrop, consume);\n+                        removeQuantity = 0;\n+                        break;\n+                    } else {\n+                        removeQuantity -= item.getQuantity();\n+                        removeFromSlot(c, type, item.getPosition(), item.getQuantity(), fromDrop, consume);\n+                    }\n+                }\n+            }\n+        }\n+        if (removeQuantity > 0) {\n+            throw new RuntimeException(\"[HACK] Not enough items available of Item:\" + itemId + \", Quantity (After Quantity/Over Current Quantity): \" + (quantity - removeQuantity) + \"/\" + quantity);\n+        }\n     }\n-}\n \n     public static void move(MapleClient c, MapleInventoryType type, short src, short dst) {\n         if (src < 0 || dst < 0) {"}, {"sha": "7f1104f3b293d689e7735c910fce316fd4212d84", "filename": "wz/Item.wz/Cash/0521.img.xml", "status": "modified", "additions": 120, "deletions": 0, "changes": 120, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/wz/Item.wz/Cash/0521.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/wz/Item.wz/Cash/0521.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Item.wz/Cash/0521.img.xml?ref=f30acb3b8addb3558f06c496cc955843ed70dd76", "patch": "@@ -21,6 +21,10 @@\n         <string name=\"6\" value=\"SUN:18-20\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211004\">\n     <imgdir name=\"info\">\n@@ -41,6 +45,10 @@\n         <string name=\"4\" value=\"FRI:07-11\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211005\">\n     <imgdir name=\"info\">\n@@ -61,6 +69,10 @@\n         <string name=\"4\" value=\"FRI:10-14\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211006\">\n     <imgdir name=\"info\">\n@@ -81,6 +93,10 @@\n         <string name=\"4\" value=\"FRI:13-17\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211007\">\n     <imgdir name=\"info\">\n@@ -101,6 +117,10 @@\n         <string name=\"4\" value=\"FRI:16-20\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211008\">\n     <imgdir name=\"info\">\n@@ -121,6 +141,10 @@\n         <string name=\"4\" value=\"FRI:19-23\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211009\">\n     <imgdir name=\"info\">\n@@ -138,6 +162,10 @@\n         <string name=\"1\" value=\"SUN:07-11\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211010\">\n     <imgdir name=\"info\">\n@@ -155,6 +183,10 @@\n         <string name=\"1\" value=\"SUN:10-14\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211011\">\n     <imgdir name=\"info\">\n@@ -172,6 +204,10 @@\n         <string name=\"1\" value=\"SUN:13-17\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211012\">\n     <imgdir name=\"info\">\n@@ -189,6 +225,10 @@\n         <string name=\"1\" value=\"SUN:16-20\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211013\">\n     <imgdir name=\"info\">\n@@ -206,6 +246,10 @@\n         <string name=\"1\" value=\"SUN:19-23\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211014\">\n     <imgdir name=\"info\">\n@@ -228,6 +272,10 @@\n         <string name=\"6\" value=\"SUN:07-11\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211015\">\n     <imgdir name=\"info\">\n@@ -250,6 +298,10 @@\n         <string name=\"6\" value=\"SUN:10-14\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211016\">\n     <imgdir name=\"info\">\n@@ -272,6 +324,10 @@\n         <string name=\"6\" value=\"SUN:13-17\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211017\">\n     <imgdir name=\"info\">\n@@ -294,6 +350,10 @@\n         <string name=\"6\" value=\"SUN:16-20\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211018\">\n     <imgdir name=\"info\">\n@@ -316,6 +376,10 @@\n         <string name=\"6\" value=\"SUN:19-23\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211037\">\n     <imgdir name=\"info\">\n@@ -336,6 +400,10 @@\n         <string name=\"4\" value=\"FRI:00-04\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211038\">\n     <imgdir name=\"info\">\n@@ -353,6 +421,10 @@\n         <string name=\"1\" value=\"SUN:00-04\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211039\">\n     <imgdir name=\"info\">\n@@ -375,6 +447,10 @@\n         <string name=\"6\" value=\"SUN:00-04\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211040\">\n     <imgdir name=\"info\">\n@@ -395,6 +471,10 @@\n         <string name=\"4\" value=\"FRI:03-07\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211041\">\n     <imgdir name=\"info\">\n@@ -412,6 +492,10 @@\n         <string name=\"1\" value=\"SUN:03-07\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211042\">\n     <imgdir name=\"info\">\n@@ -434,6 +518,10 @@\n         <string name=\"6\" value=\"SUN:03-07\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211043\">\n     <imgdir name=\"info\">\n@@ -454,6 +542,10 @@\n         <string name=\"4\" value=\"FRI:06-10\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211044\">\n     <imgdir name=\"info\">\n@@ -471,6 +563,10 @@\n         <string name=\"1\" value=\"SUN:06-10\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211045\">\n     <imgdir name=\"info\">\n@@ -493,6 +589,10 @@\n         <string name=\"6\" value=\"SUN:06-10\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211046\">\n     <imgdir name=\"info\">\n@@ -515,6 +615,10 @@\n         <string name=\"6\" value=\"SUN:00-24\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211048\">\n     <imgdir name=\"info\">\n@@ -537,6 +641,10 @@\n         <string name=\"6\" value=\"SUN:00-24\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211049\">\n     <imgdir name=\"info\">\n@@ -559,6 +667,10 @@\n         <string name=\"6\" value=\"SUN:00-24\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211052\">\n     <imgdir name=\"info\">\n@@ -582,6 +694,10 @@\n         <string name=\"7\" value=\"HOL:00-24\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05211060\">\n     <imgdir name=\"info\">\n@@ -605,5 +721,9 @@\n         <string name=\"7\" value=\"HOL:00-24\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n </imgdir>"}, {"sha": "025b4de0d6ef3b680d7f117e3f853ac3dc03823f", "filename": "wz/Item.wz/Cash/0536.img.xml", "status": "modified", "additions": 40, "deletions": 0, "changes": 40, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/f30acb3b8addb3558f06c496cc955843ed70dd76/wz/Item.wz/Cash/0536.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/f30acb3b8addb3558f06c496cc955843ed70dd76/wz/Item.wz/Cash/0536.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Item.wz/Cash/0536.img.xml?ref=f30acb3b8addb3558f06c496cc955843ed70dd76", "patch": "@@ -21,6 +21,10 @@\n         <string name=\"6\" value=\"SUN:00-24\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05360001\">\n     <imgdir name=\"info\">\n@@ -43,6 +47,10 @@\n         <string name=\"6\" value=\"SUN:07-11\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05360002\">\n     <imgdir name=\"info\">\n@@ -65,6 +73,10 @@\n         <string name=\"6\" value=\"SUN:10-14\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05360003\">\n     <imgdir name=\"info\">\n@@ -87,6 +99,10 @@\n         <string name=\"6\" value=\"SUN:13-17\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05360004\">\n     <imgdir name=\"info\">\n@@ -109,6 +125,10 @@\n         <string name=\"6\" value=\"SUN:16-20\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05360005\">\n     <imgdir name=\"info\">\n@@ -131,6 +151,10 @@\n         <string name=\"6\" value=\"SUN:19-23\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05360006\">\n     <imgdir name=\"info\">\n@@ -153,6 +177,10 @@\n         <string name=\"6\" value=\"SUN:00-04\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05360007\">\n     <imgdir name=\"info\">\n@@ -175,6 +203,10 @@\n         <string name=\"6\" value=\"SUN:03-07\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05360008\">\n     <imgdir name=\"info\">\n@@ -197,6 +229,10 @@\n         <string name=\"6\" value=\"SUN:06-10\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"05360042\">\n     <imgdir name=\"info\">\n@@ -219,5 +255,9 @@\n         <string name=\"6\" value=\"SUN:00-24\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"spec\">\n+      <int name=\"pad\" value=\"5\"/>\n+      <int name=\"time\" value=\"2100000\"/>\n+    </imgdir>\n   </imgdir>\n </imgdir>"}]}]},
