{"fetchDate": "2019-12-19", "content": [{"sha": "7942dde1a1a79ff5e2523a812532b5c169ed09c5", "node_id": "MDY6Q29tbWl0NDUwODIwMjM6Nzk0MmRkZTFhMWE3OWZmNWUyNTIzYTgxMjUzMmI1YzE2OWVkMDljNQ==", "commit": {"author": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2017-04-27T11:45:22Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2017-04-27T11:45:22Z"}, "message": "Merge pull request #4 from jaydenseah/master\n\nQuest Completion Effect Fix", "tree": {"sha": "994b16eb2dd66dccc35b7998608781405e783701", "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/trees/994b16eb2dd66dccc35b7998608781405e783701"}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/commits/7942dde1a1a79ff5e2523a812532b5c169ed09c5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/7942dde1a1a79ff5e2523a812532b5c169ed09c5", "html_url": "https://github.com/ronancpl/HeavenMS/commit/7942dde1a1a79ff5e2523a812532b5c169ed09c5", "comments_url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/7942dde1a1a79ff5e2523a812532b5c169ed09c5/comments", "author": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fa376739134d0bbf108c7cca70762c486d55328a", "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/fa376739134d0bbf108c7cca70762c486d55328a", "html_url": "https://github.com/ronancpl/HeavenMS/commit/fa376739134d0bbf108c7cca70762c486d55328a"}, {"sha": "28204ce831ea9cb8502ba1fa6f0dbefe78185e6c", "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/28204ce831ea9cb8502ba1fa6f0dbefe78185e6c", "html_url": "https://github.com/ronancpl/HeavenMS/commit/28204ce831ea9cb8502ba1fa6f0dbefe78185e6c"}], "stats": {"total": 8, "additions": 5, "deletions": 3}, "files": [{"sha": "150addaee636a300263dfbc1a47d51f3e3cc4142", "filename": "src/net/server/channel/handlers/QuestActionHandler.java", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7942dde1a1a79ff5e2523a812532b5c169ed09c5/src/net/server/channel/handlers/QuestActionHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7942dde1a1a79ff5e2523a812532b5c169ed09c5/src/net/server/channel/handlers/QuestActionHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/QuestActionHandler.java?ref=7942dde1a1a79ff5e2523a812532b5c169ed09c5", "patch": "@@ -26,6 +26,7 @@\n import net.AbstractMaplePacketHandler;\n import scripting.quest.QuestScriptManager;\n import server.quest.MapleQuest;\n+import tools.MaplePacketCreator;\n import tools.data.input.SeekableLittleEndianAccessor;\n \n /**\n@@ -67,6 +68,8 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             slea.readInt();\n \t\t\tif(quest.canComplete(player, npc)) {\n \t\t\t\tQuestScriptManager.getInstance().end(c, questid, npc);\n+                                player.getClient().getSession().write(MaplePacketCreator.showSpecialEffect(9)); //show effect when completion \n+                                player.getMap().broadcastMessage(player, MaplePacketCreator.showForeignEffect(player.getId(), 9));//show effect around players I guess\n \t\t\t}\n         }\n     }"}, {"sha": "01f57d3ccaff4505a74460c06f65d32bbf622ca2", "filename": "src/server/quest/MapleQuest.java", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/7942dde1a1a79ff5e2523a812532b5c169ed09c5/src/server/quest/MapleQuest.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/7942dde1a1a79ff5e2523a812532b5c169ed09c5/src/server/quest/MapleQuest.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/quest/MapleQuest.java?ref=7942dde1a1a79ff5e2523a812532b5c169ed09c5", "patch": "@@ -223,9 +223,8 @@ public void complete(MapleCharacter c, int npc, Integer selection) {\n \t\t        a.run(c, selection);\n \t\t    }\n                     \n-                    //dont seems to work...\n-                    //c.getClient().getSession().write(MaplePacketCreator.showForeignEffect(12)); // Quest completion\n-                    //c.getMap().broadcastMessage(c, MaplePacketCreator.showForeignEffect(c.getId(), 12), false);\n+                    c.getClient().getSession().write(MaplePacketCreator.showForeignEffect(9)); // Quest completion\n+                    c.getMap().broadcastMessage(c, MaplePacketCreator.showForeignEffect(c.getId(), 9), false); //use 9 instead of 12 for both\n \t\t}\n     }\n "}]}]},
