{"fetchDate": "2019-12-19", "content": [{"sha": "e064d5cbfa27c7f61090574c139a258c857a4d2c", "node_id": "MDY6Q29tbWl0NDUwODIwMjM6ZTA2NGQ1Y2JmYTI3YzdmNjEwOTA1NzRjMTM5YTI1OGM4NTdhNGQyYw==", "commit": {"author": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2017-09-08T17:36:58Z"}, "committer": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2017-09-08T17:36:58Z"}, "message": "Vegas's spell + pet/mounts schedule revamp + CafePQ\n\nAdded Vega's Spell feature. Refactored mounts and pets schedules (now\none thread runs globally updating stats). Fixed Pet Ignore now saving to\nDB. Fixed Flash Jump animation not appearing for other players just\nafter changing jobs. Fixed 3rd job, now as a proper event with timeout.\nIntroducing Brand-new PQ: CafePQ.", "tree": {"sha": "3582bbf4a9a60197545e9844ea5322eac8add173", "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/trees/3582bbf4a9a60197545e9844ea5322eac8add173"}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/commits/e064d5cbfa27c7f61090574c139a258c857a4d2c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/e064d5cbfa27c7f61090574c139a258c857a4d2c", "html_url": "https://github.com/ronancpl/HeavenMS/commit/e064d5cbfa27c7f61090574c139a258c857a4d2c", "comments_url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/e064d5cbfa27c7f61090574c139a258c857a4d2c/comments", "author": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "74b4ca41328567d38b130c50269e410c62708adb", "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/74b4ca41328567d38b130c50269e410c62708adb", "html_url": "https://github.com/ronancpl/HeavenMS/commit/74b4ca41328567d38b130c50269e410c62708adb"}], "stats": {"total": 63574, "additions": 26082, "deletions": 37492}, "files": [{"sha": "eb2bbb7156bc82c77463ef97872d2480c75d41fc", "filename": "build/built-jar.properties", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/built-jar.properties", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/built-jar.properties", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/built-jar.properties?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -1,4 +1,4 @@\n-#Thu, 31 Aug 2017 23:23:01 -0300\n+#Thu, 07 Sep 2017 21:09:39 -0300\n \n \n C\\:\\\\Nexon\\\\MapleSolaxia\\\\MapleSolaxiaV2="}, {"sha": "ef96d5661d02f7486185fa12967fc2a6a3560292", "filename": "build/classes/client/MapleCharacter$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$1.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "e4d584badbdc45f51879a941b53683af80d2e3fd", "filename": "build/classes/client/MapleCharacter$10.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$10.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$10.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$10.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "aff0cca38cc90506dc030ba7865890bc2a239b42", "filename": "build/classes/client/MapleCharacter$11.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$11.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$11.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$11.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "b55d35b3eb9203f5b83c71586744e77361a25aec", "filename": "build/classes/client/MapleCharacter$12.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$12.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$12.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$12.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "4e1bf41c997d5acfdad09eb84b145c05407d2a0d", "filename": "build/classes/client/MapleCharacter$13.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$13.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$13.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$13.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "1e7494e8495edf9978aeea1b18379bbf16b5317e", "filename": "build/classes/client/MapleCharacter$14.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$14.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$14.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$14.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "2c32f8e7ff87481b00e4fd7be2eefe47b7e7d404", "filename": "build/classes/client/MapleCharacter$15.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$15.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$15.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$15.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "63ce711b6ebf8ce302a5dd51d30790bc677ac9af", "filename": "build/classes/client/MapleCharacter$16.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$16.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$16.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$16.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "6225754c9632bb6d18ba360f8ffcfe08902b7601", "filename": "build/classes/client/MapleCharacter$17.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$17.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$17.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$17.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "ad6887ed88e46c83e61ced6905469a0777cfef7f", "filename": "build/classes/client/MapleCharacter$18.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$18.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$18.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$18.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "7fa78d4ccf7730be8eb69c5ce407888acffa86c8", "filename": "build/classes/client/MapleCharacter$19.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$19.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$19.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$19.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "66cd277fe5be50f1658ae3b4f654225c3311c435", "filename": "build/classes/client/MapleCharacter$2.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$2.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$2.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$2.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "efe7c95afe467051f169e2ca1cdef64d0d9981d7", "filename": "build/classes/client/MapleCharacter$20.class", "status": "removed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/74b4ca41328567d38b130c50269e410c62708adb/build/classes/client/MapleCharacter$20.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/74b4ca41328567d38b130c50269e410c62708adb/build/classes/client/MapleCharacter$20.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$20.class?ref=74b4ca41328567d38b130c50269e410c62708adb"}, {"sha": "86075c47766938c86bd5ec8c18e006dd3fddfe2e", "filename": "build/classes/client/MapleCharacter$3.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$3.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$3.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$3.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "4a1afde1187de9ecc6c9f07822b5f808b6da6144", "filename": "build/classes/client/MapleCharacter$4.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$4.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$4.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$4.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "0910f6940b8062684342b58be1ca749174a5628d", "filename": "build/classes/client/MapleCharacter$5.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$5.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$5.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$5.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "e5234eb4e96dfc3a07a469e785fd3eba0ec3de1f", "filename": "build/classes/client/MapleCharacter$6.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$6.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$6.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$6.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "6deccc85bf492e86d6f9880000346f146e167f77", "filename": "build/classes/client/MapleCharacter$7.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$7.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$7.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$7.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "07743d9365498b5e7f36ddc4d4f34a97ad577a72", "filename": "build/classes/client/MapleCharacter$8.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$8.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$8.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$8.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "5cebe3e1f26a539e045cb7a820140c52dc6bd1ed", "filename": "build/classes/client/MapleCharacter$9.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$9.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$9.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$9.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "3e992e1cdbdc0f855c63f2b2cfaefc60ab26d757", "filename": "build/classes/client/MapleCharacter$CancelCooldownAction.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$CancelCooldownAction.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$CancelCooldownAction.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$CancelCooldownAction.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "c31637e0ad1afe193c28e41328a13667ee94181c", "filename": "build/classes/client/MapleCharacter$FameStatus.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$FameStatus.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$FameStatus.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$FameStatus.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "86bbd5007cbfecdc4423abea082107a1ce4f0dc3", "filename": "build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "f3130fe2f68f5d81cfb93c98eadf9b2540b00f1b", "filename": "build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "449e60db5bcc5ffc02c99586a8178f06e1488261", "filename": "build/classes/client/MapleCharacter$SkillEntry.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$SkillEntry.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter$SkillEntry.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$SkillEntry.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "2dbc6654bbdebbcdda1410385a27bb0b1cf7f23c", "filename": "build/classes/client/MapleCharacter.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleCharacter.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "f3c0c83ce64bc09ec29275e221ecef75b9c4776d", "filename": "build/classes/client/MapleClient.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleClient.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleClient.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleClient.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "105dc0c06826b9ef809a6b56dce8c4b96612a3f5", "filename": "build/classes/client/MapleMount$1.class", "status": "removed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/74b4ca41328567d38b130c50269e410c62708adb/build/classes/client/MapleMount$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/74b4ca41328567d38b130c50269e410c62708adb/build/classes/client/MapleMount$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleMount$1.class?ref=74b4ca41328567d38b130c50269e410c62708adb"}, {"sha": "5e8d56dd50e9b6e2267fec0cf8ffc254c236d90b", "filename": "build/classes/client/MapleMount.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleMount.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/MapleMount.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleMount.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "972361df768d85784d2bb634c45b532020dd7a10", "filename": "build/classes/client/command/Commands$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/command/Commands$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/command/Commands$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/command/Commands$1.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "bea4deb7b7e76783a8ad7a37d5315bb3f98a2598", "filename": "build/classes/client/command/Commands.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/command/Commands.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/command/Commands.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/command/Commands.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "671a28b245dfce3bcaca328401c63af43c363690", "filename": "build/classes/client/inventory/Equip.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/inventory/Equip.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/client/inventory/Equip.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/inventory/Equip.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "76d60f2dfc649dce86b074a296cd02e37dbbe119", "filename": "build/classes/constants/ServerConstants.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/constants/ServerConstants.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/constants/ServerConstants.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/constants/ServerConstants.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "34a3bd3ff09c7bbdb986390f46be0fa4671e315d", "filename": "build/classes/net/SendOpcode.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/SendOpcode.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/SendOpcode.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/SendOpcode.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "c3f948772d057c987018cf0c32701fd240f96946", "filename": "build/classes/net/server/channel/handlers/AutoAssignHandler$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/AutoAssignHandler$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/AutoAssignHandler$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/AutoAssignHandler$1.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "de775a1a6f49f2e5f6a7a4ee7a372c64a9e4daa3", "filename": "build/classes/net/server/channel/handlers/AutoAssignHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/AutoAssignHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/AutoAssignHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/AutoAssignHandler.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "6504079bfcae447aac9d5b13fe10801630836479", "filename": "build/classes/net/server/channel/handlers/ChangeMapHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/ChangeMapHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/ChangeMapHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/ChangeMapHandler.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "b06d7f522ade5a0ff9efb3647671be2a3757e381", "filename": "build/classes/net/server/channel/handlers/CharInfoRequestHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/CharInfoRequestHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/CharInfoRequestHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/CharInfoRequestHandler.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "068b34863167addaaba68f0785bbf4db8a63df1f", "filename": "build/classes/net/server/channel/handlers/EnterCashShopHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/EnterCashShopHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/EnterCashShopHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/EnterCashShopHandler.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "dbb5ecc3c8ef98fa1bec82549c1eca94e5a485ba", "filename": "build/classes/net/server/channel/handlers/PetExcludeItemsHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/PetExcludeItemsHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/PetExcludeItemsHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/PetExcludeItemsHandler.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "3e7c673605aab09e37f5501fd7544674d42d5dd9", "filename": "build/classes/net/server/channel/handlers/PetFoodHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/PetFoodHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/PetFoodHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/PetFoodHandler.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "b5116879db61d4d7a6e66a5cef4b4aee5dbdb5c6", "filename": "build/classes/net/server/channel/handlers/PetLootHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/PetLootHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/PetLootHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/PetLootHandler.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "dcf31ec9dbe9be750811849336f0169357f7f7f1", "filename": "build/classes/net/server/channel/handlers/PlayerLoggedinHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/PlayerLoggedinHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/PlayerLoggedinHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/PlayerLoggedinHandler.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "bcf5cc02dea5e51186c8f9535211f7c56c90f072", "filename": "build/classes/net/server/channel/handlers/ScrollHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/ScrollHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/ScrollHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/ScrollHandler.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "92d19be4dbfed481b5605e81f9d64e39edab6271", "filename": "build/classes/net/server/channel/handlers/SpawnPetHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/SpawnPetHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/SpawnPetHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/SpawnPetHandler.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "8a34216533c40d92c3a0c1c44816d5504ef9e419", "filename": "build/classes/net/server/channel/handlers/SpecialMoveHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/SpecialMoveHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/SpecialMoveHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/SpecialMoveHandler.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "204bf8b9cd839ab3c3f12609c0ea730a865a2eec", "filename": "build/classes/net/server/channel/handlers/TakeDamageHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/TakeDamageHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/TakeDamageHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/TakeDamageHandler.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "e9bb1ecd5a6a0ae25054ddfb828e7b03b3d28f7b", "filename": "build/classes/net/server/channel/handlers/UseCashItemHandler$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/UseCashItemHandler$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/UseCashItemHandler$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/UseCashItemHandler$1.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "a491e54cb805f60a22f694b6d48a15fc27c6d48b", "filename": "build/classes/net/server/channel/handlers/UseCashItemHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/UseCashItemHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/channel/handlers/UseCashItemHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/UseCashItemHandler.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "2604d45938b59fda18c6a78849d6e2e71e00040a", "filename": "build/classes/net/server/world/World$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/world/World$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/world/World$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/world/World$1.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "a08e8623d007fa9974b2cf780750d1987864887b", "filename": "build/classes/net/server/world/World.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/world/World.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/net/server/world/World.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/world/World.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "1ddd19f93dcc0d366266f812a1878c863b0a14ad", "filename": "build/classes/scripting/AbstractPlayerInteraction.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/scripting/AbstractPlayerInteraction.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/scripting/AbstractPlayerInteraction.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/scripting/AbstractPlayerInteraction.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "890f98269e1abaa93285793527fb11037dcabf7c", "filename": "build/classes/scripting/npc/NPCConversationManager.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/scripting/npc/NPCConversationManager.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/scripting/npc/NPCConversationManager.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/scripting/npc/NPCConversationManager.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "6fb50376e4c59aee6a7a12c1b08c39896f2b80ba", "filename": "build/classes/server/MapleInventoryManipulator.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/MapleInventoryManipulator.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/MapleInventoryManipulator.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleInventoryManipulator.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "1538b58897e8caacc54b02b0f9aaf831698a6962", "filename": "build/classes/server/MapleItemInformationProvider$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/MapleItemInformationProvider$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/MapleItemInformationProvider$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleItemInformationProvider$1.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "dac248257fc57008e15f2f929f4007b110d56116", "filename": "build/classes/server/MapleItemInformationProvider$RewardItem.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/MapleItemInformationProvider$RewardItem.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/MapleItemInformationProvider$RewardItem.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleItemInformationProvider$RewardItem.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "7943cda88472cf9e4b50cae5e2865e85e746f10f", "filename": "build/classes/server/MapleItemInformationProvider$scriptedItem.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/MapleItemInformationProvider$scriptedItem.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/MapleItemInformationProvider$scriptedItem.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleItemInformationProvider$scriptedItem.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "72c2974172dc09e02b7773ea20ea007e73f95b7b", "filename": "build/classes/server/MapleItemInformationProvider.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/MapleItemInformationProvider.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/MapleItemInformationProvider.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleItemInformationProvider.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "c2ddbee840e0b1efde7f80a4e17e915f4026c9aa", "filename": "build/classes/server/MapleStatEffect$CancelEffectAction.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/MapleStatEffect$CancelEffectAction.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/MapleStatEffect$CancelEffectAction.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleStatEffect$CancelEffectAction.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "508578713ed050f548ec2968f801a752fd362d98", "filename": "build/classes/server/MapleStatEffect.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/MapleStatEffect.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/MapleStatEffect.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleStatEffect.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "90784264d81ee6af1ed8a08e436e209b1891d710", "filename": "build/classes/server/life/MapleMonster.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/life/MapleMonster.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/life/MapleMonster.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/life/MapleMonster.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "40a1810dc0f40eadf1449f6a83b37c2105bec29f", "filename": "build/classes/server/maps/MapleMap$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$1.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "978c142bf6ec97f47924c886a586c4670ae53b47", "filename": "build/classes/server/maps/MapleMap$10.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$10.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$10.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$10.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "334fe659dae8668545c3eb794cd5f9fa652ff1aa", "filename": "build/classes/server/maps/MapleMap$11.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$11.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$11.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$11.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "75ab674d8ec82fc21088324706fbf8c2ceb8f765", "filename": "build/classes/server/maps/MapleMap$12.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$12.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$12.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$12.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "4633113cecb7df0926a8ee01efce80099d0ec171", "filename": "build/classes/server/maps/MapleMap$13.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$13.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$13.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$13.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "e82823231e7e5a478ae4761e580a71680e0a4d16", "filename": "build/classes/server/maps/MapleMap$14.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$14.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$14.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$14.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "1273909d55349c46b7934d454ad64f492fa374a2", "filename": "build/classes/server/maps/MapleMap$15.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$15.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$15.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$15.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "0fb35420f3262812ae89094ff2586a5fa0a3a5cb", "filename": "build/classes/server/maps/MapleMap$16.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$16.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$16.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$16.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "66922f4f7b64de44de1097ceeff0f2c12723c5ee", "filename": "build/classes/server/maps/MapleMap$17.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$17.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$17.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$17.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "df7e9c0c330f7e642e440b33f209434c29c88bd1", "filename": "build/classes/server/maps/MapleMap$18.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$18.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$18.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$18.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "b47e254fe6b02068ff3114cd6b3f21deda2563e1", "filename": "build/classes/server/maps/MapleMap$19.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$19.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$19.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$19.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "ee1593f851a39deaa21d18e39959d07e198028a3", "filename": "build/classes/server/maps/MapleMap$2.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$2.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$2.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$2.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "de685fc2ee55ac7d3469b371a28e388c3bf3d647", "filename": "build/classes/server/maps/MapleMap$20.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$20.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$20.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$20.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "933606c589be4bc5a00baf86fa7b618513965018", "filename": "build/classes/server/maps/MapleMap$21.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$21.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$21.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$21.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "03b1c3a871ec5bba56a91b272a7a0b3833d7a197", "filename": "build/classes/server/maps/MapleMap$22.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$22.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$22.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$22.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "7aeddfc257588e36af5e52e029cc3bff0d269e18", "filename": "build/classes/server/maps/MapleMap$23.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$23.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$23.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$23.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "01f91ea1ccc4ac2e71cbb6c729ac543394586c2d", "filename": "build/classes/server/maps/MapleMap$24.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$24.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$24.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$24.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "f4f278057ac4f25d980ba0804afc9a4b4d33157f", "filename": "build/classes/server/maps/MapleMap$25.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$25.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$25.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$25.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "c15d6b8442ae053b8535ed8f3001175528abdc6c", "filename": "build/classes/server/maps/MapleMap$26.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$26.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$26.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$26.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "9db8188fdb72481c732f31023ecede5260b9a0c1", "filename": "build/classes/server/maps/MapleMap$27.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$27.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$27.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$27.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "b86cca5db72ed2fcc0201ebce9bc9910a0a1081f", "filename": "build/classes/server/maps/MapleMap$28.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$28.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$28.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$28.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "a14b598c5441467267cabab57e34f44543b19481", "filename": "build/classes/server/maps/MapleMap$29$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$29$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$29$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$29$1.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "eadd6bfb55bf9f6cb6bc5dbb55b9c498b2d059fd", "filename": "build/classes/server/maps/MapleMap$29.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$29.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$29.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$29.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "4d1c84a4c6ccbf1eb96d7627701fb58bd8ee3a09", "filename": "build/classes/server/maps/MapleMap$3.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$3.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$3.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$3.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "87862d5d5062a652bef0fea4e7eb8b3a4fc3f30d", "filename": "build/classes/server/maps/MapleMap$30.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$30.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$30.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$30.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "4aa29578c9c25d1cf15856e98ad064319b1c74ee", "filename": "build/classes/server/maps/MapleMap$4.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$4.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$4.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$4.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "8fb5ce71705f79c5fd28999b81070034ebdfd353", "filename": "build/classes/server/maps/MapleMap$5.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$5.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$5.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$5.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "006c02fdd8c7f078a280445b16c5deb192a04d9e", "filename": "build/classes/server/maps/MapleMap$6.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$6.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$6.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$6.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "fcadc5aa3dcda8469b9f2c83d557fd1f411cb4fc", "filename": "build/classes/server/maps/MapleMap$7.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$7.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$7.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$7.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "13a150821719df9fda921abd65514120950ab09b", "filename": "build/classes/server/maps/MapleMap$8.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$8.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$8.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$8.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "e5c60041c1e94e9b9205345f909f9749ea96802f", "filename": "build/classes/server/maps/MapleMap$9.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$9.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$9.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$9.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "efba39b13e1f198daa8bf5a27697bb7814430fb5", "filename": "build/classes/server/maps/MapleMap$ActivateItemReactor$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$ActivateItemReactor$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$ActivateItemReactor$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$ActivateItemReactor$1.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "0bece63c9fedb57d89d5d2fd0f9776aaf82ec56b", "filename": "build/classes/server/maps/MapleMap$ActivateItemReactor.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$ActivateItemReactor.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$ActivateItemReactor.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$ActivateItemReactor.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "63445a468d3b4ac4a640b858c6c3180ff8fc1565", "filename": "build/classes/server/maps/MapleMap$ExpireMapItemJob.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$ExpireMapItemJob.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap$ExpireMapItemJob.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$ExpireMapItemJob.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "e464772d791682aafd520d21a0513dfba08f3b20", "filename": "build/classes/server/maps/MapleMap.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMap.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "2ecbd3099f94901e555a79bd52f1708071679aa6", "filename": "build/classes/server/maps/MapleMapFactory.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMapFactory.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/server/maps/MapleMapFactory.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMapFactory.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "a421a4f62272010fbcb6f17c8860a94846a6d5f4", "filename": "build/classes/tools/MaplePacketCreator$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/tools/MaplePacketCreator$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/tools/MaplePacketCreator$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/tools/MaplePacketCreator$1.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "aae1b45fd438c755a5a38db5340f0338761c45b3", "filename": "build/classes/tools/MaplePacketCreator$2.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/tools/MaplePacketCreator$2.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/tools/MaplePacketCreator$2.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/tools/MaplePacketCreator$2.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "6cb01864a4ea29a164b69e5a060bd55287883b09", "filename": "build/classes/tools/MaplePacketCreator.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/tools/MaplePacketCreator.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/build/classes/tools/MaplePacketCreator.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/tools/MaplePacketCreator.class?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "161edee9cdb1534ac66ea5630dbf7db3c4360e92", "filename": "dist/MapleSolaxia.jar", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/dist/MapleSolaxia.jar", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/dist/MapleSolaxia.jar", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/dist/MapleSolaxia.jar?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "5cd1eb0047dbd46af46707c0c6bc0fe13f2962c5", "filename": "docs/areabosses/BossEvent.js", "status": "added", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/docs/areabosses/BossEvent.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/docs/areabosses/BossEvent.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/areabosses/BossEvent.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -0,0 +1,33 @@\n+// @Author: Resinate\n+\n+var towns = new Array(800020120, 251010102, 260010201, 107000300, 200010300, 100040105, 100040106, 261030000, 110040000, 250010504, 240040401, 104000400, 222010310, 230040420, 230040420, 230020100, 105090310, 101030404, 250010304, 220050100, 220050000, 220050200, 221040301);\n+var spawns = new Array(6090002, 5220004, 3220001, 6220000, 8220000, 5220002, 5220002, 8220002, 5220001, 7220002, 8220003, 2220000, 7220001, 8510000, 8520000, 4220001, 8220008, 3220000, 7220000, 5220003, 5220003, 5220003, 6220001);\n+var x = new Array(560, 560, 645, 90, 208, 456, 474, -300, 200, 400, 0, 400, 0, 527, 138, 0, -626, 800, -300, -300, 0, 0, -4224);\n+var y = new Array(50, 50, 275, 119, 83, 278, 278, 180, 140, 540, 1125, 455, 33, -437, 138, 520, -604, 1280, 390, 1030, 1030, 1030, 776);\n+var mapObj;\n+var mobObj;\n+\n+function init() {\n+    scheduleNew();\n+}\n+\n+function scheduleNew() {\n+    setupTask = em.schedule(\"start\", 0);\n+}\n+\n+function cancelSchedule() {\n+    if (setupTask != null)\n+        setupTask.cancel(true);\n+}\n+\n+function start() {\n+\tvar time = (Math.floor(Math.random() * 10) + 10) * (60 * 1000);\n+\tfor(var i = 0; i < towns.length; i++) {\n+\t\tmapObj = em.getChannelServer().getMapFactory().getMap(towns[i]);\n+\t\tmobObj = Packages.server.life.MapleLifeFactory.getMonster(spawns[i]);\n+\t\tif(mapObj.getMonsterById(spawns[i]) == null) {\n+\t\t\tmapObj.spawnMonsterOnGroundBelow(mobObj, new Packages.java.awt.Point(x[i],y[i]));\n+\t\t}\n+\t}\n+\tem.schedule(\"start\", time);\n+}\n\\ No newline at end of file"}, {"sha": "81bb263610cc539b8fd014369c54e904aaf4abb8", "filename": "docs/mychanges_ptbr.txt", "status": "modified", "additions": 21, "deletions": 1, "changes": 22, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/docs/mychanges_ptbr.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/docs/mychanges_ptbr.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mychanges_ptbr.txt?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -500,4 +500,24 @@ Pets em outros slots agora equipam devidamente.\n \n 31 Agosto 2017,\n Refatorado autoassigner para focar nos stats prim\ufffdrios a partir da avalia\ufffd\ufffdo do valor base do stat secund\ufffdrio com o 1\ufffd e 2\ufffd equips mais forte, ao inv\ufffds de somente o 1\ufffd.\n-Corrigido bug de acesso concorrente no sistema de rate cupons.\n\\ No newline at end of file\n+Corrigido bug de acesso concorrente no sistema de rate cupons.\n+\n+01 Setembro 2017,\n+Comando rates e equiplv agora usam visual ao inv\ufffds de escrever no chat.\n+Corrigido NPC crafters crashando o cliente no caso onde o player n\ufffdo tem slot dispon\ufffdvel para o novo item.\n+\n+02 Setembro 2017,\n+Refatorado sistema de schedules para mounts e pets. Agora o server passa a instanciar as chamadas \ufffds fun\ufffd\ufffdes que definem \"cansa\ufffdo\" nos animais, ao inv\ufffds de instanciar uma task para cada.\n+\n+04 Setembro 2017,\n+Adicionado sistema de exclus\ufffdo de itens (pet feature) no server.\n+Party recebe update de HP de jogadores ao ressucitarem na city.\n+Flash Jump's levam o update necess\ufffdrio ao trocar de job. 3a pessoa agora pode ver a anima\ufffd\ufffdo do FJ.\n+\n+05 Setembro 2017,\n+Corrigido mais alguns aspectos do autoassigner.\n+Corrigido itens saindo para fora do mapa. Nova posi\ufffd\ufffdo do drop leva em conta as bordas da camera do jogador.\n+\n+07 Setembro 2017,\n+Adicionado Vega's Spell.\n+3rd job event agora possui tempo-limite e verifica se h\ufffd jogadores j\ufffd enfrentando o desafio.\n\\ No newline at end of file"}, {"sha": "2ceb2360d340fa16ba608a4403fe5fe6464ae868", "filename": "handbook/Skill.txt", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/handbook/Skill.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/handbook/Skill.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/handbook/Skill.txt?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -392,7 +392,7 @@\n 14100001 - Critical Throw - [Master Level : 30]\\nEnables Critical Attack with Throwing Stars at a pre-established success rate.\\nRequired Skill: #c At least Level 3 on Claw Mastery # \n 14101002 - Claw Booster - [Master Level : 20]\\nUse HP and MP to temporarily boost up the attack speed of the claw. It only applies when the character is equipped with a claw Throwing Stars.\\nRequired Skill : \\n#cAt least Level 5 on Claw Mastery#\n 14101003 - Haste - [Master Level : 20]\\nTemporarily enhances Speed and Jump stats of every member in the party.\n-14101004 - Flash Jump - [Master Level : 20]\\n[Master Level : 20]\\nAllows a second Jump toward the direction which the character was headed when used while the character is in the air. The distance of the Jump increases in accordance with the advancement of the character\ufffds skill level.\n+14101004 - Flash Jump - [Master Level : 20]\\nAllows a second Jump toward the direction which the character was headed when used while the character is in the air. The distance of the Jump increases in accordance with the advancement of the character\ufffds skill level.\n 14100005 - Vanish - [Master Level : 10]\\nInflicts additional damage on monsters when used while Dark Sight is activated. Dark Sight deactivates as soon as this skill is applied. \\nRequired skill : #cDark Sight over level 10#\n 14101006 - Vampire - [Master Level : 20]\\nCan attack multiple monsters 4 times and partially consumes the damage to recover HP. No more than \ufffd of the character\ufffds max HP and the Monster\ufffds max HP can be consumed.\n 14111000 - Shadow Partner - [Master Level : 30]\\nSummons a shadow, which repeats the character\ufffds every move, for a given duration. It has no special strength."}, {"sha": "5af0ed1acce427edd53bc66d6b2b5f2bf3272c28", "filename": "nbproject/private/private.xml", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/nbproject/private/private.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/nbproject/private/private.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/nbproject/private/private.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -2,8 +2,6 @@\n <project-private xmlns=\"http://www.netbeans.org/ns/project-private/1\">\n     <editor-bookmarks xmlns=\"http://www.netbeans.org/ns/editor-bookmarks/2\" lastBookmarkId=\"1\"/>\n     <open-files xmlns=\"http://www.netbeans.org/ns/projectui-open-files/2\">\n-        <group>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/wz/Etc.wz/Commodity.img.xml</file>\n-        </group>\n+        <group/>\n     </open-files>\n </project-private>"}, {"sha": "a6ed002981d8108ada7d5668946ffa294ce08bfa", "filename": "scripts/event/3rdJob_bowman.js", "status": "added", "additions": 92, "deletions": 0, "changes": 92, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/event/3rdJob_bowman.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/event/3rdJob_bowman.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/3rdJob_bowman.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -0,0 +1,92 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t\t\t\t   Matthias Butz <matze@odinms.de>\n+\t\t\t\t\t   Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+/**\n+ *3rd Job Event - Bowman\n+**/\n+importPackage(Packages.tools);\n+\n+var entryMap = 108010100;\n+var exitMap = 105040305;\n+\n+var minMapId = 108010100;\n+var maxMapId = 108010101;\n+\n+var eventTime = 20; //20 minutes\n+\n+var lobbyRange = [0, 0];\n+\n+function setLobbyRange() {\n+        return lobbyRange;\n+}\n+\n+function init() {\n+    em.setProperty(\"noEntry\",\"false\");\n+}\n+\n+function playerEntry(eim, player) {\n+    eim.getInstanceMap(maxMapId).resetPQ(1);\n+    \n+    player.changeMap(entryMap, 0);\n+    em.setProperty(\"noEntry\",\"true\");\n+    \n+    player.getClient().getSession().write(MaplePacketCreator.getClock(eventTime * 60));\n+    eim.startEventTimer(eventTime * 60000);\n+}\n+\n+function playerUnregistered(eim, player) {}\n+\n+function playerExit(eim, player) {\n+    eim.unregisterPlayer(player);\n+    eim.dispose();\n+    em.setProperty(\"noEntry\",\"false\");\n+}\n+\n+function scheduledTimeout(eim) {\n+    var player = eim.getPlayers().get(0);\n+    playerExit(eim, eim.getPlayers().get(0));\n+    player.changeMap(exitMap);\n+}\n+\n+function playerDisconnected(eim, player) {\n+    playerExit(eim, player);\n+}\n+\n+function clear(eim) {\n+    var player = eim.getPlayers().get(0);\n+    eim.unregisterPlayer(player);\n+    player.changeMap(exitMap);\n+    \n+    eim.dispose();\n+    em.setProperty(\"noEntry\",\"false\");\n+}\n+\n+function changedMap(eim, chr, mapid) {\n+    if(mapid < minMapId || mapid > maxMapId) playerExit(eim, chr);\n+}\n+\n+function monsterKilled(mob, eim) {}\n+\n+function allMonstersDead(eim) {}\n+\n+function cancelSchedule() {}\n+\n+function dispose() {}"}, {"sha": "7bd6063cbc5fefa2310fe9815489d8adedd6c4c4", "filename": "scripts/event/3rdJob_magician.js", "status": "added", "additions": 92, "deletions": 0, "changes": 92, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/event/3rdJob_magician.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/event/3rdJob_magician.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/3rdJob_magician.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -0,0 +1,92 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t\t\t\t   Matthias Butz <matze@odinms.de>\n+\t\t\t\t\t   Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+/**\n+ *3rd Job Event - Magician\n+**/\n+importPackage(Packages.tools);\n+\n+var entryMap = 108010200;\n+var exitMap = 100040106;\n+\n+var minMapId = 108010200;\n+var maxMapId = 108010201;\n+\n+var eventTime = 20; //20 minutes\n+\n+var lobbyRange = [0, 0];\n+\n+function setLobbyRange() {\n+        return lobbyRange;\n+}\n+\n+function init() {\n+    em.setProperty(\"noEntry\",\"false\");\n+}\n+\n+function playerEntry(eim, player) {\n+    eim.getInstanceMap(maxMapId).resetPQ(1);\n+    \n+    player.changeMap(entryMap, 0);\n+    em.setProperty(\"noEntry\",\"true\");\n+    \n+    player.getClient().getSession().write(MaplePacketCreator.getClock(eventTime * 60));\n+    eim.startEventTimer(eventTime * 60000);\n+}\n+\n+function playerUnregistered(eim, player) {}\n+\n+function playerExit(eim, player) {\n+    eim.unregisterPlayer(player);\n+    eim.dispose();\n+    em.setProperty(\"noEntry\",\"false\");\n+}\n+\n+function scheduledTimeout(eim) {\n+    var player = eim.getPlayers().get(0);\n+    playerExit(eim, eim.getPlayers().get(0));\n+    player.changeMap(exitMap);\n+}\n+\n+function playerDisconnected(eim, player) {\n+    playerExit(eim, player);\n+}\n+\n+function clear(eim) {\n+    var player = eim.getPlayers().get(0);\n+    eim.unregisterPlayer(player);\n+    player.changeMap(exitMap);\n+    \n+    eim.dispose();\n+    em.setProperty(\"noEntry\",\"false\");\n+}\n+\n+function changedMap(eim, chr, mapid) {\n+    if(mapid < minMapId || mapid > maxMapId) playerExit(eim, chr);\n+}\n+\n+function monsterKilled(mob, eim) {}\n+\n+function allMonstersDead(eim) {}\n+\n+function cancelSchedule() {}\n+\n+function dispose() {}"}, {"sha": "bce92210d0412b7622cc08e79f8ef5206c7b8638", "filename": "scripts/event/3rdJob_pirate.js", "status": "added", "additions": 92, "deletions": 0, "changes": 92, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/event/3rdJob_pirate.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/event/3rdJob_pirate.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/3rdJob_pirate.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -0,0 +1,92 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t\t\t\t   Matthias Butz <matze@odinms.de>\n+\t\t\t\t\t   Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+/**\n+ *3rd Job Event - Pirate\n+**/\n+importPackage(Packages.tools);\n+\n+var entryMap = 108010500;\n+var exitMap = 105070200;\n+\n+var minMapId = 108010500;\n+var maxMapId = 108010501;\n+\n+var eventTime = 20; //20 minutes\n+\n+var lobbyRange = [0, 0];\n+\n+function setLobbyRange() {\n+        return lobbyRange;\n+}\n+\n+function init() {\n+    em.setProperty(\"noEntry\",\"false\");\n+}\n+\n+function playerEntry(eim, player) {\n+    eim.getInstanceMap(maxMapId).resetPQ(1);\n+    \n+    player.changeMap(entryMap, 0);\n+    em.setProperty(\"noEntry\",\"true\");\n+    \n+    player.getClient().getSession().write(MaplePacketCreator.getClock(eventTime * 60));\n+    eim.startEventTimer(eventTime * 60000);\n+}\n+\n+function playerUnregistered(eim, player) {}\n+\n+function playerExit(eim, player) {\n+    eim.unregisterPlayer(player);\n+    eim.dispose();\n+    em.setProperty(\"noEntry\",\"false\");\n+}\n+\n+function scheduledTimeout(eim) {\n+    var player = eim.getPlayers().get(0);\n+    playerExit(eim, eim.getPlayers().get(0));\n+    player.changeMap(exitMap);\n+}\n+\n+function playerDisconnected(eim, player) {\n+    playerExit(eim, player);\n+}\n+\n+function clear(eim) {\n+    var player = eim.getPlayers().get(0);\n+    eim.unregisterPlayer(player);\n+    player.changeMap(exitMap);\n+    \n+    eim.dispose();\n+    em.setProperty(\"noEntry\",\"false\");\n+}\n+\n+function changedMap(eim, chr, mapid) {\n+    if(mapid < minMapId || mapid > maxMapId) playerExit(eim, chr);\n+}\n+\n+function monsterKilled(mob, eim) {}\n+\n+function allMonstersDead(eim) {}\n+\n+function cancelSchedule() {}\n+\n+function dispose() {}"}, {"sha": "3bbe3cabc79a5a0ff8abb84872908180ab95363a", "filename": "scripts/event/3rdJob_thief.js", "status": "added", "additions": 92, "deletions": 0, "changes": 92, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/event/3rdJob_thief.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/event/3rdJob_thief.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/3rdJob_thief.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -0,0 +1,92 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t\t\t\t   Matthias Butz <matze@odinms.de>\n+\t\t\t\t\t   Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+/**\n+ *3rd Job Event - Thief\n+**/\n+importPackage(Packages.tools);\n+\n+var entryMap = 108010400;\n+var exitMap = 107000402;\n+\n+var minMapId = 108010400;\n+var maxMapId = 108010401;\n+\n+var eventTime = 20; //20 minutes\n+\n+var lobbyRange = [0, 0];\n+\n+function setLobbyRange() {\n+        return lobbyRange;\n+}\n+\n+function init() {\n+    em.setProperty(\"noEntry\",\"false\");\n+}\n+\n+function playerEntry(eim, player) {\n+    eim.getInstanceMap(maxMapId).resetPQ(1);\n+    \n+    player.changeMap(entryMap, 0);\n+    em.setProperty(\"noEntry\",\"true\");\n+    \n+    player.getClient().getSession().write(MaplePacketCreator.getClock(eventTime * 60));\n+    eim.startEventTimer(eventTime * 60000);\n+}\n+\n+function playerUnregistered(eim, player) {}\n+\n+function playerExit(eim, player) {\n+    eim.unregisterPlayer(player);\n+    eim.dispose();\n+    em.setProperty(\"noEntry\",\"false\");\n+}\n+\n+function scheduledTimeout(eim) {\n+    var player = eim.getPlayers().get(0);\n+    playerExit(eim, eim.getPlayers().get(0));\n+    player.changeMap(exitMap);\n+}\n+\n+function playerDisconnected(eim, player) {\n+    playerExit(eim, player);\n+}\n+\n+function clear(eim) {\n+    var player = eim.getPlayers().get(0);\n+    eim.unregisterPlayer(player);\n+    player.changeMap(exitMap);\n+    \n+    eim.dispose();\n+    em.setProperty(\"noEntry\",\"false\");\n+}\n+\n+function changedMap(eim, chr, mapid) {\n+    if(mapid < minMapId || mapid > maxMapId) playerExit(eim, chr);\n+}\n+\n+function monsterKilled(mob, eim) {}\n+\n+function allMonstersDead(eim) {}\n+\n+function cancelSchedule() {}\n+\n+function dispose() {}"}, {"sha": "cc1e8c8ffc74fb760e2547a4e09dd2b525e82bfd", "filename": "scripts/event/3rdJob_warrior.js", "status": "added", "additions": 92, "deletions": 0, "changes": 92, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/event/3rdJob_warrior.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/event/3rdJob_warrior.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/3rdJob_warrior.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -0,0 +1,92 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t\t\t\t   Matthias Butz <matze@odinms.de>\n+\t\t\t\t\t   Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+/**\n+ *3rd Job Event - Warrior\n+**/\n+importPackage(Packages.tools);\n+\n+var entryMap = 108010300;\n+var exitMap = 105070001;\n+\n+var minMapId = 108010300;\n+var maxMapId = 108010301;\n+\n+var eventTime = 20; //20 minutes\n+\n+var lobbyRange = [0, 0];\n+\n+function setLobbyRange() {\n+        return lobbyRange;\n+}\n+\n+function init() {\n+    em.setProperty(\"noEntry\",\"false\");\n+}\n+\n+function playerEntry(eim, player) {\n+    eim.getInstanceMap(maxMapId).resetPQ(1);\n+    \n+    player.changeMap(entryMap, 0);\n+    em.setProperty(\"noEntry\",\"true\");\n+    \n+    player.getClient().getSession().write(MaplePacketCreator.getClock(eventTime * 60));\n+    eim.startEventTimer(eventTime * 60000);\n+}\n+\n+function playerUnregistered(eim, player) {}\n+\n+function playerExit(eim, player) {\n+    eim.unregisterPlayer(player);\n+    eim.dispose();\n+    em.setProperty(\"noEntry\",\"false\");\n+}\n+\n+function scheduledTimeout(eim) {\n+    var player = eim.getPlayers().get(0);\n+    playerExit(eim, eim.getPlayers().get(0));\n+    player.changeMap(exitMap);\n+}\n+\n+function playerDisconnected(eim, player) {\n+    playerExit(eim, player);\n+}\n+\n+function clear(eim) {\n+    var player = eim.getPlayers().get(0);\n+    eim.unregisterPlayer(player);\n+    player.changeMap(exitMap);\n+    \n+    eim.dispose();\n+    em.setProperty(\"noEntry\",\"false\");\n+}\n+\n+function changedMap(eim, chr, mapid) {\n+    if(mapid < minMapId || mapid > maxMapId) playerExit(eim, chr);\n+}\n+\n+function monsterKilled(mob, eim) {}\n+\n+function allMonstersDead(eim) {}\n+\n+function cancelSchedule() {}\n+\n+function dispose() {}"}, {"sha": "e3d0d53c982842e0c51d2698da93f812aa1a2a6b", "filename": "scripts/event/3rdjob.js", "status": "removed", "additions": 0, "deletions": 144, "changes": 144, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/74b4ca41328567d38b130c50269e410c62708adb/scripts/event/3rdjob.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/74b4ca41328567d38b130c50269e410c62708adb/scripts/event/3rdjob.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/3rdjob.js?ref=74b4ca41328567d38b130c50269e410c62708adb", "patch": "@@ -1,144 +0,0 @@\n-importPackage(Packages.client);\n-importPackage(Packages.server.life);\n-importPackage(Packages.tools);\n-importPackage(Packages.client.inventory);\n-\n-function init() {\n-}\n-\n-\n-function monsterValue(eim, mobId) {\n-    return 1;\n-}\n-\n-\n-function setClassVars(player) {\n-    var returnMapId;\n-    var monsterId;\n-    var mapId;\n-    if (player.getJob().equals(MapleJob.FP_WIZARD) ||\n-        player.getJob().equals(MapleJob.IL_WIZARD) ||\n-        player.getJob().equals(MapleJob.CLERIC)) {\n-        mapId = 108010201;\n-        returnMapId = 100040106;\n-        monsterId = 9001001;\n-    } else if (player.getJob().equals(MapleJob.FIGHTER) ||\n-        player.getJob().equals(MapleJob.PAGE) ||\n-        player.getJob().equals(MapleJob.SPEARMAN)) {\n-        mapId = 108010301;\n-        returnMapId = 105070001;\n-        monsterId = 9001000;\n-    } else if (player.getJob().equals(MapleJob.ASSASSIN) ||\n-        player.getJob().equals(MapleJob.BANDIT)) {\n-        mapId = 108010401;\n-        returnMapId = 107000402;\n-        monsterId = 9001003;\n-    } else if (player.getJob().equals(MapleJob.HUNTER) ||\n-        player.getJob().equals(MapleJob.CROSSBOWMAN)) {\n-        mapId = 108010101;\n-        returnMapId = 105040305;\n-        monsterId = 9001002;\n-    } else if (player.getJob().equals(MapleJob.BRAWLER) ||\n-        player.getJob().equals(MapleJob.GUNSLINGER)) {\n-        mapId = 108010501;\n-        returnMapId = 105040305;\n-        monsterId = 9001008;\n-    }\n-    return new Array(mapId, returnMapId, monsterId);\n-}\n-\n-\n-function playerEntry(eim, player) {\n-    var info = setClassVars(player);\n-    var mapId = info[0];\n-    var returnMapId = info[1];\n-    var monsterId = info[2];\n-    var map = eim.getMapInstance(mapId);\n-    map.toggleDrops();\n-    \n-    player.changeMap(map, map.getPortal(0));\n-    var mob = map.getMonsterById(monsterId);\n-    eim.registerMonster(mob);\n-\teim.schedule(\"warpOut\", 20 * 60 * 1000);\n-\tmap.addMapTimer(20 * 60);\n-}\n-\n-\n-function playerDead(eim, player) {\n-    var info = setClassVars(player);\n-    var mapId = info[0];\n-    var returnMapId = info[1];\n-    var monsterId = info[2];\n-    player.setHp(1);\n-    var returnMap = em.getChannelServer().getMapFactory().getMap(returnMapId);\n-    player.changeMap(returnMap, returnMap.getPortal(0));\n-    eim.unregisterPlayer(player);\n-    eim.dispose();\n-}\n-\n-\n-function playerDisconnected(eim, player) {\n-    var info = setClassVars(player);\n-    var mapId = info[0];\n-    var returnMapId = info[1];\n-    var monsterId = info[2];\n-    eim.unregisterPlayer(player);\n-    player.getMap().removePlayer(player);\n-    var returnMap = em.getChannelServer().getMapFactory().getMap(returnMapId);\n-    player.setMap(returnMap);\n-    eim.dispose();\n-}\n-\n-function monsterKilled(mob, eim) {}\n-\n-function allMonstersDead(eim) {\n-    var winner = eim.getPlayers().get(0);\n-    var info = setClassVars(winner);\n-    var mapId = info[0];\n-    var returnMapId = info[1];\n-    var monsterId = info[2];\n-    var map = eim.getMapFactory().getMap(mapId);\n-    map.spawnItemDrop(winner, winner, new Item(4031059, 0, 1), winner.getPosition(), true, false);\n-    eim.schedule(\"warpOut\", 12 * 60 * 1000);\n-\tmap.addMapTimer(12 * 60);\n-}\n-\n-function cancelSchedule(eim) {\n-\t\n-}\n-\n-\n-function warpOut(eim) {\n-    var iter = eim.getPlayers().iterator();\n-    while (iter.hasNext()) {\n-        var player = iter.next();\n-        var info = setClassVars(player);\n-        var mapId = info[0];\n-        var returnMapId = info[1];\n-        var monsterId = info[2];\n-        var returnMap = em.getChannelServer().getMapFactory().getMap(returnMapId);\n-        player.changeMap(returnMap, returnMap.getPortal(0));\n-        eim.unregisterPlayer(player);\n-    }\n-    eim.dispose();\n-}\n-\n-\n-function leftParty(eim, player) {\n-    \n-}\n-\n-\n-function disbandParty(eim, player) {\n-\n-\n-}\n-\n-\n-function dispose() {\n-\n-\n-}\n-\n-function cancelSchedule(eim) {\n-}\n\\ No newline at end of file"}, {"sha": "07caed1e74bacc077f916f1d58d78d8c0d0473d8", "filename": "scripts/event/BossRushPQ.js", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/event/BossRushPQ.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/event/BossRushPQ.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/BossRushPQ.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -49,13 +49,13 @@ function setEventRewards(eim) {\n         var itemSet, itemQty, evLevel;\n \n         evLevel = 6;    //Rewards at event completion\n-        itemSet = [1122018, 1122005, 1022088, 1402013, 1032030, 1032070, 1102046, 2330004, 2041013, 2041016, 2041019, 2041022, 2049100, 2049003, 2020012, 2020013, 2020014, 2020015, 2022029, 2022045, 2022068, 2022069, 2022180, 2022179, 4004000, 4004001, 4004002, 4004003, 4004004, 4003000];\n-        itemQty = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 25, 25, 25, 25, 25, 25, 25, 25, 4, 4, 12, 12, 12, 12, 12, 25];\n+        itemSet = [3010061, 1122018, 1122005, 1022088, 1402013, 1032030, 1032070, 1102046, 2330004, 2041013, 2041016, 2041019, 2041022, 2049100, 2049003, 2020012, 2020013, 2020014, 2020015, 2022029, 2022045, 2022068, 2022069, 2022180, 2022179, 4004000, 4004001, 4004002, 4004003, 4004004, 4003000];\n+        itemQty = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 25, 25, 25, 25, 25, 25, 25, 25, 4, 4, 12, 12, 12, 12, 12, 25];\n         eim.setEventRewards(evLevel, itemSet, itemQty);\n \n         evLevel = 5;    //Rewards at Rest Spot V\n-        itemSet = [1122018, 1122005, 1022088, 1402013, 1032030, 1032070, 1102046, 2330004, 2041013, 2041016, 2041019, 2041022, 2049100, 2049003, 2020012, 2020013, 2020014, 2020015, 2022029, 2022045, 2022068, 2022069, 2022180, 2022179, 4004000, 4004001, 4004002, 4004003, 4004004, 4003000];\n-        itemQty = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 15, 15, 15, 15, 15, 15, 15, 15, 2, 2, 8, 8, 8, 8, 8, 12];\n+        itemSet = [3010063, 1122018, 1122005, 1022088, 1402013, 1032030, 1032070, 1102046, 2330004, 2041013, 2041016, 2041019, 2041022, 2049100, 2049003, 2020012, 2020013, 2020014, 2020015, 2022029, 2022045, 2022068, 2022069, 2022180, 2022179, 4004000, 4004001, 4004002, 4004003, 4004004, 4003000];\n+        itemQty = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 15, 15, 15, 15, 15, 15, 15, 15, 2, 2, 8, 8, 8, 8, 8, 12];\n         eim.setEventRewards(evLevel, itemSet, itemQty);\n         \n         evLevel = 4;    //Rewards at Rest Spot IV"}, {"sha": "283ef1d5ccc3a4f78e7348055c432510edb6973a", "filename": "scripts/event/CafePQ_1.js", "status": "added", "additions": 243, "deletions": 0, "changes": 243, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/event/CafePQ_1.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/event/CafePQ_1.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/CafePQ_1.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -0,0 +1,243 @@\n+/**\n+ * @author: Ronan\n+ * @event: Cafe PQ 1\n+*/\n+\n+importPackage(Packages.client.inventory);\n+\n+var isPq = true;\n+var minPlayers = 3, maxPlayers = 6;\n+var minLevel = 21, maxLevel = 120;\n+var entryMap = 190000000;\n+var exitMap = 193000000;\n+var recruitMap = 193000000;\n+\n+var minMapId = 190000000;\n+var maxMapId = 190000002;\n+\n+var eventMaps = [190000000, 190000001, 190000002];\n+\n+var eventTime = 45;         // 45 minutes\n+var couponsNeeded = 400;    // total of coupons to complete the event\n+\n+var lobbyRange = [0, 0];\n+\n+function init() {\n+        setEventRequirements();\n+}\n+\n+function setLobbyRange() {\n+        return lobbyRange;\n+}\n+\n+function setEventRequirements() {\n+        var reqStr = \"\";\n+        \n+        reqStr += \"\\r\\n    Number of players: \";\n+        if(maxPlayers - minPlayers >= 1) reqStr += minPlayers + \" ~ \" + maxPlayers;\n+        else reqStr += minPlayers;\n+        \n+        reqStr += \"\\r\\n    Level range: \";\n+        if(maxLevel - minLevel >= 1) reqStr += minLevel + \" ~ \" + maxLevel;\n+        else reqStr += minLevel;\n+        \n+        reqStr += \"\\r\\n    Time limit: \";\n+        reqStr += eventTime + \" minutes\";\n+        \n+        em.setProperty(\"party\", reqStr);\n+}\n+\n+function setEventExclusives(eim) {\n+        var itemSet = [4001007];\n+        eim.setExclusiveItems(itemSet);\n+}\n+\n+function setEventRewards(eim) {\n+        var itemSet, itemQty, evLevel, expStages;\n+\n+        evLevel = 1;    //Rewards at clear PQ\n+        itemSet = [4001014];\n+        itemQty = [1];\n+        eim.setEventRewards(evLevel, itemSet, itemQty);\n+        \n+        expStages = [20000];    //bonus exp given on CLEAR stage signal\n+        eim.setEventClearStageExp(expStages);\n+}\n+\n+function getEligibleParty(party) {      //selects, from the given party, the team that is allowed to attempt this event\n+        var eligible = [];\n+        var hasLeader = false;\n+        \n+        if(party.size() > 0) {\n+                var partyList = party.toArray();\n+\n+                for(var i = 0; i < party.size(); i++) {\n+                        var ch = partyList[i];\n+\n+                        if(ch.getMapId() == recruitMap && ch.getLevel() >= minLevel && ch.getLevel() <= maxLevel) {\n+                                if(ch.isLeader()) hasLeader = true;\n+                                eligible.push(ch);\n+                        }\n+                }\n+        }\n+        \n+        if(!(hasLeader && eligible.length >= minPlayers && eligible.length <= maxPlayers)) eligible = [];\n+        return eligible;\n+}\n+\n+function setup(level, lobbyid) {\n+        var eim = em.newInstance(\"Lan1_\" + lobbyid);\n+        eim.setProperty(\"level\", level);\n+        eim.setProperty(\"stage\", \"0\");\n+        \n+        eim.setIntProperty(\"couponsNeeded\", couponsNeeded);\n+        \n+        var i;\n+        for (i = 0; i < eventMaps.length; i++) { \n+            var mapObj = eim.getInstanceMap(eventMaps[i]);\n+            mapObj.resetPQ(level);\n+            mapObj.toggleDrops();\n+            mapObj.instanceMapForceRespawn();\n+        }\n+        \n+        respawnStages(eim);\n+        eim.startEventTimer(eventTime * 60000);\n+        setEventRewards(eim);\n+        setEventExclusives(eim);\n+        return eim;\n+}\n+\n+function afterSetup(eim) {}\n+\n+function respawnStages(eim) {\n+        var i;\n+        for (i = 0; i < eventMaps.length; i++) {\n+            eim.getInstanceMap(eventMaps[i]).instanceMapRespawn();\n+        }\n+        \n+        eim.schedule(\"respawnStages\", 15 * 1000);\n+}\n+\n+function playerEntry(eim, player) {\n+        var map = eim.getMapInstance(entryMap);\n+        player.changeMap(map, map.getPortal(0));\n+}\n+\n+function scheduledTimeout(eim) {\n+        end(eim);\n+}\n+\n+function playerUnregistered(eim, player) {}\n+\n+function playerExit(eim, player) {\n+        eim.unregisterPlayer(player);\n+        player.changeMap(exitMap, 0);\n+}\n+\n+function changedMap(eim, player, mapid) {\n+        if (mapid < minMapId || mapid > maxMapId) {\n+                if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                        eim.unregisterPlayer(player);\n+                        end(eim);\n+                }\n+                else\n+                        eim.unregisterPlayer(player);\n+        }\n+}\n+\n+function changedLeader(eim, leader) {\n+        var mapid = leader.getMapId();\n+        if (!eim.isEventCleared() && (mapid < minMapId || mapid > maxMapId)) {\n+                end(eim);\n+        }\n+}\n+\n+function playerDead(eim, player) {}\n+\n+function playerRevive(eim, player) { // player presses ok on the death pop up.\n+        if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                eim.unregisterPlayer(player);\n+                end(eim);\n+        }\n+        else\n+                eim.unregisterPlayer(player);\n+}\n+\n+function playerDisconnected(eim, player) {\n+        if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                eim.unregisterPlayer(player);\n+                end(eim);\n+        }\n+        else\n+                eim.unregisterPlayer(player);\n+}\n+\n+function leftParty(eim, player) {\n+        if (eim.isEventTeamLackingNow(false, minPlayers, player)) {\n+                eim.unregisterPlayer(player);\n+                end(eim);\n+        }\n+        else\n+                eim.unregisterPlayer(player);\n+}\n+\n+function disbandParty(eim) {\n+        end(eim);\n+}\n+\n+function monsterValue(eim, mobId) {\n+        return 1;\n+}\n+\n+function end(eim) {\n+        var party = eim.getPlayers();\n+        for (var i = 0; i < party.size(); i++) {\n+                playerExit(eim, party.get(i));\n+        }\n+        eim.dispose();\n+}\n+\n+function giveRandomEventReward(eim, player) {\n+        eim.giveEventReward(player);\n+}\n+\n+function clearPQ(eim) {\n+        eim.stopEventTimer();\n+        eim.setEventCleared();\n+        eim.giveEventPlayersStageReward(1);\n+        \n+        var i;\n+        for (i = 0; i < eventMaps.length; i++) {\n+            eim.getInstanceMap(eventMaps[i]).killAllMonstersNotFriendly();\n+            eim.showClearEffect(eventMaps[i]);\n+        }\n+}\n+\n+function getDroppedQuantity(mob) {\n+    if(mob.getLevel() > 65) {\n+        return 5;\n+    } else if(mob.getLevel() > 40) {\n+        return 2;\n+    } else {\n+        return 1;\n+    }\n+}\n+\n+function monsterKilled(mob, eim) {\n+    try {\n+        if(eim.isEventCleared()) return;\n+        \n+        var mapObj = mob.getMap();\n+        var itemObj = new Item(4001007, 0, getDroppedQuantity(mob));\n+        var dropper = eim.getPlayers().get(0);\n+\n+        mapObj.spawnItemDrop(mob, dropper, itemObj, mob.getPosition(), true, false);\n+        \n+    } catch(err) {} // PQ not started yet\n+}\n+\n+function allMonstersDead(eim) {}\n+\n+function cancelSchedule() {}\n+\n+function dispose(eim) {}"}, {"sha": "ca8be2219c117d5e6a8c1b1daf39e779d8baadaa", "filename": "scripts/event/CafePQ_2.js", "status": "added", "additions": 243, "deletions": 0, "changes": 243, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/event/CafePQ_2.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/event/CafePQ_2.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/CafePQ_2.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -0,0 +1,243 @@\n+/**\n+ * @author: Ronan\n+ * @event: Cafe PQ 2\n+*/\n+\n+importPackage(Packages.client.inventory);\n+\n+var isPq = true;\n+var minPlayers = 3, maxPlayers = 6;\n+var minLevel = 21, maxLevel = 120;\n+var entryMap = 191000000;\n+var exitMap = 193000000;\n+var recruitMap = 193000000;\n+\n+var minMapId = 191000000;\n+var maxMapId = 191000001;\n+\n+var eventMaps = [191000000, 191000001];\n+\n+var eventTime = 45;         // 45 minutes\n+var couponsNeeded = 350;    // total of coupons to complete the event\n+\n+var lobbyRange = [0, 0];\n+\n+function init() {\n+        setEventRequirements();\n+}\n+\n+function setLobbyRange() {\n+        return lobbyRange;\n+}\n+\n+function setEventRequirements() {\n+        var reqStr = \"\";\n+        \n+        reqStr += \"\\r\\n    Number of players: \";\n+        if(maxPlayers - minPlayers >= 1) reqStr += minPlayers + \" ~ \" + maxPlayers;\n+        else reqStr += minPlayers;\n+        \n+        reqStr += \"\\r\\n    Level range: \";\n+        if(maxLevel - minLevel >= 1) reqStr += minLevel + \" ~ \" + maxLevel;\n+        else reqStr += minLevel;\n+        \n+        reqStr += \"\\r\\n    Time limit: \";\n+        reqStr += eventTime + \" minutes\";\n+        \n+        em.setProperty(\"party\", reqStr);\n+}\n+\n+function setEventExclusives(eim) {\n+        var itemSet = [4001007];\n+        eim.setExclusiveItems(itemSet);\n+}\n+\n+function setEventRewards(eim) {\n+        var itemSet, itemQty, evLevel, expStages;\n+\n+        evLevel = 1;    //Rewards at clear PQ\n+        itemSet = [4001009];\n+        itemQty = [1];\n+        eim.setEventRewards(evLevel, itemSet, itemQty);\n+        \n+        expStages = [15000];    //bonus exp given on CLEAR stage signal\n+        eim.setEventClearStageExp(expStages);\n+}\n+\n+function getEligibleParty(party) {      //selects, from the given party, the team that is allowed to attempt this event\n+        var eligible = [];\n+        var hasLeader = false;\n+        \n+        if(party.size() > 0) {\n+                var partyList = party.toArray();\n+\n+                for(var i = 0; i < party.size(); i++) {\n+                        var ch = partyList[i];\n+\n+                        if(ch.getMapId() == recruitMap && ch.getLevel() >= minLevel && ch.getLevel() <= maxLevel) {\n+                                if(ch.isLeader()) hasLeader = true;\n+                                eligible.push(ch);\n+                        }\n+                }\n+        }\n+        \n+        if(!(hasLeader && eligible.length >= minPlayers && eligible.length <= maxPlayers)) eligible = [];\n+        return eligible;\n+}\n+\n+function setup(level, lobbyid) {\n+        var eim = em.newInstance(\"Lan2_\" + lobbyid);\n+        eim.setProperty(\"level\", level);\n+        eim.setProperty(\"stage\", \"0\");\n+        \n+        eim.setIntProperty(\"couponsNeeded\", couponsNeeded);\n+        \n+        var i;\n+        for (i = 0; i < eventMaps.length; i++) { \n+            var mapObj = eim.getInstanceMap(eventMaps[i]);\n+            mapObj.resetPQ(level);\n+            mapObj.toggleDrops();\n+            mapObj.instanceMapForceRespawn();\n+        }\n+        \n+        respawnStages(eim);\n+        eim.startEventTimer(eventTime * 60000);\n+        setEventRewards(eim);\n+        setEventExclusives(eim);\n+        return eim;\n+}\n+\n+function afterSetup(eim) {}\n+\n+function respawnStages(eim) {\n+        var i;\n+        for (i = 0; i < eventMaps.length; i++) {\n+            eim.getInstanceMap(eventMaps[i]).instanceMapRespawn();\n+        }\n+        \n+        eim.schedule(\"respawnStages\", 15 * 1000);\n+}\n+\n+function playerEntry(eim, player) {\n+        var map = eim.getMapInstance(entryMap);\n+        player.changeMap(map, map.getPortal(0));\n+}\n+\n+function scheduledTimeout(eim) {\n+        end(eim);\n+}\n+\n+function playerUnregistered(eim, player) {}\n+\n+function playerExit(eim, player) {\n+        eim.unregisterPlayer(player);\n+        player.changeMap(exitMap, 0);\n+}\n+\n+function changedMap(eim, player, mapid) {\n+        if (mapid < minMapId || mapid > maxMapId) {\n+                if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                        eim.unregisterPlayer(player);\n+                        end(eim);\n+                }\n+                else\n+                        eim.unregisterPlayer(player);\n+        }\n+}\n+\n+function changedLeader(eim, leader) {\n+        var mapid = leader.getMapId();\n+        if (!eim.isEventCleared() && (mapid < minMapId || mapid > maxMapId)) {\n+                end(eim);\n+        }\n+}\n+\n+function playerDead(eim, player) {}\n+\n+function playerRevive(eim, player) { // player presses ok on the death pop up.\n+        if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                eim.unregisterPlayer(player);\n+                end(eim);\n+        }\n+        else\n+                eim.unregisterPlayer(player);\n+}\n+\n+function playerDisconnected(eim, player) {\n+        if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                eim.unregisterPlayer(player);\n+                end(eim);\n+        }\n+        else\n+                eim.unregisterPlayer(player);\n+}\n+\n+function leftParty(eim, player) {\n+        if (eim.isEventTeamLackingNow(false, minPlayers, player)) {\n+                eim.unregisterPlayer(player);\n+                end(eim);\n+        }\n+        else\n+                eim.unregisterPlayer(player);\n+}\n+\n+function disbandParty(eim) {\n+        end(eim);\n+}\n+\n+function monsterValue(eim, mobId) {\n+        return 1;\n+}\n+\n+function end(eim) {\n+        var party = eim.getPlayers();\n+        for (var i = 0; i < party.size(); i++) {\n+                playerExit(eim, party.get(i));\n+        }\n+        eim.dispose();\n+}\n+\n+function giveRandomEventReward(eim, player) {\n+        eim.giveEventReward(player);\n+}\n+\n+function clearPQ(eim) {\n+        eim.stopEventTimer();\n+        eim.setEventCleared();\n+        eim.giveEventPlayersStageReward(1);\n+        \n+        var i;\n+        for (i = 0; i < eventMaps.length; i++) {\n+            eim.getInstanceMap(eventMaps[i]).killAllMonstersNotFriendly();\n+            eim.showClearEffect(eventMaps[i]);\n+        }\n+}\n+\n+function getDroppedQuantity(mob) {\n+    if(mob.getLevel() > 65) {\n+        return 5;\n+    } else if(mob.getLevel() > 40) {\n+        return 2;\n+    } else {\n+        return 1;\n+    }\n+}\n+\n+function monsterKilled(mob, eim) {\n+    try {\n+        if(eim.isEventCleared()) return;\n+        \n+        var mapObj = mob.getMap();\n+        var itemObj = new Item(4001007, 0, getDroppedQuantity(mob));\n+        var dropper = eim.getPlayers().get(0);\n+\n+        mapObj.spawnItemDrop(mob, dropper, itemObj, mob.getPosition(), true, false);\n+        \n+    } catch(err) {} // PQ not started yet\n+}\n+\n+function allMonstersDead(eim) {}\n+\n+function cancelSchedule() {}\n+\n+function dispose(eim) {}"}, {"sha": "00e088cfd18655084ebdb780540933a330c3d6a8", "filename": "scripts/event/CafePQ_3.js", "status": "added", "additions": 243, "deletions": 0, "changes": 243, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/event/CafePQ_3.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/event/CafePQ_3.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/CafePQ_3.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -0,0 +1,243 @@\n+/**\n+ * @author: Ronan\n+ * @event: Cafe PQ 3\n+*/\n+\n+importPackage(Packages.client.inventory);\n+\n+var isPq = true;\n+var minPlayers = 3, maxPlayers = 6;\n+var minLevel = 21, maxLevel = 120;\n+var entryMap = 192000000;\n+var exitMap = 193000000;\n+var recruitMap = 193000000;\n+\n+var minMapId = 192000000;\n+var maxMapId = 192000001;\n+\n+var eventMaps = [192000000, 192000001];\n+\n+var eventTime = 45;         // 45 minutes\n+var couponsNeeded = 350;    // total of coupons to complete the event\n+\n+var lobbyRange = [0, 0];\n+\n+function init() {\n+        setEventRequirements();\n+}\n+\n+function setLobbyRange() {\n+        return lobbyRange;\n+}\n+\n+function setEventRequirements() {\n+        var reqStr = \"\";\n+        \n+        reqStr += \"\\r\\n    Number of players: \";\n+        if(maxPlayers - minPlayers >= 1) reqStr += minPlayers + \" ~ \" + maxPlayers;\n+        else reqStr += minPlayers;\n+        \n+        reqStr += \"\\r\\n    Level range: \";\n+        if(maxLevel - minLevel >= 1) reqStr += minLevel + \" ~ \" + maxLevel;\n+        else reqStr += minLevel;\n+        \n+        reqStr += \"\\r\\n    Time limit: \";\n+        reqStr += eventTime + \" minutes\";\n+        \n+        em.setProperty(\"party\", reqStr);\n+}\n+\n+function setEventExclusives(eim) {\n+        var itemSet = [4001007];\n+        eim.setExclusiveItems(itemSet);\n+}\n+\n+function setEventRewards(eim) {\n+        var itemSet, itemQty, evLevel, expStages;\n+\n+        evLevel = 1;    //Rewards at clear PQ\n+        itemSet = [4001013];\n+        itemQty = [1];\n+        eim.setEventRewards(evLevel, itemSet, itemQty);\n+        \n+        expStages = [12000];    //bonus exp given on CLEAR stage signal\n+        eim.setEventClearStageExp(expStages);\n+}\n+\n+function getEligibleParty(party) {      //selects, from the given party, the team that is allowed to attempt this event\n+        var eligible = [];\n+        var hasLeader = false;\n+        \n+        if(party.size() > 0) {\n+                var partyList = party.toArray();\n+\n+                for(var i = 0; i < party.size(); i++) {\n+                        var ch = partyList[i];\n+\n+                        if(ch.getMapId() == recruitMap && ch.getLevel() >= minLevel && ch.getLevel() <= maxLevel) {\n+                                if(ch.isLeader()) hasLeader = true;\n+                                eligible.push(ch);\n+                        }\n+                }\n+        }\n+        \n+        if(!(hasLeader && eligible.length >= minPlayers && eligible.length <= maxPlayers)) eligible = [];\n+        return eligible;\n+}\n+\n+function setup(level, lobbyid) {\n+        var eim = em.newInstance(\"Lan3_\" + lobbyid);\n+        eim.setProperty(\"level\", level);\n+        eim.setProperty(\"stage\", \"0\");\n+        \n+        eim.setIntProperty(\"couponsNeeded\", couponsNeeded);\n+        \n+        var i;\n+        for (i = 0; i < eventMaps.length; i++) { \n+            var mapObj = eim.getInstanceMap(eventMaps[i]);\n+            mapObj.resetPQ(level);\n+            mapObj.toggleDrops();\n+            mapObj.instanceMapForceRespawn();\n+        }\n+        \n+        respawnStages(eim);\n+        eim.startEventTimer(eventTime * 60000);\n+        setEventRewards(eim);\n+        setEventExclusives(eim);\n+        return eim;\n+}\n+\n+function afterSetup(eim) {}\n+\n+function respawnStages(eim) {\n+        var i;\n+        for (i = 0; i < eventMaps.length; i++) {\n+            eim.getInstanceMap(eventMaps[i]).instanceMapRespawn();\n+        }\n+        \n+        eim.schedule(\"respawnStages\", 15 * 1000);\n+}\n+\n+function playerEntry(eim, player) {\n+        var map = eim.getMapInstance(entryMap);\n+        player.changeMap(map, map.getPortal(0));\n+}\n+\n+function scheduledTimeout(eim) {\n+        end(eim);\n+}\n+\n+function playerUnregistered(eim, player) {}\n+\n+function playerExit(eim, player) {\n+        eim.unregisterPlayer(player);\n+        player.changeMap(exitMap, 0);\n+}\n+\n+function changedMap(eim, player, mapid) {\n+        if (mapid < minMapId || mapid > maxMapId) {\n+                if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                        eim.unregisterPlayer(player);\n+                        end(eim);\n+                }\n+                else\n+                        eim.unregisterPlayer(player);\n+        }\n+}\n+\n+function changedLeader(eim, leader) {\n+        var mapid = leader.getMapId();\n+        if (!eim.isEventCleared() && (mapid < minMapId || mapid > maxMapId)) {\n+                end(eim);\n+        }\n+}\n+\n+function playerDead(eim, player) {}\n+\n+function playerRevive(eim, player) { // player presses ok on the death pop up.\n+        if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                eim.unregisterPlayer(player);\n+                end(eim);\n+        }\n+        else\n+                eim.unregisterPlayer(player);\n+}\n+\n+function playerDisconnected(eim, player) {\n+        if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                eim.unregisterPlayer(player);\n+                end(eim);\n+        }\n+        else\n+                eim.unregisterPlayer(player);\n+}\n+\n+function leftParty(eim, player) {\n+        if (eim.isEventTeamLackingNow(false, minPlayers, player)) {\n+                eim.unregisterPlayer(player);\n+                end(eim);\n+        }\n+        else\n+                eim.unregisterPlayer(player);\n+}\n+\n+function disbandParty(eim) {\n+        end(eim);\n+}\n+\n+function monsterValue(eim, mobId) {\n+        return 1;\n+}\n+\n+function end(eim) {\n+        var party = eim.getPlayers();\n+        for (var i = 0; i < party.size(); i++) {\n+                playerExit(eim, party.get(i));\n+        }\n+        eim.dispose();\n+}\n+\n+function giveRandomEventReward(eim, player) {\n+        eim.giveEventReward(player);\n+}\n+\n+function clearPQ(eim) {\n+        eim.stopEventTimer();\n+        eim.setEventCleared();\n+        eim.giveEventPlayersStageReward(1);\n+        \n+        var i;\n+        for (i = 0; i < eventMaps.length; i++) {\n+            eim.getInstanceMap(eventMaps[i]).killAllMonstersNotFriendly();\n+            eim.showClearEffect(eventMaps[i]);\n+        }\n+}\n+\n+function getDroppedQuantity(mob) {\n+    if(mob.getLevel() > 65) {\n+        return 3;\n+    } else if(mob.getLevel() > 40) {\n+        return 2;\n+    } else {\n+        return 1;\n+    }\n+}\n+\n+function monsterKilled(mob, eim) {\n+    try {\n+        if(eim.isEventCleared()) return;\n+        \n+        var mapObj = mob.getMap();\n+        var itemObj = new Item(4001007, 0, getDroppedQuantity(mob));\n+        var dropper = eim.getPlayers().get(0);\n+\n+        mapObj.spawnItemDrop(mob, dropper, itemObj, mob.getPosition(), true, false);\n+        \n+    } catch(err) {} // PQ not started yet\n+}\n+\n+function allMonstersDead(eim) {}\n+\n+function cancelSchedule() {}\n+\n+function dispose(eim) {}"}, {"sha": "c3bb0fe527c8c81552239a62bfadd0817a9c5ce7", "filename": "scripts/event/CafePQ_4.js", "status": "added", "additions": 243, "deletions": 0, "changes": 243, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/event/CafePQ_4.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/event/CafePQ_4.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/CafePQ_4.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -0,0 +1,243 @@\n+/**\n+ * @author: Ronan\n+ * @event: Cafe PQ 4\n+*/\n+\n+importPackage(Packages.client.inventory);\n+\n+var isPq = true;\n+var minPlayers = 3, maxPlayers = 6;\n+var minLevel = 21, maxLevel = 120;\n+var entryMap = 195000000;\n+var exitMap = 193000000;\n+var recruitMap = 193000000;\n+\n+var minMapId = 195000000;\n+var maxMapId = 195030000;\n+\n+var eventMaps = [195000000, 195010000, 195020000, 195030000];\n+\n+var eventTime = 45;         // 45 minutes\n+var couponsNeeded = 450;    // total of coupons to complete the event\n+\n+var lobbyRange = [0, 0];\n+\n+function init() {\n+        setEventRequirements();\n+}\n+\n+function setLobbyRange() {\n+        return lobbyRange;\n+}\n+\n+function setEventRequirements() {\n+        var reqStr = \"\";\n+        \n+        reqStr += \"\\r\\n    Number of players: \";\n+        if(maxPlayers - minPlayers >= 1) reqStr += minPlayers + \" ~ \" + maxPlayers;\n+        else reqStr += minPlayers;\n+        \n+        reqStr += \"\\r\\n    Level range: \";\n+        if(maxLevel - minLevel >= 1) reqStr += minLevel + \" ~ \" + maxLevel;\n+        else reqStr += minLevel;\n+        \n+        reqStr += \"\\r\\n    Time limit: \";\n+        reqStr += eventTime + \" minutes\";\n+        \n+        em.setProperty(\"party\", reqStr);\n+}\n+\n+function setEventExclusives(eim) {\n+        var itemSet = [4001007];\n+        eim.setExclusiveItems(itemSet);\n+}\n+\n+function setEventRewards(eim) {\n+        var itemSet, itemQty, evLevel, expStages;\n+\n+        evLevel = 1;    //Rewards at clear PQ\n+        itemSet = [4001011];\n+        itemQty = [1];\n+        eim.setEventRewards(evLevel, itemSet, itemQty);\n+        \n+        expStages = [21000];    //bonus exp given on CLEAR stage signal\n+        eim.setEventClearStageExp(expStages);\n+}\n+\n+function getEligibleParty(party) {      //selects, from the given party, the team that is allowed to attempt this event\n+        var eligible = [];\n+        var hasLeader = false;\n+        \n+        if(party.size() > 0) {\n+                var partyList = party.toArray();\n+\n+                for(var i = 0; i < party.size(); i++) {\n+                        var ch = partyList[i];\n+\n+                        if(ch.getMapId() == recruitMap && ch.getLevel() >= minLevel && ch.getLevel() <= maxLevel) {\n+                                if(ch.isLeader()) hasLeader = true;\n+                                eligible.push(ch);\n+                        }\n+                }\n+        }\n+        \n+        if(!(hasLeader && eligible.length >= minPlayers && eligible.length <= maxPlayers)) eligible = [];\n+        return eligible;\n+}\n+\n+function setup(level, lobbyid) {\n+        var eim = em.newInstance(\"Lan4_\" + lobbyid);\n+        eim.setProperty(\"level\", level);\n+        eim.setProperty(\"stage\", \"0\");\n+        \n+        eim.setIntProperty(\"couponsNeeded\", couponsNeeded);\n+        \n+        var i;\n+        for (i = 0; i < eventMaps.length; i++) { \n+            var mapObj = eim.getInstanceMap(eventMaps[i]);\n+            mapObj.resetPQ(level);\n+            mapObj.toggleDrops();\n+            mapObj.instanceMapForceRespawn();\n+        }\n+        \n+        respawnStages(eim);\n+        eim.startEventTimer(eventTime * 60000);\n+        setEventRewards(eim);\n+        setEventExclusives(eim);\n+        return eim;\n+}\n+\n+function afterSetup(eim) {}\n+\n+function respawnStages(eim) {\n+        var i;\n+        for (i = 0; i < eventMaps.length; i++) {\n+            eim.getInstanceMap(eventMaps[i]).instanceMapRespawn();\n+        }\n+        \n+        eim.schedule(\"respawnStages\", 15 * 1000);\n+}\n+\n+function playerEntry(eim, player) {\n+        var map = eim.getMapInstance(entryMap);\n+        player.changeMap(map, map.getPortal(0));\n+}\n+\n+function scheduledTimeout(eim) {\n+        end(eim);\n+}\n+\n+function playerUnregistered(eim, player) {}\n+\n+function playerExit(eim, player) {\n+        eim.unregisterPlayer(player);\n+        player.changeMap(exitMap, 0);\n+}\n+\n+function changedMap(eim, player, mapid) {\n+        if (mapid < minMapId || mapid > maxMapId) {\n+                if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                        eim.unregisterPlayer(player);\n+                        end(eim);\n+                }\n+                else\n+                        eim.unregisterPlayer(player);\n+        }\n+}\n+\n+function changedLeader(eim, leader) {\n+        var mapid = leader.getMapId();\n+        if (!eim.isEventCleared() && (mapid < minMapId || mapid > maxMapId)) {\n+                end(eim);\n+        }\n+}\n+\n+function playerDead(eim, player) {}\n+\n+function playerRevive(eim, player) { // player presses ok on the death pop up.\n+        if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                eim.unregisterPlayer(player);\n+                end(eim);\n+        }\n+        else\n+                eim.unregisterPlayer(player);\n+}\n+\n+function playerDisconnected(eim, player) {\n+        if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                eim.unregisterPlayer(player);\n+                end(eim);\n+        }\n+        else\n+                eim.unregisterPlayer(player);\n+}\n+\n+function leftParty(eim, player) {\n+        if (eim.isEventTeamLackingNow(false, minPlayers, player)) {\n+                eim.unregisterPlayer(player);\n+                end(eim);\n+        }\n+        else\n+                eim.unregisterPlayer(player);\n+}\n+\n+function disbandParty(eim) {\n+        end(eim);\n+}\n+\n+function monsterValue(eim, mobId) {\n+        return 1;\n+}\n+\n+function end(eim) {\n+        var party = eim.getPlayers();\n+        for (var i = 0; i < party.size(); i++) {\n+                playerExit(eim, party.get(i));\n+        }\n+        eim.dispose();\n+}\n+\n+function giveRandomEventReward(eim, player) {\n+        eim.giveEventReward(player);\n+}\n+\n+function clearPQ(eim) {\n+        eim.stopEventTimer();\n+        eim.setEventCleared();\n+        eim.giveEventPlayersStageReward(1);\n+        \n+        var i;\n+        for (i = 0; i < eventMaps.length; i++) {\n+            eim.getInstanceMap(eventMaps[i]).killAllMonstersNotFriendly();\n+            eim.showClearEffect(eventMaps[i]);\n+        }\n+}\n+\n+function getDroppedQuantity(mob) {\n+    if(mob.getLevel() > 65) {\n+        return 5;\n+    } else if(mob.getLevel() > 40) {\n+        return 2;\n+    } else {\n+        return 1;\n+    }\n+}\n+\n+function monsterKilled(mob, eim) {\n+    try {\n+        if(eim.isEventCleared()) return;\n+        \n+        var mapObj = mob.getMap();\n+        var itemObj = new Item(4001007, 0, getDroppedQuantity(mob));\n+        var dropper = eim.getPlayers().get(0);\n+\n+        mapObj.spawnItemDrop(mob, dropper, itemObj, mob.getPosition(), true, false);\n+        \n+    } catch(err) {} // PQ not started yet\n+}\n+\n+function allMonstersDead(eim) {}\n+\n+function cancelSchedule() {}\n+\n+function dispose(eim) {}"}, {"sha": "38ac2922d8aaefe96cafdc2c9e9357b7608b3ac8", "filename": "scripts/event/CafePQ_5.js", "status": "added", "additions": 243, "deletions": 0, "changes": 243, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/event/CafePQ_5.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/event/CafePQ_5.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/CafePQ_5.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -0,0 +1,243 @@\n+/**\n+ * @author: Ronan\n+ * @event: Cafe PQ 5\n+*/\n+\n+importPackage(Packages.client.inventory);\n+\n+var isPq = true;\n+var minPlayers = 3, maxPlayers = 6;\n+var minLevel = 21, maxLevel = 120;\n+var entryMap = 196000000;\n+var exitMap = 193000000;\n+var recruitMap = 193000000;\n+\n+var minMapId = 196000000;\n+var maxMapId = 196010000;\n+\n+var eventMaps = [196000000, 196010000];\n+\n+var eventTime = 45;         // 45 minutes\n+var couponsNeeded = 500;    // total of coupons to complete the event\n+\n+var lobbyRange = [0, 0];\n+\n+function init() {\n+        setEventRequirements();\n+}\n+\n+function setLobbyRange() {\n+        return lobbyRange;\n+}\n+\n+function setEventRequirements() {\n+        var reqStr = \"\";\n+        \n+        reqStr += \"\\r\\n    Number of players: \";\n+        if(maxPlayers - minPlayers >= 1) reqStr += minPlayers + \" ~ \" + maxPlayers;\n+        else reqStr += minPlayers;\n+        \n+        reqStr += \"\\r\\n    Level range: \";\n+        if(maxLevel - minLevel >= 1) reqStr += minLevel + \" ~ \" + maxLevel;\n+        else reqStr += minLevel;\n+        \n+        reqStr += \"\\r\\n    Time limit: \";\n+        reqStr += eventTime + \" minutes\";\n+        \n+        em.setProperty(\"party\", reqStr);\n+}\n+\n+function setEventExclusives(eim) {\n+        var itemSet = [4001007];\n+        eim.setExclusiveItems(itemSet);\n+}\n+\n+function setEventRewards(eim) {\n+        var itemSet, itemQty, evLevel, expStages;\n+\n+        evLevel = 1;    //Rewards at clear PQ\n+        itemSet = [4001012];\n+        itemQty = [1];\n+        eim.setEventRewards(evLevel, itemSet, itemQty);\n+        \n+        expStages = [25000];    //bonus exp given on CLEAR stage signal\n+        eim.setEventClearStageExp(expStages);\n+}\n+\n+function getEligibleParty(party) {      //selects, from the given party, the team that is allowed to attempt this event\n+        var eligible = [];\n+        var hasLeader = false;\n+        \n+        if(party.size() > 0) {\n+                var partyList = party.toArray();\n+\n+                for(var i = 0; i < party.size(); i++) {\n+                        var ch = partyList[i];\n+\n+                        if(ch.getMapId() == recruitMap && ch.getLevel() >= minLevel && ch.getLevel() <= maxLevel) {\n+                                if(ch.isLeader()) hasLeader = true;\n+                                eligible.push(ch);\n+                        }\n+                }\n+        }\n+        \n+        if(!(hasLeader && eligible.length >= minPlayers && eligible.length <= maxPlayers)) eligible = [];\n+        return eligible;\n+}\n+\n+function setup(level, lobbyid) {\n+        var eim = em.newInstance(\"Lan5_\" + lobbyid);\n+        eim.setProperty(\"level\", level);\n+        eim.setProperty(\"stage\", \"0\");\n+        \n+        eim.setIntProperty(\"couponsNeeded\", couponsNeeded);\n+        \n+        var i;\n+        for (i = 0; i < eventMaps.length; i++) { \n+            var mapObj = eim.getInstanceMap(eventMaps[i]);\n+            mapObj.resetPQ(level);\n+            mapObj.toggleDrops();\n+            mapObj.instanceMapForceRespawn();\n+        }\n+        \n+        respawnStages(eim);\n+        eim.startEventTimer(eventTime * 60000);\n+        setEventRewards(eim);\n+        setEventExclusives(eim);\n+        return eim;\n+}\n+\n+function afterSetup(eim) {}\n+\n+function respawnStages(eim) {\n+        var i;\n+        for (i = 0; i < eventMaps.length; i++) {\n+            eim.getInstanceMap(eventMaps[i]).instanceMapRespawn();\n+        }\n+        \n+        eim.schedule(\"respawnStages\", 15 * 1000);\n+}\n+\n+function playerEntry(eim, player) {\n+        var map = eim.getMapInstance(entryMap);\n+        player.changeMap(map, map.getPortal(0));\n+}\n+\n+function scheduledTimeout(eim) {\n+        end(eim);\n+}\n+\n+function playerUnregistered(eim, player) {}\n+\n+function playerExit(eim, player) {\n+        eim.unregisterPlayer(player);\n+        player.changeMap(exitMap, 0);\n+}\n+\n+function changedMap(eim, player, mapid) {\n+        if (mapid < minMapId || mapid > maxMapId) {\n+                if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                        eim.unregisterPlayer(player);\n+                        end(eim);\n+                }\n+                else\n+                        eim.unregisterPlayer(player);\n+        }\n+}\n+\n+function changedLeader(eim, leader) {\n+        var mapid = leader.getMapId();\n+        if (!eim.isEventCleared() && (mapid < minMapId || mapid > maxMapId)) {\n+                end(eim);\n+        }\n+}\n+\n+function playerDead(eim, player) {}\n+\n+function playerRevive(eim, player) { // player presses ok on the death pop up.\n+        if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                eim.unregisterPlayer(player);\n+                end(eim);\n+        }\n+        else\n+                eim.unregisterPlayer(player);\n+}\n+\n+function playerDisconnected(eim, player) {\n+        if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                eim.unregisterPlayer(player);\n+                end(eim);\n+        }\n+        else\n+                eim.unregisterPlayer(player);\n+}\n+\n+function leftParty(eim, player) {\n+        if (eim.isEventTeamLackingNow(false, minPlayers, player)) {\n+                eim.unregisterPlayer(player);\n+                end(eim);\n+        }\n+        else\n+                eim.unregisterPlayer(player);\n+}\n+\n+function disbandParty(eim) {\n+        end(eim);\n+}\n+\n+function monsterValue(eim, mobId) {\n+        return 1;\n+}\n+\n+function end(eim) {\n+        var party = eim.getPlayers();\n+        for (var i = 0; i < party.size(); i++) {\n+                playerExit(eim, party.get(i));\n+        }\n+        eim.dispose();\n+}\n+\n+function giveRandomEventReward(eim, player) {\n+        eim.giveEventReward(player);\n+}\n+\n+function clearPQ(eim) {\n+        eim.stopEventTimer();\n+        eim.setEventCleared();\n+        eim.giveEventPlayersStageReward(1);\n+        \n+        var i;\n+        for (i = 0; i < eventMaps.length; i++) {\n+            eim.getInstanceMap(eventMaps[i]).killAllMonstersNotFriendly();\n+            eim.showClearEffect(eventMaps[i]);\n+        }\n+}\n+\n+function getDroppedQuantity(mob) {\n+    if(mob.getLevel() > 65) {\n+        return 5;\n+    } else if(mob.getLevel() > 40) {\n+        return 2;\n+    } else {\n+        return 1;\n+    }\n+}\n+\n+function monsterKilled(mob, eim) {\n+    try {\n+        if(eim.isEventCleared()) return;\n+        \n+        var mapObj = mob.getMap();\n+        var itemObj = new Item(4001007, 0, getDroppedQuantity(mob));\n+        var dropper = eim.getPlayers().get(0);\n+\n+        mapObj.spawnItemDrop(mob, dropper, itemObj, mob.getPosition(), true, false);\n+        \n+    } catch(err) {} // PQ not started yet\n+}\n+\n+function allMonstersDead(eim) {}\n+\n+function cancelSchedule() {}\n+\n+function dispose(eim) {}"}, {"sha": "84089fc09a0fad69ab2d01abf3c83772b935952e", "filename": "scripts/event/CafePQ_6.js", "status": "added", "additions": 244, "deletions": 0, "changes": 244, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/event/CafePQ_6.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/event/CafePQ_6.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/CafePQ_6.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -0,0 +1,244 @@\n+/**\n+ * @author: Ronan\n+ * @event: Cafe PQ 6\n+*/\n+\n+importPackage(Packages.client.inventory);\n+\n+var isPq = true;\n+var minPlayers = 3, maxPlayers = 6;\n+var minLevel = 21, maxLevel = 120;\n+var entryMap = 197000000;\n+var exitMap = 193000000;\n+var recruitMap = 193000000;\n+\n+var minMapId = 197000000;\n+var maxMapId = 197010000;\n+\n+var eventMaps = [197000000, 197010000];\n+\n+var eventTime = 45;         // 45 minutes\n+var couponsNeeded = 300;    // total of coupons to complete the event\n+\n+var lobbyRange = [0, 0];\n+\n+function init() {\n+        setEventRequirements();\n+}\n+\n+function setLobbyRange() {\n+        return lobbyRange;\n+}\n+\n+function setEventRequirements() {\n+        var reqStr = \"\";\n+        \n+        reqStr += \"\\r\\n    Number of players: \";\n+        if(maxPlayers - minPlayers >= 1) reqStr += minPlayers + \" ~ \" + maxPlayers;\n+        else reqStr += minPlayers;\n+        \n+        reqStr += \"\\r\\n    Level range: \";\n+        if(maxLevel - minLevel >= 1) reqStr += minLevel + \" ~ \" + maxLevel;\n+        else reqStr += minLevel;\n+        \n+        reqStr += \"\\r\\n    Time limit: \";\n+        reqStr += eventTime + \" minutes\";\n+        \n+        em.setProperty(\"party\", reqStr);\n+}\n+\n+function setEventExclusives(eim) {\n+        var itemSet = [4001007];\n+        eim.setExclusiveItems(itemSet);\n+}\n+\n+function setEventRewards(eim) {\n+        var itemSet, itemQty, evLevel, expStages;\n+\n+        evLevel = 1;    //Rewards at clear PQ\n+        itemSet = [4001010];\n+        itemQty = [1];\n+        eim.setEventRewards(evLevel, itemSet, itemQty);\n+        \n+        expStages = [10000];    //bonus exp given on CLEAR stage signal\n+        eim.setEventClearStageExp(expStages);\n+}\n+\n+function getEligibleParty(party) {      //selects, from the given party, the team that is allowed to attempt this event\n+        var eligible = [];\n+        var hasLeader = false;\n+        \n+        if(party.size() > 0) {\n+                var partyList = party.toArray();\n+\n+                for(var i = 0; i < party.size(); i++) {\n+                        var ch = partyList[i];\n+\n+                        if(ch.getMapId() == recruitMap && ch.getLevel() >= minLevel && ch.getLevel() <= maxLevel) {\n+                                if(ch.isLeader()) hasLeader = true;\n+                                eligible.push(ch);\n+                        }\n+                }\n+        }\n+        \n+        if(!(hasLeader && eligible.length >= minPlayers && eligible.length <= maxPlayers)) eligible = [];\n+        return eligible;\n+}\n+\n+function setup(level, lobbyid) {\n+        var eim = em.newInstance(\"Lan6_\" + lobbyid);\n+        eim.setProperty(\"level\", level);\n+        eim.setProperty(\"stage\", \"0\");\n+        \n+        eim.setIntProperty(\"couponsNeeded\", couponsNeeded);\n+        \n+        var i;\n+        for (i = 0; i < eventMaps.length; i++) { \n+            var mapObj = eim.getInstanceMap(eventMaps[i]);\n+            mapObj.resetPQ(level);\n+            mapObj.toggleDrops();\n+            mapObj.instanceMapForceRespawn();\n+        }\n+        \n+        respawnStages(eim);\n+        eim.startEventTimer(eventTime * 60000);\n+        setEventRewards(eim);\n+        setEventExclusives(eim);\n+        return eim;\n+}\n+\n+function afterSetup(eim) {}\n+\n+function respawnStages(eim) {\n+        var i;\n+        for (i = 0; i < eventMaps.length; i++) {\n+            eim.getInstanceMap(eventMaps[i]).instanceMapRespawn();\n+        }\n+        \n+        eim.schedule(\"respawnStages\", 15 * 1000);\n+}\n+\n+function playerEntry(eim, player) {\n+        var map = eim.getMapInstance(entryMap);\n+        player.changeMap(map, map.getPortal(0));\n+}\n+\n+function scheduledTimeout(eim) {\n+        end(eim);\n+}\n+\n+function playerUnregistered(eim, player) {}\n+\n+function playerExit(eim, player) {\n+        eim.unregisterPlayer(player);\n+        player.changeMap(exitMap, 0);\n+}\n+\n+function changedMap(eim, player, mapid) {\n+        if (mapid < minMapId || mapid > maxMapId) {\n+                if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                        eim.unregisterPlayer(player);\n+                        end(eim);\n+                }\n+                else\n+                        eim.unregisterPlayer(player);\n+        }\n+}\n+\n+function changedLeader(eim, leader) {\n+        var mapid = leader.getMapId();\n+        if (!eim.isEventCleared() && (mapid < minMapId || mapid > maxMapId)) {\n+                end(eim);\n+        }\n+}\n+\n+function playerDead(eim, player) {}\n+\n+function playerRevive(eim, player) { // player presses ok on the death pop up.\n+        if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                eim.unregisterPlayer(player);\n+                end(eim);\n+        }\n+        else\n+                eim.unregisterPlayer(player);\n+}\n+\n+function playerDisconnected(eim, player) {\n+        if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                eim.unregisterPlayer(player);\n+                end(eim);\n+        }\n+        else\n+                eim.unregisterPlayer(player);\n+}\n+\n+function leftParty(eim, player) {\n+        if (eim.isEventTeamLackingNow(false, minPlayers, player)) {\n+                eim.unregisterPlayer(player);\n+                end(eim);\n+        }\n+        else\n+                eim.unregisterPlayer(player);\n+}\n+\n+function disbandParty(eim) {\n+        end(eim);\n+}\n+\n+function monsterValue(eim, mobId) {\n+        return 1;\n+}\n+\n+function end(eim) {\n+        var party = eim.getPlayers();\n+        for (var i = 0; i < party.size(); i++) {\n+                playerExit(eim, party.get(i));\n+        }\n+        eim.dispose();\n+}\n+\n+function giveRandomEventReward(eim, player) {\n+        eim.giveEventReward(player);\n+}\n+\n+function clearPQ(eim) {\n+        eim.stopEventTimer();\n+        eim.setEventCleared();\n+        eim.giveEventPlayersStageReward(1);\n+        \n+        var i;\n+        for (i = 0; i < eventMaps.length; i++) {\n+            eim.getInstanceMap(eventMaps[i]).killAllMonstersNotFriendly();\n+            eim.showClearEffect(eventMaps[i]);\n+        }\n+}\n+\n+function getDroppedQuantity(mob) {\n+    if(mob.getLevel() > 65) {\n+        return 5;\n+    } else if(mob.getLevel() > 40) {\n+        return 2;\n+    } else {\n+        return 1;\n+    }\n+}\n+\n+function monsterKilled(mob, eim) {\n+    try {\n+        if(eim.isEventCleared()) return;\n+        \n+        var mapObj = mob.getMap();\n+        var itemObj = new Item(4001007, 0, 1);\n+        var dropper = eim.getPlayers().get(0);\n+\n+        itemObj.setQuantity(getDroppedQuantity(mob));\n+        mapObj.spawnItemDrop(mob, dropper, itemObj, mob.getPosition(), true, false);\n+        \n+    } catch(err) {} // PQ not started yet\n+}\n+\n+function allMonstersDead(eim) {}\n+\n+function cancelSchedule() {}\n+\n+function dispose(eim) {}"}, {"sha": "2fba5a9035623db09b276bf3a15101c907fdb7c7", "filename": "scripts/npc/1002002.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/1002002.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/1002002.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1002002.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -60,7 +60,7 @@ function action(mode, type, selection) {\n                 if(selection == 0)\n                     cm.gainMeso(-1500);\n                 cm.getPlayer().saveLocation(\"FLORINA\");\n-                cm.warp(110000000);\n+                cm.warp(110000000, \"st00\");\n             }\n             cm.dispose();\n         }"}, {"sha": "286a29d20d19b07cf321a1658b91113ce891df2c", "filename": "scripts/npc/1052013.js", "status": "modified", "additions": 107, "deletions": 4, "changes": 111, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/1052013.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/1052013.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1052013.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -23,10 +23,113 @@\n /*\n     NPC ID: 1052013 \n     NPC NAME: Computer\n-    @author Vcoc\n+    @author Ronan\n */\n \n+var status;\n+var pqArea;\n+ \n function start() {\n-    cm.sendOk(\"MapleStory.exe stopped working... Please, restart the game.\");\n-    cm.dispose();\n-}\n\\ No newline at end of file\n+        status = -1;\n+        action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+        if (mode == -1) {\n+                cm.dispose();\n+        } else {\n+                if (mode == 0 && type > 0) {\n+                        cm.dispose();\n+                        return;\n+                }\n+                if (mode == 1)\n+                        status++;\n+                else\n+                        status--;\n+                \n+                if(cm.getMapId() != 193000000) {\n+                        var eim = cm.getEventInstance();\n+                    \n+                        if(status == 0) {\n+                                if(!eim.isEventCleared()) {\n+                                        var couponsNeeded = eim.getIntProperty(\"couponsNeeded\");\n+                                    \n+                                        if(cm.isEventLeader()) {\n+                                                if(cm.haveItem(4001007, couponsNeeded)) {\n+                                                        cm.sendNext(\"Your team collected all the needed coupons, good work!\");\n+                                                        cm.gainItem(4001007, couponsNeeded);\n+                                                        eim.clearPQ();\n+\n+                                                        cm.dispose();\n+                                                        return;\n+                                                } else {\n+                                                        cm.sendYesNo(\"Your team must collect #r\" + couponsNeeded + \"#k coupons to complete this event. Talk to me when you have the right amount in hands... Or you want to #bquit now#k? Note that if you quit now #ryour team will be forced to quit#k as well.\");\n+                                                }\n+                                        } else {\n+                                                cm.sendYesNo(\"Your team must collect #r\" + couponsNeeded + \"#k coupons to complete this event. Let your leader talk to me with the right amount in hands... Or you want to #bquit now#k? Note that if you quit now your team #rmay become undermanned#k to complete this event.\");\n+                                        }\n+                                } else {\n+                                        if(!eim.giveEventReward(cm.getPlayer())) {\n+                                                cm.sendOk(\"Please make a room on your ETC inventory to receive the prize.\");\n+                                                cm.dispose();\n+                                        } else {\n+                                                cm.warp(193000000);\n+                                                cm.dispose();\n+                                        }\n+                                }\n+                        } else if(status == 1) {\n+                                cm.warp(193000000);\n+                                cm.dispose();\n+                        }\n+                } else {\n+                        var levels = [\"#m190000000#\", \"#m191000000#\", \"#m192000000#\", \"#m195000000#\", \"#m196000000#\", \"#m197000000#\"];\n+                        if (status == 0) {\n+                                var sendStr = \"Premium Road is a place of multiple areas with monsters of most various types gathered together, an ideal place for grinding EXP and erasers for the #p1052014#. Select the area you are willing to face:\\r\\n\\r\\n#b\";\n+                                for(var i = 0; i < 6; i++) {\n+                                    sendStr += \"#L\" + i + \"#\" + levels[i] + \"#l\\r\\n\";\n+                                }\n+\n+                                cm.sendSimple(sendStr);\n+                        } else if (status == 1) {\n+                                pqArea = selection + 1;\n+                            \n+                                em = cm.getEventManager(\"CafePQ_\" + pqArea);\n+                                if(em == null) {\n+                                        cm.sendOk(\"The CafePQ_\" + pqArea + \"has encountered an error.\");\n+                                        cm.dispose();\n+                                        return;\n+                                }\n+\n+                                cm.sendSimple(\"#e#b<Party Quest: Premium Road - \" + levels[selection] + \">\\r\\n#k#n\" + em.getProperty(\"party\") + \"\\r\\n\\r\\nThe #p1052014# operates differently than the common ones. They do not use mesos or gachapon tickets, rather #rERASERS#k, that can be obtained by completing the missions held on the Premium Road. To go there, you must find partners and attend to a Party Quest. When teamed up and ready, have your #bparty leader#k talk to me.#b\\r\\n#L0#I want to participate in the party quest.\\r\\n#L1#I want to find party members.\\r\\n#L2#I would like to hear more details.\");\n+                        } else if (status == 2) {\n+                                if (selection == 0) {\n+                                        if (cm.getParty() == null) {\n+                                                cm.sendOk(\"You can participate in the party quest only if you are in a party.\");\n+                                                cm.dispose();\n+                                        } else if(!cm.isLeader()) {\n+                                                cm.sendOk(\"Your party leader must talk to me to start this party quest.\");\n+                                                cm.dispose();\n+                                        } else {\n+                                                var eli = em.getEligibleParty(cm.getParty());\n+                                                if(eli.size() > 0) {\n+                                                        if(!em.startInstance(cm.getParty(), cm.getPlayer().getMap(), 1)) {\n+                                                                cm.sendOk(\"Another party has already entered the #rParty Quest#k in this channel. Please try another channel, or wait for the current party to finish.\");\n+                                                        }\n+                                                }\n+                                                else {\n+                                                        cm.sendOk(\"You cannot start this party quest yet, because either your party is not in the range size, some of your party members are not eligible to attempt it or they are not in this map. If you're having trouble finding party members, try Party Search.\");\n+                                                }\n+\n+                                                cm.dispose();\n+                                        }\n+                                } else if (selection == 1) {\n+                                        cm.sendOk(\"Try using a Super Megaphone or asking your buddies or guild to join!\");\n+                                        cm.dispose();\n+                                } else {\n+                                        cm.sendOk(\"#e#b<Party Quest: Premium Road>#k#n\\r\\nOn the maps ahead, you will face many common-leveled mobs to face on. Grind all the required coupons from them and give it to me. All members will then receive a eraser, corresponding with the level faced. Insert on the machine #bmany of the same eraser or multiple different ones#k to have a better chance on greater prizes.\");\n+                                        cm.dispose();\n+                                }\n+                        }\n+                }\n+        }\n+}"}, {"sha": "eba0bd722be14bdc80b9bb68b4378016e5278f29", "filename": "scripts/npc/1052014.js", "status": "modified", "additions": 191, "deletions": 6, "changes": 197, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/1052014.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/1052014.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1052014.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -20,13 +20,198 @@\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n \n-/*\n-    NPC ID: 1052014 \n-    NPC NAME: Vending Machine\n-    @author Vcoc\n+/**\n+ * @author: Ronan\n+ * @npc: Vending Machine\n+ * @map: 193000000 - Premium Road - Kerning City Internet Cafe\n+ * @func: Cafe PQ Rewarder\n */\n \n+var status;\n+\n+var itemSet_lv6 = [1442046, 1432018, 1102146, 1102145, 2022094, 2022544, 2022123, 2022310, 2040727, 2041058, 2040817, 4000030, 4003005, 4003000, 4011007, 4021009, 4011008, 3010098];\n+var itemQty_lv6 = [1, 1, 1, 1, 50, 20, 30, 30, 1, 1, 1, 50, 50, 50, 1, 1, 4, 1];\n+\n+var itemSet_lv5 = [1382015, 1382016, 1442044, 1382035, 2022310, 2022068, 2022069, 2022190, 2022047, 2040727, 2040924, 2040501, 4000030, 4003005, 4003000, 4011003, 4011006, 4021004, 3010099];\n+var itemQty_lv5 = [1, 1, 1, 1, 30, 70, 70, 50, 50, 1, 1, 1, 30, 30, 40, 3, 2, 3, 1];\n+\n+var itemSet_lv4 = [1332029, 1472027, 1462032, 1492019, 2022045, 2022048, 2022094, 2022123, 2022058, 2041304, 2041019, 2040826, 2040758, 4000030, 4003005, 4003000, 4010007, 4011003, 4021003, 3010016, 3010017];\n+var itemQty_lv4 = [1, 1, 1, 1, 70, 60, 40, 30, 100, 1, 1, 1, 1, 15, 15, 30, 8, 1, 1, 1, 1];\n+\n+var itemSet_lv3 = [1302058, 1372008, 1422030, 1422031, 1022082, 2022279, 2022120, 2001001, 2001002, 2022071, 2022189, 2040914, 2041001, 2041041, 2041308, 4031203, 4000030, 4003005, 4003000, 4010004, 4010006, 4020000, 4020006, 3010002, 3010003];\n+var itemQty_lv3 = [1, 1, 1, 1, 1, 100, 70, 70, 70, 40, 40, 1, 1, 1, 1, 15, 10, 15, 12, 5, 5, 5, 5, 1, 1];\n+\n+var itemSet_lv2 = [1022073, 1012098, 1012101, 1012102, 1012103, 2022055, 2022056, 2022103, 2020029, 2020032, 2020031, 2022191, 2022016, 2043300, 2043110, 2043800, 2041001, 2040903, 4031203, 4000021, 4003005, 4003000, 4003001, 4010000, 4010001, 4010003, 4010004, 4020004, 3010004, 3010005];\n+var itemQty_lv2 = [1, 1, 1, 1, 1, 70, 70, 70, 70, 100, 100, 100, 100, 1, 1, 1, 1, 1, 7, 10, 12, 10, 3, 8, 8, 5, 5, 7, 1, 1];\n+\n+var itemSet_lv1 = [1302021, 1302024, 1302033, 1082150, 1002419, 2022053, 2022054, 2020032, 2022057, 2022096, 2022097, 2022192, 2020030, 2010005, 2022041, 2030000, 2040100, 2040004, 2040207, 2048004, 4031203, 4000021, 4003005, 4003000, 4003001, 4010000, 4010001, 4010002, 4010005, 4020004];\n+var itemQty_lv1 = [1, 1, 1, 1, 1, 30, 30, 30, 30, 30, 40, 40, 40, 80, 80, 20, 1, 1, 1, 1, 3, 5, 2, 2, 1, 3, 3, 3, 3, 3];\n+\n+var levels = [\"Tier 1\", \"Tier 2\", \"Tier 3\", \"Tier 4\", \"Tier 5\", \"Tier 6\"];\n+\n+var tickets = [0, 0, 0, 0, 0, 0];\n+var currentTier;\n+var curItemQty;\n+var curItemSel;\n+var advance = true;\n+\n function start() {\n-    cm.sendOk(\"At the moment, the machine is empty...\");\n-    cm.dispose();\n+        status = -1;\n+        action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+        if (mode == -1) {\n+                cm.dispose();\n+        } else {\n+                if (mode == 0 && type > 0) {\n+                        cm.dispose();\n+                        return;\n+                }\n+                if (mode == 1 && advance)\n+                        status++;\n+                else\n+                        status--;\n+                    \n+                advance = true;\n+                    \n+                if(status == 0) {\n+                        cm.sendNext(\"This is the vending machine of the Internet Cafe. Place your erasers earned throughout the quests to redeem a prize. You can place #bany amount of erasers#k, however take note that bigger shots improves the reward possibilities!\");\n+                } else if(status == 1) {\n+                        var sendStr;\n+                        currentTier = getRewardTier();\n+                        \n+                        if(currentTier >= 0) sendStr = \"With the erasers you have currently placed, you can retrieve a #r\" + levels[currentTier] + \"#k prize. Place erasers:\";\n+                        else sendStr = \"You have placed no erasers yet. Place erasers:\";\n+                        \n+                        var listStr = \"\";\n+                        for(var i = 0; i < tickets.length; i++) {\n+                            listStr += \"#b#L\" + i + \"##t\" + (4001009 + i) + \"##k\";\n+                            if(tickets[i] > 0) listStr += \" - \" + tickets[i] + \" erasers\";\n+                            listStr += \"#l\\r\\n\";\n+                        }\n+                        \n+                        cm.sendSimple(sendStr + \"\\r\\n\\r\\n\" + listStr + \"#r#L6#Retrieve a prize!#l#k\\r\\n\");\n+                        \n+                } else if(status == 2) {\n+                        if(selection == 6) {\n+                                if(currentTier < 0) {\n+                                        cm.sendPrev(\"You have set no erasers. Insert at least one to claim a prize.\");\n+                                        advance = false;\n+                                } else {\n+                                        givePrize();\n+                                        cm.dispose();\n+                                }\n+                        } else {\n+                                var tickSel = 4001009 + selection;\n+                                curItemQty = cm.getItemQuantity(tickSel);\n+                                curItemSel = selection;\n+                            \n+                                if(curItemQty > 0) {\n+                                        cm.sendGetText(\"How many of #b#t\" + tickSel + \"##k do you want to insert on the machine? (#r\" + curItemQty + \"#k available)#k\");\n+                                } else {\n+                                        cm.sendPrev(\"You have got #rnone#k of #b#t\" + tickSel + \"##k to insert on the machine. Click '#rBack#k' to return to the main interface.\");\n+                                        advance = false;\n+                                }\n+                        }\n+                } else if(status == 3) {\n+                        var text = cm.getText();\n+                        \n+                        try {\n+                                var placedQty = parseInt(text);\n+                                if(isNaN(placedQty) || placedQty < 0) throw true;\n+\n+                                if(placedQty > curItemQty) {\n+                                        cm.sendPrev(\"You cannot insert the given amount of erasers (#r\" + curItemQty + \"#k available). Click '#rBack#k' to return to the main interface.\");\n+                                        advance = false;\n+                                } else {\n+                                        tickets[curItemSel] = placedQty;\n+                                    \n+                                        cm.sendPrev(\"Operation succeeded. Click '#rBack#k' to return to the main interface.\");\n+                                        advance = false;\n+                                }\n+                        } catch(err) {\n+                                cm.sendPrev(\"You must enter a positive number of erasers to insert. Click '#rBack#k' to return to the main interface.\");\n+                                advance = false;\n+                        }\n+                        \n+                        status = 2;\n+                } else {\n+                        cm.dispose();\n+                }\n+        }\n+}\n+\n+function getRewardTier() {\n+    var points = getPoints();\n+    \n+    if(points <= 6) {\n+        if(points <= 0) return -1;\n+        else return 0;\n+    }\n+    if(points >= 46) return 5;\n+    \n+    return Math.floor((points - 6) / 8);\n+}\n+\n+function getPoints() {\n+    var points = 0;\n+    \n+    for(var i = 0; i < tickets.length; i++) {\n+        if(tickets[i] <= 0) continue;\n+        \n+        points += (6 + ((tickets[i] - 1) * getTicketMultiplier(i)));    //6 from uniques + rest from each ticket difficulty\n+    }\n+    \n+    return points;\n+}\n+\n+function getTicketMultiplier(ticket) {\n+    if(ticket == 1 || ticket == 3) return 3;\n+    else return 1;\n+}\n+\n+function givePrize() {\n+        var lvTarget, lvQty;\n+                        \n+        if(currentTier == 0) {\n+                lvTarget = itemSet_lv1;\n+                lvQty = itemQty_lv1;\n+        } else if(currentTier == 1) {\n+                lvTarget = itemSet_lv2;\n+                lvQty = itemQty_lv2;\n+        } else if(currentTier == 2) {\n+                lvTarget = itemSet_lv3;\n+                lvQty = itemQty_lv3;\n+        } else if(currentTier == 3) {\n+                lvTarget = itemSet_lv4;\n+                lvQty = itemQty_lv4;\n+        } else if(currentTier == 4) {\n+                lvTarget = itemSet_lv5;\n+                lvQty = itemQty_lv5;\n+        } else {\n+                lvTarget = itemSet_lv6;\n+                lvQty = itemQty_lv6;\n+        }\n+        \n+        if(!hasRewardSlot(lvTarget, lvQty)) {\n+                cm.sendOk(\"Check for an available space on your inventory before retrieving a prize.\");\n+        } else {\n+                var rnd = Math.floor(Math.random() * lvTarget.length);\n+                \n+                for(var i = 0; i < tickets.length; i++) {\n+                        cm.gainItem(4001009 + i, -1 * tickets[i]);\n+                }\n+                cm.gainItem(lvTarget[rnd], lvQty[rnd]);\n+        }\n+}\n+\n+function hasRewardSlot(lvTarget, lvQty) {\n+        for(var i = 0; i < lvTarget.length; i++) {\n+                if(!cm.canHold(lvTarget[i], lvQty[i])) {\n+                        return false;\n+                }\n+        }\n+\n+        return true;\n }\n\\ No newline at end of file"}, {"sha": "65cf4d8c2a982eb46c65c0848a4a13ada74b6534", "filename": "scripts/npc/1052015.js", "status": "modified", "additions": 87, "deletions": 7, "changes": 94, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/1052015.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/1052015.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1052015.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -20,13 +20,93 @@\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n \n-/*\n-    NPC ID: 1052015 \n-    NPC NAME: Billy\n-    @author Vcoc\n+/**\n+ * @author: Ronan\n+ * @npc: Billy\n+ * @map: 193000000 - Premium Road - Kerning City Internet Cafe\n+ * @func: Cafe PQ Reward Announcer\n */\n \n+var status;\n+\n+var itemSet_lv6 = [1442046, 1432018, 1102146, 1102145, 2022094, 2022544, 2022123, 2022310, 2040727, 2041058, 2040817, 4000030, 4003005, 4003000, 4011007, 4021009, 4011008, 3010098];\n+var itemQty_lv6 = [1, 1, 1, 1, 50, 20, 30, 30, 1, 1, 1, 50, 50, 50, 1, 1, 4, 1];\n+\n+var itemSet_lv5 = [1382015, 1382016, 1442044, 1382035, 2022310, 2022068, 2022069, 2022190, 2022047, 2040727, 2040924, 2040501, 4000030, 4003005, 4003000, 4011003, 4011006, 4021004, 3010099];\n+var itemQty_lv5 = [1, 1, 1, 1, 30, 70, 70, 50, 50, 1, 1, 1, 30, 30, 40, 3, 2, 3, 1];\n+\n+var itemSet_lv4 = [1332029, 1472027, 1462032, 1492019, 2022045, 2022048, 2022094, 2022123, 2022058, 2041304, 2041019, 2040826, 2040758, 4000030, 4003005, 4003000, 4010007, 4011003, 4021003, 3010016, 3010017];\n+var itemQty_lv4 = [1, 1, 1, 1, 70, 60, 40, 30, 100, 1, 1, 1, 1, 15, 15, 30, 8, 1, 1, 1, 1];\n+\n+var itemSet_lv3 = [1302058, 1372008, 1422030, 1422031, 1022082, 2022279, 2022120, 2001001, 2001002, 2022071, 2022189, 2040914, 2041001, 2041041, 2041308, 4031203, 4000030, 4003005, 4003000, 4010004, 4010006, 4020000, 4020006, 3010002, 3010003];\n+var itemQty_lv3 = [1, 1, 1, 1, 1, 100, 70, 70, 70, 40, 40, 1, 1, 1, 1, 15, 10, 15, 12, 5, 5, 5, 5, 1, 1];\n+\n+var itemSet_lv2 = [1022073, 1012098, 1012101, 1012102, 1012103, 2022055, 2022056, 2022103, 2020029, 2020032, 2020031, 2022191, 2022016, 2043300, 2043110, 2043800, 2041001, 2040903, 4031203, 4000021, 4003005, 4003000, 4003001, 4010000, 4010001, 4010003, 4010004, 4020004, 3010004, 3010005];\n+var itemQty_lv2 = [1, 1, 1, 1, 1, 70, 70, 70, 70, 100, 100, 100, 100, 1, 1, 1, 1, 1, 7, 10, 12, 10, 3, 8, 8, 5, 5, 7, 1, 1];\n+\n+var itemSet_lv1 = [1302021, 1302024, 1302033, 1082150, 1002419, 2022053, 2022054, 2020032, 2022057, 2022096, 2022097, 2022192, 2020030, 2010005, 2022041, 2030000, 2040100, 2040004, 2040207, 2048004, 4031203, 4000021, 4003005, 4003000, 4003001, 4010000, 4010001, 4010002, 4010005, 4020004];\n+var itemQty_lv1 = [1, 1, 1, 1, 1, 30, 30, 30, 30, 30, 40, 40, 40, 80, 80, 20, 1, 1, 1, 1, 3, 5, 2, 2, 1, 3, 3, 3, 3, 3];\n+\n+var levels = [\"Tier 1\", \"Tier 2\", \"Tier 3\", \"Tier 4\", \"Tier 5\", \"Tier 6\"];\n+\n function start() {\n-    cm.sendOk(\"Do you keep seeing blue screen? Ahhh... then restart the computer.\");\n-    cm.dispose();\n-}\n\\ No newline at end of file\n+        status = -1;\n+        action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+        if (mode == -1) {\n+                cm.dispose();\n+        } else {\n+                if (mode == 0 && status == 0) {\n+                        cm.dispose();\n+                        return;\n+                }\n+                if (mode == 1)\n+                        status++;\n+                else\n+                        status--;\n+\n+                if (status == 0) {\n+                        var sendStr = \"The #bInternet Cafe Party Quest#k rewards players with ticket-like #bfigure erasers#k, that can be used on the vending machine to retrieve prizes. By further increasing the stakes, one can get better prizes, separated by #rtiers#k.\\r\\n\\r\\nThe possible rewards for each tier are depicted here:\\r\\n\\r\\n#b\";\n+                        for(var i = 0; i < 6; i++) {\n+                            sendStr += \"#L\" + i + \"#\" + levels[i] + \"#l\\r\\n\";\n+                        }\n+                        \n+                        cm.sendSimple(sendStr);\n+                } else if(status == 1) {\n+                        var lvTarget, lvQty;\n+                        \n+                        if(selection == 0) {\n+                                lvTarget = itemSet_lv1;\n+                                lvQty = itemQty_lv1;\n+                        } else if(selection == 1) {\n+                                lvTarget = itemSet_lv2;\n+                                lvQty = itemQty_lv2;\n+                        } else if(selection == 2) {\n+                                lvTarget = itemSet_lv3;\n+                                lvQty = itemQty_lv3;\n+                        } else if(selection == 3) {\n+                                lvTarget = itemSet_lv4;\n+                                lvQty = itemQty_lv4;\n+                        } else if(selection == 4) {\n+                                lvTarget = itemSet_lv5;\n+                                lvQty = itemQty_lv5;\n+                        } else {\n+                                lvTarget = itemSet_lv6;\n+                                lvQty = itemQty_lv6;\n+                        }\n+                        \n+                        var sendStr = \"The following items are being awarded at #b\" + levels[selection] + \"#k:\\r\\n\\r\\n\";\n+                        for(var i = 0; i < lvTarget.length; i++) {\n+                            sendStr += \"  #L\" + i + \"# #i\" + lvTarget[i] + \"#  #t\" + lvTarget[i] + \"#\";\n+                            if(lvQty[i] > 1) sendStr += \" (\" + lvQty[i] + \")\";\n+                            sendStr += \"#l\\r\\n\";\n+                        }\n+                        \n+                        cm.sendPrev(sendStr);\n+                } else if(status == 2) {\n+                        cm.dispose();\n+                }\n+        }\n+}"}, {"sha": "6083fce716f171421e67842af2478493e9be0320", "filename": "scripts/npc/1061009.js", "status": "modified", "additions": 42, "deletions": 24, "changes": 66, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/1061009.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/1061009.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1061009.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -19,34 +19,52 @@\n     You should have received a copy of the GNU Affero General Public License\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n-/* Door of Dimension\n+/* 1061009 - Door of Dimension\n \tEnter 3rd job event\n */\n \n-function start() {\n-    if (cm.getPlayer().gotPartyQuestItem(\"JBP\") && !cm.haveItem(4031059)) {\n-        if (cm.getPlayer().getMapId() == 105070001 && (cm.getJobId() >= 110 && cm.getJobId() <= 130))\n-            cm.warp(108010300);\n-        else if (cm.getPlayer().getMapId() == 105040305 && (cm.getJobId() >= 310 && cm.getJobId() <= 320))\n-            cm.warp(108010100);\n-        else if (cm.getPlayer().getMapId() == 100040106 && (cm.getJobId() >= 210 && cm.getJobId() <= 230))\n-            cm.warp(108010200);\n-        else if (cm.getPlayer().getMapId() == 107000402 && (cm.getJobId() >= 410 && cm.getJobId() <= 420))\n-            cm.warp(108010400);\n-        else if (cm.getPlayer().getMapId() == 105070200 && (cm.getJobId() >= 510 && cm.getJobId() <= 520))\n-            cm.warp(108010500);\n-    }\n-    cm.dispose();\n-/*20 minutes*/\n+function jobString(niche) {\n+    if(niche == 1) return \"warrior\";\n+    else if(niche == 2) return \"magician\";\n+    else if(niche == 3) return \"bowman\";\n+    else if(niche == 4) return \"thief\";\n+    else if(niche == 5) return \"pirate\";\n+    \n+    return \"beginner\";\n }\n \n-/*\n+function canEnterDimensionMap(mapid, jobid) {\n+    if (mapid == 105070001 && (jobid >= 110 && jobid <= 130))\n+        return true;\n+    else if (mapid == 105040305 && (jobid >= 310 && jobid <= 320))\n+        return true;\n+    else if (mapid == 100040106 && (jobid >= 210 && jobid <= 230))\n+        return true;\n+    else if (mapid == 107000402 && (jobid >= 410 && jobid <= 420))\n+        return true;\n+    else if (mapid == 105070200 && (jobid >= 510 && jobid <= 520))\n+        return true;\n+    \n+    return false;\n+}\n \n-1061010 - Crystal NPC\n-*/\n-/*var em = cm.getEventManager(\"3rdjob\");\n+function start() {\n+    if (canEnterDimensionMap(cm.getMapId(), cm.getJob().getId()) && cm.getPlayer().gotPartyQuestItem(\"JBP\") && !cm.haveItem(4031059)) {\n+        var js = jobString(cm.getPlayer().getJob().getJobNiche());\n+        \n+        var em = cm.getEventManager(\"3rdJob_\" + js);\n         if (em == null)\n-            cm.sendOk(\"Sorry, but 3rd job advancement is closed.\");\n-        else\n-            em.newInstance(cm.getPlayer().getName()).registerPlayer(cm.getPlayer());\n-*/\n\\ No newline at end of file\n+            cm.sendOk(\"Sorry, but 3rd job advancement (\" + js + \") is closed.\");\n+        else {\n+            if (em.getProperty(\"noEntry\") == \"false\") {\n+                var eim = em.newInstance(\"3rdjob_\" + js);\n+                eim.registerPlayer(cm.getPlayer());\n+            }\n+            else {\n+                cm.sendOk(\"Someone else is already challenging the clone. Please wait until the area is cleared.\");\n+            }\n+        }\n+    }\n+    \n+    cm.dispose();\n+}"}, {"sha": "a292177c9e9fb680b514443f241f76f5a0701050", "filename": "scripts/npc/2010005.js", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/2010005.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/2010005.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2010005.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -80,9 +80,10 @@ function action(mode, type, selection) {\n                     cm.dispose();\n                 } else\n                     access = true;\n-            } if (access) {\n+            }\n+            if (access) {\n                 cm.getPlayer().saveLocation(\"FLORINA\");\n-                cm.warp(110000000);\n+                cm.warp(110000000, \"st00\");\n                 cm.dispose();\n             }\n         } else if (status == 3) "}, {"sha": "314391107257c022af1e02c7335debe824028ec6", "filename": "scripts/npc/2012006.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/2012006.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/2012006.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2012006.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -22,7 +22,7 @@ function action(mode, type, selection) {\n         sel = selection;\n         cm.sendNext(\"Ok #h #, I will send you to the platform for #m\" + (200000110 + (sel * 10)) + \"#\");\n \t}else if (status == 1) {\n-        cm.warp(200000110 + (sel * 10));\n+        cm.warp(200000110 + (sel * 10), \"west00\");\n         cm.dispose();\n     }\n }\n\\ No newline at end of file"}, {"sha": "7753307534cf6b5fe437f045be58f16d04e3f71d", "filename": "scripts/npc/2012012.js", "status": "added", "additions": 47, "deletions": 0, "changes": 47, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/2012012.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/2012012.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2012012.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -0,0 +1,47 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc> \n+                       Matthias Butz <matze@odinms.de>\n+                       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License version 3\n+    as published by the Free Software Foundation. You may not use, modify\n+    or distribute this program under any other version of the\n+    GNU Affero General Public License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+\n+var status;\n+ \n+function start() {\n+        status = -1;\n+        action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+        if (mode == -1) {\n+                cm.dispose();\n+        } else {\n+                if (mode == 0 && type > 0) {\n+                        cm.dispose();\n+                        return;\n+                }\n+                if (mode == 1)\n+                        status++;\n+                else\n+                        status--;\n+    \n+                if(status == 0) {\n+                        cm.sendOk(\"Can you help me find the Ancient Book? I lost it somewhere in El Nath...\");\n+                        cm.dispose();\n+                }\n+        }\n+}\n\\ No newline at end of file"}, {"sha": "8d5f88b33e1c887947e89d0a66109b5097151d85", "filename": "scripts/npc/2020011.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/2020011.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/2020011.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2020011.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -95,7 +95,7 @@ function action(mode, type, selection){\n         if (sel == 0){\n             if (cm.getPlayer().getLevel() >= 70 && cm.getJobId() % 10 == 0){\n                 if (status == 0)\n-                    cm.sendYesNo(\"Welcome. I'm #b#p2020011##k, the chief of all thieves, ready to share my street knowledge and hard knock life to those willing to listen. You seem ready to make the leap forward, the one ready to take on the challenges of the 3rd job advancement. Too many thieves have come and gone, unable to meet the standards of achieving the 3rd job advancement. What about you? Are you ready to be tested and make the 3th job advancemente?\");\n+                    cm.sendYesNo(\"Welcome. I'm #b#p2020011##k, the chief of all thieves, ready to share my street knowledge and hard knock life to those willing to listen. You seem ready to make the leap forward, the one ready to take on the challenges of the 3rd job advancement. Too many thieves have come and gone, unable to meet the standards of achieving the 3rd job advancement. What about you? Are you ready to be tested and make the 3th job advancement?\");\n                 else if (status == 1){\n                     cm.getPlayer().setPartyQuestItemObtained(\"JB3\");\n                     cm.sendNext(\"Good. You will be tested on two important aspects of the thief: strength and wisdom. I'll now explain to you the physical half of the test. Remember #b#p1052001##k from Kerning City? Go see him, and he'll give you the details on the first half of the test. Please complete the mission, and get #b#t4031057##k from #p1052001#.\");"}, {"sha": "2cb2bd0b3c902650f9561d73e1c2956da9b51ed0", "filename": "scripts/npc/2040016.js", "status": "modified", "additions": 17, "deletions": 16, "changes": 33, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/2040016.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/2040016.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2040016.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -259,25 +259,26 @@ function action(mode, type, selection) {\n             else {\n                 if (!cm.haveItem(mats, matQty * qty)) complete=false;\n             }\n-        }\n-\t\t\t\n-        if (!complete)\n-            cm.sendOk(\"Hold it, I can't finish that without all of the proper materials. Bring them first, then we'll talk.\");\n-        else {\n-            if (mats instanceof Array) {\n-                for (var i = 0; i < mats.length; i++){\n-                    cm.gainItem(mats[i], -matQty[i] * qty);\n+            \n+            if (!complete)\n+                cm.sendOk(\"Hold it, I can't finish that without all of the proper materials. Bring them first, then we'll talk.\");\n+            else {\n+                if (mats instanceof Array) {\n+                    for (var i = 0; i < mats.length; i++){\n+                        cm.gainItem(mats[i], -matQty[i] * qty);\n+                    }\n                 }\n+                else\n+                    cm.gainItem(mats, -matQty * qty);\n+\n+                if (cost > 0)\n+                    cm.gainMeso(-cost * qty);\n+\n+                cm.gainItem(recvItem, recvQty);\n+                cm.sendOk(\"All done. If you need anything else, you know where to find me.\");\n             }\n-            else\n-                cm.gainItem(mats, -matQty * qty);\n-\t\t\t\t\t\n-            if (cost > 0)\n-                cm.gainMeso(-cost * qty);\n-\t\t\t\t\n-            cm.gainItem(recvItem, recvQty);\n-            cm.sendOk(\"All done. If you need anything else, you know where to find me.\");\n         }\n+\t\n         cm.dispose();\n     }\n }\n\\ No newline at end of file"}, {"sha": "cb869209fb965d24c68d428a2c181edcb9bd1ff9", "filename": "scripts/npc/2040022.js", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/2040022.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/2040022.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2040022.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -200,10 +200,14 @@ function action(mode, type, selection) {\n \t\t    \n         if(!cm.canHold(item, 1)) {\n             cm.sendOk(\"Verify for a slot in your inventory first.\");\n+            cm.dispose();\n+            return;\n         }\n         else if (cm.getMeso() < cost)\n         {\n             cm.sendOk(\"I'm afraid my fees are non-negotiable.\");\n+            cm.dispose();\n+            return;\n         }\n         else\n         {"}, {"sha": "48a3bb3804a1c29a6f782c124675eed294dc6014", "filename": "scripts/npc/2040048.js", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/2040048.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/2040048.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2040048.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -75,9 +75,9 @@ function action(mode, type, selection) {\n                 } else\n                     access = true;\n             } \n-\t\t\tif (access == true) {\n+            if (access == true) {\n                 cm.getPlayer().saveLocation(\"FLORINA\");\n-                cm.warp(110000000);\n+                cm.warp(110000000, \"st00\");\n                 cm.dispose();\n             }\n         } else if (status == 3)"}, {"sha": "312512fd6deaef4083fb10e59dbed032e695f56d", "filename": "scripts/npc/2100001.js", "status": "modified", "additions": 16, "deletions": 16, "changes": 32, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/2100001.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/2100001.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2100001.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -183,27 +183,27 @@ function action(mode, type, selection) {\n                 }\n                 else {\n                     if (!cm.haveItem(mats, matQty * qty))complete=false;\n-\n                 }\n-            }\n-\n-            if (!complete)\n-                cm.sendOk(\"Please check and see if you have all the necessary items with you. If so, then please check your etc. inventory and see if you have an empty space.\");\n-            else {\n-                if (mats instanceof Array) {\n-                    for (var i = 0; i < mats.length; i++){\n-                        cm.gainItem(mats[i], -matQty[i] * qty);\n+                \n+                if (!complete)\n+                    cm.sendOk(\"Please check and see if you have all the necessary items with you. If so, then please check your etc. inventory and see if you have an empty space.\");\n+                else {\n+                    if (mats instanceof Array) {\n+                        for (var i = 0; i < mats.length; i++){\n+                            cm.gainItem(mats[i], -matQty[i] * qty);\n+                        }\n                     }\n-                }\n-                else\n-                    cm.gainItem(mats, -matQty * qty);\n+                    else\n+                        cm.gainItem(mats, -matQty * qty);\n \n-                if (cost > 0)\n-                    cm.gainMeso(-cost * qty);\n+                    if (cost > 0)\n+                        cm.gainMeso(-cost * qty);\n \n-                cm.gainItem(recvItem, recvQty);\n-                cm.sendOk(\"There, finished. What do you think, a piece of art, isn't it? Well, if you need anything else, you know where to find me.\");\n+                    cm.gainItem(recvItem, recvQty);\n+                    cm.sendOk(\"There, finished. What do you think, a piece of art, isn't it? Well, if you need anything else, you know where to find me.\");\n+                }\n             }\n+            \n             cm.dispose();\n         }\n }\n\\ No newline at end of file"}, {"sha": "69dcacd2b111ae8dc4c9e5f3186ae61762ec4390", "filename": "scripts/npc/2101014.js", "status": "modified", "additions": 14, "deletions": 7, "changes": 21, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/2101014.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/2101014.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2101014.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -1,8 +1,8 @@\n /*\n-\tThis file is part of the OdinMS Maple Story Server\n+    This file is part of the OdinMS Maple Story Server\n     Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n-\t\t       Matthias Butz <matze@odinms.de>\n-\t\t       Jan Christian Meyer <vimes@odinms.de>\n+    Matthias Butz <matze@odinms.de>\n+    Jan Christian Meyer <vimes@odinms.de>\n \n     This program is free software: you can redistribute it and/or modify\n     it under the terms of the GNU Affero General Public License as\n@@ -13,13 +13,20 @@\n \n     This program is distributed in the hope that it will be useful,\n     but WITHOUT ANY WARRANTY; without even the implied warranty of\n-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-    GNU Affero General Public License for more details.\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  \n+    See the GNU Affero General Public License for more details.\n \n     You should have received a copy of the GNU Affero General Public License\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n \n+/*\n+\tNPC NAME: Cesar (2)\n+\tNPC ID: 2101014\n+\tAuthor: Vcoc\n+\tFunction: AriantPQ\n+*/\n+\n status = -1;\n var sel;\n empty = [false, false, false];\n@@ -36,7 +43,7 @@ function start() {\n             if(cm.getPlayerCount(980010101 + (i * 100)) > 0)\n                 continue;\n             else\n-                text += \"\\r\\n#L\" + i + \"# Battle Arena \" + (i + 1) + \"([\" + cm.getPlayerCount(980010100 + (i * 100)) + \"/\" + cm.getPlayer().getAriantSlotsRoom(i) + \"] users\" + cm.getPlayer().getAriantRoomLeaderName(i) + \"/Lv 20~29 )#l\";\n+                text += \"\\r\\n#L\" + i + \"# Battle Arena \" + (i + 1) + \"([\" + cm.getPlayerCount(980010100 + (i * 100)) + \"/\" + cm.getPlayer().getAriantSlotsRoom(i) + \"]  users: \" + cm.getPlayer().getAriantRoomLeaderName(i) + \")#l\";\n         else{\n             empty[i] = true;\n             text += \"\\r\\n#L\" + i + \"# Battle Arena \" + (i + 1) + \"( Empty )#l\";\n@@ -95,7 +102,7 @@ function action(mode, type, selection){\n     }else if (status == 2)\n         cm.sendNextPrev(\"It's simple. If you absorb the power of the monster #b#t2270002##k, then you'll make #b#t4031868##k, which is something Queen Areda loves. The combatant with the most jewels wins the match. It's actually a smart idea to prevent others from absorbing in order to win.\");\n     else if (status == 3)\n-        cm.sendNextPrev(\"One thing. #rYou may not use pets for this.#k Understood?~!\");\n+        cm.sendNextPrev(\"One thing. Using #b#t2100067##k, you can steal #b#t4031868##k from your enemies. Warning: #rYou may not use pets for this.#k Understood?!\");\n     else if (status == 4)\n         cm.dispose();\n }"}, {"sha": "51c9ad5cfb61ffdc4f3fee4d31c366b27b37a403", "filename": "scripts/npc/2101017.js", "status": "modified", "additions": 20, "deletions": 10, "changes": 30, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/2101017.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/2101017.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2101017.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -1,8 +1,8 @@\n /*\n-\tThis file is part of the OdinMS Maple Story Server\n+    This file is part of the OdinMS Maple Story Server\n     Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n-\t\t       Matthias Butz <matze@odinms.de>\n-\t\t       Jan Christian Meyer <vimes@odinms.de>\n+    Matthias Butz <matze@odinms.de>\n+    Jan Christian Meyer <vimes@odinms.de>\n \n     This program is free software: you can redistribute it and/or modify\n     it under the terms of the GNU Affero General Public License as\n@@ -13,13 +13,20 @@\n \n     This program is distributed in the hope that it will be useful,\n     but WITHOUT ANY WARRANTY; without even the implied warranty of\n-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-    GNU Affero General Public License for more details.\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  \n+    See the GNU Affero General Public License for more details.\n \n     You should have received a copy of the GNU Affero General Public License\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n \n+/*\n+\tNPC NAME: Cesar (3)\n+\tNPC ID: 2101017\n+\tAuthor: Vcoc\n+\tFunction: AriantPQ\n+*/\n+\n importPackage(Packages.tools);\n importPackage(Packages.client);\n \n@@ -55,10 +62,10 @@ function action(mode, type, selection){\n             if(sel == 0){\n                 if(cm.haveItem(2270002))\n                     cm.sendNext(\"You already have #b#t2270002##k.\");\n-                else if(cm.canHold(2270002) && cm.canHold(2100067)){\n-                    if(cm.haveItem(2100067))\n-                        cm.removeAll(2100067);\n-                    cm.gainItem(2270002, 32);\n+            else if(cm.canHold(2270002) && cm.canHold(2100067)){\n+                if(cm.haveItem(2100067))\n+                    cm.removeAll(2100067);\n+                    cm.gainItem(2270002, 50);\n                     cm.gainItem(2100067, 5);\n                     cm.sendNext(\"Now lower the HP of the monsters, and use #b#t2270002##k to absorb their power!\");\n                 }else\n@@ -70,6 +77,9 @@ function action(mode, type, selection){\n                 cm.sendYesNo(\"Are you sure you want to leave?\"); //No GMS like.\n         } else if (status == 1){\n             if(type == 1){\n+                cm.removeAll(4031868);\n+                cm.removeAll(2270002);\n+                cm.removeAll(2100067);\n                 cm.warp(980010020);\n                 cm.dispose();\n                 return;\n@@ -78,7 +88,7 @@ function action(mode, type, selection){\n         } else if (status == 2)\n             cm.sendNextPrev(\"It's simple. If you absorb the power of the monster #b#t2270002##k, then you'll make #b#t4031868##k, which is something Queen Areda loves. The combatant with the most jewels wins the match. It's actually a smart idea to prevent others from absorbing in order to win.\");\n         else if (status == 3)\n-            cm.sendNextPrev(\"One thing. #rYou may not use pets for this.#k Understood?~!\");\n+            cm.sendNextPrev(\"One thing. Using #b#t2100067##k, you can steal #b#t4031868##k from your enemies. Warning: #rYou may not use pets for this.#k Understood?!\");\n         else if (status == 4)\n             cm.dispose();\n     }else{"}, {"sha": "51eca3877da396acd1aef64e74b497542348f00d", "filename": "scripts/npc/2101018.js", "status": "modified", "additions": 13, "deletions": 6, "changes": 19, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/2101018.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/2101018.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2101018.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -1,8 +1,8 @@\n /*\n-\tThis file is part of the OdinMS Maple Story Server\n+    This file is part of the OdinMS Maple Story Server\n     Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n-\t\t       Matthias Butz <matze@odinms.de>\n-\t\t       Jan Christian Meyer <vimes@odinms.de>\n+    Matthias Butz <matze@odinms.de>\n+    Jan Christian Meyer <vimes@odinms.de>\n \n     This program is free software: you can redistribute it and/or modify\n     it under the terms of the GNU Affero General Public License as\n@@ -13,13 +13,20 @@\n \n     This program is distributed in the hope that it will be useful,\n     but WITHOUT ANY WARRANTY; without even the implied warranty of\n-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-    GNU Affero General Public License for more details.\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  \n+    See the GNU Affero General Public License for more details.\n \n     You should have received a copy of the GNU Affero General Public License\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n \n+/*\n+\tNPC NAME: Cesar (1)\n+\tNPC ID: 2101018\n+\tAuthor: Vcoc\n+\tFunction: AriantPQ\n+*/\n+\n status = -1;\n function start() {\n     if((cm.getPlayer().getLevel() < 19 || cm.getPlayer().getLevel() > 30) && !cm.getPlayer().isGM()){\n@@ -33,7 +40,7 @@ function start() {\n function action(mode, type, selection){\n     status++;\n     if (status == 4){\n-        cm.getPlayer().saveLocation(\"ARIANT\");\n+        cm.getPlayer().saveLocation(\"MIRROR\");\n         cm.warp(980010000, 3);\n         cm.dispose();\n     }"}, {"sha": "9b1df35614c64b9784b52633a7e54872aa59f152", "filename": "scripts/npc/2112000.js", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/2112000.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/2112000.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2112000.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -96,7 +96,8 @@ function action(mode, type, selection) {\n \n                                                 var mapobj = eim.getMapInstance(926100401);\n                                                 var bossobj = MapleLifeFactory.getMonster(9300139);\n-                                                mapobj.spawnMonsterOnGroundBelow(bossobj, new Packages.java.awt.Point(250, 100));\n+                                                \n+                                                mapobj.spawnMonsterWithEffect(bossobj, 13, new Packages.java.awt.Point(250, 100));\n \n                                                 eim.setIntProperty(\"statusStg7\", 1);\n                                                 eim.setIntProperty(\"yuletePassed\", -1);\n@@ -106,7 +107,8 @@ function action(mode, type, selection) {\n \n                                                 var mapobj = eim.getMapInstance(926100401);\n                                                 var bossobj = MapleLifeFactory.getMonster(9300140);\n-                                                mapobj.spawnMonsterOnGroundBelow(bossobj, new Packages.java.awt.Point(250, 100));\n+                                                \n+                                                mapobj.spawnMonsterWithEffect(bossobj, 14, new Packages.java.awt.Point(250, 100));\n \n                                                 eim.setIntProperty(\"statusStg7\", 2);\n                                                 eim.setIntProperty(\"yuletePassed\", -1);"}, {"sha": "ba04e6f605c7b6056827e993914d4f472d1996e3", "filename": "scripts/npc/9000038.js", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/9000038.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/9000038.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9000038.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -7,11 +7,11 @@\n \n var status;\n \n-var itemSet_lv6 = [1122018, 1122005, 1022088, 1402013, 1032030, 1032070, 1102046, 2330004, 2041013, 2041016, 2041019, 2041022, 2049100, 2049003, 2020012, 2020013, 2020014, 2020015, 2022029, 2022045, 2022068, 2022069, 2022179, 2022180, 4004000, 4004001, 4004002, 4004003, 4004004, 4003000];\n-var itemQty_lv6 = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 25, 25, 25, 25, 25, 25, 25, 25, 4, 4, 12, 12, 12, 12, 12, 25];\n+var itemSet_lv6 = [3010061, 1122018, 1122005, 1022088, 1402013, 1032030, 1032070, 1102046, 2330004, 2041013, 2041016, 2041019, 2041022, 2049100, 2049003, 2020012, 2020013, 2020014, 2020015, 2022029, 2022045, 2022068, 2022069, 2022179, 2022180, 4004000, 4004001, 4004002, 4004003, 4004004, 4003000];\n+var itemQty_lv6 = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 25, 25, 25, 25, 25, 25, 25, 25, 4, 4, 12, 12, 12, 12, 12, 25];\n \n-var itemSet_lv5 = [1122018, 1122005, 1022088, 1402013, 1032030, 1032070, 1102046, 2330004, 2041013, 2041016, 2041019, 2041022, 2049100, 2049003, 2020012, 2020013, 2020014, 2020015, 2022029, 2022045, 2022068, 2022069, 2022179, 2022180, 4004000, 4004001, 4004002, 4004003, 4004004, 4003000];\n-var itemQty_lv5 = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 15, 15, 15, 15, 15, 15, 15, 15, 2, 2, 8, 8, 8, 8, 8, 12];\n+var itemSet_lv5 = [3010063, 1122018, 1122005, 1022088, 1402013, 1032030, 1032070, 1102046, 2330004, 2041013, 2041016, 2041019, 2041022, 2049100, 2049003, 2020012, 2020013, 2020014, 2020015, 2022029, 2022045, 2022068, 2022069, 2022179, 2022180, 4004000, 4004001, 4004002, 4004003, 4004004, 4003000];\n+var itemQty_lv5 = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 15, 15, 15, 15, 15, 15, 15, 15, 2, 2, 8, 8, 8, 8, 8, 12];\n \n var itemSet_lv4 = [1122001, 1122006, 1022103, 1442065, 1032042, 1032021, 1102168, 2070005, 2040025, 2040029, 2040301, 2040413, 2040701, 2040817, 2002028, 2020009, 2020010, 2020011, 2022004, 2022005, 2022025, 2022027, 2022048, 2022049, 4020000, 4020001, 4020002, 4020003, 4020004, 4020005, 4020006, 4020007, 4020008, 4003000];\n var itemQty_lv4 = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5, 45, 45, 45, 45, 45, 45, 45, 45, 45, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8];"}, {"sha": "31c1fea1ef5ce33e64c85e21b018f12f7cf41968", "filename": "scripts/npc/9010022.js", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/9010022.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/9010022.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9010022.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -27,29 +27,31 @@ function action(mode, type, selection) {\n                 cm.dispose(); \n             } else { \n                 var selStr = \"\"; \n-                if (cm.getLevel() >= 20 && cm.getLevel() <= 30) { \n+                /*if (cm.getLevel() >= 20 && cm.getLevel() <= 30) { NOT IMPLEMENTED\n                     selStr += \"#0# Ariant Coliseum\"; \n-                } \n+                } */\n \n                 if (cm.getLevel() >= 25) { \n                     selStr += \"#1# Mu Lung Dojo\"; \n                 } \n \n-                if (cm.getLevel() >= 30 && cm.getLevel() <= 50) { \n+                /*if (cm.getLevel() >= 30 && cm.getLevel() <= 50) { NOT IMPLEMENTED\n                     selStr += \"#2# Monster Carnival 1\"; \n                 } \n \n-                if (cm.getLevel() >= 51 && cm.getLevel() <= 70) { \n+                if (cm.getLevel() >= 51 && cm.getLevel() <= 70) { NOT IMPLEMENTED\n                     selStr += \"#3# Monster Carnival 2\"; \n                 } \n \n-                if (cm.getLevel() >= 40) { \n+                if (cm.getLevel() >= 40) { NOT IMPLEMENTED\n                     selStr += \"#5# Nett's Pyramid\"; \n                 } \n \n-                if (cm.getLevel() >= 25 && cm.getLevel() <= 30) { \n+                if (cm.getLevel() >= 25 && cm.getLevel() <= 30) { NOT IMPLEMENTED\n                     selStr += \"#6# Construction Site\"; \n                 } \n+                */\n+                \n                 cm.sendDimensionalMirror(selStr); \n             } \n         } else if (status == 1) { "}, {"sha": "ea4f8fdb8bb9d87c85a6dada75cfba487bcaae0e", "filename": "scripts/npc/9010022_old.js", "status": "added", "additions": 80, "deletions": 0, "changes": 80, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/9010022_old.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/9010022_old.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9010022_old.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -0,0 +1,80 @@\n+importPackage(Packages.client); \n+importPackage(Packages.server.maps); \n+\n+var status; \n+var sel; \n+\n+function start() { \n+    status = -1; \n+    action(1, 0, 0); \n+} \n+\n+function action(mode, type, selection) { \n+    if (mode == -1) { \n+        cm.dispose(); \n+    } else { \n+        if (mode == 0) { \n+            cm.dispose(); \n+            return; \n+        } \n+        if (mode == 1) \n+            status++; \n+        else \n+            status--; \n+            if (status == 0) { \n+            if (cm.getLevel() < 20) { \n+                cm.sendDimensionalMirror(\"#-1# There is no place for you to transport to from here.\"); \n+                cm.dispose(); \n+            } else { \n+                var selStr = \"\"; \n+                if (cm.getLevel() >= 20 && cm.getLevel() <= 30) { \n+                    selStr += \"#0# Ariant Coliseum\"; \n+                } \n+\n+                if (cm.getLevel() >= 25) { \n+                    selStr += \"#1# Mu Lung Dojo\"; \n+                } \n+\n+                if (cm.getLevel() >= 30 && cm.getLevel() <= 50) { \n+                    selStr += \"#2# Monster Carnival 1\"; \n+                } \n+\n+                if (cm.getLevel() >= 51 && cm.getLevel() <= 70) { \n+                    selStr += \"#3# Monster Carnival 2\"; \n+                } \n+\n+                if (cm.getLevel() >= 40) { \n+                    selStr += \"#5# Nett's Pyramid\"; \n+                } \n+\n+                if (cm.getLevel() >= 25 && cm.getLevel() <= 30) { \n+                    selStr += \"#6# Construction Site\"; \n+                } \n+                cm.sendDimensionalMirror(selStr); \n+            } \n+        } else if (status == 1) { \n+            cm.getPlayer().saveLocation(\"MIRROR\"); \n+            switch (selection) { \n+                case 0: \n+                    cm.warp(980010000, 3); \n+                    break; \n+                case 1: \n+                    cm.warp(925020000, 0); \n+                    break; \n+                case 2: \n+                    cm.warp(980000000, 3); \n+                    break; \n+                case 3: \n+                    cm.warp(980030000, 3); \n+                    break; \n+                case 5: \n+                    cm.warp(926010000); \n+                    break; \n+                case 6: \n+                    cm.warp(910320000); \n+                    break; \n+            } \n+            cm.dispose(); \n+        } \n+    } \n+}  "}, {"sha": "bd821adde1802532d393fa7d0095d22a15cfd0d7", "filename": "scripts/npc/9209000.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/9209000.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/9209000.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9209000.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -34,7 +34,7 @@ function action(mode, type, selection) {\n             masterybook = cm.getAvailableMasteryBooks();\n \n             if(skillbook.length == 0 && masterybook.length == 0) {\n-                cm.sendOk(greeting + \"There are no more books available to further improve your job skills for now. Either you maxed out everything or you didn't reach the minimum requisites for some skill books yet.\");\n+                cm.sendOk(greeting + \"There are no more books available to further improve your job skills for now. Either you #bmaxed out everything#k or #byou didn't reach the minimum requisites to use some skill books#k yet.\");\n                 cm.dispose();\n \n             } else if(skillbook.length > 0 && masterybook.length > 0) {"}, {"sha": "d21c82daeb0ed61795941d19f6fa2763ffe2188a", "filename": "scripts/npc/9270018.js", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/9270018.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/9270018.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9270018.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -62,10 +62,12 @@ function action(mode, type, selection) {\n \t\t\tcm.sendYesNo(\"The plane is taking off soon, are you sure you want to leave now? The ticket is not refundable.\");\n \t\t\tairport = 1;\n \t\t} else if (cm.getMapId() == 540010002) {\n-\t\t\tcm.sendYesNo(\"We're reaching Kerning City in a minute, are you sure you want to leave now? The ticket is not refundable.\");\n+\t\t\tcm.sendOk(\"We're reaching Kerning City in a minute, please sit down and wait.\");\n+                        cm.dispose();\n \t\t\ts2k = 1;\n \t\t} else if (cm.getMapId() == 540010101) {\n-\t\t\tcm.sendYesNo(\"We're reaching Singapore in a minute, are you sure you want to leave now? The ticket is not refundable.\");\n+\t\t\tcm.sendOk(\"We're reaching Singapore in a minute, please sit down and wait.\");\n+                        cm.dispose();\n \t\t\tk2s = 1;\n \t\t}\n \t} else if(status == 1) {"}, {"sha": "270ac092a9fbe1aeec3eaf6306f9d6e3d4b827fd", "filename": "scripts/npc/commands.js", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/commands.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/npc/commands.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/commands.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -60,8 +60,8 @@ function writeSolaxiaCommandsLv5() {    //Developer\n \n         addCommand(\"debugmonster\", \"\");\n         addCommand(\"debugpacket\", \"\");\n-        addCommand(\"debugnearestportal\", \"\");\n-        addCommand(\"debugnearestspawnpoint\", \"\");\n+        addCommand(\"debugportal\", \"\");\n+        addCommand(\"debugspawnpoint\", \"\");\n         addCommand(\"debugpos\", \"\");\n         addCommand(\"debugmap\", \"\");\n         addCommand(\"debugmobsp\", \"\");\n@@ -204,6 +204,7 @@ function writeSolaxiaCommandsLv0() {    //Common\n         addCommand(\"whodrops\", \"\");\n         addCommand(\"dispose\", \"\");\n         addCommand(\"equiplv\", \"\");\n+        addCommand(\"showrates\", \"\");\n         addCommand(\"rates\", \"\");\n         addCommand(\"online\", \"\");\n         addCommand(\"gm\", \"\");"}, {"sha": "ae00495f3ad28a5ee825628861a1d785301c85a6", "filename": "scripts/portal/catPriest_map.js", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/portal/catPriest_map.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/scripts/portal/catPriest_map.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/catPriest_map.js?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -0,0 +1,4 @@\n+function enter(pi) {\n+    pi.warp(925000000, 2);\n+    return true;\n+}\n\\ No newline at end of file"}, {"sha": "131bb622e59ec155a0a642c59bebc15ab083380e", "filename": "sql/db_database.sql", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/sql/db_database.sql", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/sql/db_database.sql", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/sql/db_database.sql?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -16369,6 +16369,13 @@ CREATE TABLE IF NOT EXISTS `pets` (\n   PRIMARY KEY (`petid`)\n ) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;\n \n+CREATE TABLE IF NOT EXISTS `petignores` (\n+  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,\n+  `petid` int(10) unsigned NOT NULL ,\n+  `itemid` int(10) unsigned NOT NULL ,\n+  PRIMARY KEY (`id`)\n+) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;\n+\n CREATE TABLE IF NOT EXISTS `playernpcs` (\n   `id` int(11) NOT NULL AUTO_INCREMENT,\n   `name` varchar(13) NOT NULL,\n@@ -20658,7 +20665,7 @@ INSERT INTO `shopitems` (`shopitemid`, `shopid`, `itemid`, `price`, `pitch`, `po\n (6486, 1337, 5072000, 1, 0, 8),\n (6487, 1337, 5390000, 1, 0, 9),\n (6488, 1337, 5390001, 1, 0, 10),\n-(6489, 1337, 5390001, 1, 0, 11),\n+(6489, 1337, 5390002, 1, 0, 11),\n (6490, 1337, 1452044, 1, 0, 12),\n (6491, 1337, 1472052, 1, 0, 13),\n (6492, 1337, 1462039, 1, 0, 14),\n@@ -21214,7 +21221,8 @@ INSERT INTO `shopitems` ( `shopid`, `itemid`, `price`, `position`) VALUES\n (1052116, 2000003, 200, 208),\n (1052116, 2000002, 320, 212),\n (1052116, 2000001, 160, 216),\n-(1052116, 2000000, 50, 220);\n+(1052116, 2000000, 50, 220),\n+(9120002, 2061003, 40, 0, 100);\n \n CREATE TABLE IF NOT EXISTS `skillmacros` (\n   `id` int(11) NOT NULL AUTO_INCREMENT,"}, {"sha": "6eeb3ed44501e4e7ac2887039336a2d196361a03", "filename": "sql/db_drops.sql", "status": "modified", "additions": 38, "deletions": 2, "changes": 40, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/sql/db_drops.sql", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/sql/db_drops.sql", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/sql/db_drops.sql?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -19816,8 +19816,9 @@ USE `maplesolaxia`;\n (9420501, 1492005, 1, 1, 0, 2000),\n (8820001, 2388043, 1, 1, 0, 24000);\n \n-  # delete item drops from Seruf in inactive form\n+  # delete item drops from bosses in inactive form\n   DELETE FROM temp_data WHERE dropperid=4220001;\n+  DELETE FROM temp_data WHERE dropperid=5220001;\n \n   # delete item drops from summoned Slimes\n   DELETE FROM temp_data WHERE dropperid=9500100;\n@@ -19917,8 +19918,8 @@ USE `maplesolaxia`;\n   DELETE FROM drop_data WHERE dropperid >= 9300054 AND dropperid <= 9300056;\n   DELETE FROM drop_data WHERE dropperid >= 9300143 AND dropperid <= 9300144;\n   DELETE FROM drop_data WHERE dropperid >= 8810019 AND dropperid <= 8810023;\n+  DELETE FROM drop_data WHERE dropperid = 9300157;\n   DELETE FROM drop_data WHERE dropperid = 9500100;\n-\n   DELETE FROM drop_data where dropperid >= 9300141 AND dropperid <= 9300154 AND (itemid < 4001130 OR itemid >= 4001136);\n \n   # remove key of dimension dropping outside PQ\n@@ -19931,6 +19932,41 @@ USE `maplesolaxia`;\n   DELETE FROM drop_data WHERE dropperid >= 9300184 AND dropperid < 9300215 AND (itemid < 2380000 OR itemid >= 2390000);\n   DELETE FROM drop_data WHERE dropperid >= 9500337 AND dropperid < 9500364 AND (itemid < 2380000 OR itemid >= 2390000);\n \n+  # reinsert loot for Dark Nependeath\n+  DELETE FROM drop_data WHERE dropperid=4130104;\n+  INSERT IGNORE INTO drop_data (`dropperid`, `itemid`, `minimum_quantity`, `maximum_quantity`, `questid`, `chance`) VALUES\n+(4130104, 4000062, 1, 1, 0, 600000),\n+(4130104, 2041014, 1, 1, 0, 300),\n+(4130104, 4004004, 1, 1, 0, 10000),\n+(4130104, 2000002, 1, 1, 0, 20000),\n+(4130104, 2000004, 1, 1, 0, 20000),\n+(4130104, 2000003, 1, 1, 0, 20000),\n+(4130104, 4020006, 1, 1, 0, 9000),\n+(4130104, 4010003, 1, 1, 0, 9000),\n+(4130104, 4004000, 1, 1, 0, 10000),\n+(4130104, 1302013, 1, 1, 0, 700),\n+(4130104, 2044201, 1, 1, 0, 300),\n+(4130104, 4006001, 1, 1, 0, 10000),\n+(4130104, 1051027, 1, 1, 0, 700),\n+(4130104, 1002092, 1, 1, 0, 1500),\n+(4130104, 1040080, 1, 1, 0, 800),\n+(4130104, 1060068, 1, 1, 0, 800),\n+(4130104, 1072110, 1, 1, 0, 800),\n+(4130104, 1082063, 1, 1, 0, 1000),\n+(4130104, 1041087, 1, 1, 0, 800),\n+(4130104, 1061086, 1, 1, 0, 800),\n+(4130104, 1040095, 1, 1, 0, 800),\n+(4130104, 1060084, 1, 1, 0, 800),\n+(4130104, 1082084, 1, 1, 0, 1000),\n+(4130104, 1072132, 1, 1, 0, 800),\n+(4130104, 4130000, 1, 1, 0, 6000),\n+(4130104, 4130003, 1, 1, 0, 6000),\n+(4130104, 4130013, 1, 1, 0, 6000),\n+(4130104, 2383003, 1, 1, 0, 8000),\n+(4130104, 0, 172, 258, 0, 400000),\n+(4130104, 1040096, 1, 1, 0, 700),\n+(4130104, 1060085, 1, 1, 0, 700);\n+\n   # reinsert dojo loot\n   INSERT IGNORE INTO drop_data (`dropperid`, `itemid`, `minimum_quantity`, `maximum_quantity`, `questid`, `chance`) VALUES\n (9300184, 2022359, 1, 1, 0, 200000),"}, {"sha": "06f0bfe730a6716f6f3fe5ae88fb2959ad1c4145", "filename": "sql/db_shopupdate.sql", "status": "modified", "additions": 7, "deletions": 21, "changes": 28, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/sql/db_shopupdate.sql", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/sql/db_shopupdate.sql", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/sql/db_shopupdate.sql?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -90,28 +90,14 @@ INSERT IGNORE INTO `shopitems` (`shopitemid`, `shopid`, `itemid`, `price`, `pitc\n UPDATE shopitems SET price = 11*price WHERE (`position` >= 27 and `position` <= 67 and `shopid` = 9201082);\n \n INSERT IGNORE INTO `shopitems` (`shopid`, `itemid`, `price`, `pitch`, `position`) VALUES\n-(9120002, 3010005, 5000, 0, 80),\n-(9120002, 3010004, 5000, 0, 84),\n-(9120002, 3010006, 5000, 0, 88),\n-(9120002, 3010003, 5000, 0, 92),\n-(9120002, 3010002, 5000, 0, 96),\n-(9120002, 2061003, 40, 0, 100),\n-(9201020, 3010011, 1200, 0, 92),\n-(9201020, 3010009, 4200, 0, 96),\n-(9201020, 3010014, 15000, 0, 100),\n (1031100, 3010015, 20000, 0, 100),\n-(1081000, 3010013, 100000, 0, 100),\n-(9110002, 3010019, 770000, 0, 80),\n-(9110002, 3010017, 1000000, 0, 84),\n-(9110002, 3010016, 1000000, 0, 88),\n-(9110002, 3010008, 1000000, 0, 92),\n-(9110002, 3010007, 1000000, 0, 96),\n-(9110002, 3011000, 4200000, 0, 100),\n-(2100004, 3010064, 3000000, 0, 100),\n-(1052116, 3010098, 7700000, 0, 92),\n-(1052116, 3010063, 1400000, 0, 96),\n-(1052116, 3010061, 250000, 0, 100),\n-(2030009, 3010099, 10000000, 0, 100);\n+(9110002, 3010019, 7700000, 0, 92),\n+(9110002, 3010008, 10000000, 0, 96),\n+(9110002, 3010007, 10000000, 0, 100),\n+(9201020, 3010011, 12000000, 0, 92),\n+(9201020, 3010009, 4200000, 0, 96),\n+(9201020, 3010014, 7000000, 0, 100),\n+(1081000, 3010013, 4000000, 0, 100);\n \n # adding antibanish scrolls\n INSERT IGNORE INTO `shopitems` (`shopid`, `itemid`, `price`, `pitch`, `position`) VALUES"}, {"sha": "7bd04b4ae920bb786113bc18ee50857379f4b976", "filename": "src/client/MapleCharacter.java", "status": "modified", "additions": 286, "deletions": 93, "changes": 379, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/client/MapleCharacter.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/client/MapleCharacter.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleCharacter.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -115,6 +115,7 @@\n import client.inventory.MaplePet;\n import client.inventory.MapleWeaponType;\n import client.inventory.ModifyInventory;\n+import client.inventory.PetDataFactory;\n import constants.ExpTable;\n import constants.GameConstants;\n import constants.ItemConstants;\n@@ -254,8 +255,10 @@\n     private ScheduledFuture<?> pendantOfSpirit = null; //1122017\n     private List<ScheduledFuture<?>> timers = new ArrayList<>();\n     private Lock chrLock = new ReentrantLock();\n+    private Lock petLock = new ReentrantLock();\n     private NumberFormat nf = new DecimalFormat(\"#,###,###,###\");\n-    private ArrayList<Integer> excluded = new ArrayList<>();\n+    private Map<Integer, Set<Integer>> excluded = new LinkedHashMap<>();\n+    private Set<Integer> excludedItems = new LinkedHashSet<>();\n     private List<MapleRing> crushRings = new ArrayList<>();\n     private List<MapleRing> friendshipRings = new ArrayList<>();\n     private static String[] ariantroomleader = new String[3];\n@@ -266,6 +269,7 @@\n     private Map<Short, String> area_info = new LinkedHashMap<>();\n     private AutobanManager autoban;\n     private boolean isbanned = false;\n+    private boolean blockCashShop = false;\n     private byte pendantExp = 0, lastmobcount = 0, doorSlot = -1;\n     private List<Integer> trockmaps = new ArrayList<>();\n     private List<Integer> viptrockmaps = new ArrayList<>();\n@@ -479,10 +483,6 @@ public void removeDoor(Integer owner) {\n         }\n     }\n \n-    public void addExcluded(int x) {\n-        excluded.add(x);\n-    }\n-\n     public void addFame(int famechange) {\n         this.fame += famechange;\n     }\n@@ -513,11 +513,16 @@ public void addMPHP(int hpDiff, int mpDiff) {\n     }\n \n     public void addPet(MaplePet pet) {\n-        for (int i = 0; i < 3; i++) {\n-            if (pets[i] == null) {\n-                pets[i] = pet;\n-                return;\n+        petLock.lock();\n+        try {\n+            for (int i = 0; i < 3; i++) {\n+                if (pets[i] == null) {\n+                    pets[i] = pet;\n+                    return;\n+                }\n             }\n+        } finally {\n+            petLock.unlock();\n         }\n     }\n \n@@ -775,6 +780,14 @@ public int getLastMobCount() { //Used for skills that have mobCount at 1. (a/b)\n     public void setLastMobCount(byte count) {\n         lastmobcount = count;\n     }\n+    \n+    public boolean cannotEnterCashShop() {\n+        return blockCashShop;\n+    }\n+    \n+    public void toggleBlockCashShop() {\n+        blockCashShop = !blockCashShop;\n+    }\n \n     public void newClient(MapleClient c) {\n         this.loggedIn = true;\n@@ -895,7 +908,7 @@ private void cancelEffect(MapleStatEffect effect, boolean overwrite, long startT\n         }\n         if (effect.isMonsterRiding()) {\n             if (effect.getSourceId() != Corsair.BATTLE_SHIP) {\n-                this.getMount().cancelSchedule();\n+                this.getClient().getWorldServer().unregisterMountHunger(this);\n                 this.getMount().setActive(false);\n             }\n         }\n@@ -962,12 +975,6 @@ public void toggleHide(boolean login) {\n         Hide(!isHidden());\n     }\n \n-    private void cancelFullnessSchedule(int petSlot) {\n-        if (fullnessSchedule[petSlot] != null) {\n-            fullnessSchedule[petSlot].cancel(false);\n-        }\n-    }\n-\n     public void cancelMagicDoor() {\n         List<MapleBuffStatValueHolder> mbsvhList;\n                 \n@@ -1028,7 +1035,7 @@ public void changeCI(int type) {\n     public void setMasteries(int jobId) {\n         int[] skills = new int[4];\n         for (int i = 0; i > skills.length; i++) {\n-        \tskills[i] = 0; //that initalization meng\n+        \tskills[i] = 0; //that initialization meng\n         }\n         if (jobId == 112) {\n             skills[0] = Hero.ACHILLES;\n@@ -1094,6 +1101,9 @@ public void setMasteries(int jobId) {\n         for (Integer skillId : skills) {\n             if (skillId != 0) {\n                 Skill skill = SkillFactory.getSkill(skillId);\n+                final int skilllevel = getSkillLevel(skill);\n+                if(skilllevel > 0) continue;\n+                \n                 changeSkillLevel(skill, (byte) 0, 10, -1);\n             }\n         }\n@@ -1161,7 +1171,11 @@ else if (job_ > 0 && job_ != 1000) {\n         }\n         setMasteries(this.job.getId());\n         guildUpdate();\n+        \n+        getMap().broadcastMessage(this, MaplePacketCreator.removePlayerFromMap(this.getId()), false);\n+        getMap().broadcastMessage(this, MaplePacketCreator.spawnPlayerMapobject(this), false);\n         getMap().broadcastMessage(this, MaplePacketCreator.showForeignEffect(getId(), 8), false);\n+        \n         if (GameConstants.hasSPTable(newJob) && newJob.getId() != 2001) {\n             if (getBuffedValue(MapleBuffStat.MONSTER_RIDING) != null) {\n                 cancelBuffStats(MapleBuffStat.MONSTER_RIDING);\n@@ -1205,7 +1219,7 @@ public boolean canRecoverLastBanish() {\n         return new Pair<>(this.banishMap, this.banishSp);\n     }\n     \n-    private void clearBanishPlayerData() {\n+    public void clearBanishPlayerData() {\n         this.banishMap = -1;\n         this.banishSp = -1;\n         this.banishTime = 0;\n@@ -1316,7 +1330,7 @@ private boolean buffMapProtection() {\n                 if(mbs.getKey() == MapleBuffStat.MAP_PROTECTION) {\n                     byte value = (byte)mbs.getValue().value;\n                     \n-                    if(value == 1 && thisMap.getReturnMapId() == 211000000) return true;       //protection from cold\n+                    if(value == 1 && (thisMap.getReturnMapId() == 211000000 || thisMap.getReturnMapId() == 193000000)) return true;       //protection from cold\n                     else if(value == 2 && (thisMap.getReturnMapId() == 211000000 || thisMap.getReturnMapId() == 230000000)) return true;  //breathing underwater\n                     else return false;\n                 }\n@@ -2738,8 +2752,86 @@ public EventInstanceManager getEventInstance() {\n         return eventInstance;\n     }\n \n-    public ArrayList<Integer> getExcluded() {\n-        return excluded;\n+    public void resetExcluded(int petId) {\n+        chrLock.lock();\n+        try {\n+            Set<Integer> petExclude = excluded.get(petId);\n+        \n+            if(petExclude != null) petExclude.clear();\n+            else excluded.put(petId, new LinkedHashSet<Integer>());\n+        } finally {\n+            chrLock.unlock();\n+        }\n+    }\n+    \n+    public void addExcluded(int petId, int x) {\n+        chrLock.lock();\n+        try {\n+            excluded.get(petId).add(x);\n+        } finally {\n+            chrLock.unlock();\n+        }\n+    }\n+    \n+    public void commitExcludedItems() {\n+        Map<Integer, Set<Integer>> petExcluded = this.getExcluded();\n+        \n+        chrLock.lock();\n+        try {\n+            excludedItems.clear();\n+        } finally {\n+            chrLock.unlock();\n+        }\n+        \n+        for(Map.Entry<Integer, Set<Integer>> pe : petExcluded.entrySet()) {\n+            byte petIndex = this.getPetIndex(pe.getKey());\n+            if(petIndex < 0) continue;\n+\n+            Set<Integer> exclItems = pe.getValue();\n+            if (!exclItems.isEmpty()) {\n+                client.announce(MaplePacketCreator.loadExceptionList(this.getId(), pe.getKey(), petIndex, new ArrayList<>(exclItems)));\n+\n+                chrLock.lock();\n+                try {\n+                    for(Integer itemid: exclItems) {\n+                        excludedItems.add(itemid);\n+                    }\n+                } finally {\n+                    chrLock.unlock();\n+                }\n+            }\n+        }\n+    }\n+    \n+    public void exportExcludedItems(MapleClient c) {\n+        Map<Integer, Set<Integer>> petExcluded = this.getExcluded();\n+        for(Map.Entry<Integer, Set<Integer>> pe : petExcluded.entrySet()) {\n+            byte petIndex = this.getPetIndex(pe.getKey());\n+            if(petIndex < 0) continue;\n+\n+            Set<Integer> exclItems = pe.getValue();\n+            if (!exclItems.isEmpty()) {\n+                c.announce(MaplePacketCreator.loadExceptionList(this.getId(), pe.getKey(), petIndex, new ArrayList<>(exclItems)));\n+            }\n+        }\n+    }\n+    \n+    public Map<Integer, Set<Integer>> getExcluded() {\n+        chrLock.lock();\n+        try {\n+            return Collections.unmodifiableMap(excluded);\n+        } finally {\n+            chrLock.unlock();\n+        }\n+    }\n+    \n+    public Set<Integer> getExcludedItems() {\n+        chrLock.lock();\n+        try {\n+            return Collections.unmodifiableSet(excludedItems);\n+        } finally {\n+            chrLock.unlock();\n+        }\n     }\n \n     public int getExp() {\n@@ -3177,22 +3269,32 @@ public String getName() {\n     }\n \n     public int getNextEmptyPetIndex() {\n-        for (int i = 0; i < 3; i++) {\n-            if (pets[i] == null) {\n-                return i;\n+        petLock.lock();\n+        try {\n+            for (int i = 0; i < 3; i++) {\n+                if (pets[i] == null) {\n+                    return i;\n+                }\n             }\n+            return 3;\n+        } finally {\n+            petLock.unlock();\n         }\n-        return 3;\n     }\n \n     public int getNoPets() {\n-        int ret = 0;\n-        for (int i = 0; i < 3; i++) {\n-            if (pets[i] != null) {\n-                ret++;\n+        petLock.lock();\n+        try {\n+            int ret = 0;\n+            for (int i = 0; i < 3; i++) {\n+                if (pets[i] != null) {\n+                    ret++;\n+                }\n             }\n+            return ret;\n+        } finally {\n+            petLock.unlock();\n         }\n-        return ret;\n     }\n \n     public int getNumControlledMonsters() {\n@@ -3345,33 +3447,55 @@ public void closePlayerMessenger() {\n     }\n \n     public MaplePet[] getPets() {\n-        return pets;\n+        petLock.lock();\n+        try {\n+            return Arrays.copyOf(pets, pets.length);\n+        } finally {\n+            petLock.unlock();\n+        }\n     }\n \n     public MaplePet getPet(int index) {\n-        return pets[index];\n+        if(index < 0) return null;\n+        \n+        petLock.lock();\n+        try {\n+            return pets[index];\n+        } finally {\n+            petLock.unlock();\n+        }\n     }\n \n     public byte getPetIndex(int petId) {\n-        for (byte i = 0; i < 3; i++) {\n-            if (pets[i] != null) {\n-                if (pets[i].getUniqueId() == petId) {\n-                    return i;\n+        petLock.lock();\n+        try {\n+            for (byte i = 0; i < 3; i++) {\n+                if (pets[i] != null) {\n+                    if (pets[i].getUniqueId() == petId) {\n+                        return i;\n+                    }\n                 }\n             }\n+            return -1;\n+        } finally {\n+            petLock.unlock();\n         }\n-        return -1;\n     }\n \n     public byte getPetIndex(MaplePet pet) {\n-        for (byte i = 0; i < 3; i++) {\n-            if (pets[i] != null) {\n-                if (pets[i].getUniqueId() == pet.getUniqueId()) {\n-                    return i;\n+        petLock.lock();\n+        try {\n+            for (byte i = 0; i < 3; i++) {\n+                if (pets[i] != null) {\n+                    if (pets[i].getUniqueId() == pet.getUniqueId()) {\n+                        return i;\n+                    }\n                 }\n             }\n+            return -1;\n+        } finally {\n+            petLock.unlock();\n         }\n-        return -1;\n     }\n \n     public int getPossibleReports() {\n@@ -4404,6 +4528,29 @@ public static MapleCharacter loadCharFromDB(int charid, MapleClient client, bool\n                     }\n                 }\n             }\n+            \n+            PreparedStatement ps2;\n+            ResultSet rs2;\n+            for(byte i = 0; i < 3; i++) {\n+                MaplePet pet = ret.getPet(i);\n+                if(pet == null) continue;\n+                \n+                int petId = pet.getUniqueId();\n+                ps2 = con.prepareStatement(\"SELECT itemid FROM petignores WHERE petid = ?\"); // Get pet details..\n+                ps2.setInt(1, petId);\n+                \n+                ret.resetExcluded(petId);\n+\n+                rs2 = ps2.executeQuery();\n+                while(rs2.next()) {\n+                    ret.addExcluded(petId, rs2.getInt(\"itemid\"));\n+                }\n+                \n+                ps2.close();\n+                rs2.close();\n+            }\n+            ret.commitExcludedItems();\n+            \n             if (channelserver) {\n                 MapleMapFactory mapFactory = client.getChannelServer().getMapFactory();\n                 ret.map = mapFactory.getMap(ret.mapid);\n@@ -5124,26 +5271,31 @@ public void removeCooldown(int skillId) {\n     }\n \n     public void removePet(MaplePet pet, boolean shift_left) {\n-        int slot = -1;\n-        for (int i = 0; i < 3; i++) {\n-            if (pets[i] != null) {\n-                if (pets[i].getUniqueId() == pet.getUniqueId()) {\n-                    pets[i] = null;\n-                    slot = i;\n-                    break;\n+        petLock.lock();\n+        try {\n+            int slot = -1;\n+            for (int i = 0; i < 3; i++) {\n+                if (pets[i] != null) {\n+                    if (pets[i].getUniqueId() == pet.getUniqueId()) {\n+                        pets[i] = null;\n+                        slot = i;\n+                        break;\n+                    }\n                 }\n             }\n-        }\n-        if (shift_left) {\n-            if (slot > -1) {\n-                for (int i = slot; i < 3; i++) {\n-                    if (i != 2) {\n-                        pets[i] = pets[i + 1];\n-                    } else {\n-                        pets[i] = null;\n+            if (shift_left) {\n+                if (slot > -1) {\n+                    for (int i = slot; i < 3; i++) {\n+                        if (i != 2) {\n+                            pets[i] = pets[i + 1];\n+                        } else {\n+                            pets[i] = null;\n+                        }\n                     }\n                 }\n             }\n+        } finally {\n+            petLock.unlock();\n         }\n     }\n \n@@ -5484,11 +5636,34 @@ public synchronized void saveToDB() {\n             if (updateRows < 1) {\n                 throw new RuntimeException(\"Character not in database (\" + id + \")\");\n             }\n-            for (int i = 0; i < 3; i++) {\n-                if (pets[i] != null) {\n-                    pets[i].saveToDb();\n+            \n+            petLock.lock();\n+            try {\n+                for (int i = 0; i < 3; i++) {\n+                    if (pets[i] != null) {\n+                        pets[i].saveToDb();\n+                    }\n+                }\n+            } finally {\n+                petLock.unlock();\n+            }\n+            \n+            for(Entry<Integer, Set<Integer>> es: getExcluded().entrySet()) {\n+                try (PreparedStatement ps2 = con.prepareStatement(\"DELETE FROM petignores WHERE petid=?\")) {\n+                    ps2.setInt(1, es.getKey());\n+                    ps2.executeUpdate();\n+                }\n+                \n+                try (PreparedStatement ps2 = con.prepareStatement(\"INSERT INTO petignores (petid, itemid) VALUES (?, ?)\")) {\n+                    ps2.setInt(1, es.getKey());\n+                    for(Integer x: es.getValue()) {\n+                        ps2.setInt(2, x);\n+                        ps2.addBatch();\n+                    }\n+                    ps2.executeBatch();\n                 }\n             }\n+            \n             deleteWhereCharacterId(con, \"DELETE FROM keymap WHERE characterid = ?\");\n             ps = con.prepareStatement(\"INSERT INTO keymap (characterid, `key`, `type`, `action`) VALUES (?, ?, ?, ?)\");\n             ps.setInt(1, id);\n@@ -6212,10 +6387,15 @@ public void setWorld(int world) {\n     }\n \n     public void shiftPetsRight() {\n-        if (pets[2] == null) {\n-            pets[2] = pets[1];\n-            pets[1] = pets[0];\n-            pets[0] = null;\n+        petLock.lock();\n+        try {\n+            if (pets[2] == null) {\n+                pets[2] = pets[1];\n+                pets[1] = pets[0];\n+                pets[0] = null;\n+            }\n+        } finally {\n+            petLock.unlock();\n         }\n     }\n \n@@ -6297,32 +6477,37 @@ public boolean skillIsCooling(int skillId) {\n         return coolDowns.containsKey(Integer.valueOf(skillId));\n     }\n \n-    public void startFullnessSchedule(final int decrease, final MaplePet pet, int petSlot) {\n-        if(isGM() && ServerConstants.GM_PETS_NEVER_HUNGRY || ServerConstants.PETS_NEVER_HUNGRY) {\n-            return;\n-        }\n+    public void runFullnessSchedule(int petSlot) {\n+        MaplePet pet = getPet(petSlot);\n+        if(pet == null) return;\n         \n-        ScheduledFuture<?> schedule;\n-        schedule = TimerManager.getInstance().register(new Runnable() {\n-            @Override\n-            public void run() {\n-                int newFullness = pet.getFullness() - decrease;\n-                if (newFullness <= 5) {\n-                    pet.setFullness(15);\n-                    pet.saveToDb();\n-                    unequipPet(pet, true);\n-                } else {\n-                    pet.setFullness(newFullness);\n-                    pet.saveToDb();\n-                    Item petz = getInventory(MapleInventoryType.CASH).getItem(pet.getPosition());\n-                    if (petz != null) {\n-                        forceUpdateItem(petz);\n-                    }\n-                }\n+        int newFullness = pet.getFullness() - PetDataFactory.getHunger(pet.getItemId());\n+        if (newFullness <= 5) {\n+            pet.setFullness(15);\n+            pet.saveToDb();\n+            unequipPet(pet, true);\n+            dropMessage(6, \"Your pet grew hungry! Treat it some pet food to keep it healthy!\");\n+        } else {\n+            pet.setFullness(newFullness);\n+            pet.saveToDb();\n+            Item petz = getInventory(MapleInventoryType.CASH).getItem(pet.getPosition());\n+            if (petz != null) {\n+                forceUpdateItem(petz);\n             }\n-        }, 180000, 18000);\n-        fullnessSchedule[petSlot] = schedule;\n-\n+        }\n+    }\n+    \n+    public void runTirednessSchedule() {\n+        if(maplemount != null) {\n+            int tiredness = maplemount.incrementAndGetTiredness();\n+            \n+            this.getMap().broadcastMessage(MaplePacketCreator.updateMount(this.getId(), maplemount, false));\n+            if (tiredness > 99) {\n+                maplemount.setTiredness(99);\n+                this.dispelSkill(this.getJobType() * 10000000 + 1004);\n+                this.dropMessage(6, \"Your mount grew tired! Treat it some revitalizer before riding it again!\");\n+            }\n+        }\n     }\n \n     public void startMapEffect(String msg, int itemId) {\n@@ -6346,8 +6531,9 @@ public void stopControllingMonster(MapleMonster monster) {\n \n     public void unequipAllPets() {\n         for (int i = 0; i < 3; i++) {\n-            if (pets[i] != null) {\n-                unequipPet(pets[i], true);\n+            MaplePet pet = getPet(i);\n+            if (pet != null) {\n+                unequipPet(pet, true);\n             }\n         }\n     }\n@@ -6361,11 +6547,13 @@ public void unequipPet(MaplePet pet, boolean shift_left, boolean hunger) {\n             this.getPet(this.getPetIndex(pet)).setSummoned(false);\n             this.getPet(this.getPetIndex(pet)).saveToDb();\n         }\n-        cancelFullnessSchedule(getPetIndex(pet));\n+        \n+        this.getClient().getWorldServer().unregisterPetHunger(this, getPetIndex(pet));\n         getMap().broadcastMessage(this, MaplePacketCreator.showPet(this, pet, true, hunger), true);\n+        \n+        removePet(pet, shift_left);\n         client.announce(MaplePacketCreator.petStatUpdate(this));\n         client.announce(MaplePacketCreator.enableActions());\n-        removePet(pet, shift_left);\n     }\n \n     public void updateMacros(int position, SkillMacro updateMacro) {\n@@ -6832,6 +7020,7 @@ public void increaseEquipExp(int expGain) {\n     \n     public void showAllEquipFeatures() {\n         MapleItemInformationProvider mii = MapleItemInformationProvider.getInstance();\n+        String showMsg = \"\";\n         \n         for (Item item : getInventory(MapleInventoryType.EQUIPPED).list()) {\n             Equip nEquip = (Equip) item;\n@@ -6840,7 +7029,11 @@ public void showAllEquipFeatures() {\n                 continue;\n             }\n             \n-            nEquip.showEquipFeatures(client);\n+            showMsg += nEquip.showEquipFeatures(client);\n+        }\n+        \n+        if(!showMsg.isEmpty()) {\n+            this.showHint(\"#ePLAYER EQUIPMENTS:#n\\r\\n\\r\\n\" + showMsg);\n         }\n     }\n "}, {"sha": "1bf91fe380c30f57084f3a0d017093c371c986f6", "filename": "src/client/MapleClient.java", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/client/MapleClient.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/client/MapleClient.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleClient.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -154,7 +154,7 @@ public AbstractPlayerInteraction getAbstractPlayerInteraction() {\n         }\n \n \tpublic void sendCharList(int server) {\n-\t\tthis.session.write(MaplePacketCreator.getCharList(this, server));\n+\t\tthis.announce(MaplePacketCreator.getCharList(this, server));\n \t}\n \n \tpublic List<MapleCharacter> loadCharacters(int serverId) {\n@@ -1318,6 +1318,7 @@ public void changeChannel(int channel) {\n \t\t}\n \t\tplayer.getInventory(MapleInventoryType.EQUIPPED).checked(false); //test\n \t\tplayer.getMap().removePlayer(player);\n+                player.clearBanishPlayerData();\n \t\tplayer.getClient().getChannelServer().removePlayer(player);\n \t\tplayer.getClient().updateLoginState(MapleClient.LOGIN_SERVER_TRANSITION);\n \t\ttry {"}, {"sha": "52f4bd1e3af9688a20f2c23c6c3797fd796631d7", "filename": "src/client/MapleMount.java", "status": "modified", "additions": 5, "deletions": 37, "changes": 42, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/client/MapleMount.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/client/MapleMount.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleMount.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -21,10 +21,6 @@\n */\n package client;\n \n-import java.util.concurrent.ScheduledFuture;\n-import server.TimerManager;\n-import tools.MaplePacketCreator;\n-\n /**\n  * @author PurpleMadness Patrick :O\n  */\n@@ -34,7 +30,6 @@\n     private int tiredness;\n     private int exp;\n     private int level;\n-    private ScheduledFuture<?> tirednessSchedule;\n     private MapleCharacter owner;\n     private boolean active;\n \n@@ -95,21 +90,10 @@ public void setTiredness(int newtiredness) {\n             tiredness = 0;\n         }\n     }\n-\n-    private void increaseTiredness() {\n-        if(owner != null) {\n-            this.tiredness++;\n-            owner.getMap().broadcastMessage(MaplePacketCreator.updateMount(owner.getId(), this, false));\n-            if (tiredness > 99) {\n-                this.tiredness = 99;\n-                owner.dispelSkill(owner.getJobType() * 10000000 + 1004);\n-                owner.dropMessage(6, \"Your mount grew tired! Treat it some revitalizer before riding it again!\");\n-            }\n-        } else {\n-            if(this.tirednessSchedule != null) {\n-                this.tirednessSchedule.cancel(false);\n-            }\n-        }\n+    \n+    public int incrementAndGetTiredness() {\n+        this.tiredness++;\n+        return this.tiredness;\n     }\n \n     public void setExp(int newexp) {\n@@ -124,21 +108,6 @@ public void setItemId(int newitemid) {\n         this.itemid = newitemid;\n     }\n \n-    public void startSchedule() {\n-        this.tirednessSchedule = TimerManager.getInstance().register(new Runnable() {\n-            @Override\n-            public void run() {\n-                increaseTiredness();\n-            }\n-        }, 60000, 60000);\n-    }\n-\n-    public void cancelSchedule() {\n-        if (this.tirednessSchedule != null) {\n-            this.tirednessSchedule.cancel(false);\n-        }\n-    }\n-\n     public void setActive(boolean set) {\n         this.active = set;\n     }\n@@ -148,8 +117,7 @@ public boolean isActive() {\n     }\n     \n     public void empty() {\n-        cancelSchedule();\n-        this.tirednessSchedule = null;\n+        if(owner != null) owner.getClient().getWorldServer().unregisterMountHunger(owner);\n         this.owner = null;\n     }    \n }"}, {"sha": "8b4d46a8a46df30c1aa330b0a5919b6dc980a410", "filename": "src/client/command/Commands.java", "status": "modified", "additions": 81, "deletions": 53, "changes": 134, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/client/command/Commands.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/client/command/Commands.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/Commands.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -489,42 +489,41 @@ public static boolean executeSolaxiaCommandLv0(Channel cserv, Server srv, MapleC\n                 case \"equiplv\":\n                         player.showAllEquipFeatures();\n                         break;\n-                    \n-\t\tcase \"rates\":\n-\t\t\t//c.resetVoteTime();\n-\t\t\tplayer.yellowMessage(\"BOSSDROP RATE\");\n-\t\t\tplayer.message(\">>Total BOSSDROP Rate: \" + c.getWorldServer().getBossDropRate() + \"x\");\n-                        player.message(\">>------------------------------------------------\");\n-                        \n-\t\t\tplayer.yellowMessage(\"DROP RATE\");\n-                        player.message(\">>Base DROP Rate: \" + c.getWorldServer().getDropRate() + \"x\");\n-                        player.message(\">>Your DROP Rate: \" + player.getRawDropRate() + \"x\");\n-                        if(player.getCouponDropRate() != 1) player.message(\">>Your Coupon DROP Rate: \" + player.getCouponDropRate() + \"x\");\n-                        player.message(\">>------------------------------------------------\");\n-\t\t\tplayer.message(\">>Total DROP Rate: \" + player.getDropRate() + \"x\");\n \n-\t\t\tplayer.yellowMessage(\"MESO RATE\");\n-\t\t\tplayer.message(\">>Base MESO Rate: \" + c.getWorldServer().getMesoRate() + \"x\");\n-                        player.message(\">>Your MESO Rate: \" + player.getRawMesoRate() + \"x\");\n-                        if(player.getCouponMesoRate() != 1) player.message(\">>Your Coupon MESO Rate: \" + player.getCouponMesoRate() + \"x\");\n-                        player.message(\">>------------------------------------------------\");\n-\t\t\tplayer.message(\">>Total MESO Rate: \" + player.getMesoRate() + \"x\");\n-\n-\t\t\tplayer.yellowMessage(\"EXP RATE\");\n-\t\t\tplayer.message(\">>Base EXP Rate: \" + c.getWorldServer().getExpRate() + \"x\");\n-                        player.message(\">>Your EXP Rate: \" + player.getRawExpRate() + \"x\");\n-                        if(player.getCouponExpRate() != 1) player.message(\">>Your Coupon EXP Rate: \" + player.getCouponExpRate() + \"x\");\n-                        player.message(\">>------------------------------------------------\");\n-                        player.message(\">>Total EXP Rate: \" + player.getExpRate() + \"x\");\n-\t\t\t/*if(c.getWorldServer().getExpRate() > ServerConstants.EXP_RATE) {\n-\t\t\t\tplayer.message(\">>Event EXP bonus: \" + (c.getWorldServer().getExpRate() - ServerConstants.EXP_RATE) + \"x\");\n-\t\t\t}\n-\t\t\tplayer.message(\">>Voted EXP bonus: \" + (c.hasVotedAlready() ? \"1x\" : \"0x (If you vote now, you will earn an additional 1x EXP!)\"));\n-\t\t\t\n-\t\t\tif (player.getLevel() < 10) {\n-\t\t\t\tplayer.message(\"Players under level 10 always have 1x exp.\");\n-\t\t\t}*/\n-\t\t\tbreak;\n+                case \"showrates\":\n+                        String showMsg = \"#eEXP RATE#n\" + \"\\r\\n\";\n+                        showMsg += \"Server EXP Rate: #k\" + c.getWorldServer().getExpRate() + \"x#k\" + \"\\r\\n\";\n+                        showMsg += \"Player EXP Rate: #k\" + player.getRawExpRate() + \"x#k\" + \"\\r\\n\";\n+                        if(player.getCouponExpRate() != 1) showMsg += \"Coupon EXP Rate: #k\" + player.getCouponExpRate() + \"x#k\" + \"\\r\\n\";\n+                        showMsg += \"EXP Rate: #e#b\" + player.getExpRate() + \"x#k#n\" + \"\\r\\n\";\n+                        \n+                        showMsg += \"\\r\\n\" + \"#eMESO RATE#n\" + \"\\r\\n\";\n+                        showMsg += \"Server MESO Rate: #k\" + c.getWorldServer().getMesoRate() + \"x#k\" + \"\\r\\n\";\n+                        showMsg += \"Player MESO Rate: #k\" + player.getRawMesoRate() + \"x#k\" + \"\\r\\n\";\n+                        if(player.getCouponMesoRate() != 1) showMsg += \"Coupon MESO Rate: #k\" + player.getCouponMesoRate() + \"x#k\" + \"\\r\\n\";\n+                        showMsg += \"MESO Rate: #e#b\" + player.getMesoRate() + \"x#k#n\" + \"\\r\\n\";\n+                        \n+                        showMsg += \"\\r\\n\" + \"#eDROP RATE#n\" + \"\\r\\n\";\n+                        showMsg += \"Server DROP Rate: #k\" + c.getWorldServer().getDropRate() + \"x#k\" + \"\\r\\n\";\n+                        showMsg += \"Player DROP Rate: #k\" + player.getRawDropRate() + \"x#k\" + \"\\r\\n\";\n+                        if(player.getCouponDropRate() != 1) showMsg += \"Coupon DROP Rate: #k\" + player.getCouponDropRate() + \"x#k\" + \"\\r\\n\";\n+                        showMsg += \"DROP Rate: #e#b\" + player.getDropRate() + \"x#k#n\" + \"\\r\\n\";\n+                    \n+                        showMsg += \"\\r\\n\" + \"#eBOSSDROP RATE#n\" + \"\\r\\n\";\n+                        showMsg += \"Server BOSSDROP Rate: #e#b\" + c.getWorldServer().getBossDropRate() + \"x#k#n\" + \"\\r\\n\";\n+                        \n+                        player.showHint(showMsg);\n+                    break;\n+                     \n+                case \"rates\":\n+                        String showMsg_ = \"#eCHARACTER RATES#n\" + \"\\r\\n\\r\\n\";\n+                        showMsg_ += \"EXP Rate: #e#b\" + player.getExpRate() + \"x#k#n\" + \"\\r\\n\";\n+                        showMsg_ += \"MESO Rate: #e#b\" + player.getMesoRate() + \"x#k#n\" + \"\\r\\n\";\n+                        showMsg_ += \"DROP Rate: #e#b\" + player.getDropRate() + \"x#k#n\" + \"\\r\\n\";\n+                        showMsg_ += \"BOSSDROP Rate: #e#b\" + c.getWorldServer().getBossDropRate() + \"x#k#n\" + \"\\r\\n\";\n+                        \n+                        player.showHint(showMsg_);\n+                    break;\n                     \n \t\tcase \"online\":\n \t\t\tfor (Channel ch : Server.getInstance().getChannelsFromWorld(player.getWorld())) {\n@@ -788,13 +787,21 @@ public static boolean executeSolaxiaCommandLv2(Channel cserv, Server srv, MapleC\n \t\t\t}\n                         \n \t\t\tif (sub.length == 2) {\n-\t\t\t\tplayer.setRemainingSp(Integer.parseInt(sub[1]));\n+                                int newSp = Integer.parseInt(sub[1]);\n+                                if(newSp < 0) newSp = 0;\n+                                else if(newSp > ServerConstants.MAX_AP) newSp = ServerConstants.MAX_AP;\n+                            \n+\t\t\t\tplayer.setRemainingSp(newSp);\n \t\t\t\tplayer.updateSingleStat(MapleStat.AVAILABLESP, player.getRemainingSp());\n \t\t\t} else {\n \t\t\t\tvictim = c.getChannelServer().getPlayerStorage().getCharacterByName(sub[1]);\n                                 \n                                 if(victim != null) {\n-                                        victim.setRemainingSp(Integer.parseInt(sub[2]));\n+                                        int newSp = Integer.parseInt(sub[2]);\n+                                        if(newSp < 0) newSp = 0;\n+                                        else if(newSp > ServerConstants.MAX_AP) newSp = ServerConstants.MAX_AP;\n+                                    \n+                                        victim.setRemainingSp(newSp);\n                                         victim.updateSingleStat(MapleStat.AVAILABLESP, player.getRemainingSp());\n \n                                         player.dropMessage(5, \"SP given.\");\n@@ -809,15 +816,23 @@ public static boolean executeSolaxiaCommandLv2(Channel cserv, Server srv, MapleC\n \t\t\t\tplayer.yellowMessage(\"Syntax: !ap [<playername>] <newap>\");\n \t\t\t\tbreak;\n \t\t\t}\n-                    \n+                        \n \t\t\tif (sub.length < 3) {\n-\t\t\t\tplayer.setRemainingAp(Integer.parseInt(sub[1]));\n+                                int newAp = Integer.parseInt(sub[1]);\n+                                if(newAp < 0) newAp = 0;\n+                                else if(newAp > ServerConstants.MAX_AP) newAp = ServerConstants.MAX_AP;\n+                            \n+\t\t\t\tplayer.setRemainingAp(newAp);\n \t\t\t\tplayer.updateSingleStat(MapleStat.AVAILABLEAP, player.getRemainingAp());\n \t\t\t} else {\n \t\t\t\tvictim = c.getChannelServer().getPlayerStorage().getCharacterByName(sub[1]);\n                                 \n                                 if(victim != null) {\n-                                        victim.setRemainingAp(Integer.parseInt(sub[2]));\n+                                        int newAp = Integer.parseInt(sub[2]);\n+                                        if(newAp < 0) newAp = 0;\n+                                        else if(newAp > ServerConstants.MAX_AP) newAp = ServerConstants.MAX_AP;\n+                                        \n+                                        victim.setRemainingAp(newAp);\n                                         victim.updateSingleStat(MapleStat.AVAILABLEAP, victim.getRemainingAp());\n                                 } else {\n                                         player.message(\"Player '\" + sub[1] + \"' could not be found on this channel.\");\n@@ -1181,15 +1196,28 @@ else if (type.equals(\"cash\")) {\n                     break;\n                     \n                 case \"setstat\":\n-\t\t\tfinal int x = Short.parseShort(sub[1]);\n-\t\t\tplayer.setStr(x);\n-\t\t\tplayer.setDex(x);\n-\t\t\tplayer.setInt(x);\n-\t\t\tplayer.setLuk(x);\n-\t\t\tplayer.updateSingleStat(MapleStat.STR, x);\n-\t\t\tplayer.updateSingleStat(MapleStat.DEX, x);\n-\t\t\tplayer.updateSingleStat(MapleStat.INT, x);\n-\t\t\tplayer.updateSingleStat(MapleStat.LUK, x);\n+                        if (sub.length < 2){\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !setstat <newstat>\");\n+\t\t\t\tbreak;\n+\t\t\t}\n+                    \n+                        int x;\n+                        try {\n+                            x = Integer.parseInt(sub[1]);\n+                            \n+                            if(x > Short.MAX_VALUE) x = Short.MAX_VALUE;\n+                            else if(x < 0) x = 0;\n+                            \n+                            player.setStr(x);\n+                            player.setDex(x);\n+                            player.setInt(x);\n+                            player.setLuk(x);\n+                            player.updateSingleStat(MapleStat.STR, x);\n+                            player.updateSingleStat(MapleStat.DEX, x);\n+                            player.updateSingleStat(MapleStat.INT, x);\n+                            player.updateSingleStat(MapleStat.LUK, x);\n+                            \n+                        } catch(NumberFormatException nfe) {}\n                     break;\n                     \n                 case \"maxstat\":\n@@ -2278,14 +2306,14 @@ public static boolean executeSolaxiaCommandLv5(Channel cserv, Server srv, MapleC\n                         player.getMap().broadcastMessage(MaplePacketCreator.customPacket(joinStringFrom(sub, 1)));\n                         break;\n                     \n-                case \"debugnearestportal\":\n+                case \"debugportal\":\n                         MaplePortal portal = player.getMap().findClosestPortal(player.getPosition());\n                         if(portal != null) player.dropMessage(6, \"Closest portal: \" + portal.getId() + \" '\" + portal.getName() + \"' Type: \" + portal.getType() + \" --> toMap: \" + portal.getTargetMapId() + \" scriptname: '\" + portal.getScriptName() + \"' state: \" + portal.getPortalState() + \".\");\n                         else player.dropMessage(6, \"There is no portal on this map.\");\n                         \n                         break;\n                 \n-                case \"debugnearestspawnpoint\":\n+                case \"debugspawnpoint\":\n                         SpawnPoint sp = player.getMap().findClosestSpawnpoint(player.getPosition());\n                         if(sp != null) player.dropMessage(6, \"Closest mob spawn point: \" + \" Position: x \" + sp.getPosition().getX() + \" y \" + sp.getPosition().getY() + \" Spawns mobid: '\" + sp.getMonsterId() + \"' --> canSpawn: \" + !sp.getDenySpawn() + \" canSpawnRightNow: \" + sp.shouldSpawn() + \".\");\n                         else player.dropMessage(6, \"There is no mob spawn point on this map.\");\n@@ -2381,8 +2409,8 @@ public static boolean executeSolaxiaCommandLv6(Channel cserv, Server srv, MapleC\n                             target.setGMLevel(newLevel);\n                             target.getClient().setGMLevel(newLevel);\n                             \n-                            target.dropMessage(\"You are now a level \" + newLevel + \" GM\");\n-                            player.dropMessage(target + \" is now a level \" + newLevel + \" GM\");\n+                            target.dropMessage(\"You are now a level \" + newLevel + \" GM. See @commands for a list of available commands.\");\n+                            player.dropMessage(target + \" is now a level \" + newLevel + \" GM.\");\n                         } else {\n                             player.dropMessage(\"Player '\"+ sub[1] +\"' was not found on this channel.\");\n                         }"}, {"sha": "8cfbcb24e5ff495fdc73720da3fae7ad27c4706b", "filename": "src/client/inventory/Equip.java", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/client/inventory/Equip.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/client/inventory/Equip.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/inventory/Equip.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -542,14 +542,14 @@ private boolean reachedMaxLevel(String eqpName) {\n         return true;\n     }\n     \n-    public void showEquipFeatures(MapleClient c) {\n+    public String showEquipFeatures(MapleClient c) {\n         MapleItemInformationProvider ii = MapleItemInformationProvider.getInstance();\n-        if(!ii.isUpgradeable(this.getItemId())) return;\n+        if(!ii.isUpgradeable(this.getItemId())) return \"\";\n         \n         String eqpName = ii.getName(getItemId());\n-        String eqpInfo = reachedMaxLevel(eqpName) ? \" - MAX LEVEL\" : (\" EXP: \" + itemExp + \" / \" + ExpTable.getEquipExpNeededForLevel(itemLevel));\n+        String eqpInfo = reachedMaxLevel(eqpName) ? \" #e#rMAX LEVEL#k#n\" : (\" EXP: #e#b\" + (int)itemExp + \"#k#n / \" + ExpTable.getEquipExpNeededForLevel(itemLevel));\n         \n-        c.getPlayer().dropMessage(5, \"'\" + eqpName + \"' -> Level: \" + itemLevel + eqpInfo);\n+        return \"'\" + eqpName + \"' -> LV: #e#b\" + itemLevel + \"#k#n    \" + eqpInfo + \"\\r\\n\";\n     }\n \n     public final void showLevelupMessage(String msg, MapleClient c) {"}, {"sha": "bcadd516a421de503ef2233c605a0ec4dce7f6b8", "filename": "src/constants/ServerConstants.java", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/constants/ServerConstants.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/constants/ServerConstants.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/constants/ServerConstants.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -44,9 +44,9 @@\n     public static final boolean USE_ITEM_SORT_BY_NAME = false;      //Item sorting based on name rather than id.\n     public static final boolean USE_PARTY_SEARCH = false;\n     public static final boolean USE_AUTOBAN = false;                //Commands the server to detect infractors automatically.\n-    public static final boolean USE_ANOTHER_AUTOASSIGNER = true;    //Based on distributing AP accordingly to required secondary stat on equipments.\n+    public static final boolean USE_SERVER_AUTOASSIGNER = true;     //Server-builtin autoassigner, uses algorithm based on distributing AP accordingly to required secondary stat on equipments.\n     public static final boolean USE_REFRESH_RANK_MOVE = true;\n-    public static final boolean USE_ENFORCE_MDOOR_POSITION = true;  //Forces mystic door to be spawned near spawnpoints. (since things bugs out other way, and this helps players locate the door faster)\n+    public static final boolean USE_ENFORCE_MDOOR_POSITION = true;  //Forces mystic door to be spawned near spawnpoints. (since things bugs out other way, and this helps players to locate the door faster)\n     public static final boolean USE_ERASE_UNTRADEABLE_DROP = true;  //Forces flagged untradeable items to disappear when dropped.\n     \n     //Server Rates And Experience\n@@ -58,15 +58,15 @@\n     public static final double EQUIP_EXPERIENCE_MOD = 10.0;     //Rate for equipment exp needed, grows linearly. Set 1.0 for default (about 100~200 same-level range mobs killed to pass equip from level 1 to 2).\n     public static final double PQ_BONUS_EXP_MOD = 0.5;\n     \n-    public static final int MAX_AP = 20000;                     //Max AP allotted on the auto-assigner.\n+    public static final int MAX_AP = 32767;                     //Max AP allotted on the auto-assigner.\n     public static final int MAX_EVENT_LEVELS = 8;               //Event has different levels of rewarding system.\n     public static final long BLOCK_NPC_RACE_CONDT = (long)(0.5 * 1000); //Time the player client must wait before reopening a conversation with an NPC.\n     public static final long PET_LOOT_UPON_ATTACK = (long)(0.7 * 1000); //Time the pet must wait before trying to pick items up.\n     \n     //Dangling Items Configuration\n     public static final int ITEM_EXPIRE_TIME  = 3 * 60 * 1000;  //Time before items start disappearing. Recommended to be set up to 3 minutes.\n     public static final int ITEM_MONITOR_TIME = 5 * 60 * 1000;  //Interval between item monitoring tasks on maps, which checks for dangling item objects on the map item history.\n-    public static final int ITEM_LIMIT_ON_MAP = 250;            //Max number of items allowed on a map.\n+    public static final int ITEM_LIMIT_ON_MAP = 200;            //Max number of items allowed on a map.\n     \n     //Some Gameplay Enhancing Configurations\n     //Scroll Configuration\n@@ -102,6 +102,10 @@\n     public static final double PET_AUTOHP_RATIO = 0.99;         //Will automatically consume potions until given ratio of the MaxHP/MaxMP is reached.\n     public static final double PET_AUTOMP_RATIO = 0.99;\n     \n+    //Pet & Mount Configuration\n+    public static final byte PET_EXHAUST_COUNT = 3;             //Number of proc counts (1 per minute) on the exhaust schedule for fullness.\n+    public static final byte MOUNT_EXHAUST_COUNT = 1;           //Number of proc counts (1 per minute) on the exhaust schedule for tiredness.\n+    \n     //Dojo Configuration\n     public static final boolean USE_DEADLY_DOJO = false;        //Should bosses really use 1HP,1MP attacks in dojo?\n     public static final int DOJO_ENERGY_ATK = 100;              //Dojo energy gain when deal attack"}, {"sha": "3ef6bbc6ffde3f7557cfd350578fddb6de3a4678", "filename": "src/net/SendOpcode.java", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/SendOpcode.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/SendOpcode.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/SendOpcode.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -201,7 +201,7 @@\n     MOVE_PET(0xAA),\n     PET_CHAT(0xAB),\n     PET_NAMECHANGE(0xAC),\n-    PET_SHOW(0xAD),\n+    PET_EXCEPTION_LIST(0xAD),\n     PET_COMMAND(0xAE),\n     SPAWN_SPECIAL_MAPOBJECT(0xAF),\n     REMOVE_SPECIAL_MAPOBJECT(0xB0),\n@@ -334,7 +334,8 @@\n     ENABLE_TV(0x157),\n     MTS_OPERATION2(0x15B),\n     MTS_OPERATION(0x15C),\n-    VICIOUS_HAMMER(0x162);\n+    VICIOUS_HAMMER(0x162),\n+    VEGA_SCROLL(0x166);\n     private int code = -2;\n \n     private SendOpcode(int code) {"}, {"sha": "b204c4c6a1265f8af238ca1b412592fe76392d40", "filename": "src/net/server/MountTirednessWorker.java", "status": "added", "additions": 41, "deletions": 0, "changes": 41, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/MountTirednessWorker.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/MountTirednessWorker.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/MountTirednessWorker.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -0,0 +1,41 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+\n+package net.server;\n+\n+import net.server.world.World;\n+\n+/**\n+ * @author Ronan\n+ */\n+public class MountTirednessWorker implements Runnable {\n+    private World wserv;\n+    \n+    @Override\n+    public void run() {\n+        wserv.runMountSchedule();\n+    }\n+    \n+    public MountTirednessWorker(World world) {\n+        wserv = world;\n+    }\n+}"}, {"sha": "bb60f2325af488e77d793a9d13358f2114771504", "filename": "src/net/server/PetFullnessWorker.java", "status": "added", "additions": 41, "deletions": 0, "changes": 41, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/PetFullnessWorker.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/PetFullnessWorker.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/PetFullnessWorker.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -0,0 +1,41 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+\n+package net.server;\n+\n+import net.server.world.World;\n+\n+/**\n+ * @author Ronan\n+ */\n+public class PetFullnessWorker implements Runnable {\n+    private World wserv;\n+    \n+    @Override\n+    public void run() {\n+        wserv.runPetSchedule();\n+    }\n+    \n+    public PetFullnessWorker(World world) {\n+        wserv = world;\n+    }\n+}"}, {"sha": "990257d06e66c4cfb580e380f04ab40473a83180", "filename": "src/net/server/channel/handlers/AutoAssignHandler.java", "status": "modified", "additions": 77, "deletions": 26, "changes": 103, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/channel/handlers/AutoAssignHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/channel/handlers/AutoAssignHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/AutoAssignHandler.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -52,12 +52,16 @@ private static int getNthHighestStat(List<Short> statList, short rank) {    // r\n     @Override\n     public void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n         MapleCharacter chr = c.getPlayer();\n+        int[] statGain = new int[4];\n+        int[] statEqpd = new int[4];\n+        \n+        statGain[0] = 0; statGain[1] = 0; statGain[2] = 0; statGain[3] = 0;\n         \n         slea.skip(8);\n         if (chr.getRemainingAp() < 1) return;\n         \n-        if(ServerConstants.USE_ANOTHER_AUTOASSIGNER == true) {\n-            // ---------- Ronan Lana's AUTOASSIGNER -------------\n+        if(ServerConstants.USE_SERVER_AUTOASSIGNER) {\n+            // --------- Ronan Lana's AUTOASSIGNER ---------\n             // This method excels for assigning APs in such a way to cover all equipments AP requirements.\n             \n             int str = 0, dex = 0, luk = 0, int_ = 0;\n@@ -84,6 +88,11 @@ public void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n                 int_ += nEquip.getInt();\n             }\n             \n+            statEqpd[0] = str;\n+            statEqpd[1] = dex;\n+            statEqpd[2] = luk;\n+            statEqpd[3] = int_;\n+            \n             Collections.sort(eqpStrList, Collections.reverseOrder());\n             Collections.sort(eqpDexList, Collections.reverseOrder());\n             Collections.sort(eqpLukList, Collections.reverseOrder());\n@@ -100,7 +109,7 @@ public void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n             MapleJob stance = c.getPlayer().getJobStyle();\n             int prStat = 0, scStat = 0, trStat = 0, temp, tempAp = chr.getRemainingAp(), CAP;\n             \n-            MapleStat primary, secondary, tertiary = MapleStat.INT;\n+            MapleStat primary, secondary, tertiary = MapleStat.LUK;\n             switch(stance) {\n                 case MAGICIAN:\n                     CAP = 165;\n@@ -124,6 +133,7 @@ public void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n                     \n                     primary = MapleStat.INT;\n                     secondary = MapleStat.LUK;\n+                    tertiary = MapleStat.DEX;\n                     \n                     break;\n                 \n@@ -197,6 +207,7 @@ public void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n                     scStat += temp;\n                     tempAp -= temp;\n                     \n+                    // thieves will upgrade STR as well only if a level-based threshold is reached.\n                     if(chr.getStr() >= Math.max(13, (int)(0.4 * chr.getLevel()))) {\n                         if(chr.getStr() < 50) {\n                             trStat = (chr.getLevel() - 10) - (chr.getStr() + str - eqpStr);\n@@ -205,7 +216,6 @@ public void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n                             trStat = Math.min(50 - chr.getStr(), trStat);\n                             trStat = Math.min(tempAp, trStat);\n                             tempAp -= trStat;\n-                            tertiary = MapleStat.STR;\n                         }\n                     \n                         temp = (20 + (chr.getLevel() / 2)) - Math.max(50, trStat + chr.getStr() + str - eqpStr);\n@@ -234,6 +244,7 @@ public void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n                     \n                     primary = MapleStat.LUK;\n                     secondary = MapleStat.DEX;\n+                    tertiary = MapleStat.STR;\n                     \n                     break;\n                     \n@@ -289,25 +300,28 @@ public void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n             }\n             \n             //-------------------------------------------------------------------------------------\n-            int total = 0;\n+            \n             int extras = 0;\n             \n-            total += trStat;\n-            extras += gainStatByType(chr, tertiary, trStat);\n+            extras = gainStatByType(chr, primary, statGain, statEqpd, prStat + extras);\n+            extras = gainStatByType(chr, secondary, statGain, statEqpd, scStat + extras);\n+            extras = gainStatByType(chr, tertiary, statGain, statEqpd, trStat + extras);\n+                        \n+            if(extras > 0) {    //redistribute surplus in priority order\n+                extras = gainStatByType(chr, primary, statGain, statEqpd, extras);\n+                extras = gainStatByType(chr, secondary, statGain, statEqpd, extras);\n+                extras = gainStatByType(chr, tertiary, statGain, statEqpd, extras);\n+                gainStatByType(chr, getQuaternaryStat(stance), statGain, statEqpd, extras);\n+            }\n             \n-            total += scStat;\n-            extras += gainStatByType(chr, secondary, scStat);\n-                \n-            total += prStat;\n-            extras += gainStatByType(chr, primary, prStat);\n-\n-            int remainingAp = (chr.getRemainingAp() - total) + extras;\n+            int remainingAp = (chr.getRemainingAp() - getAccumulatedStatGain(statGain));\n             chr.setRemainingAp(remainingAp);\n             chr.updateSingleStat(MapleStat.AVAILABLEAP, remainingAp);\n             c.announce(MaplePacketCreator.enableActions());\n+            \n             //----------------------------------------------------------------------------------------\n             \n-            c.announce(MaplePacketCreator.serverNotice(1, \"Better AP applications detected:\\r\\nSTR: +\" + str + \"\\r\\nDEX: +\" + dex + \"\\r\\nINT: +\" + int_ + \"\\r\\nLUK: +\" + luk));\n+            c.announce(MaplePacketCreator.serverNotice(1, \"Better AP applications detected:\\r\\nSTR: +\" + statGain[0] + \"\\r\\nDEX: +\" + statGain[1] + \"\\r\\nINT: +\" + statGain[3] + \"\\r\\nLUK: +\" + statGain[2]));\n         }\n         else {\n             int total = 0;\n@@ -317,15 +331,26 @@ public void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n                 c.disconnect(false, false);\n                 return;\n             }\n+            \n+            MapleInventory iv = chr.getInventory(MapleInventoryType.EQUIPPED);\n+            Collection<Item> equippedC = iv.list();\n+            for (Item item : equippedC) {   //selecting the biggest AP value of each stat from each equipped item.\n+            \tEquip nEquip = (Equip)item;\n+                \n+                statEqpd[0] += nEquip.getStr();\n+                statEqpd[1] += nEquip.getDex();\n+                statEqpd[2] += nEquip.getLuk();\n+                statEqpd[3] += nEquip.getInt();\n+            }\n+            \n             for (int i = 0; i < 2; i++) {\n                 int type = slea.readInt();\n                 int tempVal = slea.readInt();\n                 if (tempVal < 0 || tempVal > c.getPlayer().getRemainingAp()) {\n                     return;\n                 }\n                 total += tempVal;\n-                System.out.println(tempVal);\n-                extras += gainStatByType(chr, MapleStat.getBy5ByteEncoding(type), tempVal);\n+                extras += gainStatByType(chr, MapleStat.getBy5ByteEncoding(type), statGain, statEqpd, tempVal);\n             }\n             int remainingAp = (chr.getRemainingAp() - total) + extras;\n             chr.setRemainingAp(remainingAp);\n@@ -334,42 +359,68 @@ public void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n         }\n     }\n \n-    private int gainStatByType(MapleCharacter chr, MapleStat type, int gain) {\n+    private int gainStatByType(MapleCharacter chr, MapleStat type, int[] statGain, int[] statEqpd, int gain) {\n+        if(gain <= 0) return 0;\n+        \n         int newVal = 0;\n         if (type.equals(MapleStat.STR)) {\n-            newVal = chr.getStr() + gain;\n+            newVal = chr.getStr() + statEqpd[0] + gain;\n             if (newVal > ServerConstants.MAX_AP) {\n-                chr.setStr(ServerConstants.MAX_AP);\n+                statGain[0] += gain - (newVal - ServerConstants.MAX_AP);\n+                chr.setStr(ServerConstants.MAX_AP - statEqpd[0]);\n             } else {\n+                statGain[0] += gain;\n                 chr.setStr(newVal);\n             }\n         } else if (type.equals(MapleStat.INT)) {\n-            newVal = chr.getInt() + gain;\n+            newVal = chr.getInt() + statEqpd[3] + gain;\n             if (newVal > ServerConstants.MAX_AP) {\n-                chr.setInt(ServerConstants.MAX_AP);\n+                statGain[3] += gain - (newVal - ServerConstants.MAX_AP);\n+                chr.setInt(ServerConstants.MAX_AP - statEqpd[3]);\n             } else {\n+                statGain[3] += gain;\n                 chr.setInt(newVal);\n             }\n         } else if (type.equals(MapleStat.LUK)) {\n-            newVal = chr.getLuk() + gain;\n+            newVal = chr.getLuk() + statEqpd[2] + gain;\n             if (newVal > ServerConstants.MAX_AP) {\n-                chr.setLuk(ServerConstants.MAX_AP);\n+                statGain[2] += gain - (newVal - ServerConstants.MAX_AP);\n+                chr.setLuk(ServerConstants.MAX_AP - statEqpd[2]);\n             } else {\n+                statGain[2] += gain;\n                 chr.setLuk(newVal);\n             }\n         } else if (type.equals(MapleStat.DEX)) {\n-            newVal = chr.getDex() + gain;\n+            newVal = chr.getDex() + statEqpd[1] + gain;\n             if (newVal > ServerConstants.MAX_AP) {\n-                chr.setDex(ServerConstants.MAX_AP);\n+                statGain[1] += gain - (newVal - ServerConstants.MAX_AP);\n+                chr.setDex(ServerConstants.MAX_AP - statEqpd[1]);\n             } else {\n+                statGain[1] += gain;\n                 chr.setDex(newVal);\n             }\n         }\n+        \n         if (newVal > ServerConstants.MAX_AP) {\n             chr.updateSingleStat(type, ServerConstants.MAX_AP);\n             return newVal - ServerConstants.MAX_AP;\n         }\n         chr.updateSingleStat(type, newVal);\n         return 0;\n     }\n+    \n+    private MapleStat getQuaternaryStat(MapleJob stance) {\n+        if(stance != MapleJob.MAGICIAN) return MapleStat.INT;\n+        return MapleStat.STR;\n+    }\n+    \n+    private int getAccumulatedStatGain(int[] statGain) {\n+        int acc = 0;\n+        \n+        for(byte i = 0; i < statGain.length; i++) {\n+            acc += statGain[i];\n+        }\n+        \n+        return acc;\n+    }\n }"}, {"sha": "fd6ad8df3991d8255f36322b0afbfb8620a7368d", "filename": "src/net/server/channel/handlers/ChangeMapHandler.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/channel/handlers/ChangeMapHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/channel/handlers/ChangeMapHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/ChangeMapHandler.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -88,6 +88,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n \t\t\t\t\t\t\tchr.setStance(0);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tchr.setHp(50);\n+                                                chr.updatePartyMemberHP();\n \t\t\t\t\t\tchr.changeMap(to, to.getRandomPlayerSpawnpoint());\n \t\t\t\t\t}\n \t\t\t\t} else if (targetid != -1) {"}, {"sha": "f97ec9408b6b0f1c546cd9b74b583f1d81c19c94", "filename": "src/net/server/channel/handlers/CharInfoRequestHandler.java", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/channel/handlers/CharInfoRequestHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/channel/handlers/CharInfoRequestHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/CharInfoRequestHandler.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -30,12 +30,17 @@\n \n public final class CharInfoRequestHandler extends AbstractMaplePacketHandler {\n     public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n-        slea.readInt();\n+        slea.skip(4);\n         int cid = slea.readInt();\n         MapleMapObject target = c.getPlayer().getMap().getMapObject(cid);\n         if (target != null) {\n             if (target instanceof MapleCharacter) {\n-                c.announce(MaplePacketCreator.charInfo((MapleCharacter) target));\n+                MapleCharacter player = (MapleCharacter) target;\n+                \n+                if(c.getPlayer().getId() != player.getId()) {\n+                    player.exportExcludedItems(c);\n+                }\n+                c.announce(MaplePacketCreator.charInfo(player));\n             }\n         }\n     }"}, {"sha": "d2d6ecd63ec2b8ed37c982daa4c86e4d6b772330", "filename": "src/net/server/channel/handlers/EnterCashShopHandler.java", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/channel/handlers/EnterCashShopHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/channel/handlers/EnterCashShopHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/EnterCashShopHandler.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -38,6 +38,11 @@ public void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n         try {\n             MapleCharacter mc = c.getPlayer();\n \n+            if (mc.cannotEnterCashShop()) {\n+                c.announce(MaplePacketCreator.enableActions());\n+                return;\n+            }\n+            \n             if (mc.getCashShop().isOpened()) {\n                 return;\n             }"}, {"sha": "4b1842c51a29cc2da976c25f4ca2275645d4323d", "filename": "src/net/server/channel/handlers/PetExcludeItemsHandler.java", "status": "modified", "additions": 19, "deletions": 2, "changes": 21, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/channel/handlers/PetExcludeItemsHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/channel/handlers/PetExcludeItemsHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/PetExcludeItemsHandler.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -22,18 +22,35 @@\n package net.server.channel.handlers;\n \n import client.MapleClient;\n+import client.MapleCharacter;\n+import client.inventory.MaplePet;\n import net.AbstractMaplePacketHandler;\n import tools.data.input.SeekableLittleEndianAccessor;\n+//import tools.MaplePacketCreator;\n \n /**\n  * @author BubblesDev\n+ * @author Ronan\n  */\n public final class PetExcludeItemsHandler extends AbstractMaplePacketHandler {\n     public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n-        slea.readLong();\n+        final int petId = slea.readInt();\n+        slea.skip(4);\n+        \n+        MapleCharacter chr = c.getPlayer();\n+        byte petIndex = (byte)chr.getPetIndex(petId);\n+        if (petIndex < 0) return;\n+        \n+        final MaplePet pet = chr.getPet(petIndex);\n+        if (pet == null) {\n+            return;\n+        }\n+        \n+        chr.resetExcluded(petId);\n         byte amount = slea.readByte();\n         for (int i = 0; i < amount; i++) {\n-            c.getPlayer().addExcluded(slea.readInt());\n+            chr.addExcluded(petId, slea.readInt());\n         }\n+        chr.commitExcludedItems();\n     }\n }"}, {"sha": "694752c6b9fa7c7eb883700b8896a7bdd276b740", "filename": "src/net/server/channel/handlers/PetFoodHandler.java", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/channel/handlers/PetFoodHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/channel/handlers/PetFoodHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/PetFoodHandler.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -22,7 +22,6 @@\n package net.server.channel.handlers;\n \n import client.MapleCharacter;\n-import constants.ExpTable;\n import client.MapleClient;\n import client.inventory.MapleInventoryType;\n import client.inventory.MaplePet;\n@@ -61,7 +60,10 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                 }\n             }\n         }\n+        \n         MaplePet pet = chr.getPet(slot);\n+        if(pet == null) return;\n+        \n         short pos = slea.readShort();\n         int itemId = slea.readInt();\n         Item use = chr.getInventory(MapleInventoryType.USE).getItem(pos);"}, {"sha": "604464ef7476412ed9db9023fb7d65bda91f5004", "filename": "src/net/server/channel/handlers/PetLootHandler.java", "status": "modified", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/channel/handlers/PetLootHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/channel/handlers/PetLootHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/PetLootHandler.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -21,10 +21,14 @@\n */\n package net.server.channel.handlers;\n \n+import java.util.Set;\n+\n import client.MapleCharacter;\n import client.MapleClient;\n+import client.inventory.MapleInventoryType;\n import client.inventory.MaplePet;\n import net.AbstractMaplePacketHandler;\n+import server.maps.MapleMapItem;\n import server.maps.MapleMapObject;\n import tools.MaplePacketCreator;\n import tools.data.input.SeekableLittleEndianAccessor;\n@@ -52,6 +56,30 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n         slea.skip(13);\n         int oid = slea.readInt();\n         MapleMapObject ob = chr.getMap().getMapObject(oid);\n+        if(ob == null) {\n+            c.getSession().write(MaplePacketCreator.enableActions());\n+            return;\n+        }\n+        \n+        if (chr.getInventory(MapleInventoryType.EQUIPPED).findById(1812007) != null) {\n+            final Set<Integer> petIgnore = chr.getExcludedItems();\n+            MapleMapItem mapitem = (MapleMapItem) ob;\n+            \n+            if(!petIgnore.isEmpty()) {\n+                if (chr.getInventory(MapleInventoryType.EQUIPPED).findById(1812000) != null) { // Meso magnet\n+                    if (mapitem.getMeso() > 0 && petIgnore.contains(Integer.MAX_VALUE)) {\n+                        c.getSession().write(MaplePacketCreator.enableActions());\n+                        return;\n+                    }\n+                } else if (chr.getInventory(MapleInventoryType.EQUIPPED).findById(1812001) != null) { // Item Pouch\n+                    if (petIgnore.contains(mapitem.getItem().getItemId())) {\n+                        c.getSession().write(MaplePacketCreator.enableActions());\n+                        return;\n+                    }\n+                }\n+            }\n+        }\n+        \n         chr.pickupItem(ob, petIndex);\n     }\n }"}, {"sha": "5a90e0efd73684d2c023a66c907d8484efe840e3", "filename": "src/net/server/channel/handlers/PlayerLoggedinHandler.java", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/channel/handlers/PlayerLoggedinHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/channel/handlers/PlayerLoggedinHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/PlayerLoggedinHandler.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -48,7 +48,6 @@\n import client.SkillFactory;\n import client.inventory.MapleInventoryType;\n import client.inventory.MaplePet;\n-import client.inventory.PetDataFactory;\n import constants.GameConstants;\n import constants.ServerConstants;\n \n@@ -246,7 +245,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n         if(newcomer) {\n             for(MaplePet pet : player.getPets()) {\n                 if(pet != null)\n-                    player.startFullnessSchedule(PetDataFactory.getHunger(pet.getItemId()), pet, player.getPetIndex(pet));\n+                    world.registerPetHunger(player, player.getPetIndex(pet));\n             }\n             \n             player.reloadQuestExpirations();\n@@ -261,6 +260,9 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n         if (GameConstants.hasSPTable(player.getJob()) && player.getJob().getId() != 2001) {\n                 player.createDragon();\n         }\n+        \n+        player.commitExcludedItems();\n+        \n         if (newcomer){\n             /*\n             if (!c.hasVotedAlready()){\n@@ -279,5 +281,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n         if(ServerConstants.USE_ADD_RATES_BY_LEVEL == true) player.setPlayerRates();\n         player.setWorldRates();\n         player.updateCouponRates();\n+        \n+        player.receivePartyMemberHP();\n     }\n }"}, {"sha": "029368bcbd8aece3a4a6f78de0b2f9117971f9f4", "filename": "src/net/server/channel/handlers/ScrollHandler.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/channel/handlers/ScrollHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/channel/handlers/ScrollHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/ScrollHandler.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -94,7 +94,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n         if (ItemConstants.isCleanSlate(scroll.getItemId()) && !(toScroll.getLevel() + toScroll.getUpgradeSlots() < ii.getEquipStats(toScroll.getItemId()).get(\"tuc\"))) { //upgrade slots can be over because of hammers\n             return;\n         }\n-        Equip scrolled = (Equip) ii.scrollEquipWithId(toScroll, scroll.getItemId(), whiteScroll, c.getPlayer().isGM());\n+        Equip scrolled = (Equip) ii.scrollEquipWithId(toScroll, scroll.getItemId(), whiteScroll, 0, c.getPlayer().isGM());\n         ScrollResult scrollSuccess = Equip.ScrollResult.FAIL; // fail\n         if (scrolled == null) {\n             scrollSuccess = Equip.ScrollResult.CURSE;"}, {"sha": "8ca43b91e054067bde8d591495c4d379d2be2447", "filename": "src/net/server/channel/handlers/SpawnPetHandler.java", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/channel/handlers/SpawnPetHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/channel/handlers/SpawnPetHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/SpawnPetHandler.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -24,15 +24,10 @@\n import client.MapleCharacter;\n import java.awt.Point;\n import java.io.File;\n-import java.sql.PreparedStatement;\n import client.MapleClient;\n import client.inventory.MapleInventoryType;\n import client.inventory.MaplePet;\n-import client.inventory.PetDataFactory;\n import client.SkillFactory;\n-import java.sql.Connection;\n-import java.sql.SQLException;\n-import tools.DatabaseConnection;\n import net.AbstractMaplePacketHandler;\n import provider.MapleDataProvider;\n import provider.MapleDataProviderFactory;\n@@ -95,7 +90,8 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             chr.getMap().broadcastMessage(c.getPlayer(), MaplePacketCreator.showPet(c.getPlayer(), pet, false, false), true);\n             c.announce(MaplePacketCreator.petStatUpdate(c.getPlayer()));\n             c.announce(MaplePacketCreator.enableActions());\n-            chr.startFullnessSchedule(PetDataFactory.getHunger(pet.getItemId()), pet, chr.getPetIndex(pet));\n+                    \n+            chr.getClient().getWorldServer().registerPetHunger(chr, chr.getPetIndex(pet));\n         }\n     }\n }"}, {"sha": "6481185e765f57dc1ad2deb7921351e73afd26f3", "filename": "src/net/server/channel/handlers/SpecialMoveHandler.java", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/channel/handlers/SpecialMoveHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/channel/handlers/SpecialMoveHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/SpecialMoveHandler.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -117,9 +117,6 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             int gain = lose * (ef.getY() / 100);\n             chr.setMp(chr.getMp() + gain);\n             chr.updateSingleStat(MapleStat.MP, chr.getMp());\n-        } else if (skillid == Hermit.FLASH_JUMP) {\n-            slea.skip(2);   // always 0? Also 3rd party FJ effect doesn't seem to work, agh!\n-            //chr.getMap().broadcastMessage(c.getPlayer(), MaplePacketCreator.showBuffeffect(chr.getId(), skillid, chr.getSkillLevel(skillid), (byte)0), false);\n         } else if (skillid == Priest.DISPEL || skillid == SuperGM.HEAL_PLUS_DISPEL) {\n             slea.skip((skillid == Priest.DISPEL) ? 10 : 11);\n             chr.getMap().broadcastMessage(c.getPlayer(), MaplePacketCreator.showBuffeffect(chr.getId(), skillid, chr.getSkillLevel(skillid)), false);"}, {"sha": "a9c082233cb5d9230e293115b3b871ac6bf1e8d0", "filename": "src/net/server/channel/handlers/TakeDamageHandler.java", "status": "modified", "additions": 22, "deletions": 18, "changes": 40, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/channel/handlers/TakeDamageHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/channel/handlers/TakeDamageHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/TakeDamageHandler.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -85,28 +85,32 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                         return;\n                     }\n                     if (damage > 0) {\n-                        loseItems = map.getMonsterById(monsteridfrom).getStats().loseItem();\n-                        if (loseItems != null) {\n-                            MapleInventoryType type;\n-                            final int playerpos = player.getPosition().x;\n-                            byte d = 1;\n-                            Point pos = new Point(0, player.getPosition().y);\n-                            for (loseItem loseItem : loseItems) {\n-                                type = MapleItemInformationProvider.getInstance().getInventoryType(loseItem.getId());\n-                                for (byte b = 0; b < loseItem.getX(); b++) {//LOL?\n-                                    if (Randomizer.nextInt(101) >= loseItem.getChance()) {\n-                                        if (player.haveItem(loseItem.getId())) {\n-                                            pos.x = (int) (playerpos + ((d % 2 == 0) ? (25 * (d + 1) / 2) : -(25 * (d / 2))));\n-                                            MapleInventoryManipulator.removeById(c, type, loseItem.getId(), 1, false, false);\n-                                            map.spawnItemDrop(c.getPlayer(), c.getPlayer(), new Item(loseItem.getId(), (short) 0, (short) 1), map.calcDropPos(pos, player.getPosition()), true, true);\n-                                            d++;\n-                                        } else {\n-                                            break;\n+                        MapleMonster assaulter = map.getMonsterById(monsteridfrom);\n+                        \n+                        if(assaulter != null) {\n+                            loseItems = assaulter.getStats().loseItem();\n+                            if (loseItems != null) {\n+                                MapleInventoryType type;\n+                                final int playerpos = player.getPosition().x;\n+                                byte d = 1;\n+                                Point pos = new Point(0, player.getPosition().y);\n+                                for (loseItem loseItem : loseItems) {\n+                                    type = MapleItemInformationProvider.getInstance().getInventoryType(loseItem.getId());\n+                                    for (byte b = 0; b < loseItem.getX(); b++) {//LOL?\n+                                        if (Randomizer.nextInt(101) >= loseItem.getChance()) {\n+                                            if (player.haveItem(loseItem.getId())) {\n+                                                pos.x = (int) (playerpos + ((d % 2 == 0) ? (25 * (d + 1) / 2) : -(25 * (d / 2))));\n+                                                MapleInventoryManipulator.removeById(c, type, loseItem.getId(), 1, false, false);\n+                                                map.spawnItemDrop(c.getPlayer(), c.getPlayer(), new Item(loseItem.getId(), (short) 0, (short) 1), map.calcDropPos(pos, player.getPosition()), true, true);\n+                                                d++;\n+                                            } else {\n+                                                break;\n+                                            }\n                                         }\n                                     }\n                                 }\n+                                map.removeMapObject(attacker);\n                             }\n-                            map.removeMapObject(attacker);\n                         }\n                     }\n                 } else {"}, {"sha": "f14cf9f789c36b3a2f2f3b8cdf4413ef7ac3cbad", "filename": "src/net/server/channel/handlers/UseCashItemHandler.java", "status": "modified", "additions": 62, "deletions": 2, "changes": 64, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/channel/handlers/UseCashItemHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/channel/handlers/UseCashItemHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/UseCashItemHandler.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -28,9 +28,11 @@\n import client.Skill;\n import client.SkillFactory;\n import client.inventory.Equip;\n+import client.inventory.Equip.ScrollResult;\n import client.inventory.Item;\n import client.inventory.MapleInventoryType;\n import client.inventory.MaplePet;\n+import client.inventory.ModifyInventory;\n import constants.ItemConstants;\n \n import java.sql.SQLException;\n@@ -56,7 +58,7 @@\n \n     @Override\n     public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n-        MapleCharacter player = c.getPlayer();\n+        final MapleCharacter player = c.getPlayer();\n         if (System.currentTimeMillis() - player.getLastUsedCashItem() < 3000) {\n             player.dropMessage(1, \"You have used a cash item recently. Wait a moment and try again.\");\n             c.announce(MaplePacketCreator.enableActions());\n@@ -514,7 +516,65 @@ public void run() {\n             c.announce(MaplePacketCreator.sendHammerData(equip.getVicious()));\n             player.forceUpdateItem(equip);\n         } else if (itemType == 561) { //VEGA'S SPELL\n-            c.announce(MaplePacketCreator.enableActions());\n+            if (slea.readInt() != 1) {\n+                return;\n+            }\n+            \n+            final byte eSlot = (byte) slea.readInt();\n+            final Item eitem = c.getPlayer().getInventory(MapleInventoryType.EQUIP).getItem(eSlot);\n+            \n+            if (slea.readInt() != 2) {\n+                return;\n+            }\n+            \n+            final byte uSlot = (byte) slea.readInt();\n+            final Item uitem = c.getPlayer().getInventory(MapleInventoryType.USE).getItem(uSlot);\n+            if (eitem == null || uitem == null) {\n+                return;\n+            }\n+            \n+            //should have a check here against PE hacks\n+            \n+            Equip toScroll = (Equip) eitem;\n+            if (toScroll.getUpgradeSlots() < 1) {\n+                c.getSession().write(MaplePacketCreator.getInventoryFull());\n+                return;\n+            }\n+            \n+            c.getPlayer().toggleBlockCashShop();\n+            \n+            final int curlevel = toScroll.getLevel();\n+            c.getSession().write(MaplePacketCreator.sendVegaScroll(0x40));\n+            \n+            final Equip scrolled = (Equip) ii.scrollEquipWithId(toScroll, uitem.getItemId(), false, itemId, c.getPlayer().isGM());\n+            c.getSession().write(MaplePacketCreator.sendVegaScroll(scrolled.getLevel() > curlevel ? 0x41 : 0x43));\n+            //opcodes 0x42, 0x44: \"this item cannot be used\"; 0x39, 0x45: crashes\n+            \n+            MapleInventoryManipulator.removeFromSlot(c, MapleInventoryType.USE, uSlot, (short) 1, false);\n+            remove(c, itemId);\n+            \n+            final MapleClient client = c;\n+            TimerManager.getInstance().schedule(new Runnable() {\n+            \t@Override\n+            \tpublic void run() {\n+                    if(!player.isLoggedin()) return;\n+                    \n+                    player.toggleBlockCashShop();\n+                    \n+                    final List<ModifyInventory> mods = new ArrayList<>();\n+                    mods.add(new ModifyInventory(3, scrolled));\n+                    mods.add(new ModifyInventory(0, scrolled));\n+                    client.announce(MaplePacketCreator.modifyInventory(true, mods));\n+\n+                    ScrollResult scrollResult = scrolled.getLevel() > curlevel ? ScrollResult.SUCCESS : ScrollResult.FAIL;\n+                    player.getMap().broadcastMessage(MaplePacketCreator.getScrollEffect(player.getId(), scrollResult, false));\n+                    if (eSlot < 0 && (scrollResult == ScrollResult.SUCCESS)) {\n+                        player.equipChanged();\n+                    }\n+\n+                    client.getSession().write(MaplePacketCreator.enableActions());\n+            \t}\n+            }, 1000 * 3);\n         } else {\n             System.out.println(\"NEW CASH ITEM: \" + itemType + \"\\n\" + slea.toString());\n             c.announce(MaplePacketCreator.enableActions());"}, {"sha": "7f1ca4507dfa3c842c0d5b2f2ca25ee18809c231", "filename": "src/net/server/world/World.java", "status": "modified", "additions": 125, "deletions": 2, "changes": 127, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/world/World.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/net/server/world/World.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/world/World.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -33,6 +33,7 @@\n import java.sql.PreparedStatement;\n import java.sql.SQLException;\n import java.util.ArrayList;\n+import java.util.Collections;\n import java.util.LinkedList;\n import java.util.List;\n import java.util.HashMap;\n@@ -41,15 +42,18 @@\n import java.util.concurrent.atomic.AtomicInteger;\n import java.util.Set;\n import java.util.HashSet;\n+import java.util.concurrent.ScheduledFuture;\n \n+import server.TimerManager;\n+import net.server.PetFullnessWorker;\n+import net.server.MountTirednessWorker;\n import net.server.PlayerStorage;\n import net.server.Server;\n import net.server.channel.Channel;\n import net.server.channel.CharacterIdChannelPair;\n import net.server.guild.MapleGuild;\n import net.server.guild.MapleGuildCharacter;\n import net.server.guild.MapleGuildSummary;\n-import tools.LogHelper;\n import tools.DatabaseConnection;\n import tools.MaplePacketCreator;\n \n@@ -70,6 +74,14 @@\n     private Map<Integer, MapleGuildSummary> gsStore = new HashMap<>();\n     private PlayerStorage players = new PlayerStorage();\n     private Set<Integer> queuedGuilds = new HashSet<>();\n+    \n+    private Map<Integer, Byte> activePets = new LinkedHashMap<>();\n+    private ScheduledFuture<?> petsSchedule;\n+    private long petUpdate;\n+    \n+    private Map<Integer, Byte> activeMounts = new LinkedHashMap<>();\n+    private ScheduledFuture<?> mountsSchedule;\n+    private long mountUpdate;\n \n     public World(int world, int flag, String eventmsg, int exprate, int droprate, int mesorate, int bossdroprate) {\n         this.id = world;\n@@ -81,6 +93,12 @@ public World(int world, int flag, String eventmsg, int exprate, int droprate, in\n         this.bossdroprate = bossdroprate;\n         runningPartyId.set(1);\n         runningMessengerId.set(1);\n+        \n+        petUpdate = System.currentTimeMillis();\n+        mountUpdate = petUpdate;\n+        \n+        petsSchedule = TimerManager.getInstance().register(new PetFullnessWorker(this), 60 * 1000, 60 * 1000);\n+        mountsSchedule = TimerManager.getInstance().register(new MountTirednessWorker(this), 60 * 1000, 60 * 1000);\n     }\n \n     public List<Channel> getChannels() {\n@@ -181,7 +199,7 @@ public void removePlayer(MapleCharacter chr) {\n         channels.get(chr.getClient().getChannel() - 1).removePlayer(chr);\n         players.removePlayer(chr.getId());\n     }\n-\n+    \n     public int getId() {\n         return id;\n     }\n@@ -657,6 +675,100 @@ private void updateBuddies(int characterId, int channel, int[] buddies, boolean\n             }\n         }\n     }\n+    \n+    private static Integer getPetKey(MapleCharacter chr, byte petSlot) {    // assuming max 3 pets\n+        return (chr.getId() << 2) + petSlot;\n+    }\n+    \n+    public void registerPetHunger(MapleCharacter chr, byte petSlot) {\n+        if(chr.isGM() && ServerConstants.GM_PETS_NEVER_HUNGRY || ServerConstants.PETS_NEVER_HUNGRY) {\n+            return;\n+        }\n+        \n+        Integer key = getPetKey(chr, petSlot);\n+        synchronized(activePets) {\n+            byte initProc;\n+            if(System.currentTimeMillis() - petUpdate > 55000) initProc = ServerConstants.PET_EXHAUST_COUNT - 2;\n+            else initProc = ServerConstants.PET_EXHAUST_COUNT - 1;\n+            \n+            activePets.put(key, initProc);\n+        }\n+    }\n+    \n+    public void unregisterPetHunger(MapleCharacter chr, byte petSlot) {\n+        Integer key = getPetKey(chr, petSlot);\n+        synchronized(activePets) {\n+            activePets.remove(key);\n+        }\n+    }\n+    \n+    public void runPetSchedule() {\n+        Map<Integer, Byte> deployedPets;\n+        synchronized(activePets) {\n+            petUpdate = System.currentTimeMillis();\n+            deployedPets = Collections.unmodifiableMap(activePets);\n+        }\n+        \n+        for(Map.Entry<Integer, Byte> dp: deployedPets.entrySet()) {\n+            MapleCharacter chr = this.getPlayerStorage().getCharacterById(dp.getKey() / 4);\n+            if(chr == null || !chr.isLoggedin()) continue;\n+            \n+            Byte dpVal = (byte)(dp.getValue() + 1);\n+            if(dpVal == ServerConstants.PET_EXHAUST_COUNT) {\n+                chr.runFullnessSchedule(dp.getKey() % 4);\n+                dpVal = 0;\n+            }\n+            \n+            synchronized(activePets) {\n+                activePets.put(dp.getKey(), dpVal);\n+            }\n+        }\n+    }\n+    \n+    public void registerMountHunger(MapleCharacter chr) {\n+        if(chr.isGM() && ServerConstants.GM_PETS_NEVER_HUNGRY || ServerConstants.PETS_NEVER_HUNGRY) {\n+            return;\n+        }\n+        \n+        Integer key = chr.getId();\n+        synchronized(activeMounts) {\n+            byte initProc;\n+            if(System.currentTimeMillis() - mountUpdate > 45000) initProc = ServerConstants.MOUNT_EXHAUST_COUNT - 2;\n+            else initProc = ServerConstants.MOUNT_EXHAUST_COUNT - 1;\n+            \n+            activeMounts.put(key, initProc);\n+        }\n+    }\n+    \n+    public void unregisterMountHunger(MapleCharacter chr) {\n+        Integer key = chr.getId();\n+        synchronized(activeMounts) {\n+            activeMounts.remove(key);\n+        }\n+    }\n+    \n+    public void runMountSchedule() {\n+        Map<Integer, Byte> deployedMounts;\n+        synchronized(activeMounts) {\n+            mountUpdate = System.currentTimeMillis();\n+            deployedMounts = Collections.unmodifiableMap(activeMounts);\n+        }\n+        \n+        for(Map.Entry<Integer, Byte> dp: deployedMounts.entrySet()) {\n+            MapleCharacter chr = this.getPlayerStorage().getCharacterById(dp.getKey());\n+            if(chr == null || !chr.isLoggedin()) continue;\n+            \n+            Byte dpVal = (byte)(dp.getValue() + 1);\n+            if(dpVal == ServerConstants.MOUNT_EXHAUST_COUNT) {\n+                chr.runTirednessSchedule();\n+                dpVal = 0;\n+            }\n+            \n+            synchronized(activeMounts) {\n+                activeMounts.put(dp.getKey(), dpVal);\n+            }\n+        }\n+    }\n \n     public void setServerMessage(String msg) {\n         for (Channel ch : channels) {\n@@ -674,6 +786,17 @@ public final void shutdown() {\n         for (Channel ch : getChannels()) {\n             ch.shutdown();\n         }\n+        \n+        if(petsSchedule != null) {\n+            petsSchedule.cancel(false);\n+            petsSchedule = null;\n+        }\n+        \n+        if(mountsSchedule != null) {\n+            mountsSchedule.cancel(false);\n+            mountsSchedule = null;\n+        }\n+        \n         players.disconnectAll();\n     }\n }"}, {"sha": "753faa3d7680fc88db9a97ef569a796e9b329d2d", "filename": "src/scripting/AbstractPlayerInteraction.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/scripting/AbstractPlayerInteraction.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/scripting/AbstractPlayerInteraction.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/scripting/AbstractPlayerInteraction.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -375,7 +375,7 @@ else if(tmp.getPetId() == -1) {\n             getPlayer().getMap().broadcastMessage(c.getPlayer(), MaplePacketCreator.showPet(c.getPlayer(), evolved, false, false), true);\n             c.announce(MaplePacketCreator.petStatUpdate(c.getPlayer()));\n             c.announce(MaplePacketCreator.enableActions());\n-            getPlayer().startFullnessSchedule(PetDataFactory.getHunger(evolved.getItemId()), evolved, getPlayer().getPetIndex(evolved));\n+            chr.getClient().getWorldServer().registerPetHunger(chr, chr.getPetIndex(evolved));\n             */\n             \n             MapleInventoryManipulator.removeFromSlot(c, MapleInventoryType.CASH, target.getPosition(), (short) 1, false);\n@@ -452,7 +452,7 @@ public Item gainItem(int id, short quantity, boolean randomStats, boolean showMe\n                                 }\n                                 \n                                 if(ServerConstants.USE_ENHANCED_CRAFTING == true && c.getPlayer().getCS() == true)\n-                                    item = MapleItemInformationProvider.getInstance().scrollEquipWithId(item, 2049100, true, c.getPlayer().isGM());\n+                                    item = MapleItemInformationProvider.getInstance().scrollEquipWithId(item, 2049100, true, 0, c.getPlayer().isGM());\n \t\t\t} else {\n \t\t\t\titem = new Item(id, (short) 0, quantity, petId);\n \t\t\t}"}, {"sha": "9646b6b841c6519745f2ebda50d62e5c377f6cb6", "filename": "src/scripting/npc/NPCConversationManager.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/scripting/npc/NPCConversationManager.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/scripting/npc/NPCConversationManager.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/scripting/npc/NPCConversationManager.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -280,7 +280,7 @@ public void resetMap(int mapid) {\n \n \tpublic void gainCloseness(int closeness) {\n \t\tfor (MaplePet pet : getPlayer().getPets()) {\n-                        pet.gainClosenessFullness(getPlayer(), closeness, 0, 0);\n+                        if(pet != null) pet.gainClosenessFullness(getPlayer(), closeness, 0, 0);\n \t\t}\n \t}\n "}, {"sha": "b240e4d3a891ca85d05de608625a735b2e6e400c", "filename": "src/server/MapleInventoryManipulator.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/server/MapleInventoryManipulator.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/server/MapleInventoryManipulator.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/MapleInventoryManipulator.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -537,7 +537,7 @@ public static void drop(MapleClient c, MapleInventoryType type, short src, short\n                 c.getPlayer().setChalkboard(null);\n             }\n         }\n-        if ((!ItemConstants.isRechargable(itemId) && c.getPlayer().getItemQuantity(itemId, true) < quantity) || quantity < 0 || source == null) {\n+        if (source == null || (!ItemConstants.isRechargable(itemId) && source.getQuantity() < quantity) || quantity < 0) {\n             return;\n         }\n         Point dropPos = new Point(c.getPlayer().getPosition());"}, {"sha": "9c83843c96c1d63a1a882819a47bee9d73171244", "filename": "src/server/MapleItemInformationProvider.java", "status": "modified", "additions": 9, "deletions": 2, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/server/MapleItemInformationProvider.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/server/MapleItemInformationProvider.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/MapleItemInformationProvider.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -559,15 +559,22 @@ private static short getShortMaxIfOverflow(int value) {\n         return (short)Math.min(Short.MAX_VALUE, value);\n     }\n     \n-    public Item scrollEquipWithId(Item equip, int scrollId, boolean usingWhiteScroll, boolean isGM) {\n+    public Item scrollEquipWithId(Item equip, int scrollId, boolean usingWhiteScroll, int vegaItemId, boolean isGM) {\n         if (equip instanceof Equip) {\n             Equip nEquip = (Equip) equip;\n             \n             Map<String, Integer> stats = this.getEquipStats(scrollId);\n             Map<String, Integer> eqstats = this.getEquipStats(equip.getItemId());\n             \n             if (((nEquip.getUpgradeSlots() > 0 || ItemConstants.isCleanSlate(scrollId))) || isGM) {\n-                if(isGM || rollSuccessChance((double)stats.get(\"success\"))) {\n+                double prop = (double)stats.get(\"success\");\n+                if (vegaItemId == 5610000) {\n+                    prop = 30.0;\n+                } else if (vegaItemId == 5610001) {\n+                    prop = 90.0;\n+                }\n+                \n+                if(isGM || rollSuccessChance(prop)) {\n                     short flag = nEquip.getFlag();\n                     switch (scrollId) {\n                         case 2040727:"}, {"sha": "87be07ae6af24b5c109edf1a02ac9eeb3f079737", "filename": "src/server/MapleStatEffect.java", "status": "modified", "additions": 5, "deletions": 6, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/server/MapleStatEffect.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/server/MapleStatEffect.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/MapleStatEffect.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -752,7 +752,7 @@ private boolean applyTo(MapleCharacter applyfrom, MapleCharacter applyto, boolea\n         }\n         if (isDispel() && makeChanceResult()) {\n             applyto.dispelDebuffs();\n-        } else if (isHeroWill()) {\n+        } else if (isCureAllAbnormalStatus()) {\n             applyto.dispelDebuff(MapleDisease.SEDUCE);\n             applyto.dispelDebuff(MapleDisease.ZOMBIFY);\n             applyto.dispelDebuffs();\n@@ -1042,9 +1042,7 @@ private void applyBuffEffect(MapleCharacter applyfrom, MapleCharacter applyto, b\n                     applyto.mount(ridingLevel, sourceid);\n                 }\n                 \n-                if(!(ServerConstants.PETS_NEVER_HUNGRY || applyto.isGM() && ServerConstants.GM_PETS_NEVER_HUNGRY)) {\n-                    applyto.getMount().startSchedule();\n-                }\n+                applyto.getClient().getWorldServer().registerMountHunger(applyto);\n             }\n             if (sourceid == Corsair.BATTLE_SHIP) {\n                 givemount = new MapleMount(applyto, 1932000, sourceid);\n@@ -1399,7 +1397,7 @@ private boolean isDispel() {\n         return skill && (sourceid == Priest.DISPEL || sourceid == SuperGM.HEAL_PLUS_DISPEL);\n     }\n \n-    private boolean isHeroWill() {\n+    private boolean isCureAllAbnormalStatus() {\n         if (skill) {\n             switch (sourceid) {\n                 case Hero.HEROS_WILL:\n@@ -1418,7 +1416,8 @@ private boolean isHeroWill() {\n                 default:\n                     return false;\n             }\n-        }\n+        } else if (sourceid == 2022544) return true;\n+        \n         return false;\n     }\n "}, {"sha": "990c59fcd35ff6a7ba2600ef8372ae0cb3570396", "filename": "src/server/life/MapleMonster.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/server/life/MapleMonster.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/server/life/MapleMonster.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/life/MapleMonster.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -150,7 +150,7 @@ public int getExp() {\n         return stats.getExp();\n     }\n \n-    int getLevel() {\n+    public int getLevel() {\n         return stats.getLevel();\n     }\n "}, {"sha": "8e50c0163dea4b1c94de5edb934878f4774c485d", "filename": "src/server/maps/MapleMap.java", "status": "modified", "additions": 39, "deletions": 2, "changes": 41, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/server/maps/MapleMap.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/server/maps/MapleMap.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/MapleMap.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -99,6 +99,7 @@\n     private LinkedList<WeakReference<MapleMapObject>> registeredDrops = new LinkedList<>();\n     private List<Rectangle> areas = new ArrayList<>();\n     private MapleFootholdTree footholds = null;\n+    private Rectangle mapArea = new Rectangle();\n     private int mapid;\n     private AtomicInteger runningOid = new AtomicInteger(100);\n     private int returnMapId;\n@@ -433,7 +434,15 @@ public Point calcDropPos(Point initial, Point fallback) {\n         Point ret = calcPointBelow(new Point(initial.x, initial.y - 85));\n         if (ret == null) {\n             return fallback;\n+        } else if(!mapArea.contains(ret)) {\n+            if(initial.y > mapArea.y + mapArea.height) return fallback; // found drop pos underneath the map :O\n+            \n+            int borderX = (initial.x < mapArea.x) ? mapArea.x : mapArea.x + mapArea.width;\n+            ret = calcPointBelow(new Point(borderX, initial.y - 85));\n+            \n+            if(ret == null) return fallback;\n         }\n+        \n         return ret;\n     }\n     \n@@ -1886,7 +1895,7 @@ public void run() {\n             }, 30 * 60 * 1000);\n         }\n         MaplePet[] pets = chr.getPets();\n-        for (int i = 0; i < chr.getPets().length; i++) {\n+        for (int i = 0; i < pets.length; i++) {\n             if (pets[i] != null) {\n                 pets[i].setPos(getGroundBelow(chr.getPosition()));\n                 chr.announce(MaplePacketCreator.showPet(chr, pets[i], false, false));\n@@ -2314,7 +2323,15 @@ public void setFootholds(MapleFootholdTree footholds) {\n     public MapleFootholdTree getFootholds() {\n         return footholds;\n     }\n-\n+    \n+    public void setMapPointBoundings(int px, int py, int h, int w) {\n+        mapArea.setBounds(px, py, w, h);\n+    }\n+    \n+    public void setMapLineBoundings(int vrTop, int vrBottom, int vrLeft, int vrRight) {\n+        mapArea.setBounds(vrLeft, vrTop, vrRight - vrLeft, vrBottom - vrTop);\n+    }\n+    \n     /**\n      * it's threadsafe, gtfo :D\n      *\n@@ -2667,6 +2684,26 @@ public void instanceMapRespawn() {\n         }\n     }\n     \n+    public void instanceMapForceRespawn() {\n+        if(!allowSummons) return;\n+        \n+        final int numShouldSpawn = (short) ((monsterSpawn.size() - spawnedMonstersOnMap.get()));//Fking lol'd\n+        if (numShouldSpawn > 0) {\n+            List<SpawnPoint> randomSpawn = new ArrayList<>(monsterSpawn);\n+            Collections.shuffle(randomSpawn);\n+            int spawned = 0;\n+            for (SpawnPoint spawnPoint : randomSpawn) {\n+                if(spawnPoint.shouldForceSpawn()) {\n+                    spawnMonster(spawnPoint.getMonster());\n+                    spawned++;\n+                    if (spawned >= numShouldSpawn) {\n+                        break;\n+                    }\n+                }\n+            }\n+        }\n+    }\n+    \n     public void restoreMapSpawnPoints() {\n         for (SpawnPoint spawnPoint : monsterSpawn) {\n             spawnPoint.setDenySpawn(false);"}, {"sha": "ce700d55ae56f767f54900d8ee533b17ed2cb5bf", "filename": "src/server/maps/MapleMapFactory.java", "status": "modified", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/server/maps/MapleMapFactory.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/server/maps/MapleMapFactory.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/MapleMapFactory.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -127,6 +127,27 @@ public MapleMap getMap(int mapid) {\n                             MapleDataTool.getString(timeMob.getChildByPath(\"message\")));\n                 }\n \n+                int bounds[] = new int[4];\n+                bounds[0] = MapleDataTool.getInt(infoData.getChildByPath(\"VRTop\"));\n+                bounds[1] = MapleDataTool.getInt(infoData.getChildByPath(\"VRBottom\"));\n+                \n+                if(bounds[0] == bounds[1]) {    // old-style baked map\n+                    MapleData minimapData = mapData.getChildByPath(\"miniMap\");\n+                    if(minimapData != null) {\n+                        bounds[0] = MapleDataTool.getInt(minimapData.getChildByPath(\"centerX\")) * -1;\n+                        bounds[1] = MapleDataTool.getInt(minimapData.getChildByPath(\"centerY\")) * -1;\n+                        bounds[2] = MapleDataTool.getInt(minimapData.getChildByPath(\"height\"));\n+                        bounds[3] = MapleDataTool.getInt(minimapData.getChildByPath(\"width\"));\n+\n+                        map.setMapPointBoundings(bounds[0], bounds[1], bounds[2], bounds[3]);\n+                    }\n+                } else {\n+                    bounds[2] = MapleDataTool.getInt(infoData.getChildByPath(\"VRLeft\"));\n+                    bounds[3] = MapleDataTool.getInt(infoData.getChildByPath(\"VRRight\"));\n+                    \n+                    map.setMapLineBoundings(bounds[0], bounds[1], bounds[2], bounds[3]);\n+                }\n+                \n                 List<MapleFoothold> allFootholds = new LinkedList<>();\n                 Point lBound = new Point();\n                 Point uBound = new Point();"}, {"sha": "8d0c3a867681e7addcba21b1bdbd97a0a95f04a6", "filename": "src/server/quest/requirements/MinTamenessRequirement.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/server/quest/requirements/MinTamenessRequirement.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/server/quest/requirements/MinTamenessRequirement.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/quest/requirements/MinTamenessRequirement.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -58,8 +58,8 @@ public boolean check(MapleCharacter chr, Integer npcid) {\n \t\tfor(MaplePet pet : chr.getPets()) {\n                     if(pet == null) continue;\n                     \n-\t\t\tif(pet.getCloseness() > curCloseness)\n-\t\t\t\tcurCloseness = pet.getCloseness();\n+                    if(pet.getCloseness() > curCloseness)\n+                        curCloseness = pet.getCloseness();\n \t\t}\n \t\t\n \t\treturn curCloseness >= minTameness;"}, {"sha": "0d2c533a8ab78c41a0b485953279aff8930aa313", "filename": "src/tools/MaplePacketCreator.java", "status": "modified", "additions": 31, "deletions": 1, "changes": 32, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/tools/MaplePacketCreator.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/src/tools/MaplePacketCreator.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/tools/MaplePacketCreator.java?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -83,6 +83,7 @@\n import client.MapleClient;\n import client.MapleDisease;\n import client.MapleFamilyEntry;\n+import client.MapleJob;\n import client.MapleKeyBinding;\n import client.MapleMount;\n import client.MapleQuestStatus;\n@@ -1823,7 +1824,16 @@ public int compare(Pair<MapleStat, Integer> o1, Pair<MapleStat, Integer> o2) {\n                 mplew.writeInt(CHAR_MAGIC_SPAWN);\n                 mplew.writeShort(0);\n                 mplew.write(0);\n+                \n                 mplew.writeShort(chr.getJob().getId());\n+                \n+                /* replace \"mplew.writeShort(chr.getJob().getId())\" with this snippet for 3rd party FJ animation on all classes\n+                if (chr.getJob().isA(MapleJob.HERMIT) || chr.getJob().isA(MapleJob.DAWNWARRIOR2) || chr.getJob().isA(MapleJob.NIGHTWALKER2)) {\n+\t\t\tmplew.writeShort(chr.getJob().getId());\n+                } else {\n+\t\t\tmplew.writeShort(412);\n+                }*/\n+                \n                 addCharLook(mplew, chr, false);\n                 mplew.writeInt(chr.getInventory(MapleInventoryType.CASH).countById(5110000));\n                 mplew.writeInt(chr.getItemEffect());\n@@ -2000,7 +2010,7 @@ private static void serializeMovementList(LittleEndianWriter lew, List<LifeMovem\n                 mplew.writeShort(SendOpcode.SUMMON_ATTACK.getValue());\n                 mplew.writeInt(cid);\n                 mplew.writeInt(summonOid);\n-                mplew.write(direction);\n+                mplew.write(0);     // char level\n                 mplew.write(direction);\n                 mplew.write(allDamage.size());\n                 for (SummonAttackEntry attackEntry : allDamage) {\n@@ -4329,6 +4339,19 @@ private static void addPetInfo(final MaplePacketLittleEndianWriter mplew, MapleP\n                 mplew.write(0);\n                 return mplew.getPacket();\n         }\n+        \n+        public static final byte[] loadExceptionList(final int cid, final int petId, final byte petIdx, final List<Integer> data) {\n+                final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n+                mplew.writeShort(SendOpcode.PET_EXCEPTION_LIST.getValue());\n+                mplew.writeInt(cid);\n+                mplew.write(petIdx);\n+                mplew.writeLong(petId);\n+                mplew.write(data.size());\n+                for (final Integer ids : data) {\n+                        mplew.writeInt(ids);\n+                }\n+                return mplew.getPacket();\n+        }\n \n         public static byte[] petStatUpdate(MapleCharacter chr) {\n                 final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n@@ -6884,6 +6907,13 @@ public static void addCashItemInformation(final MaplePacketLittleEndianWriter mp\n                 return mplew.getPacket();\n         }\n \n+        public static byte[] sendVegaScroll(int op) {\n+                MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter(3);\n+                mplew.writeShort(SendOpcode.VEGA_SCROLL.getValue());\n+                mplew.write(op);\n+                return mplew.getPacket();\n+        }\n+        \n         public static byte[] resetForcedStats() {\n                 final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter(2);\n                 mplew.writeShort(SendOpcode.FORCED_STAT_RESET.getValue());"}, {"sha": "4275039b99ec77b59f5f70c645a8c56a7488e1b7", "filename": "tools/MobBookUpdate/lib/MonsterBookOrig.img.xml", "status": "removed", "additions": 0, "deletions": 14866, "changes": 14866, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/74b4ca41328567d38b130c50269e410c62708adb/tools/MobBookUpdate/lib/MonsterBookOrig.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/74b4ca41328567d38b130c50269e410c62708adb/tools/MobBookUpdate/lib/MonsterBookOrig.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MobBookUpdate/lib/MonsterBookOrig.img.xml?ref=74b4ca41328567d38b130c50269e410c62708adb"}, {"sha": "c265b4afa6ea6df38d9efaf6b315f27a0e48d2c9", "filename": "tools/MobBookUpdate/lib/MonsterBook_updated.img.xml", "status": "modified", "additions": 398, "deletions": 152, "changes": 550, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/tools/MobBookUpdate/lib/MonsterBook_updated.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/tools/MobBookUpdate/lib/MonsterBook_updated.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MobBookUpdate/lib/MonsterBook_updated.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -3191,7 +3191,49 @@\n       <int name=\"4\" value=\"110030001\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2382030\" />\n+      <int name=\"0\" value=\"1040080\" />\n+      <int name=\"1\" value=\"1041074\" />\n+      <int name=\"2\" value=\"1050000\" />\n+      <int name=\"3\" value=\"1050038\" />\n+      <int name=\"4\" value=\"1060068\" />\n+      <int name=\"5\" value=\"1061069\" />\n+      <int name=\"6\" value=\"1072113\" />\n+      <int name=\"7\" value=\"1072121\" />\n+      <int name=\"8\" value=\"1072297\" />\n+      <int name=\"9\" value=\"1082056\" />\n+      <int name=\"10\" value=\"1082074\" />\n+      <int name=\"11\" value=\"1092014\" />\n+      <int name=\"12\" value=\"1302017\" />\n+      <int name=\"13\" value=\"1302020\" />\n+      <int name=\"14\" value=\"1302030\" />\n+      <int name=\"15\" value=\"1322021\" />\n+      <int name=\"16\" value=\"1322022\" />\n+      <int name=\"17\" value=\"1322023\" />\n+      <int name=\"18\" value=\"1322024\" />\n+      <int name=\"19\" value=\"1332020\" />\n+      <int name=\"20\" value=\"1382017\" />\n+      <int name=\"21\" value=\"1442001\" />\n+      <int name=\"22\" value=\"1442027\" />\n+      <int name=\"23\" value=\"1442028\" />\n+      <int name=\"24\" value=\"1452005\" />\n+      <int name=\"25\" value=\"1482006\" />\n+      <int name=\"26\" value=\"1492021\" />\n+      <int name=\"27\" value=\"2000002\" />\n+      <int name=\"28\" value=\"2000003\" />\n+      <int name=\"29\" value=\"2040024\" />\n+      <int name=\"30\" value=\"2040423\" />\n+      <int name=\"31\" value=\"2043301\" />\n+      <int name=\"32\" value=\"2044802\" />\n+      <int name=\"33\" value=\"2048002\" />\n+      <int name=\"34\" value=\"2048005\" />\n+      <int name=\"35\" value=\"2382030\" />\n+      <int name=\"36\" value=\"4000043\" />\n+      <int name=\"37\" value=\"4006001\" />\n+      <int name=\"38\" value=\"4010005\" />\n+      <int name=\"39\" value=\"4020000\" />\n+      <int name=\"40\" value=\"4030012\" />\n+      <int name=\"41\" value=\"4130011\" />\n+      <int name=\"42\" value=\"4130015\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  37\\nForm : Fish\\nSpecial Trait : Vulnerable to Electricity Attribute Attacks.\\n\\nA monster that appears in the sand near the sea. Its speed and high defense rate render this monster difficult to hunt, but since it lives by the water, use magic of lightning attribute to attack its vulnerability.\" />\n   </imgdir>\n@@ -4309,7 +4351,37 @@\n       <int name=\"2\" value=\"110040000\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2383009\" />\n+      <int name=\"0\" value=\"1002025\" />\n+      <int name=\"1\" value=\"1002085\" />\n+      <int name=\"2\" value=\"1002217\" />\n+      <int name=\"3\" value=\"1040083\" />\n+      <int name=\"4\" value=\"1040095\" />\n+      <int name=\"5\" value=\"1041079\" />\n+      <int name=\"6\" value=\"1041081\" />\n+      <int name=\"7\" value=\"1041082\" />\n+      <int name=\"8\" value=\"1041087\" />\n+      <int name=\"9\" value=\"1060072\" />\n+      <int name=\"10\" value=\"1060084\" />\n+      <int name=\"11\" value=\"1061078\" />\n+      <int name=\"12\" value=\"1061081\" />\n+      <int name=\"13\" value=\"1061086\" />\n+      <int name=\"14\" value=\"1302016\" />\n+      <int name=\"15\" value=\"1382001\" />\n+      <int name=\"16\" value=\"1412003\" />\n+      <int name=\"17\" value=\"1442011\" />\n+      <int name=\"18\" value=\"1482007\" />\n+      <int name=\"19\" value=\"2000003\" />\n+      <int name=\"20\" value=\"2000004\" />\n+      <int name=\"21\" value=\"2040427\" />\n+      <int name=\"22\" value=\"2043201\" />\n+      <int name=\"23\" value=\"2043202\" />\n+      <int name=\"24\" value=\"2383009\" />\n+      <int name=\"25\" value=\"4000044\" />\n+      <int name=\"26\" value=\"4010003\" />\n+      <int name=\"27\" value=\"4020002\" />\n+      <int name=\"28\" value=\"4130005\" />\n+      <int name=\"29\" value=\"4130015\" />\n+      <int name=\"30\" value=\"4130017\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  48\\nForm : Fish\\nSpecial Trait : Vulnerable to Electricity Attribute Attacks.\\n\\nA crab monster that mainly lives near the sand by the sea. It is superior to Lorang in every aspect including speed and defense rate. It is encouraged that you don't attack this monster hastily, as it dashes through the seashore at the speed which rivals that of Lupin. But since it it lives near water like Lorang and is very vulnerable to lightning as a result, try attacking this monster using magic of electricity attribute.\" />\n   </imgdir>\n@@ -5867,7 +5939,41 @@\n       <int name=\"4\" value=\"211040300\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2383013\" />\n+      <int name=\"0\" value=\"1002100\" />\n+      <int name=\"1\" value=\"1041096\" />\n+      <int name=\"2\" value=\"1050053\" />\n+      <int name=\"3\" value=\"1051037\" />\n+      <int name=\"4\" value=\"1051044\" />\n+      <int name=\"5\" value=\"1051045\" />\n+      <int name=\"6\" value=\"1052116\" />\n+      <int name=\"7\" value=\"1061095\" />\n+      <int name=\"8\" value=\"1072089\" />\n+      <int name=\"9\" value=\"1082038\" />\n+      <int name=\"10\" value=\"1092030\" />\n+      <int name=\"11\" value=\"1442009\" />\n+      <int name=\"12\" value=\"1452006\" />\n+      <int name=\"13\" value=\"2000002\" />\n+      <int name=\"14\" value=\"2000003\" />\n+      <int name=\"15\" value=\"2000004\" />\n+      <int name=\"16\" value=\"2040321\" />\n+      <int name=\"17\" value=\"2040804\" />\n+      <int name=\"18\" value=\"2040925\" />\n+      <int name=\"19\" value=\"2040933\" />\n+      <int name=\"20\" value=\"2043019\" />\n+      <int name=\"21\" value=\"2043110\" />\n+      <int name=\"22\" value=\"2044602\" />\n+      <int name=\"23\" value=\"2383013\" />\n+      <int name=\"24\" value=\"4000021\" />\n+      <int name=\"25\" value=\"4000048\" />\n+      <int name=\"26\" value=\"4003005\" />\n+      <int name=\"27\" value=\"4004002\" />\n+      <int name=\"28\" value=\"4007000\" />\n+      <int name=\"29\" value=\"4007001\" />\n+      <int name=\"30\" value=\"4007002\" />\n+      <int name=\"31\" value=\"4010002\" />\n+      <int name=\"32\" value=\"4020001\" />\n+      <int name=\"33\" value=\"4130010\" />\n+      <int name=\"34\" value=\"4130011\" />\n     </imgdir>\n     <string name=\"episode\" value=\"Lv. :  50\\nForm : Mammal\\n\\nA small yeti often spotted in the snowfield of Ossyria near El Nath. Is made to live in cold climates and can therefore withstand strong Ice Attribute Attacks while being vulnerable to Fire Attribute Attacks. Its small frame and slow movement makes it an easy target, but beware, as many a travellers have been badly injured by this cute little creature. The Jr. Yeti is capable of transforming into a giant yeti as well so watch out!  \" />\n   </imgdir>\n@@ -6378,7 +6484,39 @@\n       <int name=\"2\" value=\"250010303\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2383035\" />\n+      <int name=\"0\" value=\"1032021\" />\n+      <int name=\"1\" value=\"1040099\" />\n+      <int name=\"2\" value=\"1050058\" />\n+      <int name=\"3\" value=\"1060088\" />\n+      <int name=\"4\" value=\"1072134\" />\n+      <int name=\"5\" value=\"1082066\" />\n+      <int name=\"6\" value=\"1082081\" />\n+      <int name=\"7\" value=\"1082201\" />\n+      <int name=\"8\" value=\"1092045\" />\n+      <int name=\"9\" value=\"1432006\" />\n+      <int name=\"10\" value=\"1472055\" />\n+      <int name=\"11\" value=\"2000002\" />\n+      <int name=\"12\" value=\"2000003\" />\n+      <int name=\"13\" value=\"2040031\" />\n+      <int name=\"14\" value=\"2040515\" />\n+      <int name=\"15\" value=\"2043701\" />\n+      <int name=\"16\" value=\"2043801\" />\n+      <int name=\"17\" value=\"2049100\" />\n+      <int name=\"18\" value=\"2049101\" />\n+      <int name=\"19\" value=\"2330002\" />\n+      <int name=\"20\" value=\"2383035\" />\n+      <int name=\"21\" value=\"4000021\" />\n+      <int name=\"22\" value=\"4000283\" />\n+      <int name=\"23\" value=\"4000284\" />\n+      <int name=\"24\" value=\"4003005\" />\n+      <int name=\"25\" value=\"4004002\" />\n+      <int name=\"26\" value=\"4004004\" />\n+      <int name=\"27\" value=\"4010005\" />\n+      <int name=\"28\" value=\"4020004\" />\n+      <int name=\"29\" value=\"4020007\" />\n+      <int name=\"30\" value=\"4130000\" />\n+      <int name=\"31\" value=\"4130009\" />\n+      <int name=\"32\" value=\"4130021\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  56\\nForm : Mammal\\n\\nA type of bear that lives near Mu Lung. Although it's only a bear, it has a heartfelt desire to become a virtuous master, hence devoting much of its energy in training. While it diligently trains in its practice uniform, it sometimes fails to suppress its animalistic instinct and attacks the passersby.\" />\n   </imgdir>\n@@ -7417,36 +7555,34 @@\n       <int name=\"29\" value=\"2040704\" />\n       <int name=\"30\" value=\"2040804\" />\n       <int name=\"31\" value=\"2040825\" />\n-      <int name=\"32\" value=\"2040827\" />\n-      <int name=\"33\" value=\"2040933\" />\n-      <int name=\"34\" value=\"2040935\" />\n-      <int name=\"35\" value=\"2041002\" />\n-      <int name=\"36\" value=\"2041013\" />\n-      <int name=\"37\" value=\"2041016\" />\n-      <int name=\"38\" value=\"2041046\" />\n-      <int name=\"39\" value=\"2043201\" />\n-      <int name=\"40\" value=\"2043701\" />\n-      <int name=\"41\" value=\"2043802\" />\n-      <int name=\"42\" value=\"2044114\" />\n-      <int name=\"43\" value=\"2044116\" />\n-      <int name=\"44\" value=\"2044201\" />\n-      <int name=\"45\" value=\"2044301\" />\n-      <int name=\"46\" value=\"2044502\" />\n-      <int name=\"47\" value=\"2044801\" />\n-      <int name=\"48\" value=\"2044803\" />\n-      <int name=\"49\" value=\"2044807\" />\n-      <int name=\"50\" value=\"2044902\" />\n-      <int name=\"51\" value=\"2044904\" />\n-      <int name=\"52\" value=\"2060000\" />\n-      <int name=\"53\" value=\"2061000\" />\n-      <int name=\"54\" value=\"2388005\" />\n-      <int name=\"55\" value=\"4000113\" />\n-      <int name=\"56\" value=\"4000114\" />\n-      <int name=\"57\" value=\"4000115\" />\n-      <int name=\"58\" value=\"4004001\" />\n-      <int name=\"59\" value=\"4010003\" />\n-      <int name=\"60\" value=\"4020006\" />\n-      <int name=\"61\" value=\"4031991\" />\n+      <int name=\"32\" value=\"2040933\" />\n+      <int name=\"33\" value=\"2041002\" />\n+      <int name=\"34\" value=\"2041013\" />\n+      <int name=\"35\" value=\"2041016\" />\n+      <int name=\"36\" value=\"2041046\" />\n+      <int name=\"37\" value=\"2043201\" />\n+      <int name=\"38\" value=\"2043701\" />\n+      <int name=\"39\" value=\"2043802\" />\n+      <int name=\"40\" value=\"2044114\" />\n+      <int name=\"41\" value=\"2044116\" />\n+      <int name=\"42\" value=\"2044201\" />\n+      <int name=\"43\" value=\"2044301\" />\n+      <int name=\"44\" value=\"2044502\" />\n+      <int name=\"45\" value=\"2044801\" />\n+      <int name=\"46\" value=\"2044803\" />\n+      <int name=\"47\" value=\"2044807\" />\n+      <int name=\"48\" value=\"2044902\" />\n+      <int name=\"49\" value=\"2044904\" />\n+      <int name=\"50\" value=\"2060000\" />\n+      <int name=\"51\" value=\"2061000\" />\n+      <int name=\"52\" value=\"2388005\" />\n+      <int name=\"53\" value=\"4000113\" />\n+      <int name=\"54\" value=\"4000114\" />\n+      <int name=\"55\" value=\"4000115\" />\n+      <int name=\"56\" value=\"4004001\" />\n+      <int name=\"57\" value=\"4010003\" />\n+      <int name=\"58\" value=\"4020006\" />\n+      <int name=\"59\" value=\"4031991\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  59\\nForm : Enchanted\\n\\nThe ghost of the past that originated from the deserted land in Ludibrium. It was brought back to life due to the Dimensional Schism, and has been a follower of Papulatus ever since, pestering anyone that attempts to go near the lowest level of the Clocktower. It appears in the form of an owl clock, and it tries to cling onto the past by turning back the time. \" />\n   </imgdir>\n@@ -8375,35 +8511,34 @@\n       <int name=\"20\" value=\"2002001\" />\n       <int name=\"21\" value=\"2040004\" />\n       <int name=\"22\" value=\"2040031\" />\n-      <int name=\"23\" value=\"2040033\" />\n-      <int name=\"24\" value=\"2040501\" />\n-      <int name=\"25\" value=\"2040516\" />\n-      <int name=\"26\" value=\"2040614\" />\n-      <int name=\"27\" value=\"2040627\" />\n-      <int name=\"28\" value=\"2040702\" />\n-      <int name=\"29\" value=\"2040804\" />\n-      <int name=\"30\" value=\"2041001\" />\n-      <int name=\"31\" value=\"2041008\" />\n-      <int name=\"32\" value=\"2041043\" />\n-      <int name=\"33\" value=\"2043301\" />\n-      <int name=\"34\" value=\"2044001\" />\n-      <int name=\"35\" value=\"2044312\" />\n-      <int name=\"36\" value=\"2044313\" />\n-      <int name=\"37\" value=\"2044401\" />\n-      <int name=\"38\" value=\"2044502\" />\n-      <int name=\"39\" value=\"2044601\" />\n-      <int name=\"40\" value=\"2044701\" />\n-      <int name=\"41\" value=\"2044702\" />\n-      <int name=\"42\" value=\"2044807\" />\n-      <int name=\"43\" value=\"2048002\" />\n-      <int name=\"44\" value=\"2060000\" />\n-      <int name=\"45\" value=\"2061000\" />\n-      <int name=\"46\" value=\"2388007\" />\n-      <int name=\"47\" value=\"4000021\" />\n-      <int name=\"48\" value=\"4000032\" />\n-      <int name=\"49\" value=\"4000033\" />\n-      <int name=\"50\" value=\"4010002\" />\n-      <int name=\"51\" value=\"4020003\" />\n+      <int name=\"23\" value=\"2040501\" />\n+      <int name=\"24\" value=\"2040516\" />\n+      <int name=\"25\" value=\"2040614\" />\n+      <int name=\"26\" value=\"2040627\" />\n+      <int name=\"27\" value=\"2040702\" />\n+      <int name=\"28\" value=\"2040804\" />\n+      <int name=\"29\" value=\"2041001\" />\n+      <int name=\"30\" value=\"2041008\" />\n+      <int name=\"31\" value=\"2041043\" />\n+      <int name=\"32\" value=\"2043301\" />\n+      <int name=\"33\" value=\"2044001\" />\n+      <int name=\"34\" value=\"2044312\" />\n+      <int name=\"35\" value=\"2044313\" />\n+      <int name=\"36\" value=\"2044401\" />\n+      <int name=\"37\" value=\"2044502\" />\n+      <int name=\"38\" value=\"2044601\" />\n+      <int name=\"39\" value=\"2044701\" />\n+      <int name=\"40\" value=\"2044702\" />\n+      <int name=\"41\" value=\"2044807\" />\n+      <int name=\"42\" value=\"2048002\" />\n+      <int name=\"43\" value=\"2060000\" />\n+      <int name=\"44\" value=\"2061000\" />\n+      <int name=\"45\" value=\"2388007\" />\n+      <int name=\"46\" value=\"4000021\" />\n+      <int name=\"47\" value=\"4000032\" />\n+      <int name=\"48\" value=\"4000033\" />\n+      <int name=\"49\" value=\"4010002\" />\n+      <int name=\"50\" value=\"4020003\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  65\\nForm : Reptile\\n\\nA gigantic crocodile that hides in the swamp in Kerning City. Some say that it suddenly grew in size due to a strange substance in the waste water it consumed, although such claim has not been confirmed. While naturally docile, its simple-minded personality sometimes causes Mr. Alli to rashly become a ferocious monster when provoked. \" />\n   </imgdir>\n@@ -8673,7 +8808,17 @@\n       <int name=\"0\" value=\"200010300\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2384005\" />\n+      <int name=\"0\" value=\"1092045\" />\n+      <int name=\"1\" value=\"1092047\" />\n+      <int name=\"2\" value=\"1372034\" />\n+      <int name=\"3\" value=\"1412027\" />\n+      <int name=\"4\" value=\"1482022\" />\n+      <int name=\"5\" value=\"2040515\" />\n+      <int name=\"6\" value=\"2044410\" />\n+      <int name=\"7\" value=\"2384005\" />\n+      <int name=\"8\" value=\"4130009\" />\n+      <int name=\"9\" value=\"4130010\" />\n+      <int name=\"10\" value=\"4130014\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  63\\nForm : Mammal\\nSpecial Trait : Resistant to Poison Attribute Attacks. Vulnerable to Sanctity Attribute Attacks.\\n\\nA black monster that lives in the Stairway to the Sky in Orbis. Although it resembles the physical characteristics of Cellion, Lioner, and Grupin, the Jr. Lucida has a small horn and a pair of wings, not to mention its dark and brutal force that is reflected in its black coat of fur. When fully grown, Jr. Lucida becomes Lucida.\" />\n   </imgdir>\n@@ -10002,21 +10147,20 @@\n       <int name=\"14\" value=\"2002006\" />\n       <int name=\"15\" value=\"2040024\" />\n       <int name=\"16\" value=\"2040534\" />\n-      <int name=\"17\" value=\"2040536\" />\n-      <int name=\"18\" value=\"2041007\" />\n-      <int name=\"19\" value=\"2043001\" />\n-      <int name=\"20\" value=\"2043112\" />\n-      <int name=\"21\" value=\"2043113\" />\n-      <int name=\"22\" value=\"2070007\" />\n-      <int name=\"23\" value=\"2330003\" />\n-      <int name=\"24\" value=\"2384023\" />\n-      <int name=\"25\" value=\"4004001\" />\n-      <int name=\"26\" value=\"4006000\" />\n-      <int name=\"27\" value=\"4010006\" />\n-      <int name=\"28\" value=\"4020006\" />\n-      <int name=\"29\" value=\"4030012\" />\n-      <int name=\"30\" value=\"4031234\" />\n-      <int name=\"31\" value=\"4130017\" />\n+      <int name=\"17\" value=\"2041007\" />\n+      <int name=\"18\" value=\"2043001\" />\n+      <int name=\"19\" value=\"2043112\" />\n+      <int name=\"20\" value=\"2043113\" />\n+      <int name=\"21\" value=\"2070007\" />\n+      <int name=\"22\" value=\"2330003\" />\n+      <int name=\"23\" value=\"2384023\" />\n+      <int name=\"24\" value=\"4004001\" />\n+      <int name=\"25\" value=\"4006000\" />\n+      <int name=\"26\" value=\"4010006\" />\n+      <int name=\"27\" value=\"4020006\" />\n+      <int name=\"28\" value=\"4030012\" />\n+      <int name=\"29\" value=\"4031234\" />\n+      <int name=\"30\" value=\"4130017\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  70\\nForm : Devil\\nSpecial Trait : Resistant to Poison Attribute Attacks.\\n\\nKing Goblin known for its penchant for wrestling. It frequently pleads with the passersby for a wrestling match.  It can fumigate everything nearby with its infamous flatulence. It likes buckwheat jelly.\" />\n   </imgdir>\n@@ -11936,7 +12080,47 @@\n       <int name=\"4\" value=\"240040401\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2386008\" />\n+      <int name=\"0\" value=\"1002365\" />\n+      <int name=\"1\" value=\"1040117\" />\n+      <int name=\"2\" value=\"1040118\" />\n+      <int name=\"3\" value=\"1041118\" />\n+      <int name=\"4\" value=\"1050089\" />\n+      <int name=\"5\" value=\"1050090\" />\n+      <int name=\"6\" value=\"1052128\" />\n+      <int name=\"7\" value=\"1060106\" />\n+      <int name=\"8\" value=\"1061116\" />\n+      <int name=\"9\" value=\"1072223\" />\n+      <int name=\"10\" value=\"1082129\" />\n+      <int name=\"11\" value=\"1452017\" />\n+      <int name=\"12\" value=\"2000005\" />\n+      <int name=\"13\" value=\"2000006\" />\n+      <int name=\"14\" value=\"2040516\" />\n+      <int name=\"15\" value=\"2040701\" />\n+      <int name=\"16\" value=\"2043002\" />\n+      <int name=\"17\" value=\"2043114\" />\n+      <int name=\"18\" value=\"2044901\" />\n+      <int name=\"19\" value=\"2044902\" />\n+      <int name=\"20\" value=\"2290120\" />\n+      <int name=\"21\" value=\"2290127\" />\n+      <int name=\"22\" value=\"2386008\" />\n+      <int name=\"23\" value=\"4000244\" />\n+      <int name=\"24\" value=\"4000245\" />\n+      <int name=\"25\" value=\"4000268\" />\n+      <int name=\"26\" value=\"4001077\" />\n+      <int name=\"27\" value=\"4001105\" />\n+      <int name=\"28\" value=\"4004002\" />\n+      <int name=\"29\" value=\"4006001\" />\n+      <int name=\"30\" value=\"4010001\" />\n+      <int name=\"31\" value=\"4020000\" />\n+      <int name=\"32\" value=\"4031449\" />\n+      <int name=\"33\" value=\"4031482\" />\n+      <int name=\"34\" value=\"4031483\" />\n+      <int name=\"35\" value=\"4031484\" />\n+      <int name=\"36\" value=\"4031485\" />\n+      <int name=\"37\" value=\"4130002\" />\n+      <int name=\"38\" value=\"4130004\" />\n+      <int name=\"39\" value=\"4130005\" />\n+      <int name=\"40\" value=\"4130013\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  97\\nForm : Reptile\\nSpecial Trait : -50% Fire Attribute Damage. Vulnerable to Ice Attribute Attacks.\\n\\nA ferocious dragon that lives in the Dragon Canyon. It has a huge pair of reddish wings but no front legs. It sets its nest in between the valleys, and has a decent level of intelligence as well as an extremely fast speed, not to mention the wind it can create with its huge wings.  It also orally emits flames. \" />\n   </imgdir>\n@@ -11949,7 +12133,42 @@\n       <int name=\"4\" value=\"240040401\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2386013\" />\n+      <int name=\"0\" value=\"1002532\" />\n+      <int name=\"1\" value=\"1050094\" />\n+      <int name=\"2\" value=\"1051105\" />\n+      <int name=\"3\" value=\"1072227\" />\n+      <int name=\"4\" value=\"1082143\" />\n+      <int name=\"5\" value=\"1082213\" />\n+      <int name=\"6\" value=\"1372010\" />\n+      <int name=\"7\" value=\"1422013\" />\n+      <int name=\"8\" value=\"2000005\" />\n+      <int name=\"9\" value=\"2000006\" />\n+      <int name=\"10\" value=\"2022003\" />\n+      <int name=\"11\" value=\"2040001\" />\n+      <int name=\"12\" value=\"2040401\" />\n+      <int name=\"13\" value=\"2040924\" />\n+      <int name=\"14\" value=\"2040925\" />\n+      <int name=\"15\" value=\"2044001\" />\n+      <int name=\"16\" value=\"2290101\" />\n+      <int name=\"17\" value=\"2330004\" />\n+      <int name=\"18\" value=\"2386013\" />\n+      <int name=\"19\" value=\"4000244\" />\n+      <int name=\"20\" value=\"4000245\" />\n+      <int name=\"21\" value=\"4000269\" />\n+      <int name=\"22\" value=\"4001077\" />\n+      <int name=\"23\" value=\"4001105\" />\n+      <int name=\"24\" value=\"4004003\" />\n+      <int name=\"25\" value=\"4006000\" />\n+      <int name=\"26\" value=\"4010004\" />\n+      <int name=\"27\" value=\"4020005\" />\n+      <int name=\"28\" value=\"4031449\" />\n+      <int name=\"29\" value=\"4031482\" />\n+      <int name=\"30\" value=\"4031483\" />\n+      <int name=\"31\" value=\"4031484\" />\n+      <int name=\"32\" value=\"4031485\" />\n+      <int name=\"33\" value=\"4130004\" />\n+      <int name=\"34\" value=\"4130013\" />\n+      <int name=\"35\" value=\"4130014\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  101\\nForm : Reptile\\nSpecial Trait : Vulnerable Fire Attribute Attacks. -50% Ice Attribute Damage.\\n\\nA ferocious dragon that lives in the Dragon Canyon. It has a huge pair of blue wings but no front legs. It sets its nest in between the valleys, and has a decent level of intelligence as well as an extremely fast speed, not to mention the wind it can create with its huge wings.  It also orally emits cold air. \" />\n   </imgdir>\n@@ -11962,7 +12181,53 @@\n       <int name=\"4\" value=\"240040500\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2386015\" />\n+      <int name=\"0\" value=\"1002531\" />\n+      <int name=\"1\" value=\"1040115\" />\n+      <int name=\"2\" value=\"1040117\" />\n+      <int name=\"3\" value=\"1050093\" />\n+      <int name=\"4\" value=\"1051095\" />\n+      <int name=\"5\" value=\"1060104\" />\n+      <int name=\"6\" value=\"1060107\" />\n+      <int name=\"7\" value=\"1072214\" />\n+      <int name=\"8\" value=\"1082127\" />\n+      <int name=\"9\" value=\"1332027\" />\n+      <int name=\"10\" value=\"1442020\" />\n+      <int name=\"11\" value=\"1482012\" />\n+      <int name=\"12\" value=\"2000005\" />\n+      <int name=\"13\" value=\"2000006\" />\n+      <int name=\"14\" value=\"2020013\" />\n+      <int name=\"15\" value=\"2022003\" />\n+      <int name=\"16\" value=\"2040302\" />\n+      <int name=\"17\" value=\"2040320\" />\n+      <int name=\"18\" value=\"2044301\" />\n+      <int name=\"19\" value=\"2044402\" />\n+      <int name=\"20\" value=\"2290010\" />\n+      <int name=\"21\" value=\"2290019\" />\n+      <int name=\"22\" value=\"2290026\" />\n+      <int name=\"23\" value=\"2290076\" />\n+      <int name=\"24\" value=\"2290119\" />\n+      <int name=\"25\" value=\"2290128\" />\n+      <int name=\"26\" value=\"2386015\" />\n+      <int name=\"27\" value=\"4000244\" />\n+      <int name=\"28\" value=\"4000245\" />\n+      <int name=\"29\" value=\"4000270\" />\n+      <int name=\"30\" value=\"4001077\" />\n+      <int name=\"31\" value=\"4001105\" />\n+      <int name=\"32\" value=\"4004000\" />\n+      <int name=\"33\" value=\"4006000\" />\n+      <int name=\"34\" value=\"4006001\" />\n+      <int name=\"35\" value=\"4010005\" />\n+      <int name=\"36\" value=\"4020002\" />\n+      <int name=\"37\" value=\"4031415\" />\n+      <int name=\"38\" value=\"4031449\" />\n+      <int name=\"39\" value=\"4031482\" />\n+      <int name=\"40\" value=\"4031483\" />\n+      <int name=\"41\" value=\"4031484\" />\n+      <int name=\"42\" value=\"4031485\" />\n+      <int name=\"43\" value=\"4130009\" />\n+      <int name=\"44\" value=\"4130014\" />\n+      <int name=\"45\" value=\"4130017\" />\n+      <int name=\"46\" value=\"4131004\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  103\\nForm : Reptile\\n\\nA ferocious dragon that lives in the Dragon Canyon. It has a huge pair of black wings but no front legs. It sets its nest in between the valleys, and has a decent level of intelligence and orally emits the breath of damnation.\" />\n   </imgdir>\n@@ -13486,44 +13751,43 @@\n       <int name=\"24\" value=\"2040504\" />\n       <int name=\"25\" value=\"2040513\" />\n       <int name=\"26\" value=\"2040516\" />\n-      <int name=\"27\" value=\"2040536\" />\n-      <int name=\"28\" value=\"2040622\" />\n-      <int name=\"29\" value=\"2043113\" />\n-      <int name=\"30\" value=\"2049000\" />\n-      <int name=\"31\" value=\"2280007\" />\n-      <int name=\"32\" value=\"2280008\" />\n-      <int name=\"33\" value=\"2280009\" />\n-      <int name=\"34\" value=\"2280010\" />\n-      <int name=\"35\" value=\"2290000\" />\n-      <int name=\"36\" value=\"2290001\" />\n-      <int name=\"37\" value=\"2290004\" />\n-      <int name=\"38\" value=\"2290005\" />\n-      <int name=\"39\" value=\"2290024\" />\n-      <int name=\"40\" value=\"2290025\" />\n-      <int name=\"41\" value=\"2290026\" />\n-      <int name=\"42\" value=\"2290027\" />\n-      <int name=\"43\" value=\"2290052\" />\n-      <int name=\"44\" value=\"2290053\" />\n-      <int name=\"45\" value=\"2290054\" />\n-      <int name=\"46\" value=\"2290055\" />\n-      <int name=\"47\" value=\"2290076\" />\n-      <int name=\"48\" value=\"2290077\" />\n-      <int name=\"49\" value=\"2290082\" />\n-      <int name=\"50\" value=\"2290083\" />\n-      <int name=\"51\" value=\"2290097\" />\n-      <int name=\"52\" value=\"2290099\" />\n-      <int name=\"53\" value=\"2290106\" />\n-      <int name=\"54\" value=\"2290108\" />\n-      <int name=\"55\" value=\"2290112\" />\n-      <int name=\"56\" value=\"2290114\" />\n-      <int name=\"57\" value=\"2290122\" />\n-      <int name=\"58\" value=\"2290124\" />\n-      <int name=\"59\" value=\"2290132\" />\n-      <int name=\"60\" value=\"2388020\" />\n-      <int name=\"61\" value=\"4000175\" />\n-      <int name=\"62\" value=\"4001085\" />\n-      <int name=\"63\" value=\"4031253\" />\n-      <int name=\"64\" value=\"4031905\" />\n+      <int name=\"27\" value=\"2040622\" />\n+      <int name=\"28\" value=\"2043113\" />\n+      <int name=\"29\" value=\"2049000\" />\n+      <int name=\"30\" value=\"2280007\" />\n+      <int name=\"31\" value=\"2280008\" />\n+      <int name=\"32\" value=\"2280009\" />\n+      <int name=\"33\" value=\"2280010\" />\n+      <int name=\"34\" value=\"2290000\" />\n+      <int name=\"35\" value=\"2290001\" />\n+      <int name=\"36\" value=\"2290004\" />\n+      <int name=\"37\" value=\"2290005\" />\n+      <int name=\"38\" value=\"2290024\" />\n+      <int name=\"39\" value=\"2290025\" />\n+      <int name=\"40\" value=\"2290026\" />\n+      <int name=\"41\" value=\"2290027\" />\n+      <int name=\"42\" value=\"2290052\" />\n+      <int name=\"43\" value=\"2290053\" />\n+      <int name=\"44\" value=\"2290054\" />\n+      <int name=\"45\" value=\"2290055\" />\n+      <int name=\"46\" value=\"2290076\" />\n+      <int name=\"47\" value=\"2290077\" />\n+      <int name=\"48\" value=\"2290082\" />\n+      <int name=\"49\" value=\"2290083\" />\n+      <int name=\"50\" value=\"2290097\" />\n+      <int name=\"51\" value=\"2290099\" />\n+      <int name=\"52\" value=\"2290106\" />\n+      <int name=\"53\" value=\"2290108\" />\n+      <int name=\"54\" value=\"2290112\" />\n+      <int name=\"55\" value=\"2290114\" />\n+      <int name=\"56\" value=\"2290122\" />\n+      <int name=\"57\" value=\"2290124\" />\n+      <int name=\"58\" value=\"2290132\" />\n+      <int name=\"59\" value=\"2388020\" />\n+      <int name=\"60\" value=\"4000175\" />\n+      <int name=\"61\" value=\"4001085\" />\n+      <int name=\"62\" value=\"4031253\" />\n+      <int name=\"63\" value=\"4031905\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  Unknown\\nForm : Fish\\nSpecial Trait : Vulnerable to Fire Attribute Attacks.\\n\\nA ferocious fish monster that lives in the cave under the ocean. It sticks its head out from a tiny hole in the cave, which is why its size remains a mystery. Some suspect that this monster has not fully come out of the cave because it's stuck, but no evidences support such a rumor. Although it does not move, it is the king of the deep sea that attacks by shooting a laser beam out of its mouth. \" />\n   </imgdir>\n@@ -13800,8 +14064,7 @@\n       <int name=\"91\" value=\"2290090\" />\n       <int name=\"92\" value=\"2290106\" />\n       <int name=\"93\" value=\"2290119\" />\n-      <int name=\"94\" value=\"2388043\" />\n-      <int name=\"95\" value=\"4021010\" />\n+      <int name=\"94\" value=\"4021010\" />\n     </imgdir>\n     <string name=\"episode\" value=\"Level : Lv.180\\nForm : Spirit\\n\\nA monster that has been summoned by a mysterious man named Kirston using the Mirror of the Goddess.  It doesn't seem that Kirston intentionally summoned Pink Bean.  Although Pink Bean is a cute little creature, its power is beyond imagination.  It is a very dangerous monster and should be approached with caution.  One of its amazing powers is that it can revive a dead god.  It seems to be a monster from another world.\" />\n   </imgdir>\n@@ -13957,26 +14220,10 @@\n       <int name=\"1\" value=\"261020200\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"1002215\" />\n-      <int name=\"1\" value=\"1040089\" />\n-      <int name=\"2\" value=\"1050045\" />\n-      <int name=\"3\" value=\"1372007\" />\n-      <int name=\"4\" value=\"2000002\" />\n-      <int name=\"5\" value=\"2000003\" />\n-      <int name=\"6\" value=\"2022430\" />\n-      <int name=\"7\" value=\"2022431\" />\n-      <int name=\"8\" value=\"2022432\" />\n-      <int name=\"9\" value=\"2022433\" />\n-      <int name=\"10\" value=\"2040002\" />\n-      <int name=\"11\" value=\"2044102\" />\n-      <int name=\"12\" value=\"2383007\" />\n-      <int name=\"13\" value=\"4000359\" />\n-      <int name=\"14\" value=\"4004002\" />\n-      <int name=\"15\" value=\"4006001\" />\n-      <int name=\"16\" value=\"4020000\" />\n-      <int name=\"17\" value=\"4020006\" />\n-      <int name=\"18\" value=\"4030012\" />\n-      <int name=\"19\" value=\"4130012\" />\n+      <int name=\"0\" value=\"2022430\" />\n+      <int name=\"1\" value=\"2022431\" />\n+      <int name=\"2\" value=\"2022432\" />\n+      <int name=\"3\" value=\"2022433\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  47\\nForm : Enchanted\\n\\nA Mithril being created by alchemy means... It's constitution, made purely by Mithril, makes it a tough opponent.\" />\n   </imgdir>\n@@ -14313,16 +14560,15 @@\n       <int name=\"21\" value=\"2000001\" />\n       <int name=\"22\" value=\"2000003\" />\n       <int name=\"23\" value=\"2043102\" />\n-      <int name=\"24\" value=\"2043109\" />\n-      <int name=\"25\" value=\"2048000\" />\n-      <int name=\"26\" value=\"2060000\" />\n-      <int name=\"27\" value=\"2061000\" />\n-      <int name=\"28\" value=\"2380014\" />\n-      <int name=\"29\" value=\"4000012\" />\n-      <int name=\"30\" value=\"4010004\" />\n-      <int name=\"31\" value=\"4020002\" />\n-      <int name=\"32\" value=\"4020003\" />\n-      <int name=\"33\" value=\"4032316\" />\n+      <int name=\"24\" value=\"2048000\" />\n+      <int name=\"25\" value=\"2060000\" />\n+      <int name=\"26\" value=\"2061000\" />\n+      <int name=\"27\" value=\"2380014\" />\n+      <int name=\"28\" value=\"4000012\" />\n+      <int name=\"29\" value=\"4010004\" />\n+      <int name=\"30\" value=\"4020002\" />\n+      <int name=\"31\" value=\"4020003\" />\n+      <int name=\"32\" value=\"4032316\" />\n     </imgdir>\n     <string name=\"episode\" value=\"Level : Lv.15\\nType : Plants\\nNotes: Immune to poison-based attacks.\\n\\nA mushroom monster featuring a dirty green cap, and has that sick look on its face as if it's about to throw up any minute.\" />\n   </imgdir>"}, {"sha": "6807a2ba1902a255b464065dd83188d73fbe6d01", "filename": "tools/MobBookUpdate/nbproject/private/private.xml", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/tools/MobBookUpdate/nbproject/private/private.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/tools/MobBookUpdate/nbproject/private/private.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MobBookUpdate/nbproject/private/private.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -2,8 +2,6 @@\n <project-private xmlns=\"http://www.netbeans.org/ns/project-private/1\">\n     <editor-bookmarks xmlns=\"http://www.netbeans.org/ns/editor-bookmarks/2\" lastBookmarkId=\"0\"/>\n     <open-files xmlns=\"http://www.netbeans.org/ns/projectui-open-files/2\">\n-        <group>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/tools/MobBookUpdate/src/mobbookupdate/MobBookUpdate.java</file>\n-        </group>\n+        <group/>\n     </open-files>\n </project-private>"}, {"sha": "7de5db0643d2d8799c357a7541aa900576a4f541", "filename": "wz/Character.wz/Cap/01002419.img.xml", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Character.wz/Cap/01002419.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Character.wz/Cap/01002419.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Character.wz/Cap/01002419.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -23,7 +23,6 @@\n     <int name=\"tuc\" value=\"7\"/>\n     <int name=\"price\" value=\"0\"/>\n     <int name=\"cash\" value=\"0\"/>\n-    <int name=\"quest\" value=\"1\"/>\n   </imgdir>\n   <imgdir name=\"default\">\n     <canvas name=\"default\" width=\"39\" height=\"34\">"}, {"sha": "87431ef22cb50fa1e5c95f103c30edc8784720c2", "filename": "wz/Map.wz/Map/Map1/190000000.img.xml", "status": "modified", "additions": 2852, "deletions": 2883, "changes": 5735, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/190000000.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/190000000.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map1/190000000.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "69f26fe0efccd503e1501ef8747b4408363df92f", "filename": "wz/Map.wz/Map/Map1/190000001.img.xml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/190000001.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/190000001.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map1/190000001.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -5,13 +5,13 @@\n     <int name=\"cloud\" value=\"0\"/>\n     <int name=\"town\" value=\"0\"/>\n     <int name=\"returnMap\" value=\"193000000\"/>\n-    <int name=\"forcedReturn\" value=\"999999999\"/>\n     <float name=\"mobRate\" value=\"1.0\"/>\n     <string name=\"bgm\" value=\"Bgm00/FloralLife\"/>\n     <string name=\"mapMark\" value=\"PcZone\"/>\n     <int name=\"hideMinimap\" value=\"0\"/>\n-    <int name=\"fieldLimit\" value=\"8192\"/>\n     <int name=\"swim\" value=\"0\"/>\n+    <int name=\"fieldLimit\" value=\"270972\"/>\n+    <int name=\"forcedReturn\" value=\"193000000\"/>\n   </imgdir>\n   <imgdir name=\"back\">\n     <imgdir name=\"0\">"}, {"sha": "41a197afd37828281a089c98270209ee8d77b6fe", "filename": "wz/Map.wz/Map/Map1/190000002.img.xml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/190000002.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/190000002.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map1/190000002.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -5,13 +5,13 @@\n     <int name=\"cloud\" value=\"0\"/>\n     <int name=\"town\" value=\"0\"/>\n     <int name=\"returnMap\" value=\"193000000\"/>\n-    <int name=\"forcedReturn\" value=\"999999999\"/>\n     <float name=\"mobRate\" value=\"1.1\"/>\n     <string name=\"bgm\" value=\"Bgm00/FloralLife\"/>\n     <string name=\"mapMark\" value=\"PcZone\"/>\n     <int name=\"hideMinimap\" value=\"0\"/>\n-    <int name=\"fieldLimit\" value=\"8192\"/>\n     <int name=\"swim\" value=\"0\"/>\n+    <int name=\"fieldLimit\" value=\"270972\"/>\n+    <int name=\"forcedReturn\" value=\"193000000\"/>\n   </imgdir>\n   <imgdir name=\"back\">\n     <imgdir name=\"0\">"}, {"sha": "42900e44a7e2feb83d6bc727251e651a64fce163", "filename": "wz/Map.wz/Map/Map1/191000000.img.xml", "status": "modified", "additions": 24, "deletions": 18, "changes": 42, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/191000000.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/191000000.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map1/191000000.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -4,7 +4,6 @@\n     <string name=\"bgm\" value=\"Bgm01/MoonlightShadow\"/>\n     <int name=\"cloud\" value=\"0\"/>\n     <int name=\"swim\" value=\"0\"/>\n-    <int name=\"forcedReturn\" value=\"999999999\"/>\n     <int name=\"hideMinimap\" value=\"0\"/>\n     <string name=\"mapDesc\" value=\"\"/>\n     <string name=\"mapName\" value=\"\"/>\n@@ -14,7 +13,8 @@\n     <int name=\"returnMap\" value=\"193000000\"/>\n     <int name=\"town\" value=\"0\"/>\n     <int name=\"version\" value=\"10\"/>\n-    <int name=\"fieldLimit\" value=\"8192\"/>\n+    <int name=\"fieldLimit\" value=\"270972\"/>\n+    <int name=\"forcedReturn\" value=\"193000000\"/>\n   </imgdir>\n   <imgdir name=\"miniMap\">\n     <canvas name=\"canvas\" width=\"120\" height=\"187\">\n@@ -3104,36 +3104,30 @@\n       <string name=\"pn\" value=\"up11\"/>\n     </imgdir>\n     <imgdir name=\"12\">\n-      <int name=\"x\" value=\"1139\"/>\n-      <int name=\"y\" value=\"-1100\"/>\n-      <int name=\"pt\" value=\"1\"/>\n-      <int name=\"tm\" value=\"999999999\"/>\n-      <string name=\"tn\" value=\"\"/>\n-      <string name=\"pn\" value=\"up12\"/>\n-    </imgdir>\n-    <imgdir name=\"13\">\n       <int name=\"x\" value=\"-115\"/>\n       <int name=\"y\" value=\"-1358\"/>\n       <int name=\"pt\" value=\"1\"/>\n       <int name=\"tm\" value=\"191000001\"/>\n       <string name=\"tn\" value=\"out00\"/>\n       <string name=\"pn\" value=\"in00\"/>\n     </imgdir>\n-    <imgdir name=\"14\">\n+    <imgdir name=\"13\">\n       <int name=\"x\" value=\"-54\"/>\n       <int name=\"y\" value=\"-2182\"/>\n       <int name=\"pt\" value=\"1\"/>\n       <int name=\"tm\" value=\"191000001\"/>\n       <string name=\"tn\" value=\"out01\"/>\n       <string name=\"pn\" value=\"in01\"/>\n     </imgdir>\n-    <imgdir name=\"15\">\n-      <int name=\"x\" value=\"291\"/>\n-      <int name=\"y\" value=\"-1225\"/>\n-      <int name=\"pt\" value=\"2\"/>\n-      <int name=\"tm\" value=\"193000000\"/>\n-      <string name=\"tn\" value=\"st00\"/>\n-      <string name=\"pn\" value=\"out00\"/>\n+    <imgdir name=\"14\">\n+      <int name=\"x\" value=\"1134\"/>\n+      <int name=\"y\" value=\"-1100\"/>\n+      <int name=\"pt\" value=\"1\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+      <string name=\"pn\" value=\"up12\"/>\n+      <int name=\"hideTooltip\" value=\"0\"/>\n+      <int name=\"onlyOnce\" value=\"0\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"reactor\">\n@@ -5880,5 +5874,17 @@\n       <string name=\"type\" value=\"m\"/>\n       <int name=\"fh\" value=\"63\"/>\n     </imgdir>\n+    <imgdir name=\"78\">\n+      <string name=\"id\" value=\"1052013\"/>\n+      <int name=\"x\" value=\"858\"/>\n+      <int name=\"y\" value=\"-1111\"/>\n+      <int name=\"cy\" value=\"-1103\"/>\n+      <int name=\"mobTime\" value=\"0\"/>\n+      <int name=\"rx0\" value=\"838\"/>\n+      <int name=\"rx1\" value=\"878\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"type\" value=\"n\"/>\n+      <int name=\"fh\" value=\"132\"/>\n+    </imgdir>\n   </imgdir>\n </imgdir>"}, {"sha": "5c4d57d869d4477d0cc363fba9c67cb1ec9a765a", "filename": "wz/Map.wz/Map/Map1/191000001.img.xml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/191000001.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/191000001.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map1/191000001.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -12,12 +12,12 @@\n     <int name=\"VRBottom\" value=\"530\"/>\n     <int name=\"VRRight\" value=\"440\"/>\n     <string name=\"mapDesc\" value=\"\"/>\n-    <int name=\"forcedReturn\" value=\"999999999\"/>\n     <int name=\"hideMinimap\" value=\"0\"/>\n     <int name=\"moveLimit\" value=\"0\"/>\n     <string name=\"mapMark\" value=\"PcZone\"/>\n-    <int name=\"fieldLimit\" value=\"8192\"/>\n     <int name=\"swim\" value=\"0\"/>\n+    <int name=\"fieldLimit\" value=\"270972\"/>\n+    <int name=\"forcedReturn\" value=\"193000000\"/>\n   </imgdir>\n   <imgdir name=\"back\">\n     <imgdir name=\"0\">"}, {"sha": "73ba0ca5e0286b2616582d36f16f3ea943a548a1", "filename": "wz/Map.wz/Map/Map1/192000000.img.xml", "status": "modified", "additions": 3835, "deletions": 3879, "changes": 7714, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/192000000.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/192000000.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map1/192000000.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "d826d72509e4ee404e06c553d961a47e6dfb3c0a", "filename": "wz/Map.wz/Map/Map1/192000001.img.xml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/192000001.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/192000001.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map1/192000001.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -7,11 +7,11 @@\n     <float name=\"mobRate\" value=\"1.199998\"/>\n     <string name=\"bgm\" value=\"Bgm00/Nightmare\"/>\n     <int name=\"returnMap\" value=\"193000000\"/>\n-    <int name=\"forcedReturn\" value=\"999999999\"/>\n     <string name=\"mapMark\" value=\"PcZone\"/>\n     <int name=\"hideMinimap\" value=\"0\"/>\n-    <int name=\"fieldLimit\" value=\"8192\"/>\n     <int name=\"swim\" value=\"0\"/>\n+    <int name=\"fieldLimit\" value=\"270972\"/>\n+    <int name=\"forcedReturn\" value=\"193000000\"/>\n   </imgdir>\n   <imgdir name=\"back\">\n     <imgdir name=\"0\">"}, {"sha": "fc3b801fa93e8c49c769a146c61a734d21cf8187", "filename": "wz/Map.wz/Map/Map1/195000000.img.xml", "status": "modified", "additions": 9928, "deletions": 9954, "changes": 19882, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/195000000.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/195000000.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map1/195000000.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "4869fef982714802aedbee4dd6ba4d8223138832", "filename": "wz/Map.wz/Map/Map1/195010000.img.xml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/195010000.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/195010000.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map1/195010000.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -12,11 +12,11 @@\n     <int name=\"VRBottom\" value=\"1820\"/>\n     <int name=\"VRRight\" value=\"670\"/>\n     <string name=\"mapDesc\" value=\"\"/>\n-    <int name=\"forcedReturn\" value=\"999999999\"/>\n     <string name=\"mapMark\" value=\"PcZone\"/>\n     <int name=\"hideMinimap\" value=\"0\"/>\n-    <int name=\"fieldLimit\" value=\"8192\"/>\n     <int name=\"swim\" value=\"0\"/>\n+    <int name=\"fieldLimit\" value=\"270972\"/>\n+    <int name=\"forcedReturn\" value=\"193000000\"/>\n   </imgdir>\n   <imgdir name=\"back\">\n     <imgdir name=\"0\">"}, {"sha": "92e8b61e88e3ccaec090c1c171ac1fcbd8de0344", "filename": "wz/Map.wz/Map/Map1/195020000.img.xml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/195020000.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/195020000.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map1/195020000.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -5,13 +5,13 @@\n     <int name=\"cloud\" value=\"0\"/>\n     <int name=\"town\" value=\"0\"/>\n     <int name=\"returnMap\" value=\"193000000\"/>\n-    <int name=\"forcedReturn\" value=\"999999999\"/>\n     <float name=\"mobRate\" value=\"1.1\"/>\n     <string name=\"bgm\" value=\"Bgm02/EvilEyes\"/>\n     <string name=\"mapMark\" value=\"PcZone\"/>\n     <int name=\"hideMinimap\" value=\"0\"/>\n-    <int name=\"fieldLimit\" value=\"8192\"/>\n     <int name=\"swim\" value=\"0\"/>\n+    <int name=\"fieldLimit\" value=\"270972\"/>\n+    <int name=\"forcedReturn\" value=\"193000000\"/>\n   </imgdir>\n   <imgdir name=\"back\">\n     <imgdir name=\"0\">"}, {"sha": "25cc5f15a62fec5565434dcd2e06e5ad7f035627", "filename": "wz/Map.wz/Map/Map1/195030000.img.xml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/195030000.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/195030000.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map1/195030000.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -5,13 +5,13 @@\n     <int name=\"cloud\" value=\"0\"/>\n     <int name=\"town\" value=\"0\"/>\n     <int name=\"returnMap\" value=\"193000000\"/>\n-    <int name=\"forcedReturn\" value=\"999999999\"/>\n     <float name=\"mobRate\" value=\"1.1\"/>\n     <string name=\"bgm\" value=\"Bgm02/EvilEyes\"/>\n     <string name=\"mapMark\" value=\"PcZone\"/>\n     <int name=\"hideMinimap\" value=\"0\"/>\n-    <int name=\"fieldLimit\" value=\"8192\"/>\n     <int name=\"swim\" value=\"0\"/>\n+    <int name=\"fieldLimit\" value=\"270972\"/>\n+    <int name=\"forcedReturn\" value=\"193000000\"/>\n   </imgdir>\n   <imgdir name=\"back\">\n     <imgdir name=\"0\">"}, {"sha": "08d2a4b547e503f1b9ab5601e3d1729dda7517cd", "filename": "wz/Map.wz/Map/Map1/196000000.img.xml", "status": "modified", "additions": 2439, "deletions": 2461, "changes": 4900, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/196000000.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/196000000.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map1/196000000.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "0d4488d579b8db2ee8b98e495d0d3daaa7156e63", "filename": "wz/Map.wz/Map/Map1/196010000.img.xml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/196010000.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/196010000.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map1/196010000.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -5,19 +5,19 @@\n     <int name=\"cloud\" value=\"0\"/>\n     <int name=\"town\" value=\"0\"/>\n     <int name=\"returnMap\" value=\"193000000\"/>\n-    <int name=\"forcedReturn\" value=\"999999999\"/>\n     <float name=\"mobRate\" value=\"0.8\"/>\n     <string name=\"bgm\" value=\"Bgm05/WolfWood\"/>\n     <string name=\"mapMark\" value=\"ElNathDungeon\"/>\n     <int name=\"hideMinimap\" value=\"0\"/>\n-    <int name=\"fieldLimit\" value=\"8192\"/>\n     <int name=\"VRTop\" value=\"-2020\"/>\n     <int name=\"VRLeft\" value=\"-402\"/>\n     <int name=\"VRBottom\" value=\"660\"/>\n     <int name=\"VRRight\" value=\"580\"/>\n     <float name=\"fs\" value=\"0.2\"/>\n     <int name=\"decHP\" value=\"10\"/>\n     <int name=\"swim\" value=\"0\"/>\n+    <int name=\"fieldLimit\" value=\"270972\"/>\n+    <int name=\"forcedReturn\" value=\"193000000\"/>\n   </imgdir>\n   <imgdir name=\"back\">\n     <imgdir name=\"0\">"}, {"sha": "5e3ee36e2f1c18b63b1e54071e63d7efb877a5bd", "filename": "wz/Map.wz/Map/Map1/197000000.img.xml", "status": "modified", "additions": 2492, "deletions": 2524, "changes": 5016, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/197000000.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/197000000.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map1/197000000.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c"}, {"sha": "ae26c20d5acb135401e06c0f11d895462dec4d98", "filename": "wz/Map.wz/Map/Map1/197010000.img.xml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/197010000.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map1/197010000.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map1/197010000.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -5,17 +5,17 @@\n     <int name=\"cloud\" value=\"0\"/>\n     <int name=\"town\" value=\"0\"/>\n     <int name=\"returnMap\" value=\"193000000\"/>\n-    <int name=\"forcedReturn\" value=\"999999999\"/>\n+    <int name=\"forcedReturn\" value=\"193000000\"/>\n     <float name=\"mobRate\" value=\"1.1\"/>\n     <string name=\"bgm\" value=\"Bgm06/FantasticThinking\"/>\n     <string name=\"mapMark\" value=\"Ludibrium\"/>\n     <int name=\"hideMinimap\" value=\"0\"/>\n-    <int name=\"fieldLimit\" value=\"8192\"/>\n     <int name=\"VRTop\" value=\"-350\"/>\n     <int name=\"VRLeft\" value=\"-1045\"/>\n     <int name=\"VRBottom\" value=\"250\"/>\n     <int name=\"VRRight\" value=\"1237\"/>\n     <int name=\"swim\" value=\"0\"/>\n+    <int name=\"fieldLimit\" value=\"270972\"/>\n   </imgdir>\n   <imgdir name=\"back\">\n     <imgdir name=\"0\">"}, {"sha": "d24be8c36ec0fe4ecaaf1adaabf9251e7a583a8c", "filename": "wz/Map.wz/Map/Map5/540010101.img.xml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map5/540010101.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Map.wz/Map/Map5/540010101.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map5/540010101.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -6,7 +6,7 @@\n     <int name=\"town\" value=\"0\"/>\n     <int name=\"swim\" value=\"0\"/>\n     <int name=\"returnMap\" value=\"540010000\"/>\n-    <int name=\"forcedReturn\" value=\"540010000\"/>\n+    <int name=\"forcedReturn\" value=\"103000000\"/>\n     <float name=\"mobRate\" value=\"1.0\"/>\n     <string name=\"bgm\" value=\"Bgm04/UponTheSky\"/>\n     <string name=\"mapMark\" value=\"KerningCity\"/>"}, {"sha": "fdf75a5348b28f66af9271f9a4e619b776ea2d7e", "filename": "wz/Mob.wz/9001000.img.xml", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Mob.wz/9001000.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Mob.wz/9001000.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Mob.wz/9001000.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -48,6 +48,9 @@\n       </imgdir>\n     </imgdir>\n     <int name=\"mobType\" value=\"6\"/>\n+    <int name=\"HPgaugeHide\" value=\"1\"/>\n+    <int name=\"hpTagBgcolor\" value=\"5\"/>\n+    <int name=\"hpTagColor\" value=\"1\"/>\n   </imgdir>\n   <imgdir name=\"move\">\n     <canvas name=\"0\" width=\"72\" height=\"95\">"}, {"sha": "4cef2677a9be6fc4f2c2dce7c7051b7b2a7aeffd", "filename": "wz/Mob.wz/9001001.img.xml", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Mob.wz/9001001.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Mob.wz/9001001.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Mob.wz/9001001.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -48,6 +48,9 @@\n       </imgdir>\n     </imgdir>\n     <int name=\"mobType\" value=\"6\"/>\n+    <int name=\"HPgaugeHide\" value=\"1\"/>\n+    <int name=\"hpTagBgcolor\" value=\"5\"/>\n+    <int name=\"hpTagColor\" value=\"1\"/>\n   </imgdir>\n   <imgdir name=\"move\">\n     <canvas name=\"0\" width=\"87\" height=\"160\">"}, {"sha": "9dfc93caa0450ead0e433b7fb0d10c1f88294953", "filename": "wz/Mob.wz/9001002.img.xml", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Mob.wz/9001002.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Mob.wz/9001002.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Mob.wz/9001002.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -48,6 +48,9 @@\n       </imgdir>\n     </imgdir>\n     <int name=\"mobType\" value=\"6\"/>\n+    <int name=\"HPgaugeHide\" value=\"1\"/>\n+    <int name=\"hpTagBgcolor\" value=\"5\"/>\n+    <int name=\"hpTagColor\" value=\"1\"/>\n   </imgdir>\n   <imgdir name=\"move\">\n     <canvas name=\"0\" width=\"58\" height=\"69\">"}, {"sha": "9cdc0d38f33f984a580b160e1da23ad72ddd1792", "filename": "wz/Mob.wz/9001003.img.xml", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Mob.wz/9001003.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Mob.wz/9001003.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Mob.wz/9001003.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -48,6 +48,9 @@\n       </imgdir>\n     </imgdir>\n     <int name=\"mobType\" value=\"6\"/>\n+    <int name=\"HPgaugeHide\" value=\"1\"/>\n+    <int name=\"hpTagBgcolor\" value=\"5\"/>\n+    <int name=\"hpTagColor\" value=\"1\"/>\n   </imgdir>\n   <imgdir name=\"move\">\n     <canvas name=\"0\" width=\"47\" height=\"66\">"}, {"sha": "7dcf77a4b64fccd6e9514a0d026dd9b2018cfbda", "filename": "wz/Mob.wz/9001004.img.xml", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Mob.wz/9001004.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Mob.wz/9001004.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Mob.wz/9001004.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -42,6 +42,9 @@\n       </imgdir>\n     </imgdir>\n     <int name=\"mobType\" value=\"6\"/>\n+    <int name=\"HPgaugeHide\" value=\"1\"/>\n+    <int name=\"hpTagBgcolor\" value=\"5\"/>\n+    <int name=\"hpTagColor\" value=\"1\"/>\n   </imgdir>\n   <imgdir name=\"regen\">\n     <canvas name=\"0\" width=\"133\" height=\"155\">"}, {"sha": "2789444b3ba4f0fb466db8859def0664d45676c3", "filename": "wz/Mob.wz/9001008.img.xml", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Mob.wz/9001008.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Mob.wz/9001008.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Mob.wz/9001008.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -38,6 +38,9 @@\n       </imgdir>\n     </imgdir>\n     <int name=\"mobType\" value=\"6\"/>\n+    <int name=\"HPgaugeHide\" value=\"1\"/>\n+    <int name=\"hpTagBgcolor\" value=\"5\"/>\n+    <int name=\"hpTagColor\" value=\"1\"/>\n   </imgdir>\n   <imgdir name=\"move\">\n     <canvas name=\"0\" width=\"56\" height=\"66\">"}, {"sha": "cb5b1d5db086984647a2fe4267a93678a23c039d", "filename": "wz/Quest.wz/Check.img.xml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Quest.wz/Check.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/Quest.wz/Check.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Quest.wz/Check.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -21339,7 +21339,7 @@\n       <imgdir name=\"item\">\n         <imgdir name=\"0\">\n           <int name=\"id\" value=\"4031844\"/>\n-          <int name=\"count\" value=\"1\"/>\n+          <int name=\"count\" value=\"-1\"/>\n         </imgdir>\n       </imgdir>\n     </imgdir>"}, {"sha": "499f778786994afb9450adf2a43742c5f24e29c9", "filename": "wz/String.wz/Consume.img.xml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/String.wz/Consume.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/String.wz/Consume.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/String.wz/Consume.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -134,7 +134,7 @@\n   </imgdir>\n   <imgdir name=\"2002010\">\n     <string name=\"name\" value=\"Speed Pill\"/>\n-    <string name=\"desc\" value=\"A pill of concentrated speed potion. Increased speed for 10 minutes\"/>\n+    <string name=\"desc\" value=\"A pill of concentrated speed potion. Increased speed for 10 minutes.\"/>\n   </imgdir>\n   <imgdir name=\"2002011\">\n     <string name=\"name\" value=\"Pain Reliever\"/>\n@@ -1533,7 +1533,7 @@\n   </imgdir>\n   <imgdir name=\"2030100\">\n     <string name=\"name\" value=\"Return Scroll - Banished Area\"/>\n-    <string name=\"desc\" value=\"Returns you to the map where you were last banished. Requires immediate use and not have changed maps.\"/>\n+    <string name=\"desc\" value=\"Returns you to the map where you were last banished. Requires immediate use and not have changed maps nor channels.\"/>\n   </imgdir>\n   <imgdir name=\"2031000\">\n     <string name=\"name\" value=\"Masked Man&apos;s Invitation\"/>"}, {"sha": "c265b4afa6ea6df38d9efaf6b315f27a0e48d2c9", "filename": "wz/String.wz/MonsterBook.img.xml", "status": "modified", "additions": 398, "deletions": 152, "changes": 550, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/String.wz/MonsterBook.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/String.wz/MonsterBook.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/String.wz/MonsterBook.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -3191,7 +3191,49 @@\n       <int name=\"4\" value=\"110030001\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2382030\" />\n+      <int name=\"0\" value=\"1040080\" />\n+      <int name=\"1\" value=\"1041074\" />\n+      <int name=\"2\" value=\"1050000\" />\n+      <int name=\"3\" value=\"1050038\" />\n+      <int name=\"4\" value=\"1060068\" />\n+      <int name=\"5\" value=\"1061069\" />\n+      <int name=\"6\" value=\"1072113\" />\n+      <int name=\"7\" value=\"1072121\" />\n+      <int name=\"8\" value=\"1072297\" />\n+      <int name=\"9\" value=\"1082056\" />\n+      <int name=\"10\" value=\"1082074\" />\n+      <int name=\"11\" value=\"1092014\" />\n+      <int name=\"12\" value=\"1302017\" />\n+      <int name=\"13\" value=\"1302020\" />\n+      <int name=\"14\" value=\"1302030\" />\n+      <int name=\"15\" value=\"1322021\" />\n+      <int name=\"16\" value=\"1322022\" />\n+      <int name=\"17\" value=\"1322023\" />\n+      <int name=\"18\" value=\"1322024\" />\n+      <int name=\"19\" value=\"1332020\" />\n+      <int name=\"20\" value=\"1382017\" />\n+      <int name=\"21\" value=\"1442001\" />\n+      <int name=\"22\" value=\"1442027\" />\n+      <int name=\"23\" value=\"1442028\" />\n+      <int name=\"24\" value=\"1452005\" />\n+      <int name=\"25\" value=\"1482006\" />\n+      <int name=\"26\" value=\"1492021\" />\n+      <int name=\"27\" value=\"2000002\" />\n+      <int name=\"28\" value=\"2000003\" />\n+      <int name=\"29\" value=\"2040024\" />\n+      <int name=\"30\" value=\"2040423\" />\n+      <int name=\"31\" value=\"2043301\" />\n+      <int name=\"32\" value=\"2044802\" />\n+      <int name=\"33\" value=\"2048002\" />\n+      <int name=\"34\" value=\"2048005\" />\n+      <int name=\"35\" value=\"2382030\" />\n+      <int name=\"36\" value=\"4000043\" />\n+      <int name=\"37\" value=\"4006001\" />\n+      <int name=\"38\" value=\"4010005\" />\n+      <int name=\"39\" value=\"4020000\" />\n+      <int name=\"40\" value=\"4030012\" />\n+      <int name=\"41\" value=\"4130011\" />\n+      <int name=\"42\" value=\"4130015\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  37\\nForm : Fish\\nSpecial Trait : Vulnerable to Electricity Attribute Attacks.\\n\\nA monster that appears in the sand near the sea. Its speed and high defense rate render this monster difficult to hunt, but since it lives by the water, use magic of lightning attribute to attack its vulnerability.\" />\n   </imgdir>\n@@ -4309,7 +4351,37 @@\n       <int name=\"2\" value=\"110040000\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2383009\" />\n+      <int name=\"0\" value=\"1002025\" />\n+      <int name=\"1\" value=\"1002085\" />\n+      <int name=\"2\" value=\"1002217\" />\n+      <int name=\"3\" value=\"1040083\" />\n+      <int name=\"4\" value=\"1040095\" />\n+      <int name=\"5\" value=\"1041079\" />\n+      <int name=\"6\" value=\"1041081\" />\n+      <int name=\"7\" value=\"1041082\" />\n+      <int name=\"8\" value=\"1041087\" />\n+      <int name=\"9\" value=\"1060072\" />\n+      <int name=\"10\" value=\"1060084\" />\n+      <int name=\"11\" value=\"1061078\" />\n+      <int name=\"12\" value=\"1061081\" />\n+      <int name=\"13\" value=\"1061086\" />\n+      <int name=\"14\" value=\"1302016\" />\n+      <int name=\"15\" value=\"1382001\" />\n+      <int name=\"16\" value=\"1412003\" />\n+      <int name=\"17\" value=\"1442011\" />\n+      <int name=\"18\" value=\"1482007\" />\n+      <int name=\"19\" value=\"2000003\" />\n+      <int name=\"20\" value=\"2000004\" />\n+      <int name=\"21\" value=\"2040427\" />\n+      <int name=\"22\" value=\"2043201\" />\n+      <int name=\"23\" value=\"2043202\" />\n+      <int name=\"24\" value=\"2383009\" />\n+      <int name=\"25\" value=\"4000044\" />\n+      <int name=\"26\" value=\"4010003\" />\n+      <int name=\"27\" value=\"4020002\" />\n+      <int name=\"28\" value=\"4130005\" />\n+      <int name=\"29\" value=\"4130015\" />\n+      <int name=\"30\" value=\"4130017\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  48\\nForm : Fish\\nSpecial Trait : Vulnerable to Electricity Attribute Attacks.\\n\\nA crab monster that mainly lives near the sand by the sea. It is superior to Lorang in every aspect including speed and defense rate. It is encouraged that you don't attack this monster hastily, as it dashes through the seashore at the speed which rivals that of Lupin. But since it it lives near water like Lorang and is very vulnerable to lightning as a result, try attacking this monster using magic of electricity attribute.\" />\n   </imgdir>\n@@ -5867,7 +5939,41 @@\n       <int name=\"4\" value=\"211040300\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2383013\" />\n+      <int name=\"0\" value=\"1002100\" />\n+      <int name=\"1\" value=\"1041096\" />\n+      <int name=\"2\" value=\"1050053\" />\n+      <int name=\"3\" value=\"1051037\" />\n+      <int name=\"4\" value=\"1051044\" />\n+      <int name=\"5\" value=\"1051045\" />\n+      <int name=\"6\" value=\"1052116\" />\n+      <int name=\"7\" value=\"1061095\" />\n+      <int name=\"8\" value=\"1072089\" />\n+      <int name=\"9\" value=\"1082038\" />\n+      <int name=\"10\" value=\"1092030\" />\n+      <int name=\"11\" value=\"1442009\" />\n+      <int name=\"12\" value=\"1452006\" />\n+      <int name=\"13\" value=\"2000002\" />\n+      <int name=\"14\" value=\"2000003\" />\n+      <int name=\"15\" value=\"2000004\" />\n+      <int name=\"16\" value=\"2040321\" />\n+      <int name=\"17\" value=\"2040804\" />\n+      <int name=\"18\" value=\"2040925\" />\n+      <int name=\"19\" value=\"2040933\" />\n+      <int name=\"20\" value=\"2043019\" />\n+      <int name=\"21\" value=\"2043110\" />\n+      <int name=\"22\" value=\"2044602\" />\n+      <int name=\"23\" value=\"2383013\" />\n+      <int name=\"24\" value=\"4000021\" />\n+      <int name=\"25\" value=\"4000048\" />\n+      <int name=\"26\" value=\"4003005\" />\n+      <int name=\"27\" value=\"4004002\" />\n+      <int name=\"28\" value=\"4007000\" />\n+      <int name=\"29\" value=\"4007001\" />\n+      <int name=\"30\" value=\"4007002\" />\n+      <int name=\"31\" value=\"4010002\" />\n+      <int name=\"32\" value=\"4020001\" />\n+      <int name=\"33\" value=\"4130010\" />\n+      <int name=\"34\" value=\"4130011\" />\n     </imgdir>\n     <string name=\"episode\" value=\"Lv. :  50\\nForm : Mammal\\n\\nA small yeti often spotted in the snowfield of Ossyria near El Nath. Is made to live in cold climates and can therefore withstand strong Ice Attribute Attacks while being vulnerable to Fire Attribute Attacks. Its small frame and slow movement makes it an easy target, but beware, as many a travellers have been badly injured by this cute little creature. The Jr. Yeti is capable of transforming into a giant yeti as well so watch out!  \" />\n   </imgdir>\n@@ -6378,7 +6484,39 @@\n       <int name=\"2\" value=\"250010303\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2383035\" />\n+      <int name=\"0\" value=\"1032021\" />\n+      <int name=\"1\" value=\"1040099\" />\n+      <int name=\"2\" value=\"1050058\" />\n+      <int name=\"3\" value=\"1060088\" />\n+      <int name=\"4\" value=\"1072134\" />\n+      <int name=\"5\" value=\"1082066\" />\n+      <int name=\"6\" value=\"1082081\" />\n+      <int name=\"7\" value=\"1082201\" />\n+      <int name=\"8\" value=\"1092045\" />\n+      <int name=\"9\" value=\"1432006\" />\n+      <int name=\"10\" value=\"1472055\" />\n+      <int name=\"11\" value=\"2000002\" />\n+      <int name=\"12\" value=\"2000003\" />\n+      <int name=\"13\" value=\"2040031\" />\n+      <int name=\"14\" value=\"2040515\" />\n+      <int name=\"15\" value=\"2043701\" />\n+      <int name=\"16\" value=\"2043801\" />\n+      <int name=\"17\" value=\"2049100\" />\n+      <int name=\"18\" value=\"2049101\" />\n+      <int name=\"19\" value=\"2330002\" />\n+      <int name=\"20\" value=\"2383035\" />\n+      <int name=\"21\" value=\"4000021\" />\n+      <int name=\"22\" value=\"4000283\" />\n+      <int name=\"23\" value=\"4000284\" />\n+      <int name=\"24\" value=\"4003005\" />\n+      <int name=\"25\" value=\"4004002\" />\n+      <int name=\"26\" value=\"4004004\" />\n+      <int name=\"27\" value=\"4010005\" />\n+      <int name=\"28\" value=\"4020004\" />\n+      <int name=\"29\" value=\"4020007\" />\n+      <int name=\"30\" value=\"4130000\" />\n+      <int name=\"31\" value=\"4130009\" />\n+      <int name=\"32\" value=\"4130021\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  56\\nForm : Mammal\\n\\nA type of bear that lives near Mu Lung. Although it's only a bear, it has a heartfelt desire to become a virtuous master, hence devoting much of its energy in training. While it diligently trains in its practice uniform, it sometimes fails to suppress its animalistic instinct and attacks the passersby.\" />\n   </imgdir>\n@@ -7417,36 +7555,34 @@\n       <int name=\"29\" value=\"2040704\" />\n       <int name=\"30\" value=\"2040804\" />\n       <int name=\"31\" value=\"2040825\" />\n-      <int name=\"32\" value=\"2040827\" />\n-      <int name=\"33\" value=\"2040933\" />\n-      <int name=\"34\" value=\"2040935\" />\n-      <int name=\"35\" value=\"2041002\" />\n-      <int name=\"36\" value=\"2041013\" />\n-      <int name=\"37\" value=\"2041016\" />\n-      <int name=\"38\" value=\"2041046\" />\n-      <int name=\"39\" value=\"2043201\" />\n-      <int name=\"40\" value=\"2043701\" />\n-      <int name=\"41\" value=\"2043802\" />\n-      <int name=\"42\" value=\"2044114\" />\n-      <int name=\"43\" value=\"2044116\" />\n-      <int name=\"44\" value=\"2044201\" />\n-      <int name=\"45\" value=\"2044301\" />\n-      <int name=\"46\" value=\"2044502\" />\n-      <int name=\"47\" value=\"2044801\" />\n-      <int name=\"48\" value=\"2044803\" />\n-      <int name=\"49\" value=\"2044807\" />\n-      <int name=\"50\" value=\"2044902\" />\n-      <int name=\"51\" value=\"2044904\" />\n-      <int name=\"52\" value=\"2060000\" />\n-      <int name=\"53\" value=\"2061000\" />\n-      <int name=\"54\" value=\"2388005\" />\n-      <int name=\"55\" value=\"4000113\" />\n-      <int name=\"56\" value=\"4000114\" />\n-      <int name=\"57\" value=\"4000115\" />\n-      <int name=\"58\" value=\"4004001\" />\n-      <int name=\"59\" value=\"4010003\" />\n-      <int name=\"60\" value=\"4020006\" />\n-      <int name=\"61\" value=\"4031991\" />\n+      <int name=\"32\" value=\"2040933\" />\n+      <int name=\"33\" value=\"2041002\" />\n+      <int name=\"34\" value=\"2041013\" />\n+      <int name=\"35\" value=\"2041016\" />\n+      <int name=\"36\" value=\"2041046\" />\n+      <int name=\"37\" value=\"2043201\" />\n+      <int name=\"38\" value=\"2043701\" />\n+      <int name=\"39\" value=\"2043802\" />\n+      <int name=\"40\" value=\"2044114\" />\n+      <int name=\"41\" value=\"2044116\" />\n+      <int name=\"42\" value=\"2044201\" />\n+      <int name=\"43\" value=\"2044301\" />\n+      <int name=\"44\" value=\"2044502\" />\n+      <int name=\"45\" value=\"2044801\" />\n+      <int name=\"46\" value=\"2044803\" />\n+      <int name=\"47\" value=\"2044807\" />\n+      <int name=\"48\" value=\"2044902\" />\n+      <int name=\"49\" value=\"2044904\" />\n+      <int name=\"50\" value=\"2060000\" />\n+      <int name=\"51\" value=\"2061000\" />\n+      <int name=\"52\" value=\"2388005\" />\n+      <int name=\"53\" value=\"4000113\" />\n+      <int name=\"54\" value=\"4000114\" />\n+      <int name=\"55\" value=\"4000115\" />\n+      <int name=\"56\" value=\"4004001\" />\n+      <int name=\"57\" value=\"4010003\" />\n+      <int name=\"58\" value=\"4020006\" />\n+      <int name=\"59\" value=\"4031991\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  59\\nForm : Enchanted\\n\\nThe ghost of the past that originated from the deserted land in Ludibrium. It was brought back to life due to the Dimensional Schism, and has been a follower of Papulatus ever since, pestering anyone that attempts to go near the lowest level of the Clocktower. It appears in the form of an owl clock, and it tries to cling onto the past by turning back the time. \" />\n   </imgdir>\n@@ -8375,35 +8511,34 @@\n       <int name=\"20\" value=\"2002001\" />\n       <int name=\"21\" value=\"2040004\" />\n       <int name=\"22\" value=\"2040031\" />\n-      <int name=\"23\" value=\"2040033\" />\n-      <int name=\"24\" value=\"2040501\" />\n-      <int name=\"25\" value=\"2040516\" />\n-      <int name=\"26\" value=\"2040614\" />\n-      <int name=\"27\" value=\"2040627\" />\n-      <int name=\"28\" value=\"2040702\" />\n-      <int name=\"29\" value=\"2040804\" />\n-      <int name=\"30\" value=\"2041001\" />\n-      <int name=\"31\" value=\"2041008\" />\n-      <int name=\"32\" value=\"2041043\" />\n-      <int name=\"33\" value=\"2043301\" />\n-      <int name=\"34\" value=\"2044001\" />\n-      <int name=\"35\" value=\"2044312\" />\n-      <int name=\"36\" value=\"2044313\" />\n-      <int name=\"37\" value=\"2044401\" />\n-      <int name=\"38\" value=\"2044502\" />\n-      <int name=\"39\" value=\"2044601\" />\n-      <int name=\"40\" value=\"2044701\" />\n-      <int name=\"41\" value=\"2044702\" />\n-      <int name=\"42\" value=\"2044807\" />\n-      <int name=\"43\" value=\"2048002\" />\n-      <int name=\"44\" value=\"2060000\" />\n-      <int name=\"45\" value=\"2061000\" />\n-      <int name=\"46\" value=\"2388007\" />\n-      <int name=\"47\" value=\"4000021\" />\n-      <int name=\"48\" value=\"4000032\" />\n-      <int name=\"49\" value=\"4000033\" />\n-      <int name=\"50\" value=\"4010002\" />\n-      <int name=\"51\" value=\"4020003\" />\n+      <int name=\"23\" value=\"2040501\" />\n+      <int name=\"24\" value=\"2040516\" />\n+      <int name=\"25\" value=\"2040614\" />\n+      <int name=\"26\" value=\"2040627\" />\n+      <int name=\"27\" value=\"2040702\" />\n+      <int name=\"28\" value=\"2040804\" />\n+      <int name=\"29\" value=\"2041001\" />\n+      <int name=\"30\" value=\"2041008\" />\n+      <int name=\"31\" value=\"2041043\" />\n+      <int name=\"32\" value=\"2043301\" />\n+      <int name=\"33\" value=\"2044001\" />\n+      <int name=\"34\" value=\"2044312\" />\n+      <int name=\"35\" value=\"2044313\" />\n+      <int name=\"36\" value=\"2044401\" />\n+      <int name=\"37\" value=\"2044502\" />\n+      <int name=\"38\" value=\"2044601\" />\n+      <int name=\"39\" value=\"2044701\" />\n+      <int name=\"40\" value=\"2044702\" />\n+      <int name=\"41\" value=\"2044807\" />\n+      <int name=\"42\" value=\"2048002\" />\n+      <int name=\"43\" value=\"2060000\" />\n+      <int name=\"44\" value=\"2061000\" />\n+      <int name=\"45\" value=\"2388007\" />\n+      <int name=\"46\" value=\"4000021\" />\n+      <int name=\"47\" value=\"4000032\" />\n+      <int name=\"48\" value=\"4000033\" />\n+      <int name=\"49\" value=\"4010002\" />\n+      <int name=\"50\" value=\"4020003\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  65\\nForm : Reptile\\n\\nA gigantic crocodile that hides in the swamp in Kerning City. Some say that it suddenly grew in size due to a strange substance in the waste water it consumed, although such claim has not been confirmed. While naturally docile, its simple-minded personality sometimes causes Mr. Alli to rashly become a ferocious monster when provoked. \" />\n   </imgdir>\n@@ -8673,7 +8808,17 @@\n       <int name=\"0\" value=\"200010300\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2384005\" />\n+      <int name=\"0\" value=\"1092045\" />\n+      <int name=\"1\" value=\"1092047\" />\n+      <int name=\"2\" value=\"1372034\" />\n+      <int name=\"3\" value=\"1412027\" />\n+      <int name=\"4\" value=\"1482022\" />\n+      <int name=\"5\" value=\"2040515\" />\n+      <int name=\"6\" value=\"2044410\" />\n+      <int name=\"7\" value=\"2384005\" />\n+      <int name=\"8\" value=\"4130009\" />\n+      <int name=\"9\" value=\"4130010\" />\n+      <int name=\"10\" value=\"4130014\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  63\\nForm : Mammal\\nSpecial Trait : Resistant to Poison Attribute Attacks. Vulnerable to Sanctity Attribute Attacks.\\n\\nA black monster that lives in the Stairway to the Sky in Orbis. Although it resembles the physical characteristics of Cellion, Lioner, and Grupin, the Jr. Lucida has a small horn and a pair of wings, not to mention its dark and brutal force that is reflected in its black coat of fur. When fully grown, Jr. Lucida becomes Lucida.\" />\n   </imgdir>\n@@ -10002,21 +10147,20 @@\n       <int name=\"14\" value=\"2002006\" />\n       <int name=\"15\" value=\"2040024\" />\n       <int name=\"16\" value=\"2040534\" />\n-      <int name=\"17\" value=\"2040536\" />\n-      <int name=\"18\" value=\"2041007\" />\n-      <int name=\"19\" value=\"2043001\" />\n-      <int name=\"20\" value=\"2043112\" />\n-      <int name=\"21\" value=\"2043113\" />\n-      <int name=\"22\" value=\"2070007\" />\n-      <int name=\"23\" value=\"2330003\" />\n-      <int name=\"24\" value=\"2384023\" />\n-      <int name=\"25\" value=\"4004001\" />\n-      <int name=\"26\" value=\"4006000\" />\n-      <int name=\"27\" value=\"4010006\" />\n-      <int name=\"28\" value=\"4020006\" />\n-      <int name=\"29\" value=\"4030012\" />\n-      <int name=\"30\" value=\"4031234\" />\n-      <int name=\"31\" value=\"4130017\" />\n+      <int name=\"17\" value=\"2041007\" />\n+      <int name=\"18\" value=\"2043001\" />\n+      <int name=\"19\" value=\"2043112\" />\n+      <int name=\"20\" value=\"2043113\" />\n+      <int name=\"21\" value=\"2070007\" />\n+      <int name=\"22\" value=\"2330003\" />\n+      <int name=\"23\" value=\"2384023\" />\n+      <int name=\"24\" value=\"4004001\" />\n+      <int name=\"25\" value=\"4006000\" />\n+      <int name=\"26\" value=\"4010006\" />\n+      <int name=\"27\" value=\"4020006\" />\n+      <int name=\"28\" value=\"4030012\" />\n+      <int name=\"29\" value=\"4031234\" />\n+      <int name=\"30\" value=\"4130017\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  70\\nForm : Devil\\nSpecial Trait : Resistant to Poison Attribute Attacks.\\n\\nKing Goblin known for its penchant for wrestling. It frequently pleads with the passersby for a wrestling match.  It can fumigate everything nearby with its infamous flatulence. It likes buckwheat jelly.\" />\n   </imgdir>\n@@ -11936,7 +12080,47 @@\n       <int name=\"4\" value=\"240040401\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2386008\" />\n+      <int name=\"0\" value=\"1002365\" />\n+      <int name=\"1\" value=\"1040117\" />\n+      <int name=\"2\" value=\"1040118\" />\n+      <int name=\"3\" value=\"1041118\" />\n+      <int name=\"4\" value=\"1050089\" />\n+      <int name=\"5\" value=\"1050090\" />\n+      <int name=\"6\" value=\"1052128\" />\n+      <int name=\"7\" value=\"1060106\" />\n+      <int name=\"8\" value=\"1061116\" />\n+      <int name=\"9\" value=\"1072223\" />\n+      <int name=\"10\" value=\"1082129\" />\n+      <int name=\"11\" value=\"1452017\" />\n+      <int name=\"12\" value=\"2000005\" />\n+      <int name=\"13\" value=\"2000006\" />\n+      <int name=\"14\" value=\"2040516\" />\n+      <int name=\"15\" value=\"2040701\" />\n+      <int name=\"16\" value=\"2043002\" />\n+      <int name=\"17\" value=\"2043114\" />\n+      <int name=\"18\" value=\"2044901\" />\n+      <int name=\"19\" value=\"2044902\" />\n+      <int name=\"20\" value=\"2290120\" />\n+      <int name=\"21\" value=\"2290127\" />\n+      <int name=\"22\" value=\"2386008\" />\n+      <int name=\"23\" value=\"4000244\" />\n+      <int name=\"24\" value=\"4000245\" />\n+      <int name=\"25\" value=\"4000268\" />\n+      <int name=\"26\" value=\"4001077\" />\n+      <int name=\"27\" value=\"4001105\" />\n+      <int name=\"28\" value=\"4004002\" />\n+      <int name=\"29\" value=\"4006001\" />\n+      <int name=\"30\" value=\"4010001\" />\n+      <int name=\"31\" value=\"4020000\" />\n+      <int name=\"32\" value=\"4031449\" />\n+      <int name=\"33\" value=\"4031482\" />\n+      <int name=\"34\" value=\"4031483\" />\n+      <int name=\"35\" value=\"4031484\" />\n+      <int name=\"36\" value=\"4031485\" />\n+      <int name=\"37\" value=\"4130002\" />\n+      <int name=\"38\" value=\"4130004\" />\n+      <int name=\"39\" value=\"4130005\" />\n+      <int name=\"40\" value=\"4130013\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  97\\nForm : Reptile\\nSpecial Trait : -50% Fire Attribute Damage. Vulnerable to Ice Attribute Attacks.\\n\\nA ferocious dragon that lives in the Dragon Canyon. It has a huge pair of reddish wings but no front legs. It sets its nest in between the valleys, and has a decent level of intelligence as well as an extremely fast speed, not to mention the wind it can create with its huge wings.  It also orally emits flames. \" />\n   </imgdir>\n@@ -11949,7 +12133,42 @@\n       <int name=\"4\" value=\"240040401\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2386013\" />\n+      <int name=\"0\" value=\"1002532\" />\n+      <int name=\"1\" value=\"1050094\" />\n+      <int name=\"2\" value=\"1051105\" />\n+      <int name=\"3\" value=\"1072227\" />\n+      <int name=\"4\" value=\"1082143\" />\n+      <int name=\"5\" value=\"1082213\" />\n+      <int name=\"6\" value=\"1372010\" />\n+      <int name=\"7\" value=\"1422013\" />\n+      <int name=\"8\" value=\"2000005\" />\n+      <int name=\"9\" value=\"2000006\" />\n+      <int name=\"10\" value=\"2022003\" />\n+      <int name=\"11\" value=\"2040001\" />\n+      <int name=\"12\" value=\"2040401\" />\n+      <int name=\"13\" value=\"2040924\" />\n+      <int name=\"14\" value=\"2040925\" />\n+      <int name=\"15\" value=\"2044001\" />\n+      <int name=\"16\" value=\"2290101\" />\n+      <int name=\"17\" value=\"2330004\" />\n+      <int name=\"18\" value=\"2386013\" />\n+      <int name=\"19\" value=\"4000244\" />\n+      <int name=\"20\" value=\"4000245\" />\n+      <int name=\"21\" value=\"4000269\" />\n+      <int name=\"22\" value=\"4001077\" />\n+      <int name=\"23\" value=\"4001105\" />\n+      <int name=\"24\" value=\"4004003\" />\n+      <int name=\"25\" value=\"4006000\" />\n+      <int name=\"26\" value=\"4010004\" />\n+      <int name=\"27\" value=\"4020005\" />\n+      <int name=\"28\" value=\"4031449\" />\n+      <int name=\"29\" value=\"4031482\" />\n+      <int name=\"30\" value=\"4031483\" />\n+      <int name=\"31\" value=\"4031484\" />\n+      <int name=\"32\" value=\"4031485\" />\n+      <int name=\"33\" value=\"4130004\" />\n+      <int name=\"34\" value=\"4130013\" />\n+      <int name=\"35\" value=\"4130014\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  101\\nForm : Reptile\\nSpecial Trait : Vulnerable Fire Attribute Attacks. -50% Ice Attribute Damage.\\n\\nA ferocious dragon that lives in the Dragon Canyon. It has a huge pair of blue wings but no front legs. It sets its nest in between the valleys, and has a decent level of intelligence as well as an extremely fast speed, not to mention the wind it can create with its huge wings.  It also orally emits cold air. \" />\n   </imgdir>\n@@ -11962,7 +12181,53 @@\n       <int name=\"4\" value=\"240040500\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2386015\" />\n+      <int name=\"0\" value=\"1002531\" />\n+      <int name=\"1\" value=\"1040115\" />\n+      <int name=\"2\" value=\"1040117\" />\n+      <int name=\"3\" value=\"1050093\" />\n+      <int name=\"4\" value=\"1051095\" />\n+      <int name=\"5\" value=\"1060104\" />\n+      <int name=\"6\" value=\"1060107\" />\n+      <int name=\"7\" value=\"1072214\" />\n+      <int name=\"8\" value=\"1082127\" />\n+      <int name=\"9\" value=\"1332027\" />\n+      <int name=\"10\" value=\"1442020\" />\n+      <int name=\"11\" value=\"1482012\" />\n+      <int name=\"12\" value=\"2000005\" />\n+      <int name=\"13\" value=\"2000006\" />\n+      <int name=\"14\" value=\"2020013\" />\n+      <int name=\"15\" value=\"2022003\" />\n+      <int name=\"16\" value=\"2040302\" />\n+      <int name=\"17\" value=\"2040320\" />\n+      <int name=\"18\" value=\"2044301\" />\n+      <int name=\"19\" value=\"2044402\" />\n+      <int name=\"20\" value=\"2290010\" />\n+      <int name=\"21\" value=\"2290019\" />\n+      <int name=\"22\" value=\"2290026\" />\n+      <int name=\"23\" value=\"2290076\" />\n+      <int name=\"24\" value=\"2290119\" />\n+      <int name=\"25\" value=\"2290128\" />\n+      <int name=\"26\" value=\"2386015\" />\n+      <int name=\"27\" value=\"4000244\" />\n+      <int name=\"28\" value=\"4000245\" />\n+      <int name=\"29\" value=\"4000270\" />\n+      <int name=\"30\" value=\"4001077\" />\n+      <int name=\"31\" value=\"4001105\" />\n+      <int name=\"32\" value=\"4004000\" />\n+      <int name=\"33\" value=\"4006000\" />\n+      <int name=\"34\" value=\"4006001\" />\n+      <int name=\"35\" value=\"4010005\" />\n+      <int name=\"36\" value=\"4020002\" />\n+      <int name=\"37\" value=\"4031415\" />\n+      <int name=\"38\" value=\"4031449\" />\n+      <int name=\"39\" value=\"4031482\" />\n+      <int name=\"40\" value=\"4031483\" />\n+      <int name=\"41\" value=\"4031484\" />\n+      <int name=\"42\" value=\"4031485\" />\n+      <int name=\"43\" value=\"4130009\" />\n+      <int name=\"44\" value=\"4130014\" />\n+      <int name=\"45\" value=\"4130017\" />\n+      <int name=\"46\" value=\"4131004\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  103\\nForm : Reptile\\n\\nA ferocious dragon that lives in the Dragon Canyon. It has a huge pair of black wings but no front legs. It sets its nest in between the valleys, and has a decent level of intelligence and orally emits the breath of damnation.\" />\n   </imgdir>\n@@ -13486,44 +13751,43 @@\n       <int name=\"24\" value=\"2040504\" />\n       <int name=\"25\" value=\"2040513\" />\n       <int name=\"26\" value=\"2040516\" />\n-      <int name=\"27\" value=\"2040536\" />\n-      <int name=\"28\" value=\"2040622\" />\n-      <int name=\"29\" value=\"2043113\" />\n-      <int name=\"30\" value=\"2049000\" />\n-      <int name=\"31\" value=\"2280007\" />\n-      <int name=\"32\" value=\"2280008\" />\n-      <int name=\"33\" value=\"2280009\" />\n-      <int name=\"34\" value=\"2280010\" />\n-      <int name=\"35\" value=\"2290000\" />\n-      <int name=\"36\" value=\"2290001\" />\n-      <int name=\"37\" value=\"2290004\" />\n-      <int name=\"38\" value=\"2290005\" />\n-      <int name=\"39\" value=\"2290024\" />\n-      <int name=\"40\" value=\"2290025\" />\n-      <int name=\"41\" value=\"2290026\" />\n-      <int name=\"42\" value=\"2290027\" />\n-      <int name=\"43\" value=\"2290052\" />\n-      <int name=\"44\" value=\"2290053\" />\n-      <int name=\"45\" value=\"2290054\" />\n-      <int name=\"46\" value=\"2290055\" />\n-      <int name=\"47\" value=\"2290076\" />\n-      <int name=\"48\" value=\"2290077\" />\n-      <int name=\"49\" value=\"2290082\" />\n-      <int name=\"50\" value=\"2290083\" />\n-      <int name=\"51\" value=\"2290097\" />\n-      <int name=\"52\" value=\"2290099\" />\n-      <int name=\"53\" value=\"2290106\" />\n-      <int name=\"54\" value=\"2290108\" />\n-      <int name=\"55\" value=\"2290112\" />\n-      <int name=\"56\" value=\"2290114\" />\n-      <int name=\"57\" value=\"2290122\" />\n-      <int name=\"58\" value=\"2290124\" />\n-      <int name=\"59\" value=\"2290132\" />\n-      <int name=\"60\" value=\"2388020\" />\n-      <int name=\"61\" value=\"4000175\" />\n-      <int name=\"62\" value=\"4001085\" />\n-      <int name=\"63\" value=\"4031253\" />\n-      <int name=\"64\" value=\"4031905\" />\n+      <int name=\"27\" value=\"2040622\" />\n+      <int name=\"28\" value=\"2043113\" />\n+      <int name=\"29\" value=\"2049000\" />\n+      <int name=\"30\" value=\"2280007\" />\n+      <int name=\"31\" value=\"2280008\" />\n+      <int name=\"32\" value=\"2280009\" />\n+      <int name=\"33\" value=\"2280010\" />\n+      <int name=\"34\" value=\"2290000\" />\n+      <int name=\"35\" value=\"2290001\" />\n+      <int name=\"36\" value=\"2290004\" />\n+      <int name=\"37\" value=\"2290005\" />\n+      <int name=\"38\" value=\"2290024\" />\n+      <int name=\"39\" value=\"2290025\" />\n+      <int name=\"40\" value=\"2290026\" />\n+      <int name=\"41\" value=\"2290027\" />\n+      <int name=\"42\" value=\"2290052\" />\n+      <int name=\"43\" value=\"2290053\" />\n+      <int name=\"44\" value=\"2290054\" />\n+      <int name=\"45\" value=\"2290055\" />\n+      <int name=\"46\" value=\"2290076\" />\n+      <int name=\"47\" value=\"2290077\" />\n+      <int name=\"48\" value=\"2290082\" />\n+      <int name=\"49\" value=\"2290083\" />\n+      <int name=\"50\" value=\"2290097\" />\n+      <int name=\"51\" value=\"2290099\" />\n+      <int name=\"52\" value=\"2290106\" />\n+      <int name=\"53\" value=\"2290108\" />\n+      <int name=\"54\" value=\"2290112\" />\n+      <int name=\"55\" value=\"2290114\" />\n+      <int name=\"56\" value=\"2290122\" />\n+      <int name=\"57\" value=\"2290124\" />\n+      <int name=\"58\" value=\"2290132\" />\n+      <int name=\"59\" value=\"2388020\" />\n+      <int name=\"60\" value=\"4000175\" />\n+      <int name=\"61\" value=\"4001085\" />\n+      <int name=\"62\" value=\"4031253\" />\n+      <int name=\"63\" value=\"4031905\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  Unknown\\nForm : Fish\\nSpecial Trait : Vulnerable to Fire Attribute Attacks.\\n\\nA ferocious fish monster that lives in the cave under the ocean. It sticks its head out from a tiny hole in the cave, which is why its size remains a mystery. Some suspect that this monster has not fully come out of the cave because it's stuck, but no evidences support such a rumor. Although it does not move, it is the king of the deep sea that attacks by shooting a laser beam out of its mouth. \" />\n   </imgdir>\n@@ -13800,8 +14064,7 @@\n       <int name=\"91\" value=\"2290090\" />\n       <int name=\"92\" value=\"2290106\" />\n       <int name=\"93\" value=\"2290119\" />\n-      <int name=\"94\" value=\"2388043\" />\n-      <int name=\"95\" value=\"4021010\" />\n+      <int name=\"94\" value=\"4021010\" />\n     </imgdir>\n     <string name=\"episode\" value=\"Level : Lv.180\\nForm : Spirit\\n\\nA monster that has been summoned by a mysterious man named Kirston using the Mirror of the Goddess.  It doesn't seem that Kirston intentionally summoned Pink Bean.  Although Pink Bean is a cute little creature, its power is beyond imagination.  It is a very dangerous monster and should be approached with caution.  One of its amazing powers is that it can revive a dead god.  It seems to be a monster from another world.\" />\n   </imgdir>\n@@ -13957,26 +14220,10 @@\n       <int name=\"1\" value=\"261020200\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"1002215\" />\n-      <int name=\"1\" value=\"1040089\" />\n-      <int name=\"2\" value=\"1050045\" />\n-      <int name=\"3\" value=\"1372007\" />\n-      <int name=\"4\" value=\"2000002\" />\n-      <int name=\"5\" value=\"2000003\" />\n-      <int name=\"6\" value=\"2022430\" />\n-      <int name=\"7\" value=\"2022431\" />\n-      <int name=\"8\" value=\"2022432\" />\n-      <int name=\"9\" value=\"2022433\" />\n-      <int name=\"10\" value=\"2040002\" />\n-      <int name=\"11\" value=\"2044102\" />\n-      <int name=\"12\" value=\"2383007\" />\n-      <int name=\"13\" value=\"4000359\" />\n-      <int name=\"14\" value=\"4004002\" />\n-      <int name=\"15\" value=\"4006001\" />\n-      <int name=\"16\" value=\"4020000\" />\n-      <int name=\"17\" value=\"4020006\" />\n-      <int name=\"18\" value=\"4030012\" />\n-      <int name=\"19\" value=\"4130012\" />\n+      <int name=\"0\" value=\"2022430\" />\n+      <int name=\"1\" value=\"2022431\" />\n+      <int name=\"2\" value=\"2022432\" />\n+      <int name=\"3\" value=\"2022433\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  47\\nForm : Enchanted\\n\\nA Mithril being created by alchemy means... It's constitution, made purely by Mithril, makes it a tough opponent.\" />\n   </imgdir>\n@@ -14313,16 +14560,15 @@\n       <int name=\"21\" value=\"2000001\" />\n       <int name=\"22\" value=\"2000003\" />\n       <int name=\"23\" value=\"2043102\" />\n-      <int name=\"24\" value=\"2043109\" />\n-      <int name=\"25\" value=\"2048000\" />\n-      <int name=\"26\" value=\"2060000\" />\n-      <int name=\"27\" value=\"2061000\" />\n-      <int name=\"28\" value=\"2380014\" />\n-      <int name=\"29\" value=\"4000012\" />\n-      <int name=\"30\" value=\"4010004\" />\n-      <int name=\"31\" value=\"4020002\" />\n-      <int name=\"32\" value=\"4020003\" />\n-      <int name=\"33\" value=\"4032316\" />\n+      <int name=\"24\" value=\"2048000\" />\n+      <int name=\"25\" value=\"2060000\" />\n+      <int name=\"26\" value=\"2061000\" />\n+      <int name=\"27\" value=\"2380014\" />\n+      <int name=\"28\" value=\"4000012\" />\n+      <int name=\"29\" value=\"4010004\" />\n+      <int name=\"30\" value=\"4020002\" />\n+      <int name=\"31\" value=\"4020003\" />\n+      <int name=\"32\" value=\"4032316\" />\n     </imgdir>\n     <string name=\"episode\" value=\"Level : Lv.15\\nType : Plants\\nNotes: Immune to poison-based attacks.\\n\\nA mushroom monster featuring a dirty green cap, and has that sick look on its face as if it's about to throw up any minute.\" />\n   </imgdir>"}, {"sha": "fd5959db404658c2cb18b4e3518c8bb126431dc0", "filename": "wz/String.wz/Skill.img.xml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/String.wz/Skill.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/String.wz/Skill.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/String.wz/Skill.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -10401,7 +10401,7 @@\n   </imgdir>\n   <imgdir name=\"14101004\">\n     <string name=\"name\" value=\"Flash Jump\"/>\n-    <string name=\"desc\" value=\"[Master Level : 20]\\n[Master Level : 20]\\nAllows a second Jump toward the direction which the character was headed when used while the character is in the air. The distance of the Jump increases in accordance with the advancement of the character\u2019s skill level.\"/>\n+    <string name=\"desc\" value=\"[Master Level : 20]\\nAllows a second Jump toward the direction which the character was headed when used while the character is in the air. The distance of the Jump increases in accordance with the advancement of the character\u2019s skill level.\"/>\n     <string name=\"h1\" value=\"MP - 60, Jumps a pre-established distance\"/>\n     <string name=\"h2\" value=\"MP - 57, Jumps a pre-established distance\"/>\n     <string name=\"h3\" value=\"MP - 54, Jumps a pre-established distance\"/>"}, {"sha": "f33be145134afeaa166186029a87f6f68e705445", "filename": "wz/UI.wz/UIWindow.img.xml", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/UI.wz/UIWindow.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/e064d5cbfa27c7f61090574c139a258c857a4d2c/wz/UI.wz/UIWindow.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/UI.wz/UIWindow.img.xml?ref=e064d5cbfa27c7f61090574c139a258c857a4d2c", "patch": "@@ -10194,10 +10194,34 @@\n         <int name=\"delay\" value=\"500\"/>\n         <vector name=\"origin\" x=\"0\" y=\"0\"/>\n       </canvas>\n+      <canvas name=\"9001000\" width=\"25\" height=\"25\">\n+        <int name=\"delay\" value=\"500\"/>\n+        <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+      </canvas>\n+      <canvas name=\"9001001\" width=\"25\" height=\"25\">\n+        <int name=\"delay\" value=\"500\"/>\n+        <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+      </canvas>\n+      <canvas name=\"9001002\" width=\"25\" height=\"25\">\n+        <int name=\"delay\" value=\"500\"/>\n+        <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+      </canvas>\n+      <canvas name=\"9001003\" width=\"25\" height=\"25\">\n+        <int name=\"delay\" value=\"500\"/>\n+        <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+      </canvas>\n+      <canvas name=\"9001008\" width=\"25\" height=\"25\">\n+        <int name=\"delay\" value=\"500\"/>\n+        <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+      </canvas>\n       <canvas name=\"2220000\" width=\"25\" height=\"25\">\n         <int name=\"delay\" value=\"500\"/>\n         <vector name=\"origin\" x=\"0\" y=\"0\"/>\n       </canvas>\n+      <canvas name=\"9001004\" width=\"25\" height=\"25\">\n+        <int name=\"delay\" value=\"500\"/>\n+        <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+      </canvas>\n     </imgdir>\n     <imgdir name=\"Gage\">\n       <imgdir name=\"1\">"}]}]},
