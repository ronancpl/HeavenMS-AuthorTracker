{"fetchDate": "2019-12-19", "content": [{"sha": "6628e3db5409c65414891adb05e7bac5d519d443", "node_id": "MDY6Q29tbWl0NDUwODIwMjM6NjYyOGUzZGI1NDA5YzY1NDE0ODkxYWRiMDVlN2JhYzVkNTE5ZDQ0Mw==", "commit": {"author": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2017-08-23T21:01:17Z"}, "committer": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2017-08-23T21:01:17Z"}, "message": "Experimental DB pool + fixed stat overflow on equips\n\nImplemented EXPERIMENTAL DBCP (connection pool), trying to improve\nconcorrent access to DB. Added door portals on Kerning Square. Fixed\nequipments getting stat overflow when upgrading stats. Fixed expiring\npets crashing the client in some cases.", "tree": {"sha": "7998f5d9fc8f663a5eff15d144ee20ac449cfd5b", "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/trees/7998f5d9fc8f663a5eff15d144ee20ac449cfd5b"}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/commits/6628e3db5409c65414891adb05e7bac5d519d443", "comment_count": 1, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/6628e3db5409c65414891adb05e7bac5d519d443", "html_url": "https://github.com/ronancpl/HeavenMS/commit/6628e3db5409c65414891adb05e7bac5d519d443", "comments_url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/6628e3db5409c65414891adb05e7bac5d519d443/comments", "author": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "36db21bf80ee1f7e80e36ff04b4d8785c28fb984", "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/36db21bf80ee1f7e80e36ff04b4d8785c28fb984", "html_url": "https://github.com/ronancpl/HeavenMS/commit/36db21bf80ee1f7e80e36ff04b4d8785c28fb984"}], "stats": {"total": 20444, "additions": 18263, "deletions": 2181}, "files": [{"sha": "baf6fadbd1f011cc138c6b83231e93c20f7dff27", "filename": "README.txt", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/README.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/README.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/README.txt?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -86,12 +86,9 @@ The client's set-up is quite straightforward:\n \t- Extract into the client folder the \"localhost.exe\" from Localhostv83.\n \t- Overwrite the original WZ files with the ones provided from \"client_wz\" folder on the Google Drive.\n \n-If you are not using \"localhost\" as the target IP on the server's config file, you will need to HEX-EDIT \"localhost.exe\" to fetch your IP. The \"localhost.exe\" uses the following byte addresses to store the server's IP address:\n-\t- 006FE084;\n-\t- 006FE094;\n-\t- 006FE0A4;\n+If you are not using \"localhost\" as the target IP on the server's config file, you will need to HEX-EDIT \"localhost.exe\" to fetch your IP. Track down all IP locations by searching for \"Text String\" \"127.0.0.1\", and applying the changes wherever it fits.\n \n-To hex-edit, install the Neo Hex Editor from \"free-hex-editor-neo.exe\" and follow their instructions. Once done, open \"localhost.exe\" for editing and overwrite the IP values under these 3 addresses. Save the changes and exit the editor.\n+To hex-edit, install the Neo Hex Editor from \"free-hex-editor-neo.exe\" and follow their instructions. Once done, open \"localhost.exe\" for editing and overwrite the IP values under the 3 addresses. Save the changes and exit the editor.\n \n Open the \"localhost.exe\" client. If by any means the program did not open, and checking que server log your ping has been listened and you are using Windows 8 or 10, it probably might be some compatibility issue. Extract \"lolwut.exe\" from \"lolwut-v0.01.rar\" and place it on the MapleStory client folder (\"C:\\Nexon\\MapleStory\"). Your \"localhost.exe\" property settings must follow these:\n \t- Run in compatibility mode: Windows 7;\n@@ -101,8 +98,6 @@ Open the \"localhost.exe\" client. If by any means the program did not open, and c\n \t- Run as an administrator;\n \t- Opening \"lolwut.exe\", use Fraysa's method.\n \n-Alternatively, there is available the No-Damage Cap version of the MapleStory client. Just extract and use the \"localhost.exe\" from the one package with the given name.\n-\n Important: should the client being refused to connect to the game server, it may be because firewall issues. Head to the end of this file to proceed to enabling this connection with the computer's firewall. Alternatively, one can deactivate the firewall and try opening the client again.\n \n ---- Important note about CLIENT EDITING ----"}, {"sha": "f40fdfc8747a82bd59259e3f0da4f3bc696efeec", "filename": "build/built-jar.properties", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/built-jar.properties", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/built-jar.properties", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/built-jar.properties?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -1,4 +1,4 @@\n-#Fri, 18 Aug 2017 19:17:13 -0300\n+#Wed, 23 Aug 2017 17:38:01 -0300\n \n \n C\\:\\\\Nexon\\\\MapleSolaxia\\\\MapleSolaxiaV2="}, {"sha": "b8f880dfe52612cc2aa60e8ce14e58728fd9f121", "filename": "build/classes/client/BuddyList$BuddyAddResult.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/BuddyList$BuddyAddResult.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/BuddyList$BuddyAddResult.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/BuddyList$BuddyAddResult.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "1c494be7bafa1157c5a567220e732c979b888c41", "filename": "build/classes/client/BuddyList$BuddyOperation.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/BuddyList$BuddyOperation.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/BuddyList$BuddyOperation.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/BuddyList$BuddyOperation.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "b14d0d741e184b225cef9b2ca4c05d83bd1492f7", "filename": "build/classes/client/BuddyList.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/BuddyList.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/BuddyList.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/BuddyList.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "8a04954114375093db37c74996ff59fd890755c4", "filename": "build/classes/client/MapleCharacter$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$1.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "b59676cd6cb71e884d2de17ec6eee453bf64d551", "filename": "build/classes/client/MapleCharacter$10.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$10.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$10.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$10.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "cf86405a35c7f71cc73813b64c905665bfa4429c", "filename": "build/classes/client/MapleCharacter$11.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$11.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$11.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$11.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "e47f162478a99cf085c1a8fdf8e195dbf574aafe", "filename": "build/classes/client/MapleCharacter$12.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$12.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$12.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$12.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "5bcad92ca55bd80f81681a2d1c9e85ed67d10605", "filename": "build/classes/client/MapleCharacter$13.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$13.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$13.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$13.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "ee94bbe99530cb982fc1b37c3ba501f496145055", "filename": "build/classes/client/MapleCharacter$14.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$14.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$14.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$14.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "834acdfdece953b621705684b42bc21dd4c4bfee", "filename": "build/classes/client/MapleCharacter$15.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$15.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$15.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$15.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "2689fe7571034e2dbaf7b0ab2360abd607789c75", "filename": "build/classes/client/MapleCharacter$16.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$16.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$16.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$16.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "4d569bc8084087d06a4a1dfe93d9aa01c8cbcfaa", "filename": "build/classes/client/MapleCharacter$17.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$17.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$17.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$17.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "7cdba832b355568fe7c8788105e5f39f90b58891", "filename": "build/classes/client/MapleCharacter$18.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$18.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$18.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$18.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "7efe5ee4cc440440ef0a08634761a2ed92c54c77", "filename": "build/classes/client/MapleCharacter$19.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$19.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$19.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$19.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "a56e5b0c1f72b5ae8a88d2dfec50bc5ce92bc253", "filename": "build/classes/client/MapleCharacter$2.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$2.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$2.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$2.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "7dfb29abe75b350fae9a42d6e2a82604ca7b7a55", "filename": "build/classes/client/MapleCharacter$20.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$20.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$20.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$20.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "667bdc97b2ac6fbaa94346c3df82674e94957a75", "filename": "build/classes/client/MapleCharacter$3.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$3.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$3.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$3.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "fb8f243c1b904dbfe090a01dd379e5768163e09d", "filename": "build/classes/client/MapleCharacter$4.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$4.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$4.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$4.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "671aa574efc037070f2572a06ea267d39697852c", "filename": "build/classes/client/MapleCharacter$5.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$5.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$5.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$5.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "0c0ce343254725e6f81cb62c491a0ffae9f7cebf", "filename": "build/classes/client/MapleCharacter$6.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$6.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$6.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$6.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "5154e2edcac51756b0073f86a090767204ebf829", "filename": "build/classes/client/MapleCharacter$7.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$7.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$7.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$7.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "bd0963363903788a7917fe07fa626fdc9679bad2", "filename": "build/classes/client/MapleCharacter$8.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$8.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$8.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$8.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "b1e800c73a505efd6ed69ea545b8a249078ceb6d", "filename": "build/classes/client/MapleCharacter$9.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$9.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$9.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$9.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "3bba687849c68dfc71e64f7d06cd1ffec66664b7", "filename": "build/classes/client/MapleCharacter$CancelCooldownAction.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$CancelCooldownAction.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$CancelCooldownAction.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$CancelCooldownAction.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "0f2c458f65d39b8ff05dade5feed54513a5f8533", "filename": "build/classes/client/MapleCharacter$FameStatus.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$FameStatus.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$FameStatus.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$FameStatus.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "350cd71520d2674b6cfc01978f0ea05580c02c03", "filename": "build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "bffdc5eeb5318fde3804ac11ea0a20d07b7c8633", "filename": "build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "3060f46d0305da8ad61dd6f8e065f55c3a4a1186", "filename": "build/classes/client/MapleCharacter$SkillEntry.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$SkillEntry.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter$SkillEntry.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$SkillEntry.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "795f923135d67864fe49098e08adc138e6124360", "filename": "build/classes/client/MapleCharacter.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleCharacter.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "03d0bf1476a9f270993b38fac4d681b495763b9b", "filename": "build/classes/client/MapleClient$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleClient$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleClient$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleClient$1.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "32e714b0e5882ec926ab7c78b8fb7e94436dc362", "filename": "build/classes/client/MapleClient$CharNameAndId.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleClient$CharNameAndId.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleClient$CharNameAndId.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleClient$CharNameAndId.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "f840cd254f5655d08b840e2ada1e5b09363b4392", "filename": "build/classes/client/MapleClient.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleClient.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleClient.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleClient.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "c18debadfbdb569e9a2dd80c308c0359ce59bbaa", "filename": "build/classes/client/MapleFamily.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleFamily.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleFamily.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleFamily.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "35565f184c0372e3e459fca4e441ea035133a103", "filename": "build/classes/client/MapleRing.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleRing.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MapleRing.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleRing.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "643c23d0eeef84112bbc5326038999d348c06c57", "filename": "build/classes/client/MonsterBook.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MonsterBook.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/MonsterBook.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MonsterBook.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "4fc14fd5d07f3636c298add4d619d5c880c63172", "filename": "build/classes/client/command/Commands$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/command/Commands$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/command/Commands$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/command/Commands$1.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "4badeecabf3cc196e98dc751776545096cd6b1b9", "filename": "build/classes/client/command/Commands.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/command/Commands.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/command/Commands.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/command/Commands.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "c94d34c57606a1fe20e2a1cdd3cd4efab76483cb", "filename": "build/classes/client/inventory/ItemFactory.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/inventory/ItemFactory.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/inventory/ItemFactory.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/inventory/ItemFactory.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "066db5de3d0cd2c330d7d1c80b6cb6ca52035caa", "filename": "build/classes/client/inventory/MapleInventory.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/inventory/MapleInventory.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/inventory/MapleInventory.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/inventory/MapleInventory.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "a620cb41d3210729feb8de7a74601546047ee730", "filename": "build/classes/client/inventory/MaplePet.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/inventory/MaplePet.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/client/inventory/MaplePet.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/inventory/MaplePet.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "0bd1db21544d5a7982ba72347a612ce78cc0bba3", "filename": "build/classes/constants/ItemConstants.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/constants/ItemConstants.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/constants/ItemConstants.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/constants/ItemConstants.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "e95e0769ad8d66e3d789fc835b8fae11936e8715", "filename": "build/classes/constants/ServerConstants.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/constants/ServerConstants.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/constants/ServerConstants.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/constants/ServerConstants.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "e0745771b834ccc1222688569809103a4986c3ec", "filename": "build/classes/net/server/RankingWorker.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/RankingWorker.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/RankingWorker.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/RankingWorker.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "1e0c1568869b7389b254bc2b630363c693da55d3", "filename": "build/classes/net/server/Server$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/Server$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/Server$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/Server$1.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "9616deba4ebac64a5a7159a52ba5b578fad47e12", "filename": "build/classes/net/server/Server.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/Server.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/Server.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/Server.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "314ce3baeee3c775ae213f9a39e294dced46449a", "filename": "build/classes/net/server/channel/handlers/BBSOperationHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/BBSOperationHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/BBSOperationHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/BBSOperationHandler.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "d6540d23e148d6f50f73576cfae89a844fdf1a86", "filename": "build/classes/net/server/channel/handlers/BuddylistModifyHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/BuddylistModifyHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/BuddylistModifyHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/BuddylistModifyHandler.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "cfeb18bc5bb1c47e9cfe8a9f60a0ac8ed63daa8e", "filename": "build/classes/net/server/channel/handlers/CouponCodeHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/CouponCodeHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/CouponCodeHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/CouponCodeHandler.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "4ad392c372e481800734f39562e8718900a5add3", "filename": "build/classes/net/server/channel/handlers/DueyHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/DueyHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/DueyHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/DueyHandler.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "a6bb2845b27e70ce531f7f12072443e9a376f54a", "filename": "build/classes/net/server/channel/handlers/EnterMTSHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/EnterMTSHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/EnterMTSHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/EnterMTSHandler.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "73b7ec0f82f2cd81218490b3298a8003b6a5307d", "filename": "build/classes/net/server/channel/handlers/FredrickHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/FredrickHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/FredrickHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/FredrickHandler.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "0a7a5679e4018f24990c8f02f33d597803a61ca4", "filename": "build/classes/net/server/channel/handlers/MTSHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/MTSHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/MTSHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/MTSHandler.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "209dce0ed84c0123ac8e76a328bcea49716cc610", "filename": "build/classes/net/server/channel/handlers/NoteActionHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/NoteActionHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/NoteActionHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/NoteActionHandler.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "a2dda463c3976f9f423ecc79c445301c79d9f3e7", "filename": "build/classes/net/server/channel/handlers/PlayerLoggedinHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/PlayerLoggedinHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/PlayerLoggedinHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/PlayerLoggedinHandler.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "cdac6acf26b69ba0c227d5963c750af1c233a2b6", "filename": "build/classes/net/server/channel/handlers/ReportHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/ReportHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/ReportHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/ReportHandler.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "bafa90d34a63afdbb9c6e99d1854327d8cdb8b75", "filename": "build/classes/net/server/channel/handlers/RingActionHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/RingActionHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/RingActionHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/RingActionHandler.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "1da72f6522bae6bd27573ee640d1848279e505f5", "filename": "build/classes/net/server/channel/handlers/ScrollHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/ScrollHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/ScrollHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/ScrollHandler.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "ce7ffa202c3733552bc9a03800f29b46bf2cf797", "filename": "build/classes/net/server/channel/handlers/SpawnPetHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/SpawnPetHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/SpawnPetHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/SpawnPetHandler.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "ce4121609c2b369b178ed21898ebff78db929db6", "filename": "build/classes/net/server/channel/handlers/UseItemHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/UseItemHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/UseItemHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/UseItemHandler.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "e7d2a198b18c8e3f37bf03d8279987eee0a4a3a8", "filename": "build/classes/net/server/channel/handlers/WhisperHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/WhisperHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/channel/handlers/WhisperHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/WhisperHandler.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "6f98eb2b784173ca388507ac61ed6e3c06f3340d", "filename": "build/classes/net/server/guild/MapleAlliance.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/guild/MapleAlliance.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/guild/MapleAlliance.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/guild/MapleAlliance.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "463fab59ef1eee2ece5f18a42dfb9cc5f9b898e1", "filename": "build/classes/net/server/guild/MapleGuild.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/guild/MapleGuild.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/guild/MapleGuild.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/guild/MapleGuild.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "91c6f73d93f7fdba3bc1d7ef6fdcdc81402c8daa", "filename": "build/classes/net/server/handlers/login/ViewCharHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/handlers/login/ViewCharHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/handlers/login/ViewCharHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/handlers/login/ViewCharHandler.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "26812bbc329709e93c47adbbb0318e870e4cb4e0", "filename": "build/classes/net/server/world/World$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/world/World$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/world/World$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/world/World$1.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "7c1bd5d4fdf8c405e3c32506fcf0576378cd213f", "filename": "build/classes/net/server/world/World.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/world/World.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/net/server/world/World.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/world/World.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "94af2a9164d2f3349a4b43de8225fa1cf26ce825", "filename": "build/classes/scripting/AbstractPlayerInteraction.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/scripting/AbstractPlayerInteraction.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/scripting/AbstractPlayerInteraction.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/scripting/AbstractPlayerInteraction.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "2d548d205b99e07ab19d1a162a67661d718cf248", "filename": "build/classes/scripting/event/EventInstanceManager$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/scripting/event/EventInstanceManager$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/scripting/event/EventInstanceManager$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/scripting/event/EventInstanceManager$1.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "0e92885d803c6778d0e9edf1e3a61414e01ae65d", "filename": "build/classes/scripting/event/EventInstanceManager$2.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/scripting/event/EventInstanceManager$2.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/scripting/event/EventInstanceManager$2.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/scripting/event/EventInstanceManager$2.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "3379773f99646d56e0e2d11776505facb0c62d87", "filename": "build/classes/scripting/event/EventInstanceManager$3.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/scripting/event/EventInstanceManager$3.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/scripting/event/EventInstanceManager$3.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/scripting/event/EventInstanceManager$3.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "3eff11e8db6584617e3fc0b0744060cff4d9975e", "filename": "build/classes/scripting/event/EventInstanceManager.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/scripting/event/EventInstanceManager.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/scripting/event/EventInstanceManager.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/scripting/event/EventInstanceManager.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "abd41666e6e16381ba8ad808ad88638aea6cc73f", "filename": "build/classes/scripting/portal/PortalPlayerInteraction.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/scripting/portal/PortalPlayerInteraction.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/scripting/portal/PortalPlayerInteraction.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/scripting/portal/PortalPlayerInteraction.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "7da92e2daa857da0037716a8957d2a48c081dc57", "filename": "build/classes/scripting/reactor/ReactorScriptManager.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/scripting/reactor/ReactorScriptManager.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/scripting/reactor/ReactorScriptManager.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/scripting/reactor/ReactorScriptManager.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "d63e6359f0a7ee5233bb0bec4c4842eb49504761", "filename": "build/classes/server/CashShop$CashItemFactory.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/CashShop$CashItemFactory.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/CashShop$CashItemFactory.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/CashShop$CashItemFactory.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "978ab0c668955d29dcdea55812a4bdc9f1b1e99d", "filename": "build/classes/server/CashShop.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/CashShop.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/CashShop.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/CashShop.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "9e8d530e98a7716b6ecd16792a07b191830a8e46", "filename": "build/classes/server/MakerItemFactory$MakerItemCreateEntry.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/MakerItemFactory$MakerItemCreateEntry.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/MakerItemFactory$MakerItemCreateEntry.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MakerItemFactory$MakerItemCreateEntry.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "96c2da239c7865f1bade50b01bf79ec133441545", "filename": "build/classes/server/MakerItemFactory.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/MakerItemFactory.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/MakerItemFactory.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MakerItemFactory.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "cb45b48a6d07324278e2f07b94395e53a8924cc1", "filename": "build/classes/server/MapleItemInformationProvider$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/MapleItemInformationProvider$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/MapleItemInformationProvider$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleItemInformationProvider$1.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "e98508805f679980564723468dc4df133acd4889", "filename": "build/classes/server/MapleItemInformationProvider$RewardItem.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/MapleItemInformationProvider$RewardItem.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/MapleItemInformationProvider$RewardItem.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleItemInformationProvider$RewardItem.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "5dafa5ea1374fc8511ddaef95ca15129cc21932b", "filename": "build/classes/server/MapleItemInformationProvider$scriptedItem.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/MapleItemInformationProvider$scriptedItem.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/MapleItemInformationProvider$scriptedItem.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleItemInformationProvider$scriptedItem.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "c746ba12f45664b62be60ddab48bbbf4eb4a4e48", "filename": "build/classes/server/MapleItemInformationProvider.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/MapleItemInformationProvider.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/MapleItemInformationProvider.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleItemInformationProvider.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "2317422a103eaa77b1e0f09e90f5382b8b50cf34", "filename": "build/classes/server/MapleShop.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/MapleShop.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/MapleShop.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleShop.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "6be26693a1e4bf127cefc3db78bec22c0769fd5e", "filename": "build/classes/server/MapleStorage$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/MapleStorage$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/MapleStorage$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleStorage$1.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "9c0d792019b43f1c60f53eabc7ee1cd5fc03a33e", "filename": "build/classes/server/MapleStorage.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/MapleStorage.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/MapleStorage.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleStorage.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "2ac13296f36bb0d17b85b449bbbd7a2780f880dd", "filename": "build/classes/server/life/MapleMonsterInformationProvider.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/life/MapleMonsterInformationProvider.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/life/MapleMonsterInformationProvider.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/life/MapleMonsterInformationProvider.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "b0763fb4cd0256136a61d6df7fad41eb6c88fe95", "filename": "build/classes/server/maps/HiredMerchant$SoldItem.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/maps/HiredMerchant$SoldItem.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/maps/HiredMerchant$SoldItem.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/HiredMerchant$SoldItem.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "e8e60ba2912dc8422b27073f0a21cd1612d6dd31", "filename": "build/classes/server/maps/HiredMerchant.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/maps/HiredMerchant.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/maps/HiredMerchant.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/HiredMerchant.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "cad0c6c51e4ea112130c413e84c65c57702c2720", "filename": "build/classes/server/maps/MapleMap.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/maps/MapleMap.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/maps/MapleMap.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "fef6d11f630f74d2012743bc72b4db1cdf0bcdca", "filename": "build/classes/server/maps/MapleMapFactory.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/maps/MapleMapFactory.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/maps/MapleMapFactory.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMapFactory.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "90ebb80282485d98a08e337750033bd6f79c515f", "filename": "build/classes/server/maps/PlayerNPCs.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/maps/PlayerNPCs.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/maps/PlayerNPCs.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/PlayerNPCs.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "22b30aedc0ef746c691adb0c87f7c777c1be45b8", "filename": "build/classes/server/partyquest/MonsterCarnival.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/partyquest/MonsterCarnival.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/partyquest/MonsterCarnival.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/partyquest/MonsterCarnival.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "8b9994c09cd7c820fff537346bd7b687c048ab80", "filename": "build/classes/server/quest/MapleQuest$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/quest/MapleQuest$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/quest/MapleQuest$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/quest/MapleQuest$1.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "fa5261cb6bbf28943674c7e3c606141bbc8d70e4", "filename": "build/classes/server/quest/MapleQuest.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/quest/MapleQuest.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/quest/MapleQuest.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/quest/MapleQuest.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "b9bf58e1a80c5900554ac3e3031ee4799ca35089", "filename": "build/classes/server/quest/MapleQuestRequirementType.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/quest/MapleQuestRequirementType.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/quest/MapleQuestRequirementType.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/quest/MapleQuestRequirementType.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "553d26576c81bcf16aac21e3e57a81bf1d979f2d", "filename": "build/classes/server/quest/requirements/MesoRequirement.class", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/quest/requirements/MesoRequirement.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/server/quest/requirements/MesoRequirement.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/quest/requirements/MesoRequirement.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "833f132974743b9aaaae373d5c47ad10146a4b4f", "filename": "build/classes/tools/DatabaseConnection$1.class", "status": "removed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/36db21bf80ee1f7e80e36ff04b4d8785c28fb984/build/classes/tools/DatabaseConnection$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/36db21bf80ee1f7e80e36ff04b4d8785c28fb984/build/classes/tools/DatabaseConnection$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/tools/DatabaseConnection$1.class?ref=36db21bf80ee1f7e80e36ff04b4d8785c28fb984"}, {"sha": "7a188390587e4d9066fb7a6b570dfd0d09f4df78", "filename": "build/classes/tools/DatabaseConnection$ThreadLocalConnection.class", "status": "removed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/36db21bf80ee1f7e80e36ff04b4d8785c28fb984/build/classes/tools/DatabaseConnection$ThreadLocalConnection.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/36db21bf80ee1f7e80e36ff04b4d8785c28fb984/build/classes/tools/DatabaseConnection$ThreadLocalConnection.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/tools/DatabaseConnection$ThreadLocalConnection.class?ref=36db21bf80ee1f7e80e36ff04b4d8785c28fb984"}, {"sha": "42ec1c9e250de664b432ec22631d03f2ee8f8155", "filename": "build/classes/tools/DatabaseConnection.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/tools/DatabaseConnection.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/tools/DatabaseConnection.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/tools/DatabaseConnection.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "bf10881eaf65a622fdc2bf43dcee8cbb36c1ba73", "filename": "build/classes/tools/MaplePacketCreator$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/tools/MaplePacketCreator$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/tools/MaplePacketCreator$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/tools/MaplePacketCreator$1.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "1d30e30bd995a7bf72894b3fd7e83e2edefeadfc", "filename": "build/classes/tools/MaplePacketCreator$2.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/tools/MaplePacketCreator$2.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/tools/MaplePacketCreator$2.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/tools/MaplePacketCreator$2.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "86bcbb35c2efadbd20b8806447db78c110bfc137", "filename": "build/classes/tools/MaplePacketCreator.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/tools/MaplePacketCreator.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/build/classes/tools/MaplePacketCreator.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/tools/MaplePacketCreator.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "674f3676381c28c82e8aded21e2937cd1335130c", "filename": "cores/commons-dbcp2-2.1.1.jar", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/cores/commons-dbcp2-2.1.1.jar", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/cores/commons-dbcp2-2.1.1.jar", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/cores/commons-dbcp2-2.1.1.jar?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "fdf8b6faafa2fdbbc8fc6e24595c623232abaec6", "filename": "cores/commons-pool2-2.4.2.jar", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/cores/commons-pool2-2.4.2.jar", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/cores/commons-pool2-2.4.2.jar", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/cores/commons-pool2-2.4.2.jar?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "279355d04ab3d2852a9e57910e5c1b7b9510ff1f", "filename": "dist/MapleSolaxia.jar", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/dist/MapleSolaxia.jar", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/dist/MapleSolaxia.jar", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/dist/MapleSolaxia.jar?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "674f3676381c28c82e8aded21e2937cd1335130c", "filename": "dist/lib/commons-dbcp2-2.1.1.jar", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/dist/lib/commons-dbcp2-2.1.1.jar", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/dist/lib/commons-dbcp2-2.1.1.jar", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/dist/lib/commons-dbcp2-2.1.1.jar?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "fdf8b6faafa2fdbbc8fc6e24595c623232abaec6", "filename": "dist/lib/commons-pool2-2.4.2.jar", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/dist/lib/commons-pool2-2.4.2.jar", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/dist/lib/commons-pool2-2.4.2.jar", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/dist/lib/commons-pool2-2.4.2.jar?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "61c1e761562b0dffdc367b11bfbbfd53098d5afe", "filename": "docs/mychanges_ptbr.txt", "status": "modified", "additions": 12, "deletions": 1, "changes": 13, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/docs/mychanges_ptbr.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/docs/mychanges_ptbr.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mychanges_ptbr.txt?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -464,4 +464,15 @@ Consertado comandos de hair e face.\n 18 Agosto 2017,\n Consertado skill Dispel n\ufffdo aparecendo efeito aos outros jogadores.\n Atualizados alguns scripts de viagens transferindo jogadores a pontos aleatorios nas chegadas.\n-Atualizado relatorio de drop data no monster book.\n\\ No newline at end of file\n+Atualizado relatorio de drop data no monster book.\n+\n+20 - 22 Agosto 2017,\n+Refatoradas algumas refer\ufffdncias de identifica\ufffd\ufffdo de itens, quando constantes, para ser realizados pelo classe est\ufffdtica ItemConstants ao inv\ufffds da classe MapleItemInformationProvider.\n+Adicionados door portals em Kerning City Square.\n+Refatorado acesso ao DB. Conex\ufffdes agora podem ser lan\ufffdadas em paralelo, com um limite m\ufffdximo de conex\ufffdes. Excedente espera at\ufffd que um fique livre.\n+Adicionado MESO como quest RequirementType. Quests agora podem checar por meso de um jogador.\n+Mais drop data e HPBar em bosses.\n+\n+23 Agosto 2017,\n+Consertado problema com overflow ao scrollar equips resultando em equips com stats negativos.\n+Consertado pets n\ufffdo expirando corretamente (possivelmente crashando o cliente se no meio do jogo).\n\\ No newline at end of file"}, {"sha": "225067fe6077ee25a6eb8fe8a1074e94e0f305f2", "filename": "docs/todo.txt", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/docs/todo.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/docs/todo.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/todo.txt?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -37,6 +37,7 @@ ToDo / Missing features list:\n \n ---------------------------\n ** Skills **\n+- Some pirate skills incomplete or not implemented yet.\n ---------------------------\n \n "}, {"sha": "8123295f7cb476da69706024800200a836daaf69", "filename": "nbproject/private/private.xml", "status": "modified", "additions": 21, "deletions": 4, "changes": 25, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/nbproject/private/private.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/nbproject/private/private.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/nbproject/private/private.xml?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -3,11 +3,28 @@\n     <editor-bookmarks xmlns=\"http://www.netbeans.org/ns/editor-bookmarks/2\" lastBookmarkId=\"1\"/>\n     <open-files xmlns=\"http://www.netbeans.org/ns/projectui-open-files/2\">\n         <group>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/event/PinkBeanBattle.js</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/maps/MapleMap.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/inventory/MaplePet.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/command/Commands.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/inventory/Item.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/PacketProcessor.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/scripting/AbstractPlayerInteraction.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/constants/ServerConstants.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/channel/handlers/SpawnPetHandler.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/quest/2230.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/MapleItemInformationProvider.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/tools/MaplePacketCreator.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/inventory/MapleInventory.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/inventory/Equip.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/channel/handlers/ItemRewardHandler.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/channel/handlers/ItemMoveHandler.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/NPC%20Base.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/tools/Randomizer.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/MapleRing.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/MapleQuestStatus.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/scripting/event/EventInstanceManager.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/MapleInventoryManipulator.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/scripting/npc/NPCConversationManager.java</file>\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/MapleCharacter.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/life/MapleLifeFactory.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/life/MapleMonster.java</file>\n         </group>\n     </open-files>\n </project-private>"}, {"sha": "51265dab7494665092b554d39a7405817f70edd7", "filename": "nbproject/project.properties", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/nbproject/project.properties", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/nbproject/project.properties", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/nbproject/project.properties?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -28,6 +28,8 @@ dist.jar=${dist.dir}/MapleSolaxia.jar\n dist.javadoc.dir=${dist.dir}/javadoc\n endorsed.classpath=\n excludes=\n+file.reference.commons-dbcp2-2.1.1.jar=cores/commons-dbcp2-2.1.1.jar\n+file.reference.commons-pool2-2.4.2.jar=cores/commons-pool2-2.4.2.jar\n file.reference.MapleSolaxia-src=src\n file.reference.mina-core-2.0.7.jar=C:\\\\Users\\\\Tyler\\\\Desktop\\\\MoopleDev\\\\dist\\\\mina-core-2.0.7.jar\n file.reference.mysql-connector-java-bin.jar=C:\\\\Users\\\\Tyler\\\\Desktop\\\\MoopleDev\\\\dist\\\\mysql-connector-java-bin.jar\n@@ -41,7 +43,9 @@ javac.classpath=\\\n     ${file.reference.mina-core-2.0.7.jar}:\\\n     ${file.reference.mysql-connector-java-bin.jar}:\\\n     ${file.reference.slf4j-api-1.6.6.jar}:\\\n-    ${file.reference.slf4j-jdk14-1.7.5.jar}\n+    ${file.reference.slf4j-jdk14-1.7.5.jar}:\\\n+    ${file.reference.commons-dbcp2-2.1.1.jar}:\\\n+    ${file.reference.commons-pool2-2.4.2.jar}\n # Space-separated list of extra javac options\n javac.compilerargs=\n javac.deprecation=false"}, {"sha": "bd91cda971d565ff58659772e3bb63fa003486d7", "filename": "scripts/npc/2111025.js", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/scripts/npc/2111025.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/scripts/npc/2111025.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2111025.js?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -0,0 +1,29 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+/*\n+\tControl Device\n+ */\n+\n+function start() {\n+    cm.sendNext (\"This control device seems to be monitoring something...\");\n+    cm.dispose();\n+}\n\\ No newline at end of file"}, {"sha": "a3b8356f8bdce5be8a03305fc6855ea9cdeac333", "filename": "scripts/npc/2111026.js", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/scripts/npc/2111026.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/scripts/npc/2111026.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2111026.js?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -0,0 +1,29 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+/*\n+\tIncomplete Magic Square\n+ */\n+\n+function start() {\n+    cm.sendNext (\"This chalkboard has some hard-founded studies annotated on it...\");\n+    cm.dispose();\n+}\n\\ No newline at end of file"}, {"sha": "6e218669a5a606613540ade055754b34b0bef678", "filename": "scripts/npc/9000020.js", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/scripts/npc/9000020.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/scripts/npc/9000020.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9000020.js?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -47,9 +47,9 @@ function action(mode, type, selection) {\n             }\n         } else if (status == 2) {\n             var map = cm.getPlayer().getSavedLocation(\"WORLDTOUR\");\n-            if (map == undefined)\n-                map = 104000000;\n-            cm.warp(map, parseInt(Math.random() * 5));\n+            if (map == undefined) map = 104000000;\n+            \n+            cm.warp(map);\n             cm.dispose();\n         }\n     } else {\n@@ -69,7 +69,7 @@ function action(mode, type, selection) {\n         } else if (status == 4) {\n             cm.gainMeso(-3000);\n             cm.getPlayer().saveLocation(\"WORLDTOUR\");\n-            cm.warp(800000000);\n+            cm.warp(800000000, 0);\n             cm.dispose();\n         }\n     }"}, {"sha": "ff8baffe1efca49e25918c82d92d18fed761692d", "filename": "scripts/quest/2230.js", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/scripts/quest/2230.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/scripts/quest/2230.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/quest/2230.js?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -53,10 +53,16 @@ function end(mode, type, selection) {\n     if (mode == -1) {\n         qm.dispose();\n     } else {\n+        if (mode == 0 && type > 0) {\n+            qm.dispose();\n+            return;\n+        }\n+        \n         if (mode == 1)\n             status++;\n         else\n             status--;\n+        \n         if (status == 0)\n             qm.sendSimple(\"Hello, traveler... You have finally come to see me. Have you fulfilled your duties? \\r\\n #b#L0#What duties? Who are you?#l#k\");\n         else if (selection == 0 && status == 1) {\n@@ -70,7 +76,7 @@ function end(mode, type, selection) {\n         } else if (status == 5) {\n             qm.sendYesNo(\"Now do you understand? Every action comes with consequences, and pets are no exception. The egg of the snail shall hatch soon.\");\n         } else if (status == 6) {\n-            qm.gainItem(5000054, 1, false, true, 5 * 60 * 60 * 1000);  // rune snail (5hrs)\n+            qm.gainItem(5000054, 1, false, true, 5 * 1000);  // rune snail (5hrs)\n             \n             qm.gainItem(4032086, -1); // Mysterious Egg * -1\n             qm.forceCompleteQuest();"}, {"sha": "f587678cea4ae04641e67590df63befc222c3014", "filename": "sql/db_drops.sql", "status": "modified", "additions": 45, "deletions": 8, "changes": 53, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/sql/db_drops.sql", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/sql/db_drops.sql", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/sql/db_drops.sql?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -1566,7 +1566,7 @@ USE `maplesolaxia`;\n (2230103, 4000097, 1, 1, 0, 200000), \n (2230103, 4030016, 1, 1, 0, 10000), \n (2230103, 4030012, 1, 1, 0, 10000), \n-(2230103, 4031072, 1, 1, 0, 7000), \n+(2230103, 4031072, 1, 1, 9004, 7000), \n (2230103, 4131000, 1, 1, 0, 3000), \n (2230103, 2000000, 1, 1, 0, 40000), \n (2230103, 2000001, 1, 1, 0, 40000), \n@@ -19705,7 +19705,48 @@ USE `maplesolaxia`;\n (6090003, 0, 600, 800, 0, 400000),\n (6090004, 0, 1000, 1100, 0, 400000),\n (5090000, 0, 800, 920, 0, 400000),\n-(5090001, 0, 1700, 1750, 0, 400000);\n+(5090001, 0, 1700, 1750, 0, 400000),\n+\n+(7090000, 1402015, 1, 1, 0, 8500),\n+(7090000, 1092016, 1, 1, 0, 8500),\n+(7090000, 1382039, 1, 1, 0, 8500),\n+(7090000, 1051054, 1, 1, 0, 8500),\n+(7090000, 1452014, 1, 1, 0, 8500),\n+(7090000, 1082107, 1, 1, 0, 8500),\n+(7090000, 1472027, 1, 1, 0, 8500),\n+(7090000, 1041102, 1, 1, 0, 8500),\n+(7090000, 1492022, 1, 1, 0, 8500),\n+(7090000, 1072309, 1, 1, 0, 8500),\n+(7090000, 1032020, 1, 1, 0, 8500),\n+(7090000, 1102023, 1, 1, 0, 8500),\n+(7090000, 2041014, 1, 1, 0, 4500),\n+(7090000, 2040519, 1, 1, 0, 4500),\n+(7090000, 2044601, 1, 1, 0, 4500),\n+(7090000, 2044705, 1, 1, 0, 4500),\n+(7090000, 2044809, 1, 1, 0, 4500),\n+(7090000, 2022130, 1, 1, 0, 200000),\n+(7090000, 2022191, 1, 1, 0, 200000),\n+(7090000, 0, 800, 920, 0, 400000),\n+(8090000, 1040104, 1, 1, 0, 8500),\n+(8090000, 1412009, 1, 1, 0, 8500),\n+(8090000, 1072207, 1, 1, 0, 8500),\n+(8090000, 1382008, 1, 1, 0, 8500),\n+(8090000, 1050077, 1, 1, 0, 8500),\n+(8090000, 1462012, 1, 1, 0, 8500),\n+(8090000, 1002327, 1, 1, 0, 8500),\n+(8090000, 1332023, 1, 1, 0, 8500),\n+(8090000, 1082210, 1, 1, 0, 8500),\n+(8090000, 1482011, 1, 1, 0, 8500),\n+(8090000, 1032020, 1, 1, 0, 8500),\n+(8090000, 1102023, 1, 1, 0, 8500),\n+(8090000, 2041014, 1, 1, 0, 4500),\n+(8090000, 2040519, 1, 1, 0, 4500),\n+(8090000, 2044601, 1, 1, 0, 4500),\n+(8090000, 2044705, 1, 1, 0, 4500),\n+(8090000, 2044809, 1, 1, 0, 4500),\n+(8090000, 2022130, 1, 1, 0, 200000),\n+(8090000, 2022191, 1, 1, 0, 200000),\n+(8090000, 0, 1000, 1100, 0, 400000);\n \n # (dropperid, itemid, minqty, maxqty, questid, chance)\n \n@@ -19722,11 +19763,6 @@ USE `maplesolaxia`;\n   FROM    temp_data\n   WHERE   temp_data.dropperid = 8820001;\n \n-  INSERT INTO temp_data (dropperid, itemid, minqty, maxqty, questid, chance)\n-  SELECT dropperid, itemid, minqty, maxqty, questid, chance\n-  FROM table1\n-  WHERE condition;\n-\n   # reinsert other Freezer's data\n   INSERT IGNORE INTO temp_data (`dropperid`, `itemid`, `minimum_quantity`, `maximum_quantity`, `questid`, `chance`) VALUES\n (9420501, 0, 92, 138, 0, 400000),\n@@ -20667,7 +20703,8 @@ USE `maplesolaxia`;\n     (9102001, 2010004, 2, -1),\n     (9102001, 2020000, 2, -1),\n     (9102001, 2020001, 2, -1),\n-    (9102001, 2020002, 2, -1);\n+    (9102001, 2020002, 2, -1),\n+    (2002018, 4161014, 1, 3099);\n \n   # updates info for all cards on monster book\n   DROP TABLE `monstercarddata`;"}, {"sha": "c2e3dc0a117ab1e5099f13f34faf2304e795ffea", "filename": "src/client/BuddyList.java", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/client/BuddyList.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/client/BuddyList.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/BuddyList.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -23,6 +23,7 @@\n \n import java.sql.PreparedStatement;\n import java.sql.ResultSet;\n+import java.sql.Connection;\n import java.sql.SQLException;\n import java.util.Collection;\n import java.util.Deque;\n@@ -109,7 +110,9 @@ public boolean isFull() {\n \n     public void loadFromDb(int characterId) {\n         try {\n-            PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT b.buddyid, b.pending, b.group, c.name as buddyname FROM buddies as b, characters as c WHERE c.id = b.buddyid AND b.characterid = ?\");\n+            Connection con = DatabaseConnection.getConnection();\n+            \n+            PreparedStatement ps = con.prepareStatement(\"SELECT b.buddyid, b.pending, b.group, c.name as buddyname FROM buddies as b, characters as c WHERE c.id = b.buddyid AND b.characterid = ?\");\n             ps.setInt(1, characterId);\n             ResultSet rs = ps.executeQuery();\n             while (rs.next()) {\n@@ -121,10 +124,11 @@ public void loadFromDb(int characterId) {\n             }\n             rs.close();\n             ps.close();\n-            ps = DatabaseConnection.getConnection().prepareStatement(\"DELETE FROM buddies WHERE pending = 1 AND characterid = ?\");\n+            ps = con.prepareStatement(\"DELETE FROM buddies WHERE pending = 1 AND characterid = ?\");\n             ps.setInt(1, characterId);\n             ps.executeUpdate();\n             ps.close();\n+            con.close();\n         } catch (SQLException ex) {\n             ex.printStackTrace();\n         }"}, {"sha": "a2e92291ea13c045cf92ce60d2216218ba1cb294", "filename": "src/client/MapleCharacter.java", "status": "modified", "additions": 108, "deletions": 46, "changes": 154, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/client/MapleCharacter.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/client/MapleCharacter.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleCharacter.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -622,17 +622,20 @@ public void ban(String reason) {\n                 ps.setInt(2, accountid);\n                 ps.executeUpdate();\n             }\n-        } catch (Exception e) {\n+            con.close();\n+        } catch (SQLException e) {\n             e.printStackTrace();\n         }\n \n     }\n \n     public static boolean ban(String id, String reason, boolean accountId) {\n         PreparedStatement ps = null;\n-\t\tResultSet rs = null;\n+        ResultSet rs = null;\n+        Connection con = null;\n         try {\n-            Connection con = DatabaseConnection.getConnection();\n+            con = DatabaseConnection.getConnection();\n+            \n             if (id.matches(\"/[0-9]{1,3}\\\\..*\")) {\n                 ps = con.prepareStatement(\"INSERT INTO ipbans VALUES (DEFAULT, ?)\");\n                 ps.setString(1, id);\n@@ -649,16 +652,22 @@ public static boolean ban(String id, String reason, boolean accountId) {\n             boolean ret = false;\n             ps.setString(1, id);\n             rs = ps.executeQuery();\n-\t\t\tif (rs.next()) {\n-\t\t\t\ttry (PreparedStatement psb = DatabaseConnection.getConnection().prepareStatement(\"UPDATE accounts SET banned = 1, banreason = ? WHERE id = ?\")) {\n-\t\t\t\t\tpsb.setString(1, reason);\n-\t\t\t\t\tpsb.setInt(2, rs.getInt(1));\n-\t\t\t\t\tpsb.executeUpdate();\n-\t\t\t\t}\n-\t\t\t\tret = true;\n-            }\n-\t\t\trs.close();\n+            if (rs.next()) {\n+                    Connection con2 = DatabaseConnection.getConnection();\n+\n+                    try (PreparedStatement psb = con2.prepareStatement(\"UPDATE accounts SET banned = 1, banreason = ? WHERE id = ?\")) {\n+                            psb.setString(1, reason);\n+                            psb.setInt(2, rs.getInt(1));\n+                            psb.executeUpdate();\n+                    } finally {\n+                        con2.close();\n+                    }\n+                    ret = true;\n+            }\n+                        \n+            rs.close();\n             ps.close();\n+            con.close();\n             return ret;\n         } catch (SQLException ex) {\n             ex.printStackTrace();\n@@ -670,6 +679,9 @@ public static boolean ban(String id, String reason, boolean accountId) {\n \t\tif (rs != null && !rs.isClosed()) {\n                     rs.close();\n                 }\n+                if (con != null && !con.isClosed()) {\n+                    con.close();\n+                }\n             } catch (SQLException e) {\n                 e.printStackTrace();\n             }\n@@ -1395,6 +1407,8 @@ public void changeSkillLevel(Skill skill, byte newLevel, int newMasterlevel, lon\n                     ps.setInt(1, skill.getId());\n                     ps.setInt(2, id);\n                     ps.execute();\n+                } finally {\n+                    con.close();\n                 }\n             } catch (SQLException ex) {\n                 ex.printStackTrace();\n@@ -1464,10 +1478,10 @@ private static boolean useItem(final MapleClient c, final int id) {\n         if (id / 1000000 == 2) {\n             MapleItemInformationProvider ii = MapleItemInformationProvider.getInstance();\n             if (ii.isConsumeOnPickup(id)) {\n-                if (ii.isPartyItem(id)) {\n+                if (ItemConstants.isPartyItem(id)) {\n                     List<MapleCharacter> pchr = c.getPlayer().getPartyMembersOnSameMap();\n                     \n-                    if(!ii.isPartyAllcure(id)) {\n+                    if(!ItemConstants.isPartyAllcure(id)) {\n                         if(!pchr.isEmpty()) {\n                             for (MapleCharacter mc : pchr) {\n                                 ii.getItemEffect(id).applyTo(mc);\n@@ -1663,6 +1677,8 @@ public void deleteGuild(int guildId) {\n             try (PreparedStatement ps = con.prepareStatement(\"DELETE FROM guilds WHERE guildid = ?\")) {\n                 ps.setInt(1, id);\n                 ps.execute();\n+            } finally {\n+                con.close();\n             }\n         } catch (SQLException ex) {\n             ex.printStackTrace();\n@@ -1697,8 +1713,10 @@ public void deleteBuddy(int otherCid) {\n     public static boolean deleteCharFromDB(MapleCharacter player) {\n             int cid = player.getId(), accId = -1, world = 0;\n             \n-            Connection con = DatabaseConnection.getConnection();\n+            Connection con = null;\n             try {\n+                    con = DatabaseConnection.getConnection();\n+                    \n                     try (PreparedStatement ps = con.prepareStatement(\"SELECT accountid, world FROM characters WHERE id = ?\")) {\n                             ps.setInt(1, cid);\n \n@@ -2297,7 +2315,6 @@ public void expirationTask() {\n             expiretask = TimerManager.getInstance().register(new Runnable() {\n                 @Override\n                 public void run() {\n-                    MapleItemInformationProvider miip = MapleItemInformationProvider.getInstance();\n                     boolean deletedCoupon = false;\n                     \n                     long expiration, currenttime = System.currentTimeMillis();\n@@ -2323,12 +2340,13 @@ public void run() {\n                             } else if (expiration != -1 && expiration < currenttime) {\n                                 client.announce(MaplePacketCreator.itemExpired(item.getItemId()));\n                                 toberemove.add(item);\n-                                if(miip.isRateCoupon(item.getItemId())) {\n+                                if(ItemConstants.isRateCoupon(item.getItemId())) {\n                                     deletedCoupon = true;\n                                 }\n                             }\n                         }\n                         for (Item item : toberemove) {\n+                            if(item.getPetId() > -1) unequipPet(getPet(getPetIndex(item.getPetId())), true);\n                             MapleInventoryManipulator.removeFromSlot(client, inv.getType(), item.getPosition(), item.getQuantity(), true);\n                         }\n                         toberemove.clear();\n@@ -2532,7 +2550,9 @@ public BuddyList getBuddylist() {\n         Map<String, String> character = new LinkedHashMap<>();\n \n         try {\n-            try (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT `id`, `accountid`, `name` FROM `characters` WHERE `name` = ?\")) {\n+            Connection con = DatabaseConnection.getConnection();\n+            \n+            try (PreparedStatement ps = con.prepareStatement(\"SELECT `id`, `accountid`, `name` FROM `characters` WHERE `name` = ?\")) {\n                 ps.setString(1, name);\n                 try (ResultSet rs = ps.executeQuery()) {\n                     if (!rs.next()) {\n@@ -2545,6 +2565,8 @@ public BuddyList getBuddylist() {\n                         character.put(rs.getMetaData().getColumnLabel(i), rs.getString(i));\n                     }\n                 }\n+            } finally {\n+                con.close();\n             }\n         } catch (SQLException sqle) {\n             sqle.printStackTrace();\n@@ -2855,7 +2877,9 @@ public int getId() {\n     public static int getAccountIdByName(String name) {\n         try {\n             int id;\n-            try (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT accountid FROM characters WHERE name = ?\")) {\n+            Connection con = DatabaseConnection.getConnection();\n+            \n+            try (PreparedStatement ps = con.prepareStatement(\"SELECT accountid FROM characters WHERE name = ?\")) {\n                 ps.setString(1, name);\n                 try (ResultSet rs = ps.executeQuery()) {\n                     if (!rs.next()) {\n@@ -2865,6 +2889,8 @@ public static int getAccountIdByName(String name) {\n                     }\n                     id = rs.getInt(\"accountid\");\n                 }\n+            } finally {\n+                con.close();\n             }\n             return id;\n         } catch (Exception e) {\n@@ -2876,7 +2902,8 @@ public static int getAccountIdByName(String name) {\n     public static int getIdByName(String name) {\n         try {\n             int id;\n-            try (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT id FROM characters WHERE name = ?\")) {\n+            Connection con = DatabaseConnection.getConnection();\n+            try (PreparedStatement ps = con.prepareStatement(\"SELECT id FROM characters WHERE name = ?\")) {\n                 ps.setString(1, name);\n                 try (ResultSet rs = ps.executeQuery()) {\n                     if (!rs.next()) {\n@@ -2886,6 +2913,8 @@ public static int getIdByName(String name) {\n                     }\n                     id = rs.getInt(\"id\");\n                 }\n+            } finally {\n+                con.close();\n             }\n             return id;\n         } catch (Exception e) {\n@@ -2897,7 +2926,8 @@ public static int getIdByName(String name) {\n     public static String getNameById(int id) {\n         try {\n             String name;\n-            try (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT name FROM characters WHERE id = ?\")) {\n+            Connection con = DatabaseConnection.getConnection();\n+            try (PreparedStatement ps = con.prepareStatement(\"SELECT name FROM characters WHERE id = ?\")) {\n                 ps.setInt(1, id);\n                 try (ResultSet rs = ps.executeQuery()) {\n                     if (!rs.next()) {\n@@ -2907,6 +2937,8 @@ public static String getNameById(int id) {\n                     }\n                     name = rs.getString(\"name\");\n                 }\n+            } finally {\n+                con.close();\n             }\n             return name;\n         } catch (Exception e) {\n@@ -3715,11 +3747,15 @@ public void hasGivenFame(MapleCharacter to) {\n         lastfametime = System.currentTimeMillis();\n         lastmonthfameids.add(Integer.valueOf(to.getId()));\n         try {\n-            try (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"INSERT INTO famelog (characterid, characterid_to) VALUES (?, ?)\")) {\n+            Connection con = DatabaseConnection.getConnection();\n+            try (PreparedStatement ps = con.prepareStatement(\"INSERT INTO famelog (characterid, characterid_to) VALUES (?, ?)\")) {\n                 ps.setInt(1, getId());\n                 ps.setInt(2, to.getId());\n                 ps.executeUpdate();\n             }\n+            finally {\n+                con.close();\n+            }\n         } catch (SQLException e) {\n             e.printStackTrace();\n         }\n@@ -3794,7 +3830,7 @@ public boolean isAran() {\n     }\n \n     public boolean isBeginnerJob() {\n-        return (getJob().getId() == 0 || getJob().getId() == 1000 || getJob().getId() == 2000) && getLevel() < 11;\n+        return (getJob().getId() == 0 || getJob().getId() == 1000 || getJob().getId() == 2000);\n     }\n \n     public boolean isGM() {\n@@ -3832,7 +3868,7 @@ public void levelUp(boolean takeexp) {\n         int improvingMaxHPLevel = 0;\n         int improvingMaxMPLevel = 0;\n \n-        if (isBeginnerJob()) {\n+        if (isBeginnerJob() && getLevel() < 11) {\n             remainingAp = 0;\n             if (getLevel() < 6) {\n                 str += 5;\n@@ -3904,9 +3940,9 @@ public void levelUp(boolean takeexp) {\n         if (level == 200) {\n             exp.set(0);\n         }\n-        hp = maxhp;\n-        mp = maxmp;\n         recalcLocalStats();\n+        hp = localmaxhp;\n+        mp = localmaxmp;\n         List<Pair<MapleStat, Integer>> statup = new ArrayList<>(10);\n         statup.add(new Pair<>(MapleStat.AVAILABLEAP, remainingAp));\n         statup.add(new Pair<>(MapleStat.HP, localmaxhp));\n@@ -4116,10 +4152,6 @@ public void resetPlayerRates() {\n         dropCoupon = 1;\n     }\n     \n-    private boolean isExpCoupon(int couponId) {\n-        return couponId / 1000 == 5211;\n-    }\n-    \n     private int getCouponMultiplier(int couponId) {\n         return activeCouponRates.get(couponId);\n     }\n@@ -4152,7 +4184,7 @@ private void activateCouponsEffects() {\n                 int couponQty = coupon.getValue();\n \n                 commitBuffCoupon(couponId);\n-                if(isExpCoupon(couponId)) setExpCouponRate(couponId, couponQty);\n+                if(ItemConstants.isExpCoupon(couponId)) setExpCouponRate(couponId, couponQty);\n                 else setDropCouponRate(couponId, couponQty);\n             }\n         }\n@@ -4162,7 +4194,7 @@ private void activateCouponsEffects() {\n             for(Entry<Integer,Integer> coupon: activeCoupons.entrySet()) {\n                 int couponId = coupon.getKey();\n \n-                if(isExpCoupon(couponId)) {\n+                if(ItemConstants.isExpCoupon(couponId)) {\n                     if(maxExpRate < getCouponMultiplier(couponId)) {\n                         maxExpCouponId = couponId;\n                         maxExpRate = getCouponMultiplier(couponId);\n@@ -4199,7 +4231,7 @@ private void setActiveCoupons() {\n             List<Integer> active = Server.getInstance().getActiveCoupons();\n \n             for(Item it: this.getInventory(MapleInventoryType.CASH).list()) {\n-                if(MapleItemInformationProvider.getInstance().isRateCoupon(it.getItemId()) && active.contains(it.getItemId())) {\n+                if(ItemConstants.isRateCoupon(it.getItemId()) && active.contains(it.getItemId())) {\n                     Integer count = activeCoupons.get(it.getItemId());\n \n                     if(count != null) activeCoupons.put(it.getItemId(), count + 1);\n@@ -4231,10 +4263,8 @@ public void dispelBuffCoupons() {\n             chrLock.unlock();\n         }\n         \n-        MapleItemInformationProvider ii = MapleItemInformationProvider.getInstance();\n-        \n         for (MapleBuffStatValueHolder mbsvh : allBuffs) {\n-            if (ii.isRateCoupon(mbsvh.effect.getSourceId())) {\n+            if (ItemConstants.isRateCoupon(mbsvh.effect.getSourceId())) {\n                 cancelEffect(mbsvh.effect, false, mbsvh.startTime);\n             }\n         }\n@@ -4249,6 +4279,7 @@ public static MapleCharacter loadCharFromDB(int charid, MapleClient client, bool\n             MapleCharacter ret = new MapleCharacter();\n             ret.client = client;\n             ret.id = charid;\n+            \n             Connection con = DatabaseConnection.getConnection();\n             PreparedStatement ps = con.prepareStatement(\"SELECT * FROM characters WHERE id = ?\");\n             ps.setInt(1, charid);\n@@ -4570,6 +4601,7 @@ public static MapleCharacter loadCharFromDB(int charid, MapleClient client, bool\n             ret.maplemount.setTiredness(mounttiredness);\n             ret.maplemount.setActive(false);\n             \n+            con.close();\n             return ret;\n         } catch (SQLException | RuntimeException e) {\n             e.printStackTrace();\n@@ -4723,6 +4755,7 @@ public void playerNPC(MapleCharacter v, int scriptId) {\n             }\n             ps.close();\n             rs.close();\n+            con.close();\n         } catch (SQLException e) {\n             e.printStackTrace();\n         }\n@@ -5183,6 +5216,8 @@ public synchronized void saveCooldowns() {\n                     }\n                     ps.executeBatch();\n                 }\n+                \n+                con.close();\n             } catch (SQLException se) {\n                 se.printStackTrace();\n             }\n@@ -5191,13 +5226,16 @@ public synchronized void saveCooldowns() {\n \n     public void saveGuildStatus() {\n         try {\n-            try (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"UPDATE characters SET guildid = ?, guildrank = ?, allianceRank = ? WHERE id = ?\")) {\n+            Connection con = DatabaseConnection.getConnection();\n+            try (PreparedStatement ps = con.prepareStatement(\"UPDATE characters SET guildid = ?, guildrank = ?, allianceRank = ? WHERE id = ?\")) {\n                 ps.setInt(1, guildid);\n                 ps.setInt(2, guildRank);\n                 ps.setInt(3, allianceRank);\n                 ps.setInt(4, id);\n                 ps.executeUpdate();\n             }\n+            \n+            con.close();\n         } catch (SQLException se) {\n             se.printStackTrace();\n         }\n@@ -5209,13 +5247,15 @@ public void saveLocation(String type) {\n     }\n \n     public final boolean insertNewChar() {\n-        final Connection con = DatabaseConnection.getConnection();\n+        Connection con = null;\n         PreparedStatement ps = null;\n \n         try {\n+            con = DatabaseConnection.getConnection();\n+            \n             con.setTransactionIsolation(Connection.TRANSACTION_READ_UNCOMMITTED);\n             con.setAutoCommit(false);\n-            ps = con.prepareStatement(\"INSERT INTO characters (str, dex, luk, `int`, gm, skincolor, gender, job, hair, face, map, meso, spawnpoint, accountid, name, world) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\", DatabaseConnection.RETURN_GENERATED_KEYS);\n+            ps = con.prepareStatement(\"INSERT INTO characters (str, dex, luk, `int`, gm, skincolor, gender, job, hair, face, map, meso, spawnpoint, accountid, name, world) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\", Statement.RETURN_GENERATED_KEYS);\n             ps.setInt(1, 12);\n             ps.setInt(2, 5);\n             ps.setInt(3, 4);\n@@ -5303,6 +5343,7 @@ public final boolean insertNewChar() {\n                 }\n                 con.setAutoCommit(true);\n                 con.setTransactionIsolation(Connection.TRANSACTION_REPEATABLE_READ);\n+                con.close();\n             } catch (SQLException e) {\n                 e.printStackTrace();\n             }\n@@ -5313,8 +5354,9 @@ public final boolean insertNewChar() {\n     public synchronized void saveToDB() {\n         Calendar c = Calendar.getInstance();\n         FilePrinter.print(FilePrinter.SAVING_CHARACTER, \"Attempting to save \" + name + \" at \" + c.getTime().toString());\n-        Connection con = DatabaseConnection.getConnection();\n+        Connection con = null;\n         try {\n+            con = DatabaseConnection.getConnection();\n             con.setTransactionIsolation(Connection.TRANSACTION_READ_UNCOMMITTED);\n             con.setAutoCommit(false);\n             PreparedStatement ps;\n@@ -5585,6 +5627,7 @@ public synchronized void saveToDB() {\n             try {\n                 con.setAutoCommit(true);\n                 con.setTransactionIsolation(Connection.TRANSACTION_REPEATABLE_READ);\n+                con.close();\n             } catch (Exception e) {\n                 e.printStackTrace();\n             }\n@@ -5632,13 +5675,16 @@ public void sendMacros() {\n     }\n \n     public void sendNote(String to, String msg, byte fame) throws SQLException {\n-        try (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"INSERT INTO notes (`to`, `from`, `message`, `timestamp`, `fame`) VALUES (?, ?, ?, ?, ?)\", Statement.RETURN_GENERATED_KEYS)) {\n+        Connection con = DatabaseConnection.getConnection();\n+        try (PreparedStatement ps = con.prepareStatement(\"INSERT INTO notes (`to`, `from`, `message`, `timestamp`, `fame`) VALUES (?, ?, ?, ?, ?)\", Statement.RETURN_GENERATED_KEYS)) {\n             ps.setString(1, to);\n             ps.setString(2, this.getName());\n             ps.setString(3, msg);\n             ps.setLong(4, System.currentTimeMillis());\n             ps.setByte(5, fame);\n             ps.executeUpdate();\n+        } finally {\n+            con.close();\n         }\n     }\n \n@@ -5759,11 +5805,15 @@ public void setHair(int hair) {\n \n     public void setHasMerchant(boolean set) {\n         try {\n-            try (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"UPDATE characters SET HasMerchant = ? WHERE id = ?\")) {\n+            Connection con = DatabaseConnection.getConnection();\n+            \n+            try (PreparedStatement ps = con.prepareStatement(\"UPDATE characters SET HasMerchant = ? WHERE id = ?\")) {\n                 ps.setInt(1, set ? 1 : 0);\n                 ps.setInt(2, id);\n                 ps.executeUpdate();\n             }\n+            \n+            con.close();\n         } catch (SQLException e) {\n             e.printStackTrace();\n         }\n@@ -5772,11 +5822,14 @@ public void setHasMerchant(boolean set) {\n \n     public void addMerchantMesos(int add) {\n         try {\n-            try (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"UPDATE characters SET MerchantMesos = ? WHERE id = ?\", Statement.RETURN_GENERATED_KEYS)) {\n+            Connection con = DatabaseConnection.getConnection();\n+            try (PreparedStatement ps = con.prepareStatement(\"UPDATE characters SET MerchantMesos = ? WHERE id = ?\", Statement.RETURN_GENERATED_KEYS)) {\n                 ps.setInt(1, merchantmeso + add);\n                 ps.setInt(2, id);\n                 ps.executeUpdate();\n             }\n+            \n+            con.close();\n         } catch (SQLException e) {\n             e.printStackTrace();\n             return;\n@@ -5786,11 +5839,13 @@ public void addMerchantMesos(int add) {\n \n     public void setMerchantMeso(int set) {\n         try {\n-            try (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"UPDATE characters SET MerchantMesos = ? WHERE id = ?\", Statement.RETURN_GENERATED_KEYS)) {\n+            Connection con = DatabaseConnection.getConnection();\n+            try (PreparedStatement ps = con.prepareStatement(\"UPDATE characters SET MerchantMesos = ? WHERE id = ?\", Statement.RETURN_GENERATED_KEYS)) {\n                 ps.setInt(1, set);\n                 ps.setInt(2, id);\n                 ps.executeUpdate();\n             }\n+            con.close();\n         } catch (SQLException e) {\n             e.printStackTrace();\n             return;\n@@ -5969,11 +6024,13 @@ public void setName(String name) {\n     public void changeName(String name) {\n         this.name = name;\n         try {\n-            PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"UPDATE `characters` SET `name` = ? WHERE `id` = ?\");\n+            Connection con = DatabaseConnection.getConnection();\n+            PreparedStatement ps = con.prepareStatement(\"UPDATE `characters` SET `name` = ? WHERE `id` = ?\");\n             ps.setString(1, name);\n             ps.setInt(2, id);\n             ps.executeUpdate();\n             ps.close();\n+            con.close();\n         } catch (SQLException e) {\n             e.printStackTrace();\n         }\n@@ -6157,7 +6214,8 @@ public void timeoutFromDojo() {\n \n     public void showNote() {\n         try {\n-            try (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT * FROM notes WHERE `to`=? AND `deleted` = 0\", ResultSet.TYPE_SCROLL_SENSITIVE, ResultSet.CONCUR_UPDATABLE)) {\n+            Connection con = DatabaseConnection.getConnection();\n+            try (PreparedStatement ps = con.prepareStatement(\"SELECT * FROM notes WHERE `to`=? AND `deleted` = 0\", ResultSet.TYPE_SCROLL_SENSITIVE, ResultSet.CONCUR_UPDATABLE)) {\n                 ps.setString(1, this.getName());\n                 try (ResultSet rs = ps.executeQuery()) {\n                     rs.last();\n@@ -6166,6 +6224,8 @@ public void showNote() {\n                     client.announce(MaplePacketCreator.showNotes(rs, count));\n                 }\n             }\n+            \n+            con.close();\n         } catch (SQLException e) {\n             e.printStackTrace();\n         }\n@@ -6522,6 +6582,8 @@ public void block(int reason, int days, String desc) {\n                 ps.setInt(3, reason);\n                 ps.setInt(4, accountid);\n                 ps.executeUpdate();\n+            } finally {\n+                con.close();\n             }\n         } catch (SQLException e) {\n             e.printStackTrace();"}, {"sha": "7794531aec91a1c07cea998467b59dd01ff3a06a", "filename": "src/client/MapleClient.java", "status": "modified", "additions": 108, "deletions": 30, "changes": 138, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/client/MapleClient.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/client/MapleClient.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleClient.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -180,7 +180,8 @@ public void sendCharList(int server) {\n \t\tPreparedStatement ps;\n \t\tList<CharNameAndId> chars = new ArrayList<>(15);\n \t\ttry {\n-\t\t\tps = DatabaseConnection.getConnection().prepareStatement(\"SELECT id, name FROM characters WHERE accountid = ? AND world = ?\");\n+                        Connection con = DatabaseConnection.getConnection();\n+\t\t\tps = con.prepareStatement(\"SELECT id, name FROM characters WHERE accountid = ? AND world = ?\");\n \t\t\tps.setInt(1, this.getAccID());\n \t\t\tps.setInt(2, serverId);\n \t\t\ttry (ResultSet rs = ps.executeQuery()) {\n@@ -189,6 +190,7 @@ public void sendCharList(int server) {\n \t\t\t\t}\n \t\t\t}\n \t\t\tps.close();\n+                        con.close();\n \t\t} catch (SQLException e) {\n \t\t\te.printStackTrace();\n \t\t}\n@@ -202,7 +204,8 @@ public boolean isLoggedIn() {\n \tpublic boolean hasBannedIP() {\n \t\tboolean ret = false;\n \t\ttry {\n-\t\t\ttry (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT COUNT(*) FROM ipbans WHERE ? LIKE CONCAT(ip, '%')\")) {\n+                        Connection con = DatabaseConnection.getConnection();\n+\t\t\ttry (PreparedStatement ps = con.prepareStatement(\"SELECT COUNT(*) FROM ipbans WHERE ? LIKE CONCAT(ip, '%')\")) {\n \t\t\t\tps.setString(1, session.getRemoteAddress().toString());\n \t\t\t\ttry (ResultSet rs = ps.executeQuery()) {\n \t\t\t\t\trs.next();\n@@ -211,6 +214,7 @@ public boolean hasBannedIP() {\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n+                        con.close();\n \t\t} catch (SQLException e) {\n                     e.printStackTrace();\n \t\t}\n@@ -222,7 +226,8 @@ public int getVoteTime(){\n \t\t\treturn voteTime;\n \t\t}\n \t\ttry {\n-\t\t\ttry (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT date FROM bit_votingrecords WHERE UPPER(account) = UPPER(?)\")) {\n+                        Connection con = DatabaseConnection.getConnection();\n+\t\t\ttry (PreparedStatement ps = con.prepareStatement(\"SELECT date FROM bit_votingrecords WHERE UPPER(account) = UPPER(?)\")) {\n \t\t\t\tps.setString(1, accountName);\n \t\t\t\ttry (ResultSet rs = ps.executeQuery()) {\n \t\t\t\t\tif (!rs.next()) {\n@@ -231,6 +236,7 @@ public int getVoteTime(){\n \t\t\t\t\tvoteTime = rs.getInt(\"date\");\n \t\t\t\t}\n \t\t\t}\n+                        con.close();\n \t\t} catch (SQLException e) {\n \t\t\tFilePrinter.printError(\"hasVotedAlready.txt\", e);\n \t\t\treturn -1;\n@@ -255,8 +261,10 @@ public boolean hasBannedHWID() {\n \t\t\n \t\tboolean ret = false;\n \t\tPreparedStatement ps = null;\n+                Connection con = null;\n \t\ttry {\n-\t\t\tps = DatabaseConnection.getConnection().prepareStatement(\"SELECT COUNT(*) FROM hwidbans WHERE hwid LIKE ?\");\n+                        con = DatabaseConnection.getConnection();\n+\t\t\tps = con.prepareStatement(\"SELECT COUNT(*) FROM hwidbans WHERE hwid LIKE ?\");\n \t\t\tps.setString(1, hwid);\n \t\t\tResultSet rs = ps.executeQuery();\n \t\t\tif(rs != null && rs.next()) {\n@@ -270,6 +278,10 @@ public boolean hasBannedHWID() {\n \t\t\t\tif(ps != null && !ps.isClosed()) {\n \t\t\t\t\tps.close();\n \t\t\t\t}\n+                                \n+                                if(con != null && !con.isClosed()) {\n+\t\t\t\t\tcon.close();\n+\t\t\t\t}\n \t\t\t} catch (SQLException e){\n                             e.printStackTrace();\n \t\t\t}\n@@ -293,7 +305,9 @@ public boolean hasBannedMac() {\n \t\t\t\t}\n \t\t\t}\n \t\t\tsql.append(\")\");\n-\t\t\ttry (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(sql.toString())) {\n+                        \n+                        Connection con = DatabaseConnection.getConnection();\n+\t\t\ttry (PreparedStatement ps = con.prepareStatement(sql.toString())) {\n \t\t\t\ti = 0;\n \t\t\t\tfor (String mac : macs) {\n \t\t\t\t\ti++;\n@@ -305,7 +319,9 @@ public boolean hasBannedMac() {\n \t\t\t\t\t\tret = true;\n \t\t\t\t\t}\n \t\t\t\t}\n-\t\t\t}\n+\t\t\t} finally {\n+                                con.close();\n+                        }\n \t\t} catch (Exception e) {\n                     e.printStackTrace();\n \t\t}\n@@ -314,21 +330,25 @@ public boolean hasBannedMac() {\n \t\n \tprivate void loadHWIDIfNescessary() throws SQLException {\n \t\tif(hwid == null) {\n-\t\t\ttry(PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT hwid FROM accounts WHERE id = ?\")) {\n+                        Connection con = DatabaseConnection.getConnection();\n+\t\t\ttry(PreparedStatement ps = con.prepareStatement(\"SELECT hwid FROM accounts WHERE id = ?\")) {\n \t\t\t\tps.setInt(1, accId);\n \t\t\t\ttry(ResultSet rs = ps.executeQuery()) {\n \t\t\t\t\tif(rs.next()) {\n \t\t\t\t\t\thwid = rs.getString(\"hwid\");\n \t\t\t\t\t}\n \t\t\t\t}\n-\t\t\t}\n+\t\t\t} finally {\n+                                con.close();\n+                        }\n \t\t}\n \t}\n \n \t// TODO: Recode to close statements...\n \tprivate void loadMacsIfNescessary() throws SQLException {\n \t\tif (macs.isEmpty()) {\n-\t\t\ttry (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT macs FROM accounts WHERE id = ?\")) {\n+                        Connection con = DatabaseConnection.getConnection();\n+\t\t\ttry (PreparedStatement ps = con.prepareStatement(\"SELECT macs FROM accounts WHERE id = ?\")) {\n \t\t\t\tps.setInt(1, accId);\n \t\t\t\ttry (ResultSet rs = ps.executeQuery()) {\n \t\t\t\t\tif (rs.next()) {\n@@ -339,34 +359,44 @@ private void loadMacsIfNescessary() throws SQLException {\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t}\n-\t\t\t}\n+\t\t\t} finally {\n+                                con.close();\n+                        }\n \t\t}\n \t}\n \t\n \tpublic void banHWID() {\n-\t\tConnection con = DatabaseConnection.getConnection();\n \t\tPreparedStatement ps = null;\n+                Connection con = null;\n \t\ttry {\n \t\t\tloadHWIDIfNescessary();\n+                        \n+                        con = DatabaseConnection.getConnection();\n \t\t\tps = con.prepareStatement(\"INSERT INTO hwidbans (hwid) VALUES (?)\");\n \t\t\tps.setString(1, hwid);\n \t\t\tps.executeUpdate();\n \t\t} catch (SQLException e) {\n \t\t\te.printStackTrace();\n \t\t} finally {\n \t\t\ttry {\n-\t\t\t\tif(ps != null && !ps.isClosed())\n+\t\t\t\tif(ps != null && !ps.isClosed()) {\n \t\t\t\t\tps.close();\n+                                }\n+                                if(con != null && !con.isClosed()) {\n+\t\t\t\t\tcon.close();\n+                                }\n \t\t\t} catch (SQLException e) {\n                             e.printStackTrace();\n \t\t\t}\n \t\t}\n \t}\n \n \tpublic void banMacs() {\n-\t\tConnection con = DatabaseConnection.getConnection();\n+\t\tConnection con = null;\n \t\ttry {\n \t\t\tloadMacsIfNescessary();\n+                        \n+                        con = DatabaseConnection.getConnection();\n \t\t\tList<String> filtered = new LinkedList<>();\n \t\t\ttry (PreparedStatement ps = con.prepareStatement(\"SELECT filter FROM macfilters\"); ResultSet rs = ps.executeQuery()) {\n \t\t\t\twhile (rs.next()) {\n@@ -389,6 +419,8 @@ public void banMacs() {\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n+                        \n+                        con.close();\n \t\t} catch (SQLException e) {\n                     e.printStackTrace();\n \t\t}\n@@ -408,11 +440,14 @@ public int finishLogin() {\n \tpublic void setPin(String pin) {\n \t\tthis.pin = pin;\n \t\ttry {\n-\t\t\ttry (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"UPDATE accounts SET pin = ? WHERE id = ?\")) {\n+                        Connection con = DatabaseConnection.getConnection();\n+\t\t\ttry (PreparedStatement ps = con.prepareStatement(\"UPDATE accounts SET pin = ? WHERE id = ?\")) {\n \t\t\t\tps.setString(1, pin);\n \t\t\t\tps.setInt(2, accId);\n \t\t\t\tps.executeUpdate();\n-\t\t\t}\n+\t\t\t} finally {\n+                                con.close();\n+                        }\n \t\t} catch (SQLException e) {\n                     e.printStackTrace();\n \t\t}\n@@ -437,11 +472,14 @@ public boolean checkPin(String other) {\n \tpublic void setPic(String pic) {\n \t\tthis.pic = pic;\n \t\ttry {\n-\t\t\ttry (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"UPDATE accounts SET pic = ? WHERE id = ?\")) {\n+                        Connection con = DatabaseConnection.getConnection();\n+\t\t\ttry (PreparedStatement ps = con.prepareStatement(\"UPDATE accounts SET pic = ? WHERE id = ?\")) {\n \t\t\t\tps.setString(1, pic);\n \t\t\t\tps.setInt(2, accId);\n \t\t\t\tps.executeUpdate();\n-\t\t\t}\n+\t\t\t} finally {\n+                                con.close();\n+                        }\n \t\t} catch (SQLException e) {\n                     e.printStackTrace();\n \t\t}\n@@ -471,10 +509,11 @@ public int login(String login, String pwd) {\n \t\t\tgetSession().close(true);\n \t\t}\n \t\tint loginok = 5;\n-\t\tConnection con = DatabaseConnection.getConnection();\n+\t\tConnection con = null;\n \t\tPreparedStatement ps = null;\n \t\tResultSet rs = null;\n \t\ttry {\n+                        con = DatabaseConnection.getConnection();\n \t\t\tps = con.prepareStatement(\"SELECT id, password, salt, gender, banned, gm, pin, pic, characterslots, tos FROM accounts WHERE name = ?\");\n \t\t\tps.setString(1, login);\n \t\t\trs = ps.executeQuery();\n@@ -522,6 +561,9 @@ public int login(String login, String pwd) {\n \t\t\t\tif (rs != null && !rs.isClosed()) {\n \t\t\t\t\trs.close();\n \t\t\t\t}\n+                                if (con != null && !con.isClosed()) {\n+\t\t\t\t\tcon.close();\n+\t\t\t\t}\n \t\t\t} catch (SQLException e) {\n                             e.printStackTrace();\n \t\t\t}\n@@ -533,11 +575,12 @@ public int login(String login, String pwd) {\n \t}\n \n \tpublic Calendar getTempBanCalendar() {\n-\t\tConnection con = DatabaseConnection.getConnection();\n+\t\tConnection con = null;\n \t\tPreparedStatement ps = null;\n \t\tResultSet rs = null;\n \t\tfinal Calendar lTempban = Calendar.getInstance();\n \t\ttry {\n+                        con = DatabaseConnection.getConnection();\n \t\t\tps = con.prepareStatement(\"SELECT `tempban` FROM accounts WHERE id = ?\");\n \t\t\tps.setInt(1, getAccID());\n \t\t\trs = ps.executeQuery();\n@@ -560,6 +603,9 @@ public Calendar getTempBanCalendar() {\n \t\t\t\tif (rs != null) {\n \t\t\t\t\trs.close();\n \t\t\t\t}\n+                                if (con != null && !con.isClosed()) {\n+\t\t\t\t\tcon.close();\n+\t\t\t\t}\n \t\t\t} catch (SQLException e) {\n                             e.printStackTrace();\n \t\t\t}\n@@ -595,8 +641,10 @@ public void updateHWID(String newHwid) {\n \t\t\tthis.hwid = hwid.toString();\n \t\t\t\n \t\t\tPreparedStatement ps = null;\n+                        Connection con = null;\n \t\t\ttry {\n-\t\t\t\tps = DatabaseConnection.getConnection().prepareStatement(\"UPDATE accounts SET hwid = ? WHERE id = ?\");\n+                                con = DatabaseConnection.getConnection();\n+\t\t\t\tps = con.prepareStatement(\"UPDATE accounts SET hwid = ? WHERE id = ?\");\n \t\t\t\tps.setString(1, this.hwid);\n \t\t\t\tps.setInt(2, accId);\n \t\t\t\tps.executeUpdate();\n@@ -608,6 +656,9 @@ public void updateHWID(String newHwid) {\n \t\t\t\t\tif(ps != null && !ps.isClosed()) {\n \t\t\t\t\t\tps.close();\n \t\t\t\t\t}\n+                                        if(con != null && !con.isClosed()) {\n+\t\t\t\t\t\tcon.close();\n+\t\t\t\t\t}\n \t\t\t\t} catch (SQLException e) {\n                                     e.printStackTrace();\n \t\t\t\t}\n@@ -629,8 +680,10 @@ public void updateMacs(String macData) {\n \t\t\t\tnewMacData.append(\", \");\n \t\t\t}\n \t\t}\n+                Connection con = null;\n \t\ttry {\n-\t\t\tps = DatabaseConnection.getConnection().prepareStatement(\"UPDATE accounts SET macs = ? WHERE id = ?\");\n+                        con = DatabaseConnection.getConnection();\n+\t\t\tps = con.prepareStatement(\"UPDATE accounts SET macs = ? WHERE id = ?\");\n \t\t\tps.setString(1, newMacData.toString());\n \t\t\tps.setInt(2, accId);\n \t\t\tps.executeUpdate();\n@@ -642,8 +695,11 @@ public void updateMacs(String macData) {\n \t\t\t\tif (ps != null && !ps.isClosed()) {\n \t\t\t\t\tps.close();\n \t\t\t\t}\n+                                if (con != null && !con.isClosed()) {\n+\t\t\t\t\tcon.close();\n+\t\t\t\t}\n \t\t\t} catch (SQLException ex) {\n-                            ex.printStackTrace();\n+                                ex.printStackTrace();\n \t\t\t}\n \t\t}\n \t}\n@@ -664,6 +720,8 @@ public void updateLoginState(int newstate) {\n \t\t\t\tps.setInt(2, getAccID());\n \t\t\t\tps.executeUpdate();\n \t\t\t}\n+                        \n+                        con.close();\n \t\t} catch (SQLException e) {\n \t\t\te.printStackTrace();\n \t\t}\n@@ -714,6 +772,8 @@ public int getLoginState() {  // 0 = LOGIN_NOTLOGGEDIN, 1= LOGIN_SERVER_TRANSITI\n \t\t\t} else {\n \t\t\t\tloggedIn = false;\n \t\t\t}\n+                        \n+                        con.close();\n \t\t\treturn state;\n \t\t} catch (SQLException e) {\n \t\t\tloggedIn = false;\n@@ -1006,7 +1066,8 @@ public boolean acceptToS() {\n \t\t\treturn true;\n \t\t}\n \t\ttry {\n-\t\t\tPreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT `tos` FROM accounts WHERE id = ?\");\n+                        Connection con = DatabaseConnection.getConnection();\n+\t\t\tPreparedStatement ps = con.prepareStatement(\"SELECT `tos` FROM accounts WHERE id = ?\");\n \t\t\tps.setInt(1, accId);\n \t\t\tResultSet rs = ps.executeQuery();\n \n@@ -1017,10 +1078,11 @@ public boolean acceptToS() {\n \t\t\t}\n \t\t\tps.close();\n \t\t\trs.close();\n-\t\t\tps = DatabaseConnection.getConnection().prepareStatement(\"UPDATE accounts SET tos = 1 WHERE id = ?\");\n+\t\t\tps = con.prepareStatement(\"UPDATE accounts SET tos = 1 WHERE id = ?\");\n \t\t\tps.setInt(1, accId);\n \t\t\tps.executeUpdate();\n \t\t\tps.close();\n+                        con.close();\n \t\t} catch (SQLException e) {\n                     e.printStackTrace();\n \t\t}\n@@ -1030,7 +1092,8 @@ public boolean acceptToS() {\n \tpublic int getVotePoints(){\n \t\tint points = 0;\n \t\ttry {\n-\t\t\tPreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT `votes` FROM accounts WHERE id = ?\");\n+                        Connection con = DatabaseConnection.getConnection();\n+\t\t\tPreparedStatement ps = con.prepareStatement(\"SELECT `votes` FROM accounts WHERE id = ?\");\n \t\t\tps.setInt(1, accId);\n \t\t\tResultSet rs = ps.executeQuery();\n \n@@ -1040,6 +1103,7 @@ public int getVotePoints(){\n \t\t\tps.close();\n \t\t\trs.close();\n \n+                        con.close();\n \t\t} catch (SQLException e) {\n                     e.printStackTrace();\n \t\t}\n@@ -1070,6 +1134,8 @@ private void saveVotePoints() {\n \t\t\t\tps.setInt(2, accId);\n \t\t\t\tps.executeUpdate();\n \t\t\t}\n+                        \n+                        con.close();\n \t\t} catch (SQLException e) {\n \t\t\te.printStackTrace();\n \t\t}\n@@ -1107,26 +1173,31 @@ public short getCharacterSlots() {\n \n \tpublic boolean gainCharacterSlot() {\n \t\tif (characterSlots < 15) {\n-\t\t\tConnection con = DatabaseConnection.getConnection();\n+\t\t\tConnection con = null;\n \t\t\ttry {\n+                                con = DatabaseConnection.getConnection();\n+                                \n \t\t\t\ttry (PreparedStatement ps = con.prepareStatement(\"UPDATE accounts SET characterslots = ? WHERE id = ?\")) {\n \t\t\t\t\tps.setInt(1, this.characterSlots += 1);\n \t\t\t\t\tps.setInt(2, accId);\n \t\t\t\t\tps.executeUpdate();\n \t\t\t\t}\n+                                \n+                                con.close();\n \t\t\t} catch (SQLException e) {\n-                            e.printStackTrace();\n+                                e.printStackTrace();\n \t\t\t}\n \t\t\treturn true;\n \t\t}\n \t\treturn false;\n \t}\n \n \tpublic final byte getGReason() {\n-\t\tfinal Connection con = DatabaseConnection.getConnection();\n+\t\tConnection con = null;\n \t\tPreparedStatement ps = null;\n \t\tResultSet rs = null;\n \t\ttry {\n+                        con = DatabaseConnection.getConnection();\n \t\t\tps = con.prepareStatement(\"SELECT `greason` FROM `accounts` WHERE id = ?\");\n \t\t\tps.setInt(1, accId);\n \t\t\trs = ps.executeQuery();\n@@ -1143,8 +1214,11 @@ public final byte getGReason() {\n \t\t\t\tif (rs != null) {\n \t\t\t\t\trs.close();\n \t\t\t\t}\n+                                if (con != null) {\n+\t\t\t\t\tcon.close();\n+\t\t\t\t}\n \t\t\t} catch (SQLException e) {\n-                            e.printStackTrace();\n+                                e.printStackTrace();\n \t\t\t}\n \t\t}\n \t\treturn 0;\n@@ -1156,12 +1230,16 @@ public byte getGender() {\n \n \tpublic void setGender(byte m) {\n \t\tthis.gender = m;\n+                Connection con = null;\n \t\ttry {\n-\t\t\ttry (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"UPDATE accounts SET gender = ? WHERE id = ?\")) {\n+                        con = DatabaseConnection.getConnection();\n+\t\t\ttry (PreparedStatement ps = con.prepareStatement(\"UPDATE accounts SET gender = ? WHERE id = ?\")) {\n \t\t\t\tps.setByte(1, gender);\n \t\t\t\tps.setInt(2, accId);\n \t\t\t\tps.executeUpdate();\n \t\t\t}\n+                        \n+                        con.close();\n \t\t} catch (SQLException e) {\n                     e.printStackTrace();\n \t\t}"}, {"sha": "781cbcb87a4e278c6a393fef87f7c6717db44152", "filename": "src/client/MapleFamily.java", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/client/MapleFamily.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/client/MapleFamily.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleFamily.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -21,6 +21,7 @@\n  */\n package client;\n \n+import java.sql.Connection;\n import java.sql.PreparedStatement;\n import java.sql.ResultSet;\n import java.sql.SQLException;\n@@ -38,14 +39,16 @@\n \n \tpublic MapleFamily(int cid) {\n \t\ttry {\n-\t\t\tPreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT familyid FROM family_character WHERE cid = ?\");\n+                        Connection con = DatabaseConnection.getConnection();\n+\t\t\tPreparedStatement ps = con.prepareStatement(\"SELECT familyid FROM family_character WHERE cid = ?\");\n \t\t\tps.setInt(1, cid);\n \t\t\tResultSet rs = ps.executeQuery();\n \t\t\tif (rs.next()) {\n \t\t\t\tid = rs.getInt(\"familyid\");\n \t\t\t}\n \t\t\tps.close();\n \t\t\trs.close();\n+                        con.close();\n \t\t\tgetMapleFamily();\n \t\t} catch (SQLException ex) {\n                     ex.printStackTrace();\n@@ -54,7 +57,8 @@ public MapleFamily(int cid) {\n \n \tprivate static void getMapleFamily() {\n \t\ttry {\n-\t\t\tPreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT * FROM family_character WHERE familyid = ?\");\n+                        Connection con = DatabaseConnection.getConnection();\n+\t\t\tPreparedStatement ps = con.prepareStatement(\"SELECT * FROM family_character WHERE familyid = ?\");\n \t\t\tps.setInt(1, id);\n \t\t\tResultSet rs = ps.executeQuery();\n \t\t\twhile (rs.next()) {\n@@ -72,6 +76,7 @@ private static void getMapleFamily() {\n \t\t\t}\n \t\t\trs.close();\n \t\t\tps.close();\n+                        con.close();\n \t\t} catch (SQLException sqle) {\n                     sqle.printStackTrace();\n \t\t}"}, {"sha": "12c4fbde2e85226ce574f7e8330c120fd24ad3fd", "filename": "src/client/MapleRing.java", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/client/MapleRing.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/client/MapleRing.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleRing.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -51,7 +51,7 @@ public MapleRing(int id, int id2, int partnerId, int itemid, String partnername)\n     public static MapleRing loadFromDb(int ringId) {\n         try {\n             MapleRing ret = null;\n-            Connection con = DatabaseConnection.getConnection(); // Get a connection to the database\n+            Connection con = DatabaseConnection.getConnection();\n             PreparedStatement ps = con.prepareStatement(\"SELECT * FROM rings WHERE id = ?\"); // Get ring details..\n             ps.setInt(1, ringId);\n             ResultSet rs = ps.executeQuery();\n@@ -60,6 +60,7 @@ public static MapleRing loadFromDb(int ringId) {\n             }\n             rs.close();\n             ps.close();\n+            con.close();\n             return ret;\n         } catch (SQLException ex) {\n             ex.printStackTrace();\n@@ -102,6 +103,7 @@ public static int createRing(int itemid, final MapleCharacter partner1, final Ma\n             ps.setInt(2, ringID[0]);\n             ps.executeUpdate();\n             ps.close();\n+            con.close();\n             return ringID[0];\n         } catch (SQLException ex) {\n             ex.printStackTrace();"}, {"sha": "3a5378619450fbc83c42cd39f8163514a58898e0", "filename": "src/client/MonsterBook.java", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/client/MonsterBook.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/client/MonsterBook.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MonsterBook.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -91,7 +91,8 @@ public int getSpecialCard() {\n     }\n \n     public void loadCards(final int charid) throws SQLException {\n-        try (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT cardid, level FROM monsterbook WHERE charid = ? ORDER BY cardid ASC\")) {\n+        Connection con = DatabaseConnection.getConnection();\n+        try (PreparedStatement ps = con.prepareStatement(\"SELECT cardid, level FROM monsterbook WHERE charid = ? ORDER BY cardid ASC\")) {\n             ps.setInt(1, charid);\n             try (ResultSet rs = ps.executeQuery()) {\n                 int cardid, level;\n@@ -107,6 +108,8 @@ public void loadCards(final int charid) throws SQLException {\n                 }\n             }\n         }\n+        \n+        con.close();\n         calculateLevel();\n     }\n \n@@ -139,6 +142,7 @@ public void saveCards(final int charid) {\n             ps = con.prepareStatement(query.toString());\n             ps.execute();\n             ps.close();\n+            con.close();\n         } catch (SQLException e) {\n             e.printStackTrace();\n         }"}, {"sha": "5188b3f8a601e5d68fe41b1da652ef0add5ceafd", "filename": "src/client/command/Commands.java", "status": "modified", "additions": 14, "deletions": 2, "changes": 16, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/client/command/Commands.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/client/command/Commands.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/Commands.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -450,7 +450,8 @@ public static boolean executeSolaxiaCommandLv0(Channel cserv, Server srv, MapleC\n \t\t\t\t\tPair<Integer, String> data = listIterator.next();\n \t\t\t\t\toutput += \"#b\" + data.getRight() + \"#k is dropped by:\\r\\n\";\n \t\t\t\t\ttry {\n-\t\t\t\t\t\tPreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT * FROM drop_data WHERE itemid = ? LIMIT 50\");\n+                                                Connection con = DatabaseConnection.getConnection();\n+\t\t\t\t\t\tPreparedStatement ps = con.prepareStatement(\"SELECT * FROM drop_data WHERE itemid = ? LIMIT 50\");\n \t\t\t\t\t\tps.setInt(1, data.getLeft());\n \t\t\t\t\t\tResultSet rs = ps.executeQuery();\n \t\t\t\t\t\twhile(rs.next()) {\n@@ -461,6 +462,7 @@ public static boolean executeSolaxiaCommandLv0(Channel cserv, Server srv, MapleC\n \t\t\t\t\t\t}\n \t\t\t\t\t\trs.close();\n \t\t\t\t\t\tps.close();\n+                                                con.close();\n \t\t\t\t\t} catch (Exception e) {\n \t\t\t\t\t\tplayer.dropMessage(\"There was a problem retreiving the required data. Please try again.\");\n \t\t\t\t\t\te.printStackTrace();\n@@ -641,13 +643,16 @@ public static boolean executeSolaxiaCommandLv0(Channel cserv, Server srv, MapleC\n \t\tcase \"ranks\":\n \t\t\tPreparedStatement ps = null;\n \t\t\tResultSet rs = null;\n+                        Connection con = null;\n \t\t\ttry {\n-\t\t\t\tps = DatabaseConnection.getConnection().prepareStatement(\"SELECT `characters`.`name`, `characters`.`level` FROM `characters` LEFT JOIN accounts ON accounts.id = characters.accountid WHERE `characters`.`gm` = '0' AND `accounts`.`banned` = '0' ORDER BY level DESC, exp DESC LIMIT 50\");\n+                                con = DatabaseConnection.getConnection();\n+\t\t\t\tps = con.prepareStatement(\"SELECT `characters`.`name`, `characters`.`level` FROM `characters` LEFT JOIN accounts ON accounts.id = characters.accountid WHERE `characters`.`gm` = '0' AND `accounts`.`banned` = '0' ORDER BY level DESC, exp DESC LIMIT 50\");\n \t\t\t\trs = ps.executeQuery();\n \t\t\t\t\n \t\t\t\tplayer.announce(MaplePacketCreator.showPlayerRanks(9010000, rs));\n \t\t\t\tps.close();\n \t\t\t\trs.close();\n+                                con.close();\n \t\t\t} catch(SQLException ex) {\n \t\t\t\tex.printStackTrace();\n \t\t\t} finally {\n@@ -658,6 +663,9 @@ public static boolean executeSolaxiaCommandLv0(Channel cserv, Server srv, MapleC\n \t\t\t\t\tif(rs != null && !rs.isClosed()) {\n \t\t\t\t\t\trs.close();\n \t\t\t\t\t}\n+                                        if(con != null && !con.isClosed()) {\n+\t\t\t\t\t\tcon.close();\n+\t\t\t\t\t}\n \t\t\t\t} catch (SQLException e) {\n                                         e.printStackTrace();\n \t\t\t\t}\n@@ -1774,6 +1782,8 @@ public static boolean executeSolaxiaCommandLv3(Channel cserv, Server srv, MapleC\n \t\t\t\t\t\tps.executeUpdate();\n \t\t\t\t\t\tps.close();\n \t\t\t\t\t}\n+                                        \n+                                        con.close();\n \t\t\t\t} catch (SQLException ex) {\n                                         ex.printStackTrace();\n \t\t\t\t\tc.getPlayer().message(\"Error occured while banning IP address\");\n@@ -1819,6 +1829,8 @@ public void run() {\n                                         \n                                 p = con.prepareStatement(\"DELETE FROM macbans WHERE aid = \" + aid);\n \t\t\t\tp.executeUpdate();\n+                                \n+                                con.close();\n \t\t\t} catch (Exception e) {\n                                 e.printStackTrace();\n \t\t\t\tplayer.message(\"Failed to unban \" + sub[1]);"}, {"sha": "7b4461456fa5ebd9ac2149175f9bbecd25eef224", "filename": "src/client/inventory/ItemFactory.java", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/client/inventory/ItemFactory.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/client/inventory/ItemFactory.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/inventory/ItemFactory.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -61,6 +61,7 @@ public int getValue() {\n \t\t\n         PreparedStatement ps = null;\n         ResultSet rs = null;\n+        Connection con = DatabaseConnection.getConnection();\n         try {\n             StringBuilder query = new StringBuilder();\n             query.append(\"SELECT * FROM `inventoryitems` LEFT JOIN `inventoryequipment` USING(`inventoryitemid`) WHERE `type` = ? AND `\");\n@@ -70,8 +71,7 @@ public int getValue() {\n                 query.append(\" AND `inventorytype` = \").append(MapleInventoryType.EQUIPPED.getType());\n             }\n \n-\n-            ps = DatabaseConnection.getConnection().prepareStatement(query.toString());\n+            ps = con.prepareStatement(query.toString());\n             ps.setInt(1, value);\n             ps.setInt(2, id);\n             rs = ps.executeQuery();\n@@ -120,13 +120,17 @@ public int getValue() {\n \n             rs.close();\n             ps.close();\n+            con.close();\n         } finally {\n-            if (rs != null) {\n+            if (rs != null && !rs.isClosed()) {\n                 rs.close();\n             }\n-            if (ps != null) {\n+            if (ps != null && !ps.isClosed()) {\n                 ps.close();\n             }\n+            if (con != null && !con.isClosed()) {\n+                con.close();\n+            }\n         }\n         return items;\n     }"}, {"sha": "94c8e1aa8905f86e7ebe9b26d35080acbbd239da", "filename": "src/client/inventory/MapleInventory.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/client/inventory/MapleInventory.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/client/inventory/MapleInventory.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/inventory/MapleInventory.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -232,15 +232,15 @@ public void removeItem(short slot, short quantity, boolean allowZero) {\n     public void addSlot(short slot, Item item) {\n         inventory.put(slot, item);\n         \n-        if(MapleItemInformationProvider.getInstance().isRateCoupon(item.getItemId())) {\n+        if(ItemConstants.isRateCoupon(item.getItemId())) {\n             owner.updateCouponRates();\n         }\n     }\n     \n     public void removeSlot(short slot) {\n         Item item = inventory.remove(slot);\n         \n-        if(item != null && MapleItemInformationProvider.getInstance().isRateCoupon(item.getItemId())) {\n+        if(item != null && ItemConstants.isRateCoupon(item.getItemId())) {\n             owner.updateCouponRates();\n         }\n     }"}, {"sha": "c6bbf8c5dd48b2041b171a8c28e7b1f0116f7d88", "filename": "src/client/inventory/MaplePet.java", "status": "modified", "additions": 15, "deletions": 6, "changes": 21, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/client/inventory/MaplePet.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/client/inventory/MaplePet.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/inventory/MaplePet.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -34,6 +34,7 @@\n import server.movement.LifeMovement;\n import server.movement.LifeMovementFragment;\n import client.MapleCharacter;\n+import java.sql.Connection;\n import tools.MaplePacketCreator;\n \n /**\n@@ -60,7 +61,8 @@ private MaplePet(int id, short position, int uniqueid) {\n     public static MaplePet loadFromDb(int itemid, short position, int petid) {\n         try {\n             MaplePet ret = new MaplePet(itemid, position, petid);\n-            PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT name, level, closeness, fullness, summoned FROM pets WHERE petid = ?\"); // Get pet details..\n+            Connection con = DatabaseConnection.getConnection();\n+            PreparedStatement ps = con.prepareStatement(\"SELECT name, level, closeness, fullness, summoned FROM pets WHERE petid = ?\"); // Get pet details..\n             ps.setInt(1, petid);\n             ResultSet rs = ps.executeQuery();\n             rs.next();\n@@ -71,6 +73,7 @@ public static MaplePet loadFromDb(int itemid, short position, int petid) {\n             ret.setSummoned(rs.getInt(\"summoned\") == 1);\n             rs.close();\n             ps.close();\n+            con.close();\n             return ret;\n         } catch (SQLException e) {\n             e.printStackTrace();\n@@ -80,7 +83,8 @@ public static MaplePet loadFromDb(int itemid, short position, int petid) {\n \n     public void saveToDb() {\n         try {\n-            PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"UPDATE pets SET name = ?, level = ?, closeness = ?, fullness = ?, summoned = ? WHERE petid = ?\");\n+            Connection con = DatabaseConnection.getConnection();\n+            PreparedStatement ps = con.prepareStatement(\"UPDATE pets SET name = ?, level = ?, closeness = ?, fullness = ?, summoned = ? WHERE petid = ?\");\n             ps.setString(1, getName());\n             ps.setInt(2, getLevel());\n             ps.setInt(3, getCloseness());\n@@ -89,14 +93,16 @@ public void saveToDb() {\n             ps.setInt(6, getUniqueId());\n             ps.executeUpdate();\n             ps.close();\n+            con.close();\n         } catch (SQLException e) {\n             e.printStackTrace();\n         }\n     }\n \n     public static int createPet(int itemid) {\n         try {\n-            PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"INSERT INTO pets (name, level, closeness, fullness, summoned) VALUES (?, 1, 0, 100, 0)\", Statement.RETURN_GENERATED_KEYS);\n+            Connection con = DatabaseConnection.getConnection();\n+            PreparedStatement ps = con.prepareStatement(\"INSERT INTO pets (name, level, closeness, fullness, summoned) VALUES (?, 1, 0, 100, 0)\", Statement.RETURN_GENERATED_KEYS);\n             ps.setString(1, MapleItemInformationProvider.getInstance().getName(itemid));\n             ps.executeUpdate();\n             ResultSet rs = ps.getGeneratedKeys();\n@@ -106,6 +112,7 @@ public static int createPet(int itemid) {\n             }\n             rs.close();\n             ps.close();\n+            con.close();\n             return ret;\n         } catch (SQLException e) {\n             e.printStackTrace();\n@@ -115,7 +122,8 @@ public static int createPet(int itemid) {\n \n     public static int createPet(int itemid, byte level, int closeness, int fullness) {\n         try {\n-            PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"INSERT INTO pets (name, level, closeness, fullness, summoned) VALUES (?, ?, ?, ?, 0)\", Statement.RETURN_GENERATED_KEYS);\n+            Connection con = DatabaseConnection.getConnection();\n+            PreparedStatement ps = con.prepareStatement(\"INSERT INTO pets (name, level, closeness, fullness, summoned) VALUES (?, ?, ?, ?, 0)\", Statement.RETURN_GENERATED_KEYS);\n             ps.setString(1, MapleItemInformationProvider.getInstance().getName(itemid));\n             ps.setByte(2, level);\n             ps.setInt(3, closeness);\n@@ -125,9 +133,10 @@ public static int createPet(int itemid, byte level, int closeness, int fullness)\n             int ret = -1;\n             if (rs.next()) {\n                 ret = rs.getInt(1);\n-                rs.close();\n-                ps.close();\n             }\n+            rs.close();\n+            ps.close();\n+            con.close();\n             return ret;\n         } catch (SQLException e) {\n             e.printStackTrace();"}, {"sha": "11cbff3ade584bf7e50dd0522a0fe4abac27ae6c", "filename": "src/constants/ItemConstants.java", "status": "modified", "additions": 40, "deletions": 0, "changes": 40, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/constants/ItemConstants.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/constants/ItemConstants.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/constants/ItemConstants.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -26,6 +26,7 @@\n /**\n  *\n  * @author Jay Estrella\n+ * @author Ronan\n  */\n public final class ItemConstants {\n     public final static int LOCK = 0x01;\n@@ -89,6 +90,45 @@ public static boolean isArrow(int itemId) {\n     public static boolean isPet(int itemId) {\n         return itemId / 1000 == 5000;\n     }\n+    \n+    public static boolean isTownScroll(int itemId) {\n+        return itemId >= 2030000 && itemId < 2030021;\n+    }\n+    \n+    public static boolean isAntibanishScroll(int itemId) {\n+        return itemId == 2030100;\n+    }\n+    \n+    public static boolean isCleanSlate(int scrollId) {\n+        return scrollId > 2048999 && scrollId < 2049004;\n+    }\n+    \n+    public static boolean isFlagModifier(int scrollId, byte flag) {\n+        if(scrollId == 2041058 && ((flag & ItemConstants.COLD) == ItemConstants.COLD)) return true;\n+        if(scrollId == 2040727 && ((flag & ItemConstants.SPIKES) == ItemConstants.SPIKES)) return true;\n+        return false;\n+    }\n+    \n+    public static boolean isChaosScroll(int scrollId) {\n+    \treturn scrollId >= 2049100 && scrollId <= 2049103;\n+    }\n+    \n+    public static boolean isRateCoupon(int itemId) {\n+        int itemType = itemId / 1000;\n+        return itemType == 5211 || itemType == 5360;\n+    }\n+    \n+    public static boolean isExpCoupon(int couponId) {\n+        return couponId / 1000 == 5211;\n+    }\n+    \n+    public static boolean isPartyItem(int itemId) {\n+        return itemId >= 2022430 && itemId <= 2022433;\n+    }\n+    \n+    public static boolean isPartyAllcure(int itemId) {\n+        return itemId == 2022433;\n+    }\n \n     public static MapleInventoryType getInventoryType(final int itemId) {\n \tfinal byte type = (byte) (itemId / 1000000);"}, {"sha": "3090bc5b4e4574667b5655c940a710ce0c8ce4e3", "filename": "src/constants/ServerConstants.java", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/constants/ServerConstants.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/constants/ServerConstants.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/constants/ServerConstants.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -4,6 +4,11 @@\n import java.util.Properties;\n \n public class ServerConstants {\n+    //Database Configuration\n+    public static String DB_URL = \"\";\n+    public static String DB_USER = \"\";\n+    public static String DB_PASS = \"\";\n+    public static final short DB_EXPERIMENTAL_POOLS = 4;        //[EXPERIMENTAL] Installs a set number of database drivers/pools to hub connections. Set 0 to default.\n \t\n     //World And Version\n     public static short VERSION = 83;\n@@ -21,11 +26,6 @@\n     //Ip Configuration\n     public static String HOST;\n \t\n-    //Database Configuration\n-    public static String DB_URL = \"\";\n-    public static String DB_USER = \"\";\n-    public static String DB_PASS = \"\";\n-\t\n     //Other Configuration\n     public static boolean JAVA_8;\n     public static boolean SHUTDOWNHOOK;\n@@ -59,7 +59,7 @@\n     //Dangling Items Configuration\n     public static final int ITEM_EXPIRE_TIME  = 3 * 60 * 1000;  //Time before items start disappearing. Recommended to be set up to 3 minutes.\n     public static final int ITEM_MONITOR_TIME = 5 * 60 * 1000;  //Interval between item monitoring task on maps, which checks for dangling item objects on the map item history.\n-    public static final int ITEM_LIMIT_ON_MAP = 777;            //Max number of items allowed on a map.\n+    public static final int ITEM_LIMIT_ON_MAP = 250;            //Max number of items allowed on a map.\n     \n     //Some Gameplay Enhancing Configuration\n     public static final boolean USE_PERFECT_SCROLLING = true;   //Scrolls doesn't use slots upon failure."}, {"sha": "586d4877bcdb14a867212629b6f169245ef62419", "filename": "src/net/server/RankingWorker.java", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/RankingWorker.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/RankingWorker.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/RankingWorker.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -99,12 +99,14 @@ public void run() {\n             \n             con.setAutoCommit(true);\n             lastUpdate = System.currentTimeMillis();\n+            con.close();\n         } catch (SQLException ex) {\n             ex.printStackTrace();\n             \n             try {\n                 con.rollback();\n                 con.setAutoCommit(true);\n+                if(!con.isClosed()) con.close();\n             } catch (SQLException ex2) {\n                 ex2.printStackTrace();\n             }"}, {"sha": "15829bee70a2a17ba291e2143102128d68df70a8", "filename": "src/net/server/Server.java", "status": "modified", "additions": 8, "deletions": 5, "changes": 13, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/Server.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/Server.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/Server.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -55,13 +55,13 @@\n import org.apache.mina.transport.socket.nio.NioSocketAcceptor;\n \n import server.CashShop.CashItemFactory;\n-import server.MapleItemInformationProvider;\n import server.TimerManager;\n import tools.DatabaseConnection;\n import tools.FilePrinter;\n import tools.Pair;\n import client.MapleCharacter;\n import client.SkillFactory;\n+import constants.ItemConstants;\n import constants.ServerConstants;\n import java.util.Calendar;\n import server.quest.MapleQuest;\n@@ -173,7 +173,7 @@ public void commitActiveCoupons() {\n     }\n     \n     public void toggleCoupon(Integer couponId) {\n-        if(MapleItemInformationProvider.getInstance().isRateCoupon(couponId)) {\n+        if(ItemConstants.isRateCoupon(couponId)) {\n             synchronized(activeCoupons) {\n                 if(activeCoupons.contains(couponId)) {\n                     activeCoupons.remove(couponId);\n@@ -219,8 +219,9 @@ public void updateActiveCoupons() throws SQLException {\n                 ex.printStackTrace();\n \n                 try {\n-                    if(con != null && !con.isClosed())\n+                    if(con != null && !con.isClosed()) {\n                         con.close();\n+                    }\n                 } catch (SQLException ex2) {\n                     ex2.printStackTrace();\n                 }\n@@ -245,9 +246,9 @@ public void run() {\n         if(ServerConstants.SHUTDOWNHOOK)\n             Runtime.getRuntime().addShutdownHook(new Thread(shutdown(false)));\n         \n-        //DatabaseConnection.getConnection();\n-        Connection c = DatabaseConnection.getConnection();\n+        Connection c = null;\n         try {\n+            c = DatabaseConnection.getConnection();\n             PreparedStatement ps = c.prepareStatement(\"UPDATE accounts SET loggedin = 0\");\n             ps.executeUpdate();\n             ps.close();\n@@ -257,6 +258,8 @@ public void run() {\n             \n             loadCouponRates(c);\n             updateActiveCoupons();\n+            \n+            c.close();\n         } catch (SQLException sqle) {\n             sqle.printStackTrace();\n         }"}, {"sha": "9e11ac86f4c7c185425e3dc0bf25b7918d36b6cb", "filename": "src/net/server/channel/handlers/BBSOperationHandler.java", "status": "modified", "additions": 21, "deletions": 6, "changes": 27, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/BBSOperationHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/BBSOperationHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/BBSOperationHandler.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -97,12 +97,15 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n \n     private static void listBBSThreads(MapleClient c, int start) {\n         try {\n-            try (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT * FROM bbs_threads WHERE guildid = ? ORDER BY localthreadid DESC\")) {\n+            Connection con = DatabaseConnection.getConnection();\n+            try (PreparedStatement ps = con.prepareStatement(\"SELECT * FROM bbs_threads WHERE guildid = ? ORDER BY localthreadid DESC\")) {\n                 ps.setInt(1, c.getPlayer().getGuildId());\n                 try (ResultSet rs = ps.executeQuery()) {\n                     c.announce(MaplePacketCreator.BBSThreadList(rs, start));\n                 }\n             }\n+            \n+            con.close();\n         } catch (SQLException se) {\n             se.printStackTrace();\n         }\n@@ -112,8 +115,9 @@ private static void newBBSReply(MapleClient c, int localthreadid, String text) {\n         if (c.getPlayer().getGuildId() <= 0) {\n             return;\n         }\n-        Connection con = DatabaseConnection.getConnection();\n+        Connection con = null;\n         try {\n+            con = DatabaseConnection.getConnection();\n             PreparedStatement ps = con.prepareStatement(\"SELECT threadid FROM bbs_threads WHERE guildid = ? AND localthreadid = ?\");\n             ps.setInt(1, c.getPlayer().getGuildId());\n             ps.setInt(2, localthreadid);\n@@ -137,6 +141,7 @@ private static void newBBSReply(MapleClient c, int localthreadid, String text) {\n             ps.setInt(1, threadid);\n             ps.execute();\n             ps.close();\n+            con.close();\n             displayThread(c, localthreadid);\n         } catch (SQLException se) {\n             se.printStackTrace();\n@@ -149,7 +154,8 @@ private static void editBBSThread(MapleClient client, String title, String text,\n             return;\n         }\n         try {\n-            try (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"UPDATE bbs_threads SET `name` = ?, `timestamp` = ?, \" + \"`icon` = ?, \" + \"`startpost` = ? WHERE guildid = ? AND localthreadid = ? AND (postercid = ? OR ?)\")) {\n+            Connection con = DatabaseConnection.getConnection();\n+            try (PreparedStatement ps = con.prepareStatement(\"UPDATE bbs_threads SET `name` = ?, `timestamp` = ?, \" + \"`icon` = ?, \" + \"`startpost` = ? WHERE guildid = ? AND localthreadid = ? AND (postercid = ? OR ?)\")) {\n                 ps.setString(1, title);\n                 ps.setLong(2, System.currentTimeMillis());\n                 ps.setInt(3, icon);\n@@ -160,6 +166,7 @@ private static void editBBSThread(MapleClient client, String title, String text,\n                 ps.setBoolean(8, c.getGuildRank() < 3);\n                 ps.execute();\n             }\n+            con.close();\n             displayThread(client, localthreadid);\n         } catch (SQLException se) {\n             se.printStackTrace();\n@@ -194,6 +201,7 @@ private static void newBBSThread(MapleClient client, String title, String text,\n             ps.setInt(7, nextId);\n             ps.execute();\n             ps.close();\n+            con.close();\n             displayThread(client, nextId);\n         } catch (SQLException se) {\n             se.printStackTrace();\n@@ -206,8 +214,9 @@ public static void deleteBBSThread(MapleClient client, int localthreadid) {\n         if (mc.getGuildId() <= 0) {\n             return;\n         }\n-        Connection con = DatabaseConnection.getConnection();\n+        Connection con = null;\n         try {\n+            con = DatabaseConnection.getConnection();\n             PreparedStatement ps = con.prepareStatement(\"SELECT threadid, postercid FROM bbs_threads WHERE guildid = ? AND localthreadid = ?\");\n             ps.setInt(1, mc.getGuildId());\n             ps.setInt(2, localthreadid);\n@@ -233,6 +242,7 @@ public static void deleteBBSThread(MapleClient client, int localthreadid) {\n             ps.execute();\n             threadRS.close();\n             ps.close();\n+            con.close();\n         } catch (SQLException se) {\n             se.printStackTrace();\n         }\n@@ -244,8 +254,9 @@ public static void deleteBBSReply(MapleClient client, int replyid) {\n             return;\n         }\n         int threadid;\n-        Connection con = DatabaseConnection.getConnection();\n+        Connection con = null;\n         try {\n+            con = DatabaseConnection.getConnection();\n             PreparedStatement ps = con.prepareStatement(\"SELECT postercid, threadid FROM bbs_replies WHERE replyid = ?\");\n             ps.setInt(1, replyid);\n             ResultSet rs = ps.executeQuery();\n@@ -270,6 +281,7 @@ public static void deleteBBSReply(MapleClient client, int replyid) {\n             ps.setInt(1, threadid);\n             ps.execute();\n             ps.close();\n+            con.close();\n             displayThread(client, threadid, false);\n         } catch (SQLException se) {\n             se.printStackTrace();\n@@ -285,8 +297,9 @@ public static void displayThread(MapleClient client, int threadid, boolean bIsTh\n         if (mc.getGuildId() <= 0) {\n             return;\n         }\n-        Connection con = DatabaseConnection.getConnection();\n+        Connection con = null;\n         try {\n+            con = DatabaseConnection.getConnection();\n             PreparedStatement ps2;\n             try (PreparedStatement ps = con.prepareStatement(\"SELECT * FROM bbs_threads WHERE guildid = ? AND \" + (bIsThreadIdLocal ? \"local\" : \"\") + \"threadid = ?\")) {\n                 ps.setInt(1, mc.getGuildId());\n@@ -310,6 +323,8 @@ public static void displayThread(MapleClient client, int threadid, boolean bIsTh\n             if (ps2 != null) {\n                 ps2.close();\n             }\n+            \n+            con.close();\n         } catch (SQLException se) {\n             se.printStackTrace();\n         } catch (RuntimeException re) {//btw we get this everytime for some reason, but replies work!"}, {"sha": "f7f1d6aedd43fc3908c6e88934bae2c5be294c93", "filename": "src/net/server/channel/handlers/BuddylistModifyHandler.java", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/BuddylistModifyHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/BuddylistModifyHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/BuddylistModifyHandler.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -72,6 +72,7 @@ private CharacterIdNameBuddyCapacity getCharacterIdAndNameFromDatabase(String na\n                 }\n             }\n         }\n+        con.close();\n         return ret;\n     }\n \n@@ -129,6 +130,7 @@ public void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n                             }\n                             rs.close();\n                             ps.close();\n+                            con.close();\n                         }\n                         if (buddyAddResult == BuddyAddResult.BUDDYLIST_FULL) {\n                             c.announce(MaplePacketCreator.serverNotice(1, \"\\\"\" + addName + \"\\\"'s Buddylist is full\"));\n@@ -146,6 +148,7 @@ public void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n                                     ps.setInt(2, player.getId());\n                                     ps.executeUpdate();\n                                 }\n+                                con.close();\n                             }\n                             buddylist.put(new BuddylistEntry(charWithId.getName(), group, otherCid, displayChannel, true));\n                             c.announce(MaplePacketCreator.updateBuddylist(buddylist.getBuddies()));\n@@ -177,6 +180,7 @@ public void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n                                 }\n                             }\n                         }\n+                        con.close();\n                     } else {\n                         otherName = otherChar.getName();\n                     }"}, {"sha": "55bd9cbb0fb2aca49154d0dd7b64b1af61e69589", "filename": "src/net/server/channel/handlers/CouponCodeHandler.java", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/CouponCodeHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/CouponCodeHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/CouponCodeHandler.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -58,6 +58,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                     ps.setString(2, code);\n                     ps.executeUpdate();\n                     ps.close();\n+                    con.close();\n                 } catch (SQLException e) {\n                     e.printStackTrace();\n                 }\n@@ -90,14 +91,16 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n     private int getNXCode(String code, String type) {\n         int item = -1;\n         try {\n-            PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT `\" + type + \"` FROM nxcode WHERE code = ?\");\n+            Connection con = DatabaseConnection.getConnection();\n+            PreparedStatement ps = con.prepareStatement(\"SELECT `\" + type + \"` FROM nxcode WHERE code = ?\");\n             ps.setString(1, code);\n             ResultSet rs = ps.executeQuery();\n             while (rs.next()) {\n                 item = rs.getInt(type);\n             }\n             rs.close();\n             ps.close();\n+            con.close();\n         } catch (SQLException ex) {\n             ex.printStackTrace();\n         }\n@@ -106,14 +109,16 @@ private int getNXCode(String code, String type) {\n \n     private boolean getNXCodeValid(String code, boolean validcode) {\n         try {\n-            PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT `valid` FROM nxcode WHERE code = ?\");\n+            Connection con = DatabaseConnection.getConnection();\n+            PreparedStatement ps = con.prepareStatement(\"SELECT `valid` FROM nxcode WHERE code = ?\");\n             ps.setString(1, code);\n             ResultSet rs = ps.executeQuery();\n             while (rs.next()) {\n                 validcode = rs.getInt(\"valid\") != 0;\n             }\n             rs.close();\n             ps.close();\n+            con.close();\n         } catch (SQLException ex) {\n             ex.printStackTrace();\n         }"}, {"sha": "ee29cdc5e89355c908bfefad1308d8087efb62c5", "filename": "src/net/server/channel/handlers/DueyHandler.java", "status": "modified", "additions": 18, "deletions": 5, "changes": 23, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/DueyHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/DueyHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/DueyHandler.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -78,7 +78,8 @@ private static int getAccIdFromCNAME(String name, boolean accountid) {\n             if (accountid) {\n                 text = \"SELECT id,accountid FROM characters WHERE name = ?\";\n             }\n-            ps = DatabaseConnection.getConnection().prepareStatement(text);\n+            Connection con = DatabaseConnection.getConnection();\n+            ps = con.prepareStatement(text);\n             ps.setString(1, name);\n             int id_;\n             try (ResultSet rs = ps.executeQuery()) {\n@@ -90,6 +91,7 @@ private static int getAccIdFromCNAME(String name, boolean accountid) {\n                 id_ = accountid ? rs.getInt(\"accountid\") : rs.getInt(\"id\");\n             }\n             ps.close();\n+            con.close();\n             return id_;\n         } catch (SQLException e) {\n             e.printStackTrace();\n@@ -177,8 +179,9 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             int packageid = slea.readInt();\n             List<DueyPackages> packages = new LinkedList<>();\n             DueyPackages dp = null;\n-            Connection con = DatabaseConnection.getConnection();\n+            Connection con = null;\n             try {\n+                con = DatabaseConnection.getConnection();\n                 DueyPackages dueypack;\n                 try (PreparedStatement ps = con.prepareStatement(\"SELECT * FROM dueypackages LEFT JOIN dueyitems USING (PackageId) WHERE PackageId = ?\")) {\n                     ps.setInt(1, packageid);\n@@ -223,6 +226,8 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                             \n                 removeItemFromDB(packageid);\n                 c.announce(MaplePacketCreator.removeItemFromDuey(false, packageid));\n+                \n+                con.close();\n             } catch (SQLException e) {\n                 e.printStackTrace();\n             }\n@@ -234,8 +239,9 @@ private void addMesoToDB(int mesos, String sName, int recipientID) {\n     }\n \n     private void addItemToDB(Item item, int quantity, int mesos, String sName, int recipientID) {\n-        Connection con = DatabaseConnection.getConnection();\n+        Connection con = null;\n         try {\n+            con = DatabaseConnection.getConnection();\n             try (PreparedStatement ps = con.prepareStatement(\"INSERT INTO dueypackages (RecieverId, SenderName, Mesos, TimeStamp, Checked, Type) VALUES (?, ?, ?, ?, ?, ?)\")) {\n                 ps.setInt(1, recipientID);\n                 ps.setString(2, sName);\n@@ -287,15 +293,18 @@ private void addItemToDB(Item item, int quantity, int mesos, String sName, int r\n                     }\n                 }\n             }\n+            \n+            con.close();\n         } catch (SQLException e) {\n             e.printStackTrace();\n         }\n     }\n \n     public static List<DueyPackages> loadItems(MapleCharacter chr) {\n         List<DueyPackages> packages = new LinkedList<>();\n-        Connection con = DatabaseConnection.getConnection();\n+        Connection con = null;\n         try {\n+            con = DatabaseConnection.getConnection();\n             try (PreparedStatement ps = con.prepareStatement(\"SELECT * FROM dueypackages dp LEFT JOIN dueyitems di ON dp.PackageId=di.PackageId WHERE RecieverId = ?\")) {\n                 ps.setInt(1, chr.getId());\n                 try (ResultSet rs = ps.executeQuery()) {\n@@ -309,6 +318,7 @@ private void addItemToDB(Item item, int quantity, int mesos, String sName, int r\n                 }\n             }\n             \n+            con.close();\n             return packages;\n         } catch (SQLException e) {\n             e.printStackTrace();\n@@ -346,8 +356,10 @@ private static int getFee(int meso) {\n     }\n \n     private void removeItemFromDB(int packageid) {\n-        Connection con = DatabaseConnection.getConnection();\n+        Connection con = null;\n         try {\n+            con = DatabaseConnection.getConnection();\n+            \n             PreparedStatement ps = con.prepareStatement(\"DELETE FROM dueypackages WHERE PackageId = ?\");\n             ps.setInt(1, packageid);\n             ps.executeUpdate();\n@@ -356,6 +368,7 @@ private void removeItemFromDB(int packageid) {\n             ps.setInt(1, packageid);\n             ps.executeUpdate();\n             ps.close();\n+            con.close();\n         } catch (SQLException e) {\n             e.printStackTrace();\n         }"}, {"sha": "d932bc4b508d7861b777012bcfd0ac3674989b60", "filename": "src/net/server/channel/handlers/EnterMTSHandler.java", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/EnterMTSHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/EnterMTSHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/EnterMTSHandler.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -75,7 +75,8 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n         List<MTSItemInfo> items = new ArrayList<>();\n         int pages = 0;\n         try {\n-            PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT * FROM mts_items WHERE tab = 1 AND transfer = 0 ORDER BY id DESC LIMIT 16, 16\");\n+            Connection con = DatabaseConnection.getConnection();\n+            PreparedStatement ps = con.prepareStatement(\"SELECT * FROM mts_items WHERE tab = 1 AND transfer = 0 ORDER BY id DESC LIMIT 16, 16\");\n             ResultSet rs = ps.executeQuery();\n             while (rs.next()) {\n                 if (rs.getInt(\"type\") != 1) {\n@@ -110,13 +111,15 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             }\n             rs.close();\n             ps.close();\n-            ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT COUNT(*) FROM mts_items\");\n+            \n+            ps = con.prepareStatement(\"SELECT COUNT(*) FROM mts_items\");\n             rs = ps.executeQuery();\n             if (rs.next()) {\n                 pages = (int) Math.ceil(rs.getInt(1) / 16);\n             }\n             rs.close();\n             ps.close();\n+            con.close();\n         } catch (SQLException e) {\n             e.printStackTrace();\n         }\n@@ -128,7 +131,8 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n     private List<MTSItemInfo> getNotYetSold(int cid) {\n         List<MTSItemInfo> items = new ArrayList<>();\n         try {\n-            try (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT * FROM mts_items WHERE seller = ? AND transfer = 0 ORDER BY id DESC\")) {\n+            Connection con = DatabaseConnection.getConnection();\n+            try (PreparedStatement ps = con.prepareStatement(\"SELECT * FROM mts_items WHERE seller = ? AND transfer = 0 ORDER BY id DESC\")) {\n                 ps.setInt(1, cid);\n                 try (ResultSet rs = ps.executeQuery()) {\n                     while (rs.next()) {\n@@ -164,6 +168,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                     }\n                 }\n             }\n+            con.close();\n         } catch (SQLException e) {\n             e.printStackTrace();\n         }\n@@ -210,6 +215,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                     }\n                 }\n             }\n+            con.close();\n         } catch (SQLException e) {\n             e.printStackTrace();\n         }"}, {"sha": "b1a931f1b3234b51dd3ff5c3f2673020f2560d9a", "filename": "src/net/server/channel/handlers/FredrickHandler.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/FredrickHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/FredrickHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/FredrickHandler.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -113,6 +113,7 @@ private static boolean deleteItems(MapleCharacter chr) {\n                 ps.setInt(2, chr.getId());\n                 ps.execute();\n             }\n+            con.close();\n             return true;\n         } catch (SQLException e) {\n             e.printStackTrace();"}, {"sha": "d55fff84051631643ce1a3057ef52e7b05749dda", "filename": "src/net/server/channel/handlers/MTSHandler.java", "status": "modified", "additions": 38, "deletions": 12, "changes": 50, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/MTSHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/MTSHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/MTSHandler.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -101,8 +101,10 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                 MapleInventoryType type = MapleItemInformationProvider.getInstance().getInventoryType(itemid);\n                 Item i = c.getPlayer().getInventory(type).getItem(slot).copy();\n                 if (i != null && c.getPlayer().getMeso() >= 5000) {\n-                    Connection con = DatabaseConnection.getConnection();\n+                    Connection con = null;\n                     try {\n+                        con = DatabaseConnection.getConnection();\n+                        \n                         PreparedStatement ps = con.prepareStatement(\"SELECT COUNT(*) FROM mts_items WHERE seller = ?\");\n                         ps.setInt(1, c.getPlayer().getId());\n                         ResultSet rs = ps.executeQuery();\n@@ -201,6 +203,8 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                         ps.executeUpdate();\n                         ps.close();\n                         MapleInventoryManipulator.removeFromSlot(c, type, slot, quantity, false);\n+                        \n+                        con.close();\n                     } catch (SQLException e) {\n                         e.printStackTrace();\n                     }\n@@ -254,8 +258,9 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                 c.announce(MaplePacketCreator.notYetSoldInv(getNotYetSold(c.getPlayer().getId())));\n             } else if (op == 7) { //cancel sale\n                 int id = slea.readInt(); //id of the item\n-                Connection con = DatabaseConnection.getConnection();\n+                Connection con = null;\n                 try {\n+                    con = DatabaseConnection.getConnection();\n                     PreparedStatement ps = con.prepareStatement(\"UPDATE mts_items SET transfer = 1 WHERE id = ? AND seller = ?\");\n                     ps.setInt(1, id);\n                     ps.setInt(2, c.getPlayer().getId());\n@@ -265,6 +270,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                     ps.setInt(1, id);\n                     ps.executeUpdate();\n                     ps.close();\n+                    con.close();\n                 } catch (SQLException e) {\n                     e.printStackTrace();\n                 }\n@@ -274,10 +280,11 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                 c.announce(MaplePacketCreator.transferInventory(getTransfer(c.getPlayer().getId())));\n             } else if (op == 8) { //transfer item from transfer inv.\n                 int id = slea.readInt(); //id of the item\n-                Connection con = DatabaseConnection.getConnection();\n+                Connection con = null;\n                 PreparedStatement ps;\n                 ResultSet rs;\n                 try {\n+                    con = DatabaseConnection.getConnection();\n                     ps = con.prepareStatement(\"SELECT * FROM mts_items WHERE seller = ? AND transfer = 1  AND id= ? ORDER BY id DESC\");\n                     ps.setInt(1, c.getPlayer().getId());\n                     ps.setInt(2, id);\n@@ -329,14 +336,16 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                     }\n                     rs.close();\n                     ps.close();\n+                    con.close();\n                 } catch (SQLException e) {\n                     e.printStackTrace();\n                     System.out.println(\"MTS Transfer error: \" + e);\n                 }\n             } else if (op == 9) { //add to cart\n                 int id = slea.readInt(); //id of the item\n-                Connection con = DatabaseConnection.getConnection();\n+                Connection con = null;\n                 try {\n+                    con = DatabaseConnection.getConnection();\n                     try (PreparedStatement ps1 = con.prepareStatement(\"SELECT * FROM mts_items WHERE id = ? AND seller <> ?\")) {\n                         ps1.setInt(1, id);//Previene que agregues al cart tus propios items\n                         ps1.setInt(2, c.getPlayer().getId());\n@@ -357,6 +366,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                             }\n                         }\n                     }\n+                    con.close();\n                 } catch (SQLException e) {\n                     e.printStackTrace();\n                 }\n@@ -367,13 +377,15 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                 c.announce(MaplePacketCreator.notYetSoldInv(getNotYetSold(c.getPlayer().getId())));\n             } else if (op == 10) { //delete from cart\n                 int id = slea.readInt(); //id of the item\n-                Connection con = DatabaseConnection.getConnection();\n+                Connection con = null;\n                 try {\n+                    con = DatabaseConnection.getConnection();\n                     try (PreparedStatement ps = con.prepareStatement(\"DELETE FROM mts_cart WHERE itemid = ? AND cid = ?\")) {\n                         ps.setInt(1, id);\n                         ps.setInt(2, c.getPlayer().getId());\n                         ps.executeUpdate();\n                     }\n+                    con.close();\n                 } catch (SQLException e) {\n                     e.printStackTrace();\n                 }\n@@ -386,10 +398,11 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             } else if (op == 14) { //buy auction item now\n             } else if (op == 16) { //buy\n                 int id = slea.readInt(); //id of the item\n-                Connection con = DatabaseConnection.getConnection();\n+                Connection con = null;\n                 PreparedStatement ps;\n                 ResultSet rs;\n                 try {\n+                    con = DatabaseConnection.getConnection();\n                     ps = con.prepareStatement(\"SELECT * FROM mts_items WHERE id = ? ORDER BY id DESC\");\n                     ps.setInt(1, id);\n                     rs = ps.executeQuery();\n@@ -442,16 +455,18 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                     }\n                     rs.close();\n                     ps.close();\n+                    con.close();\n                 } catch (SQLException e) {\n                     e.printStackTrace();\n                     c.announce(MaplePacketCreator.MTSFailBuy());\n                 }\n             } else if (op == 17) { //buy from cart\n                 int id = slea.readInt(); //id of the item\n-                Connection con = DatabaseConnection.getConnection();\n+                Connection con = null;\n                 PreparedStatement ps;\n                 ResultSet rs;\n                 try {\n+                    con = DatabaseConnection.getConnection();\n                     ps = con.prepareStatement(\"SELECT * FROM mts_items WHERE id = ? ORDER BY id DESC\");\n                     ps.setInt(1, id);\n                     rs = ps.executeQuery();\n@@ -500,6 +515,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                     }\n                     rs.close();\n                     ps.close();\n+                    con.close();\n                 } catch (SQLException e) {\n                     e.printStackTrace();\n                     c.announce(MaplePacketCreator.MTSFailBuy());\n@@ -514,10 +530,11 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n \n     public List<MTSItemInfo> getNotYetSold(int cid) {\n         List<MTSItemInfo> items = new ArrayList<>();\n-        Connection con = DatabaseConnection.getConnection();\n+        Connection con = null;\n         PreparedStatement ps;\n         ResultSet rs;\n         try {\n+            con = DatabaseConnection.getConnection();\n             ps = con.prepareStatement(\"SELECT * FROM mts_items WHERE seller = ? AND transfer = 0 ORDER BY id DESC\");\n             ps.setInt(1, cid);\n             rs = ps.executeQuery();\n@@ -554,6 +571,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             }\n             rs.close();\n             ps.close();\n+            con.close();\n         } catch (SQLException e) {\n             e.printStackTrace();\n         }\n@@ -562,11 +580,12 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n \n     public byte[] getCart(int cid) {\n         List<MTSItemInfo> items = new ArrayList<>();\n-        Connection con = DatabaseConnection.getConnection();\n+        Connection con = null;\n         PreparedStatement ps;\n         ResultSet rs;\n         int pages = 0;\n         try {\n+            con = DatabaseConnection.getConnection();\n             ps = con.prepareStatement(\"SELECT * FROM mts_cart WHERE cid = ? ORDER BY id DESC\");\n             ps.setInt(1, cid);\n             rs = ps.executeQuery();\n@@ -620,6 +639,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             }\n             rs.close();\n             ps.close();\n+            con.close();\n         } catch (SQLException e) {\n             e.printStackTrace();\n         }\n@@ -628,10 +648,11 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n \n     public List<MTSItemInfo> getTransfer(int cid) {\n         List<MTSItemInfo> items = new ArrayList<>();\n-        Connection con = DatabaseConnection.getConnection();\n+        Connection con = null;\n         PreparedStatement ps;\n         ResultSet rs;\n         try {\n+            con = DatabaseConnection.getConnection();\n             ps = con.prepareStatement(\"SELECT * FROM mts_items WHERE transfer = 1 AND seller = ? ORDER BY id DESC\");\n             ps.setInt(1, cid);\n             rs = ps.executeQuery();\n@@ -668,6 +689,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             }\n             rs.close();\n             ps.close();\n+            con.close();\n         } catch (SQLException e) {\n             e.printStackTrace();\n         }\n@@ -676,11 +698,12 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n \n     private static byte[] getMTS(int tab, int type, int page) {\n         List<MTSItemInfo> items = new ArrayList<>();\n-        Connection con = DatabaseConnection.getConnection();\n+        Connection con = null;\n         PreparedStatement ps;\n         ResultSet rs;\n         int pages = 0;\n         try {\n+            con = DatabaseConnection.getConnection();\n             if (type != 0) {\n                 ps = con.prepareStatement(\"SELECT * FROM mts_items WHERE tab = ? AND type = ? AND transfer = 0 ORDER BY id DESC LIMIT ?, 16\");\n             } else {\n@@ -741,6 +764,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             }\n             rs.close();\n             ps.close();\n+            con.close();\n         } catch (SQLException e) {\n             e.printStackTrace();\n         }\n@@ -768,11 +792,12 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n         } else {\n             listaitems = \" AND sellername LIKE CONCAT('%','\" + search + \"', '%')\";\n         }\n-        Connection con = DatabaseConnection.getConnection();\n+        Connection con = null;\n         PreparedStatement ps;\n         ResultSet rs;\n         int pages = 0;\n         try {\n+            con = DatabaseConnection.getConnection();\n             if (type != 0) {\n                 ps = con.prepareStatement(\"SELECT * FROM mts_items WHERE tab = ? \" + listaitems + \" AND type = ? AND transfer = 0 ORDER BY id DESC LIMIT ?, 16\");\n             } else {\n@@ -835,6 +860,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                 rs.close();\n                 ps.close();\n             }\n+            con.close();\n         } catch (SQLException e) {\n             e.printStackTrace();\n         }"}, {"sha": "acb8e9ae9b365977507c26810590826ee07412a3", "filename": "src/net/server/channel/handlers/NoteActionHandler.java", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/NoteActionHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/NoteActionHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/NoteActionHandler.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -30,6 +30,7 @@\n import tools.MaplePacketCreator;\n import tools.data.input.SeekableLittleEndianAccessor;\n import client.MapleClient;\n+import java.sql.Connection;\n \n public final class NoteActionHandler extends AbstractMaplePacketHandler {\n     public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n@@ -56,17 +57,19 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                 slea.readByte(); //Fame, but we read it from the database :)\n                 PreparedStatement ps;\n                 try {\n-                    ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT `fame` FROM notes WHERE id=? AND deleted=0\");\n+                    Connection con = DatabaseConnection.getConnection();\n+                    ps = con.prepareStatement(\"SELECT `fame` FROM notes WHERE id=? AND deleted=0\");\n                     ps.setInt(1, id);\n                     ResultSet rs = ps.executeQuery();\n                     if (rs.next())\n                             fame += rs.getInt(\"fame\");\n                     rs.close();\n \n-                    ps = DatabaseConnection.getConnection().prepareStatement(\"UPDATE notes SET `deleted` = 1 WHERE id = ?\");\n+                    ps = con.prepareStatement(\"UPDATE notes SET `deleted` = 1 WHERE id = ?\");\n                     ps.setInt(1, id);\n                     ps.executeUpdate();\n                     ps.close();\n+                    con.close();\n                 } catch (SQLException e) {\n                     e.printStackTrace();\n                 }"}, {"sha": "6ddefbba5c4649f1010764b8994bcd6fcf77e89a", "filename": "src/net/server/channel/handlers/PlayerLoggedinHandler.java", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/PlayerLoggedinHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/PlayerLoggedinHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/PlayerLoggedinHandler.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -113,20 +113,23 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n         if (buffs != null) {\n             player.silentGiveBuffs(buffs);\n         }\n-        Connection con = DatabaseConnection.getConnection();\n+        Connection con = null;\n         PreparedStatement ps = null;\n         PreparedStatement pss = null;\n         ResultSet rs = null;\n         try {\n+            con = DatabaseConnection.getConnection();\n             ps = con.prepareStatement(\"SELECT Mesos FROM dueypackages WHERE RecieverId = ? and Checked = 1\");\n             ps.setInt(1, player.getId());\n             rs = ps.executeQuery();\n             if (rs.next()) {\n                 try {\n-                    pss = DatabaseConnection.getConnection().prepareStatement(\"UPDATE dueypackages SET Checked = 0 where RecieverId = ?\");\n+                    Connection con2 = DatabaseConnection.getConnection();\n+                    pss = con2.prepareStatement(\"UPDATE dueypackages SET Checked = 0 where RecieverId = ?\");\n                     pss.setInt(1, player.getId());\n                     pss.executeUpdate();\n                     pss.close();\n+                    con2.close();\n                 } catch (SQLException e) {\n                     e.printStackTrace();\n                 }\n@@ -145,6 +148,9 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                 if (ps != null) {\n                     ps.close();\n                 }\n+                if (con != null) {\n+                    con.close();\n+                }\n             } catch (SQLException ex) {\n                 //ignore\n                 ex.printStackTrace();"}, {"sha": "f45bc24e3f40b26204d47f53e3dabf0456b77d9b", "filename": "src/net/server/channel/handlers/ReportHandler.java", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/ReportHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/ReportHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/ReportHandler.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -84,8 +84,9 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n \tpublic void addReport(int reporterid, int victimid, int reason, String description, String chatlog) {\n \t\tCalendar calendar = Calendar.getInstance();\n \t\tTimestamp currentTimestamp = new java.sql.Timestamp(calendar.getTime().getTime());\n-\t\tConnection con = DatabaseConnection.getConnection();\n+\t\tConnection con = null;\n \t\ttry {\n+                        con = DatabaseConnection.getConnection();\n \t\t\tPreparedStatement ps = con.prepareStatement(\"INSERT INTO reports (`reporttime`, `reporterid`, `victimid`, `reason`, `chatlog`, `description`) VALUES (?, ?, ?, ?, ?, ?)\");\n \t\t\tps.setString(1, currentTimestamp.toGMTString().toString());\n \t\t\tps.setInt(2, reporterid);\n@@ -96,6 +97,7 @@ public void addReport(int reporterid, int victimid, int reason, String descripti\n \t\t\tps.addBatch();\n \t\t\tps.executeBatch();\n \t\t\tps.close();\n+                        con.close();\n \t\t} catch (SQLException ex) {\n \t\t\tex.printStackTrace();\n \t\t}"}, {"sha": "b9ee5d093d55706ea1644e2d3ed0cef3c8af93f0", "filename": "src/net/server/channel/handlers/RingActionHandler.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/RingActionHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/RingActionHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/RingActionHandler.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -83,6 +83,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                 ps.setInt(2, player.getPartner().getId());\n                 ps.executeUpdate();\n                 ps.close();\n+                con.close();\n                 } catch (Exception ex) {\n                     ex.printStackTrace();\n                 }"}, {"sha": "3c21aa62a3933b9723151631c6399eb4c474f072", "filename": "src/net/server/channel/handlers/ScrollHandler.java", "status": "modified", "additions": 5, "deletions": 19, "changes": 24, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/ScrollHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/ScrollHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/ScrollHandler.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -69,7 +69,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n         Item scroll = useInventory.getItem(slot);\n         Item wscroll = null;\n \n-        if (((Equip) toScroll).getUpgradeSlots() < 1 && !isCleanSlate(scroll.getItemId())) {\n+        if (((Equip) toScroll).getUpgradeSlots() < 1 && !ItemConstants.isCleanSlate(scroll.getItemId())) {\n             c.announce(MaplePacketCreator.getInventoryFull());\n             return;\n         }\n@@ -85,24 +85,24 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             }\n         }\n \n-        if (!isChaosScroll(scroll.getItemId()) && !isCleanSlate(scroll.getItemId())) {\n+        if (!ItemConstants.isChaosScroll(scroll.getItemId()) && !ItemConstants.isCleanSlate(scroll.getItemId())) {\n             if (!canScroll(scroll.getItemId(), toScroll.getItemId())) {\n                 return;\n             }\n         }\n         \n-        if (isCleanSlate(scroll.getItemId()) && !(toScroll.getLevel() + toScroll.getUpgradeSlots() < ii.getEquipStats(toScroll.getItemId()).get(\"tuc\"))) { //upgrade slots can be over because of hammers\n+        if (ItemConstants.isCleanSlate(scroll.getItemId()) && !(toScroll.getLevel() + toScroll.getUpgradeSlots() < ii.getEquipStats(toScroll.getItemId()).get(\"tuc\"))) { //upgrade slots can be over because of hammers\n             return;\n         }\n         Equip scrolled = (Equip) ii.scrollEquipWithId(toScroll, scroll.getItemId(), whiteScroll, c.getPlayer().isGM());\n         ScrollResult scrollSuccess = Equip.ScrollResult.FAIL; // fail\n         if (scrolled == null) {\n             scrollSuccess = Equip.ScrollResult.CURSE;\n-        } else if (scrolled.getLevel() > oldLevel || (isCleanSlate(scroll.getItemId()) && scrolled.getUpgradeSlots() == oldSlots + 1) || isFlagModifier(scroll.getItemId(), scrolled.getFlag())) {\n+        } else if (scrolled.getLevel() > oldLevel || (ItemConstants.isCleanSlate(scroll.getItemId()) && scrolled.getUpgradeSlots() == oldSlots + 1) || ItemConstants.isFlagModifier(scroll.getItemId(), scrolled.getFlag())) {\n             scrollSuccess = Equip.ScrollResult.SUCCESS;\n         }\n         MapleInventoryManipulator.removeFromSlot(c, MapleInventoryType.USE, scroll.getPosition(), (short) 1, false);\n-        if (whiteScroll && !isCleanSlate(scroll.getItemId())) {\n+        if (whiteScroll && !ItemConstants.isCleanSlate(scroll.getItemId())) {\n             MapleInventoryManipulator.removeFromSlot(c, MapleInventoryType.USE, wscroll.getPosition(), (short) 1, false, false);\n         }\n         final List<ModifyInventory> mods = new ArrayList<>();\n@@ -124,20 +124,6 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n         }\n     }\n \n-    private boolean isFlagModifier(int scrollId, byte flag) {\n-        if(scrollId == 2041058 && ((flag & ItemConstants.COLD) == ItemConstants.COLD)) return true;\n-        if(scrollId == 2040727 && ((flag & ItemConstants.SPIKES) == ItemConstants.SPIKES)) return true;\n-        return false;\n-    }\n-    \n-    private boolean isCleanSlate(int scrollId) {\n-        return scrollId > 2048999 && scrollId < 2049004;\n-    }\n-    \n-    private boolean isChaosScroll(int scrollId) {\n-    \treturn scrollId >= 2049100 && scrollId <= 2049103;\n-    }\n-    \n     public boolean canScroll(int scrollid, int itemid) {\n         int sid = scrollid / 100;\n         "}, {"sha": "c352d974b4b833d9343dba28c27c8b4642d8c5ac", "filename": "src/net/server/channel/handlers/SpawnPetHandler.java", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/SpawnPetHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/SpawnPetHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/SpawnPetHandler.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -30,6 +30,7 @@\n import client.inventory.MaplePet;\n import client.inventory.PetDataFactory;\n import client.SkillFactory;\n+import java.sql.Connection;\n import java.sql.SQLException;\n import tools.DatabaseConnection;\n import net.AbstractMaplePacketHandler;\n@@ -66,10 +67,12 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                     return;\n                 }\n                 try {\n-                    PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"DELETE FROM pets WHERE `petid` = ?\");\n+                    Connection con = DatabaseConnection.getConnection();\n+                    PreparedStatement ps = con.prepareStatement(\"DELETE FROM pets WHERE `petid` = ?\");\n                     ps.setInt(1, pet.getUniqueId());\n                     ps.executeUpdate();\n                     ps.close();\n+                    con.close();\n                 } catch (SQLException ex) {\n                     ex.printStackTrace();\n                 }"}, {"sha": "188db87b108548c76d6e70744c561be3e387095f", "filename": "src/net/server/channel/handlers/UseItemHandler.java", "status": "modified", "additions": 3, "deletions": 10, "changes": 13, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/UseItemHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/UseItemHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/UseItemHandler.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -25,6 +25,7 @@\n import client.MapleDisease;\n import client.inventory.Item;\n import client.inventory.MapleInventoryType;\n+import constants.ItemConstants;\n import net.AbstractMaplePacketHandler;\n import server.MapleInventoryManipulator;\n import server.MapleItemInformationProvider;\n@@ -66,13 +67,13 @@ else if (itemId == 2050001) {\n                 remove(c, slot);\n                 return;\n             }\n-            else if (isTownScroll(itemId)) {\n+            else if (ItemConstants.isTownScroll(itemId)) {\n                 if (ii.getItemEffect(toUse.getItemId()).applyTo(c.getPlayer())) {\n                     remove(c, slot);\n                 }\n                 return;\n             }\n-            else if (isAntibanishScroll(itemId)) {\n+            else if (ItemConstants.isAntibanishScroll(itemId)) {\n                 if (ii.getItemEffect(toUse.getItemId()).applyTo(c.getPlayer())) {\n                     remove(c, slot);\n                 } else {\n@@ -92,12 +93,4 @@ private void remove(MapleClient c, short slot) {\n         MapleInventoryManipulator.removeFromSlot(c, MapleInventoryType.USE, slot, (short) 1, false);\n         c.announce(MaplePacketCreator.enableActions());\n     }\n-\n-    private static boolean isTownScroll(int itemId) {\n-        return itemId >= 2030000 && itemId < 2030021;\n-    }\n-    \n-    private static boolean isAntibanishScroll(int itemId) {\n-        return itemId == 2030100;\n-    }\n }"}, {"sha": "62dbaaa0ee9c87b87497640110f3e56eb0a53a40", "filename": "src/net/server/channel/handlers/WhisperHandler.java", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/WhisperHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/channel/handlers/WhisperHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/WhisperHandler.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -35,6 +35,7 @@\n import client.MapleCharacter;\n import client.MapleClient;\n import client.autoban.AutobanFactory;\n+import java.sql.Connection;\n \n /**\n  *\n@@ -93,7 +94,8 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                 }\n             } else { // not found\n                 try {\n-                    PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT gm FROM characters WHERE name = ?\");\n+                    Connection con = DatabaseConnection.getConnection();\n+                    PreparedStatement ps = con.prepareStatement(\"SELECT gm FROM characters WHERE name = ?\");\n                     ps.setString(1, recipient);\n                     ResultSet rs = ps.executeQuery();\n                     if (rs.next()) {\n@@ -104,6 +106,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                     }\n                     rs.close();\n                     ps.close();\n+                    con.close();\n                     byte channel = (byte) (c.getWorldServer().find(recipient) - 1);\n                     if (channel > -1) {\n                         c.announce(MaplePacketCreator.getFindReply(recipient, channel, 3));"}, {"sha": "2a806bd517c128f0571a7a8cc952e45192f7b072", "filename": "src/net/server/guild/MapleAlliance.java", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/guild/MapleAlliance.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/guild/MapleAlliance.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/guild/MapleAlliance.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -64,7 +64,8 @@ public static boolean canBeUsedAllianceName(String name) {\n         }\n         try {\n             ResultSet rs;\n-            try (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT name FROM alliance WHERE name = ?\")) {\n+            Connection con = DatabaseConnection.getConnection();\n+            try (PreparedStatement ps = con.prepareStatement(\"SELECT name FROM alliance WHERE name = ?\")) {\n                 ps.setString(1, name);\n                 rs = ps.executeQuery();\n                 if (rs.next()) {\n@@ -74,6 +75,7 @@ public static boolean canBeUsedAllianceName(String name) {\n                 }\n             }\n             rs.close();\n+            con.close();\n             return true;\n         } catch (SQLException e) {\n             e.printStackTrace();\n@@ -166,7 +168,6 @@ public static MapleAlliance createAllianceOnDb(List<Integer> guilds, String name\n             \n             ps.close();\n             con.close();\n-            \n         } catch (SQLException e) {\n             e.printStackTrace();\n             return null;\n@@ -217,7 +218,6 @@ public static MapleAlliance loadAlliance(int id) {\n             \n             ps.close();\n             rs.close();\n-            \n             con.close();\n         } catch (SQLException e) {\n             e.printStackTrace();"}, {"sha": "cc729cb84948ffc7a2a58e2cebc97f2acc42aff5", "filename": "src/net/server/guild/MapleGuild.java", "status": "modified", "additions": 20, "deletions": 5, "changes": 25, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/guild/MapleGuild.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/guild/MapleGuild.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/guild/MapleGuild.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -58,8 +58,9 @@\n     public MapleGuild(int guildid, int world) {\n         this.world = world;\n         members = new ArrayList<>();\n-        Connection con = DatabaseConnection.getConnection();\n+        Connection con = null;\n         try {\n+            con = DatabaseConnection.getConnection();\n             PreparedStatement ps = con.prepareStatement(\"SELECT * FROM guilds WHERE guildid = \" + guildid);\n             ResultSet rs = ps.executeQuery();\n             if (!rs.first()) {\n@@ -99,6 +100,7 @@ public MapleGuild(int guildid, int world) {\n             \n             ps.close();\n             rs.close();\n+            con.close();\n         } catch (SQLException se) {\n             se.printStackTrace();\n             System.out.println(\"Unable to read guild information from sql\" + se);\n@@ -169,6 +171,8 @@ public void writeToDB(boolean bDisband) {\n                 ps.close();\n                 this.broadcast(MaplePacketCreator.guildDisband(this.id));\n             }\n+            \n+            con.close();\n         } catch (SQLException se) {\n             se.printStackTrace();\n         }\n@@ -413,13 +417,16 @@ public void expelMember(MapleGuildCharacter initiator, String name, int cid) {\n                             Server.getInstance().getWorld(mgc.getWorld()).setGuildAndRank(cid, 0, 5);\n                         } else {\n                             try {\n-                                try (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"INSERT INTO notes (`to`, `from`, `message`, `timestamp`) VALUES (?, ?, ?, ?)\")) {\n+                                Connection con = DatabaseConnection.getConnection();\n+                                try (PreparedStatement ps = con.prepareStatement(\"INSERT INTO notes (`to`, `from`, `message`, `timestamp`) VALUES (?, ?, ?, ?)\")) {\n                                     ps.setString(1, mgc.getName());\n                                     ps.setString(2, initiator.getName());\n                                     ps.setString(3, \"You have been expelled from the guild.\");\n                                     ps.setLong(4, System.currentTimeMillis());\n                                     ps.executeUpdate();\n                                 }\n+                                \n+                                con.close();\n                             } catch (SQLException e) {\n                                 e.printStackTrace();\n                                 System.out.println(\"expelMember - MapleGuild \" + e);\n@@ -572,11 +579,13 @@ public static MapleGuildResponse sendInvite(MapleClient c, String targetName) {\n     public static void displayGuildRanks(MapleClient c, int npcid) {\n         try {\n             ResultSet rs;\n-            try (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT `name`, `GP`, `logoBG`, `logoBGColor`, `logo`, `logoColor` FROM guilds WHERE NOT `guildid` = '1' ORDER BY `GP` DESC LIMIT 50\")) {\n+            Connection con = DatabaseConnection.getConnection();\n+            try (PreparedStatement ps = con.prepareStatement(\"SELECT `name`, `GP`, `logoBG`, `logoBGColor`, `logo`, `logoColor` FROM guilds WHERE NOT `guildid` = '1' ORDER BY `GP` DESC LIMIT 50\")) {\n                 rs = ps.executeQuery();\n                 c.announce(MaplePacketCreator.showGuildRanks(npcid, rs));\n             }\n             rs.close();\n+            con.close();\n         } catch (SQLException e) {\n             e.printStackTrace();\n             System.out.println(\"failed to display guild ranks. \" + e);\n@@ -590,11 +599,14 @@ public int getAllianceId() {\n     public void setAllianceId(int aid) {\n         this.allianceId = aid;\n         try {\n-            try (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"UPDATE guilds SET allianceId = ? WHERE guildid = ?\")) {\n+            Connection con = DatabaseConnection.getConnection();\n+            try (PreparedStatement ps = con.prepareStatement(\"UPDATE guilds SET allianceId = ? WHERE guildid = ?\")) {\n                 ps.setInt(1, aid);\n                 ps.setInt(2, id);\n                 ps.executeUpdate();\n             }\n+            \n+            con.close();\n         } catch (SQLException e) {\n             e.printStackTrace();\n         }\n@@ -608,11 +620,14 @@ public void resetAllianceGuildPlayersRank() {\n                 }\n             }\n             \n-            try (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"UPDATE characters SET allianceRank = ? WHERE guildid = ?\")) {\n+            Connection con = DatabaseConnection.getConnection();\n+            try (PreparedStatement ps = con.prepareStatement(\"UPDATE characters SET allianceRank = ? WHERE guildid = ?\")) {\n                 ps.setInt(1, 5);\n                 ps.setInt(2, id);\n                 ps.executeUpdate();\n             }\n+            \n+            con.close();\n         } catch (SQLException e) {\n             e.printStackTrace();\n         }"}, {"sha": "99ccfbf4759cd3a4f3dae71334ccd670ef32dc77", "filename": "src/net/server/handlers/login/ViewCharHandler.java", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/handlers/login/ViewCharHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/handlers/login/ViewCharHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/handlers/login/ViewCharHandler.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -23,6 +23,7 @@\n \n import client.MapleCharacter;\n import client.MapleClient;\n+import java.sql.Connection;\n import java.sql.PreparedStatement;\n import java.sql.ResultSet;\n import java.util.ArrayList;\n@@ -40,7 +41,9 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             short charsNum;\n             List<Integer> worlds;\n             List<MapleCharacter> chars;\n-            try (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT world, id FROM characters WHERE accountid = ?\")) {\n+            \n+            Connection con = DatabaseConnection.getConnection();\n+            try (PreparedStatement ps = con.prepareStatement(\"SELECT world, id FROM characters WHERE accountid = ?\")) {\n                 ps.setInt(1, c.getAccID());\n                 charsNum = 0;\n                 worlds = new ArrayList<>();\n@@ -75,6 +78,8 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                 }\n                 c.announce(MaplePacketCreator.showAllCharacterInfo(w, chrsinworld));\n             }\n+            \n+            con.close();\n         } catch (Exception e) {\n             e.printStackTrace();\n         }"}, {"sha": "81e7fef75705a87dac49c9122b0335b87e531c98", "filename": "src/net/server/world/World.java", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/world/World.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/net/server/world/World.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/world/World.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -28,6 +28,7 @@\n import client.MapleCharacter;\n import client.MapleFamily;\n import constants.ServerConstants;\n+import java.sql.Connection;\n \n import java.sql.PreparedStatement;\n import java.sql.SQLException;\n@@ -252,12 +253,15 @@ public void setGuildAndRank(List<Integer> cids, int guildid, int rank, int excep\n \n     public void setOfflineGuildStatus(int guildid, int guildrank, int cid) {\n         try {\n-            try (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"UPDATE characters SET guildid = ?, guildrank = ? WHERE id = ?\")) {\n+            Connection con = DatabaseConnection.getConnection();\n+            try (PreparedStatement ps = con.prepareStatement(\"UPDATE characters SET guildid = ?, guildrank = ? WHERE id = ?\")) {\n                 ps.setInt(1, guildid);\n                 ps.setInt(2, guildrank);\n                 ps.setInt(3, cid);\n                 ps.execute();\n             }\n+            \n+            con.close();\n         } catch (SQLException se) {\n             se.printStackTrace();\n         }"}, {"sha": "19cd7c2415dd23953f6dbc7d60d96b4f7bc1ba0e", "filename": "src/scripting/AbstractPlayerInteraction.java", "status": "modified", "additions": 25, "deletions": 23, "changes": 48, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/scripting/AbstractPlayerInteraction.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/scripting/AbstractPlayerInteraction.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/scripting/AbstractPlayerInteraction.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -416,29 +416,31 @@ public Item gainItem(int id, short quantity, boolean randomStats, boolean showMe\n \t\tItem item = null;\n                 MaplePet evolved = null;\n                 int petId = -1;\n-\t\tif (id >= 5000000 && id <= 5000100) {\n-                        petId = MaplePet.createPet(id);\n-                        \n-                        if(from != null) {\n-                            evolved = MaplePet.loadFromDb(id, (short) 0, petId);\n-                            \n-                            Point pos = getPlayer().getPosition();\n-                            pos.y -= 12;\n-                            evolved.setPos(pos);\n-                            evolved.setFh(getPlayer().getMap().getFootholds().findBelow(evolved.getPos()).getId());\n-                            evolved.setStance(0);\n-                            evolved.setSummoned(true);\n-\n-                            evolved.setName(from.getName());\n-                            evolved.setCloseness(from.getCloseness());\n-                            evolved.setFullness(from.getFullness());\n-                            evolved.setLevel(from.getLevel());\n-                            evolved.saveToDb();\n-                        }\n-                        \n-\t\t\t//MapleInventoryManipulator.addById(c, id, (short) 1, null, petId, expires == -1 ? -1 : System.currentTimeMillis() + expires);\n-\t\t}\n+\t\t\n \t\tif (quantity >= 0) {\n+                        if (id >= 5000000 && id <= 5000100) {\n+                                petId = MaplePet.createPet(id);\n+\n+                                if(from != null) {\n+                                    evolved = MaplePet.loadFromDb(id, (short) 0, petId);\n+\n+                                    Point pos = getPlayer().getPosition();\n+                                    pos.y -= 12;\n+                                    evolved.setPos(pos);\n+                                    evolved.setFh(getPlayer().getMap().getFootholds().findBelow(evolved.getPos()).getId());\n+                                    evolved.setStance(0);\n+                                    evolved.setSummoned(true);\n+\n+                                    evolved.setName(from.getName());\n+                                    evolved.setCloseness(from.getCloseness());\n+                                    evolved.setFullness(from.getFullness());\n+                                    evolved.setLevel(from.getLevel());\n+                                    evolved.saveToDb();\n+                                }\n+\n+                                //MapleInventoryManipulator.addById(c, id, (short) 1, null, petId, expires == -1 ? -1 : System.currentTimeMillis() + expires);\n+                        }\n+                    \n \t\t\tMapleItemInformationProvider ii = MapleItemInformationProvider.getInstance();\n \n \t\t\tif (ii.getInventoryType(id).equals(MapleInventoryType.EQUIP)) {\n@@ -687,7 +689,7 @@ public void removeAll(int id) {\n \t}\n \n \tpublic void removeAll(int id, MapleClient cl) {\n-\t\tMapleInventoryType invType =   MapleItemInformationProvider.getInstance().getInventoryType(id);\n+\t\tMapleInventoryType invType = MapleItemInformationProvider.getInstance().getInventoryType(id);\n \t\tint possessed = cl.getPlayer().getInventory(invType).countById(id);\n \t\tif (possessed > 0) {\n \t\t\tMapleInventoryManipulator.removeById(cl, MapleItemInformationProvider.getInstance().getInventoryType(id), id, possessed, true, false);"}, {"sha": "ec24c4e58e2aa707eadb8ecd4f869383a9da1346", "filename": "src/scripting/event/EventInstanceManager.java", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/scripting/event/EventInstanceManager.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/scripting/event/EventInstanceManager.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/scripting/event/EventInstanceManager.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -57,6 +57,7 @@\n import constants.ItemConstants;\n import constants.ServerConstants;\n import java.awt.Point;\n+import java.sql.Connection;\n import java.util.concurrent.ScheduledFuture;\n import java.util.logging.Level;\n import java.util.logging.Logger;\n@@ -570,13 +571,16 @@ public String getName() {\n \n \tpublic void saveWinner(MapleCharacter chr) {\n \t\ttry {\n-\t\t\ttry (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"INSERT INTO eventstats (event, instance, characterid, channel) VALUES (?, ?, ?, ?)\")) {\n+                        Connection con = DatabaseConnection.getConnection();\n+\t\t\ttry (PreparedStatement ps = con.prepareStatement(\"INSERT INTO eventstats (event, instance, characterid, channel) VALUES (?, ?, ?, ?)\")) {\n \t\t\t\tps.setString(1, em.getName());\n \t\t\t\tps.setString(2, getName());\n \t\t\t\tps.setInt(3, chr.getId());\n \t\t\t\tps.setInt(4, chr.getClient().getChannel());\n \t\t\t\tps.executeUpdate();\n \t\t\t}\n+                        \n+                        con.close();\n \t\t} catch (SQLException ex) {\n \t\t\tex.printStackTrace();\n \t\t}"}, {"sha": "c21f0fe03d99867a516da89dd50e67743de58659", "filename": "src/scripting/portal/PortalPlayerInteraction.java", "status": "modified", "additions": 11, "deletions": 4, "changes": 15, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/scripting/portal/PortalPlayerInteraction.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/scripting/portal/PortalPlayerInteraction.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/scripting/portal/PortalPlayerInteraction.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -22,6 +22,7 @@\n package scripting.portal;\n \n import client.MapleClient;\n+import java.sql.Connection;\n import java.sql.PreparedStatement;\n import java.sql.ResultSet;\n import java.sql.SQLException;\n@@ -46,14 +47,16 @@ public MaplePortal getPortal() {\n     public boolean hasLevel30Character() {\n         PreparedStatement ps = null;\n         ResultSet rs = null;\n+        Connection con = null;\n         try {\n-            ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT `level` FROM `characters` WHERE accountid = ?\");\n+            con = DatabaseConnection.getConnection();\n+            ps = con.prepareStatement(\"SELECT `level` FROM `characters` WHERE accountid = ?\");\n             ps.setInt(1, getPlayer().getAccountID());\n             rs = ps.executeQuery();\n             while (rs.next()) {\n                 if (rs.getInt(\"level\") >= 30) {\n-                \tps.close();\t\n-                \trs.close();\n+                    ps.close();\n+                    rs.close();\n                     return true;\n                 }\n             }\n@@ -67,11 +70,15 @@ public boolean hasLevel30Character() {\n                 if (rs != null && !rs.isClosed()) {\n                     rs.close();\n                 }\n+                if (con != null && !con.isClosed()) {\n+                    con.close();\n+                }\n             } catch (SQLException ex) {\n                 ex.printStackTrace();\n             }\n         }\n-        return false;\n+        \n+        return getPlayer().getLevel() >= 30;\n     }\n \n     public void blockPortal() {"}, {"sha": "46074737e6e4af9d6a79f388f8e4fac0e8cf78c2", "filename": "src/scripting/reactor/ReactorScriptManager.java", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/scripting/reactor/ReactorScriptManager.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/scripting/reactor/ReactorScriptManager.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/scripting/reactor/ReactorScriptManager.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -22,6 +22,7 @@\n package scripting.reactor;\n \n import client.MapleClient;\n+import java.sql.Connection;\n import java.sql.PreparedStatement;\n import java.sql.ResultSet;\n import java.util.HashMap;\n@@ -82,14 +83,17 @@ public void act(MapleClient c, MapleReactor reactor) {\n         if (ret == null) {\n             ret = new LinkedList<>();\n             try {\n-                try (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT itemid, chance, questid FROM reactordrops WHERE reactorid = ? AND chance >= 0\")) {\n+                Connection con = DatabaseConnection.getConnection();\n+                try (PreparedStatement ps = con.prepareStatement(\"SELECT itemid, chance, questid FROM reactordrops WHERE reactorid = ? AND chance >= 0\")) {\n                     ps.setInt(1, rid);\n                     try (ResultSet rs = ps.executeQuery()) {\n                         while (rs.next()) {\n                             ret.add(new ReactorDropEntry(rs.getInt(\"itemid\"), rs.getInt(\"chance\"), rs.getInt(\"questid\")));\n                         }\n                     }\n                 }\n+                \n+                con.close();\n             } catch (Throwable e) {\n                 FilePrinter.printError(FilePrinter.REACTOR + rid + \".txt\", e);\n             }"}, {"sha": "2596b2024918660d5b50723be18df21b0ad8244f", "filename": "src/server/CashShop.java", "status": "modified", "additions": 26, "deletions": 12, "changes": 38, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/server/CashShop.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/server/CashShop.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/CashShop.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -162,8 +162,10 @@ public byte getInfo() {\n             }\n             PreparedStatement ps = null;\n             ResultSet rs = null;\n+            Connection con = null;\n             try {\n-                ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT * FROM specialcashitems\");\n+                con = DatabaseConnection.getConnection();\n+                ps = con.prepareStatement(\"SELECT * FROM specialcashitems\");\n                 rs = ps.executeQuery();\n                 while (rs.next()) {\n                     specialcashitems.add(new SpecialCashItem(rs.getInt(\"sn\"), rs.getInt(\"modifier\"), rs.getByte(\"info\")));\n@@ -172,8 +174,9 @@ public byte getInfo() {\n                 ex.printStackTrace();\n             } finally {\n                 try {\n-                    if (rs != null) rs.close();\n-                    if (ps != null) ps.close();\n+                    if (rs != null && !rs.isClosed()) rs.close();\n+                    if (ps != null && !ps.isClosed()) ps.close();\n+                    if (con != null && !con.isClosed()) con.close();\n                 } catch (SQLException ex) {\n                     ex.printStackTrace();\n                 }\n@@ -206,8 +209,10 @@ public static void reloadSpecialCashItems() {//Yay?\n             specialcashitems.clear();\n             PreparedStatement ps = null;\n             ResultSet rs = null;\n+            Connection con = null;\n             try {\n-                ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT * FROM specialcashitems\");\n+                con = DatabaseConnection.getConnection();\n+                ps = con.prepareStatement(\"SELECT * FROM specialcashitems\");\n                 rs = ps.executeQuery();\n                 while (rs.next()) {\n                     specialcashitems.add(new SpecialCashItem(rs.getInt(\"sn\"), rs.getInt(\"modifier\"), rs.getByte(\"info\")));\n@@ -216,14 +221,16 @@ public static void reloadSpecialCashItems() {//Yay?\n                 ex.printStackTrace();\n             } finally {\n                 try {\n-                    if (rs != null) rs.close();\n-                    if (ps != null) ps.close();\n+                    if (rs != null && !rs.isClosed()) rs.close();\n+                    if (ps != null && !ps.isClosed()) ps.close();\n+                    if (con != null && !con.isClosed()) con.close();\n                 } catch (SQLException ex) {\n                     ex.printStackTrace();\n                 }\n             }            \n         }\n     }\n+    \n     private int accountId, characterId, nxCredit, maplePoint, nxPrepaid;\n     private boolean opened;\n     private ItemFactory factory;\n@@ -274,9 +281,11 @@ public CashShop(int accountId, int characterId, int jobType) throws SQLException\n \n             rs.close();\n             ps.close();\n+            con.close();\n         } finally {\n-            if (ps != null) ps.close();\n-            if (rs != null) rs.close();\n+            if (ps != null && !ps.isClosed()) ps.close();\n+            if (rs != null && !rs.isClosed()) rs.close();\n+            if (con != null && !con.isClosed()) con.close();\n         }\n     }\n \n@@ -361,31 +370,35 @@ public void gift(int recipient, String from, String message, int sn) {\n \n     public void gift(int recipient, String from, String message, int sn, int ringid) {\n         PreparedStatement ps = null;\n+        Connection con = null;\n         try {\n-            ps = DatabaseConnection.getConnection().prepareStatement(\"INSERT INTO `gifts` VALUES (DEFAULT, ?, ?, ?, ?, ?)\");\n+            con = DatabaseConnection.getConnection();\n+            ps = con.prepareStatement(\"INSERT INTO `gifts` VALUES (DEFAULT, ?, ?, ?, ?, ?)\");\n             ps.setInt(1, recipient);\n             ps.setString(2, from);\n             ps.setString(3, message);\n             ps.setInt(4, sn);\n             ps.setInt(5, ringid);\n             ps.executeUpdate();\n+            con.close();\n         } catch (SQLException sqle) {\n             sqle.printStackTrace();\n         } finally {\n             try {\n-                if (ps != null) ps.close();\n+                if (ps != null && !ps.isClosed()) ps.close();\n+                if (con != null && !con.isClosed()) con.close();\n             } catch (SQLException ex) {\n                 ex.printStackTrace();\n             }\n         }\n     }\n \n-\n     public List<Pair<Item, String>> loadGifts() {\n         List<Pair<Item, String>> gifts = new ArrayList<>();\n-        Connection con = DatabaseConnection.getConnection();\n+        Connection con = null;\n \n         try {\n+            con = DatabaseConnection.getConnection();\n             PreparedStatement ps = con.prepareStatement(\"SELECT * FROM `gifts` WHERE `to` = ?\");\n             ps.setInt(1, characterId);\n             ResultSet rs = ps.executeQuery();\n@@ -419,6 +432,7 @@ public void gift(int recipient, String from, String message, int sn, int ringid)\n             ps.setInt(1, characterId);\n             ps.executeUpdate();\n             ps.close();\n+            con.close();\n         } catch (SQLException sqle) {\n             sqle.printStackTrace();\n         }"}, {"sha": "0a5641bc0c45414d13ec2deb94a7112fbbb4d6cd", "filename": "src/server/MakerItemFactory.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/server/MakerItemFactory.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/server/MakerItemFactory.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/MakerItemFactory.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -69,6 +69,7 @@ public static MakerItemCreateEntry getItemCreateEntry(int toCreate) {\n                 }\n                 rs.close();\n                 ps.close();\n+                con.close();\n                 createCache.put(toCreate, ret);\n             } catch (SQLException sqle) {\n                 sqle.printStackTrace();"}, {"sha": "aba5e648750f82579a7f396727b7606c5f7a3297", "filename": "src/server/MapleItemInformationProvider.java", "status": "modified", "additions": 82, "deletions": 83, "changes": 165, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/server/MapleItemInformationProvider.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/server/MapleItemInformationProvider.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/MapleItemInformationProvider.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -65,6 +65,7 @@\n import constants.skills.Assassin;\n import constants.skills.Gunslinger;\n import constants.skills.NightWalker;\n+import java.sql.Connection;\n import server.life.MapleMonsterInformationProvider;\n \n /**\n@@ -533,10 +534,6 @@ public MapleWeaponType getWeaponType(int itemId) {\n         return type[cat - 30];\n     }\n \n-    private boolean isCleanSlate(int scrollId) {\n-        return scrollId > 2048999 && scrollId < 2049004;\n-    }\n-\n     private static double testYourLuck() {\n         double result = 100.0, rolled;\n         int i, j = ServerConstants.SCROLL_CHANCE_RATE;\n@@ -554,14 +551,22 @@ public static boolean rollSuccessChance(double prop) {\n         return(testYourLuck() <= prop && prop > 0.0);\n     }\n     \n+    private static short getMaximumShortMaxIfOverflow(int value1, int value2) {\n+        return (short)Math.min(Short.MAX_VALUE, Math.max(value1, value2));\n+    }\n+    \n+    private static short getShortMaxIfOverflow(int value) {\n+        return (short)Math.min(Short.MAX_VALUE, value);\n+    }\n+    \n     public Item scrollEquipWithId(Item equip, int scrollId, boolean usingWhiteScroll, boolean isGM) {\n         if (equip instanceof Equip) {\n             Equip nEquip = (Equip) equip;\n             \n             Map<String, Integer> stats = this.getEquipStats(scrollId);\n             Map<String, Integer> eqstats = this.getEquipStats(equip.getItemId());\n             \n-            if (((nEquip.getUpgradeSlots() > 0 || isCleanSlate(scrollId))) || isGM) {\n+            if (((nEquip.getUpgradeSlots() > 0 || ItemConstants.isCleanSlate(scrollId))) || isGM) {\n                 if(isGM || rollSuccessChance((double)stats.get(\"success\"))) {\n                     short flag = nEquip.getFlag();\n                     switch (scrollId) {\n@@ -600,7 +605,7 @@ public Item scrollEquipWithId(Item equip, int scrollId, boolean usingWhiteScroll\n                                 for(i = 0; i < ServerConstants.SCROLL_CHANCE_RATE; i++) {\n                                     if (nEquip.getStr() > 0) {\n                                         temp = (nEquip.getStr() + Randomizer.nextInt(6) * inc);\n-                                        nEquip.setStr((short) Math.max(mdStr, temp));\n+                                        nEquip.setStr(getMaximumShortMaxIfOverflow(mdStr, temp));\n                                         \n                                         if(ServerConstants.USE_ENHANCED_CHSCROLL == true) {\n                                             mdStr = nEquip.getStr();\n@@ -612,7 +617,7 @@ public Item scrollEquipWithId(Item equip, int scrollId, boolean usingWhiteScroll\n                                     }\n                                     if (nEquip.getDex() > 0) {\n                                         temp = (nEquip.getDex() + Randomizer.nextInt(6) * inc);\n-                                        nEquip.setDex((short) Math.max(mdDex, temp));\n+                                        nEquip.setDex(getMaximumShortMaxIfOverflow(mdDex, temp));\n                                         \n                                         if(ServerConstants.USE_ENHANCED_CHSCROLL == true) {\n                                             mdDex = nEquip.getDex();\n@@ -624,7 +629,7 @@ public Item scrollEquipWithId(Item equip, int scrollId, boolean usingWhiteScroll\n                                     }\n                                     if (nEquip.getInt() > 0) {\n                                         temp = (nEquip.getInt() + Randomizer.nextInt(6) * inc);\n-                                        nEquip.setInt((short) Math.max(mdInt, temp));\n+                                        nEquip.setInt(getMaximumShortMaxIfOverflow(mdInt, temp));\n                                         \n                                         if(ServerConstants.USE_ENHANCED_CHSCROLL == true) {\n                                             mdInt = nEquip.getInt();\n@@ -636,7 +641,7 @@ public Item scrollEquipWithId(Item equip, int scrollId, boolean usingWhiteScroll\n                                     }\n                                     if (nEquip.getLuk() > 0) {\n                                         temp = (nEquip.getLuk() + Randomizer.nextInt(6) * inc);\n-                                        nEquip.setLuk((short) Math.max(mdLuk, temp));\n+                                        nEquip.setLuk(getMaximumShortMaxIfOverflow(mdLuk, temp));\n                                         \n                                         if(ServerConstants.USE_ENHANCED_CHSCROLL == true) {\n                                             mdLuk = nEquip.getLuk();\n@@ -648,7 +653,7 @@ public Item scrollEquipWithId(Item equip, int scrollId, boolean usingWhiteScroll\n                                     }\n                                     if (nEquip.getWatk() > 0) {\n                                         temp = (nEquip.getWatk() + Randomizer.nextInt(6) * inc);\n-                                        nEquip.setWatk((short) Math.max(mdWatk, temp));\n+                                        nEquip.setWatk(getMaximumShortMaxIfOverflow(mdWatk, temp));\n                                         \n                                         if(ServerConstants.USE_ENHANCED_CHSCROLL == true) {\n                                             mdWatk = nEquip.getWatk();\n@@ -660,7 +665,7 @@ public Item scrollEquipWithId(Item equip, int scrollId, boolean usingWhiteScroll\n                                     }\n                                     if (nEquip.getWdef() > 0) {\n                                         temp = (nEquip.getWdef() + Randomizer.nextInt(6) * inc);\n-                                        nEquip.setWdef((short) Math.max(mdWdef, temp));\n+                                        nEquip.setWdef(getMaximumShortMaxIfOverflow(mdWdef, temp));\n                                         \n                                         if(ServerConstants.USE_ENHANCED_CHSCROLL == true) {\n                                             mdWdef = nEquip.getWdef();\n@@ -672,7 +677,7 @@ public Item scrollEquipWithId(Item equip, int scrollId, boolean usingWhiteScroll\n                                     }\n                                     if (nEquip.getMatk() > 0) {\n                                         temp = (nEquip.getMatk() + Randomizer.nextInt(6) * inc);\n-                                        nEquip.setMatk((short) Math.max(mdMatk, temp));\n+                                        nEquip.setMatk(getMaximumShortMaxIfOverflow(mdMatk, temp));\n                                         \n                                         if(ServerConstants.USE_ENHANCED_CHSCROLL == true) {\n                                             mdMatk = nEquip.getMatk();\n@@ -684,7 +689,7 @@ public Item scrollEquipWithId(Item equip, int scrollId, boolean usingWhiteScroll\n                                     }\n                                     if (nEquip.getMdef() > 0) {\n                                         temp = (nEquip.getMdef() + Randomizer.nextInt(6) * inc);\n-                                        nEquip.setMdef((short) Math.max(mdMdef, temp));\n+                                        nEquip.setMdef(getMaximumShortMaxIfOverflow(mdMdef, temp));\n                                         \n                                         if(ServerConstants.USE_ENHANCED_CHSCROLL == true) {\n                                             mdMdef = nEquip.getMdef();\n@@ -696,7 +701,7 @@ public Item scrollEquipWithId(Item equip, int scrollId, boolean usingWhiteScroll\n                                     }\n                                     if (nEquip.getAcc() > 0) {\n                                         temp = (nEquip.getAcc() + Randomizer.nextInt(6) * inc);\n-                                        nEquip.setAcc((short) Math.max(mdAcc, temp));\n+                                        nEquip.setAcc(getMaximumShortMaxIfOverflow(mdAcc, temp));\n                                         \n                                         if(ServerConstants.USE_ENHANCED_CHSCROLL == true) {\n                                             mdAcc = nEquip.getAcc();\n@@ -708,7 +713,7 @@ public Item scrollEquipWithId(Item equip, int scrollId, boolean usingWhiteScroll\n                                     }\n                                     if (nEquip.getAvoid() > 0) {\n                                         temp = (nEquip.getAvoid() + Randomizer.nextInt(6) * inc);\n-                                        nEquip.setAvoid((short) Math.max(mdAvoid, temp));\n+                                        nEquip.setAvoid(getMaximumShortMaxIfOverflow(mdAvoid, temp));\n                                         \n                                         if(ServerConstants.USE_ENHANCED_CHSCROLL == true) {\n                                             mdAvoid = nEquip.getAvoid();\n@@ -720,7 +725,7 @@ public Item scrollEquipWithId(Item equip, int scrollId, boolean usingWhiteScroll\n                                     }\n                                     if (nEquip.getSpeed() > 0) {\n                                         temp = (nEquip.getSpeed() + Randomizer.nextInt(6) * inc);\n-                                        nEquip.setSpeed((short) Math.max(mdSpeed, temp));\n+                                        nEquip.setSpeed(getMaximumShortMaxIfOverflow(mdSpeed, temp));\n                                         \n                                         if(ServerConstants.USE_ENHANCED_CHSCROLL == true) {\n                                             mdSpeed = nEquip.getSpeed();\n@@ -732,7 +737,7 @@ public Item scrollEquipWithId(Item equip, int scrollId, boolean usingWhiteScroll\n                                     }\n                                     if (nEquip.getJump() > 0) {\n                                         temp = (nEquip.getJump() + Randomizer.nextInt(6) * inc);\n-                                        nEquip.setJump((short) Math.max(mdJump, temp));\n+                                        nEquip.setJump(getMaximumShortMaxIfOverflow(mdJump, temp));\n                                         \n                                         if(ServerConstants.USE_ENHANCED_CHSCROLL == true) {\n                                             mdJump = nEquip.getJump();\n@@ -744,7 +749,7 @@ public Item scrollEquipWithId(Item equip, int scrollId, boolean usingWhiteScroll\n                                     }\n                                     if (nEquip.getHp() > 0) {\n                                         temp = (nEquip.getHp() + Randomizer.nextInt(6) * inc);\n-                                        nEquip.setHp((short) Math.max(mdHp, temp));\n+                                        nEquip.setHp(getMaximumShortMaxIfOverflow(mdHp, temp));\n                                         \n                                         if(ServerConstants.USE_ENHANCED_CHSCROLL == true) {\n                                             mdHp = nEquip.getHp();\n@@ -756,7 +761,7 @@ public Item scrollEquipWithId(Item equip, int scrollId, boolean usingWhiteScroll\n                                     }\n                                     if (nEquip.getMp() > 0) {\n                                         temp = (nEquip.getMp() + Randomizer.nextInt(6) * inc);\n-                                        nEquip.setMp((short) Math.max(mdMp, temp));\n+                                        nEquip.setMp(getMaximumShortMaxIfOverflow(mdMp, temp));\n                                         \n                                         if(ServerConstants.USE_ENHANCED_CHSCROLL == true) {\n                                             mdMp = nEquip.getMp();\n@@ -778,60 +783,60 @@ public Item scrollEquipWithId(Item equip, int scrollId, boolean usingWhiteScroll\n                                 if(ServerConstants.USE_ENHANCED_CHSCROLL == true) inc = 1;\n                                 \n                                 if (nEquip.getStr() > 0) {\n-                                    if(ServerConstants.USE_ENHANCED_CHSCROLL == true) nEquip.setStr((short) Math.max(nEquip.getStr(), (nEquip.getStr() + Randomizer.nextInt(6) * inc)));\n-                                    else nEquip.setStr((short) Math.max(0, (nEquip.getStr() + Randomizer.nextInt(6) * inc)));\n+                                    if(ServerConstants.USE_ENHANCED_CHSCROLL == true) nEquip.setStr(getMaximumShortMaxIfOverflow(nEquip.getStr(), (nEquip.getStr() + Randomizer.nextInt(6) * inc)));\n+                                    else nEquip.setStr(getMaximumShortMaxIfOverflow(0, (nEquip.getStr() + Randomizer.nextInt(6) * inc)));\n                                 }\n                                 if (nEquip.getDex() > 0) {\n-                                    if(ServerConstants.USE_ENHANCED_CHSCROLL == true) nEquip.setDex((short) Math.max(nEquip.getDex(), (nEquip.getDex() + Randomizer.nextInt(6) * inc)));\n-                                    else nEquip.setDex((short) Math.max(0, (nEquip.getDex() + Randomizer.nextInt(6) * inc)));\n+                                    if(ServerConstants.USE_ENHANCED_CHSCROLL == true) nEquip.setDex(getMaximumShortMaxIfOverflow(nEquip.getDex(), (nEquip.getDex() + Randomizer.nextInt(6) * inc)));\n+                                    else nEquip.setDex(getMaximumShortMaxIfOverflow(0, (nEquip.getDex() + Randomizer.nextInt(6) * inc)));\n                                 }\n                                 if (nEquip.getInt() > 0) {\n-                                    if(ServerConstants.USE_ENHANCED_CHSCROLL == true) nEquip.setInt((short) Math.max(nEquip.getInt(), (nEquip.getInt() + Randomizer.nextInt(6) * inc)));\n-                                    else nEquip.setInt((short) Math.max(0, (nEquip.getInt() + Randomizer.nextInt(6) * inc)));\n+                                    if(ServerConstants.USE_ENHANCED_CHSCROLL == true) nEquip.setInt(getMaximumShortMaxIfOverflow(nEquip.getInt(), (nEquip.getInt() + Randomizer.nextInt(6) * inc)));\n+                                    else nEquip.setInt(getMaximumShortMaxIfOverflow(0, (nEquip.getInt() + Randomizer.nextInt(6) * inc)));\n                                 }\n                                 if (nEquip.getLuk() > 0) {\n-                                    if(ServerConstants.USE_ENHANCED_CHSCROLL == true) nEquip.setLuk((short) Math.max(nEquip.getLuk(), (nEquip.getLuk() + Randomizer.nextInt(6) * inc)));\n-                                    else nEquip.setLuk((short) Math.max(0, (nEquip.getLuk() + Randomizer.nextInt(6) * inc)));\n+                                    if(ServerConstants.USE_ENHANCED_CHSCROLL == true) nEquip.setLuk(getMaximumShortMaxIfOverflow(nEquip.getLuk(), (nEquip.getLuk() + Randomizer.nextInt(6) * inc)));\n+                                    else nEquip.setLuk(getMaximumShortMaxIfOverflow(0, (nEquip.getLuk() + Randomizer.nextInt(6) * inc)));\n                                 }\n                                 if (nEquip.getWatk() > 0) {\n-                                    if(ServerConstants.USE_ENHANCED_CHSCROLL == true) nEquip.setWatk((short) Math.max(nEquip.getWatk(), (nEquip.getWatk() + Randomizer.nextInt(6) * inc)));\n-                                    else nEquip.setWatk((short) Math.max(0, (nEquip.getWatk() + Randomizer.nextInt(6) * inc)));\n+                                    if(ServerConstants.USE_ENHANCED_CHSCROLL == true) nEquip.setWatk(getMaximumShortMaxIfOverflow(nEquip.getWatk(), (nEquip.getWatk() + Randomizer.nextInt(6) * inc)));\n+                                    else nEquip.setWatk(getMaximumShortMaxIfOverflow(0, (nEquip.getWatk() + Randomizer.nextInt(6) * inc)));\n                                 }\n                                 if (nEquip.getWdef() > 0) {\n-                                    if(ServerConstants.USE_ENHANCED_CHSCROLL == true) nEquip.setWdef((short) Math.max(nEquip.getWdef(), (nEquip.getWdef() + Randomizer.nextInt(6) * inc)));\n-                                    else nEquip.setWdef((short) Math.max(0, (nEquip.getWdef() + Randomizer.nextInt(6) * inc)));\n+                                    if(ServerConstants.USE_ENHANCED_CHSCROLL == true) nEquip.setWdef(getMaximumShortMaxIfOverflow(nEquip.getWdef(), (nEquip.getWdef() + Randomizer.nextInt(6) * inc)));\n+                                    else nEquip.setWdef(getMaximumShortMaxIfOverflow(0, (nEquip.getWdef() + Randomizer.nextInt(6) * inc)));\n                                 }\n                                 if (nEquip.getMatk() > 0) {\n-                                    if(ServerConstants.USE_ENHANCED_CHSCROLL == true) nEquip.setMatk((short) Math.max(nEquip.getMatk(), (nEquip.getMatk() + Randomizer.nextInt(6) * inc)));\n-                                    else nEquip.setMatk((short) Math.max(0, (nEquip.getMatk() + Randomizer.nextInt(6) * inc)));\n+                                    if(ServerConstants.USE_ENHANCED_CHSCROLL == true) nEquip.setMatk(getMaximumShortMaxIfOverflow(nEquip.getMatk(), (nEquip.getMatk() + Randomizer.nextInt(6) * inc)));\n+                                    else nEquip.setMatk(getMaximumShortMaxIfOverflow(0, (nEquip.getMatk() + Randomizer.nextInt(6) * inc)));\n                                 }\n                                 if (nEquip.getMdef() > 0) {\n-                                    if(ServerConstants.USE_ENHANCED_CHSCROLL == true) nEquip.setMdef((short) Math.max(nEquip.getMdef(), (nEquip.getMdef() + Randomizer.nextInt(6) * inc)));\n-                                    else nEquip.setMdef((short) Math.max(0, (nEquip.getMdef() + Randomizer.nextInt(6) * inc)));\n+                                    if(ServerConstants.USE_ENHANCED_CHSCROLL == true) nEquip.setMdef(getMaximumShortMaxIfOverflow(nEquip.getMdef(), (nEquip.getMdef() + Randomizer.nextInt(6) * inc)));\n+                                    else nEquip.setMdef(getMaximumShortMaxIfOverflow(0, (nEquip.getMdef() + Randomizer.nextInt(6) * inc)));\n                                 }\n                                 if (nEquip.getAcc() > 0) {\n-                                    if(ServerConstants.USE_ENHANCED_CHSCROLL == true) nEquip.setAcc((short) Math.max(nEquip.getAcc(), (nEquip.getAcc() + Randomizer.nextInt(6) * inc)));\n-                                    else nEquip.setAcc((short) Math.max(0, (nEquip.getAcc() + Randomizer.nextInt(6) * inc)));\n+                                    if(ServerConstants.USE_ENHANCED_CHSCROLL == true) nEquip.setAcc(getMaximumShortMaxIfOverflow(nEquip.getAcc(), (nEquip.getAcc() + Randomizer.nextInt(6) * inc)));\n+                                    else nEquip.setAcc(getMaximumShortMaxIfOverflow(0, (nEquip.getAcc() + Randomizer.nextInt(6) * inc)));\n                                 }\n                                 if (nEquip.getAvoid() > 0) {\n-                                    if(ServerConstants.USE_ENHANCED_CHSCROLL == true) nEquip.setAvoid((short) Math.max(nEquip.getAvoid(), (nEquip.getAvoid() + Randomizer.nextInt(6) * inc)));\n-                                    else nEquip.setAvoid((short) Math.max(0, (nEquip.getAvoid() + Randomizer.nextInt(6) * inc)));\n+                                    if(ServerConstants.USE_ENHANCED_CHSCROLL == true) nEquip.setAvoid(getMaximumShortMaxIfOverflow(nEquip.getAvoid(), (nEquip.getAvoid() + Randomizer.nextInt(6) * inc)));\n+                                    else nEquip.setAvoid(getMaximumShortMaxIfOverflow(0, (nEquip.getAvoid() + Randomizer.nextInt(6) * inc)));\n                                 }\n                                 if (nEquip.getSpeed() > 0) {\n-                                    if(ServerConstants.USE_ENHANCED_CHSCROLL == true) nEquip.setSpeed((short) Math.max(nEquip.getSpeed(), (nEquip.getSpeed() + Randomizer.nextInt(6) * inc)));\n-                                    else nEquip.setSpeed((short) Math.max(0, (nEquip.getSpeed() + Randomizer.nextInt(6) * inc)));\n+                                    if(ServerConstants.USE_ENHANCED_CHSCROLL == true) nEquip.setSpeed(getMaximumShortMaxIfOverflow(nEquip.getSpeed(), (nEquip.getSpeed() + Randomizer.nextInt(6) * inc)));\n+                                    else nEquip.setSpeed(getMaximumShortMaxIfOverflow(0, (nEquip.getSpeed() + Randomizer.nextInt(6) * inc)));\n                                 }\n                                 if (nEquip.getJump() > 0) {\n-                                    if(ServerConstants.USE_ENHANCED_CHSCROLL == true) nEquip.setJump((short) Math.max(nEquip.getJump(), (nEquip.getJump() + Randomizer.nextInt(6) * inc)));\n-                                    else nEquip.setJump((short) Math.max(0, (nEquip.getJump() + Randomizer.nextInt(6) * inc)));\n+                                    if(ServerConstants.USE_ENHANCED_CHSCROLL == true) nEquip.setJump(getMaximumShortMaxIfOverflow(nEquip.getJump(), (nEquip.getJump() + Randomizer.nextInt(6) * inc)));\n+                                    else nEquip.setJump(getMaximumShortMaxIfOverflow(0, (nEquip.getJump() + Randomizer.nextInt(6) * inc)));\n                                 }\n                                 if (nEquip.getHp() > 0) {\n-                                    if(ServerConstants.USE_ENHANCED_CHSCROLL == true) nEquip.setHp((short) Math.max(nEquip.getHp(), (nEquip.getHp() + Randomizer.nextInt(6) * inc)));\n-                                    else nEquip.setHp((short) Math.max(0, (nEquip.getHp() + Randomizer.nextInt(6) * inc)));\n+                                    if(ServerConstants.USE_ENHANCED_CHSCROLL == true) nEquip.setHp(getMaximumShortMaxIfOverflow(nEquip.getHp(), (nEquip.getHp() + Randomizer.nextInt(6) * inc)));\n+                                    else nEquip.setHp(getMaximumShortMaxIfOverflow(0, (nEquip.getHp() + Randomizer.nextInt(6) * inc)));\n                                 }\n                                 if (nEquip.getMp() > 0) {\n-                                    if(ServerConstants.USE_ENHANCED_CHSCROLL == true) nEquip.setMp((short) Math.max(nEquip.getMp(), (nEquip.getMp() + Randomizer.nextInt(6) * inc)));\n-                                    else nEquip.setMp((short) Math.max(0, (nEquip.getMp() + Randomizer.nextInt(6) * inc)));\n+                                    if(ServerConstants.USE_ENHANCED_CHSCROLL == true) nEquip.setMp(getMaximumShortMaxIfOverflow(nEquip.getMp(), (nEquip.getMp() + Randomizer.nextInt(6) * inc)));\n+                                    else nEquip.setMp(getMaximumShortMaxIfOverflow(0, (nEquip.getMp() + Randomizer.nextInt(6) * inc)));\n                                 }\n                             }\n                             break;\n@@ -840,69 +845,69 @@ public Item scrollEquipWithId(Item equip, int scrollId, boolean usingWhiteScroll\n                             for (Entry<String, Integer> stat : stats.entrySet()) {\n                                 switch (stat.getKey()) {\n                                     case \"STR\":\n-                                        nEquip.setStr((short) (nEquip.getStr() + stat.getValue().intValue()));\n+                                        nEquip.setStr(getShortMaxIfOverflow(nEquip.getStr() + stat.getValue().intValue()));\n                                         break;\n                                     case \"DEX\":\n-                                        nEquip.setDex((short) (nEquip.getDex() + stat.getValue().intValue()));\n+                                        nEquip.setDex(getShortMaxIfOverflow(nEquip.getDex() + stat.getValue().intValue()));\n                                         break;\n                                     case \"INT\":\n-                                        nEquip.setInt((short) (nEquip.getInt() + stat.getValue().intValue()));\n+                                        nEquip.setInt(getShortMaxIfOverflow(nEquip.getInt() + stat.getValue().intValue()));\n                                         break;\n                                     case \"LUK\":\n-                                        nEquip.setLuk((short) (nEquip.getLuk() + stat.getValue().intValue()));\n+                                        nEquip.setLuk(getShortMaxIfOverflow(nEquip.getLuk() + stat.getValue().intValue()));\n                                         break;\n                                     case \"PAD\":\n-                                        nEquip.setWatk((short) (nEquip.getWatk() + stat.getValue().intValue()));\n+                                        nEquip.setWatk(getShortMaxIfOverflow(nEquip.getWatk() + stat.getValue().intValue()));\n                                         break;\n                                     case \"PDD\":\n-                                        nEquip.setWdef((short) (nEquip.getWdef() + stat.getValue().intValue()));\n+                                        nEquip.setWdef(getShortMaxIfOverflow(nEquip.getWdef() + stat.getValue().intValue()));\n                                         break;\n                                     case \"MAD\":\n-                                        nEquip.setMatk((short) (nEquip.getMatk() + stat.getValue().intValue()));\n+                                        nEquip.setMatk(getShortMaxIfOverflow(nEquip.getMatk() + stat.getValue().intValue()));\n                                         break;\n                                     case \"MDD\":\n-                                        nEquip.setMdef((short) (nEquip.getMdef() + stat.getValue().intValue()));\n+                                        nEquip.setMdef(getShortMaxIfOverflow(nEquip.getMdef() + stat.getValue().intValue()));\n                                         break;\n                                     case \"ACC\":\n-                                        nEquip.setAcc((short) (nEquip.getAcc() + stat.getValue().intValue()));\n+                                        nEquip.setAcc(getShortMaxIfOverflow(nEquip.getAcc() + stat.getValue().intValue()));\n                                         break;\n                                     case \"EVA\":\n-                                        nEquip.setAvoid((short) (nEquip.getAvoid() + stat.getValue().intValue()));\n+                                        nEquip.setAvoid(getShortMaxIfOverflow(nEquip.getAvoid() + stat.getValue().intValue()));\n                                         break;\n                                     case \"Speed\":\n-                                        nEquip.setSpeed((short) (nEquip.getSpeed() + stat.getValue().intValue()));\n+                                        nEquip.setSpeed(getShortMaxIfOverflow(nEquip.getSpeed() + stat.getValue().intValue()));\n                                         break;\n                                     case \"Jump\":\n-                                        nEquip.setJump((short) (nEquip.getJump() + stat.getValue().intValue()));\n+                                        nEquip.setJump(getShortMaxIfOverflow(nEquip.getJump() + stat.getValue().intValue()));\n                                         break;\n                                     case \"MHP\":\n-                                        nEquip.setHp((short) (nEquip.getHp() + stat.getValue().intValue()));\n+                                        nEquip.setHp(getShortMaxIfOverflow(nEquip.getHp() + stat.getValue().intValue()));\n                                         break;\n                                     case \"MMP\":\n-                                        nEquip.setMp((short) (nEquip.getMp() + stat.getValue().intValue()));\n+                                        nEquip.setMp(getShortMaxIfOverflow(nEquip.getMp() + stat.getValue().intValue()));\n                                         break;\n                                     case \"afterImage\":\n                                         break;\n                                 }\n                             }\n                             break;\n                     }\n-                    if (!isCleanSlate(scrollId)) {\n+                    if (!ItemConstants.isCleanSlate(scrollId)) {\n                         if (ServerConstants.USE_PERFECT_SCROLLING == true && !isGM && !usingWhiteScroll) {\n                             nEquip.setUpgradeSlots((byte) (nEquip.getUpgradeSlots() - 1));\n                         }\n                         nEquip.setLevel((byte) (nEquip.getLevel() + 1));\n                     }\n                 }\n                 \n-                if (ServerConstants.USE_PERFECT_SCROLLING == false && !isCleanSlate(scrollId)) {\n+                if (ServerConstants.USE_PERFECT_SCROLLING == false && !ItemConstants.isCleanSlate(scrollId)) {\n                     if (!isGM && !usingWhiteScroll) {\n                         nEquip.setUpgradeSlots((byte) (nEquip.getUpgradeSlots() - 1));\n                     }\n                     //nEquip.setLevel((byte) (nEquip.getLevel() + 1));\n                 }\n             } else {\n-                if (!usingWhiteScroll && !isCleanSlate(scrollId) && !isGM) {\n+                if (!usingWhiteScroll && !ItemConstants.isCleanSlate(scrollId) && !isGM) {\n                     nEquip.setUpgradeSlots((byte) (nEquip.getUpgradeSlots() - 1));\n                 }\n                 if (Randomizer.nextInt(101) < stats.get(\"cursed\")) {\n@@ -1153,24 +1158,30 @@ public int getQuestIdFromItem(int itemId) {\n     private void loadCardIdData() {\n         PreparedStatement ps = null;\n         ResultSet rs = null;\n+        Connection con = null;\n         try {\n-            ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT cardid, mobid FROM monstercarddata\");\n+            con = DatabaseConnection.getConnection();\n+            ps = con.prepareStatement(\"SELECT cardid, mobid FROM monstercarddata\");\n             rs = ps.executeQuery();\n             while (rs.next()) {\n                 monsterBookID.put(rs.getInt(1), rs.getInt(2));\n             }\n             rs.close();\n             ps.close();\n+            con.close();\n         } catch (SQLException e) {\n             e.printStackTrace();\n         } finally {\n             try {\n-                if (rs != null) {\n+                if (rs != null && !rs.isClosed()) {\n                     rs.close();\n                 }\n-                if (ps != null) {\n+                if (ps != null && !ps.isClosed()) {\n                     ps.close();\n                 }\n+                if (con != null && !con.isClosed()) {\n+                    con.close();\n+                }\n             } catch (SQLException e) {\n                 e.printStackTrace();\n             }\n@@ -1307,20 +1318,6 @@ public boolean isUpgradeable(int itemId) {\n                 eq.getAvoid() > 0 || eq.getSpeed() > 0 || eq.getJump() > 0 || eq.getHp() > 0 || eq.getMp() > 0);\n     }\n     \n-    \n-    public boolean isRateCoupon(int itemId) {\n-        int itemType = itemId / 1000;\n-        return itemType == 5211 || itemType == 5360;\n-    }\n-    \n-    public boolean isPartyItem(int itemId) {\n-        return itemId >= 2022430 && itemId <= 2022433;\n-    }\n-    \n-    public boolean isPartyAllcure(int itemId) {\n-        return itemId == 2022433;\n-    }\n-\n     public Collection<Item> canWearEquipment(MapleCharacter chr, Collection<Item> items) {\n         MapleInventory inv = chr.getInventory(MapleInventoryType.EQUIPPED);\n         if (inv.checked()) {\n@@ -1523,9 +1520,10 @@ public boolean canWearEquipment(MapleCharacter chr, Equip equip, int dst) {\n     \n     public Set<String> getWhoDrops(Integer itemId) {\n         Set<String> list = new HashSet<>();\n-\n+        Connection con = null;\n         try {\n-            PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT * FROM drop_data WHERE itemid = ? LIMIT 50\");\n+            con = DatabaseConnection.getConnection();\n+            PreparedStatement ps = con.prepareStatement(\"SELECT * FROM drop_data WHERE itemid = ? LIMIT 50\");\n             ps.setInt(1, itemId);\n             ResultSet rs = ps.executeQuery();\n             while(rs.next()) {\n@@ -1536,6 +1534,7 @@ public boolean canWearEquipment(MapleCharacter chr, Equip equip, int dst) {\n             }\n             rs.close();\n             ps.close();\n+            con.close();\n         } catch (Exception e) {\n             e.printStackTrace();\n         }"}, {"sha": "f52bc93220290504a836bb8ee09168e450867be5", "filename": "src/server/MapleShop.java", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/server/MapleShop.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/server/MapleShop.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/MapleShop.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -233,6 +233,7 @@ public static MapleShop createFromDB(int id, boolean isShopId) {\n             } else {\n                 rs.close();\n                 ps.close();\n+                con.close();\n                 return null;\n             }\n             ps = con.prepareStatement(\"SELECT * FROM shopitems WHERE shopid = ? ORDER BY position DESC\");\n@@ -255,6 +256,7 @@ public static MapleShop createFromDB(int id, boolean isShopId) {\n             }\n             rs.close();\n             ps.close();\n+            con.close();\n         } catch (SQLException e) {\n             e.printStackTrace();\n         }"}, {"sha": "47be5f5d19f8ce25747c13a1ecc3a10bfbf14d69", "filename": "src/server/MapleStorage.java", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/server/MapleStorage.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/server/MapleStorage.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/MapleStorage.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -61,11 +61,14 @@ private MapleStorage(int id, byte slots, int meso) {\n \n     private static MapleStorage create(int id, int world) {\n         try {\n-            try (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"INSERT INTO storages (accountid, world, slots, meso) VALUES (?, ?, 4, 0)\")) {\n+            Connection con = DatabaseConnection.getConnection();\n+            try (PreparedStatement ps = con.prepareStatement(\"INSERT INTO storages (accountid, world, slots, meso) VALUES (?, ?, 4, 0)\")) {\n                 ps.setInt(1, id);\n                 ps.setInt(2, world);\n                 ps.executeUpdate();\n             }\n+            \n+            con.close();\n         } catch (Exception e) {\n             e.printStackTrace();\n         }\n@@ -84,6 +87,7 @@ public static MapleStorage loadOrCreateFromDB(int id, int world) {\n             if (!rs.next()) {\n                 rs.close();\n                 ps.close();\n+                con.close();\n                 return create(id, world);\n             } else {\n                 storeId = rs.getInt(\"storageid\");\n@@ -94,6 +98,8 @@ public static MapleStorage loadOrCreateFromDB(int id, int world) {\n                     ret.items.add(item.getLeft());\n                 }\n             }\n+            \n+            con.close();\n         } catch (SQLException ex) {\n             ex.printStackTrace();\n         }"}, {"sha": "3e4e3c8d06533b779e0aae344e3052fe1308424f", "filename": "src/server/life/MapleMonsterInformationProvider.java", "status": "modified", "additions": 20, "deletions": 7, "changes": 27, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/server/life/MapleMonsterInformationProvider.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/server/life/MapleMonsterInformationProvider.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/life/MapleMonsterInformationProvider.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -59,9 +59,10 @@ public static MapleMonsterInformationProvider getInstance() {\n \tprivate void retrieveGlobal() {\n \t\tPreparedStatement ps = null;\n \t\tResultSet rs = null;\n+                Connection con = null;\n \n \t\ttry {\n-\t\t\tfinal Connection con = DatabaseConnection.getConnection();\n+                        con = DatabaseConnection.getConnection();\n \t\t\tps = con.prepareStatement(\"SELECT * FROM drop_data_global WHERE chance > 0\");\n \t\t\trs = ps.executeQuery();\n \n@@ -76,18 +77,23 @@ private void retrieveGlobal() {\n \t\t\t\t\t\t\t\trs.getInt(\"maximum_quantity\"),\n \t\t\t\t\t\t\t\trs.getShort(\"questid\")));\n \t\t\t}\n+                        \n \t\t\trs.close();\n \t\t\tps.close();\n+                        con.close();\n \t\t} catch (SQLException e) {\n                         System.err.println(\"Error retrieving drop\" + e);\n \t\t} finally {\n \t\t\ttry {\n-\t\t\t\tif (ps != null) { \n+\t\t\t\tif (ps != null && !ps.isClosed()) { \n \t\t\t\t\tps.close();\n \t\t\t\t}\n-\t\t\t\tif (rs != null) {\n+\t\t\t\tif (rs != null && !rs.isClosed()) {\n \t\t\t\t\trs.close();\n \t\t\t\t}\n+                                if (con != null && !con.isClosed()) {\n+\t\t\t\t\tcon.close();\n+\t\t\t\t}\n \t\t\t} catch (SQLException ignore) {\n                                 ignore.printStackTrace();\n \t\t\t}\n@@ -102,8 +108,10 @@ private void retrieveGlobal() {\n \n \t\tPreparedStatement ps = null;\n \t\tResultSet rs = null;\n+                Connection con = null;\n \t\ttry {\n-\t\t\tps = DatabaseConnection.getConnection().prepareStatement(\"SELECT * FROM drop_data WHERE dropperid = ?\");\n+                        con = DatabaseConnection.getConnection();\n+\t\t\tps = con.prepareStatement(\"SELECT * FROM drop_data WHERE dropperid = ?\");\n \t\t\tps.setInt(1, monsterId);\n \t\t\trs = ps.executeQuery();\n \n@@ -116,17 +124,22 @@ private void retrieveGlobal() {\n                                         rs.getInt(\"maximum_quantity\"),\n                                         rs.getShort(\"questid\")));\n \t\t\t}\n+                        \n+                        con.close();\n \t\t} catch (SQLException e) {\n-                    e.printStackTrace();\n+                        e.printStackTrace();\n \t\t\treturn ret;\n \t\t} finally {\n \t\t\ttry {\n-\t\t\t\tif (ps != null) {\n+\t\t\t\tif (ps != null && !ps.isClosed()) {\n \t\t\t\t\tps.close();\n \t\t\t\t}\n-\t\t\t\tif (rs != null) {\n+\t\t\t\tif (rs != null && !rs.isClosed()) {\n \t\t\t\t\trs.close();\n \t\t\t\t}\n+                                if (con != null && !con.isClosed()) {\n+\t\t\t\t\tcon.close();\n+\t\t\t\t}\n \t\t\t} catch (SQLException ignore) {\n                                 ignore.printStackTrace();\n \t\t\t\treturn ret;"}, {"sha": "0f52e93c921bdc4f2ebe4b712911730904f60848", "filename": "src/server/maps/HiredMerchant.java", "status": "modified", "additions": 58, "deletions": 42, "changes": 100, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/server/maps/HiredMerchant.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/server/maps/HiredMerchant.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/HiredMerchant.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -167,10 +167,14 @@ public void buy(MapleClient c, int item, short quantity) {\n                         owner.addMerchantMesos(price);\n                     } else {\n                         try {\n-                            try (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"UPDATE characters SET MerchantMesos = MerchantMesos + \" + price + \" WHERE id = ?\", Statement.RETURN_GENERATED_KEYS)) {\n+                            Connection con = DatabaseConnection.getConnection();\n+                            \n+                            try (PreparedStatement ps = con.prepareStatement(\"UPDATE characters SET MerchantMesos = MerchantMesos + \" + price + \" WHERE id = ?\", Statement.RETURN_GENERATED_KEYS)) {\n                                 ps.setInt(1, ownerId);\n                                 ps.executeUpdate();\n                             }\n+                            \n+                            con.close();\n                         } catch (Exception e) {\n                             e.printStackTrace();\n                         }\n@@ -204,57 +208,67 @@ public void forceClose() {\n \n         map.removeMapObject(this);\n \t\t\n-\t\tMapleCharacter player = Server.getInstance().getWorld(world).getPlayerStorage().getCharacterById(ownerId);\n-\t\t\tif(player != null) {\n-\t\t\t\tplayer.setHasMerchant(false);\n-\t\t\t} else {\n-\t\t\t\ttry (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"UPDATE characters SET HasMerchant = 0 WHERE id = ?\", Statement.RETURN_GENERATED_KEYS)) {\n-\t\t\t\t\tps.setInt(1, ownerId);\n-\t\t\t\t\tps.executeUpdate();\n-\t\t\t\t} catch (SQLException ex) {\n-\t\t\t\t\tex.printStackTrace();\n-\t\t\t\t}\n-\t\t\t}\n+        MapleCharacter player = Server.getInstance().getWorld(world).getPlayerStorage().getCharacterById(ownerId);\n+        if(player != null) {\n+                player.setHasMerchant(false);\n+        } else {\n+                try {\n+                        Connection con = DatabaseConnection.getConnection();\n+                        PreparedStatement ps = con.prepareStatement(\"UPDATE characters SET HasMerchant = 0 WHERE id = ?\", Statement.RETURN_GENERATED_KEYS);\n+                        ps.setInt(1, ownerId);\n+                        ps.executeUpdate();\n+\n+                        ps.close();\n+                        con.close();\n+                } catch (SQLException ex) {\n+                        ex.printStackTrace();\n+                }\n+        }\n \n         map = null;\n         schedule = null;\n     }\n \n \tpublic void closeShop(MapleClient c, boolean timeout) {\n-        map.removeMapObject(this);\n-        map.broadcastMessage(MaplePacketCreator.destroyHiredMerchant(ownerId));\n-        c.getChannelServer().removeHiredMerchant(ownerId);\n-        try {\n-\t\t\tMapleCharacter player = c.getWorldServer().getPlayerStorage().getCharacterById(ownerId);\n-\t\t\tif(player != null) {\n-\t\t\t\tplayer.setHasMerchant(false);\n-\t\t\t} else {\n-\t\t\t\ttry (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"UPDATE characters SET HasMerchant = 0 WHERE id = ?\", Statement.RETURN_GENERATED_KEYS)) {\n-\t\t\t\t\tps.setInt(1, ownerId);\n-\t\t\t\t\tps.executeUpdate();\n-\t\t\t\t}\n-\t\t\t}\n-            if (check(c.getPlayer(), getItems()) && !timeout) {\n-                for (MaplePlayerShopItem mpsi : getItems()) {\n-                    if (mpsi.isExist() && (mpsi.getItem().getType() == MapleInventoryType.EQUIP.getType())) {\n-                        MapleInventoryManipulator.addFromDrop(c, mpsi.getItem(), false);\n-                    } else if (mpsi.isExist()) {\n-                        MapleInventoryManipulator.addById(c, mpsi.getItem().getItemId(), (short) (mpsi.getBundles() * mpsi.getItem().getQuantity()), null, -1, mpsi.getItem().getFlag(), mpsi.getItem().getExpiration());\n+            map.removeMapObject(this);\n+            map.broadcastMessage(MaplePacketCreator.destroyHiredMerchant(ownerId));\n+            c.getChannelServer().removeHiredMerchant(ownerId);\n+            \n+            try {\n+                MapleCharacter player = c.getWorldServer().getPlayerStorage().getCharacterById(ownerId);\n+                if(player != null) {\n+                        player.setHasMerchant(false);\n+                } else {\n+                        Connection con = DatabaseConnection.getConnection();\n+                        try (PreparedStatement ps = con.prepareStatement(\"UPDATE characters SET HasMerchant = 0 WHERE id = ?\", Statement.RETURN_GENERATED_KEYS)) {\n+                                ps.setInt(1, ownerId);\n+                                ps.executeUpdate();\n+                        }\n+                        con.close();\n+                }\n+\n+                if (check(c.getPlayer(), getItems()) && !timeout) {\n+                    for (MaplePlayerShopItem mpsi : getItems()) {\n+                        if (mpsi.isExist() && (mpsi.getItem().getType() == MapleInventoryType.EQUIP.getType())) {\n+                            MapleInventoryManipulator.addFromDrop(c, mpsi.getItem(), false);\n+                        } else if (mpsi.isExist()) {\n+                            MapleInventoryManipulator.addById(c, mpsi.getItem().getItemId(), (short) (mpsi.getBundles() * mpsi.getItem().getQuantity()), null, -1, mpsi.getItem().getFlag(), mpsi.getItem().getExpiration());\n+                        }\n                     }\n+                    items.clear();\n+                }\n+\n+                try {\n+                    this.saveItems(timeout);\n+                } catch (Exception e) {\n+                    e.printStackTrace();\n                 }\n+\n                 items.clear();\n-            }\n-            try {\n-                this.saveItems(timeout);\n             } catch (Exception e) {\n                 e.printStackTrace();\n             }\n-            items.clear();\n-\n-        } catch (Exception e) {\n-            e.printStackTrace();\n-        }\n-        schedule.cancel(false);\n+            schedule.cancel(false);\n     }\n \n     public String getOwner() {\n@@ -343,8 +357,10 @@ public void saveItems(boolean shutdown) throws SQLException {\n                 itemsWithType.add(new Pair<>(newItem, MapleInventoryType.getByType(newItem.getType())));\n             }\n         }\n-\t\t\n-        ItemFactory.MERCHANT.saveItems(itemsWithType, this.ownerId, DatabaseConnection.getConnection());\n+\t\n+        Connection con = DatabaseConnection.getConnection();\n+        ItemFactory.MERCHANT.saveItems(itemsWithType, this.ownerId, con);\n+        con.close();\n     }\n \n     private static boolean check(MapleCharacter chr, List<MaplePlayerShopItem> items) {"}, {"sha": "1e7de3181ae63499ddf7478c0ce5046d2131a571", "filename": "src/server/maps/MapleMapFactory.java", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/server/maps/MapleMapFactory.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/server/maps/MapleMapFactory.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/MapleMapFactory.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -23,8 +23,10 @@\n \n import java.awt.Point;\n import java.awt.Rectangle;\n+import java.sql.Connection;\n import java.sql.PreparedStatement;\n import java.sql.ResultSet;\n+import java.sql.SQLException;\n import java.util.Collections;\n import java.util.HashMap;\n import java.util.LinkedList;\n@@ -168,15 +170,19 @@ public MapleMap getMap(int mapid) {\n                         map.addMapleArea(new Rectangle(x1, y1, (x2 - x1), (y2 - y1)));\n                     }\n                 }\n-                try { try (PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT * FROM playernpcs WHERE map = ?\")) {\n+                try {\n+                    Connection con = DatabaseConnection.getConnection();\n+                    try (PreparedStatement ps = con.prepareStatement(\"SELECT * FROM playernpcs WHERE map = ?\")) {\n                         ps.setInt(1, omapid);\n                         try (ResultSet rs = ps.executeQuery()) {\n                             while (rs.next()) {\n                                 map.addMapObject(new PlayerNPCs(rs));\n                             }\n                         }\n                     }\n-                } catch (Exception e) {\n+                    \n+                    con.close();\n+                } catch (SQLException e) {\n                     e.printStackTrace();\n                 }\n                 "}, {"sha": "00bdbcc50929d8024b60028d2ecbc765d181dc31", "filename": "src/server/maps/PlayerNPCs.java", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/server/maps/PlayerNPCs.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/server/maps/PlayerNPCs.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/PlayerNPCs.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -27,6 +27,7 @@\n import java.util.HashMap;\n import java.util.Map;\n import client.MapleClient;\n+import java.sql.Connection;\n import java.sql.SQLException;\n import tools.DatabaseConnection;\n import tools.MaplePacketCreator;\n@@ -54,14 +55,17 @@ public PlayerNPCs(ResultSet rs) {\n             RX1 = rs.getInt(\"rx1\");\n             npcId = rs.getInt(\"ScriptId\");\n             setPosition(new Point(rs.getInt(\"x\"), CY));\n-            PreparedStatement ps = DatabaseConnection.getConnection().prepareStatement(\"SELECT equippos, equipid FROM playernpcs_equip WHERE NpcId = ?\");\n+            \n+            Connection con = DatabaseConnection.getConnection();\n+            PreparedStatement ps = con.prepareStatement(\"SELECT equippos, equipid FROM playernpcs_equip WHERE NpcId = ?\");\n             ps.setInt(1, rs.getInt(\"id\"));\n             ResultSet rs2 = ps.executeQuery();\n             while (rs2.next()) {\n                 equips.put(rs2.getShort(\"equippos\"), rs2.getInt(\"equipid\"));\n             }\n             rs2.close();\n             ps.close();\n+            con.close();\n         } catch (SQLException e) {\n             e.printStackTrace();\n         }"}, {"sha": "89945d7e82abc4919e958ba130990e365a6829ef", "filename": "src/server/partyquest/MonsterCarnival.java", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/server/partyquest/MonsterCarnival.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/server/partyquest/MonsterCarnival.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/partyquest/MonsterCarnival.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -147,8 +147,9 @@ public int getRoom() {\n         }\n \n         public void saveResults() {\n-            Connection con = DatabaseConnection.getConnection();\n+                Connection con = null;\n                 try {\n+                    con = DatabaseConnection.getConnection();\n                     PreparedStatement ps = con.prepareStatement(\"INSERT INTO carnivalresults VALUES (?,?,?,?)\");\n                     for (MapleCharacter chr : red.getMembers()) {\n                         ps.setInt(1, chr.getId());\n@@ -165,6 +166,7 @@ public void saveResults() {\n                         ps.execute();\n                     }\n                     ps.close();\n+                    con.close();\n                 } catch (SQLException ex) {\n                     ex.printStackTrace();\n                 }"}, {"sha": "fd5c884168bd077d294712c6e1cfd9c41e432530", "filename": "src/server/quest/MapleQuest.java", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/server/quest/MapleQuest.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/server/quest/MapleQuest.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/quest/MapleQuest.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -36,7 +36,6 @@\n import provider.MapleDataTool;\n import server.quest.actions.*;\n import server.quest.requirements.*;\n-import tools.FilePrinter;\n import tools.MaplePacketCreator;\n \n /**\n@@ -113,8 +112,9 @@ private MapleQuest(int id) {\n             for (MapleData completeReq : completeReqData.getChildren()) {\n \t\tMapleQuestRequirementType type = MapleQuestRequirementType.getByWZName(completeReq.getName());\n                 MapleQuestRequirement req = this.getRequirement(type, completeReq);\n-\t\t\t\tif(req == null)\n-\t\t\t\t\tcontinue;\n+                \n+                if(req == null)\n+                        continue;\n \t\t\t\t\n                 if (type.equals(MapleQuestRequirementType.INFO_NUMBER)) {\n                     infoNumber = (short) MapleDataTool.getInt(completeReq, 0);\n@@ -230,6 +230,9 @@ public boolean canComplete(MapleCharacter c, Integer npcid) {\n         }\n         for (MapleQuestRequirement r : completeReqs.values()) {\n             if (r == null || !r.check(c, npcid)) {\n+                if(r.getType() == MapleQuestRequirementType.MESO) { // TODO: find a way to tell the client about the new MESO requirement type.\n+                    c.dropMessage(5, \"You don't have enough mesos to complete this quest.\");\n+                }\n                 return false;\n             }\n         }\n@@ -402,6 +405,9 @@ private MapleQuestRequirement getRequirement(MapleQuestRequirementType type, Map\n \t\t\tcase MAX_LEVEL:\n \t\t\t\tret = new MaxLevelRequirement(this, data);\n \t\t\t\tbreak;\n+                        case MESO:\n+\t\t\t\tret = new MesoRequirement(this, data);\n+\t\t\t\tbreak;\n \t\t\tcase MIN_LEVEL:\n \t\t\t\tret = new MinLevelRequirement(this, data);\n \t\t\t\tbreak;"}, {"sha": "073fcab887f0bbfe5665f502baf7b7eaf722a3bf", "filename": "src/server/quest/MapleQuestRequirementType.java", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/server/quest/MapleQuestRequirementType.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/server/quest/MapleQuestRequirementType.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/quest/MapleQuestRequirementType.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -26,7 +26,7 @@\n  * @author Matze\n  */\n public enum MapleQuestRequirementType {\n-    UNDEFINED(-1), JOB(0), ITEM(1), QUEST(2), MIN_LEVEL(3), MAX_LEVEL(4), END_DATE(5), MOB(6), NPC(7), FIELD_ENTER(8), INTERVAL(9), SCRIPT(10), PET(11), MIN_PET_TAMENESS(12), MONSTER_BOOK(13), NORMAL_AUTO_START(14), INFO_NUMBER(15), INFO_EX(16), COMPLETED_QUEST(17), START(18), END(19), DAY_BY_DAY(20);\n+    UNDEFINED(-1), JOB(0), ITEM(1), QUEST(2), MIN_LEVEL(3), MAX_LEVEL(4), END_DATE(5), MOB(6), NPC(7), FIELD_ENTER(8), INTERVAL(9), SCRIPT(10), PET(11), MIN_PET_TAMENESS(12), MONSTER_BOOK(13), NORMAL_AUTO_START(14), INFO_NUMBER(15), INFO_EX(16), COMPLETED_QUEST(17), START(18), END(19), DAY_BY_DAY(20), MESO(21);\n     final byte type;\n \n     private MapleQuestRequirementType(int type) {\n@@ -82,6 +82,8 @@ public static MapleQuestRequirementType getByWZName(String name) {\n \t\treturn END;\n \t} else if(name.equals(\"daybyday\")) {\n \t\treturn DAY_BY_DAY;\n+        } else if (name.equals(\"money\")) {\n+            return MESO;\n         } else {\n             return UNDEFINED;\n         }"}, {"sha": "f94822afc4dd7ae2b8dff8a1190c9cec69b265f4", "filename": "src/server/quest/requirements/MesoRequirement.java", "status": "added", "additions": 52, "deletions": 0, "changes": 52, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/server/quest/requirements/MesoRequirement.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/server/quest/requirements/MesoRequirement.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/quest/requirements/MesoRequirement.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -0,0 +1,52 @@\n+/*\n+ This file is part of the OdinMS Maple Story Server\n+ Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+ Matthias Butz <matze@odinms.de>\n+ Jan Christian Meyer <vimes@odinms.de>\n+\n+ This program is free software: you can redistribute it and/or modify\n+ it under the terms of the GNU Affero General Public License as\n+ published by the Free Software Foundation version 3 as published by\n+ the Free Software Foundation. You may not use, modify or distribute\n+ this program under any other version of the GNU Affero General Public\n+ License.\n+\n+ This program is distributed in the hope that it will be useful,\n+ but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ GNU Affero General Public License for more details.\n+\n+ You should have received a copy of the GNU Affero General Public License\n+ along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+package server.quest.requirements;\n+\n+import provider.MapleData;\n+import provider.MapleDataTool;\n+import server.quest.MapleQuest;\n+import server.quest.MapleQuestRequirementType;\n+import client.MapleCharacter;\n+\n+/**\n+ *\n+ * @author Ronan\n+ */\n+public class MesoRequirement extends MapleQuestRequirement {\n+        private int meso = 0;\n+    \n+\tpublic MesoRequirement(MapleQuest quest, MapleData data) {\n+\t\tsuper(MapleQuestRequirementType.MESO);\n+\t\tprocessData(data);\n+\t}\n+\t\n+\t@Override\n+\tpublic void processData(MapleData data) {\n+\t\tmeso = MapleDataTool.getInt(data);\n+\t}\n+\t\n+\t\n+\t@Override\n+\tpublic boolean check(MapleCharacter chr, Integer npcid) {\n+\t\treturn chr.getMeso() >= meso;\n+\t}\n+}"}, {"sha": "3e3194dc6d1b805df44e55a3c12dfe0c56555f6d", "filename": "src/tools/DatabaseConnection.java", "status": "modified", "additions": 70, "deletions": 28, "changes": 98, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/src/tools/DatabaseConnection.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/src/tools/DatabaseConnection.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/tools/DatabaseConnection.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -3,47 +3,89 @@\n import java.sql.Connection;\n import java.sql.DriverManager;\n import java.sql.SQLException;\n+import java.util.Properties;\n+import org.apache.commons.dbcp2.ConnectionFactory;\n+import org.apache.commons.dbcp2.DriverManagerConnectionFactory;\n+import org.apache.commons.dbcp2.PoolableConnectionFactory;\n+import org.apache.commons.dbcp2.PoolingDriver;\n+import org.apache.commons.pool2.impl.GenericObjectPool;\n \n import constants.ServerConstants;\n \n /**\n  * @author Frz (Big Daddy)\n  * @author The Real Spookster (some modifications to this beautiful code)\n+ * @author Ronan (some connection pool to this beautiful code)\n  */\n public class DatabaseConnection {\n-        \n-    public static final int RETURN_GENERATED_KEYS = 1;\n-\n-    private static ThreadLocal<Connection> con = new ThreadLocalConnection();\n-\n-    public static Connection getConnection() {\n-        Connection c = con.get();\n-        try {\n-            c.getMetaData();\n-        } catch (SQLException e) { // connection is dead, therefore discard old object 5ever\n-            con.remove();\n-            c = con.get();\n+    private static Properties prop;\n+    \n+    public static Connection getConnection() throws SQLException {\n+        if(prop != null) {\n+            Connection con = null;\n+            while(con == null) {   //oh yes, this will loop until success!\n+                try {\n+                    con = DriverManager.getConnection(ServerConstants.DB_URL, prop);\n+                } catch (SQLException sqle) {}\n+            }\n+            \n+            return con;\n+        } else {\n+            return DriverManager.getConnection(ServerConstants.DB_URL, ServerConstants.DB_USER, ServerConstants.DB_PASS);\n         }\n-        return c;\n     }\n+    \n+    private static Properties getProperties() {\n+        Properties connectionProperties = new Properties();\n+        connectionProperties.put(\"user\", ServerConstants.DB_USER);\n+        connectionProperties.put(\"password\", ServerConstants.DB_PASS);\n \n-    private static class ThreadLocalConnection extends ThreadLocal<Connection> {\n+        connectionProperties.put(\"minIdle\",  \"-1\");\n+        connectionProperties.put(\"maxIdle\",  \"-1\");\n \n-        @Override\n-        protected Connection initialValue() {\n-            try {\n-                Class.forName(\"com.mysql.jdbc.Driver\"); // touch the mysql driver\n-            } catch (ClassNotFoundException e) {\n-                System.out.println(\"[SEVERE] SQL Driver Not Found. Consider death by clams.\");\n-                e.printStackTrace();\n-                return null;\n-            }\n+        connectionProperties.put(\"testOnBorrow\", \"true\");\n+        connectionProperties.put(\"lifo\", \"false\");\t\n+\n+        connectionProperties.put(\"maxTotal\", \"42\");                     //max allotted connections\n+        connectionProperties.put(\"maxConnLifetimeMillis\", \"60000\");     //connection remains valid for 1 min\n+        connectionProperties.put(\"maxWaitMillis\", \"777\");               //there are more pools, if this one is unavailable then pass to another already\n+        connectionProperties.put(\"poolPreparedStatements\", \"true\");\n+        connectionProperties.put(\"maxOpenPreparedStatements\", \"100\");   //max allotted PS\n+\n+        return connectionProperties;\n+    }\n+    \n+    private PoolingDriver installDriver(short id) {\n+        GenericObjectPool connectionPool = new GenericObjectPool(null);\n+        ConnectionFactory connectionFactory = new DriverManagerConnectionFactory(ServerConstants.DB_URL, prop);\n+        PoolableConnectionFactory poolableConnectionFactory = new PoolableConnectionFactory(connectionFactory,connectionPool.getJmxName());\n+        PoolingDriver driver = new PoolingDriver();\n+        driver.registerPool(\"maplesolaxiapool\" + id, connectionPool);\n+        \n+        return driver;\n+    }\n+\n+    public DatabaseConnection() {\n+        prop = null;\n+        \n+        try {\n+            Class.forName(\"com.mysql.jdbc.Driver\"); // touch the mysql driver\n+        } catch (ClassNotFoundException e) {\n+            System.out.println(\"[SEVERE] SQL Driver Not Found. Consider death by clams.\");\n+            e.printStackTrace();\n+            return;\n+        }\n+        \n+        if(ServerConstants.DB_EXPERIMENTAL_POOLS > 0) {\n+            // Connection Pool on database ftw!\n+            \n+            prop = getProperties();\n             try {\n-                return DriverManager.getConnection(ServerConstants.DB_URL, ServerConstants.DB_USER, ServerConstants.DB_PASS);\n-            } catch (SQLException e) {\n-                System.out.println(\"[SEVERE] Unable to make database connection.\");\n-                e.printStackTrace();\n-                return null;\n+                for(short i = 0; i < ServerConstants.DB_EXPERIMENTAL_POOLS; i++) {\n+                    DriverManager.registerDriver(installDriver(i));\n+                }\n+            } catch(SQLException sqle) {\n+                sqle.printStackTrace();\n             }\n         }\n     }"}, {"sha": "f7282e5599a2995868d6f4b561d1f97bd0551e4c", "filename": "tools/MapleIdRetriever/build/built-jar.properties", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/tools/MapleIdRetriever/build/built-jar.properties", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/tools/MapleIdRetriever/build/built-jar.properties", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleIdRetriever/build/built-jar.properties?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -1,4 +1,4 @@\n-#Sat, 05 Aug 2017 17:48:47 -0300\n+#Tue, 22 Aug 2017 21:30:04 -0300\n \n \n C\\:\\\\Nexon\\\\MapleSolaxia\\\\MapleSolaxiaV2\\\\tools\\\\MapleIdRetriever="}, {"sha": "8a204beabcae6329da6b5bde6d41f47b11bf21d2", "filename": "tools/MapleIdRetriever/build/classes/mapleidretriever/MapleIdRetriever.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/tools/MapleIdRetriever/build/classes/mapleidretriever/MapleIdRetriever.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/tools/MapleIdRetriever/build/classes/mapleidretriever/MapleIdRetriever.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleIdRetriever/build/classes/mapleidretriever/MapleIdRetriever.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "caa900c4bd912465b464545b80d44d160f6d3a29", "filename": "tools/MapleIdRetriever/dist/MapleIdRetriever.jar", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/tools/MapleIdRetriever/dist/MapleIdRetriever.jar", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/tools/MapleIdRetriever/dist/MapleIdRetriever.jar", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleIdRetriever/dist/MapleIdRetriever.jar?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "7407ca14cb9816cd58ac36f8cdc4b80ff0892760", "filename": "tools/MapleIdRetriever/lib/fetch.txt", "status": "modified", "additions": 11, "deletions": 23, "changes": 34, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/tools/MapleIdRetriever/lib/fetch.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/tools/MapleIdRetriever/lib/fetch.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleIdRetriever/lib/fetch.txt?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -1,26 +1,14 @@\n-Dark Crystal Ore\n-DEX Crystal Ore\n-LUK Crystal Ore\n-Power Crystal Ore\n-Wisdom Crystal Ore\n-Dark Crystal\n-DEX Crystal\n-LUK Crystal\n-Power Crystal\n-Wisdom Crystal\n+Orihalcon Platine (M)\n+Helios\n \n-Mana Elixir\n-Elixir\n-Power Elixir\n+Green Neli Shoes\n+Kage\n \n-Reindeer Milk\n-Sunrise Dew\n-Sunset Dew\n+Green Pris (M)\n+Golden Raven\n \n-Silver Rover\n-Mithril Husk\n-Gold Eyes\n-Blue Lorin\n-Brown Lorin\n-Steel Pow\n-Black Bisk\n\\ No newline at end of file\n+Brown Pireta Hat\n+Dragon's Tail\n+\n+Red Martier\n+White Fangz"}, {"sha": "dc604699b37626c6d264909b8b0fe9cc51f42a65", "filename": "tools/MapleIdRetriever/lib/result.txt", "status": "modified", "additions": 10, "deletions": 22, "changes": 32, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/tools/MapleIdRetriever/lib/result.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/tools/MapleIdRetriever/lib/result.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleIdRetriever/lib/result.txt?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -1,26 +1,14 @@\n-4004004 \n-4004002 \n-4004003 \n-4004000 \n-4004001 \n-4005004 \n-4005002 \n-4005003 \n-4005000 \n-4005001 \n \n-2000006 2000018 2022177 \n-2000004 2000012 2002012 2022175 2022456 \n-2000005 2000019 2002013 2022176 2022457 \n+1412009 1412016 1412020 1412025 \n \n-2020013 \n-2020014 \n-2020015 \n+1072207 \n+1382008 1382024 1382029 1382034 \n \n-1082096 \n-1082104 \n-1082107 \n-1082099 \n-1082098 \n \n-1082204 \n+1462012 \n+\n+1002327 \n+1332023 1332037 1332042 1332047 \n+\n+1082210 \n+1482011 "}, {"sha": "bb8342ed6125d6f4089e8e0764bd85c6397ed8bd", "filename": "tools/MapleIdRetriever/nbproject/private/private.xml", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/tools/MapleIdRetriever/nbproject/private/private.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/tools/MapleIdRetriever/nbproject/private/private.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleIdRetriever/nbproject/private/private.xml?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -2,6 +2,8 @@\n <project-private xmlns=\"http://www.netbeans.org/ns/project-private/1\">\n     <editor-bookmarks xmlns=\"http://www.netbeans.org/ns/editor-bookmarks/2\" lastBookmarkId=\"0\"/>\n     <open-files xmlns=\"http://www.netbeans.org/ns/projectui-open-files/2\">\n-        <group/>\n+        <group>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/tools/MapleIdRetriever/src/mapleidretriever/MapleIdRetriever.java</file>\n+        </group>\n     </open-files>\n </project-private>"}, {"sha": "46a4085f6edead5d73f963d115cbd2baa920a019", "filename": "tools/MapleIdRetriever/src/mapleidretriever/MapleIdRetriever.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/tools/MapleIdRetriever/src/mapleidretriever/MapleIdRetriever.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/tools/MapleIdRetriever/src/mapleidretriever/MapleIdRetriever.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleIdRetriever/src/mapleidretriever/MapleIdRetriever.java?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -30,7 +30,7 @@\n  * \n  */\n public class MapleIdRetriever {\n-    private final static boolean INSTALL_SQLTABLE = true;\n+    private final static boolean INSTALL_SQLTABLE = false;\n     \n     static String host = \"jdbc:mysql://localhost:3306/maplesolaxia\";\n     static String driver = \"com.mysql.jdbc.Driver\";"}, {"sha": "b828bcc5c124086c7a4c068550f9b877fe5e79c8", "filename": "tools/MobBookUpdate/build/built-jar.properties", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/tools/MobBookUpdate/build/built-jar.properties", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/tools/MobBookUpdate/build/built-jar.properties", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MobBookUpdate/build/built-jar.properties?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -1,4 +1,4 @@\n-#Fri, 18 Aug 2017 18:00:41 -0300\n+#Tue, 22 Aug 2017 22:50:37 -0300\n \n \n C\\:\\\\Nexon\\\\MapleSolaxia\\\\MapleSolaxiaV2\\\\tools\\\\MobBookUpdate="}, {"sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391", "filename": "tools/MobBookUpdate/build/classes/.netbeans_automatic_build", "status": "removed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/36db21bf80ee1f7e80e36ff04b4d8785c28fb984/tools/MobBookUpdate/build/classes/.netbeans_automatic_build", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/36db21bf80ee1f7e80e36ff04b4d8785c28fb984/tools/MobBookUpdate/build/classes/.netbeans_automatic_build", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MobBookUpdate/build/classes/.netbeans_automatic_build?ref=36db21bf80ee1f7e80e36ff04b4d8785c28fb984"}, {"sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391", "filename": "tools/MobBookUpdate/build/classes/.netbeans_update_resources", "status": "removed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/36db21bf80ee1f7e80e36ff04b4d8785c28fb984/tools/MobBookUpdate/build/classes/.netbeans_update_resources", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/36db21bf80ee1f7e80e36ff04b4d8785c28fb984/tools/MobBookUpdate/build/classes/.netbeans_update_resources", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MobBookUpdate/build/classes/.netbeans_update_resources?ref=36db21bf80ee1f7e80e36ff04b4d8785c28fb984"}, {"sha": "838ae80eade98fb1df000519be157b4a61c260a4", "filename": "tools/MobBookUpdate/build/classes/mobbookupdate/MobBookUpdate.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/tools/MobBookUpdate/build/classes/mobbookupdate/MobBookUpdate.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/tools/MobBookUpdate/build/classes/mobbookupdate/MobBookUpdate.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MobBookUpdate/build/classes/mobbookupdate/MobBookUpdate.class?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "45788743846637cac7892bdb9f0f81c1ccdf4d3a", "filename": "tools/MobBookUpdate/dist/MobBookUpdate.jar", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/tools/MobBookUpdate/dist/MobBookUpdate.jar", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/tools/MobBookUpdate/dist/MobBookUpdate.jar", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MobBookUpdate/dist/MobBookUpdate.jar?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "173d4e61801691192bea8cbaa15f16ccc174650a", "filename": "tools/MobBookUpdate/lib/MonsterBook.img.xml", "status": "modified", "additions": 1360, "deletions": 1394, "changes": 2754, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/tools/MobBookUpdate/lib/MonsterBook.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/tools/MobBookUpdate/lib/MonsterBook.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MobBookUpdate/lib/MonsterBook.img.xml?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "4275039b99ec77b59f5f70c645a8c56a7488e1b7", "filename": "tools/MobBookUpdate/lib/MonsterBookOrig.img.xml", "status": "added", "additions": 14866, "deletions": 0, "changes": 14866, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/tools/MobBookUpdate/lib/MonsterBookOrig.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/tools/MobBookUpdate/lib/MonsterBookOrig.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MobBookUpdate/lib/MonsterBookOrig.img.xml?ref=6628e3db5409c65414891adb05e7bac5d519d443"}, {"sha": "3fabc2df24ef62848332e07c445bdf2c3b6de5e6", "filename": "tools/MobBookUpdate/lib/MonsterBook_updated.img.xml", "status": "modified", "additions": 440, "deletions": 156, "changes": 596, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/tools/MobBookUpdate/lib/MonsterBook_updated.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/tools/MobBookUpdate/lib/MonsterBook_updated.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MobBookUpdate/lib/MonsterBook_updated.img.xml?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -3191,7 +3191,49 @@\n       <int name=\"4\" value=\"110030001\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2382030\" />\n+      <int name=\"0\" value=\"1040080\" />\n+      <int name=\"1\" value=\"1041074\" />\n+      <int name=\"2\" value=\"1050000\" />\n+      <int name=\"3\" value=\"1050038\" />\n+      <int name=\"4\" value=\"1060068\" />\n+      <int name=\"5\" value=\"1061069\" />\n+      <int name=\"6\" value=\"1072113\" />\n+      <int name=\"7\" value=\"1072121\" />\n+      <int name=\"8\" value=\"1072297\" />\n+      <int name=\"9\" value=\"1082056\" />\n+      <int name=\"10\" value=\"1082074\" />\n+      <int name=\"11\" value=\"1092014\" />\n+      <int name=\"12\" value=\"1302017\" />\n+      <int name=\"13\" value=\"1302020\" />\n+      <int name=\"14\" value=\"1302030\" />\n+      <int name=\"15\" value=\"1322021\" />\n+      <int name=\"16\" value=\"1322022\" />\n+      <int name=\"17\" value=\"1322023\" />\n+      <int name=\"18\" value=\"1322024\" />\n+      <int name=\"19\" value=\"1332020\" />\n+      <int name=\"20\" value=\"1382017\" />\n+      <int name=\"21\" value=\"1442001\" />\n+      <int name=\"22\" value=\"1442027\" />\n+      <int name=\"23\" value=\"1442028\" />\n+      <int name=\"24\" value=\"1452005\" />\n+      <int name=\"25\" value=\"1482006\" />\n+      <int name=\"26\" value=\"1492021\" />\n+      <int name=\"27\" value=\"2000002\" />\n+      <int name=\"28\" value=\"2000003\" />\n+      <int name=\"29\" value=\"2040024\" />\n+      <int name=\"30\" value=\"2040423\" />\n+      <int name=\"31\" value=\"2043301\" />\n+      <int name=\"32\" value=\"2044802\" />\n+      <int name=\"33\" value=\"2048002\" />\n+      <int name=\"34\" value=\"2048005\" />\n+      <int name=\"35\" value=\"2382030\" />\n+      <int name=\"36\" value=\"4000043\" />\n+      <int name=\"37\" value=\"4006001\" />\n+      <int name=\"38\" value=\"4010005\" />\n+      <int name=\"39\" value=\"4020000\" />\n+      <int name=\"40\" value=\"4030012\" />\n+      <int name=\"41\" value=\"4130011\" />\n+      <int name=\"42\" value=\"4130015\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  37\\nForm : Fish\\nSpecial Trait : Vulnerable to Electricity Attribute Attacks.\\n\\nA monster that appears in the sand near the sea. Its speed and high defense rate render this monster difficult to hunt, but since it lives by the water, use magic of lightning attribute to attack its vulnerability.\" />\n   </imgdir>\n@@ -4309,7 +4351,37 @@\n       <int name=\"2\" value=\"110040000\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2383009\" />\n+      <int name=\"0\" value=\"1002025\" />\n+      <int name=\"1\" value=\"1002085\" />\n+      <int name=\"2\" value=\"1002217\" />\n+      <int name=\"3\" value=\"1040083\" />\n+      <int name=\"4\" value=\"1040095\" />\n+      <int name=\"5\" value=\"1041079\" />\n+      <int name=\"6\" value=\"1041081\" />\n+      <int name=\"7\" value=\"1041082\" />\n+      <int name=\"8\" value=\"1041087\" />\n+      <int name=\"9\" value=\"1060072\" />\n+      <int name=\"10\" value=\"1060084\" />\n+      <int name=\"11\" value=\"1061078\" />\n+      <int name=\"12\" value=\"1061081\" />\n+      <int name=\"13\" value=\"1061086\" />\n+      <int name=\"14\" value=\"1302016\" />\n+      <int name=\"15\" value=\"1382001\" />\n+      <int name=\"16\" value=\"1412003\" />\n+      <int name=\"17\" value=\"1442011\" />\n+      <int name=\"18\" value=\"1482007\" />\n+      <int name=\"19\" value=\"2000003\" />\n+      <int name=\"20\" value=\"2000004\" />\n+      <int name=\"21\" value=\"2040427\" />\n+      <int name=\"22\" value=\"2043201\" />\n+      <int name=\"23\" value=\"2043202\" />\n+      <int name=\"24\" value=\"2383009\" />\n+      <int name=\"25\" value=\"4000044\" />\n+      <int name=\"26\" value=\"4010003\" />\n+      <int name=\"27\" value=\"4020002\" />\n+      <int name=\"28\" value=\"4130005\" />\n+      <int name=\"29\" value=\"4130015\" />\n+      <int name=\"30\" value=\"4130017\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  48\\nForm : Fish\\nSpecial Trait : Vulnerable to Electricity Attribute Attacks.\\n\\nA crab monster that mainly lives near the sand by the sea. It is superior to Lorang in every aspect including speed and defense rate. It is encouraged that you don't attack this monster hastily, as it dashes through the seashore at the speed which rivals that of Lupin. But since it it lives near water like Lorang and is very vulnerable to lightning as a result, try attacking this monster using magic of electricity attribute.\" />\n   </imgdir>\n@@ -5867,7 +5939,41 @@\n       <int name=\"4\" value=\"211040300\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2383013\" />\n+      <int name=\"0\" value=\"1002100\" />\n+      <int name=\"1\" value=\"1041096\" />\n+      <int name=\"2\" value=\"1050053\" />\n+      <int name=\"3\" value=\"1051037\" />\n+      <int name=\"4\" value=\"1051044\" />\n+      <int name=\"5\" value=\"1051045\" />\n+      <int name=\"6\" value=\"1052116\" />\n+      <int name=\"7\" value=\"1061095\" />\n+      <int name=\"8\" value=\"1072089\" />\n+      <int name=\"9\" value=\"1082038\" />\n+      <int name=\"10\" value=\"1092030\" />\n+      <int name=\"11\" value=\"1442009\" />\n+      <int name=\"12\" value=\"1452006\" />\n+      <int name=\"13\" value=\"2000002\" />\n+      <int name=\"14\" value=\"2000003\" />\n+      <int name=\"15\" value=\"2000004\" />\n+      <int name=\"16\" value=\"2040321\" />\n+      <int name=\"17\" value=\"2040804\" />\n+      <int name=\"18\" value=\"2040925\" />\n+      <int name=\"19\" value=\"2040933\" />\n+      <int name=\"20\" value=\"2043019\" />\n+      <int name=\"21\" value=\"2043110\" />\n+      <int name=\"22\" value=\"2044602\" />\n+      <int name=\"23\" value=\"2383013\" />\n+      <int name=\"24\" value=\"4000021\" />\n+      <int name=\"25\" value=\"4000048\" />\n+      <int name=\"26\" value=\"4003005\" />\n+      <int name=\"27\" value=\"4004002\" />\n+      <int name=\"28\" value=\"4007000\" />\n+      <int name=\"29\" value=\"4007001\" />\n+      <int name=\"30\" value=\"4007002\" />\n+      <int name=\"31\" value=\"4010002\" />\n+      <int name=\"32\" value=\"4020001\" />\n+      <int name=\"33\" value=\"4130010\" />\n+      <int name=\"34\" value=\"4130011\" />\n     </imgdir>\n     <string name=\"episode\" value=\"Lv. :  50\\nForm : Mammal\\n\\nA small yeti often spotted in the snowfield of Ossyria near El Nath. Is made to live in cold climates and can therefore withstand strong Ice Attribute Attacks while being vulnerable to Fire Attribute Attacks. Its small frame and slow movement makes it an easy target, but beware, as many a travellers have been badly injured by this cute little creature. The Jr. Yeti is capable of transforming into a giant yeti as well so watch out!  \" />\n   </imgdir>\n@@ -6378,7 +6484,39 @@\n       <int name=\"2\" value=\"250010303\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2383035\" />\n+      <int name=\"0\" value=\"1032021\" />\n+      <int name=\"1\" value=\"1040099\" />\n+      <int name=\"2\" value=\"1050058\" />\n+      <int name=\"3\" value=\"1060088\" />\n+      <int name=\"4\" value=\"1072134\" />\n+      <int name=\"5\" value=\"1082066\" />\n+      <int name=\"6\" value=\"1082081\" />\n+      <int name=\"7\" value=\"1082201\" />\n+      <int name=\"8\" value=\"1092045\" />\n+      <int name=\"9\" value=\"1432006\" />\n+      <int name=\"10\" value=\"1472055\" />\n+      <int name=\"11\" value=\"2000002\" />\n+      <int name=\"12\" value=\"2000003\" />\n+      <int name=\"13\" value=\"2040031\" />\n+      <int name=\"14\" value=\"2040515\" />\n+      <int name=\"15\" value=\"2043701\" />\n+      <int name=\"16\" value=\"2043801\" />\n+      <int name=\"17\" value=\"2049100\" />\n+      <int name=\"18\" value=\"2049101\" />\n+      <int name=\"19\" value=\"2330002\" />\n+      <int name=\"20\" value=\"2383035\" />\n+      <int name=\"21\" value=\"4000021\" />\n+      <int name=\"22\" value=\"4000283\" />\n+      <int name=\"23\" value=\"4000284\" />\n+      <int name=\"24\" value=\"4003005\" />\n+      <int name=\"25\" value=\"4004002\" />\n+      <int name=\"26\" value=\"4004004\" />\n+      <int name=\"27\" value=\"4010005\" />\n+      <int name=\"28\" value=\"4020004\" />\n+      <int name=\"29\" value=\"4020007\" />\n+      <int name=\"30\" value=\"4130000\" />\n+      <int name=\"31\" value=\"4130009\" />\n+      <int name=\"32\" value=\"4130021\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  56\\nForm : Mammal\\n\\nA type of bear that lives near Mu Lung. Although it's only a bear, it has a heartfelt desire to become a virtuous master, hence devoting much of its energy in training. While it diligently trains in its practice uniform, it sometimes fails to suppress its animalistic instinct and attacks the passersby.\" />\n   </imgdir>\n@@ -7417,36 +7555,34 @@\n       <int name=\"29\" value=\"2040704\" />\n       <int name=\"30\" value=\"2040804\" />\n       <int name=\"31\" value=\"2040825\" />\n-      <int name=\"32\" value=\"2040827\" />\n-      <int name=\"33\" value=\"2040933\" />\n-      <int name=\"34\" value=\"2040935\" />\n-      <int name=\"35\" value=\"2041002\" />\n-      <int name=\"36\" value=\"2041013\" />\n-      <int name=\"37\" value=\"2041016\" />\n-      <int name=\"38\" value=\"2041046\" />\n-      <int name=\"39\" value=\"2043201\" />\n-      <int name=\"40\" value=\"2043701\" />\n-      <int name=\"41\" value=\"2043802\" />\n-      <int name=\"42\" value=\"2044114\" />\n-      <int name=\"43\" value=\"2044116\" />\n-      <int name=\"44\" value=\"2044201\" />\n-      <int name=\"45\" value=\"2044301\" />\n-      <int name=\"46\" value=\"2044502\" />\n-      <int name=\"47\" value=\"2044801\" />\n-      <int name=\"48\" value=\"2044803\" />\n-      <int name=\"49\" value=\"2044807\" />\n-      <int name=\"50\" value=\"2044902\" />\n-      <int name=\"51\" value=\"2044904\" />\n-      <int name=\"52\" value=\"2060000\" />\n-      <int name=\"53\" value=\"2061000\" />\n-      <int name=\"54\" value=\"2388005\" />\n-      <int name=\"55\" value=\"4000113\" />\n-      <int name=\"56\" value=\"4000114\" />\n-      <int name=\"57\" value=\"4000115\" />\n-      <int name=\"58\" value=\"4004001\" />\n-      <int name=\"59\" value=\"4010003\" />\n-      <int name=\"60\" value=\"4020006\" />\n-      <int name=\"61\" value=\"4031991\" />\n+      <int name=\"32\" value=\"2040933\" />\n+      <int name=\"33\" value=\"2041002\" />\n+      <int name=\"34\" value=\"2041013\" />\n+      <int name=\"35\" value=\"2041016\" />\n+      <int name=\"36\" value=\"2041046\" />\n+      <int name=\"37\" value=\"2043201\" />\n+      <int name=\"38\" value=\"2043701\" />\n+      <int name=\"39\" value=\"2043802\" />\n+      <int name=\"40\" value=\"2044114\" />\n+      <int name=\"41\" value=\"2044116\" />\n+      <int name=\"42\" value=\"2044201\" />\n+      <int name=\"43\" value=\"2044301\" />\n+      <int name=\"44\" value=\"2044502\" />\n+      <int name=\"45\" value=\"2044801\" />\n+      <int name=\"46\" value=\"2044803\" />\n+      <int name=\"47\" value=\"2044807\" />\n+      <int name=\"48\" value=\"2044902\" />\n+      <int name=\"49\" value=\"2044904\" />\n+      <int name=\"50\" value=\"2060000\" />\n+      <int name=\"51\" value=\"2061000\" />\n+      <int name=\"52\" value=\"2388005\" />\n+      <int name=\"53\" value=\"4000113\" />\n+      <int name=\"54\" value=\"4000114\" />\n+      <int name=\"55\" value=\"4000115\" />\n+      <int name=\"56\" value=\"4004001\" />\n+      <int name=\"57\" value=\"4010003\" />\n+      <int name=\"58\" value=\"4020006\" />\n+      <int name=\"59\" value=\"4031991\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  59\\nForm : Enchanted\\n\\nThe ghost of the past that originated from the deserted land in Ludibrium. It was brought back to life due to the Dimensional Schism, and has been a follower of Papulatus ever since, pestering anyone that attempts to go near the lowest level of the Clocktower. It appears in the form of an owl clock, and it tries to cling onto the past by turning back the time. \" />\n   </imgdir>\n@@ -8375,35 +8511,34 @@\n       <int name=\"20\" value=\"2002001\" />\n       <int name=\"21\" value=\"2040004\" />\n       <int name=\"22\" value=\"2040031\" />\n-      <int name=\"23\" value=\"2040033\" />\n-      <int name=\"24\" value=\"2040501\" />\n-      <int name=\"25\" value=\"2040516\" />\n-      <int name=\"26\" value=\"2040614\" />\n-      <int name=\"27\" value=\"2040627\" />\n-      <int name=\"28\" value=\"2040702\" />\n-      <int name=\"29\" value=\"2040804\" />\n-      <int name=\"30\" value=\"2041001\" />\n-      <int name=\"31\" value=\"2041008\" />\n-      <int name=\"32\" value=\"2041043\" />\n-      <int name=\"33\" value=\"2043301\" />\n-      <int name=\"34\" value=\"2044001\" />\n-      <int name=\"35\" value=\"2044312\" />\n-      <int name=\"36\" value=\"2044313\" />\n-      <int name=\"37\" value=\"2044401\" />\n-      <int name=\"38\" value=\"2044502\" />\n-      <int name=\"39\" value=\"2044601\" />\n-      <int name=\"40\" value=\"2044701\" />\n-      <int name=\"41\" value=\"2044702\" />\n-      <int name=\"42\" value=\"2044807\" />\n-      <int name=\"43\" value=\"2048002\" />\n-      <int name=\"44\" value=\"2060000\" />\n-      <int name=\"45\" value=\"2061000\" />\n-      <int name=\"46\" value=\"2388007\" />\n-      <int name=\"47\" value=\"4000021\" />\n-      <int name=\"48\" value=\"4000032\" />\n-      <int name=\"49\" value=\"4000033\" />\n-      <int name=\"50\" value=\"4010002\" />\n-      <int name=\"51\" value=\"4020003\" />\n+      <int name=\"23\" value=\"2040501\" />\n+      <int name=\"24\" value=\"2040516\" />\n+      <int name=\"25\" value=\"2040614\" />\n+      <int name=\"26\" value=\"2040627\" />\n+      <int name=\"27\" value=\"2040702\" />\n+      <int name=\"28\" value=\"2040804\" />\n+      <int name=\"29\" value=\"2041001\" />\n+      <int name=\"30\" value=\"2041008\" />\n+      <int name=\"31\" value=\"2041043\" />\n+      <int name=\"32\" value=\"2043301\" />\n+      <int name=\"33\" value=\"2044001\" />\n+      <int name=\"34\" value=\"2044312\" />\n+      <int name=\"35\" value=\"2044313\" />\n+      <int name=\"36\" value=\"2044401\" />\n+      <int name=\"37\" value=\"2044502\" />\n+      <int name=\"38\" value=\"2044601\" />\n+      <int name=\"39\" value=\"2044701\" />\n+      <int name=\"40\" value=\"2044702\" />\n+      <int name=\"41\" value=\"2044807\" />\n+      <int name=\"42\" value=\"2048002\" />\n+      <int name=\"43\" value=\"2060000\" />\n+      <int name=\"44\" value=\"2061000\" />\n+      <int name=\"45\" value=\"2388007\" />\n+      <int name=\"46\" value=\"4000021\" />\n+      <int name=\"47\" value=\"4000032\" />\n+      <int name=\"48\" value=\"4000033\" />\n+      <int name=\"49\" value=\"4010002\" />\n+      <int name=\"50\" value=\"4020003\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  65\\nForm : Reptile\\n\\nA gigantic crocodile that hides in the swamp in Kerning City. Some say that it suddenly grew in size due to a strange substance in the waste water it consumed, although such claim has not been confirmed. While naturally docile, its simple-minded personality sometimes causes Mr. Alli to rashly become a ferocious monster when provoked. \" />\n   </imgdir>\n@@ -8673,7 +8808,17 @@\n       <int name=\"0\" value=\"200010300\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2384005\" />\n+      <int name=\"0\" value=\"1092045\" />\n+      <int name=\"1\" value=\"1092047\" />\n+      <int name=\"2\" value=\"1372034\" />\n+      <int name=\"3\" value=\"1412027\" />\n+      <int name=\"4\" value=\"1482022\" />\n+      <int name=\"5\" value=\"2040515\" />\n+      <int name=\"6\" value=\"2044410\" />\n+      <int name=\"7\" value=\"2384005\" />\n+      <int name=\"8\" value=\"4130009\" />\n+      <int name=\"9\" value=\"4130010\" />\n+      <int name=\"10\" value=\"4130014\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  63\\nForm : Mammal\\nSpecial Trait : Resistant to Poison Attribute Attacks. Vulnerable to Sanctity Attribute Attacks.\\n\\nA black monster that lives in the Stairway to the Sky in Orbis. Although it resembles the physical characteristics of Cellion, Lioner, and Grupin, the Jr. Lucida has a small horn and a pair of wings, not to mention its dark and brutal force that is reflected in its black coat of fur. When fully grown, Jr. Lucida becomes Lucida.\" />\n   </imgdir>\n@@ -9120,8 +9265,27 @@\n       <int name=\"0\" value=\"261020401\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2384038\" />\n-      <int name=\"1\" value=\"4000411\" />\n+      <int name=\"0\" value=\"1032020\" />\n+      <int name=\"1\" value=\"1041102\" />\n+      <int name=\"2\" value=\"1051054\" />\n+      <int name=\"3\" value=\"1072309\" />\n+      <int name=\"4\" value=\"1082107\" />\n+      <int name=\"5\" value=\"1092016\" />\n+      <int name=\"6\" value=\"1102023\" />\n+      <int name=\"7\" value=\"1382039\" />\n+      <int name=\"8\" value=\"1402015\" />\n+      <int name=\"9\" value=\"1452014\" />\n+      <int name=\"10\" value=\"1472027\" />\n+      <int name=\"11\" value=\"1492022\" />\n+      <int name=\"12\" value=\"2022130\" />\n+      <int name=\"13\" value=\"2022191\" />\n+      <int name=\"14\" value=\"2040519\" />\n+      <int name=\"15\" value=\"2041014\" />\n+      <int name=\"16\" value=\"2044601\" />\n+      <int name=\"17\" value=\"2044705\" />\n+      <int name=\"18\" value=\"2044809\" />\n+      <int name=\"19\" value=\"2384038\" />\n+      <int name=\"20\" value=\"4000411\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  75\\nForm : Enchanted\\n\\nA mechanical apparatus built to restrict the trespassers entering an area limited to only the lab affiliates. This robot, resembling a huge box, floats around the lab to inspect people inside to keep intruders out of the lab. It will attack as soon as it detects a suspect, hence, must be controlled using the necessary console. \" />\n   </imgdir>\n@@ -9982,21 +10146,20 @@\n       <int name=\"14\" value=\"2002006\" />\n       <int name=\"15\" value=\"2040024\" />\n       <int name=\"16\" value=\"2040534\" />\n-      <int name=\"17\" value=\"2040536\" />\n-      <int name=\"18\" value=\"2041007\" />\n-      <int name=\"19\" value=\"2043001\" />\n-      <int name=\"20\" value=\"2043112\" />\n-      <int name=\"21\" value=\"2043113\" />\n-      <int name=\"22\" value=\"2070007\" />\n-      <int name=\"23\" value=\"2330003\" />\n-      <int name=\"24\" value=\"2384023\" />\n-      <int name=\"25\" value=\"4004001\" />\n-      <int name=\"26\" value=\"4006000\" />\n-      <int name=\"27\" value=\"4010006\" />\n-      <int name=\"28\" value=\"4020006\" />\n-      <int name=\"29\" value=\"4030012\" />\n-      <int name=\"30\" value=\"4031234\" />\n-      <int name=\"31\" value=\"4130017\" />\n+      <int name=\"17\" value=\"2041007\" />\n+      <int name=\"18\" value=\"2043001\" />\n+      <int name=\"19\" value=\"2043112\" />\n+      <int name=\"20\" value=\"2043113\" />\n+      <int name=\"21\" value=\"2070007\" />\n+      <int name=\"22\" value=\"2330003\" />\n+      <int name=\"23\" value=\"2384023\" />\n+      <int name=\"24\" value=\"4004001\" />\n+      <int name=\"25\" value=\"4006000\" />\n+      <int name=\"26\" value=\"4010006\" />\n+      <int name=\"27\" value=\"4020006\" />\n+      <int name=\"28\" value=\"4030012\" />\n+      <int name=\"29\" value=\"4031234\" />\n+      <int name=\"30\" value=\"4130017\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  70\\nForm : Devil\\nSpecial Trait : Resistant to Poison Attribute Attacks.\\n\\nKing Goblin known for its penchant for wrestling. It frequently pleads with the passersby for a wrestling match.  It can fumigate everything nearby with its infamous flatulence. It likes buckwheat jelly.\" />\n   </imgdir>\n@@ -10458,8 +10621,27 @@\n       <int name=\"0\" value=\"261010102\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2385023\" />\n-      <int name=\"1\" value=\"4000418\" />\n+      <int name=\"0\" value=\"1002327\" />\n+      <int name=\"1\" value=\"1032020\" />\n+      <int name=\"2\" value=\"1040104\" />\n+      <int name=\"3\" value=\"1050077\" />\n+      <int name=\"4\" value=\"1072207\" />\n+      <int name=\"5\" value=\"1082210\" />\n+      <int name=\"6\" value=\"1102023\" />\n+      <int name=\"7\" value=\"1332023\" />\n+      <int name=\"8\" value=\"1382008\" />\n+      <int name=\"9\" value=\"1412009\" />\n+      <int name=\"10\" value=\"1462012\" />\n+      <int name=\"11\" value=\"1482011\" />\n+      <int name=\"12\" value=\"2022130\" />\n+      <int name=\"13\" value=\"2022191\" />\n+      <int name=\"14\" value=\"2040519\" />\n+      <int name=\"15\" value=\"2041014\" />\n+      <int name=\"16\" value=\"2044601\" />\n+      <int name=\"17\" value=\"2044705\" />\n+      <int name=\"18\" value=\"2044809\" />\n+      <int name=\"19\" value=\"2385023\" />\n+      <int name=\"20\" value=\"4000418\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  80\\nForm : Enchanted\\n\\nThe most unique invention built by the alchemists of Alcadno. At first, the alchemists tried to build a robot more powerful than Roid, but the result of their attempt, Deet, did not have the level of intelligence they had hoped for. Consequently, the alchemists combined Deet and Roid to create the product of best of both worlds. However, with Roid's intelligence and Deet's physical strength combined, this newly improved robot refused to obey the commands of the Alcadno alchemists, causing unforeseen ruckus. After debating what to do with this robot, they decided to play a prank on the Zenumist alchemists. Upon sneaking in this failed invention into the Zenumist lab, Deet and Roi began breaking all the beakers and flasks, leaving no choice for the Zenumist alchemists but to destroy the robot using their renowned magic skills. However, the only way to completely destroy Deet and Roi is to break it into pieces, as even activating the most effective machine in lab 202 could only inflict rusting.\" />\n   </imgdir>\n@@ -11896,7 +12078,47 @@\n       <int name=\"4\" value=\"240040401\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2386008\" />\n+      <int name=\"0\" value=\"1002365\" />\n+      <int name=\"1\" value=\"1040117\" />\n+      <int name=\"2\" value=\"1040118\" />\n+      <int name=\"3\" value=\"1041118\" />\n+      <int name=\"4\" value=\"1050089\" />\n+      <int name=\"5\" value=\"1050090\" />\n+      <int name=\"6\" value=\"1052128\" />\n+      <int name=\"7\" value=\"1060106\" />\n+      <int name=\"8\" value=\"1061116\" />\n+      <int name=\"9\" value=\"1072223\" />\n+      <int name=\"10\" value=\"1082129\" />\n+      <int name=\"11\" value=\"1452017\" />\n+      <int name=\"12\" value=\"2000005\" />\n+      <int name=\"13\" value=\"2000006\" />\n+      <int name=\"14\" value=\"2040516\" />\n+      <int name=\"15\" value=\"2040701\" />\n+      <int name=\"16\" value=\"2043002\" />\n+      <int name=\"17\" value=\"2043114\" />\n+      <int name=\"18\" value=\"2044901\" />\n+      <int name=\"19\" value=\"2044902\" />\n+      <int name=\"20\" value=\"2290120\" />\n+      <int name=\"21\" value=\"2290127\" />\n+      <int name=\"22\" value=\"2386008\" />\n+      <int name=\"23\" value=\"4000244\" />\n+      <int name=\"24\" value=\"4000245\" />\n+      <int name=\"25\" value=\"4000268\" />\n+      <int name=\"26\" value=\"4001077\" />\n+      <int name=\"27\" value=\"4001105\" />\n+      <int name=\"28\" value=\"4004002\" />\n+      <int name=\"29\" value=\"4006001\" />\n+      <int name=\"30\" value=\"4010001\" />\n+      <int name=\"31\" value=\"4020000\" />\n+      <int name=\"32\" value=\"4031449\" />\n+      <int name=\"33\" value=\"4031482\" />\n+      <int name=\"34\" value=\"4031483\" />\n+      <int name=\"35\" value=\"4031484\" />\n+      <int name=\"36\" value=\"4031485\" />\n+      <int name=\"37\" value=\"4130002\" />\n+      <int name=\"38\" value=\"4130004\" />\n+      <int name=\"39\" value=\"4130005\" />\n+      <int name=\"40\" value=\"4130013\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  97\\nForm : Reptile\\nSpecial Trait : -50% Fire Attribute Damage. Vulnerable to Ice Attribute Attacks.\\n\\nA ferocious dragon that lives in the Dragon Canyon. It has a huge pair of reddish wings but no front legs. It sets its nest in between the valleys, and has a decent level of intelligence as well as an extremely fast speed, not to mention the wind it can create with its huge wings.  It also orally emits flames. \" />\n   </imgdir>\n@@ -11909,7 +12131,42 @@\n       <int name=\"4\" value=\"240040401\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2386013\" />\n+      <int name=\"0\" value=\"1002532\" />\n+      <int name=\"1\" value=\"1050094\" />\n+      <int name=\"2\" value=\"1051105\" />\n+      <int name=\"3\" value=\"1072227\" />\n+      <int name=\"4\" value=\"1082143\" />\n+      <int name=\"5\" value=\"1082213\" />\n+      <int name=\"6\" value=\"1372010\" />\n+      <int name=\"7\" value=\"1422013\" />\n+      <int name=\"8\" value=\"2000005\" />\n+      <int name=\"9\" value=\"2000006\" />\n+      <int name=\"10\" value=\"2022003\" />\n+      <int name=\"11\" value=\"2040001\" />\n+      <int name=\"12\" value=\"2040401\" />\n+      <int name=\"13\" value=\"2040924\" />\n+      <int name=\"14\" value=\"2040925\" />\n+      <int name=\"15\" value=\"2044001\" />\n+      <int name=\"16\" value=\"2290101\" />\n+      <int name=\"17\" value=\"2330004\" />\n+      <int name=\"18\" value=\"2386013\" />\n+      <int name=\"19\" value=\"4000244\" />\n+      <int name=\"20\" value=\"4000245\" />\n+      <int name=\"21\" value=\"4000269\" />\n+      <int name=\"22\" value=\"4001077\" />\n+      <int name=\"23\" value=\"4001105\" />\n+      <int name=\"24\" value=\"4004003\" />\n+      <int name=\"25\" value=\"4006000\" />\n+      <int name=\"26\" value=\"4010004\" />\n+      <int name=\"27\" value=\"4020005\" />\n+      <int name=\"28\" value=\"4031449\" />\n+      <int name=\"29\" value=\"4031482\" />\n+      <int name=\"30\" value=\"4031483\" />\n+      <int name=\"31\" value=\"4031484\" />\n+      <int name=\"32\" value=\"4031485\" />\n+      <int name=\"33\" value=\"4130004\" />\n+      <int name=\"34\" value=\"4130013\" />\n+      <int name=\"35\" value=\"4130014\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  101\\nForm : Reptile\\nSpecial Trait : Vulnerable Fire Attribute Attacks. -50% Ice Attribute Damage.\\n\\nA ferocious dragon that lives in the Dragon Canyon. It has a huge pair of blue wings but no front legs. It sets its nest in between the valleys, and has a decent level of intelligence as well as an extremely fast speed, not to mention the wind it can create with its huge wings.  It also orally emits cold air. \" />\n   </imgdir>\n@@ -11922,7 +12179,53 @@\n       <int name=\"4\" value=\"240040500\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2386015\" />\n+      <int name=\"0\" value=\"1002531\" />\n+      <int name=\"1\" value=\"1040115\" />\n+      <int name=\"2\" value=\"1040117\" />\n+      <int name=\"3\" value=\"1050093\" />\n+      <int name=\"4\" value=\"1051095\" />\n+      <int name=\"5\" value=\"1060104\" />\n+      <int name=\"6\" value=\"1060107\" />\n+      <int name=\"7\" value=\"1072214\" />\n+      <int name=\"8\" value=\"1082127\" />\n+      <int name=\"9\" value=\"1332027\" />\n+      <int name=\"10\" value=\"1442020\" />\n+      <int name=\"11\" value=\"1482012\" />\n+      <int name=\"12\" value=\"2000005\" />\n+      <int name=\"13\" value=\"2000006\" />\n+      <int name=\"14\" value=\"2020013\" />\n+      <int name=\"15\" value=\"2022003\" />\n+      <int name=\"16\" value=\"2040302\" />\n+      <int name=\"17\" value=\"2040320\" />\n+      <int name=\"18\" value=\"2044301\" />\n+      <int name=\"19\" value=\"2044402\" />\n+      <int name=\"20\" value=\"2290010\" />\n+      <int name=\"21\" value=\"2290019\" />\n+      <int name=\"22\" value=\"2290026\" />\n+      <int name=\"23\" value=\"2290076\" />\n+      <int name=\"24\" value=\"2290119\" />\n+      <int name=\"25\" value=\"2290128\" />\n+      <int name=\"26\" value=\"2386015\" />\n+      <int name=\"27\" value=\"4000244\" />\n+      <int name=\"28\" value=\"4000245\" />\n+      <int name=\"29\" value=\"4000270\" />\n+      <int name=\"30\" value=\"4001077\" />\n+      <int name=\"31\" value=\"4001105\" />\n+      <int name=\"32\" value=\"4004000\" />\n+      <int name=\"33\" value=\"4006000\" />\n+      <int name=\"34\" value=\"4006001\" />\n+      <int name=\"35\" value=\"4010005\" />\n+      <int name=\"36\" value=\"4020002\" />\n+      <int name=\"37\" value=\"4031415\" />\n+      <int name=\"38\" value=\"4031449\" />\n+      <int name=\"39\" value=\"4031482\" />\n+      <int name=\"40\" value=\"4031483\" />\n+      <int name=\"41\" value=\"4031484\" />\n+      <int name=\"42\" value=\"4031485\" />\n+      <int name=\"43\" value=\"4130009\" />\n+      <int name=\"44\" value=\"4130014\" />\n+      <int name=\"45\" value=\"4130017\" />\n+      <int name=\"46\" value=\"4131004\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  103\\nForm : Reptile\\n\\nA ferocious dragon that lives in the Dragon Canyon. It has a huge pair of black wings but no front legs. It sets its nest in between the valleys, and has a decent level of intelligence and orally emits the breath of damnation.\" />\n   </imgdir>\n@@ -13438,44 +13741,43 @@\n       <int name=\"24\" value=\"2040504\" />\n       <int name=\"25\" value=\"2040513\" />\n       <int name=\"26\" value=\"2040516\" />\n-      <int name=\"27\" value=\"2040536\" />\n-      <int name=\"28\" value=\"2040622\" />\n-      <int name=\"29\" value=\"2043113\" />\n-      <int name=\"30\" value=\"2049000\" />\n-      <int name=\"31\" value=\"2280007\" />\n-      <int name=\"32\" value=\"2280008\" />\n-      <int name=\"33\" value=\"2280009\" />\n-      <int name=\"34\" value=\"2280010\" />\n-      <int name=\"35\" value=\"2290000\" />\n-      <int name=\"36\" value=\"2290001\" />\n-      <int name=\"37\" value=\"2290004\" />\n-      <int name=\"38\" value=\"2290005\" />\n-      <int name=\"39\" value=\"2290024\" />\n-      <int name=\"40\" value=\"2290025\" />\n-      <int name=\"41\" value=\"2290026\" />\n-      <int name=\"42\" value=\"2290027\" />\n-      <int name=\"43\" value=\"2290052\" />\n-      <int name=\"44\" value=\"2290053\" />\n-      <int name=\"45\" value=\"2290054\" />\n-      <int name=\"46\" value=\"2290055\" />\n-      <int name=\"47\" value=\"2290076\" />\n-      <int name=\"48\" value=\"2290077\" />\n-      <int name=\"49\" value=\"2290082\" />\n-      <int name=\"50\" value=\"2290083\" />\n-      <int name=\"51\" value=\"2290097\" />\n-      <int name=\"52\" value=\"2290099\" />\n-      <int name=\"53\" value=\"2290106\" />\n-      <int name=\"54\" value=\"2290108\" />\n-      <int name=\"55\" value=\"2290112\" />\n-      <int name=\"56\" value=\"2290114\" />\n-      <int name=\"57\" value=\"2290122\" />\n-      <int name=\"58\" value=\"2290124\" />\n-      <int name=\"59\" value=\"2290132\" />\n-      <int name=\"60\" value=\"2388020\" />\n-      <int name=\"61\" value=\"4000175\" />\n-      <int name=\"62\" value=\"4001085\" />\n-      <int name=\"63\" value=\"4031253\" />\n-      <int name=\"64\" value=\"4031905\" />\n+      <int name=\"27\" value=\"2040622\" />\n+      <int name=\"28\" value=\"2043113\" />\n+      <int name=\"29\" value=\"2049000\" />\n+      <int name=\"30\" value=\"2280007\" />\n+      <int name=\"31\" value=\"2280008\" />\n+      <int name=\"32\" value=\"2280009\" />\n+      <int name=\"33\" value=\"2280010\" />\n+      <int name=\"34\" value=\"2290000\" />\n+      <int name=\"35\" value=\"2290001\" />\n+      <int name=\"36\" value=\"2290004\" />\n+      <int name=\"37\" value=\"2290005\" />\n+      <int name=\"38\" value=\"2290024\" />\n+      <int name=\"39\" value=\"2290025\" />\n+      <int name=\"40\" value=\"2290026\" />\n+      <int name=\"41\" value=\"2290027\" />\n+      <int name=\"42\" value=\"2290052\" />\n+      <int name=\"43\" value=\"2290053\" />\n+      <int name=\"44\" value=\"2290054\" />\n+      <int name=\"45\" value=\"2290055\" />\n+      <int name=\"46\" value=\"2290076\" />\n+      <int name=\"47\" value=\"2290077\" />\n+      <int name=\"48\" value=\"2290082\" />\n+      <int name=\"49\" value=\"2290083\" />\n+      <int name=\"50\" value=\"2290097\" />\n+      <int name=\"51\" value=\"2290099\" />\n+      <int name=\"52\" value=\"2290106\" />\n+      <int name=\"53\" value=\"2290108\" />\n+      <int name=\"54\" value=\"2290112\" />\n+      <int name=\"55\" value=\"2290114\" />\n+      <int name=\"56\" value=\"2290122\" />\n+      <int name=\"57\" value=\"2290124\" />\n+      <int name=\"58\" value=\"2290132\" />\n+      <int name=\"59\" value=\"2388020\" />\n+      <int name=\"60\" value=\"4000175\" />\n+      <int name=\"61\" value=\"4001085\" />\n+      <int name=\"62\" value=\"4031253\" />\n+      <int name=\"63\" value=\"4031905\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  Unknown\\nForm : Fish\\nSpecial Trait : Vulnerable to Fire Attribute Attacks.\\n\\nA ferocious fish monster that lives in the cave under the ocean. It sticks its head out from a tiny hole in the cave, which is why its size remains a mystery. Some suspect that this monster has not fully come out of the cave because it's stuck, but no evidences support such a rumor. Although it does not move, it is the king of the deep sea that attacks by shooting a laser beam out of its mouth. \" />\n   </imgdir>\n@@ -13752,8 +14054,7 @@\n       <int name=\"91\" value=\"2290090\" />\n       <int name=\"92\" value=\"2290106\" />\n       <int name=\"93\" value=\"2290119\" />\n-      <int name=\"94\" value=\"2388043\" />\n-      <int name=\"95\" value=\"4021010\" />\n+      <int name=\"94\" value=\"4021010\" />\n     </imgdir>\n     <string name=\"episode\" value=\"Level : Lv.180\\nForm : Spirit\\n\\nA monster that has been summoned by a mysterious man named Kirston using the Mirror of the Goddess.  It doesn't seem that Kirston intentionally summoned Pink Bean.  Although Pink Bean is a cute little creature, its power is beyond imagination.  It is a very dangerous monster and should be approached with caution.  One of its amazing powers is that it can revive a dead god.  It seems to be a monster from another world.\" />\n   </imgdir>\n@@ -13909,26 +14210,10 @@\n       <int name=\"1\" value=\"261020200\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"1002215\" />\n-      <int name=\"1\" value=\"1040089\" />\n-      <int name=\"2\" value=\"1050045\" />\n-      <int name=\"3\" value=\"1372007\" />\n-      <int name=\"4\" value=\"2000002\" />\n-      <int name=\"5\" value=\"2000003\" />\n-      <int name=\"6\" value=\"2022430\" />\n-      <int name=\"7\" value=\"2022431\" />\n-      <int name=\"8\" value=\"2022432\" />\n-      <int name=\"9\" value=\"2022433\" />\n-      <int name=\"10\" value=\"2040002\" />\n-      <int name=\"11\" value=\"2044102\" />\n-      <int name=\"12\" value=\"2383007\" />\n-      <int name=\"13\" value=\"4000359\" />\n-      <int name=\"14\" value=\"4004002\" />\n-      <int name=\"15\" value=\"4006001\" />\n-      <int name=\"16\" value=\"4020000\" />\n-      <int name=\"17\" value=\"4020006\" />\n-      <int name=\"18\" value=\"4030012\" />\n-      <int name=\"19\" value=\"4130012\" />\n+      <int name=\"0\" value=\"2022430\" />\n+      <int name=\"1\" value=\"2022431\" />\n+      <int name=\"2\" value=\"2022432\" />\n+      <int name=\"3\" value=\"2022433\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  47\\nForm : Enchanted\\n\\nA Mithril being created by alchemy means... It's constitution, made purely by Mithril, makes it a tough opponent.\" />\n   </imgdir>\n@@ -14265,16 +14550,15 @@\n       <int name=\"21\" value=\"2000001\" />\n       <int name=\"22\" value=\"2000003\" />\n       <int name=\"23\" value=\"2043102\" />\n-      <int name=\"24\" value=\"2043109\" />\n-      <int name=\"25\" value=\"2048000\" />\n-      <int name=\"26\" value=\"2060000\" />\n-      <int name=\"27\" value=\"2061000\" />\n-      <int name=\"28\" value=\"2380014\" />\n-      <int name=\"29\" value=\"4000012\" />\n-      <int name=\"30\" value=\"4010004\" />\n-      <int name=\"31\" value=\"4020002\" />\n-      <int name=\"32\" value=\"4020003\" />\n-      <int name=\"33\" value=\"4032316\" />\n+      <int name=\"24\" value=\"2048000\" />\n+      <int name=\"25\" value=\"2060000\" />\n+      <int name=\"26\" value=\"2061000\" />\n+      <int name=\"27\" value=\"2380014\" />\n+      <int name=\"28\" value=\"4000012\" />\n+      <int name=\"29\" value=\"4010004\" />\n+      <int name=\"30\" value=\"4020002\" />\n+      <int name=\"31\" value=\"4020003\" />\n+      <int name=\"32\" value=\"4032316\" />\n     </imgdir>\n     <string name=\"episode\" value=\"Level : Lv.15\\nType : Plants\\nNotes: Immune to poison-based attacks.\\n\\nA mushroom monster featuring a dirty green cap, and has that sick look on its face as if it's about to throw up any minute.\" />\n   </imgdir>"}, {"sha": "0b8db067171161f6fded1ef720eb7f5ab1962c1f", "filename": "tools/SQL/test_mobcarddrop.sql", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/tools/SQL/test_mobcarddrop.sql", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/tools/SQL/test_mobcarddrop.sql", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/SQL/test_mobcarddrop.sql?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -36,4 +36,10 @@ SELECT cardid FROM monstercarddata LEFT JOIN drop_data ON monstercarddata.cardid\n # LENGTHY query that also recovers MISSING cards from mobs that drops card.\n SELECT id FROM handbook WHERE id NOT IN (\n   SELECT DISTINCT itemid FROM drop_data\n-) AND id>=2380000 AND id<2390000;\n\\ No newline at end of file\n+) AND id>=2380000 AND id<2390000;\n+\n+# retrieves number of drops of each represented mob in the monster book\n+SELECT dropperid, count(*) FROM drop_data WHERE dropperid IN (SELECT mobid FROM monstercardwz) GROUP BY dropperid ORDER BY dropperid;\n+\n+# retrieves the rows where the number of drops of those mobs on monsterbook is lacking\n+SELECT dropperid, count(*) FROM drop_data WHERE dropperid IN (SELECT mobid FROM monstercardwz) GROUP BY dropperid HAVING count(*) < 5 ORDER BY dropperid;\n\\ No newline at end of file"}, {"sha": "0aa12601a300ec48ab7cada6e42bcef833a5d28b", "filename": "wz/Map.wz/Map/Map1/103040000.img.xml", "status": "modified", "additions": 48, "deletions": 0, "changes": 48, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/wz/Map.wz/Map/Map1/103040000.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/wz/Map.wz/Map/Map1/103040000.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map1/103040000.img.xml?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -2369,5 +2369,53 @@\n       <int name=\"onlyOnce\" value=\"0\"/>\n       <int name=\"delay\" value=\"0\"/>\n     </imgdir>\n+    <imgdir name=\"4\">\n+      <string name=\"pn\" value=\"tp\"/>\n+      <int name=\"pt\" value=\"6\"/>\n+      <int name=\"x\" value=\"-110\"/>\n+      <int name=\"y\" value=\"89\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+    </imgdir>\n+    <imgdir name=\"5\">\n+      <string name=\"pn\" value=\"tp\"/>\n+      <int name=\"pt\" value=\"6\"/>\n+      <int name=\"x\" value=\"-10\"/>\n+      <int name=\"y\" value=\"89\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+    </imgdir>\n+    <imgdir name=\"6\">\n+      <string name=\"pn\" value=\"tp\"/>\n+      <int name=\"pt\" value=\"6\"/>\n+      <int name=\"x\" value=\"90\"/>\n+      <int name=\"y\" value=\"89\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+    </imgdir>\n+    <imgdir name=\"7\">\n+      <string name=\"pn\" value=\"tp\"/>\n+      <int name=\"pt\" value=\"6\"/>\n+      <int name=\"x\" value=\"190\"/>\n+      <int name=\"y\" value=\"89\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+    </imgdir>\n+    <imgdir name=\"8\">\n+      <string name=\"pn\" value=\"tp\"/>\n+      <int name=\"pt\" value=\"6\"/>\n+      <int name=\"x\" value=\"290\"/>\n+      <int name=\"y\" value=\"89\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+    </imgdir>\n+    <imgdir name=\"9\">\n+      <string name=\"pn\" value=\"tp\"/>\n+      <int name=\"pt\" value=\"6\"/>\n+      <int name=\"x\" value=\"390\"/>\n+      <int name=\"y\" value=\"89\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+    </imgdir>\n   </imgdir>\n </imgdir>"}, {"sha": "548064b713c59443c4e09a7dbeaa34ecfe1ef1bf", "filename": "wz/Mob.wz/5120100.img.xml", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/wz/Mob.wz/5120100.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/wz/Mob.wz/5120100.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Mob.wz/5120100.img.xml?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -19,6 +19,9 @@\n     <int name=\"summonType\" value=\"1\"/>\n     <int name=\"boss\" value=\"1\"/>\n     <int name=\"mobType\" value=\"8\"/>\n+    <int name=\"HPgaugeHide\" value=\"1\"/>\n+    <int name=\"hpTagBgcolor\" value=\"5\"/>\n+    <int name=\"hpTagColor\" value=\"1\"/>\n   </imgdir>\n   <imgdir name=\"move\">\n     <canvas name=\"0\" width=\"124\" height=\"125\">"}, {"sha": "4511090a7987ab8324d0c3f24561ec8d9d8ebbab", "filename": "wz/Mob.wz/7090000.img.xml", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/wz/Mob.wz/7090000.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/wz/Mob.wz/7090000.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Mob.wz/7090000.img.xml?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -4,15 +4,15 @@\n     <int name=\"boss\" value=\"1\"/>\n     <int name=\"bodyAttack\" value=\"1\"/>\n     <int name=\"level\" value=\"75\"/>\n-    <int name=\"maxHP\" value=\"16000\"/>\n+    <int name=\"maxHP\" value=\"150000\"/>\n     <int name=\"maxMP\" value=\"500\"/>\n     <int name=\"speed\" value=\"-30\"/>\n     <int name=\"PADamage\" value=\"300\"/>\n     <int name=\"PDDamage\" value=\"550\"/>\n     <int name=\"MADamage\" value=\"380\"/>\n     <int name=\"MDDamage\" value=\"290\"/>\n     <int name=\"acc\" value=\"130\"/>\n-    <int name=\"eva\" value=\"999\"/>\n+    <int name=\"eva\" value=\"110\"/>\n     <int name=\"exp\" value=\"350\"/>\n     <int name=\"undead\" value=\"1\"/>\n     <int name=\"pushed\" value=\"1500\"/>\n@@ -36,6 +36,9 @@\n         </imgdir>\n       </imgdir>\n     </imgdir>\n+    <int name=\"HPgaugeHide\" value=\"1\"/>\n+    <int name=\"hpTagBgcolor\" value=\"5\"/>\n+    <int name=\"hpTagColor\" value=\"1\"/>\n   </imgdir>\n   <imgdir name=\"move\">\n     <canvas name=\"0\" width=\"149\" height=\"169\">"}, {"sha": "fafd123777d1d30f2fed4b2f58c3309f4db4426c", "filename": "wz/Mob.wz/8090000.img.xml", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/wz/Mob.wz/8090000.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/wz/Mob.wz/8090000.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Mob.wz/8090000.img.xml?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -4,15 +4,15 @@\n     <int name=\"boss\" value=\"1\"/>\n     <int name=\"bodyAttack\" value=\"1\"/>\n     <int name=\"level\" value=\"80\"/>\n-    <int name=\"maxHP\" value=\"27000\"/>\n+    <int name=\"maxHP\" value=\"175000\"/>\n     <int name=\"maxMP\" value=\"300\"/>\n     <int name=\"speed\" value=\"-50\"/>\n     <int name=\"PADamage\" value=\"350\"/>\n     <int name=\"PDDamage\" value=\"650\"/>\n     <int name=\"MADamage\" value=\"410\"/>\n     <int name=\"MDDamage\" value=\"450\"/>\n     <int name=\"acc\" value=\"140\"/>\n-    <int name=\"eva\" value=\"999\"/>\n+    <int name=\"eva\" value=\"120\"/>\n     <int name=\"exp\" value=\"850\"/>\n     <int name=\"undead\" value=\"0\"/>\n     <int name=\"pushed\" value=\"2800\"/>\n@@ -37,6 +37,9 @@\n       </imgdir>\n     </imgdir>\n     <int name=\"mobType\" value=\"8\"/>\n+    <int name=\"HPgaugeHide\" value=\"1\"/>\n+    <int name=\"hpTagBgcolor\" value=\"5\"/>\n+    <int name=\"hpTagColor\" value=\"1\"/>\n   </imgdir>\n   <imgdir name=\"move\">\n     <canvas name=\"0\" width=\"103\" height=\"145\">"}, {"sha": "2f69e293b8b87ef691565511f4d5ecb71529fa81", "filename": "wz/Quest.wz/Check.img.xml", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/wz/Quest.wz/Check.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/wz/Quest.wz/Check.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Quest.wz/Check.img.xml?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -57328,7 +57328,7 @@\n   <imgdir name=\"7778\">\n     <imgdir name=\"0\">\n       <int name=\"npc\" value=\"9120015\"/>\n-      <int name=\"level\" value=\"100\"/>\n+      <int name=\"lvmin\" value=\"100\"/>\n     </imgdir>\n     <imgdir name=\"1\">\n       <int name=\"npc\" value=\"9120015\"/>\n@@ -62420,6 +62420,7 @@\n       <int name=\"lvmin\" value=\"50\"/>\n     </imgdir>\n     <imgdir name=\"1\">\n+      <int name=\"money\" value=\"5000000\"/>\n       <int name=\"npc\" value=\"9120005\"/>\n     </imgdir>\n   </imgdir>\n@@ -62851,8 +62852,7 @@\n     </imgdir>\n     <imgdir name=\"0\">\n       <int name=\"npc\" value=\"2041017\"/>\n-      <imgdir name=\"lvmin\">\n-      </imgdir>\n+      <int name=\"lvmin\" value=\"50\"/>\n       <int name=\"interval\" value=\"4320\"/>\n     </imgdir>\n   </imgdir>\n@@ -63580,6 +63580,7 @@\n   <imgdir name=\"8248\">\n     <imgdir name=\"0\">\n       <int name=\"npc\" value=\"9209001\"/>\n+      <int name=\"lvmin\" value=\"30\"/>\n     </imgdir>\n     <imgdir name=\"1\">\n       <int name=\"npc\" value=\"9209001\"/>\n@@ -63661,6 +63662,7 @@\n           <int name=\"state\" value=\"2\"/>\n         </imgdir>\n       </imgdir>\n+      <int name=\"lvmin\" value=\"30\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"8251\">"}, {"sha": "3fabc2df24ef62848332e07c445bdf2c3b6de5e6", "filename": "wz/String.wz/MonsterBook.img.xml", "status": "modified", "additions": 440, "deletions": 156, "changes": 596, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/wz/String.wz/MonsterBook.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/wz/String.wz/MonsterBook.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/String.wz/MonsterBook.img.xml?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -3191,7 +3191,49 @@\n       <int name=\"4\" value=\"110030001\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2382030\" />\n+      <int name=\"0\" value=\"1040080\" />\n+      <int name=\"1\" value=\"1041074\" />\n+      <int name=\"2\" value=\"1050000\" />\n+      <int name=\"3\" value=\"1050038\" />\n+      <int name=\"4\" value=\"1060068\" />\n+      <int name=\"5\" value=\"1061069\" />\n+      <int name=\"6\" value=\"1072113\" />\n+      <int name=\"7\" value=\"1072121\" />\n+      <int name=\"8\" value=\"1072297\" />\n+      <int name=\"9\" value=\"1082056\" />\n+      <int name=\"10\" value=\"1082074\" />\n+      <int name=\"11\" value=\"1092014\" />\n+      <int name=\"12\" value=\"1302017\" />\n+      <int name=\"13\" value=\"1302020\" />\n+      <int name=\"14\" value=\"1302030\" />\n+      <int name=\"15\" value=\"1322021\" />\n+      <int name=\"16\" value=\"1322022\" />\n+      <int name=\"17\" value=\"1322023\" />\n+      <int name=\"18\" value=\"1322024\" />\n+      <int name=\"19\" value=\"1332020\" />\n+      <int name=\"20\" value=\"1382017\" />\n+      <int name=\"21\" value=\"1442001\" />\n+      <int name=\"22\" value=\"1442027\" />\n+      <int name=\"23\" value=\"1442028\" />\n+      <int name=\"24\" value=\"1452005\" />\n+      <int name=\"25\" value=\"1482006\" />\n+      <int name=\"26\" value=\"1492021\" />\n+      <int name=\"27\" value=\"2000002\" />\n+      <int name=\"28\" value=\"2000003\" />\n+      <int name=\"29\" value=\"2040024\" />\n+      <int name=\"30\" value=\"2040423\" />\n+      <int name=\"31\" value=\"2043301\" />\n+      <int name=\"32\" value=\"2044802\" />\n+      <int name=\"33\" value=\"2048002\" />\n+      <int name=\"34\" value=\"2048005\" />\n+      <int name=\"35\" value=\"2382030\" />\n+      <int name=\"36\" value=\"4000043\" />\n+      <int name=\"37\" value=\"4006001\" />\n+      <int name=\"38\" value=\"4010005\" />\n+      <int name=\"39\" value=\"4020000\" />\n+      <int name=\"40\" value=\"4030012\" />\n+      <int name=\"41\" value=\"4130011\" />\n+      <int name=\"42\" value=\"4130015\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  37\\nForm : Fish\\nSpecial Trait : Vulnerable to Electricity Attribute Attacks.\\n\\nA monster that appears in the sand near the sea. Its speed and high defense rate render this monster difficult to hunt, but since it lives by the water, use magic of lightning attribute to attack its vulnerability.\" />\n   </imgdir>\n@@ -4309,7 +4351,37 @@\n       <int name=\"2\" value=\"110040000\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2383009\" />\n+      <int name=\"0\" value=\"1002025\" />\n+      <int name=\"1\" value=\"1002085\" />\n+      <int name=\"2\" value=\"1002217\" />\n+      <int name=\"3\" value=\"1040083\" />\n+      <int name=\"4\" value=\"1040095\" />\n+      <int name=\"5\" value=\"1041079\" />\n+      <int name=\"6\" value=\"1041081\" />\n+      <int name=\"7\" value=\"1041082\" />\n+      <int name=\"8\" value=\"1041087\" />\n+      <int name=\"9\" value=\"1060072\" />\n+      <int name=\"10\" value=\"1060084\" />\n+      <int name=\"11\" value=\"1061078\" />\n+      <int name=\"12\" value=\"1061081\" />\n+      <int name=\"13\" value=\"1061086\" />\n+      <int name=\"14\" value=\"1302016\" />\n+      <int name=\"15\" value=\"1382001\" />\n+      <int name=\"16\" value=\"1412003\" />\n+      <int name=\"17\" value=\"1442011\" />\n+      <int name=\"18\" value=\"1482007\" />\n+      <int name=\"19\" value=\"2000003\" />\n+      <int name=\"20\" value=\"2000004\" />\n+      <int name=\"21\" value=\"2040427\" />\n+      <int name=\"22\" value=\"2043201\" />\n+      <int name=\"23\" value=\"2043202\" />\n+      <int name=\"24\" value=\"2383009\" />\n+      <int name=\"25\" value=\"4000044\" />\n+      <int name=\"26\" value=\"4010003\" />\n+      <int name=\"27\" value=\"4020002\" />\n+      <int name=\"28\" value=\"4130005\" />\n+      <int name=\"29\" value=\"4130015\" />\n+      <int name=\"30\" value=\"4130017\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  48\\nForm : Fish\\nSpecial Trait : Vulnerable to Electricity Attribute Attacks.\\n\\nA crab monster that mainly lives near the sand by the sea. It is superior to Lorang in every aspect including speed and defense rate. It is encouraged that you don't attack this monster hastily, as it dashes through the seashore at the speed which rivals that of Lupin. But since it it lives near water like Lorang and is very vulnerable to lightning as a result, try attacking this monster using magic of electricity attribute.\" />\n   </imgdir>\n@@ -5867,7 +5939,41 @@\n       <int name=\"4\" value=\"211040300\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2383013\" />\n+      <int name=\"0\" value=\"1002100\" />\n+      <int name=\"1\" value=\"1041096\" />\n+      <int name=\"2\" value=\"1050053\" />\n+      <int name=\"3\" value=\"1051037\" />\n+      <int name=\"4\" value=\"1051044\" />\n+      <int name=\"5\" value=\"1051045\" />\n+      <int name=\"6\" value=\"1052116\" />\n+      <int name=\"7\" value=\"1061095\" />\n+      <int name=\"8\" value=\"1072089\" />\n+      <int name=\"9\" value=\"1082038\" />\n+      <int name=\"10\" value=\"1092030\" />\n+      <int name=\"11\" value=\"1442009\" />\n+      <int name=\"12\" value=\"1452006\" />\n+      <int name=\"13\" value=\"2000002\" />\n+      <int name=\"14\" value=\"2000003\" />\n+      <int name=\"15\" value=\"2000004\" />\n+      <int name=\"16\" value=\"2040321\" />\n+      <int name=\"17\" value=\"2040804\" />\n+      <int name=\"18\" value=\"2040925\" />\n+      <int name=\"19\" value=\"2040933\" />\n+      <int name=\"20\" value=\"2043019\" />\n+      <int name=\"21\" value=\"2043110\" />\n+      <int name=\"22\" value=\"2044602\" />\n+      <int name=\"23\" value=\"2383013\" />\n+      <int name=\"24\" value=\"4000021\" />\n+      <int name=\"25\" value=\"4000048\" />\n+      <int name=\"26\" value=\"4003005\" />\n+      <int name=\"27\" value=\"4004002\" />\n+      <int name=\"28\" value=\"4007000\" />\n+      <int name=\"29\" value=\"4007001\" />\n+      <int name=\"30\" value=\"4007002\" />\n+      <int name=\"31\" value=\"4010002\" />\n+      <int name=\"32\" value=\"4020001\" />\n+      <int name=\"33\" value=\"4130010\" />\n+      <int name=\"34\" value=\"4130011\" />\n     </imgdir>\n     <string name=\"episode\" value=\"Lv. :  50\\nForm : Mammal\\n\\nA small yeti often spotted in the snowfield of Ossyria near El Nath. Is made to live in cold climates and can therefore withstand strong Ice Attribute Attacks while being vulnerable to Fire Attribute Attacks. Its small frame and slow movement makes it an easy target, but beware, as many a travellers have been badly injured by this cute little creature. The Jr. Yeti is capable of transforming into a giant yeti as well so watch out!  \" />\n   </imgdir>\n@@ -6378,7 +6484,39 @@\n       <int name=\"2\" value=\"250010303\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2383035\" />\n+      <int name=\"0\" value=\"1032021\" />\n+      <int name=\"1\" value=\"1040099\" />\n+      <int name=\"2\" value=\"1050058\" />\n+      <int name=\"3\" value=\"1060088\" />\n+      <int name=\"4\" value=\"1072134\" />\n+      <int name=\"5\" value=\"1082066\" />\n+      <int name=\"6\" value=\"1082081\" />\n+      <int name=\"7\" value=\"1082201\" />\n+      <int name=\"8\" value=\"1092045\" />\n+      <int name=\"9\" value=\"1432006\" />\n+      <int name=\"10\" value=\"1472055\" />\n+      <int name=\"11\" value=\"2000002\" />\n+      <int name=\"12\" value=\"2000003\" />\n+      <int name=\"13\" value=\"2040031\" />\n+      <int name=\"14\" value=\"2040515\" />\n+      <int name=\"15\" value=\"2043701\" />\n+      <int name=\"16\" value=\"2043801\" />\n+      <int name=\"17\" value=\"2049100\" />\n+      <int name=\"18\" value=\"2049101\" />\n+      <int name=\"19\" value=\"2330002\" />\n+      <int name=\"20\" value=\"2383035\" />\n+      <int name=\"21\" value=\"4000021\" />\n+      <int name=\"22\" value=\"4000283\" />\n+      <int name=\"23\" value=\"4000284\" />\n+      <int name=\"24\" value=\"4003005\" />\n+      <int name=\"25\" value=\"4004002\" />\n+      <int name=\"26\" value=\"4004004\" />\n+      <int name=\"27\" value=\"4010005\" />\n+      <int name=\"28\" value=\"4020004\" />\n+      <int name=\"29\" value=\"4020007\" />\n+      <int name=\"30\" value=\"4130000\" />\n+      <int name=\"31\" value=\"4130009\" />\n+      <int name=\"32\" value=\"4130021\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  56\\nForm : Mammal\\n\\nA type of bear that lives near Mu Lung. Although it's only a bear, it has a heartfelt desire to become a virtuous master, hence devoting much of its energy in training. While it diligently trains in its practice uniform, it sometimes fails to suppress its animalistic instinct and attacks the passersby.\" />\n   </imgdir>\n@@ -7417,36 +7555,34 @@\n       <int name=\"29\" value=\"2040704\" />\n       <int name=\"30\" value=\"2040804\" />\n       <int name=\"31\" value=\"2040825\" />\n-      <int name=\"32\" value=\"2040827\" />\n-      <int name=\"33\" value=\"2040933\" />\n-      <int name=\"34\" value=\"2040935\" />\n-      <int name=\"35\" value=\"2041002\" />\n-      <int name=\"36\" value=\"2041013\" />\n-      <int name=\"37\" value=\"2041016\" />\n-      <int name=\"38\" value=\"2041046\" />\n-      <int name=\"39\" value=\"2043201\" />\n-      <int name=\"40\" value=\"2043701\" />\n-      <int name=\"41\" value=\"2043802\" />\n-      <int name=\"42\" value=\"2044114\" />\n-      <int name=\"43\" value=\"2044116\" />\n-      <int name=\"44\" value=\"2044201\" />\n-      <int name=\"45\" value=\"2044301\" />\n-      <int name=\"46\" value=\"2044502\" />\n-      <int name=\"47\" value=\"2044801\" />\n-      <int name=\"48\" value=\"2044803\" />\n-      <int name=\"49\" value=\"2044807\" />\n-      <int name=\"50\" value=\"2044902\" />\n-      <int name=\"51\" value=\"2044904\" />\n-      <int name=\"52\" value=\"2060000\" />\n-      <int name=\"53\" value=\"2061000\" />\n-      <int name=\"54\" value=\"2388005\" />\n-      <int name=\"55\" value=\"4000113\" />\n-      <int name=\"56\" value=\"4000114\" />\n-      <int name=\"57\" value=\"4000115\" />\n-      <int name=\"58\" value=\"4004001\" />\n-      <int name=\"59\" value=\"4010003\" />\n-      <int name=\"60\" value=\"4020006\" />\n-      <int name=\"61\" value=\"4031991\" />\n+      <int name=\"32\" value=\"2040933\" />\n+      <int name=\"33\" value=\"2041002\" />\n+      <int name=\"34\" value=\"2041013\" />\n+      <int name=\"35\" value=\"2041016\" />\n+      <int name=\"36\" value=\"2041046\" />\n+      <int name=\"37\" value=\"2043201\" />\n+      <int name=\"38\" value=\"2043701\" />\n+      <int name=\"39\" value=\"2043802\" />\n+      <int name=\"40\" value=\"2044114\" />\n+      <int name=\"41\" value=\"2044116\" />\n+      <int name=\"42\" value=\"2044201\" />\n+      <int name=\"43\" value=\"2044301\" />\n+      <int name=\"44\" value=\"2044502\" />\n+      <int name=\"45\" value=\"2044801\" />\n+      <int name=\"46\" value=\"2044803\" />\n+      <int name=\"47\" value=\"2044807\" />\n+      <int name=\"48\" value=\"2044902\" />\n+      <int name=\"49\" value=\"2044904\" />\n+      <int name=\"50\" value=\"2060000\" />\n+      <int name=\"51\" value=\"2061000\" />\n+      <int name=\"52\" value=\"2388005\" />\n+      <int name=\"53\" value=\"4000113\" />\n+      <int name=\"54\" value=\"4000114\" />\n+      <int name=\"55\" value=\"4000115\" />\n+      <int name=\"56\" value=\"4004001\" />\n+      <int name=\"57\" value=\"4010003\" />\n+      <int name=\"58\" value=\"4020006\" />\n+      <int name=\"59\" value=\"4031991\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  59\\nForm : Enchanted\\n\\nThe ghost of the past that originated from the deserted land in Ludibrium. It was brought back to life due to the Dimensional Schism, and has been a follower of Papulatus ever since, pestering anyone that attempts to go near the lowest level of the Clocktower. It appears in the form of an owl clock, and it tries to cling onto the past by turning back the time. \" />\n   </imgdir>\n@@ -8375,35 +8511,34 @@\n       <int name=\"20\" value=\"2002001\" />\n       <int name=\"21\" value=\"2040004\" />\n       <int name=\"22\" value=\"2040031\" />\n-      <int name=\"23\" value=\"2040033\" />\n-      <int name=\"24\" value=\"2040501\" />\n-      <int name=\"25\" value=\"2040516\" />\n-      <int name=\"26\" value=\"2040614\" />\n-      <int name=\"27\" value=\"2040627\" />\n-      <int name=\"28\" value=\"2040702\" />\n-      <int name=\"29\" value=\"2040804\" />\n-      <int name=\"30\" value=\"2041001\" />\n-      <int name=\"31\" value=\"2041008\" />\n-      <int name=\"32\" value=\"2041043\" />\n-      <int name=\"33\" value=\"2043301\" />\n-      <int name=\"34\" value=\"2044001\" />\n-      <int name=\"35\" value=\"2044312\" />\n-      <int name=\"36\" value=\"2044313\" />\n-      <int name=\"37\" value=\"2044401\" />\n-      <int name=\"38\" value=\"2044502\" />\n-      <int name=\"39\" value=\"2044601\" />\n-      <int name=\"40\" value=\"2044701\" />\n-      <int name=\"41\" value=\"2044702\" />\n-      <int name=\"42\" value=\"2044807\" />\n-      <int name=\"43\" value=\"2048002\" />\n-      <int name=\"44\" value=\"2060000\" />\n-      <int name=\"45\" value=\"2061000\" />\n-      <int name=\"46\" value=\"2388007\" />\n-      <int name=\"47\" value=\"4000021\" />\n-      <int name=\"48\" value=\"4000032\" />\n-      <int name=\"49\" value=\"4000033\" />\n-      <int name=\"50\" value=\"4010002\" />\n-      <int name=\"51\" value=\"4020003\" />\n+      <int name=\"23\" value=\"2040501\" />\n+      <int name=\"24\" value=\"2040516\" />\n+      <int name=\"25\" value=\"2040614\" />\n+      <int name=\"26\" value=\"2040627\" />\n+      <int name=\"27\" value=\"2040702\" />\n+      <int name=\"28\" value=\"2040804\" />\n+      <int name=\"29\" value=\"2041001\" />\n+      <int name=\"30\" value=\"2041008\" />\n+      <int name=\"31\" value=\"2041043\" />\n+      <int name=\"32\" value=\"2043301\" />\n+      <int name=\"33\" value=\"2044001\" />\n+      <int name=\"34\" value=\"2044312\" />\n+      <int name=\"35\" value=\"2044313\" />\n+      <int name=\"36\" value=\"2044401\" />\n+      <int name=\"37\" value=\"2044502\" />\n+      <int name=\"38\" value=\"2044601\" />\n+      <int name=\"39\" value=\"2044701\" />\n+      <int name=\"40\" value=\"2044702\" />\n+      <int name=\"41\" value=\"2044807\" />\n+      <int name=\"42\" value=\"2048002\" />\n+      <int name=\"43\" value=\"2060000\" />\n+      <int name=\"44\" value=\"2061000\" />\n+      <int name=\"45\" value=\"2388007\" />\n+      <int name=\"46\" value=\"4000021\" />\n+      <int name=\"47\" value=\"4000032\" />\n+      <int name=\"48\" value=\"4000033\" />\n+      <int name=\"49\" value=\"4010002\" />\n+      <int name=\"50\" value=\"4020003\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  65\\nForm : Reptile\\n\\nA gigantic crocodile that hides in the swamp in Kerning City. Some say that it suddenly grew in size due to a strange substance in the waste water it consumed, although such claim has not been confirmed. While naturally docile, its simple-minded personality sometimes causes Mr. Alli to rashly become a ferocious monster when provoked. \" />\n   </imgdir>\n@@ -8673,7 +8808,17 @@\n       <int name=\"0\" value=\"200010300\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2384005\" />\n+      <int name=\"0\" value=\"1092045\" />\n+      <int name=\"1\" value=\"1092047\" />\n+      <int name=\"2\" value=\"1372034\" />\n+      <int name=\"3\" value=\"1412027\" />\n+      <int name=\"4\" value=\"1482022\" />\n+      <int name=\"5\" value=\"2040515\" />\n+      <int name=\"6\" value=\"2044410\" />\n+      <int name=\"7\" value=\"2384005\" />\n+      <int name=\"8\" value=\"4130009\" />\n+      <int name=\"9\" value=\"4130010\" />\n+      <int name=\"10\" value=\"4130014\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  63\\nForm : Mammal\\nSpecial Trait : Resistant to Poison Attribute Attacks. Vulnerable to Sanctity Attribute Attacks.\\n\\nA black monster that lives in the Stairway to the Sky in Orbis. Although it resembles the physical characteristics of Cellion, Lioner, and Grupin, the Jr. Lucida has a small horn and a pair of wings, not to mention its dark and brutal force that is reflected in its black coat of fur. When fully grown, Jr. Lucida becomes Lucida.\" />\n   </imgdir>\n@@ -9120,8 +9265,27 @@\n       <int name=\"0\" value=\"261020401\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2384038\" />\n-      <int name=\"1\" value=\"4000411\" />\n+      <int name=\"0\" value=\"1032020\" />\n+      <int name=\"1\" value=\"1041102\" />\n+      <int name=\"2\" value=\"1051054\" />\n+      <int name=\"3\" value=\"1072309\" />\n+      <int name=\"4\" value=\"1082107\" />\n+      <int name=\"5\" value=\"1092016\" />\n+      <int name=\"6\" value=\"1102023\" />\n+      <int name=\"7\" value=\"1382039\" />\n+      <int name=\"8\" value=\"1402015\" />\n+      <int name=\"9\" value=\"1452014\" />\n+      <int name=\"10\" value=\"1472027\" />\n+      <int name=\"11\" value=\"1492022\" />\n+      <int name=\"12\" value=\"2022130\" />\n+      <int name=\"13\" value=\"2022191\" />\n+      <int name=\"14\" value=\"2040519\" />\n+      <int name=\"15\" value=\"2041014\" />\n+      <int name=\"16\" value=\"2044601\" />\n+      <int name=\"17\" value=\"2044705\" />\n+      <int name=\"18\" value=\"2044809\" />\n+      <int name=\"19\" value=\"2384038\" />\n+      <int name=\"20\" value=\"4000411\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  75\\nForm : Enchanted\\n\\nA mechanical apparatus built to restrict the trespassers entering an area limited to only the lab affiliates. This robot, resembling a huge box, floats around the lab to inspect people inside to keep intruders out of the lab. It will attack as soon as it detects a suspect, hence, must be controlled using the necessary console. \" />\n   </imgdir>\n@@ -9982,21 +10146,20 @@\n       <int name=\"14\" value=\"2002006\" />\n       <int name=\"15\" value=\"2040024\" />\n       <int name=\"16\" value=\"2040534\" />\n-      <int name=\"17\" value=\"2040536\" />\n-      <int name=\"18\" value=\"2041007\" />\n-      <int name=\"19\" value=\"2043001\" />\n-      <int name=\"20\" value=\"2043112\" />\n-      <int name=\"21\" value=\"2043113\" />\n-      <int name=\"22\" value=\"2070007\" />\n-      <int name=\"23\" value=\"2330003\" />\n-      <int name=\"24\" value=\"2384023\" />\n-      <int name=\"25\" value=\"4004001\" />\n-      <int name=\"26\" value=\"4006000\" />\n-      <int name=\"27\" value=\"4010006\" />\n-      <int name=\"28\" value=\"4020006\" />\n-      <int name=\"29\" value=\"4030012\" />\n-      <int name=\"30\" value=\"4031234\" />\n-      <int name=\"31\" value=\"4130017\" />\n+      <int name=\"17\" value=\"2041007\" />\n+      <int name=\"18\" value=\"2043001\" />\n+      <int name=\"19\" value=\"2043112\" />\n+      <int name=\"20\" value=\"2043113\" />\n+      <int name=\"21\" value=\"2070007\" />\n+      <int name=\"22\" value=\"2330003\" />\n+      <int name=\"23\" value=\"2384023\" />\n+      <int name=\"24\" value=\"4004001\" />\n+      <int name=\"25\" value=\"4006000\" />\n+      <int name=\"26\" value=\"4010006\" />\n+      <int name=\"27\" value=\"4020006\" />\n+      <int name=\"28\" value=\"4030012\" />\n+      <int name=\"29\" value=\"4031234\" />\n+      <int name=\"30\" value=\"4130017\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  70\\nForm : Devil\\nSpecial Trait : Resistant to Poison Attribute Attacks.\\n\\nKing Goblin known for its penchant for wrestling. It frequently pleads with the passersby for a wrestling match.  It can fumigate everything nearby with its infamous flatulence. It likes buckwheat jelly.\" />\n   </imgdir>\n@@ -10458,8 +10621,27 @@\n       <int name=\"0\" value=\"261010102\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2385023\" />\n-      <int name=\"1\" value=\"4000418\" />\n+      <int name=\"0\" value=\"1002327\" />\n+      <int name=\"1\" value=\"1032020\" />\n+      <int name=\"2\" value=\"1040104\" />\n+      <int name=\"3\" value=\"1050077\" />\n+      <int name=\"4\" value=\"1072207\" />\n+      <int name=\"5\" value=\"1082210\" />\n+      <int name=\"6\" value=\"1102023\" />\n+      <int name=\"7\" value=\"1332023\" />\n+      <int name=\"8\" value=\"1382008\" />\n+      <int name=\"9\" value=\"1412009\" />\n+      <int name=\"10\" value=\"1462012\" />\n+      <int name=\"11\" value=\"1482011\" />\n+      <int name=\"12\" value=\"2022130\" />\n+      <int name=\"13\" value=\"2022191\" />\n+      <int name=\"14\" value=\"2040519\" />\n+      <int name=\"15\" value=\"2041014\" />\n+      <int name=\"16\" value=\"2044601\" />\n+      <int name=\"17\" value=\"2044705\" />\n+      <int name=\"18\" value=\"2044809\" />\n+      <int name=\"19\" value=\"2385023\" />\n+      <int name=\"20\" value=\"4000418\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  80\\nForm : Enchanted\\n\\nThe most unique invention built by the alchemists of Alcadno. At first, the alchemists tried to build a robot more powerful than Roid, but the result of their attempt, Deet, did not have the level of intelligence they had hoped for. Consequently, the alchemists combined Deet and Roid to create the product of best of both worlds. However, with Roid's intelligence and Deet's physical strength combined, this newly improved robot refused to obey the commands of the Alcadno alchemists, causing unforeseen ruckus. After debating what to do with this robot, they decided to play a prank on the Zenumist alchemists. Upon sneaking in this failed invention into the Zenumist lab, Deet and Roi began breaking all the beakers and flasks, leaving no choice for the Zenumist alchemists but to destroy the robot using their renowned magic skills. However, the only way to completely destroy Deet and Roi is to break it into pieces, as even activating the most effective machine in lab 202 could only inflict rusting.\" />\n   </imgdir>\n@@ -11896,7 +12078,47 @@\n       <int name=\"4\" value=\"240040401\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2386008\" />\n+      <int name=\"0\" value=\"1002365\" />\n+      <int name=\"1\" value=\"1040117\" />\n+      <int name=\"2\" value=\"1040118\" />\n+      <int name=\"3\" value=\"1041118\" />\n+      <int name=\"4\" value=\"1050089\" />\n+      <int name=\"5\" value=\"1050090\" />\n+      <int name=\"6\" value=\"1052128\" />\n+      <int name=\"7\" value=\"1060106\" />\n+      <int name=\"8\" value=\"1061116\" />\n+      <int name=\"9\" value=\"1072223\" />\n+      <int name=\"10\" value=\"1082129\" />\n+      <int name=\"11\" value=\"1452017\" />\n+      <int name=\"12\" value=\"2000005\" />\n+      <int name=\"13\" value=\"2000006\" />\n+      <int name=\"14\" value=\"2040516\" />\n+      <int name=\"15\" value=\"2040701\" />\n+      <int name=\"16\" value=\"2043002\" />\n+      <int name=\"17\" value=\"2043114\" />\n+      <int name=\"18\" value=\"2044901\" />\n+      <int name=\"19\" value=\"2044902\" />\n+      <int name=\"20\" value=\"2290120\" />\n+      <int name=\"21\" value=\"2290127\" />\n+      <int name=\"22\" value=\"2386008\" />\n+      <int name=\"23\" value=\"4000244\" />\n+      <int name=\"24\" value=\"4000245\" />\n+      <int name=\"25\" value=\"4000268\" />\n+      <int name=\"26\" value=\"4001077\" />\n+      <int name=\"27\" value=\"4001105\" />\n+      <int name=\"28\" value=\"4004002\" />\n+      <int name=\"29\" value=\"4006001\" />\n+      <int name=\"30\" value=\"4010001\" />\n+      <int name=\"31\" value=\"4020000\" />\n+      <int name=\"32\" value=\"4031449\" />\n+      <int name=\"33\" value=\"4031482\" />\n+      <int name=\"34\" value=\"4031483\" />\n+      <int name=\"35\" value=\"4031484\" />\n+      <int name=\"36\" value=\"4031485\" />\n+      <int name=\"37\" value=\"4130002\" />\n+      <int name=\"38\" value=\"4130004\" />\n+      <int name=\"39\" value=\"4130005\" />\n+      <int name=\"40\" value=\"4130013\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  97\\nForm : Reptile\\nSpecial Trait : -50% Fire Attribute Damage. Vulnerable to Ice Attribute Attacks.\\n\\nA ferocious dragon that lives in the Dragon Canyon. It has a huge pair of reddish wings but no front legs. It sets its nest in between the valleys, and has a decent level of intelligence as well as an extremely fast speed, not to mention the wind it can create with its huge wings.  It also orally emits flames. \" />\n   </imgdir>\n@@ -11909,7 +12131,42 @@\n       <int name=\"4\" value=\"240040401\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2386013\" />\n+      <int name=\"0\" value=\"1002532\" />\n+      <int name=\"1\" value=\"1050094\" />\n+      <int name=\"2\" value=\"1051105\" />\n+      <int name=\"3\" value=\"1072227\" />\n+      <int name=\"4\" value=\"1082143\" />\n+      <int name=\"5\" value=\"1082213\" />\n+      <int name=\"6\" value=\"1372010\" />\n+      <int name=\"7\" value=\"1422013\" />\n+      <int name=\"8\" value=\"2000005\" />\n+      <int name=\"9\" value=\"2000006\" />\n+      <int name=\"10\" value=\"2022003\" />\n+      <int name=\"11\" value=\"2040001\" />\n+      <int name=\"12\" value=\"2040401\" />\n+      <int name=\"13\" value=\"2040924\" />\n+      <int name=\"14\" value=\"2040925\" />\n+      <int name=\"15\" value=\"2044001\" />\n+      <int name=\"16\" value=\"2290101\" />\n+      <int name=\"17\" value=\"2330004\" />\n+      <int name=\"18\" value=\"2386013\" />\n+      <int name=\"19\" value=\"4000244\" />\n+      <int name=\"20\" value=\"4000245\" />\n+      <int name=\"21\" value=\"4000269\" />\n+      <int name=\"22\" value=\"4001077\" />\n+      <int name=\"23\" value=\"4001105\" />\n+      <int name=\"24\" value=\"4004003\" />\n+      <int name=\"25\" value=\"4006000\" />\n+      <int name=\"26\" value=\"4010004\" />\n+      <int name=\"27\" value=\"4020005\" />\n+      <int name=\"28\" value=\"4031449\" />\n+      <int name=\"29\" value=\"4031482\" />\n+      <int name=\"30\" value=\"4031483\" />\n+      <int name=\"31\" value=\"4031484\" />\n+      <int name=\"32\" value=\"4031485\" />\n+      <int name=\"33\" value=\"4130004\" />\n+      <int name=\"34\" value=\"4130013\" />\n+      <int name=\"35\" value=\"4130014\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  101\\nForm : Reptile\\nSpecial Trait : Vulnerable Fire Attribute Attacks. -50% Ice Attribute Damage.\\n\\nA ferocious dragon that lives in the Dragon Canyon. It has a huge pair of blue wings but no front legs. It sets its nest in between the valleys, and has a decent level of intelligence as well as an extremely fast speed, not to mention the wind it can create with its huge wings.  It also orally emits cold air. \" />\n   </imgdir>\n@@ -11922,7 +12179,53 @@\n       <int name=\"4\" value=\"240040500\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"2386015\" />\n+      <int name=\"0\" value=\"1002531\" />\n+      <int name=\"1\" value=\"1040115\" />\n+      <int name=\"2\" value=\"1040117\" />\n+      <int name=\"3\" value=\"1050093\" />\n+      <int name=\"4\" value=\"1051095\" />\n+      <int name=\"5\" value=\"1060104\" />\n+      <int name=\"6\" value=\"1060107\" />\n+      <int name=\"7\" value=\"1072214\" />\n+      <int name=\"8\" value=\"1082127\" />\n+      <int name=\"9\" value=\"1332027\" />\n+      <int name=\"10\" value=\"1442020\" />\n+      <int name=\"11\" value=\"1482012\" />\n+      <int name=\"12\" value=\"2000005\" />\n+      <int name=\"13\" value=\"2000006\" />\n+      <int name=\"14\" value=\"2020013\" />\n+      <int name=\"15\" value=\"2022003\" />\n+      <int name=\"16\" value=\"2040302\" />\n+      <int name=\"17\" value=\"2040320\" />\n+      <int name=\"18\" value=\"2044301\" />\n+      <int name=\"19\" value=\"2044402\" />\n+      <int name=\"20\" value=\"2290010\" />\n+      <int name=\"21\" value=\"2290019\" />\n+      <int name=\"22\" value=\"2290026\" />\n+      <int name=\"23\" value=\"2290076\" />\n+      <int name=\"24\" value=\"2290119\" />\n+      <int name=\"25\" value=\"2290128\" />\n+      <int name=\"26\" value=\"2386015\" />\n+      <int name=\"27\" value=\"4000244\" />\n+      <int name=\"28\" value=\"4000245\" />\n+      <int name=\"29\" value=\"4000270\" />\n+      <int name=\"30\" value=\"4001077\" />\n+      <int name=\"31\" value=\"4001105\" />\n+      <int name=\"32\" value=\"4004000\" />\n+      <int name=\"33\" value=\"4006000\" />\n+      <int name=\"34\" value=\"4006001\" />\n+      <int name=\"35\" value=\"4010005\" />\n+      <int name=\"36\" value=\"4020002\" />\n+      <int name=\"37\" value=\"4031415\" />\n+      <int name=\"38\" value=\"4031449\" />\n+      <int name=\"39\" value=\"4031482\" />\n+      <int name=\"40\" value=\"4031483\" />\n+      <int name=\"41\" value=\"4031484\" />\n+      <int name=\"42\" value=\"4031485\" />\n+      <int name=\"43\" value=\"4130009\" />\n+      <int name=\"44\" value=\"4130014\" />\n+      <int name=\"45\" value=\"4130017\" />\n+      <int name=\"46\" value=\"4131004\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  103\\nForm : Reptile\\n\\nA ferocious dragon that lives in the Dragon Canyon. It has a huge pair of black wings but no front legs. It sets its nest in between the valleys, and has a decent level of intelligence and orally emits the breath of damnation.\" />\n   </imgdir>\n@@ -13438,44 +13741,43 @@\n       <int name=\"24\" value=\"2040504\" />\n       <int name=\"25\" value=\"2040513\" />\n       <int name=\"26\" value=\"2040516\" />\n-      <int name=\"27\" value=\"2040536\" />\n-      <int name=\"28\" value=\"2040622\" />\n-      <int name=\"29\" value=\"2043113\" />\n-      <int name=\"30\" value=\"2049000\" />\n-      <int name=\"31\" value=\"2280007\" />\n-      <int name=\"32\" value=\"2280008\" />\n-      <int name=\"33\" value=\"2280009\" />\n-      <int name=\"34\" value=\"2280010\" />\n-      <int name=\"35\" value=\"2290000\" />\n-      <int name=\"36\" value=\"2290001\" />\n-      <int name=\"37\" value=\"2290004\" />\n-      <int name=\"38\" value=\"2290005\" />\n-      <int name=\"39\" value=\"2290024\" />\n-      <int name=\"40\" value=\"2290025\" />\n-      <int name=\"41\" value=\"2290026\" />\n-      <int name=\"42\" value=\"2290027\" />\n-      <int name=\"43\" value=\"2290052\" />\n-      <int name=\"44\" value=\"2290053\" />\n-      <int name=\"45\" value=\"2290054\" />\n-      <int name=\"46\" value=\"2290055\" />\n-      <int name=\"47\" value=\"2290076\" />\n-      <int name=\"48\" value=\"2290077\" />\n-      <int name=\"49\" value=\"2290082\" />\n-      <int name=\"50\" value=\"2290083\" />\n-      <int name=\"51\" value=\"2290097\" />\n-      <int name=\"52\" value=\"2290099\" />\n-      <int name=\"53\" value=\"2290106\" />\n-      <int name=\"54\" value=\"2290108\" />\n-      <int name=\"55\" value=\"2290112\" />\n-      <int name=\"56\" value=\"2290114\" />\n-      <int name=\"57\" value=\"2290122\" />\n-      <int name=\"58\" value=\"2290124\" />\n-      <int name=\"59\" value=\"2290132\" />\n-      <int name=\"60\" value=\"2388020\" />\n-      <int name=\"61\" value=\"4000175\" />\n-      <int name=\"62\" value=\"4001085\" />\n-      <int name=\"63\" value=\"4031253\" />\n-      <int name=\"64\" value=\"4031905\" />\n+      <int name=\"27\" value=\"2040622\" />\n+      <int name=\"28\" value=\"2043113\" />\n+      <int name=\"29\" value=\"2049000\" />\n+      <int name=\"30\" value=\"2280007\" />\n+      <int name=\"31\" value=\"2280008\" />\n+      <int name=\"32\" value=\"2280009\" />\n+      <int name=\"33\" value=\"2280010\" />\n+      <int name=\"34\" value=\"2290000\" />\n+      <int name=\"35\" value=\"2290001\" />\n+      <int name=\"36\" value=\"2290004\" />\n+      <int name=\"37\" value=\"2290005\" />\n+      <int name=\"38\" value=\"2290024\" />\n+      <int name=\"39\" value=\"2290025\" />\n+      <int name=\"40\" value=\"2290026\" />\n+      <int name=\"41\" value=\"2290027\" />\n+      <int name=\"42\" value=\"2290052\" />\n+      <int name=\"43\" value=\"2290053\" />\n+      <int name=\"44\" value=\"2290054\" />\n+      <int name=\"45\" value=\"2290055\" />\n+      <int name=\"46\" value=\"2290076\" />\n+      <int name=\"47\" value=\"2290077\" />\n+      <int name=\"48\" value=\"2290082\" />\n+      <int name=\"49\" value=\"2290083\" />\n+      <int name=\"50\" value=\"2290097\" />\n+      <int name=\"51\" value=\"2290099\" />\n+      <int name=\"52\" value=\"2290106\" />\n+      <int name=\"53\" value=\"2290108\" />\n+      <int name=\"54\" value=\"2290112\" />\n+      <int name=\"55\" value=\"2290114\" />\n+      <int name=\"56\" value=\"2290122\" />\n+      <int name=\"57\" value=\"2290124\" />\n+      <int name=\"58\" value=\"2290132\" />\n+      <int name=\"59\" value=\"2388020\" />\n+      <int name=\"60\" value=\"4000175\" />\n+      <int name=\"61\" value=\"4001085\" />\n+      <int name=\"62\" value=\"4031253\" />\n+      <int name=\"63\" value=\"4031905\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  Unknown\\nForm : Fish\\nSpecial Trait : Vulnerable to Fire Attribute Attacks.\\n\\nA ferocious fish monster that lives in the cave under the ocean. It sticks its head out from a tiny hole in the cave, which is why its size remains a mystery. Some suspect that this monster has not fully come out of the cave because it's stuck, but no evidences support such a rumor. Although it does not move, it is the king of the deep sea that attacks by shooting a laser beam out of its mouth. \" />\n   </imgdir>\n@@ -13752,8 +14054,7 @@\n       <int name=\"91\" value=\"2290090\" />\n       <int name=\"92\" value=\"2290106\" />\n       <int name=\"93\" value=\"2290119\" />\n-      <int name=\"94\" value=\"2388043\" />\n-      <int name=\"95\" value=\"4021010\" />\n+      <int name=\"94\" value=\"4021010\" />\n     </imgdir>\n     <string name=\"episode\" value=\"Level : Lv.180\\nForm : Spirit\\n\\nA monster that has been summoned by a mysterious man named Kirston using the Mirror of the Goddess.  It doesn't seem that Kirston intentionally summoned Pink Bean.  Although Pink Bean is a cute little creature, its power is beyond imagination.  It is a very dangerous monster and should be approached with caution.  One of its amazing powers is that it can revive a dead god.  It seems to be a monster from another world.\" />\n   </imgdir>\n@@ -13909,26 +14210,10 @@\n       <int name=\"1\" value=\"261020200\" />\n     </imgdir>\n     <imgdir name=\"reward\">\n-      <int name=\"0\" value=\"1002215\" />\n-      <int name=\"1\" value=\"1040089\" />\n-      <int name=\"2\" value=\"1050045\" />\n-      <int name=\"3\" value=\"1372007\" />\n-      <int name=\"4\" value=\"2000002\" />\n-      <int name=\"5\" value=\"2000003\" />\n-      <int name=\"6\" value=\"2022430\" />\n-      <int name=\"7\" value=\"2022431\" />\n-      <int name=\"8\" value=\"2022432\" />\n-      <int name=\"9\" value=\"2022433\" />\n-      <int name=\"10\" value=\"2040002\" />\n-      <int name=\"11\" value=\"2044102\" />\n-      <int name=\"12\" value=\"2383007\" />\n-      <int name=\"13\" value=\"4000359\" />\n-      <int name=\"14\" value=\"4004002\" />\n-      <int name=\"15\" value=\"4006001\" />\n-      <int name=\"16\" value=\"4020000\" />\n-      <int name=\"17\" value=\"4020006\" />\n-      <int name=\"18\" value=\"4030012\" />\n-      <int name=\"19\" value=\"4130012\" />\n+      <int name=\"0\" value=\"2022430\" />\n+      <int name=\"1\" value=\"2022431\" />\n+      <int name=\"2\" value=\"2022432\" />\n+      <int name=\"3\" value=\"2022433\" />\n     </imgdir>\n     <string name=\"episode\" value=\" Lv. :  47\\nForm : Enchanted\\n\\nA Mithril being created by alchemy means... It's constitution, made purely by Mithril, makes it a tough opponent.\" />\n   </imgdir>\n@@ -14265,16 +14550,15 @@\n       <int name=\"21\" value=\"2000001\" />\n       <int name=\"22\" value=\"2000003\" />\n       <int name=\"23\" value=\"2043102\" />\n-      <int name=\"24\" value=\"2043109\" />\n-      <int name=\"25\" value=\"2048000\" />\n-      <int name=\"26\" value=\"2060000\" />\n-      <int name=\"27\" value=\"2061000\" />\n-      <int name=\"28\" value=\"2380014\" />\n-      <int name=\"29\" value=\"4000012\" />\n-      <int name=\"30\" value=\"4010004\" />\n-      <int name=\"31\" value=\"4020002\" />\n-      <int name=\"32\" value=\"4020003\" />\n-      <int name=\"33\" value=\"4032316\" />\n+      <int name=\"24\" value=\"2048000\" />\n+      <int name=\"25\" value=\"2060000\" />\n+      <int name=\"26\" value=\"2061000\" />\n+      <int name=\"27\" value=\"2380014\" />\n+      <int name=\"28\" value=\"4000012\" />\n+      <int name=\"29\" value=\"4010004\" />\n+      <int name=\"30\" value=\"4020002\" />\n+      <int name=\"31\" value=\"4020003\" />\n+      <int name=\"32\" value=\"4032316\" />\n     </imgdir>\n     <string name=\"episode\" value=\"Level : Lv.15\\nType : Plants\\nNotes: Immune to poison-based attacks.\\n\\nA mushroom monster featuring a dirty green cap, and has that sick look on its face as if it's about to throw up any minute.\" />\n   </imgdir>"}, {"sha": "cfabf4b85c37f465c359eb8699ee54d7e743b679", "filename": "wz/UI.wz/UIWindow.img.xml", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/6628e3db5409c65414891adb05e7bac5d519d443/wz/UI.wz/UIWindow.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/6628e3db5409c65414891adb05e7bac5d519d443/wz/UI.wz/UIWindow.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/UI.wz/UIWindow.img.xml?ref=6628e3db5409c65414891adb05e7bac5d519d443", "patch": "@@ -10178,6 +10178,18 @@\n         <int name=\"delay\" value=\"500\"/>\n         <vector name=\"origin\" x=\"0\" y=\"0\"/>\n       </canvas>\n+      <canvas name=\"5120100\" width=\"25\" height=\"25\">\n+        <int name=\"delay\" value=\"500\"/>\n+        <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+      </canvas>\n+      <canvas name=\"7090000\" width=\"25\" height=\"25\">\n+        <int name=\"delay\" value=\"500\"/>\n+        <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+      </canvas>\n+      <canvas name=\"8090000\" width=\"25\" height=\"25\">\n+        <int name=\"delay\" value=\"500\"/>\n+        <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+      </canvas>\n       <canvas name=\"2220000\" width=\"25\" height=\"25\">\n         <int name=\"delay\" value=\"500\"/>\n         <vector name=\"origin\" x=\"0\" y=\"0\"/>"}]}]},
