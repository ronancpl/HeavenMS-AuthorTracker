{"fetchDate": "2019-12-19", "content": [{"sha": "4a99568cbec7f07a8b8975e37d9c8670df081a49", "node_id": "MDY6Q29tbWl0NDUwODIwMjM6NGE5OTU2OGNiZWM3ZjA3YThiODk3NWUzN2Q5Yzg2NzBkZjA4MWE0OQ==", "commit": {"author": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2016-07-19T00:33:29Z"}, "committer": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2016-07-19T00:33:29Z"}, "message": "Scroll seller NPC\n\nSpindle as a NPC Scroll seller", "tree": {"sha": "ca983bfbba81b274b915227be4da465f551b0f22", "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/trees/ca983bfbba81b274b915227be4da465f551b0f22"}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/commits/4a99568cbec7f07a8b8975e37d9c8670df081a49", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/4a99568cbec7f07a8b8975e37d9c8670df081a49", "html_url": "https://github.com/ronancpl/HeavenMS/commit/4a99568cbec7f07a8b8975e37d9c8670df081a49", "comments_url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/4a99568cbec7f07a8b8975e37d9c8670df081a49/comments", "author": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d7a2243319b8b730baf514d94735f17488497899", "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/d7a2243319b8b730baf514d94735f17488497899", "html_url": "https://github.com/ronancpl/HeavenMS/commit/d7a2243319b8b730baf514d94735f17488497899"}], "stats": {"total": 141, "additions": 74, "deletions": 67}, "files": [{"sha": "f4d77908779d97c676343704f20cfadf72649841", "filename": "mychanges_ptbr.txt", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/4a99568cbec7f07a8b8975e37d9c8670df081a49/mychanges_ptbr.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/4a99568cbec7f07a8b8975e37d9c8670df081a49/mychanges_ptbr.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/mychanges_ptbr.txt?ref=4a99568cbec7f07a8b8975e37d9c8670df081a49", "patch": "@@ -93,4 +93,5 @@ Correcao de bug, onde clientes podiam congelar apos acessar o Cash Shop.\n Correcao de bug.\n \n 18 Julho 2016,\n-Bazaar NPC (Donation Box): venda automatica de um item designado e todos os itens que estiverem imediatamente ap\ufffds.\n\\ No newline at end of file\n+Bazaar NPC (Donation Box): venda automatica de um item designado e todos os itens que estiverem imediatamente ap\ufffds.\n+Spindle: NPC scroll seller.\n\\ No newline at end of file"}, {"sha": "2888051a24bf85abaa93fcbe4091d7542d3f86d9", "filename": "sql/db_shopupdate.sql", "status": "modified", "additions": 65, "deletions": 60, "changes": 125, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/4a99568cbec7f07a8b8975e37d9c8670df081a49/sql/db_shopupdate.sql", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/4a99568cbec7f07a8b8975e37d9c8670df081a49/sql/db_shopupdate.sql", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/sql/db_shopupdate.sql?ref=4a99568cbec7f07a8b8975e37d9c8670df081a49", "patch": "@@ -4,63 +4,68 @@ UPDATE shopitems SET itemid=2120000, price=100 WHERE shopitemid=20;\n UPDATE shopitems SET itemid=1812000, price=1000 WHERE shopitemid=21;\n UPDATE shopitems SET itemid=1812001, price=1000 WHERE shopitemid=22;\n \n-INSERT IGNORE INTO `shopitems` (`shopitemid`, `shopid`, `itemid`, `price`, `pitch`, `position`, `chance`) VALUES\n-(995032, SHOPID, 2040025, 500000, 0, 0),\n-UPDATE shopitems SET itemid=2040025, price=500000 WHERE shopitemid=995032;\n-UPDATE shopitems SET itemid=2040029, price=500000 WHERE shopitemid=995033;\n-UPDATE shopitems SET itemid=2040301, price=400000 WHERE shopitemid=995034;\n-UPDATE shopitems SET itemid=2040317, price=400000 WHERE shopitemid=995035;\n-UPDATE shopitems SET itemid=2040321, price=400000 WHERE shopitemid=995036;\n-UPDATE shopitems SET itemid=2040413, price=400000 WHERE shopitemid=995037;\n-UPDATE shopitems SET itemid=2040418, price=400000 WHERE shopitemid=995038;\n-UPDATE shopitems SET itemid=2040501, price=250000 WHERE shopitemid=995039;\n-UPDATE shopitems SET itemid=2040513, price=250000 WHERE shopitemid=995040;\n-UPDATE shopitems SET itemid=2040516, price=250000 WHERE shopitemid=995041;\n-UPDATE shopitems SET itemid=2040532, price=250000 WHERE shopitemid=995042;\n-UPDATE shopitems SET itemid=2040613, price=400000 WHERE shopitemid=995043;\n-UPDATE shopitems SET itemid=2040701, price=450000 WHERE shopitemid=995044;\n-UPDATE shopitems SET itemid=2040704, price=450000 WHERE shopitemid=995045;\n-UPDATE shopitems SET itemid=2040804, price=550000 WHERE shopitemid=995046;\n-UPDATE shopitems SET itemid=2040914, price=300000 WHERE shopitemid=995047;\n-UPDATE shopitems SET itemid=2040919, price=300000 WHERE shopitemid=995048;\n-UPDATE shopitems SET itemid=2041013, price=300000 WHERE shopitemid=995049;\n-UPDATE shopitems SET itemid=2041016, price=300000 WHERE shopitemid=995050;\n-UPDATE shopitems SET itemid=2041019, price=300000 WHERE shopitemid=995051;\n-UPDATE shopitems SET itemid=2041022, price=300000 WHERE shopitemid=995052;\n-UPDATE shopitems SET itemid=2044901, price=520000 WHERE shopitemid=995053;\n-UPDATE shopitems SET itemid=2044701, price=520000 WHERE shopitemid=995054;\n-UPDATE shopitems SET itemid=2043001, price=520000 WHERE shopitemid=995055;\n-UPDATE shopitems SET itemid=2043801, price=520000 WHERE shopitemid=995056;\n-UPDATE shopitems SET itemid=2044601, price=520000 WHERE shopitemid=995057;\n-UPDATE shopitems SET itemid=2040727, price=10000 WHERE shopitemid=995058;\n-UPDATE shopitems SET itemid=2040807, price=1500000 WHERE shopitemid=995059;\n-UPDATE shopitems SET itemid=2040026, price=15000 WHERE shopitemid=995060;\n-UPDATE shopitems SET itemid=2040031, price=15000 WHERE shopitemid=995061;\n-UPDATE shopitems SET itemid=2040302, price=25000 WHERE shopitemid=995062;\n-UPDATE shopitems SET itemid=2040318, price=25000 WHERE shopitemid=995063;\n-UPDATE shopitems SET itemid=2040323, price=25000 WHERE shopitemid=995064;\n-UPDATE shopitems SET itemid=2040412, price=20000 WHERE shopitemid=995065;\n-UPDATE shopitems SET itemid=2040419, price=20000 WHERE shopitemid=995066;\n-UPDATE shopitems SET itemid=2040502, price=25000 WHERE shopitemid=995067;\n-UPDATE shopitems SET itemid=2040514, price=25000 WHERE shopitemid=995068;\n-UPDATE shopitems SET itemid=2040517, price=25000 WHERE shopitemid=995069;\n-UPDATE shopitems SET itemid=2040534, price=25000  WHERE shopitemid=995070;\n-UPDATE shopitems SET itemid=2040612, price=20000 WHERE shopitemid=995071;\n-UPDATE shopitems SET itemid=2040702, price=20000 WHERE shopitemid=995072;\n-UPDATE shopitems SET itemid=2040705, price=25000 WHERE shopitemid=995073;\n-UPDATE shopitems SET itemid=2040805, price=100000 WHERE shopitemid=995074;\n-UPDATE shopitems SET itemid=2040915, price=55000 WHERE shopitemid=995075;\n-UPDATE shopitems SET itemid=2040920, price=55000 WHERE shopitemid=995076;\n-UPDATE shopitems SET itemid=2041014, price=30000 WHERE shopitemid=995077;\n-UPDATE shopitems SET itemid=2041017, price=30000 WHERE shopitemid=995078;\n-UPDATE shopitems SET itemid=2041020, price=30000 WHERE shopitemid=995079;\n-UPDATE shopitems SET itemid=2041023, price=30000 WHERE shopitemid=995080;\n-UPDATE shopitems SET itemid=2044902, price=50000 WHERE shopitemid=995081;\n-UPDATE shopitems SET itemid=2044702, price=50000 WHERE shopitemid=995082;\n-UPDATE shopitems SET itemid=2043002, price=50000 WHERE shopitemid=995083;\n-UPDATE shopitems SET itemid=2043802, price=50000 WHERE shopitemid=995084;\n-UPDATE shopitems SET itemid=2044602, price=50000 WHERE shopitemid=995085;\n-UPDATE shopitems SET itemid=2070016, price=100000000 WHERE shopitemid=996196;\n-UPDATE shopitems SET itemid=2070018, price=175000000 WHERE shopitemid=996197;\n-UPDATE shopitems SET itemid=2030007, price=700000 WHERE shopitemid=994782;\n-UPDATE shopitems SET itemid=4001017, price=30000000 WHERE shopitemid=994783;\n\\ No newline at end of file\n+# Scroll shop at Spindle\n+INSERT INTO `shops` (`shopid`,`npcid`) VALUES\n+(9201082,9201082);\n+\n+INSERT IGNORE INTO `shopitems` (`shopitemid`, `shopid`, `itemid`, `price`, `pitch`, `position`) VALUES\n+(995032, 9201082, 2040025, 500000, 0, 1),\n+(995033, 9201082, 2040029, 500000, 0, 2),\n+(995034, 9201082, 2040301, 400000, 0, 3),\n+(995035, 9201082, 2040317, 400000, 0, 4),\n+(995036, 9201082, 2040321, 400000, 0, 5),\n+(995037, 9201082, 2040413, 400000, 0, 6),\n+(995038, 9201082, 2040418, 400000, 0, 7),\n+(995039, 9201082, 2040501, 250000, 0, 8),\n+(995040, 9201082, 2040513, 250000, 0, 9),\n+(995041, 9201082, 2040516, 250000, 0, 10),\n+(995042, 9201082, 2040532, 250000, 0, 11),\n+(995043, 9201082, 2040613, 400000, 0, 12),\n+(995044, 9201082, 2040701, 450000, 0, 13),\n+(995045, 9201082, 2040704, 450000, 0, 14),\n+(995046, 9201082, 2040804, 550000, 0, 15),\n+(995047, 9201082, 2040914, 300000, 0, 16),\n+(995048, 9201082, 2040919, 300000, 0, 17),\n+(995049, 9201082, 2041013, 300000, 0, 18),\n+(995050, 9201082, 2041016, 300000, 0, 19),\n+(995051, 9201082, 2041019, 300000, 0, 20),\n+(995052, 9201082, 2041022, 300000, 0, 21),\n+(995053, 9201082, 2044901, 520000, 0, 22),\n+(995054, 9201082, 2044701, 520000, 0, 23),\n+(995055, 9201082, 2043001, 520000, 0, 24),\n+(995056, 9201082, 2043801, 520000, 0, 25),\n+(995057, 9201082, 2044601, 520000, 0, 26),\n+(995058, 9201082, 2040727, 10000, 0, 27),\n+(995059, 9201082, 2040807, 1500000, 0, 28),\n+(995060, 9201082, 2040026, 15000, 0, 29),\n+(995061, 9201082, 2040031, 15000, 0, 30),\n+(995062, 9201082, 2040302, 25000, 0, 31),\n+(995063, 9201082, 2040318, 25000, 0, 32),\n+(995064, 9201082, 2040323, 25000, 0, 33),\n+(995065, 9201082, 2040412, 20000, 0, 34),\n+(995066, 9201082, 2040419, 20000, 0, 35),\n+(995067, 9201082, 2040502, 25000, 0, 36),\n+(995068, 9201082, 2040514, 25000, 0, 37),\n+(995069, 9201082, 2040517, 25000, 0, 38),\n+(995070, 9201082, 2040534, 25000, 0, 39),\n+(995071, 9201082, 2040612, 20000, 0, 40),\n+(995072, 9201082, 2040702, 20000, 0, 41),\n+(995073, 9201082, 2040705, 25000, 0, 42),\n+(995074, 9201082, 2040805, 100000, 0, 43),\n+(995075, 9201082, 2040915, 55000, 0, 44),\n+(995076, 9201082, 2040920, 55000, 0, 45),\n+(995077, 9201082, 2041014, 30000, 0, 46),\n+(995078, 9201082, 2041017, 30000, 0, 47),\n+(995079, 9201082, 2041020, 30000, 0, 48),\n+(995080, 9201082, 2041023, 30000, 0, 49),\n+(995081, 9201082, 2044902, 50000, 0, 50),\n+(995082, 9201082, 2044702, 50000, 0, 51),\n+(995083, 9201082, 2043002, 50000, 0, 52),\n+(995084, 9201082, 2043802, 50000, 0, 53),\n+(995085, 9201082, 2044602, 50000, 0, 54),\n+(996196, 9201082, 2070016, 100000000, 0, 55),\n+(996197, 9201082, 2070018, 175000000, 0, 56),\n+(994782, 9201082, 2030007, 700000, 0, 57),\n+(994783, 9201082, 4001017, 30000000, 0, 58);\n+\n+UPDATE shopitems SET price = 11*price WHERE (`position` >= 27 and `position` <= 54);\n\\ No newline at end of file"}, {"sha": "7d1105570f4d2ea7dbc77b1d4bcad8dc82574944", "filename": "src/net/server/channel/handlers/NPCMoreTalkHandler.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/4a99568cbec7f07a8b8975e37d9c8670df081a49/src/net/server/channel/handlers/NPCMoreTalkHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/4a99568cbec7f07a8b8975e37d9c8670df081a49/src/net/server/channel/handlers/NPCMoreTalkHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/NPCMoreTalkHandler.java?ref=4a99568cbec7f07a8b8975e37d9c8670df081a49", "patch": "@@ -32,7 +32,7 @@\n  * @author Matze\n  */\n public final class NPCMoreTalkHandler extends AbstractMaplePacketHandler {\n-    public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n+    public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {        \n         byte lastMsg = slea.readByte(); // 00 (last msg type I think)\n         byte action = slea.readByte(); // 00 = end chat, 01 == follow\n         if (lastMsg == 2) {"}, {"sha": "e2e961bb00950f53bb57d5e03d014c953ba9acf4", "filename": "src/net/server/channel/handlers/NPCTalkHandler.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/4a99568cbec7f07a8b8975e37d9c8670df081a49/src/net/server/channel/handlers/NPCTalkHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/4a99568cbec7f07a8b8975e37d9c8670df081a49/src/net/server/channel/handlers/NPCTalkHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/NPCTalkHandler.java?ref=4a99568cbec7f07a8b8975e37d9c8670df081a49", "patch": "@@ -38,6 +38,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             c.announce(MaplePacketCreator.enableActions());\n             return;\n         }\n+        \n         int oid = slea.readInt();\n         MapleMapObject obj = c.getPlayer().getMap().getMapObject(oid);\n         if (obj instanceof MapleNPC) {"}, {"sha": "812accec33e21e9a96c3515e676f4d9173164f32", "filename": "src/tools/MaplePacketCreator.java", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/4a99568cbec7f07a8b8975e37d9c8670df081a49/src/tools/MaplePacketCreator.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/4a99568cbec7f07a8b8975e37d9c8670df081a49/src/tools/MaplePacketCreator.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/tools/MaplePacketCreator.java?ref=4a99568cbec7f07a8b8975e37d9c8670df081a49", "patch": "@@ -2861,7 +2861,7 @@ private static void writeLongMaskFromList(final MaplePacketLittleEndianWriter mp\n \t   * @return\n \t   */\n \t  public static byte[] getNPCTalk(int npc, byte msgType, String talk, String endBytes, byte speaker) {\n-\t\t  final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n+                  final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n \t\t  mplew.writeShort(SendOpcode.NPC_TALK.getValue());\n \t\t  mplew.write(4); // ?\n \t\t  mplew.writeInt(npc);\n@@ -2873,7 +2873,7 @@ private static void writeLongMaskFromList(final MaplePacketLittleEndianWriter mp\n \t  }\n \n \t  public static byte[] getDimensionalMirror(String talk) {\n-\t\t  final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n+                  final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n \t\t  mplew.writeShort(SendOpcode.NPC_TALK.getValue());\n \t\t  mplew.write(4); // ?\n \t\t  mplew.writeInt(9010022);\n@@ -2885,7 +2885,7 @@ private static void writeLongMaskFromList(final MaplePacketLittleEndianWriter mp\n \t  }\n \n \t  public static byte[] getNPCTalkStyle(int npc, String talk, int styles[]) {\n-\t\t  final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n+                  final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n \t\t  mplew.writeShort(SendOpcode.NPC_TALK.getValue());\n \t\t  mplew.write(4); // ?\n \t\t  mplew.writeInt(npc);\n@@ -2900,7 +2900,7 @@ private static void writeLongMaskFromList(final MaplePacketLittleEndianWriter mp\n \t  }\n \n \t  public static byte[] getNPCTalkNum(int npc, String talk, int def, int min, int max) {\n-\t\t  final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n+                  final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n \t\t  mplew.writeShort(SendOpcode.NPC_TALK.getValue());\n \t\t  mplew.write(4); // ?\n \t\t  mplew.writeInt(npc);\n@@ -2915,7 +2915,7 @@ private static void writeLongMaskFromList(final MaplePacketLittleEndianWriter mp\n \t  }\n \n \t  public static byte[] getNPCTalkText(int npc, String talk, String def) {\n-\t\t  final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n+                  final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n \t\t  mplew.writeShort(SendOpcode.NPC_TALK.getValue());\n \t\t  mplew.write(4); // Doesn't matter\n \t\t  mplew.writeInt(npc);"}]}]},
