{"fetchDate": "2019-12-19", "content": [{"sha": "cb49edc3cd457823826632ffce8222c19b3fa214", "node_id": "MDY6Q29tbWl0NDUwODIwMjM6Y2I0OWVkYzNjZDQ1NzgyMzgyNjYzMmZmY2U4MjIyYzE5YjNmYTIxNA==", "commit": {"author": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2017-05-19T23:07:33Z"}, "committer": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2017-05-19T23:07:33Z"}, "message": "Logging clean-up\n\nSmall commit towards improving the file log system.", "tree": {"sha": "18ca62d4c71d15824542a2de1cd58132e63b655b", "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/trees/18ca62d4c71d15824542a2de1cd58132e63b655b"}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/commits/cb49edc3cd457823826632ffce8222c19b3fa214", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/cb49edc3cd457823826632ffce8222c19b3fa214", "html_url": "https://github.com/ronancpl/HeavenMS/commit/cb49edc3cd457823826632ffce8222c19b3fa214", "comments_url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/cb49edc3cd457823826632ffce8222c19b3fa214/comments", "author": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "36c3b7dea8beafad80c9bd50f27ada824eb085e6", "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/36c3b7dea8beafad80c9bd50f27ada824eb085e6", "html_url": "https://github.com/ronancpl/HeavenMS/commit/36c3b7dea8beafad80c9bd50f27ada824eb085e6"}], "stats": {"total": 33, "additions": 20, "deletions": 13}, "files": [{"sha": "450deb835ec20e3d04ef7cf3e7d16247a60a83f9", "filename": "src/client/command/Commands.java", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/cb49edc3cd457823826632ffce8222c19b3fa214/src/client/command/Commands.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/cb49edc3cd457823826632ffce8222c19b3fa214/src/client/command/Commands.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/Commands.java?ref=cb49edc3cd457823826632ffce8222c19b3fa214", "patch": "@@ -354,8 +354,9 @@ public static boolean executePlayerCommand(MapleClient c, String[] sub, char hea\n \t\t\tplayer.yellowMessage(\"SourMjolk - Game Master\");\n \t\t\tplayer.yellowMessage(\"Kanade - Game Master\");\n \t\t\tplayer.yellowMessage(\"Kitsune - Game Master\");\n-                        player.yellowMessage(\"Branch Staff\");\n+                        player.yellowMessage(\"MapleSolaxiaV2 Staff\");\n                         player.yellowMessage(\"Ronan - Freelance Developer\");\n+                        player.yellowMessage(\"Vcoc - Freelance Developer\");\n \t\t\tbreak;\n \t\tcase \"lastrestart\":\n \t\tcase \"uptime\":"}, {"sha": "561c0de3bc3bf9f76e6f49b7c891fcfdc01e21df", "filename": "src/net/server/channel/handlers/GeneralChatHandler.java", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/cb49edc3cd457823826632ffce8222c19b3fa214/src/net/server/channel/handlers/GeneralChatHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/cb49edc3cd457823826632ffce8222c19b3fa214/src/net/server/channel/handlers/GeneralChatHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/GeneralChatHandler.java?ref=cb49edc3cd457823826632ffce8222c19b3fa214", "patch": "@@ -29,6 +29,8 @@\n import client.MapleClient;\n import client.autoban.AutobanFactory;\n import client.command.Commands;\n+import java.text.SimpleDateFormat;\n+import java.util.Calendar;\n \n public final class GeneralChatHandler extends net.AbstractMaplePacketHandler {\n \t\n@@ -57,7 +59,9 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                     for (String used : sp) {\n                     \tcommand += used + \" \";\n                     }\n-                    FilePrinter.printError(\"usedCommands.txt\", c.getPlayer().getName() + \" used: \" + heading + command + \"\\r\\n\");\n+                    \n+                    SimpleDateFormat sdf = new SimpleDateFormat(\"dd-MM-yyyy HH:mm\");\n+                    FilePrinter.print(FilePrinter.USED_COMMANDS + \".txt\", c.getPlayer().getName() + \" used: \" + heading + command + \"on \" + sdf.format(Calendar.getInstance().getTime()) + \"\\r\\n\");\n                 }\n             }\n         } else {"}, {"sha": "3284db31e6cc31edfb830ce81ae5227f3b429998", "filename": "src/net/server/channel/handlers/TakeDamageHandler.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/cb49edc3cd457823826632ffce8222c19b3fa214/src/net/server/channel/handlers/TakeDamageHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/cb49edc3cd457823826632ffce8222c19b3fa214/src/net/server/channel/handlers/TakeDamageHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/TakeDamageHandler.java?ref=cb49edc3cd457823826632ffce8222c19b3fa214", "patch": "@@ -110,7 +110,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                 }\n             } catch(ClassCastException e) {\n                 e.printStackTrace();\n-                FilePrinter.print(FilePrinter.EXCEPTION_CAUGHT, \"Attacker is not a mob-type, rather is a \" + map.getMapObject(oid).getClass().getName() + \" entity.\");\n+                FilePrinter.printError(FilePrinter.EXCEPTION_CAUGHT, \"Attacker is not a mob-type, rather is a \" + map.getMapObject(oid).getClass().getName() + \" entity.\");\n             }\n             \n             direction = slea.readByte();"}, {"sha": "41b908dc985537f1658381c8f90f66ec0b938376", "filename": "src/server/MapleInventoryManipulator.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/cb49edc3cd457823826632ffce8222c19b3fa214/src/server/MapleInventoryManipulator.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/cb49edc3cd457823826632ffce8222c19b3fa214/src/server/MapleInventoryManipulator.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/MapleInventoryManipulator.java?ref=cb49edc3cd457823826632ffce8222c19b3fa214", "patch": "@@ -213,7 +213,7 @@ public static boolean addFromDrop(MapleClient c, Item item, boolean show, int pe\n             }\n             c.announce(MaplePacketCreator.modifyInventory(true, Collections.singletonList(new ModifyInventory(0, item))));\n         } else {\n-            FilePrinter.print(FilePrinter.ITEM, \"Tried to pickup Equip id \" + item.getItemId() + \" containing more than 1 quantity --> \" + quantity);\n+            FilePrinter.printError(FilePrinter.ITEM, \"Tried to pickup Equip id \" + item.getItemId() + \" containing more than 1 quantity --> \" + quantity);\n             c.announce(MaplePacketCreator.getInventoryFull());\n             c.announce(MaplePacketCreator.showItemUnavailable());\n             return false;"}, {"sha": "d505163c6b40b1adb71f3bff347a1f260f617b3b", "filename": "src/server/partyquest/PartyQuest.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/cb49edc3cd457823826632ffce8222c19b3fa214/src/server/partyquest/PartyQuest.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/cb49edc3cd457823826632ffce8222c19b3fa214/src/server/partyquest/PartyQuest.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/partyquest/PartyQuest.java?ref=cb49edc3cd457823826632ffce8222c19b3fa214", "patch": "@@ -107,7 +107,7 @@ public static int getExp(String PQ, int level) {\n                 } else if(PQ.equals(\"LudiPQLast\")) {\n                     return 800 * level / 5;\n                 }\n-\t\tFilePrinter.print(FilePrinter.NPC, \"Unhandled PartyQuest: \" + PQ);\n+\t\tFilePrinter.printError(FilePrinter.NPC, \"Unhandled PartyQuest: \" + PQ);\n \t\treturn 0;\n \t}\n }"}, {"sha": "ed0445a58d3efa54b40dd8ef6d041712a933741c", "filename": "src/tools/FilePrinter.java", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/cb49edc3cd457823826632ffce8222c19b3fa214/src/tools/FilePrinter.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/cb49edc3cd457823826632ffce8222c19b3fa214/src/tools/FilePrinter.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/tools/FilePrinter.java?ref=cb49edc3cd457823826632ffce8222c19b3fa214", "patch": "@@ -11,7 +11,7 @@\n public class FilePrinter {\n \n     public static final String \n-    \t\tACCOUNT_STUCK = \"accountStuck.txt\",\n+            ACCOUNT_STUCK = \"accountStuck.txt\",\n             EXCEPTION_CAUGHT = \"exceptionCaught.txt\",\n             CLIENT_START = \"clientStartError.txt\",\n             ADD_PLAYER = \"addPlayer.txt\",\n@@ -39,11 +39,13 @@\n             PACKET_LOGS = \"packetlogs/\",\n             DELETED_CHARACTERS = \"deletedchars/\",\n             FREDRICK = \"fredrick/\",\n-    \t\tNPC_UNCODED = \"uncodedNPCs.txt\",\n-    \t\tQUEST_UNCODED = \"uncodedQuests.txt\",\n-            SAVING_CHARACTER = \"saveChar.txt\";//more to come (maps)\n+            NPC_UNCODED = \"uncodedNPCs.txt\",\n+            QUEST_UNCODED = \"uncodedQuests.txt\",\n+            SAVING_CHARACTER = \"saveChar.txt\",\n+            USED_COMMANDS = \"usedCommands.txt\";//more to come (maps)\n+    \n     private static final SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\"); //for file system purposes, it's nice to use yyyy-MM-dd\n-    private static final String FILE_PATH = \"logs/\" + sdf.format(Calendar.getInstance().getTime()) + \"/\";// + sdf.format(Calendar.getInstance().getTime()) + \"/\"\n+    private static final String FILE_PATH = \"logs/\" + sdf.format(Calendar.getInstance().getTime()) + \"/\"; // + sdf.format(Calendar.getInstance().getTime()) + \"/\"\n     private static final String ERROR = \"error/\";\n \n     public static void printError(final String name, final Throwable t) {\n@@ -130,7 +132,7 @@ public static void print(final String name, final String s) {\n     }\n \n     public static void print(final String name, final String s, boolean line) {\n-    \tSystem.out.println(\"Error thrown: \" + name);\n+    \tSystem.out.println(\"Log: \" + name);\n     \tSystem.out.println(s);\n         FileOutputStream out = null;\n         String file = FILE_PATH + name;"}, {"sha": "1c1f437408d84c9bd51aebfecc13733bc01febee", "filename": "src/tools/LogHelper.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/cb49edc3cd457823826632ffce8222c19b3fa214/src/tools/LogHelper.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/cb49edc3cd457823826632ffce8222c19b3fa214/src/tools/LogHelper.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/tools/LogHelper.java?ref=cb49edc3cd457823826632ffce8222c19b3fa214", "patch": "@@ -60,14 +60,14 @@ public static String getTimeString(long then){\n \t}\n \n \tpublic static void logLeaf(MapleCharacter player, boolean gotPrize, String operation) {\n-\t\tString timeStamp = new SimpleDateFormat(\"dd-M-yyyy hh:mm:ss\").format(new Date());\n+\t\tString timeStamp = new SimpleDateFormat(\"dd-MM-yyyy hh:mm:ss\").format(new Date());\n \t\tString log = player.getName() + (gotPrize ? \" used a maple leaf to buy \" + operation : \" redeemed \" + operation + \" VP for a leaf\") + \" - \" + timeStamp + \"\\r\\n\";\n \t\tFilePrinter.printError(\"mapleleaves.txt\", log);\n \t}\n \t\n \tpublic static void logGacha(MapleCharacter player, int itemid, String map) {\n \t\tString itemName = MapleItemInformationProvider.getInstance().getName(itemid);\n-\t\tString timeStamp = new SimpleDateFormat(\"dd-M-yyyy hh:mm:ss\").format(new Date());\n+\t\tString timeStamp = new SimpleDateFormat(\"dd-MM-yyyy hh:mm:ss\").format(new Date());\n \t\tString log = player.getName() + \" got a \" + itemName + \"(\" + itemid + \") from the \" + map + \" gachapon. - \" + timeStamp + \"\\r\\n\";\n \t\tFilePrinter.printError(\"gachapon.txt\", log);\n \t}"}]}]},
