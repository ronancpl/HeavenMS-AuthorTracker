{"fetchDate": "2019-12-19", "content": [{"sha": "da2395cc3a770b9fe4dc772f8890ec87a2ee7669", "node_id": "MDY6Q29tbWl0NDUwODIwMjM6ZGEyMzk1Y2MzYTc3MGI5ZmU0ZGM3NzJmODg5MGVjODdhMmVlNzY2OQ==", "commit": {"author": {"name": "BHB88", "email": "48196552+BHB88@users.noreply.github.com", "date": "2019-09-13T04:17:28Z"}, "committer": {"name": "Ronan Lana", "email": "rcpl2010@gmail.com", "date": "2019-09-13T04:17:28Z"}, "message": "Add Aran High Defense functionality (#512)\n\n* Add High Defense functionality\r\n\r\n* Use proper morph models", "tree": {"sha": "e3fff0f38063ea2772a90cd2690f6935cada698c", "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/trees/e3fff0f38063ea2772a90cd2690f6935cada698c"}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/commits/da2395cc3a770b9fe4dc772f8890ec87a2ee7669", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/da2395cc3a770b9fe4dc772f8890ec87a2ee7669", "html_url": "https://github.com/ronancpl/HeavenMS/commit/da2395cc3a770b9fe4dc772f8890ec87a2ee7669", "comments_url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/da2395cc3a770b9fe4dc772f8890ec87a2ee7669/comments", "author": {"login": "BHB88", "id": 48196552, "node_id": "MDQ6VXNlcjQ4MTk2NTUy", "avatar_url": "https://avatars0.githubusercontent.com/u/48196552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BHB88", "html_url": "https://github.com/BHB88", "followers_url": "https://api.github.com/users/BHB88/followers", "following_url": "https://api.github.com/users/BHB88/following{/other_user}", "gists_url": "https://api.github.com/users/BHB88/gists{/gist_id}", "starred_url": "https://api.github.com/users/BHB88/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BHB88/subscriptions", "organizations_url": "https://api.github.com/users/BHB88/orgs", "repos_url": "https://api.github.com/users/BHB88/repos", "events_url": "https://api.github.com/users/BHB88/events{/privacy}", "received_events_url": "https://api.github.com/users/BHB88/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ab756a1f5af41d668da5ae3ab91dcf482c06f5bf", "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/ab756a1f5af41d668da5ae3ab91dcf482c06f5bf", "html_url": "https://github.com/ronancpl/HeavenMS/commit/ab756a1f5af41d668da5ae3ab91dcf482c06f5bf"}], "stats": {"total": 15, "additions": 11, "deletions": 4}, "files": [{"sha": "923807c632ef60177eaf0ba709f00dd13b27f1bb", "filename": "src/constants/skills/Aran.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/da2395cc3a770b9fe4dc772f8890ec87a2ee7669/src/constants/skills/Aran.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/da2395cc3a770b9fe4dc772f8890ec87a2ee7669/src/constants/skills/Aran.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/constants/skills/Aran.java?ref=da2395cc3a770b9fe4dc772f8890ec87a2ee7669", "patch": "@@ -47,6 +47,7 @@\n     public static final int HIDDEN_FULL_TRIPLE = 21110008;\n     public static final int SMART_KNOCKBACK = 21111001;\n     public static final int OVER_SWING = 21120002;\n+    public static final int HIGH_DEFENSE = 21120004;\n     public static final int COMBO_TEMPEST = 21120006;\n     public static final int COMBO_BARRIER = 21120007;\n     public static final int HIDDEN_OVER_DOUBLE = 21120009;"}, {"sha": "6d34fdb595ec78c1a6418c8d67db453e13e11247", "filename": "src/net/server/channel/handlers/TakeDamageHandler.java", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/da2395cc3a770b9fe4dc772f8890ec87a2ee7669/src/net/server/channel/handlers/TakeDamageHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/da2395cc3a770b9fe4dc772f8890ec87a2ee7669/src/net/server/channel/handlers/TakeDamageHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/TakeDamageHandler.java?ref=da2395cc3a770b9fe4dc772f8890ec87a2ee7669", "patch": "@@ -240,6 +240,12 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                 if (achilles != 0 && achilles1 != null) {\n                     damage *= (achilles1.getEffect(achilles).getX() / 1000.0);\n                 }\n+                \n+                Skill highDef = SkillFactory.getSkill(Aran.HIGH_DEFENSE);\n+                int hdLevel = chr.getSkillLevel(highDef);\n+                if (highDef != null && hdLevel > 0) {\n+                    damage *= (highDef.getEffect(hdLevel).getX() / 1000.0);\n+                }\n             }\n             Integer mesoguard = chr.getBuffedValue(MapleBuffStat.MESOGUARD);\n             if (chr.getBuffedValue(MapleBuffStat.MAGIC_GUARD) != null && mpattack == 0) {"}, {"sha": "f82b0765798be2dd6fd62fa553679bc47821a895", "filename": "src/server/MapleStatEffect.java", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/da2395cc3a770b9fe4dc772f8890ec87a2ee7669/src/server/MapleStatEffect.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/da2395cc3a770b9fe4dc772f8890ec87a2ee7669/src/server/MapleStatEffect.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/MapleStatEffect.java?ref=da2395cc3a770b9fe4dc772f8890ec87a2ee7669", "patch": "@@ -1774,10 +1774,10 @@ private int getMorph() {\n     }\n \n     private int getMorph(MapleCharacter chr) {\n-        if (morphId % 10 == 0) {\n-            return morphId + chr.getGender();\n-        }\n-        return morphId + 100 * chr.getGender();\n+        if (morphId == 1000 || morphId == 1001 || morphId == 1003) { // morph skill\n+            return chr.getGender() == 0 ? morphId : morphId + 100;\n+        } \n+        return morphId;\n     }\n \n     private SummonMovementType getSummonMovementType() {"}]}]},
