{"fetchDate": "2019-12-19", "content": [{"sha": "9d00f3378349e96362ca3f1259b3f4be4effaf4b", "node_id": "MDY6Q29tbWl0NDUwODIwMjM6OWQwMGYzMzc4MzQ5ZTk2MzYyY2EzZjEyNTliM2Y0YmU0ZWZmYWY0Yg==", "commit": {"author": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2017-06-05T01:59:28Z"}, "committer": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2017-06-05T01:59:28Z"}, "message": "Equip stat gain optimization + New commands\n\nNew optimization on stat gain methods, further improving server\nperformance on equip levelups. Added new commands for GMs/admins.", "tree": {"sha": "a588697ec2b93920d51f2f7dd5da1c5dd0fe7923", "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/trees/a588697ec2b93920d51f2f7dd5da1c5dd0fe7923"}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/commits/9d00f3378349e96362ca3f1259b3f4be4effaf4b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/9d00f3378349e96362ca3f1259b3f4be4effaf4b", "html_url": "https://github.com/ronancpl/HeavenMS/commit/9d00f3378349e96362ca3f1259b3f4be4effaf4b", "comments_url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/9d00f3378349e96362ca3f1259b3f4be4effaf4b/comments", "author": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "809d90564cf2d521d451634e58d9ffc73821512b", "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/809d90564cf2d521d451634e58d9ffc73821512b", "html_url": "https://github.com/ronancpl/HeavenMS/commit/809d90564cf2d521d451634e58d9ffc73821512b"}], "stats": {"total": 228, "additions": 187, "deletions": 41}, "files": [{"sha": "86bc43705fc4834bf5fa85d347bc56e201ccb7d8", "filename": "build/built-jar.properties", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/9d00f3378349e96362ca3f1259b3f4be4effaf4b/build/built-jar.properties", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/9d00f3378349e96362ca3f1259b3f4be4effaf4b/build/built-jar.properties", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/built-jar.properties?ref=9d00f3378349e96362ca3f1259b3f4be4effaf4b", "patch": "@@ -1,4 +1,4 @@\n-#Sat, 03 Jun 2017 19:45:04 -0300\n+#Sun, 04 Jun 2017 22:54:17 -0300\n \n \n C\\:\\\\Nexon\\\\MapleSolaxia\\\\MapleSolaxiaV2="}, {"sha": "c487a6b1b37a932556aa2f912972f213a1dae732", "filename": "build/classes/client/command/Commands$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/9d00f3378349e96362ca3f1259b3f4be4effaf4b/build/classes/client/command/Commands$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/9d00f3378349e96362ca3f1259b3f4be4effaf4b/build/classes/client/command/Commands$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/command/Commands$1.class?ref=9d00f3378349e96362ca3f1259b3f4be4effaf4b"}, {"sha": "ff2234012a8236108fba16e0934c78f7a7b5f7a8", "filename": "build/classes/client/command/Commands.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/9d00f3378349e96362ca3f1259b3f4be4effaf4b/build/classes/client/command/Commands.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/9d00f3378349e96362ca3f1259b3f4be4effaf4b/build/classes/client/command/Commands.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/command/Commands.class?ref=9d00f3378349e96362ca3f1259b3f4be4effaf4b"}, {"sha": "2bcd4002663d6bbbc87c5c144549c63a8eb7fa33", "filename": "build/classes/client/inventory/Equip$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/9d00f3378349e96362ca3f1259b3f4be4effaf4b/build/classes/client/inventory/Equip$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/9d00f3378349e96362ca3f1259b3f4be4effaf4b/build/classes/client/inventory/Equip$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/inventory/Equip$1.class?ref=9d00f3378349e96362ca3f1259b3f4be4effaf4b"}, {"sha": "c2596cc156fdaf44944898766e72c6cf81c70a54", "filename": "build/classes/client/inventory/Equip.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/9d00f3378349e96362ca3f1259b3f4be4effaf4b/build/classes/client/inventory/Equip.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/9d00f3378349e96362ca3f1259b3f4be4effaf4b/build/classes/client/inventory/Equip.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/inventory/Equip.class?ref=9d00f3378349e96362ca3f1259b3f4be4effaf4b"}, {"sha": "627f9a2b4338273b3efdfad6d9d2a7c5eb461b3b", "filename": "build/classes/constants/GameConstants.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/9d00f3378349e96362ca3f1259b3f4be4effaf4b/build/classes/constants/GameConstants.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/9d00f3378349e96362ca3f1259b3f4be4effaf4b/build/classes/constants/GameConstants.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/constants/GameConstants.class?ref=9d00f3378349e96362ca3f1259b3f4be4effaf4b"}, {"sha": "ee4af3ed8e460f11f77d6ea589eafb87e87e9717", "filename": "build/classes/constants/ServerConstants.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/9d00f3378349e96362ca3f1259b3f4be4effaf4b/build/classes/constants/ServerConstants.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/9d00f3378349e96362ca3f1259b3f4be4effaf4b/build/classes/constants/ServerConstants.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/constants/ServerConstants.class?ref=9d00f3378349e96362ca3f1259b3f4be4effaf4b"}, {"sha": "384e9915890efd5eaff763893b5db4676728813b", "filename": "build/classes/server/MapleInventoryManipulator.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/9d00f3378349e96362ca3f1259b3f4be4effaf4b/build/classes/server/MapleInventoryManipulator.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/9d00f3378349e96362ca3f1259b3f4be4effaf4b/build/classes/server/MapleInventoryManipulator.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleInventoryManipulator.class?ref=9d00f3378349e96362ca3f1259b3f4be4effaf4b"}, {"sha": "17685344064d170ce2ef4caa368d4f8412a5e140", "filename": "build/classes/server/MapleStatEffect$CancelEffectAction.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/9d00f3378349e96362ca3f1259b3f4be4effaf4b/build/classes/server/MapleStatEffect$CancelEffectAction.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/9d00f3378349e96362ca3f1259b3f4be4effaf4b/build/classes/server/MapleStatEffect$CancelEffectAction.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleStatEffect$CancelEffectAction.class?ref=9d00f3378349e96362ca3f1259b3f4be4effaf4b"}, {"sha": "2b064a77aac71d92efbd78080811bb5854f5e34a", "filename": "build/classes/server/MapleStatEffect.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/9d00f3378349e96362ca3f1259b3f4be4effaf4b/build/classes/server/MapleStatEffect.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/9d00f3378349e96362ca3f1259b3f4be4effaf4b/build/classes/server/MapleStatEffect.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleStatEffect.class?ref=9d00f3378349e96362ca3f1259b3f4be4effaf4b"}, {"sha": "bde36d24292ba0d6e6ea11fb93021e2991d82580", "filename": "build/classes/server/life/MobSkill.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/9d00f3378349e96362ca3f1259b3f4be4effaf4b/build/classes/server/life/MobSkill.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/9d00f3378349e96362ca3f1259b3f4be4effaf4b/build/classes/server/life/MobSkill.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/life/MobSkill.class?ref=9d00f3378349e96362ca3f1259b3f4be4effaf4b"}, {"sha": "a2e20fde2eb42891c48ddae8fcff581962fe2495", "filename": "dist/MapleSolaxia.jar", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/9d00f3378349e96362ca3f1259b3f4be4effaf4b/dist/MapleSolaxia.jar", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/9d00f3378349e96362ca3f1259b3f4be4effaf4b/dist/MapleSolaxia.jar", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/dist/MapleSolaxia.jar?ref=9d00f3378349e96362ca3f1259b3f4be4effaf4b"}, {"sha": "28041b43ffb76505f58fa01840f600ac2072eef3", "filename": "mychanges_ptbr.txt", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/9d00f3378349e96362ca3f1259b3f4be4effaf4b/mychanges_ptbr.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/9d00f3378349e96362ca3f1259b3f4be4effaf4b/mychanges_ptbr.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/mychanges_ptbr.txt?ref=9d00f3378349e96362ca3f1259b3f4be4effaf4b", "patch": "@@ -284,4 +284,10 @@ Adicionado funcionalidade USE_ULTRA_THREE_SNAILS. Valor mostrado n\n Sistema de PIN agora completamente funcional.\n Corrigido sistema de ranking para agora mostrar player rankings de acordo com o mundo que ele se encontra.\n Adicionado barra de HP para o boss da BalrogPQ.\n-Equips apenas cosm\ufffdticos (sem stats e/ou possibilidade de melhorar) n\ufffdo mais ganham EXP e, consequentemente, nivelam.\n\\ No newline at end of file\n+Equips apenas cosm\ufffdticos (sem stats e/ou possibilidade de melhorar) n\ufffdo mais ganham EXP e, consequentemente, nivelam.\n+\n+04 Junho 2017,\n+Otimizados o m\ufffdtodo de ganho de stats de equips ao nivelar.\n+Diversos ajustes finos nos comandos existentes.\n+Adicionados novos comandos: proitem, seteqstats, buffme, buffmap.\n+V\ufffdrios ajustes finos \n\\ No newline at end of file"}, {"sha": "b701fc22809c9b2294be9b86de8a28c164c210ab", "filename": "nbproject/private/private.xml", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/9d00f3378349e96362ca3f1259b3f4be4effaf4b/nbproject/private/private.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/9d00f3378349e96362ca3f1259b3f4be4effaf4b/nbproject/private/private.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/nbproject/private/private.xml?ref=9d00f3378349e96362ca3f1259b3f4be4effaf4b", "patch": "@@ -17,8 +17,10 @@\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/MapleStat.java</file>\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/MapleServerHandler.java</file>\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/command/Commands.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/MapleStatEffect.java</file>\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/inventory/Item.java</file>\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/constants/ServerConstants.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/life/MobSkill.java</file>\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/MapleCharacter.java</file>\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/maps/MapleMap.java</file>\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/MapleItemInformationProvider.java</file>"}, {"sha": "fa3a2b9675fb369d8cc9de43a0801e7a79c34a28", "filename": "src/client/SkillFactory.java", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/9d00f3378349e96362ca3f1259b3f4be4effaf4b/src/client/SkillFactory.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/9d00f3378349e96362ca3f1259b3f4be4effaf4b/src/client/SkillFactory.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/SkillFactory.java?ref=9d00f3378349e96362ca3f1259b3f4be4effaf4b", "patch": "@@ -91,9 +91,9 @@\n     private static MapleDataProvider datasource = MapleDataProviderFactory.getDataProvider(MapleDataProviderFactory.fileInWZPath(\"Skill.wz\"));\n \n     public static Skill getSkill(int id) {\n-\t\tif (!skills.isEmpty()) {\n-\t\t    return skills.get(Integer.valueOf(id));\n-\t\t}\n+        if (!skills.isEmpty()) {\n+            return skills.get(Integer.valueOf(id));\n+        }\n         return null;\n     }\n "}, {"sha": "d02fc02e507378b4248f3d6cff27f5d5c9a0d1c3", "filename": "src/client/command/Commands.java", "status": "modified", "additions": 139, "deletions": 2, "changes": 141, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/9d00f3378349e96362ca3f1259b3f4be4effaf4b/src/client/command/Commands.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/9d00f3378349e96362ca3f1259b3f4be4effaf4b/src/client/command/Commands.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/Commands.java?ref=9d00f3378349e96362ca3f1259b3f4be4effaf4b", "patch": "@@ -92,6 +92,8 @@\n import client.Skill;\n import client.SkillFactory;\n import client.inventory.Item;\n+import client.inventory.Equip;\n+import client.inventory.MapleInventory;\n import client.inventory.MapleInventoryType;\n import client.inventory.MaplePet;\n import constants.GameConstants;\n@@ -306,6 +308,23 @@\n \t\tgotomaps.put(\"ht\", 240050400);\n \t\tgotomaps.put(\"fm\", 910000000);\n \t}\n+        \n+        private static void hardsetItemStats(Equip equip, short stat) {\n+            equip.setStr(stat);\n+            equip.setDex(stat);\n+            equip.setInt(stat);\n+            equip.setLuk(stat);\n+            equip.setMatk(stat);\n+            equip.setWatk(stat);\n+            equip.setAcc(stat);\n+            equip.setAvoid(stat);\n+            equip.setJump(stat);\n+            equip.setSpeed(stat);\n+            equip.setWdef(stat);\n+            equip.setMdef(stat);\n+            equip.setHp(stat);\n+            equip.setMp(stat);\n+        }\n \n \tpublic static boolean executePlayerCommand(MapleClient c, String[] sub, char heading) {\n \t\tMapleCharacter player = c.getPlayer();\n@@ -748,11 +767,129 @@ else if (sub[0].equals(\"sp\")) {\n \t\t\t\tvictim.setRemainingAp(Integer.parseInt(sub[2]));\n \t\t\t\tvictim.updateSingleStat(MapleStat.AVAILABLEAP, victim.getRemainingAp());\n \t\t\t}\n-\t\t} else if (sub[0].equals(\"buffme\")) {\n-\t\t\tfinal int[] array = {9001000, 9101002, 9101003, 9101008, 2001002, 1101007, 1005, 2301003, 5121009, 1111002, 4111001, 4111002, 4211003, 4211005, 1321000, 2321004, 3121002};\n+\t\t} else if (sub[0].equals(\"empowerme\")) {\n+\t\t\tfinal int[] array = {9001000, 9001001, 9101002, 9101003, 9101008, 2001002, 1101007, 1005, 2301003, 5121009, 1111002, 4111001, 4111002, 4211003, 4211005, 1321000, 2321004, 3121002};\n \t\t\tfor (int i : array) {\n \t\t\t\tSkillFactory.getSkill(i).getEffect(SkillFactory.getSkill(i).getMaxLevel()).applyTo(player);\n \t\t\t}\n+                        \n+                } else if (sub[0].equals(\"buffme\")) {\n+                        //GM Skills : Haste(Super) - Holy Symbol - Bless - Hyper Body - Echo of Hero\n+                        SkillFactory.getSkill(9101001).getEffect(SkillFactory.getSkill(9101001).getMaxLevel()).applyTo(player);\n+                        SkillFactory.getSkill(9101002).getEffect(SkillFactory.getSkill(9101002).getMaxLevel()).applyTo(player);\n+                        SkillFactory.getSkill(9101003).getEffect(SkillFactory.getSkill(9101003).getMaxLevel()).applyTo(player);\n+                        SkillFactory.getSkill(9101008).getEffect(SkillFactory.getSkill(9101008).getMaxLevel()).applyTo(player);\n+                        SkillFactory.getSkill(1005).getEffect(SkillFactory.getSkill(1005).getMaxLevel()).applyTo(player);\n+                        player.setHp(player.getMaxHp());\n+                        player.updateSingleStat(MapleStat.HP, player.getMaxHp());\n+                        player.setMp(player.getMaxMp());\n+                        player.updateSingleStat(MapleStat.MP, player.getMaxMp());\n+                } else if (sub[0].equals(\"buffmap\")) {\n+                        for (MapleCharacter chr : player.getMap().getCharacters()){\n+                                //GM Skills : Haste(Super) - Holy Symbol - Bless - Hyper Body - Echo of Hero\n+                                SkillFactory.getSkill(9101001).getEffect(SkillFactory.getSkill(9101001).getMaxLevel()).applyTo(chr);\n+                                SkillFactory.getSkill(9101002).getEffect(SkillFactory.getSkill(9101002).getMaxLevel()).applyTo(chr);\n+                                SkillFactory.getSkill(9101003).getEffect(SkillFactory.getSkill(9101003).getMaxLevel()).applyTo(chr);\n+                                SkillFactory.getSkill(9101008).getEffect(SkillFactory.getSkill(9101008).getMaxLevel()).applyTo(chr);\n+                                SkillFactory.getSkill(1005).getEffect(SkillFactory.getSkill(1005).getMaxLevel()).applyTo(chr);\n+                                chr.setHp(chr.getMaxHp());\n+                                chr.updateSingleStat(MapleStat.HP, chr.getMaxHp());\n+                                chr.setMp(chr.getMaxMp());\n+                                chr.updateSingleStat(MapleStat.MP, chr.getMaxMp());\n+                        }\n+                } else if (sub[0].equals(\"buff\")) {\n+                        if (sub.length < 2){\n+                                player.yellowMessage(\"Syntax: !buff <buffid>\");\n+                                return true;\n+\t\t\t}\n+                        int skillid=Integer.parseInt(sub[1]);\n+                        \n+                        Skill skill = SkillFactory.getSkill(skillid);\n+                        if(skill != null) skill.getEffect(skill.getMaxLevel()).applyTo(player);\n+                } else if (sub[0].equals(\"proitem\")) {\n+                        if (sub.length < 3) {\n+                                player.dropMessage(\"Syntax: !proitem <itemid> <statvalue>\");\n+                                return true;\n+                        }\n+                        \n+                        int itemid = 0;\n+                        short multiply = 0;\n+\n+                        itemid = Integer.parseInt(sub[1]);\n+                        multiply = Short.parseShort(sub[2]);\n+\n+                        MapleItemInformationProvider ii = MapleItemInformationProvider.getInstance();\n+                        Item item = ii.getEquipById(itemid);\n+                        MapleInventoryType type = ii.getInventoryType(itemid);\n+                        if (type.equals(MapleInventoryType.EQUIP)) {\n+                                hardsetItemStats((Equip) item, multiply);\n+                                MapleInventoryManipulator.addFromDrop(c, item);\n+\n+                        } else {\n+                                player.dropMessage(\"Make sure it's an equippable item.\");\n+                        }\n+                        \n+                } else if (sub[0].equals(\"seteqstat\")) {\n+                        if (sub.length < 2) {\n+                                player.dropMessage(\"Syntax: !seteqstat <statvalue>\");\n+                                return true;\n+                        }\n+                        \n+                        int val = Integer.parseInt(sub[1]);\n+                    \n+                        MapleInventory equip = player.getInventory(MapleInventoryType.EQUIP);\n+                        for (byte i = 0; i < 101; i++) {\n+                        try {\n+                                Equip eu = (Equip) equip.getItem(i);\n+                                int item = equip.getItem(i).getItemId();\n+                                short hand = eu.getHands();\n+                                byte level = eu.getLevel();\n+                                Equip nItem = new Equip(item, i);\n+                                nItem.setStr(eu.getStr()); // STR\n+                                nItem.setDex(eu.getDex()); // DEX\n+                                nItem.setInt(eu.getInt()); // INT\n+                                nItem.setLuk(eu.getLuk()); //LUK\n+                                nItem.setWatk(eu.getWatk()); //WA\n+\n+                                //All Previous stats excluding the top 5\n+                                nItem.setWdef(eu.getWdef());\n+                                nItem.setAcc(eu.getHands());\n+                                nItem.setAvoid(eu.getAvoid());\n+                                nItem.setExpiration(eu.getExpiration());\n+                                nItem.setJump(eu.getJump());\n+                                nItem.setLevel(eu.getLevel());\n+                                nItem.setMatk(eu.getMatk());\n+                                nItem.setMdef(eu.getMdef());\n+                                nItem.setMp(eu.getMp());\n+                                nItem.setOwner(eu.getOwner());\n+                                nItem.setSpeed(eu.getSpeed());\n+                                nItem.setUpgradeSlots((byte) eu.getUpgradeSlots());\n+                                nItem.setHands(eu.getHands());\n+                                nItem.setLevel(eu.getLevel());\n+                                short incval= (short)val;\n+                                nItem.setWdef(incval);\n+                                nItem.setAcc(incval);\n+                                nItem.setAvoid(incval);\n+                                nItem.setJump(incval);\n+                                nItem.setMatk(incval);\n+                                nItem.setMdef(incval);\n+                                nItem.setMp(incval);\n+                                nItem.setSpeed(incval);\n+                                nItem.setUpgradeSlots((byte) eu.getUpgradeSlots());\n+                                nItem.setHands(incval);\n+                                nItem.setWatk(incval);\n+                                nItem.setDex(incval);\n+                                nItem.setInt(incval);\n+                                nItem.setStr(incval);\n+                                nItem.setLuk(incval);\n+                                Item tempItem = c.getPlayer().getInventory(MapleInventoryType.EQUIP).getItem((byte) i);\n+                                MapleInventoryManipulator.removeFromSlot(c, MapleInventoryType.EQUIP, (byte)i, tempItem.getQuantity(), false, true);\n+                                player.getInventory(MapleInventoryType.EQUIP).addFromDB(nItem);\n+                        } catch(Exception e){}\n+                        }\n+                        c.getSession().write(MaplePacketCreator.getCharInfo(player));\n+                        //player.getMap().removePlayer(player);\n+                        //player.getMap().addPlayer(player);\n \t\t} else if (sub[0].equals(\"spawn\")) {\n                         if (sub.length < 2) {\n \t\t\t\tplayer.yellowMessage(\"Syntax: !spawn <mobid>\");"}, {"sha": "158e5d7e73de134f46fd7d77eb62db4c47a496a5", "filename": "src/client/inventory/Equip.java", "status": "modified", "additions": 8, "deletions": 19, "changes": 27, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/9d00f3378349e96362ca3f1259b3f4be4effaf4b/src/client/inventory/Equip.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/9d00f3378349e96362ca3f1259b3f4be4effaf4b/src/client/inventory/Equip.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/inventory/Equip.java?ref=9d00f3378349e96362ca3f1259b3f4be4effaf4b", "patch": "@@ -288,30 +288,19 @@ private int getStatModifier(boolean isAttribute) {\n         }\n     }\n     \n-    private int randomizeStatUpgrade(int limit) {\n-        Map<Integer, Integer> pool = new HashMap<>();\n-        \n-        int top = Math.min(limit, ServerConstants.MAX_EQUIPMNT_LVLUP_STAT_GAIN);\n-        pool.put(0, top);\n-        for(int i = 1; i <= top; i++) {\n-            pool.put(i, top - i + 1);\n-        }\n-        \n-        int poolCount = 0;\n-        for(Integer i: pool.values()) {\n-            poolCount += i;\n-        }\n+    private int randomizeStatUpgrade(int top) {\n+        int limit = Math.min(top, ServerConstants.MAX_EQUIPMNT_LVLUP_STAT_GAIN);\n         \n+        int poolCount = (limit * (limit + 1) / 2) + limit;\n         int rnd = Randomizer.rand(0, poolCount);\n+        \n         int stat = 0;\n-        for(Integer i: pool.values()) {\n-            if(rnd < i) break;\n-            \n-            stat++;\n-            rnd -= i;\n+        if(rnd >= limit) {\n+            rnd -= limit;\n+            stat = 1 + (int)Math.floor((-1 + Math.sqrt((8 * rnd) + 1)) / 2);\n         }\n         \n-        return(stat);\n+        return stat;\n     }\n     \n     private void getUnitStatUpgrade(List<Pair<StatUpgrade, Integer>> stats, StatUpgrade name, int curStat, boolean isAttribute) {"}, {"sha": "28455552c5b5527cb599a8fba5306e2de6b10754", "filename": "src/constants/GameConstants.java", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/9d00f3378349e96362ca3f1259b3f4be4effaf4b/src/constants/GameConstants.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/9d00f3378349e96362ca3f1259b3f4be4effaf4b/src/constants/GameConstants.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/constants/GameConstants.java?ref=9d00f3378349e96362ca3f1259b3f4be4effaf4b", "patch": "@@ -8,9 +8,9 @@\n  */\n public class GameConstants {\n     // Ronan's rates upgrade system\n-    private static final int[] DROP_RATE_GAIN = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11};\n-    private static final int[] MESO_RATE_GAIN = {1, 3, 6, 10, 15, 21, 28, 36, 45, 55, 66};\n-    private static final int[]  EXP_RATE_GAIN = {1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144};    //fibonacci :3\n+    private static final int[] DROP_RATE_GAIN = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14};\n+    private static final int[] MESO_RATE_GAIN = {1, 3, 6, 10, 15, 21, 28, 36, 45, 55, 66, 78, 91, 105};\n+    private static final int[]  EXP_RATE_GAIN = {1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610};    //fibonacci :3\n     \n     public static int getPlayerBonusMesoRate(int slot) {\n         return(MESO_RATE_GAIN[slot]);"}, {"sha": "3bbae2c2d2e44374f68eba86c8de544a65e6d7fd", "filename": "src/constants/ServerConstants.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/9d00f3378349e96362ca3f1259b3f4be4effaf4b/src/constants/ServerConstants.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/9d00f3378349e96362ca3f1259b3f4be4effaf4b/src/constants/ServerConstants.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/constants/ServerConstants.java?ref=9d00f3378349e96362ca3f1259b3f4be4effaf4b", "patch": "@@ -32,6 +32,7 @@\n \t\n     //Gameplay Configuration\n     public static final boolean USE_CUSTOM_KEYSET = true;\n+    public static final boolean USE_MAXRANGE_ECHO_OF_HERO = true;\n     public static final boolean USE_MAXRANGE = true;        \t//Will send and receive packets from all events of a map, rather than those of only view range.\n     public static final boolean USE_DEBUG = true;           \t//Will enable some text prints and new commands in the client oriented for debugging.\n     public static final boolean USE_DEBUG_SHOW_RCVD_PACKET = false;     //Prints on the cmd all received packet ids."}, {"sha": "c5bd5f342a49ba32ba4394cc2b8d8cf83660a0d3", "filename": "src/server/MapleInventoryManipulator.java", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/9d00f3378349e96362ca3f1259b3f4be4effaf4b/src/server/MapleInventoryManipulator.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/9d00f3378349e96362ca3f1259b3f4be4effaf4b/src/server/MapleInventoryManipulator.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/MapleInventoryManipulator.java?ref=9d00f3378349e96362ca3f1259b3f4be4effaf4b", "patch": "@@ -143,6 +143,10 @@ public static boolean addById(MapleClient c, int itemId, short quantity, String\n         return true;\n     }\n     \n+    public static boolean addFromDrop(MapleClient c, Item item) {\n+        return addFromDrop(c, item, true);\n+    }\n+    \n     public static boolean addFromDrop(MapleClient c, Item item, boolean show) {\n         return addFromDrop(c, item, show, -1);\n     }"}, {"sha": "7c9e07c3ff1e8018f6f376157253cfd5b68d130d", "filename": "src/server/MapleStatEffect.java", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/9d00f3378349e96362ca3f1259b3f4be4effaf4b/src/server/MapleStatEffect.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/9d00f3378349e96362ca3f1259b3f4be4effaf4b/src/server/MapleStatEffect.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/MapleStatEffect.java?ref=9d00f3378349e96362ca3f1259b3f4be4effaf4b", "patch": "@@ -228,6 +228,11 @@ private static MapleStatEffect loadFromData(MapleData source, int sourceid, bool\n         if (ltd != null) {\n             ret.lt = (Point) ltd.getData();\n             ret.rb = (Point) source.getChildByPath(\"rb\").getData();\n+            \n+            if(ServerConstants.USE_MAXRANGE_ECHO_OF_HERO && (sourceid == Beginner.ECHO_OF_HERO || sourceid == Noblesse.ECHO_OF_HERO || sourceid == Legend.ECHO_OF_HERO || sourceid == Evan.ECHO_OF_HERO)) {\n+                ret.lt = new Point(Integer.MIN_VALUE, Integer.MIN_VALUE);\n+                ret.rb = new Point(Integer.MAX_VALUE, Integer.MAX_VALUE);\n+            }\n         }\n         \n         int x = MapleDataTool.getInt(\"x\", source, 0);\n@@ -703,7 +708,7 @@ private boolean applyTo(MapleCharacter applyfrom, MapleCharacter applyto, boolea\n          AutobanFactory.MPCON.addPoint(applyfrom.getAutobanManager(), \"mpCon hack for skill:\" + sourceid + \"; Player MP: \" + applyto.getMp() + \" MP Needed: \" + getMpCon());\n          } */\n         if (hpchange != 0) {\n-            if (hpchange < 0 && (-hpchange) > applyto.getHp() && !applyto.hasDisease(MapleDisease.ZOMBIFY)) {\n+            if (hpchange < 0 && (-hpchange) >= applyto.getHp() && (!applyto.hasDisease(MapleDisease.ZOMBIFY) || hpCon == 0)) {\n                 applyto.getClient().announce(MaplePacketCreator.enableActions());\n                 return false;\n             }\n@@ -1053,6 +1058,7 @@ private int calcHPChange(MapleCharacter applyfrom, boolean primary) {\n                 hpchange += makeHealHP(hp / 100.0, applyfrom.getTotalMagic(), 3, 5);\n                 if (applyfrom.hasDisease(MapleDisease.ZOMBIFY)) {\n                     hpchange = -hpchange;\n+                    hpCon = 0;\n                 }\n             }\n         }"}, {"sha": "5fce7da70d40882a6c97dc3a44e5db9410f9ffc7", "filename": "src/server/life/MobSkill.java", "status": "modified", "additions": 12, "deletions": 11, "changes": 23, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/9d00f3378349e96362ca3f1259b3f4be4effaf4b/src/server/life/MobSkill.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/9d00f3378349e96362ca3f1259b3f4be4effaf4b/src/server/life/MobSkill.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/life/MobSkill.java?ref=9d00f3378349e96362ca3f1259b3f4be4effaf4b", "patch": "@@ -187,6 +187,7 @@ public void applyEffect(MapleCharacter player, MapleMonster monster, boolean ski\n                 disease = MapleDisease.CONFUSE;\n                 break;\n             case 133: // zombify\n+                disease = MapleDisease.ZOMBIFY;\n                 break;\n             case 140:\n                 if (makeChanceResult() && !monster.isBuffed(MonsterStatus.MAGIC_IMMUNITY)) {\n@@ -199,21 +200,21 @@ public void applyEffect(MapleCharacter player, MapleMonster monster, boolean ski\n                 }\n                 break;\n \t    case 143: // Weapon Reflect\n-\t\t\tstats.put(MonsterStatus.WEAPON_REFLECT, Integer.valueOf(x));\n-\t\t\tstats.put(MonsterStatus.WEAPON_IMMUNITY, Integer.valueOf(x));\n-\t\t\treflection.add(x);\n+                    stats.put(MonsterStatus.WEAPON_REFLECT, Integer.valueOf(x));\n+                    stats.put(MonsterStatus.WEAPON_IMMUNITY, Integer.valueOf(x));\n+                    reflection.add(x);\n \t\tbreak;\n \t    case 144: // Magic Reflect\n-\t\t\tstats.put(MonsterStatus.MAGIC_REFLECT, Integer.valueOf(x));\n-\t\t\tstats.put(MonsterStatus.MAGIC_IMMUNITY, Integer.valueOf(x));\n-\t\t\treflection.add(x);\n+                    stats.put(MonsterStatus.MAGIC_REFLECT, Integer.valueOf(x));\n+                    stats.put(MonsterStatus.MAGIC_IMMUNITY, Integer.valueOf(x));\n+                    reflection.add(x);\n \t\tbreak;\n \t    case 145: // Weapon / Magic reflect\n-\t\t\tstats.put(MonsterStatus.WEAPON_REFLECT, Integer.valueOf(x));\n-\t\t\tstats.put(MonsterStatus.WEAPON_IMMUNITY, Integer.valueOf(x));\n-\t\t\tstats.put(MonsterStatus.MAGIC_REFLECT, Integer.valueOf(x));\n-\t\t\tstats.put(MonsterStatus.MAGIC_IMMUNITY, Integer.valueOf(x));\n-\t\t\treflection.add(x);\n+                    stats.put(MonsterStatus.WEAPON_REFLECT, Integer.valueOf(x));\n+                    stats.put(MonsterStatus.WEAPON_IMMUNITY, Integer.valueOf(x));\n+                    stats.put(MonsterStatus.MAGIC_REFLECT, Integer.valueOf(x));\n+                    stats.put(MonsterStatus.MAGIC_IMMUNITY, Integer.valueOf(x));\n+                    reflection.add(x);\n                 break;\n             case 154: // accuracy up\n             case 155: // avoid up"}]}]},
