{"fetchDate": "2019-12-19", "content": [{"sha": "edb3920852c368da6f0e1e6bf589938a5820a70a", "node_id": "MDY6Q29tbWl0NDUwODIwMjM6ZWRiMzkyMDg1MmMzNjhkYTZmMGUxZTZiZjU4OTkzOGE1ODIwYTcwYQ==", "commit": {"author": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2019-06-02T00:12:40Z"}, "committer": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2019-06-02T00:12:40Z"}, "message": "Item Raise + Gachapon Rework + Minigames & M. Magnet & M. Door patch\n\nFixed a glitch in inventory that would happen when trying to put items into storage.\nAdded \"Item Raise\" functionality.\nAdjusted Party Search. Token sessions no longer expires due to no players found, rather are sent into a brief \"inactivity\" period.\nFixed Fredrick stored items not being properly erased after a character deletion.\nFixed skillbooks in stacked quantities not being useable.\nNew tool: MapleGachaponItemidRetriever. This tool parses the gachapon descriptor file (holding several item names, for several gachapons) and generates files for each defined gachapon with itemids of the loots.\nRevised Mushroom Empire transition portals that interacts with scripted items (items now are useable through inventory, no longer being automatically removed from inventory upon crossing portals).\nFixed script \"secretroom\" always requiring a new key (quest reward) to access the inner rooms, which would make the room unreachable.\nReworked gachapons loots throughout the game. New loots are supposed to represent an old-school MapleSEA-like escalation of gachapon loots.\nFixed issues that would show up in the case null PIN/PIC gets checked.\nReworked skill Monster Magnet, no longer using \"catch success rate\" as a skill progression element. This fixes the skill disconnecting caster upon failure.\nRevised Mystic Doors, no longer crashing players after the caster decides to cancel the buff moments after casting (during portal deploying effect in course).\nFixed portal access to Prime Minister crashing when trying to access on a party.\nRefactored the several \"startQuest/completeQuest\" methods widely used in the many scripting managers. Methods that does essentially the same thing now are accessed from the superclass.\nFixed \"rechargeable items\" not being properly accounted for slots availability in inventory slot checking.\nFixed several issues of late within minigames.\nFixed minigames regarding double results when handling some rare scenarios.\nImplemented \"call for leave after finishing game\" functionality of minigames.", "tree": {"sha": "c648b342d7e9a33e0871f131f32d2834131b441e", "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/trees/c648b342d7e9a33e0871f131f32d2834131b441e"}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/commits/edb3920852c368da6f0e1e6bf589938a5820a70a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/edb3920852c368da6f0e1e6bf589938a5820a70a", "html_url": "https://github.com/ronancpl/HeavenMS/commit/edb3920852c368da6f0e1e6bf589938a5820a70a", "comments_url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/edb3920852c368da6f0e1e6bf589938a5820a70a/comments", "author": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "89eca2995b1b6bbfe07eb923e257000bab6c5f17", "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/89eca2995b1b6bbfe07eb923e257000bab6c5f17", "html_url": "https://github.com/ronancpl/HeavenMS/commit/89eca2995b1b6bbfe07eb923e257000bab6c5f17"}], "stats": {"total": 8488, "additions": 6571, "deletions": 1917}, "files": [{"sha": "505c52f286cbaa9366d3149e67ca4ef08d111eff", "filename": ".gitignore", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/.gitignore", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/.gitignore", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/.gitignore?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -55,6 +55,10 @@\n /tools/MapleEventMethodFiller/dist/\n /tools/MapleEventMethodFiller/nbproject/\n \n+/tools/MapleGachaponItemidRetriever/build/\n+/tools/MapleGachaponItemidRetriever/dist/\n+/tools/MapleGachaponItemidRetriever/nbproject/\n+\n /tools/MapleIdRetriever/build/\n /tools/MapleIdRetriever/dist/\n /tools/MapleIdRetriever/nbproject/"}, {"sha": "27a1515b39d00758c1ec8249e210fba2ad9f287f", "filename": "docs/localhost_minimum_specs.txt", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/docs/localhost_minimum_specs.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/docs/localhost_minimum_specs.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/localhost_minimum_specs.txt?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -0,0 +1,14 @@\n+-- Thanks MikeyJacobs for prompting out minimum specs search for pre-BB MapleStory.\n+-- Minimum specs gathered thanks to AkatsukiLog, source: https://www.clubedohardware.com.br/forums/topic/1081421-maplestory-reinicia-meu-pc-direto-ajuda/\n+\n+MapleStory pre-BB specs:\n+\n+Minimum Requirement | Recommended Setting\n+\n+OS: Windows XP or later | Windows XP or later\n+Processor: Pentium 4 or equivalent | Pentium Dual Core or equivalent\n+Memory: 1GB RAM | 1GB RAM\n+Hard Drive: At least 7GB of free space | At least 7GB of free space\n+Graphics: Video Card with 128MB or higher | GeForce FX5000 / ATI Radeon 9600 or higher (any video card with Shader model 2.0 or higher)\n+Sound: DirectX compatible sound card | DirectX compatible sound card\n+Network: Broadband internet connection | Broadband internet connection\n\\ No newline at end of file"}, {"sha": "8b553a9060aaa1881c286b0df2f2d969ea863aeb", "filename": "docs/mychanges_ptbr.txt", "status": "modified", "additions": 39, "deletions": 3, "changes": 42, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/docs/mychanges_ptbr.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/docs/mychanges_ptbr.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mychanges_ptbr.txt?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -7,8 +7,8 @@\n \tAbdula -> 9209000 *\n \n CUSTOM NPC SHOPS (db_shopupdate.sql):\n-\tAsia -> 2082014 *\n-\tT-1337 -> 9201101 *\n+\tAsia -> 2082014\n+\tT-1337 -> 9201101\n \n \t* : those won't get disabled when USE_ENABLE_CUSTOM_NPC_SCRIPTS = false\n \n@@ -1871,4 +1871,40 @@ Implementado convite de Party Search sens\u00edvel ao mapa onde os jogadores l\u00edder\n Corrigido pets sendo indevidamente removido da DB ao realizar opera\u00e7\u00f5es de retirada do invent\u00e1rio.\n \n 15 Maio 2019,\n-Revisado, via testes unit\u00e1rios, robustez dos registros/buscas de jogadores e fluidez do sistema de Party Search.\n\\ No newline at end of file\n+Revisado, via testes unit\u00e1rios, robustez dos registros/buscas de jogadores e fluidez do sistema de Party Search.\n+\n+18 - 19 Maio 2019,\n+Corrigido glitch de invent\u00e1rio ao colocar itens no storage, problema que foi introduzido recentemente.\n+Finalmente aprendido como funciona a mec\u00e2nica por tr\u00e1s dos nodos \"infoEx/infoNumber\" amplamente usado pelas quests! :D\n+Implementado sistema de \"crescimento de itens\" na fonte.\n+\n+20 - 24 Maio 2019,\n+Ajustado \"Party Search\". Ao inv\u00e9s de expirar sess\u00f5es de busca ap\u00f3s N tentativas, l\u00edderes s\u00e3o colocados em espera por alguns minutos e podem voltar a buscar automaticamente mais tarde.\n+Corrigido itens armazenados no Fredrick n\u00e3o sendo deletados ao deletar personagem, acarretando em inconsist\u00eancias com cid inexistente.\n+Corrigido livros de upgrade de skills stackados em quantidade maior que 1 n\u00e3o podendo ser utilizados.\n+Nova ferramenta: MapleGachaponItemidRetriever. A ferramenta l\u00ea o arquivo-receita com nomes de itens designados para os diversos gachapons do jogo e, analisando a tabela da DB \"handbook\" (descrito pela ferramenta MapleIdRetriever), gera diversos arquivos (um para cada gachapon) contendo os ids dos itens especificados (ou pr\u00f3prio nome do item, se n\u00e3o encontrado).\n+Revisado script itens da regi\u00e3o de Mushroom Empire. Ao inv\u00e9s dos efeitos dos itens atuarem ao acessar portais, agora ao utilizar os pr\u00f3prios itens pelo invent\u00e1rio as regi\u00f5es anteriormente inacess\u00edveis se tornam explor\u00e1veis, seguindo a descri\u00e7\u00e3o dos mesmos.\n+Revisado transi\u00e7\u00f5es em 2 mapas da regi\u00e3o de Mushroom Empire (um deles agora podendo ser atravessado ao utilizar um ETC, como previsto). Ambas transi\u00e7\u00f5es projetadas para atuar ap\u00f3s uso dos itens designados.\n+Corrigido script \"secretroom\" sempre requerendo o ETC adquirido via questline, algo que tornava a \u00e1rea interna inacess\u00edvel ao tentar faz\u00ea-la m\u00faltiplas vezes.\n+Reelaborado completamente sistema de loots dos gachapons. Nova lista de loots de cada cidade dispon\u00edvel tenta seguir conte\u00fados encontrados na Web, supostamente leg\u00edtimos (vide fontes mencionadas no fonte).\n+Adicionado gachapons para El Nath e Ludibrium.\n+Corrigido presen\u00e7a de PIN e PIC nulos (modificado para strings vazias).\n+Corrigido skill \"Monster Magnet\" desconectando jogadores ao utiliz\u00e1-la. Isso ocorria devido a um problema no lado-cliente ao \"falhar\" em capturar o mob. Nova skill foi remodelada para solucionar isso (al\u00e9m de MP e range, \u00e1rvore de atributos varia por quantidade m\u00e1xima de mobs).\n+\n+26 Maio 2019,\n+Ajustado portal que acessa \u00e1rea do NPC Nein Spirit's Baby Dragon, para permitir acesso aos jogadores que concluem a rachadura do ovo, ao inv\u00e9s de somente ap\u00f3s completar quest.\n+\n+31 Maio 2019,\n+Implementado m\u00e9todo/comando que permite visualizar itens que podem ser ganhos pelo gachapons.\n+Corrigido Mystic Doors crashando jogadores ao tentar cancelar o buff da skill excessivamente cedo.\n+Corrigido tentativa de acessar boss Prime Minister acarretando em exce\u00e7\u00f5es de nulos ao tentar entrar em party.\n+Corrigido evento de acesso ao boss Prime Minister n\u00e3o realizando disposes corretamente (assim que evento fica sem jogadores, ap\u00f3s mudar de mapa, reviver, desconectar, etc).\n+Refatorado estruturas de \"ignored\" e \"monitored\" dos comandos, agora utilizando conjuntos e checagem de inteiros ao inv\u00e9s de nomes.\n+Refatorado refer\u00eancias aos m\u00e9todos da fam\u00edlia \"startQuest\" e \"completeQuest\", com funcionalidade repetida para diversas subclasses de AbstractPlayerInteraction.\n+\n+01 Junho 2019,\n+Corrigido m\u00e9todos de chegagem por espa\u00e7o de invent\u00e1rios n\u00e3o avaliando corretamente quantidade de slots necess\u00e1rio para acomodar itens recarreg\u00e1veis.\n+Corrigido minigames n\u00e3o retirando refer\u00eancias dos jogadores devidamente, problema que veio a ocorrer ap\u00f3s atualiza\u00e7\u00f5es recentes.\n+Implementado requisi\u00e7\u00e3o de sa\u00edda de minigames ap\u00f3s fim de partida.\n+Corrigido possibilidade de minigames entregando mais de um resultado cada partida (jogadores podem decidir desistir em conjunto, somando pontos).\n+Corrigido nega\u00e7\u00e3o de empate em minigame pelo outro jogador n\u00e3o permitindo o mesmo lan\u00e7ar um pedido de empate em sequ\u00eancia.\n\\ No newline at end of file"}, {"sha": "fed88871acd017a3d4284c1e5dacb1f33368eab8", "filename": "docs/npcmarkups.txt", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/docs/npcmarkups.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/docs/npcmarkups.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/npcmarkups.txt?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -1,4 +1,4 @@\n-Source: http://metropi.forumotion.net/t32-npc-scripting-guide-from-ragezone\n+Source: http://forum.ragezone.com/f428/add-npc-scripting-605225/\n \n NPC Markups:\n #b = Blue text."}, {"sha": "cf013b98d5914def137fda0c5d7f6339722c76b9", "filename": "handbook/Equip/Weapon.txt", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/handbook/Equip/Weapon.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/handbook/Equip/Weapon.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/handbook/Equip/Weapon.txt?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -402,7 +402,7 @@\n 1402044 - Pumpkin Lantern - (no description)\n 1402045 - Tiger's Fang - (no description)\n 1402046 - Timeless Nibleheim - (no description)\n-1402048 - Raven's Wing  - (no description)\n+1402048 - Raven's Wing - (no description)\n 1402049 - Night Raven's Wing - (no description)\n 1402050 - Dawn Raven's Wing  - (no description)\n 1402051 - Dusk Raven's Wing - (no description)"}, {"sha": "37f96fee60fef7e2c9593c5ab5fc948c0ff67666", "filename": "handbook/Use.txt", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/handbook/Use.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/handbook/Use.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/handbook/Use.txt?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -446,10 +446,10 @@\n 2040303 - Scroll for Earring for INT - Improves INT on ear accessory.\\nSuccess rate:30%, magic attack +5, INT+3, magic def. +1\n 2040304 - Dark scroll for Earring for INT - Improves INT on ear accessory.\\nSuccess rate:70%, magic attack +2, INT+1nIf failed, the item will be destroyed at a 50% rate.\n 2040305 - Dark scroll for Earring for INT - Improves INT on ear accessory.\\nSuccess rate:30%, magic attack +5, INT+3, magic def. +1nIf failed, the item will be destroyed at a 50% rate.\n-2040306 - Dark scroll for Earring for DEX - Improves DEX on ear accesrroy.\\nSuccess rate: 70%. DEX + 2nIf failed, the item will be destroyed at a 50% rate.\n+2040306 - Dark scroll for Earring for DEX - Improves DEX on ear accessory.\\nSuccess rate: 70%. DEX + 2nIf failed, the item will be destroyed at a 50% rate.\n 2040307 - Dark scroll for Earring for DEX - Improves DEX on ear accessorynSuccess rate: 30%. DEX + 3nIf failed, the item will be destroyed at a 50% rate.\n-2040308 - Dark Scroll for Earrings for DEF - Improves DEF on earringsnSuccess Rate 70%, weapon defense+1, magic defense+1nIf failed, the item will be destroyed at a 50% rate.\n-2040309 - Dark Scroll for Earrings for DEF - Improves DEF on earringsnSuccess Rate 30%, weapon defense+3, magic defense+3, accuracy+1nIf failed, the item will be destroyed at a 50% rate.\n+2040308 - Dark Scroll for Earring for DEF - Improves DEF on earringsnSuccess Rate 70%, weapon defense+1, magic defense+1nIf failed, the item will be destroyed at a 50% rate.\n+2040309 - Dark Scroll for Earring for DEF - Improves DEF on earringsnSuccess Rate 30%, weapon defense+3, magic defense+3, accuracy+1nIf failed, the item will be destroyed at a 50% rate.\n 2040310 - Scroll for Earring for DEF - Improves DEF on earrings.\\nSuccess Rate 10%, weapon defense+3, magic defense+3, Accuracy+1. The success rate of this scroll can be enhanced by Vega's Spell.\n 2040311 - Scroll for Earring for DEF - Improves DEF on earrings.\\nSuccess Rate 60%, weapon defense+1, magic defense+1. The success rate of this scroll can be enhanced by Vega's Spell.\n 2040312 - Scroll for Earring for DEF - Improves DEF on earringsnSuccess Rate 100%, weapon defense+1\n@@ -952,8 +952,8 @@\n 2070009 - Wooden Top - When thrown, it spins fast and flies at great speed. Once they are all used up, they need to be recharged.\\nLevel Limit : 10, Attack + 19\n 2070010 - Icicle - Sharp icicles. Once they run out, they need to be recharged.rnLevel Limit : 10, Attack + 21\n 2070011 - Maple Throwing-Stars - Maple-shaped steel throwing-stars. Once they run out, they need to be recharged.rnLevel Limit : 10, Attack + 21\n-2070012 - Paper Fighter Plane - A paper plane that can be thrown at things. Once they run out, they need to be recharged. Attack +20\n-2070013 - Orange - A tasty orange that can be thrown at things. Attack + 20\n+2070012 - Paper Fighter Plane - A paper plane that can be thrown at things. Once they run out, they need to be recharged.\\nAttack +20\n+2070013 - Orange - A tasty orange that can be thrown at things.\\nAttack + 20\n 2070014 - Devil Rain Throwing Star - Throwing Star\n 2070015 - A Beginner Thief's Throwing Stars - These are steel throwing stars given by Dark Lord for Beginner Thieves. Unlike normal throwing stars, you can't recharge it. \\nAttack + 15\n 2070016 - Crystal Ilbi Throwing-Stars - A throwing-star made of crystal. Once they run out, they need to be recharged. rnAttack + 29\n@@ -1810,8 +1810,8 @@\n 2044812 - Scroll for Knuckles for ATT 15% - Improves ATT on Knuckles.\\nSuccess Rate:15%, Weapon Att+5, STR+3, Weapon DEF+1\n 2044813 - Scroll for Knuckles for Accuracy 65% - Improves Accuracy on Knuckles.\\nSuccess Rate:65%, Accuracy+3, DEX+2, Weapon Att+1\n 2044814 - Scroll for Knuckles for Accuracy 15% - Improves Accuracy on Knuckles.\\nSuccess Rate:15%, Accuracy+5, DEX+3, Weapon Att+3\n-2044906 - Gun ATT Scroll 65% - Improves ATT on guns.\\nSuccess Rate:65%, Weapon Att.+2, Accuracy+1\n-2044907 - Gun ATT Scroll 15% - Improves ATT on guns.\\nSuccess Rate:15%, Weapon Att.+5, Accuracy+3, DEX+1\n+2044906 - Scroll for Gun for ATT 65% - Improves ATT on guns.\\nSuccess Rate:65%, Weapon Att.+2, Accuracy+1\n+2044907 - Scroll for Gun for ATT 15% - Improves ATT on guns.\\nSuccess Rate:15%, Weapon Att.+5, Accuracy+3, DEX+1\n 2049103 - Beach Sandals Scroll 100% - Used on limited-edition beach sandals, with the options of improving/decreasing the stats.\\nSuccess rate:100%\n 2100073 - Mu Lung Dojo Summon Package3_Deo - Summon Deo\n 2100074 - Mu Lung Dojo Summon Package4_King Slime - Summon King Slime\n@@ -2017,7 +2017,7 @@\n 2044015 - Scroll for Two-Handed Swords for ATT 10% - Improves ATT on Two-Handed Swords. nSuccess rate: 10%, Weapons ATT +5, STR +3, Weapons Defense +1\n 2049105 - [6th Anniversary] Dark Scroll for Gloves for ATT 70% - Improves ATT on Gloves. nSuccess rate: 70%, Weapons ATT +1nIf unsuccessful, item has a 50% chance of being destroyed.\n 2049106 - [6th Anniversary] Dark Scroll for Gloves for ATT 30% - Improves ATT on Gloves. nSucces rate: 30%, Weapons ATT +2nIf unsuccessful, item has an 80% chance of being destroyed.\n-2049107 - [6th Anniversary] Dark Scroll for Gloves for STR 70%   [ - Improves STR on Gloves. nSuccess rate: 70%, Accuracy +2, STR +1nIf unsuccessful, item has a 50% chance of being destroyed.\n+2049107 - [6th Anniversary] Dark Scroll for Gloves for STR 70% - Improves STR on Gloves. nSuccess rate: 70%, Accuracy +2, STR +1nIf unsuccessful, item has a 50% chance of being destroyed.\n 2049108 - [6th Anniversary] Dark Scroll for Gloves for LUK 70% - Improves LUK on Gloves. nSuccess rate: 70%, Accuracy +2, LUK +1nIf unsuccessful, item has a 50% chance of being destroyed.\n 2049109 - [6th Anniversary] Dark Scroll for Gloves for INT 70% - Improves INT on Gloves. nSuccess rate: 70%, Accuracy +2, INT +1nIf unsuccessful, item has a 50% chance of being destroyed.\n 2049110 - [6th Anniversary] Dark Scroll for Gloves for DEX 70% - Improves DEX on Gloves. nSuccess rate: 70%, Accuracy +2, DEX +1nIf unsuccessful, item has a 50% chance of being destroyed."}, {"sha": "d29be7e5edde752ec5ee1ba2ecd62e84afcae143", "filename": "scripts/event/MK_PrimeMinister.js", "status": "modified", "additions": 30, "deletions": 14, "changes": 44, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/event/MK_PrimeMinister.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/event/MK_PrimeMinister.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/MK_PrimeMinister.js?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -86,29 +86,38 @@ function scheduledTimeout(eim){\n \teim.dispose();\n }\n \n-function playerRevive(eim, player){\n-\tplayer.respawn(eim, entryMap);\n-\treturn false;\n+function playerRevive(eim, player) { // player presses ok on the death pop up.\n+        if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                eim.unregisterPlayer(player);\n+                end(eim);\n+        }\n+        else\n+                eim.unregisterPlayer(player);\n }\n \n function playerDead(eim, player){}\n \n function playerDisconnected(eim, player){\n-\tvar party = eim.getPlayers();\n-\n-\tfor(var i = 0; i < party.size(); i++){\n-\t\tif(party.get(i).equals(player))\n-\t\t\tremovePlayer(eim, player);\n-\t\telse\n-\t\t\tplayerExit(eim, party.get(i));\n-\t}\n-\teim.dispose();\n+\tif (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                eim.unregisterPlayer(player);\n+                end(eim);\n+        }\n+        else\n+                eim.unregisterPlayer(player);\n }\n \n function monsterValue(eim, mobId){\n \treturn -1;\n }\n \n+function end(eim) {\n+        var party = eim.getPlayers();\n+        for (var i = 0; i < party.size(); i++) {\n+                playerExit(eim, party.get(i));\n+        }\n+        eim.dispose();\n+}\n+\n function leftParty(eim, player){}\n \n function disbandParty(eim){}\n@@ -120,8 +129,15 @@ function playerExit(eim, player){\n \tplayer.changeMap(exitMap, 2);\n }\n \n-function changedMap(eim, chr, mapid) {\n-        if(mapid < minMapId || mapid > maxMapId) playerExit(eim, chr);\n+function changedMap(eim, player, mapid) {\n+        if (mapid < minMapId || mapid > maxMapId) {\n+                if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                        eim.unregisterPlayer(player);\n+                        end(eim);\n+                }\n+                else\n+                        eim.unregisterPlayer(player);\n+        }\n }\n \n function removePlayer(eim, player){"}, {"sha": "32e2788366d490801c2fdee9b424bd8360bf91db", "filename": "scripts/event/MK_PrimeMinister2.js", "status": "modified", "additions": 29, "deletions": 13, "changes": 42, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/event/MK_PrimeMinister2.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/event/MK_PrimeMinister2.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/MK_PrimeMinister2.js?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -77,29 +77,38 @@ function scheduledTimeout(eim){\n \teim.dispose();\n }\n \n-function playerRevive(eim, player){\n-\tplayer.respawn(eim, entryMap);\n-\treturn false;\n+function playerRevive(eim, player) { // player presses ok on the death pop up.\n+        if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                eim.unregisterPlayer(player);\n+                end(eim);\n+        }\n+        else\n+                eim.unregisterPlayer(player);\n }\n \n function playerDead(eim, player){}\n \n function playerDisconnected(eim, player){\n-\tvar party = eim.getPlayers();\n-\n-\tfor(var i = 0; i < party.size(); i++){\n-\t\tif(party.get(i).equals(player))\n-\t\t\tremovePlayer(eim, player);\n-\t\telse\n-\t\t\tplayerExit(eim, party.get(i));\n-\t}\n-\teim.dispose();\n+\tif (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                eim.unregisterPlayer(player);\n+                end(eim);\n+        }\n+        else\n+                eim.unregisterPlayer(player);\n }\n \n function monsterValue(eim, mobId){\n \treturn -1;\n }\n \n+function end(eim) {\n+        var party = eim.getPlayers();\n+        for (var i = 0; i < party.size(); i++) {\n+                playerExit(eim, party.get(i));\n+        }\n+        eim.dispose();\n+}\n+\n function leftParty(eim, player){}\n \n function disbandParty(eim){}\n@@ -112,7 +121,14 @@ function playerExit(eim, player){\n }\n \n function changedMap(eim, chr, mapid) {\n-        if(mapid < minMapId || mapid > maxMapId) playerExit(eim, chr);\n+        if (mapid < minMapId || mapid > maxMapId) {\n+                if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                        eim.unregisterPlayer(player);\n+                        end(eim);\n+                }\n+                else\n+                        eim.unregisterPlayer(player);\n+        }\n }\n \n function removePlayer(eim, player){"}, {"sha": "bb676f4a2f0a021d77e50b8a72be27c594d97a3f", "filename": "scripts/item/killarmush.js", "status": "added", "additions": 55, "deletions": 0, "changes": 55, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/item/killarmush.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/item/killarmush.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/item/killarmush.js?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -0,0 +1,55 @@\n+/*\n+    This file is part of the HeavenMS MapleStory Server\n+    Copyleft (L) 2016 - 2018 RonanLana\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+\n+var status;\n+ \n+function start() {\n+        status = -1;\n+        action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+    if (mode == -1) {\n+        im.dispose();\n+    } else {\n+        if (mode == 0 && type > 0) {\n+            im.dispose();\n+            return;\n+        }\n+        if (mode == 1)\n+            status++;\n+        else\n+            status--;\n+\n+        if(status == 0) {\n+            if (im.getMapId() == 106020300) {\n+                var portal = im.getMap().getPortal(\"obstacle\");\n+                if (portal != null && portal.getPosition().distance(im.getPlayer().getPosition()) < 210) {\n+                    if(!(im.isQuestStarted(100202) || im.isQuestCompleted(100202))) im.startQuest(100202);\n+                    im.removeAll(2430014);\n+\n+                    im.message(\"You have used the Killer Mushroom Spore to open the way.\");\n+                }\n+            }\n+            \n+            im.dispose();\n+        }\n+    }\n+}"}, {"sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391", "filename": "scripts/item/openTreasure.txt", "status": "removed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/89eca2995b1b6bbfe07eb923e257000bab6c5f17/scripts/item/openTreasure.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/89eca2995b1b6bbfe07eb923e257000bab6c5f17/scripts/item/openTreasure.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/item/openTreasure.txt?ref=89eca2995b1b6bbfe07eb923e257000bab6c5f17"}, {"sha": "aaec8890800758ae70d9c5c089756e03a1576456", "filename": "scripts/item/removethorns.js", "status": "added", "additions": 58, "deletions": 0, "changes": 58, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/item/removethorns.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/item/removethorns.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/item/removethorns.js?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -0,0 +1,58 @@\n+/*\n+    This file is part of the HeavenMS MapleStory Server\n+    Copyleft (L) 2016 - 2018 RonanLana\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+\n+var status;\n+ \n+function start() {\n+        status = -1;\n+        action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+    if (mode == -1) {\n+        im.dispose();\n+    } else {\n+        if (mode == 0 && type > 0) {\n+            im.dispose();\n+            return;\n+        }\n+        if (mode == 1)\n+            status++;\n+        else\n+            status--;\n+\n+        if(status == 0) {\n+            if (im.getMapId() == 106020400 && im.isQuestActive(2324)) {\n+                var player = im.getPlayer();\n+                \n+                var portal = im.getMap().getPortal(\"right00\");\n+                if (portal != null && portal.getPosition().distance(player.getPosition()) < 210) {\n+                    player.gainExp(3300 * player.getExpRate());\n+\n+                    im.forceCompleteQuest(2324);\n+                    im.removeAll(2430015);\n+                    im.playerMessage(5, \"You have used the Thorn Remover to clear the path.\");\n+                }\n+            }\n+            \n+            im.dispose();\n+        }\n+    }\n+}"}, {"sha": "9a5429bf7ade94586cf8e054316b4207f1321bdc", "filename": "scripts/npc/2030008.js", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/npc/2030008.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/npc/2030008.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2030008.js?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -59,7 +59,12 @@ function action(mode, type, selection) {\n         }\n         \n         if(!(cm.isQuestStarted(100200) || cm.isQuestCompleted(100200))) {   // thanks Vcoc for finding out a need of reapproval from the masters for Zakum expeditions\n-            cm.sendOk(\"Beware, for the power of olde has not been forgotten... \");\n+            if (cm.getPlayer().getLevel() >= 50) {  // thanks Z1peR for noticing not-so-clear unmet requirements message here.\n+                cm.sendOk(\"Beware, for the power of olde has not been forgotten... If you seek to defeat #rZakum#k someday, earn the #bChief's Residence Council#k approval foremost and then #bface the trials#k, only then you will become eligible to fight.\");\n+            } else {\n+                cm.sendOk(\"Beware, for the power of olde has not been forgotten...\");\n+            }\n+            \n             cm.dispose();\n             return;\n         }"}, {"sha": "297419a158436e237550a7fab86652bfb98990c9", "filename": "scripts/npc/2082014.js", "status": "renamed", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/npc/2082014.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/npc/2082014.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2082014.js?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -39,7 +39,14 @@ function action(mode, type, selection) {\n                         status--;\n     \n                 if(status == 0) {\n-                        cm.sendOk(\"We've already located the enemy's ultimate weapon! Follow along the ship's bow area ahead and you will find my sister #b#p2082013##k. Report to her for futher instructions on the mission.\");\n+                        if (Packages.constants.ServerConstants.USE_ENABLE_CUSTOM_NPC_SCRIPT) {\n+                                cm.openShopNPC(2082014);\n+                        } else if (cm.isQuestStarted(3749)) {\n+                                cm.sendOk(\"We've already located the enemy's ultimate weapon! Follow along the ship's bow area ahead and you will find my sister #b#p2082013##k. Report to her for futher instructions on the mission.\");\n+                        } else {\n+                                cm.sendDefault();\n+                        }\n+                        \n                         cm.dispose();\n                 }\n         }", "previous_filename": "scripts/npc/2082014_script.js"}, {"sha": "c2fecb4580deca7951f01adc990b05a8f3afd2bc", "filename": "scripts/npc/9201101.js", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/npc/9201101.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/npc/9201101.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201101.js?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -4,11 +4,12 @@\n  */\n  \n function start() {\n-    if(Packages.server.MapleShopFactory.getInstance().getShop(9201101) != null) {\n+    if (Packages.constants.ServerConstants.USE_ENABLE_CUSTOM_NPC_SCRIPT) {\n         cm.openShopNPC(9201101);\n     } else {\n-        cm.sendOk(\"The patrol in New Leaf City is always ready. No creatures are able to break through to the city.\");\n+        //cm.sendOk(\"The patrol in New Leaf City is always ready. No creatures are able to break through to the city.\");\n+        cm.sendDefault();\n     }\n-    \n+\n     cm.dispose();\n }"}, {"sha": "ed1e5eb243a298f47ae253de0186ddc53b21fd3e", "filename": "scripts/npc/9977777.js", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/npc/9977777.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/npc/9977777.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9977777.js?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -60,6 +60,7 @@ function writeFeatureTab_Skills() {\n         addFeature(\"Maker skill features properly developed.\");\n         addFeature(\"Chair Mastery - map chair boosts HP/MP rec.\");\n         addFeature(\"Mu Lung Dojo skills functional.\");\n+        addFeature(\"Monster Magnet skill no longer crashes players.\");\n }\n \n function writeFeatureTab_Quests() {\n@@ -72,6 +73,7 @@ function writeFeatureTab_Quests() {\n         addFeature(\"Reviewed several 4th job skill questlines.\");\n         addFeature(\"Rewarding system now looks up for item stacking.\");\n         addFeature(\"3rd job quiz with all 40-question pool available.\");\n+        addFeature(\"Item raising functional.\");\n }\n \n function writeFeatureTab_PlayerSocialNetwork() {\n@@ -113,6 +115,7 @@ function writeFeatureTab_CashItems() {\n         addFeature(\"Reviewed an pet position issue within CASH inventory.\");\n         addFeature(\"Reviewed fashion-related contents, almost GMS-like.\");\n         addFeature(\"Plastic surgeons/stylists no longer stuck characters.\");\n+        addFeature(\"Reworked gachapon loots, website-lists lookalike.\");\n         addFeature(\"Scroll for Spikes on Shoes.\");\n         addFeature(\"Scroll for Cold Protection.\");\n         addFeature(\"Vega's spell.\");"}, {"sha": "5913301043bdf3a83afac0b4cf8338dd51a42352", "filename": "scripts/npc/gachapon.js", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/npc/gachapon.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/npc/gachapon.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/gachapon.js?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -26,12 +26,12 @@\n \n var status;\n var ticketId = 5220000;\n-var mapName = [\"Henesys\", \"Ellinia\", \"Perion\", \"Kerning City\", \"Sleepywood\", \"Mushroom Shrine\", \"Showa Spa (M)\", \"Showa Spa (F)\", \"New Leaf City\", \"Nautilus\"];\n+var mapName = [\"Henesys\", \"Ellinia\", \"Perion\", \"Kerning City\", \"Sleepywood\", \"Mushroom Shrine\", \"Showa Spa (M)\", \"Showa Spa (F)\", \"Ludibrium\", \"New Leaf City\", \"El Nath\", \"Nautilus\"];\n var curMapName = \"\";\n \n function start() {\n     status = -1;\n-\tcurMapName = mapName[(cm.getNpc() != 9100117 && cm.getNpc() != 9100109) ? (cm.getNpc() - 9100100) : cm.getNpc() == 9100109 ? 8 : 9];\n+\tcurMapName = mapName[(cm.getNpc() != 9100117 && cm.getNpc() != 9100109) ? (cm.getNpc() - 9100100) : cm.getNpc() == 9100109 ? 9 : 11];\n \t\n     action(1, 0, 0);\n }"}, {"sha": "9b1aeccc1ffab302d02d4d2c6137d39438212f12", "filename": "scripts/npc/gachaponInfo.js", "status": "added", "additions": 60, "deletions": 0, "changes": 60, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/npc/gachaponInfo.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/npc/gachaponInfo.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/gachaponInfo.js?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -0,0 +1,60 @@\n+/*\n+    This file is part of the HeavenMS MapleStory Server\n+    Copyleft (L) 2016 - 2018 RonanLana\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+/**\n+ * @author: Ronan\n+ * @npc: Pio\n+ * @func: Gachapon Loot Announcer\n+*/\n+\n+var status;\n+var gachaMessages;\n+ \n+function start() {\n+        gachaMessages = Packages.server.gachapon.MapleGachapon.Gachapon.getLootInfo();\n+        gachas = Packages.server.gachapon.MapleGachapon.Gachapon.values();\n+    \n+        status = -1;\n+        action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+        if (mode == -1) {\n+                cm.dispose();\n+        } else {\n+                if (mode == 0 && type > 0) {\n+                        cm.dispose();\n+                        return;\n+                }\n+                if (mode == 1)\n+                        status++;\n+                else\n+                        status--;\n+    \n+                if (status == 0) {\n+                        var sendStr = \"Hi, #r#p\" + cm.getNpc() + \"##k here! I'm announcing all obtainable loots from the Gachapons. Which Gachapon machine would you like to look?\\r\\n\\r\\n#b\" + gachaMessages[0] + \"#k\";\n+                        cm.sendSimple(sendStr);\n+                } else if(status == 1) {\n+                        var sendStr = \"Loots from #b\" + gachas[selection].name() + \"#k:\\r\\n\\r\\n\" + gachaMessages[selection + 1];\n+                        cm.sendPrev(sendStr);\n+                } else if(status == 2) {\n+                        cm.dispose();\n+                }\n+        }\n+}\n\\ No newline at end of file"}, {"sha": "a0f5dfc58d7169361d5c3c092337bf87ac179ce9", "filename": "scripts/portal/TD_MC_enterboss2.js", "status": "modified", "additions": 19, "deletions": 13, "changes": 32, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/portal/TD_MC_enterboss2.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/portal/TD_MC_enterboss2.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/TD_MC_enterboss2.js?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -22,17 +22,20 @@ function enter(pi) {\n     else if(pi.isQuestStarted(2332) && pi.hasItem(4032388)){\n         pi.forceCompleteQuest(2332, 1300002);\n         pi.getPlayer().message(\"You've found the princess!\");\n-        pi.giveCharacterExp(4400 * 1.5, pi.getPlayer());\n+        pi.giveCharacterExp(4400, pi.getPlayer());\n         \n         var em = pi.getEventManager(\"MK_PrimeMinister\");\n         var party = pi.getPlayer().getParty();\n         if (party != null) {\n-            if (em.startInstance(party, pi.getMap())) {\n-                pi.playPortalSound();\n-                return true;\n-            } else {\n-                pi.message(\"Another party is already challenging the boss in this channel.\");\n-                return false;\n+            var eli = em.getEligibleParty(pi.getParty());   // thanks Conrad for pointing out missing eligible party declaration here\n+            if(eli.size() > 0) {\n+                if (em.startInstance(party, pi.getMap())) {\n+                    pi.playPortalSound();\n+                    return true;\n+                } else {\n+                    pi.message(\"Another party is already challenging the boss in this channel.\");\n+                    return false;\n+                }\n             }\n         } else {\n             if (em.startInstance(pi.getPlayer())) { // thanks RedHat for noticing an issue here\n@@ -49,12 +52,15 @@ function enter(pi) {\n         \n         var party = pi.getPlayer().getParty();\n         if (party != null) {\n-            if (em.startInstance(1, party, pi.getMap())) {\n-                pi.playPortalSound();\n-                return true;\n-            } else {\n-                pi.message(\"Another party is already challenging the boss in this channel.\");\n-                return false;\n+            var eli = em.getEligibleParty(pi.getParty());\n+            if(eli.size() > 0) {\n+                if (em.startInstance(1, party, pi.getMap())) {\n+                    pi.playPortalSound();\n+                    return true;\n+                } else {\n+                    pi.message(\"Another party is already challenging the boss in this channel.\");\n+                    return false;\n+                }\n             }\n         } else {\n             if (em.startInstance(pi.getPlayer())) {"}, {"sha": "8bc5a0e86a7bbaf6d6c31708c4e7986a944fefc0", "filename": "scripts/portal/dragonNest.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/portal/dragonNest.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/portal/dragonNest.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/dragonNest.js?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -20,7 +20,7 @@\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n function enter(pi) {\n-        if(!pi.isQuestCompleted(3706)) {\n+        if (!pi.isQuestStarted(100203)) { // thanks Conrad for suggesting grant players access to area with Nein Spirit's Baby Dragon after hatching egg\n             pi.playPortalSound(); pi.warp(240040611, \"out00\");\n         } else {\n             pi.playPortalSound(); pi.warp(240040612, \"out00\");"}, {"sha": "e8c99de3799d3fb54d4ef0cba30fcf6e6afccc9e", "filename": "scripts/portal/go_secretroom.js", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/portal/go_secretroom.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/portal/go_secretroom.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/go_secretroom.js?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -1,13 +1,12 @@\n function enter(pi) {\n-\t\n-\tif(!pi.isQuestStarted(2335) || (pi.isQuestStarted(2335) && !pi.hasItem(4032405))){\n+\tif(!pi.isQuestCompleted(2335) && !(pi.isQuestStarted(2335) && pi.hasItem(4032405))){\n \t\tpi.getPlayer().message(\"The door is locked securely. I will need a key if I want to go in there.\");\n \t\treturn false;\n \t}\n \n-\tif(pi.isQuestStarted(2335) && pi.hasItem(4032405)){\n+\tif(pi.isQuestStarted(2335)){\n \t\tpi.forceCompleteQuest(2335, 1300002);\n-\t\tpi.giveCharacterExp(5000 * 1.5, pi.getPlayer());\n+\t\tpi.giveCharacterExp(5000, pi.getPlayer());\n \t\tpi.gainItem(4032405, -1);\n \t}\n \tpi.playPortalSound();"}, {"sha": "a4603d74dabb92300617cc782d569d547e43b129", "filename": "scripts/portal/gotocastle.js", "status": "modified", "additions": 7, "deletions": 10, "changes": 17, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/portal/gotocastle.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/portal/gotocastle.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/gotocastle.js?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -1,12 +1,9 @@\n function enter(pi) {\n-\tif (pi.isQuestActive(2324)) {\n-            var player = pi.getPlayer();\n-            player.gainExp(3300 * player.getExpRate());\n-            \n-\t    pi.forceCompleteQuest(2324);\n-\t    pi.removeAll(2430015);\n-\t    pi.playerMessage(5, \"You have used the Thorn Remover to clear the path.\");\n-\t}\n-\tpi.playPortalSound(); pi.warp(106020501,0);\n-\treturn true;\n+    if (pi.isQuestCompleted(2324)) {\n+        pi.playPortalSound(); pi.warp(106020501,0);\n+        return true;\n+    } else {\n+        pi.playerMessage(5, \"The path ahead is covered with sprawling vine thorns, only a Thorn Remover to clear this out...\");\n+        return false;\n+    }\n }\n\\ No newline at end of file"}, {"sha": "6a0b0476aeb1545200abf6426aaed3369b947802", "filename": "scripts/portal/obstacle.js", "status": "modified", "additions": 4, "deletions": 9, "changes": 13, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/portal/obstacle.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/portal/obstacle.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/obstacle.js?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -5,17 +5,12 @@\n  */\n  \n  function enter(pi){\n- \tif (pi.isQuestCompleted(2316)) {\n- \t\tif (pi.hasItem(2430014)) {\n- \t\t\tpi.gainItem(2430014, -1 * pi.getPlayer().getItemQuantity(2430014, false));\n-                        pi.message(\"You have used the Killer Mushroom Spore to open the way.\");\n- \t\t}\n- \n+ \tif (pi.isQuestStarted(100202)) {\n  \t\tpi.playPortalSound(); pi.warp(106020400, 2);\n  \t\treturn true;\n- \t} else if (pi.hasItem(2430015)) {\n-                pi.gainItem(2430015, -1 * pi.getPlayer().getItemQuantity(2430015, false));\n-                pi.message(\"You have used the Thorn Remover to clean the way.\");\n+ \t} else if (pi.hasItem(4000507)) {\n+                pi.gainItem(4000507, -1);\n+                pi.message(\"You have used a Poison Spore to pass through the barrier.\");\n                 \n                 pi.playPortalSound(); pi.warp(106020400, 2);\n                 return true;"}, {"sha": "ad81c409a6b5d4ec8056cd8de7223022bfa66ba9", "filename": "scripts/quest/2332.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/quest/2332.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/quest/2332.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/quest/2332.js?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -8,7 +8,7 @@ var status = -1;\n function start(mode, type, selection){\n \tif(qm.hasItem(4032388) && !qm.isQuestStarted(2332)){\n \t\tqm.forceStartQuest();\n-\t\tqm.getPlayer().showHint(\"I must find Violetta. (quest started)\");\n+\t\tqm.getPlayer().showHint(\"I must find Violetta!! (#bquest started#k)\");\n \t}\n \tqm.dispose();\n }"}, {"sha": "9b4fd1ab8d88ecddb68d3d58cc2ed5e373e43eb7", "filename": "scripts/reactor/2406000.js", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/reactor/2406000.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/scripts/reactor/2406000.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/reactor/2406000.js?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -18,6 +18,9 @@ function touch() {\n function untouch() {}\n \n function act() {\n+    rm.message(\"With your latest efforts the egg has matured and cracked, thus born a radiant baby dragon.\");\n+    rm.startQuest(100203);\n+    \n     rm.spawnNpc(2081008);\n     rm.schedule(\"sendToHeaven\", 12 * 1000);\n }\n\\ No newline at end of file"}, {"sha": "4af5189358b4081d0ba2411564b8661808f1578a", "filename": "sql/db_database.sql", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/sql/db_database.sql", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/sql/db_database.sql", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/sql/db_database.sql?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -16,8 +16,8 @@ CREATE TABLE IF NOT EXISTS `accounts` (\n   `id` int(11) NOT NULL AUTO_INCREMENT,\n   `name` varchar(13) NOT NULL DEFAULT '',\n   `password` varchar(128) NOT NULL DEFAULT '',\n-  `pin` varchar(10) DEFAULT NULL,\n-  `pic` varchar(26) DEFAULT NULL,\n+  `pin` varchar(10) NOT NULL DEFAULT '',\n+  `pic` varchar(26) NOT NULL DEFAULT '',\n   `loggedin` tinyint(4) NOT NULL DEFAULT '0',\n   `lastlogin` timestamp NULL DEFAULT NULL,\n   `createdat` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n@@ -9474,7 +9474,7 @@ INSERT IGNORE INTO `temp_data` (`dropperid`, `itemid`, `minimum_quantity`, `maxi\n (3300001, 4130009, 1, 1, 0, 6000),\n (3300001, 4130021, 1, 1, 0, 6000),\n (3300001, 4000500, 1, 1, 0, 600000),\n-(3300001, 4000507, 1, 1, 0, 600000),\n+(3300001, 4000507, 1, 1, 0, 100000),\n (3300001, 2044024, 1, 1, 0, 300),\n (3300001, 2044116, 1, 1, 0, 300),\n (3300001, 2382093, 1, 1, 0, 20000),"}, {"sha": "568041c0867d57716938fadd3fba474441761bfb", "filename": "sql/db_drops.sql", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/sql/db_drops.sql", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/sql/db_drops.sql", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/sql/db_drops.sql?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -2751,7 +2751,7 @@ USE `heavenms`;\n (3300000, 1082046, 1, 1, 0, 700), \n (3300000, 1002622, 1, 1, 0, 700), \n (3300001, 4000500, 1, 1, 0, 200000), \n-(3300001, 4000507, 1, 1, 0, 200000), \n+(3300001, 4000507, 1, 1, 0, 100000), \n (3300001, 4130021, 1, 1, 0, 3000), \n (3300001, 2382093, 1, 1, 0, 20000), \n (3300001, 2044701, 1, 1, 0, 750), "}, {"sha": "4766373811c4b6ea40690df97914617e7c56c704", "filename": "sql/db_shopupdate.sql", "status": "modified", "additions": 75, "deletions": 74, "changes": 149, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/sql/db_shopupdate.sql", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/sql/db_shopupdate.sql", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/sql/db_shopupdate.sql?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -182,80 +182,81 @@ INSERT INTO `shopitems` ( `shopid`, `itemid`, `price`, `position`) VALUES\n (1337, 2100003, 1, 9),\n (1337, 2100002, 1, 10),\n (1337, 2100001, 1, 11),\n-(1337, 1002140, 1, 12),\n-(1337, 1042003, 1, 13),\n-(1337, 1062007, 1, 14),\n-(1337, 1322013, 1, 15),\n-(1337, 1072010, 1, 16),\n-(1337, 2022179, 1, 17),\n-(1337, 2022273, 1, 18),\n-(1337, 2041200, 1, 19),\n-(1337, 4006001, 1, 20),\n-(1337, 4001017, 1, 21),\n-(1337, 4031179, 1, 22),\n-(1337, 2070018, 1, 23),\n-(1337, 2060004, 1, 24),\n-(1337, 2061004, 1, 25),\n-(1337, 2330005, 1, 26),\n-(1337, 2332000, 1, 27),\n-(1337, 2331000, 1, 28),\n-(1337, 5072000, 1, 29),\n-(1337, 5390000, 1, 30),\n-(1337, 5390001, 1, 31),\n-(1337, 5390002, 1, 32),\n-(1337, 5390005, 1, 33),\n-(1337, 5390006, 1, 34),\n-(1337, 1492013, 1, 35),\n-(1337, 1482013, 1, 36),\n-(1337, 1452044, 1, 37),\n-(1337, 1472052, 1, 38),\n-(1337, 1462039, 1, 39),\n-(1337, 1332050, 1, 40),\n-(1337, 1312031, 1, 41),\n-(1337, 1322052, 1, 42),\n-(1337, 1302059, 1, 43),\n-(1337, 1442045, 1, 44),\n-(1337, 1432038, 1, 45),\n-(1337, 1382036, 1, 46),\n-(1337, 1412026, 1, 47),\n-(1337, 1422028, 1, 48),\n-(1337, 1402036, 1, 49),\n-(1337, 1372032, 1, 50),\n-(1337, 1122000, 1, 51),\n-(1337, 1082149, 1, 52),\n-(1337, 1912000, 1, 53),\n-(1337, 1902000, 1, 54),\n-(1337, 1902001, 1, 55),\n-(1337, 1902002, 1, 56),\n-(1337, 1912005, 1, 57),\n-(1337, 1902005, 1, 58),\n-(1337, 1902006, 1, 59),\n-(1337, 1902007, 1, 60),\n-(1337, 1912011, 1, 61),\n-(1337, 1902015, 1, 62),\n-(1337, 1902016, 1, 63),\n-(1337, 1902017, 1, 64),\n-(1337, 1902018, 1, 65),\n-(1337, 2044908, 1, 66),\n-(1337, 2044815, 1, 67),\n-(1337, 2044512, 1, 68),\n-(1337, 2044712, 1, 69),\n-(1337, 2044612, 1, 70),\n-(1337, 2043312, 1, 71),\n-(1337, 2043117, 1, 72),\n-(1337, 2043217, 1, 73),\n-(1337, 2043023, 1, 74),\n-(1337, 2044417, 1, 75),\n-(1337, 2044317, 1, 76),\n-(1337, 2043812, 1, 77),\n-(1337, 2044117, 1, 78),\n-(1337, 2044217, 1, 79),\n-(1337, 2044025, 1, 80),\n-(1337, 2043712, 1, 81),\n-(1337, 2340000, 1, 82),\n-(1337, 2040807, 1, 83),\n-(1337, 2210032, 1, 84),\n-(1337, 2050004, 1, 85);\n+(1337, 1002959, 1, 12),\n+(1337, 1002140, 1, 13),\n+(1337, 1042003, 1, 14),\n+(1337, 1062007, 1, 15),\n+(1337, 1322013, 1, 16),\n+(1337, 1072010, 1, 17),\n+(1337, 2022179, 1, 18),\n+(1337, 2022273, 1, 19),\n+(1337, 2041200, 1, 20),\n+(1337, 4006001, 1, 21),\n+(1337, 4001017, 1, 22),\n+(1337, 4031179, 1, 23),\n+(1337, 2070018, 1, 24),\n+(1337, 2060004, 1, 25),\n+(1337, 2061004, 1, 26),\n+(1337, 2330005, 1, 27),\n+(1337, 2332000, 1, 28),\n+(1337, 2331000, 1, 29),\n+(1337, 5072000, 1, 30),\n+(1337, 5390000, 1, 31),\n+(1337, 5390001, 1, 32),\n+(1337, 5390002, 1, 33),\n+(1337, 5390005, 1, 34),\n+(1337, 5390006, 1, 35),\n+(1337, 1492013, 1, 36),\n+(1337, 1482013, 1, 37),\n+(1337, 1452044, 1, 38),\n+(1337, 1472052, 1, 39),\n+(1337, 1462039, 1, 40),\n+(1337, 1332050, 1, 41),\n+(1337, 1312031, 1, 42),\n+(1337, 1322052, 1, 43),\n+(1337, 1302059, 1, 44),\n+(1337, 1442045, 1, 45),\n+(1337, 1432038, 1, 46),\n+(1337, 1382036, 1, 47),\n+(1337, 1412026, 1, 48),\n+(1337, 1422028, 1, 49),\n+(1337, 1402036, 1, 50),\n+(1337, 1372032, 1, 51),\n+(1337, 1122000, 1, 52),\n+(1337, 1082149, 1, 53),\n+(1337, 1912000, 1, 54),\n+(1337, 1902000, 1, 55),\n+(1337, 1902001, 1, 56),\n+(1337, 1902002, 1, 57),\n+(1337, 1912005, 1, 58),\n+(1337, 1902005, 1, 59),\n+(1337, 1902006, 1, 60),\n+(1337, 1902007, 1, 61),\n+(1337, 1912011, 1, 62),\n+(1337, 1902015, 1, 63),\n+(1337, 1902016, 1, 64),\n+(1337, 1902017, 1, 65),\n+(1337, 1902018, 1, 66),\n+(1337, 2044908, 1, 67),\n+(1337, 2044815, 1, 68),\n+(1337, 2044512, 1, 69),\n+(1337, 2044712, 1, 70),\n+(1337, 2044612, 1, 71),\n+(1337, 2043312, 1, 72),\n+(1337, 2043117, 1, 73),\n+(1337, 2043217, 1, 74),\n+(1337, 2043023, 1, 75),\n+(1337, 2044417, 1, 76),\n+(1337, 2044317, 1, 77),\n+(1337, 2043812, 1, 78),\n+(1337, 2044117, 1, 79),\n+(1337, 2044217, 1, 80),\n+(1337, 2044025, 1, 81),\n+(1337, 2043712, 1, 82),\n+(1337, 2340000, 1, 83),\n+(1337, 2040807, 1, 84),\n+(1337, 2210032, 1, 85),\n+(1337, 2050004, 1, 86);\n \n -- Thanks to DietStory v1.02 dev team\n INSERT INTO `shopitems` ( `shopid`, `itemid`, `price`, `pitch`, `position`) VALUES"}, {"sha": "903a05aa8bf76d3e1b78d1fc054fc796ffa09d55", "filename": "src/client/MapleCharacter.java", "status": "modified", "additions": 10, "deletions": 45, "changes": 55, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/client/MapleCharacter.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/client/MapleCharacter.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleCharacter.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -206,7 +206,7 @@\n     private transient int localstr, localdex, localluk, localint_, localmagic, localwatk;\n     private transient int equipmaxhp, equipmaxmp, equipstr, equipdex, equipluk, equipint_, equipmagic, equipwatk, localchairhp, localchairmp;\n     private int localchairrate;\n-    private boolean hidden, equipchanged = true, canDoor = true, berserk, hasMerchant, hasSandboxItem = false, whiteChat = false, canRecvPartySearchInvite = true;\n+    private boolean hidden, equipchanged = true, berserk, hasMerchant, hasSandboxItem = false, whiteChat = false, canRecvPartySearchInvite = true;\n     private boolean equippedMesoMagnet = false, equippedItemPouch = false, equippedPetItemIgnore = false;\n     private int linkedLevel = 0;\n     private String linkedName = null;\n@@ -961,7 +961,8 @@ public static boolean canCreateChar(String name) {\n     }\n \n     public boolean canDoor() {\n-        return canDoor;\n+        MapleDoor door = getPlayerDoor();\n+        return door == null || (door.isActive() && door.getElapsedDeployTime() > 5000);\n     }\n     \n     public void setHasSandboxItem() {\n@@ -2297,6 +2298,7 @@ public static boolean deleteCharFromDB(MapleCharacter player, int senderAccId) {\n                     }\n                     \n                     deleteQuestProgressWhereCharacterId(con, cid);\n+                    FredrickProcessor.removeFredrickLog(cid);   // thanks maple006 for pointing out the player's Fredrick items are not being deleted at character deletion\n                     \n                     try (PreparedStatement ps = con.prepareStatement(\"SELECT id FROM mts_cart WHERE cid = ?\")) {\n                             ps.setInt(1, cid);\n@@ -2521,19 +2523,6 @@ public void run() {\n         }, healInterval, healInterval);\n     }\n \n-    public void disableDoorSpawn() {\n-        canDoor = false;\n-        \n-        Runnable r = new Runnable() {\n-            @Override\n-            public void run() {\n-                canDoor = true;\n-            }\n-        };\n-        \n-        client.getChannelServer().registerOverallAction(mapid, r, 5000);\n-    }\n-\n     public void disbandGuild() {\n         if (guildid < 1 || guildRank != 1) {\n             return;\n@@ -3783,29 +3772,7 @@ private boolean cancelEffect(MapleStatEffect effect, boolean overwrite, long sta\n         }\n         \n         if (effect.isMagicDoor()) {\n-            MapleDoor destroyDoor = removePartyDoor(false);\n-            \n-            if (destroyDoor != null) {\n-                destroyDoor.getTarget().removeMapObject(destroyDoor.getAreaDoor());\n-                destroyDoor.getTown().removeMapObject(destroyDoor.getTownDoor());\n-                \n-                for (MapleCharacter chr : destroyDoor.getTarget().getCharacters()) {\n-                    destroyDoor.getAreaDoor().sendDestroyData(chr.getClient());\n-                }\n-                \n-                Collection<MapleCharacter> townChars = destroyDoor.getTown().getCharacters();\n-                for (MapleCharacter chr : townChars) {\n-                    destroyDoor.getTownDoor().sendDestroyData(chr.getClient());\n-                }\n-                if (destroyDoor.getTownPortal().getId() == 0x80) {\n-                    for (MapleCharacter chr : townChars) {\n-                        MapleDoor door = chr.getMainTownDoor();\n-                        if (door != null) {\n-                            destroyDoor.getTownDoor().sendSpawnData(chr.getClient());\n-                        }\n-                    }\n-                }\n-            }\n+            MapleDoor.attemptRemoveDoor(this);\n         } else if (effect.isMapChair()) {\n             stopChairTask();\n         }\n@@ -4559,7 +4526,7 @@ public void applyPartyDoor(MapleDoor door, boolean partyUpdate) {\n         silentPartyUpdateInternal(chrParty);\n     }\n     \n-    private MapleDoor removePartyDoor(boolean partyUpdate) {\n+    public MapleDoor removePartyDoor(boolean partyUpdate) {\n         MapleDoor ret = null;\n         MapleParty chrParty;\n         \n@@ -5356,7 +5323,7 @@ public void closePlayerInteractions() {\n         closeNpcShop();\n         closeTrade();\n         closePlayerShop();\n-        closeMiniGame();\n+        closeMiniGame(true);\n         closeHiredMerchant(false);\n         closePlayerMessenger();\n         \n@@ -5398,18 +5365,16 @@ public void closePlayerShop() {\n         this.setPlayerShop(null);\n     }\n     \n-    public void closeMiniGame() {\n+    public void closeMiniGame(boolean forceClose) {\n         MapleMiniGame game = this.getMiniGame();\n         if (game == null) {\n             return;\n         }\n         \n-        this.setMiniGame(null);\n         if (game.isOwner(this)) {\n-            this.getMap().broadcastMessage(MaplePacketCreator.removeMinigameBox(this));\n-            game.broadcastToVisitor(MaplePacketCreator.getMiniGameClose(3));\n+            game.closeRoom(forceClose);\n         } else {\n-            game.removeVisitor(this);\n+            game.removeVisitor(forceClose, this);\n         }\n     }\n     "}, {"sha": "67589efabbf6343dabcf59e5d00c89e6396e6ec3", "filename": "src/client/MapleClient.java", "status": "modified", "additions": 10, "deletions": 4, "changes": 14, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/client/MapleClient.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/client/MapleClient.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleClient.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -109,11 +109,11 @@\n \tprivate Map<String, ScriptEngine> engines = new HashMap<>();\n \tprivate byte characterSlots = 3;\n \tprivate byte loginattempt = 0;\n-\tprivate String pin = null;\n+\tprivate String pin = \"\";\n \tprivate int pinattempt = 0;\n-\tprivate String pic = null;\n-\tprivate String hwid = null;\n+\tprivate String pic = \"\";\n \tprivate int picattempt = 0;\n+        private String hwid = null;\n         private byte csattempt = 0;\n \tprivate byte gender = -1;\n \tprivate boolean disconnecting = false;\n@@ -480,6 +480,10 @@ public String getPin() {\n \t}\n \n \tpublic boolean checkPin(String other) {\n+                if (!(ServerConstants.ENABLE_PIN && !canBypassPin())) {\n+                        return true;\n+                }\n+                \n \t\tpinattempt++;\n \t\tif (pinattempt > 5) {\n                         MapleSessionCoordinator.getInstance().closeSession(session, false);\n@@ -521,7 +525,7 @@ public boolean checkPic(String other) {\n \t\tif (picattempt > 5) {\n \t\t\tMapleSessionCoordinator.getInstance().closeSession(session, false);\n \t\t}\n-\t\tif (pic.equals(other)) {\n+\t\tif (pic.equals(other)) {    // thanks ryantpayton (HeavenClient) for noticing null pics being checked here\n \t\t\tpicattempt = 0;\n                         MapleLoginBypassCoordinator.getInstance().registerLoginBypassEntry(getNibbleHWID(), accId, true);\n \t\t\treturn true;\n@@ -1485,6 +1489,8 @@ public void changeChannel(int channel) {\n \t\tplayer.getMap().removePlayer(player);\n                 player.clearBanishPlayerData();\n \t\tplayer.getClient().getChannelServer().removePlayer(player);\n+                \n+                player.saveCharToDB();\n \t\t\n                 player.getClient().updateLoginState(MapleClient.LOGIN_SERVER_TRANSITION);\n \t\tplayer.setSessionTransitionState();"}, {"sha": "04f0f672c5c1156a9c2b8630d6d64b4c8dec979f", "filename": "src/client/autoban/AutobanFactory.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/client/autoban/AutobanFactory.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/client/autoban/AutobanFactory.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/autoban/AutobanFactory.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -85,7 +85,7 @@ public void addPoint(AutobanManager ban, String reason) {\n \t\n \tpublic void alert(MapleCharacter chr, String reason) {\n             if(ServerConstants.USE_AUTOBAN == true) {\n-\t\tif (chr != null && MapleLogger.ignored.contains(chr.getName())){\n+\t\tif (chr != null && MapleLogger.ignored.contains(chr.getId())){\n \t\t\treturn;\n \t\t}\n \t\tServer.getInstance().broadcastGMMessage((chr != null ? chr.getWorld() : 0), MaplePacketCreator.sendYellowTip((chr != null ? MapleCharacter.makeMapleReadable(chr.getName()) : \"\") + \" caused \" + this.name() + \" \" + reason));"}, {"sha": "14d8f2537083a70d09278fac036bb07b595a2e0d", "filename": "src/client/autoban/AutobanManager.java", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/client/autoban/AutobanManager.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/client/autoban/AutobanManager.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/autoban/AutobanManager.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -119,9 +119,9 @@ public void setTimestamp(int type, int time, int times) {\n                 \n                 FilePrinter.print(FilePrinter.EXPLOITS, \"Player \" + chr + \" was caught spamming TYPE \" + type + \" and has been disconnected.\");\n             }\n-            return;\n+        } else {\n+            this.timestamp[type] = time;\n+            this.timestampcounter[type] = 0;\n         }\n-        this.timestamp[type] = time;\n-        this.timestampcounter[type] = 0;\n     }\n }"}, {"sha": "8317c4fd573bf923f6cbcf4a79c7665330def624", "filename": "src/client/command/CommandsExecutor.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/client/command/CommandsExecutor.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/client/command/CommandsExecutor.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/CommandsExecutor.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -259,6 +259,7 @@ private void registerLv2Commands(){\n         addCommand(\"job\", 2, JobCommand.class);\n         addCommand(\"unbug\", 2, UnBugCommand.class);\n         addCommand(\"id\", 2, IdCommand.class);\n+        addCommand(\"gachalist\", GachaListCommand.class);\n         \n         commandsNameDesc.add(levelCommandsCursor);\n     }"}, {"sha": "1ffff8fcb516e99c51a4f22789af251ed9062b70", "filename": "src/client/command/commands/gm2/GachaListCommand.java", "status": "added", "additions": 38, "deletions": 0, "changes": 38, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/client/command/commands/gm2/GachaListCommand.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/client/command/commands/gm2/GachaListCommand.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/commands/gm2/GachaListCommand.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -0,0 +1,38 @@\n+/*\n+    This file is part of the HeavenMS MapleStory Server, commands OdinMS-based\n+    Copyleft (L) 2016 - 2018 RonanLana\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package client.command.commands.gm2;\n+\n+import client.MapleClient;\n+import client.command.Command;\n+\n+/**\n+ *\n+ * @author Ronan\n+ */\n+public class GachaListCommand extends Command {\n+    {\n+        setDescription(\"\");\n+    }\n+\n+    @Override\n+    public void execute(MapleClient c, String[] params) {\n+        c.getAbstractPlayerInteraction().openNpc(10000, \"gachaponInfo\");\n+    }\n+}"}, {"sha": "94ea14e562ab247e0f607d00c5b3edd7f9e3be53", "filename": "src/client/command/commands/gm3/IgnoreCommand.java", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/client/command/commands/gm3/IgnoreCommand.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/client/command/commands/gm3/IgnoreCommand.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/commands/gm3/IgnoreCommand.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -47,11 +47,11 @@ public void execute(MapleClient c, String[] params) {\n             player.message(\"Player '\" + params[0] + \"' could not be found on this world.\");\n             return;\n         }\n-        boolean monitored_ = MapleLogger.ignored.contains(victim.getName());\n+        boolean monitored_ = MapleLogger.ignored.contains(victim.getId());\n         if (monitored_) {\n-            MapleLogger.ignored.remove(victim.getName());\n+            MapleLogger.ignored.remove(victim.getId());\n         } else {\n-            MapleLogger.ignored.add(victim.getName());\n+            MapleLogger.ignored.add(victim.getId());\n         }\n         player.yellowMessage(victim.getName() + \" is \" + (!monitored_ ? \"now being ignored.\" : \"no longer being ignored.\"));\n         String message_ = player.getName() + (!monitored_ ? \" has started ignoring \" : \" has stopped ignoring \") + victim.getName() + \".\";"}, {"sha": "e2da268ec8b04af3d03439d0e473ed922a854fdb", "filename": "src/client/command/commands/gm3/IgnoredCommand.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/client/command/commands/gm3/IgnoredCommand.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/client/command/commands/gm3/IgnoredCommand.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/commands/gm3/IgnoredCommand.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -36,8 +36,8 @@\n     @Override\n     public void execute(MapleClient c, String[] params) {\n         MapleCharacter player = c.getPlayer();\n-        for (String ign : MapleLogger.ignored) {\n-            player.yellowMessage(ign + \" is being ignored.\");\n+        for (Integer cid : MapleLogger.ignored) {\n+            player.yellowMessage(MapleCharacter.getNameById(cid) + \" is being ignored.\");\n         }\n     }\n }"}, {"sha": "a00bce1b35b08b4eb7cd0bf71e6b08bfaa9639f7", "filename": "src/client/command/commands/gm3/MonitorCommand.java", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/client/command/commands/gm3/MonitorCommand.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/client/command/commands/gm3/MonitorCommand.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/commands/gm3/MonitorCommand.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -47,14 +47,14 @@ public void execute(MapleClient c, String[] params) {\n             player.message(\"Player '\" + params[0] + \"' could not be found on this world.\");\n             return;\n         }\n-        boolean monitored = MapleLogger.monitored.contains(victim.getName());\n+        boolean monitored = MapleLogger.monitored.contains(victim.getId());\n         if (monitored) {\n-            MapleLogger.monitored.remove(victim.getName());\n+            MapleLogger.monitored.remove(victim.getId());\n         } else {\n-            MapleLogger.monitored.add(victim.getName());\n+            MapleLogger.monitored.add(victim.getId());\n         }\n-        player.yellowMessage(victim.getName() + \" is \" + (!monitored ? \"now being monitored.\" : \"no longer being monitored.\"));\n-        String message = player.getName() + (!monitored ? \" has started monitoring \" : \" has stopped monitoring \") + victim.getName() + \".\";\n+        player.yellowMessage(victim.getId() + \" is \" + (!monitored ? \"now being monitored.\" : \"no longer being monitored.\"));\n+        String message = player.getName() + (!monitored ? \" has started monitoring \" : \" has stopped monitoring \") + victim.getId() + \".\";\n         Server.getInstance().broadcastGMMessage(c.getWorld(), MaplePacketCreator.serverNotice(5, message));\n \n     }"}, {"sha": "2c80e4111e9e374ffe5f56aef74251548c955936", "filename": "src/client/command/commands/gm3/MonitorsCommand.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/client/command/commands/gm3/MonitorsCommand.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/client/command/commands/gm3/MonitorsCommand.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/commands/gm3/MonitorsCommand.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -36,8 +36,8 @@\n     @Override\n     public void execute(MapleClient c, String[] params) {\n         MapleCharacter player = c.getPlayer();\n-        for (String ign : MapleLogger.monitored) {\n-            player.yellowMessage(ign + \" is being monitored.\");\n+        for (Integer cid : MapleLogger.monitored) {\n+            player.yellowMessage(MapleCharacter.getNameById(cid) + \" is being monitored.\");\n         }\n     }\n }"}, {"sha": "7255677ddc021b382378e69677a3bc05fe9432b8", "filename": "src/client/inventory/MapleInventory.java", "status": "modified", "additions": 47, "deletions": 27, "changes": 74, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/client/inventory/MapleInventory.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/client/inventory/MapleInventory.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/inventory/MapleInventory.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -463,31 +463,41 @@ public static boolean checkSpots(MapleCharacter chr, List<Pair<Item, MapleInvent\n     public static boolean checkSpots(MapleCharacter chr, List<Pair<Item, MapleInventoryType>> items, List<Integer> typesSlotsUsed, boolean useProofInv) {\n         // assumption: no \"UNDEFINED\" or \"EQUIPPED\" items shall be tested here, all counts are >= 0.\n         \n-        Map<Integer, Short> rcvItems = new LinkedHashMap<>();\n+        Map<Integer, List<Integer>> rcvItems = new LinkedHashMap<>();\n         Map<Integer, Byte> rcvTypes = new LinkedHashMap<>();\n         \n         for (Pair<Item, MapleInventoryType> item : items) {\n                 Integer itemId = item.left.getItemId();\n-                Short qty = rcvItems.get(itemId);\n+                List<Integer> qty = rcvItems.get(itemId);\n             \n     \t\tif(qty == null) {\n-                        rcvItems.put(itemId, item.left.getQuantity());\n+                        List<Integer> itemQtyList = new LinkedList<>();\n+                        itemQtyList.add((int) item.left.getQuantity());\n+                    \n+                        rcvItems.put(itemId, itemQtyList);\n                         rcvTypes.put(itemId, item.right.getType());\n                 } else {\n-                        rcvItems.put(itemId, (short)(qty + item.left.getQuantity()));\n+                        if (!ItemConstants.isRechargeable(itemId)) {\n+                                qty.set(0, qty.get(0) + item.left.getQuantity());\n+                        } else {\n+                                qty.add((int) item.left.getQuantity());\n+                        }\n                 }\n     \t}\n         \n         MapleClient c = chr.getClient();\n-        for(Entry<Integer, Short> it: rcvItems.entrySet()) {\n+        for(Entry<Integer, List<Integer>> it: rcvItems.entrySet()) {\n                 int itemType = rcvTypes.get(it.getKey()) - 1;\n-                int usedSlots = typesSlotsUsed.get(itemType);\n                 \n-                int result = MapleInventoryManipulator.checkSpaceProgressively(c, it.getKey(), it.getValue(), \"\", usedSlots, useProofInv);\n-                boolean hasSpace = ((result % 2) != 0);\n-                \n-                if(!hasSpace) return false;\n-                typesSlotsUsed.set(itemType, (result >> 1));\n+                for (Integer itValue : it.getValue()) {\n+                        int usedSlots = typesSlotsUsed.get(itemType);\n+                        \n+                        int result = MapleInventoryManipulator.checkSpaceProgressively(c, it.getKey(), itValue, \"\", usedSlots, useProofInv);\n+                        boolean hasSpace = ((result % 2) != 0);\n+\n+                        if(!hasSpace) return false;\n+                        typesSlotsUsed.set(itemType, (result >> 1));\n+                }\n         }\n         \n     \treturn true;\n@@ -525,38 +535,48 @@ public static boolean checkSpotsAndOwnership(MapleCharacter chr, List<Pair<Item,\n     public static boolean checkSpotsAndOwnership(MapleCharacter chr, List<Pair<Item, MapleInventoryType>> items, List<Integer> typesSlotsUsed, boolean useProofInv) {\n         //assumption: no \"UNDEFINED\" or \"EQUIPPED\" items shall be tested here, all counts are >= 0 and item list to be checked is a legal one.\n         \n-        Map<Long, Short> rcvItems = new LinkedHashMap<>();\n+        Map<Long, List<Integer>> rcvItems = new LinkedHashMap<>();\n         Map<Long, Byte> rcvTypes = new LinkedHashMap<>();\n         Map<Long, String> rcvOwners = new LinkedHashMap<>();\n         \n         for (Pair<Item, MapleInventoryType> item : items) {\n                 Long itemHash = hashKey(item.left.getItemId(), item.left.getOwner());\n-                Short qty = rcvItems.get(itemHash);\n+                List<Integer> qty = rcvItems.get(itemHash);\n             \n     \t\tif(qty == null) {\n-                        rcvItems.put(itemHash, item.left.getQuantity());\n+                        List<Integer> itemQtyList = new LinkedList<>();\n+                        itemQtyList.add((int) item.left.getQuantity());\n+                    \n+                        rcvItems.put(itemHash, itemQtyList);\n                         rcvTypes.put(itemHash, item.right.getType());\n                         rcvOwners.put(itemHash, item.left.getOwner());\n                 } else {\n-                        rcvItems.put(itemHash, (short)(qty + item.left.getQuantity()));\n+                         // thanks BHB88 for pointing out an issue with rechargeable items being stacked on inventory check\n+                        if (!ItemConstants.isRechargeable(item.left.getItemId())) {\n+                                qty.set(0, qty.get(0) + item.left.getQuantity());\n+                        } else {\n+                                qty.add((int) item.left.getQuantity());\n+                        }\n                 }\n     \t}\n         \n         MapleClient c = chr.getClient();\n-        for(Entry<Long, Short> it: rcvItems.entrySet()) {\n+        for(Entry<Long, List<Integer>> it: rcvItems.entrySet()) {\n                 int itemType = rcvTypes.get(it.getKey()) - 1;\n-                int usedSlots = typesSlotsUsed.get(itemType);\n-                \n-                Long itemId = it.getKey() >> 32L;\n+                int itemId = (int) (it.getKey() >> 32L);\n                 \n-                //System.out.print(\"inserting \" + itemId.intValue() + \" with type \" + itemType + \" qty \" + it.getValue() + \" owner '\" + rcvOwners.get(it.getKey()) + \"' current usedSlots:\");\n-                //for(Integer i : typesSlotsUsed) System.out.print(\" \" + i);\n-                int result = MapleInventoryManipulator.checkSpaceProgressively(c, itemId.intValue(), it.getValue(), rcvOwners.get(it.getKey()), usedSlots, useProofInv);\n-                boolean hasSpace = ((result % 2) != 0);\n-                //System.out.print(\" -> hasSpace: \" + hasSpace + \" RESULT : \" + result + \"\\n\");\n-                \n-                if(!hasSpace) return false;\n-                typesSlotsUsed.set(itemType, (result >> 1));\n+                for (Integer itValue : it.getValue()) {\n+                        int usedSlots = typesSlotsUsed.get(itemType);\n+                        \n+                        //System.out.print(\"inserting \" + itemId.intValue() + \" with type \" + itemType + \" qty \" + it.getValue() + \" owner '\" + rcvOwners.get(it.getKey()) + \"' current usedSlots:\");\n+                        //for(Integer i : typesSlotsUsed) System.out.print(\" \" + i);\n+                        int result = MapleInventoryManipulator.checkSpaceProgressively(c, itemId, itValue, rcvOwners.get(it.getKey()), usedSlots, useProofInv);\n+                        boolean hasSpace = ((result % 2) != 0);\n+                        //System.out.print(\" -> hasSpace: \" + hasSpace + \" RESULT : \" + result + \"\\n\");\n+\n+                        if(!hasSpace) return false;\n+                        typesSlotsUsed.set(itemType, (result >> 1));\n+                }\n         }\n         \n     \treturn true;"}, {"sha": "0406fd74bfda58fb14ce8407a55c3fb9213c5aea", "filename": "src/client/inventory/manipulator/MapleInventoryManipulator.java", "status": "modified", "additions": 23, "deletions": 18, "changes": 41, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/client/inventory/manipulator/MapleInventoryManipulator.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/client/inventory/manipulator/MapleInventoryManipulator.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/inventory/manipulator/MapleInventoryManipulator.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -316,7 +316,11 @@ public static boolean checkSpace(MapleClient c, int itemid, int quantity, String\n         if (!type.equals(MapleInventoryType.EQUIP)) {\n             short slotMax = ii.getSlotMax(c, itemid);\n             List<Item> existing = inv.listById(itemid);\n-            if (!ItemConstants.isRechargeable(itemid)) {\n+            \n+            final int numSlotsNeeded;\n+            if (ItemConstants.isRechargeable(itemid)) {\n+                numSlotsNeeded = 1;\n+            } else {\n                 if (existing.size() > 0) // first update all existing slots to slotMax\n                 {\n                     for (Item eItem : existing) {\n@@ -330,15 +334,14 @@ public static boolean checkSpace(MapleClient c, int itemid, int quantity, String\n                         }\n                     }\n                 }\n+                \n+                if (slotMax > 0) {\n+                    numSlotsNeeded = (int) (Math.ceil(((double) quantity) / slotMax));\n+                } else {\n+                    numSlotsNeeded = 1;\n+                }\n             }\n-            final int numSlotsNeeded;\n-            if (slotMax > 0) {\n-                numSlotsNeeded = (int) (Math.ceil(((double) quantity) / slotMax));\n-            } else if (ItemConstants.isRechargeable(itemid)) {\n-                numSlotsNeeded = 1;\n-            } else {\n-                numSlotsNeeded = 1;\n-            }\n+            \n             return !inv.isFull(numSlotsNeeded - 1);\n         } else {\n             return !inv.isFull();\n@@ -367,7 +370,11 @@ public static int checkSpaceProgressively(MapleClient c, int itemid, int quantit\n         \n         if (!type.equals(MapleInventoryType.EQUIP)) {\n             short slotMax = ii.getSlotMax(c, itemid);\n-            if (!ItemConstants.isRechargeable(itemid)) {\n+            final int numSlotsNeeded;\n+            \n+            if (ItemConstants.isRechargeable(itemid)) {\n+                numSlotsNeeded = 1;\n+            } else {\n                 List<Item> existing = inv.listById(itemid);\n                 \n                 if (existing.size() > 0) // first update all existing slots to slotMax\n@@ -383,14 +390,12 @@ public static int checkSpaceProgressively(MapleClient c, int itemid, int quantit\n                         }\n                     }\n                 }\n-            }\n-            final int numSlotsNeeded;\n-            if (slotMax > 0) {\n-                numSlotsNeeded = (int) (Math.ceil(((double) quantity) / slotMax));\n-            } else if (ItemConstants.isRechargeable(itemid)) {\n-                numSlotsNeeded = 1;\n-            } else {\n-                numSlotsNeeded = 1;\n+                \n+                if (slotMax > 0) {\n+                    numSlotsNeeded = (int) (Math.ceil(((double) quantity) / slotMax));\n+                } else {\n+                    numSlotsNeeded = 1;\n+                }\n             }\n             \n             returnValue = ((numSlotsNeeded + usedSlots) << 1);"}, {"sha": "af68116bdc51779e7c6943c0d5f6e701b07d77b4", "filename": "src/client/processor/FredrickProcessor.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/client/processor/FredrickProcessor.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/client/processor/FredrickProcessor.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/processor/FredrickProcessor.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -100,7 +100,7 @@ private static String fredrickReminderMessage(int daynotes) {\n         return msg;\n     }\n     \n-    private static void removeFredrickLog(int cid) {\n+    public static void removeFredrickLog(int cid) {\n         try {\n             Connection con = DatabaseConnection.getConnection();\n             removeFredrickLog(con, cid);"}, {"sha": "3feb14199c79e4342bce69bcc80776eff37cd9ce", "filename": "src/client/processor/StorageProcessor.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/client/processor/StorageProcessor.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/client/processor/StorageProcessor.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/processor/StorageProcessor.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -147,6 +147,7 @@ public static void storageAction(SeekableLittleEndianAccessor slea, MapleClient\n                                                 \n                                                 chr.gainMeso(-storeFee, false, true, false);\n                                                 \n+                                                item = item.copy(); // thanks Robin Schulz for pointing out an issue with stored items\n                                                 MapleKarmaManipulator.toggleKarmaFlagToUntradeable(item);\n                                                 item.setQuantity(quantity);\n                                                 storage.store(item);"}, {"sha": "d00786130674baa5eb85f409b127a5ec812f7b6b", "filename": "src/constants/ServerConstants.java", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/constants/ServerConstants.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/constants/ServerConstants.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/constants/ServerConstants.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -37,7 +37,7 @@\n     public static final boolean AUTOMATIC_REGISTER = true;      //Automatically register players when they login with a nonexistent username.\n     public static final boolean BCRYPT_MIGRATION = true;        //Performs a migration from old SHA-1 and SHA-512 password to bcrypt.\n     public static final boolean COLLECTIVE_CHARSLOT = false;    //Available character slots are contabilized globally rather than per world server.\n-    public static final boolean DETERRED_MULTICLIENT = false;   //Enables multi-client and suspicious remote IP detection on the login system.\n+    public static final boolean DETERRED_MULTICLIENT = false;   //Enables detection of multi-client and suspicious remote IP on the login system.\n     \n     //Besides blocking logging in with several client sessions on the same machine, this also blocks suspicious login attempts for players that tries to login on an account using several diferent remote addresses.\n     \n@@ -98,6 +98,7 @@\n     public static final boolean USE_ENFORCE_UNMERCHABLE_PET = false; //Forces players to not sell pets via merchants. (since non-named pets gets dirty name and other possible DB-related issues)\n     public static final boolean USE_ENFORCE_MERCHANT_SAVE = true;   //Forces automatic DB save on merchant owners, at every item movement on shop.\n     public static final boolean USE_ENFORCE_MDOOR_POSITION = false; //Forces mystic door to be spawned near spawnpoints.\n+    public static final boolean USE_SPAWN_CLEAN_MDOOR = false;       //Makes mystic doors to be spawned without deploy animation. This clears disconnecting issues that may happen when trying to cancel doors a couple seconds after deployment.\n     public static final boolean USE_SPAWN_LOOT_ON_ANIMATION = false;//Makes loot appear some time after the mob has been killed (following the mob death animation, instead of instantly).\n     public static final boolean USE_SPAWN_RELEVANT_LOOT = true;     //Forces to only spawn loots that are collectable by the player or any of their party members.\n     public static final boolean USE_ERASE_PERMIT_ON_OPENSHOP = true;//Forces \"shop permit\" item to be consumed when player deploy his/her player shop."}, {"sha": "0e03f0d0e7b9429d22af6059fb0b861577eae4c8", "filename": "src/net/PacketProcessor.java", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/net/PacketProcessor.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/net/PacketProcessor.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/PacketProcessor.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -263,7 +263,8 @@ public void reset(int channel) {\n             registerHandler(RecvOpcode.WATER_OF_LIFE, new UseWaterOfLifeHandler());\n             registerHandler(RecvOpcode.ADMIN_CHAT, new AdminChatHandler());\n             registerHandler(RecvOpcode.MOVE_DRAGON, new MoveDragonHandler());\n-            registerHandler(RecvOpcode.USE_ITEMUI, new UseItemCanvasHandler());\n+            registerHandler(RecvOpcode.OPEN_ITEMUI, new RaiseUIStateHandler());\n+            registerHandler(RecvOpcode.USE_ITEMUI, new RaiseIncExpHandler());\n         }\n     }\n }\n\\ No newline at end of file"}, {"sha": "b32e2d12ca2f37d2778be6061bc8ec243743a0ff", "filename": "src/net/server/Server.java", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/net/server/Server.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/net/server/Server.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/Server.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -495,15 +495,12 @@ public boolean removeWorld() {   //lol don't!\n         return true;\n     }\n     \n-    private void resetServerWorlds() {\n+    private void resetServerWorlds() {  // thanks maple006 for noticing proprietary lists assigned to null\n         wldWLock.lock();\n         try {\n             worlds.clear();\n-            worlds = null;\n             channels.clear();\n-            channels = null;\n             worldRecommendedList.clear();\n-            worldRecommendedList = null;\n         } finally {\n             wldWLock.unlock();\n         }"}, {"sha": "00fbd3b6e8ae3209945855999f8e3f0ea975bd25", "filename": "src/net/server/channel/handlers/PlayerInteractionHandler.java", "status": "modified", "additions": 14, "deletions": 6, "changes": 20, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/net/server/channel/handlers/PlayerInteractionHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/net/server/channel/handlers/PlayerInteractionHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/PlayerInteractionHandler.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -94,7 +94,7 @@\n         ANSWER_TIE(0x33),\n         GIVE_UP(0x34),\n         EXIT_AFTER_GAME(0x38),\n-        CANCEL_EXIT(0x39),\n+        CANCEL_EXIT_AFTER_GAME(0x39),\n         READY(0x3A),\n         UN_READY(0x3B),\n         EXPEL(0x3C),\n@@ -344,7 +344,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                     MapleTrade.cancelTrade(chr, MapleTrade.TradeResult.PARTNER_CANCEL);\n                 } else {\n                     chr.closePlayerShop();\n-                    chr.closeMiniGame();\n+                    chr.closeMiniGame(false);\n                     chr.closeHiredMerchant(true);\n                 }\n             } else if (mode == Action.OPEN_STORE.getCode() || mode == Action.OPEN_CASH.getCode()) {\n@@ -608,8 +608,6 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                 MaplePlayerShop shop = chr.getPlayerShop();\n                 MapleHiredMerchant merchant = chr.getHiredMerchant();\n                 if (shop != null && shop.isOwner(chr)) {\n-                    System.out.println(shopItem.getItem().getPet() + \" \" + shopItem.getItem().getPetId());\n-                    System.out.println(ivItem.getPet() + \" \" + ivItem.getPetId());\n                     if (shop.isOpen() || !shop.addItem(shopItem)) { // thanks Vcoc for pointing an exploit with unlimited shop slots\n                         c.announce(MaplePacketCreator.serverNotice(1, \"You can't sell it anymore.\"));\n                         return;\n@@ -770,10 +768,20 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                     MapleCharacter visitor = miniGame.getVisitor();\n \n                     if(visitor != null) {\n-                        visitor.closeMiniGame();\n-                        visitor.announce(MaplePacketCreator.getMiniGameClose(5));\n+                        visitor.closeMiniGame(false);\n+                        visitor.announce(MaplePacketCreator.getMiniGameClose(true, 5));\n                     }\n                 }\n+            } else if (mode == Action.EXIT_AFTER_GAME.getCode()) {\n+                MapleMiniGame miniGame = chr.getMiniGame();\n+                if(miniGame != null) {\n+                    miniGame.setQuitAfterGame(chr, true);\n+                }\n+            } else if (mode == Action.CANCEL_EXIT_AFTER_GAME.getCode()) {\n+                MapleMiniGame miniGame = chr.getMiniGame();\n+                if(miniGame != null) {\n+                    miniGame.setQuitAfterGame(chr, false);\n+                }\n             }\n         } finally {\n             c.releaseClient();"}, {"sha": "68261b42c0884877aaaafb19db9c649071f42f6b", "filename": "src/net/server/channel/handlers/RaiseIncExpHandler.java", "status": "added", "additions": 59, "deletions": 0, "changes": 59, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/net/server/channel/handlers/RaiseIncExpHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/net/server/channel/handlers/RaiseIncExpHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/RaiseIncExpHandler.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -0,0 +1,59 @@\n+package net.server.channel.handlers;\n+\n+import java.util.Map;\n+\n+import client.MapleClient;\n+import client.inventory.MapleInventory;\n+import client.inventory.MapleInventoryType;\n+import net.AbstractMaplePacketHandler;\n+import client.inventory.manipulator.MapleInventoryManipulator;\n+import server.MapleItemInformationProvider;\n+import server.MapleItemInformationProvider.QuestConsItem;\n+import tools.data.input.SeekableLittleEndianAccessor;\n+\n+/**\n+ *\n+ * @author Xari\n+ * @author Ronan - added concurrency protection and quest progress limit\n+ */\n+public class RaiseIncExpHandler extends AbstractMaplePacketHandler {\n+\n+    @Override\n+    public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n+        byte inventorytype = slea.readByte();//nItemIT\n+        short slot = slea.readShort();//nSlotPosition\n+        int itemid = slea.readInt();//nItemID    \n+        \n+        if (c.tryacquireClient()) {\n+            try {\n+                MapleItemInformationProvider ii = MapleItemInformationProvider.getInstance();\n+                QuestConsItem consItem = ii.getQuestConsumablesInfo(itemid);\n+                if (consItem == null) {\n+                    return;\n+                }\n+\n+                int questid = consItem.questid;\n+                Map<Integer, Integer> consumables = consItem.items;\n+\n+                int consId;\n+                MapleInventory inv = c.getPlayer().getInventory(MapleInventoryType.getByType(inventorytype));\n+                inv.lockInventory();\n+                try {\n+                    consId = inv.getItem(slot).getItemId();\n+                    if (!consumables.containsKey(consId) || !c.getPlayer().haveItem(consId)) {\n+                        return;\n+                    }\n+\n+                    MapleInventoryManipulator.removeFromSlot(c, MapleInventoryType.getByType(inventorytype), (short) slot, (short) 1, false, true);\n+                } finally {\n+                    inv.unlockInventory();\n+                }\n+\n+                int nextValue = Math.min(consumables.get(consId) + Integer.parseInt(c.getPlayer().getQuestInfo(questid)), consItem.exp * consItem.grade);\n+                c.getPlayer().updateQuestInfo(questid, \"\" + nextValue);\n+            } finally {\n+                c.releaseClient();\n+            }\n+        }\n+    }\n+}"}, {"sha": "d5add73e1e2e0816784d890745d32ace206df101", "filename": "src/net/server/channel/handlers/RaiseUIStateHandler.java", "status": "added", "additions": 37, "deletions": 0, "changes": 37, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/net/server/channel/handlers/RaiseUIStateHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/net/server/channel/handlers/RaiseUIStateHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/RaiseUIStateHandler.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -0,0 +1,37 @@\n+package net.server.channel.handlers;\n+\n+import client.MapleClient;\n+import client.MapleQuestStatus;\n+import net.AbstractMaplePacketHandler;\n+import server.quest.MapleQuest;\n+import tools.MaplePacketCreator;\n+import tools.data.input.SeekableLittleEndianAccessor;\n+\n+/**\n+ *\n+ * @author Xari\n+ */\n+public class RaiseUIStateHandler extends AbstractMaplePacketHandler {\n+\n+    @Override\n+    public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n+        int questid = slea.readShort();\n+        \n+        if (c.tryacquireClient()) {\n+            try {\n+                MapleQuest quest = MapleQuest.getInstance(questid);\n+                MapleQuestStatus mqs = c.getPlayer().getQuest(quest);\n+                if (mqs.getStatus() == MapleQuestStatus.Status.NOT_STARTED) {\n+                    quest.forceStart(c.getPlayer(), 22000);\n+                    c.getPlayer().updateQuestInfo(quest.getId(), \"0\"); \n+                } else if (mqs.getStatus() == MapleQuestStatus.Status.STARTED) {\n+                    c.announce(MaplePacketCreator.updateQuest(mqs, false));\n+                } else {\n+                    //c.announce(MaplePacketCreator.updateQuestInfo(mqs.getQuestID(), 22000, \"0\"));\n+                }\n+            } finally {\n+                c.releaseClient();\n+            }\n+        }\n+    }\n+}\n\\ No newline at end of file"}, {"sha": "0fdca86ff1a2911f653ec106dd5f974b6729f793", "filename": "src/net/server/channel/handlers/SkillBookHandler.java", "status": "modified", "additions": 46, "deletions": 26, "changes": 72, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/net/server/channel/handlers/SkillBookHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/net/server/channel/handlers/SkillBookHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/SkillBookHandler.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -26,6 +26,7 @@\n import client.Skill;\n import client.SkillFactory;\n import client.inventory.Item;\n+import client.inventory.MapleInventory;\n import client.inventory.MapleInventoryType;\n import java.util.Map;\n import net.AbstractMaplePacketHandler;\n@@ -41,38 +42,57 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             c.announce(MaplePacketCreator.enableActions());\n             return;\n         }\n+        \n         slea.readInt();\n         short slot = (short) slea.readShort();\n         int itemId = slea.readInt();\n+        \n+        boolean canuse;\n+        boolean success = false;\n+        int skill = 0;\n+        int maxlevel = 0;\n+        \n         MapleCharacter player = c.getPlayer();\n-        Item toUse = c.getPlayer().getInventory(MapleInventoryType.USE).getItem(slot);\n-        if (toUse != null && toUse.getQuantity() == 1) {\n-            if (toUse.getItemId() != itemId) {\n-                return;\n-            }\n-            Map<String, Integer> skilldata = MapleItemInformationProvider.getInstance().getSkillStats(toUse.getItemId(), c.getPlayer().getJob().getId());\n-            boolean canuse;\n-            boolean success = false;\n-            int skill = 0;\n-            int maxlevel = 0;\n-            if (skilldata == null) {\n-                return;\n-            }\n-            Skill skill2 = SkillFactory.getSkill(skilldata.get(\"skillid\"));\n-            if (skilldata.get(\"skillid\") == 0) {\n-                canuse = false;\n-            } else if ((player.getSkillLevel(skill2) >= skilldata.get(\"reqSkillLevel\") || skilldata.get(\"reqSkillLevel\") == 0) && player.getMasterLevel(skill2) < skilldata.get(\"masterLevel\")) {\n-                canuse = true;\n-                if (MapleItemInformationProvider.rollSuccessChance(skilldata.get(\"success\"))) {\n-                    success = true;\n-                    player.changeSkillLevel(skill2, player.getSkillLevel(skill2), Math.max(skilldata.get(\"masterLevel\"), player.getMasterLevel(skill2)), -1);\n+        if (c.tryacquireClient()) {\n+            try {\n+                MapleInventory inv = c.getPlayer().getInventory(MapleInventoryType.USE);\n+                Item toUse = inv.getItem(slot);\n+                if (toUse == null || toUse.getItemId() != itemId) {\n+                    return;\n+                }\n+                Map<String, Integer> skilldata = MapleItemInformationProvider.getInstance().getSkillStats(toUse.getItemId(), c.getPlayer().getJob().getId());\n+                if (skilldata == null) {\n+                    return;\n+                }\n+                Skill skill2 = SkillFactory.getSkill(skilldata.get(\"skillid\"));\n+                if (skilldata.get(\"skillid\") == 0) {\n+                    canuse = false;\n+                } else if ((player.getSkillLevel(skill2) >= skilldata.get(\"reqSkillLevel\") || skilldata.get(\"reqSkillLevel\") == 0) && player.getMasterLevel(skill2) < skilldata.get(\"masterLevel\")) {\n+                    inv.lockInventory();\n+                    try {\n+                        Item used = inv.getItem(slot);\n+                        if (used != toUse || toUse.getQuantity() < 1) {    // thanks ClouD for noticing skillbooks not being usable when stacked\n+                            return;\n+                        }\n+\n+                        MapleInventoryManipulator.removeFromSlot(c, MapleInventoryType.USE, slot, (short) 1, false);\n+                    } finally {\n+                        inv.unlockInventory();\n+                    }\n+\n+                    canuse = true;\n+                    if (MapleItemInformationProvider.rollSuccessChance(skilldata.get(\"success\"))) {\n+                        success = true;\n+                        player.changeSkillLevel(skill2, player.getSkillLevel(skill2), Math.max(skilldata.get(\"masterLevel\"), player.getMasterLevel(skill2)), -1);\n+                    } else {\n+                        success = false;\n+                        //player.dropMessage(\"The skill book lights up, but the skill winds up as if nothing happened.\");\n+                    }\n                 } else {\n-                    success = false;\n-                    //player.dropMessage(\"The skill book lights up, but the skill winds up as if nothing happened.\");\n+                    canuse = false;\n                 }\n-                MapleInventoryManipulator.removeFromSlot(c, MapleInventoryType.USE, slot, (short) 1, false);\n-            } else {\n-                canuse = false;\n+            } finally {\n+                c.releaseClient();\n             }\n             \n             // thanks Vcoc for noting skill book result not showing for all in area"}, {"sha": "46e0020c8bea4729ae6262ff006b61360e163949", "filename": "src/net/server/channel/handlers/SpecialMoveHandler.java", "status": "modified", "additions": 14, "deletions": 5, "changes": 19, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/net/server/channel/handlers/SpecialMoveHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/net/server/channel/handlers/SpecialMoveHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/SpecialMoveHandler.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -101,6 +101,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                         monster.aggroClearDamages();\n                         monster.aggroMonsterDamage(chr, 1);\n                         \n+                        // thanks onechord for pointing out Magnet disconnecting the caster (issue would actually happen upon failing to catch mob)\n                         monster.aggroSwitchController(chr, true);\n                     }\n                 }\n@@ -133,12 +134,20 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                 } else {\n                     skill.getEffect(skillLevel).applyEchoOfHero(chr);\n                 }\n-            } else if(chr.canDoor()) {\n-                //update door lists\n-                chr.cancelMagicDoor();\n-                skill.getEffect(skillLevel).applyTo(chr, pos);\n             } else {\n-                chr.message(\"Please wait 5 seconds before casting Mystic Door again.\");\n+                if (c.tryacquireClient()) {\n+                    try {\n+                        if (chr.canDoor()) {\n+                            chr.cancelMagicDoor();\n+                            skill.getEffect(skillLevel).applyTo(chr, pos);\n+                        } else {\n+                            chr.message(\"Please wait 5 seconds before casting Mystic Door again.\");\n+                        }\n+                    } finally {\n+                        c.releaseClient();\n+                    }\n+                }\n+                \n                 c.announce(MaplePacketCreator.enableActions());\n             }\n         } else {"}, {"sha": "f2f8d6ae47ce7ab7eb62300afe7b5b4452860617", "filename": "src/net/server/channel/handlers/UseCashItemHandler.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/net/server/channel/handlers/UseCashItemHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/net/server/channel/handlers/UseCashItemHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/UseCashItemHandler.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -130,7 +130,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                 if (victim != null) {\n                     MapleMap targetMap = victim.getMap();\n                     if (!FieldLimit.CANNOTVIPROCK.check(targetMap.getFieldLimit()) && (targetMap.getForcedReturnId() == 999999999 || targetMap.getId() < 100000000)) {\n-                        if (victim.gmLevel() <= player.gmLevel()) {\n+                        if (!victim.isGM() || victim.gmLevel() <= player.gmLevel()) {   // thanks Yoboes for noticing non-GM's being unreachable through rocks\n                             player.forceChangeMap(targetMap, targetMap.findClosestPlayerSpawnpoint(victim.getPosition()));\n                             success = true;\n                         } else {"}, {"sha": "c266d97b4d2b86ef220fc05426963dc895c66401", "filename": "src/net/server/channel/handlers/UseItemCanvasHandler.java", "status": "removed", "additions": 0, "deletions": 14, "changes": 14, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/89eca2995b1b6bbfe07eb923e257000bab6c5f17/src/net/server/channel/handlers/UseItemCanvasHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/89eca2995b1b6bbfe07eb923e257000bab6c5f17/src/net/server/channel/handlers/UseItemCanvasHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/UseItemCanvasHandler.java?ref=89eca2995b1b6bbfe07eb923e257000bab6c5f17", "patch": "@@ -1,14 +0,0 @@\n-package net.server.channel.handlers;\n-\n-import client.MapleClient;\n-import net.AbstractMaplePacketHandler;\n-import tools.data.input.SeekableLittleEndianAccessor;\n-import tools.MaplePacketCreator;\n-\n-public final class UseItemCanvasHandler extends AbstractMaplePacketHandler {\n-\n-    @Override\n-    public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n-        c.announce(MaplePacketCreator.enableActions());\n-    }\n-}\n\\ No newline at end of file"}, {"sha": "3363ddf56250104df14ad0d3786d8381747e564e", "filename": "src/net/server/coordinator/MaplePartySearchCoordinator.java", "status": "modified", "additions": 69, "deletions": 2, "changes": 71, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/net/server/coordinator/MaplePartySearchCoordinator.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/net/server/coordinator/MaplePartySearchCoordinator.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/coordinator/MaplePartySearchCoordinator.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -64,6 +64,10 @@\n     private Map<Integer, MapleCharacter> searchLeaders = new HashMap<>();\n     private Map<Integer, LeaderSearchMetadata> searchSettings = new HashMap<>();\n     \n+    private Map<MapleCharacter, LeaderSearchMetadata> timeoutLeaders = new HashMap<>();\n+    \n+    private int updateCount = 0;\n+    \n     private static Map<Integer, Set<Integer>> mapNeighbors = fetchNeighbouringMaps();\n     private static Map<Integer, MapleJob> jobTable = instantiateJobTable();\n     \n@@ -245,11 +249,21 @@ public void registerPartyLeader(MapleCharacter leader, int minLevel, int maxLeve\n         addQueueLeader(leader);\n     }\n     \n+    private void registerPartyLeader(MapleCharacter leader, LeaderSearchMetadata settings) {\n+        if (searchLeaders.containsKey(leader.getId())) return;\n+        \n+        searchSettings.put(leader.getId(), settings);\n+        searchLeaders.put(leader.getId(), leader);\n+        addQueueLeader(leader);\n+    }\n+    \n     public void unregisterPartyLeader(MapleCharacter leader) {\n         MapleCharacter toRemove = searchLeaders.remove(leader.getId());\n         if (toRemove != null) {\n             removeQueueLeader(toRemove);\n             searchSettings.remove(leader.getId());\n+        } else {\n+            unregisterLongTermPartyLeader(leader);\n         }\n     }\n     \n@@ -307,6 +321,41 @@ private boolean sendPartyInviteFromSearch(MapleCharacter chr, MapleCharacter lea\n         return new Pair<>(queuedLeaders, nextLeaders);\n     }\n     \n+    private void registerLongTermPartyLeaders(List<Pair<MapleCharacter, LeaderSearchMetadata>> recycledLeaders) {\n+        leaderQueueRLock.lock();\n+        try {\n+            for (Pair<MapleCharacter, LeaderSearchMetadata> p : recycledLeaders) {\n+                timeoutLeaders.put(p.getLeft(), p.getRight());\n+            }\n+        } finally {\n+            leaderQueueRLock.unlock();\n+        }\n+    }\n+    \n+    private void unregisterLongTermPartyLeader(MapleCharacter leader) {\n+        leaderQueueRLock.lock();\n+        try {\n+            timeoutLeaders.remove(leader);\n+        } finally {\n+            leaderQueueRLock.unlock();\n+        }\n+    }\n+    \n+    private void reinstateLongTermPartyLeaders() {\n+        Map<MapleCharacter, LeaderSearchMetadata> timeoutLeadersCopy;\n+        leaderQueueWLock.lock();\n+        try {\n+            timeoutLeadersCopy = new HashMap<>(timeoutLeaders);\n+            timeoutLeaders.clear();\n+        } finally {\n+            leaderQueueWLock.unlock();\n+        }\n+        \n+        for (Entry<MapleCharacter, LeaderSearchMetadata> e : timeoutLeadersCopy.entrySet()) {\n+            registerPartyLeader(e.getKey(), e.getValue());\n+        }\n+    }\n+    \n     public void runPartySearch() {\n         Pair<List<MapleCharacter>, List<MapleCharacter>> queuedLeaders = fetchQueuedLeaders();\n         \n@@ -356,10 +405,28 @@ public void runPartySearch() {\n             }\n         }\n         \n+        List<Pair<MapleCharacter, LeaderSearchMetadata>> recycledLeaders = new LinkedList<>();\n         for (MapleCharacter leader : expiredLeaders) {\n-            if (leader.isLoggedinWorld()) leader.dropMessage(5, \"Your Party Search token session expired, please stop your Party Search and retry again later.\");\n             searchLeaders.remove(leader.getId());\n-            searchSettings.remove(leader.getId());\n+            LeaderSearchMetadata settings = searchSettings.remove(leader.getId());\n+            \n+            if (leader.isLoggedinWorld()) {\n+                if (settings != null) {\n+                    recycledLeaders.add(new Pair<>(leader, settings));\n+                    if (ServerConstants.USE_DEBUG && leader.isGM()) leader.dropMessage(5, \"Your Party Search token session is now on waiting queue for up to 7 minutes, to get it working right away please stop your Party Search and retry again later.\");\n+                } else {\n+                    leader.dropMessage(5, \"Your Party Search token session expired, please stop your Party Search and retry again later.\");\n+                }\n+            }\n+        }\n+        \n+        if (!recycledLeaders.isEmpty()) {\n+            registerLongTermPartyLeaders(recycledLeaders);\n+        }\n+        \n+        updateCount++;\n+        if (updateCount % 77 == 0) {\n+            reinstateLongTermPartyLeaders();\n         }\n     }\n     "}, {"sha": "5b2536e16c5898b555578c10f689cc4fa6689a40", "filename": "src/net/server/handlers/login/AfterLoginHandler.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/net/server/handlers/login/AfterLoginHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/net/server/handlers/login/AfterLoginHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/handlers/login/AfterLoginHandler.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -37,7 +37,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             c3 = slea.readByte();\n         }\n         if (c2 == 1 && c3 == 1) {\n-            if (c.getPin() == null) {\n+            if (c.getPin() == null || c.getPin().equals(\"\")) {\n                 c.announce(MaplePacketCreator.registerPin());\n             } else {\n                 c.announce(MaplePacketCreator.requestPin());"}, {"sha": "2fe19c8f1f67fd793ff402507bfa9f3206dadf24", "filename": "src/scripting/AbstractPlayerInteraction.java", "status": "modified", "additions": 58, "deletions": 0, "changes": 58, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/scripting/AbstractPlayerInteraction.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/scripting/AbstractPlayerInteraction.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/scripting/AbstractPlayerInteraction.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -457,6 +457,64 @@ public void resetQuestProgress(int qid, int pid) {\n                 getClient().announce(MaplePacketCreator.updateQuest(getPlayer().getQuest(MapleQuest.getInstance(qid)), false));\n         }\n         \n+        public boolean forceStartQuest(int id) {\n+                return forceStartQuest(id, 9010000);\n+        }\n+\n+        public boolean forceStartQuest(int id, int npc) {\n+                return startQuest(id, npc);\n+        }\n+\n+        public boolean forceCompleteQuest(int id) {\n+                return forceCompleteQuest(id, 9010000);\n+        }\n+\n+        public boolean forceCompleteQuest(int id, int npc) {\n+                return completeQuest(id, npc);\n+        }\n+        \n+        public boolean startQuest(short id) {\n+                return startQuest((int) id);\n+        }\n+        \n+        public boolean completeQuest(short id) {\n+                return completeQuest((int) id);\n+        }\n+        \n+        public boolean startQuest(int id) {\n+                return startQuest(id, 9010000);\n+        }\n+        \n+        public boolean completeQuest(int id) {\n+                return completeQuest(id, 9010000);\n+        }\n+        \n+        public boolean startQuest(short id, int npcId) {\n+                return startQuest((int) id, npcId);\n+        }\n+        \n+        public boolean completeQuest(short id, int npcId) {\n+                return completeQuest((int) id, npcId);\n+        }\n+        \n+        public boolean startQuest(int id, int npcId) {\n+                try {\n+                        return MapleQuest.getInstance(id).forceStart(getPlayer(), npcId);\n+                } catch (NullPointerException ex) {\n+                        ex.printStackTrace();\n+                        return false;\n+                }\n+        }\n+        \n+        public boolean completeQuest(int id, int npcId) {\n+                try {\n+                        return MapleQuest.getInstance(id).forceComplete(getPlayer(), npcId);\n+                } catch (NullPointerException ex) {\n+                        ex.printStackTrace();\n+                        return false;\n+                }\n+        }\n+        \n         public Item evolvePet(byte slot, int afterId) {\n             MaplePet evolved = null;\n             MaplePet target;"}, {"sha": "5c425e4f8911bcbd8782b1474f98ffa5ec707bf4", "filename": "src/scripting/npc/NPCConversationManager.java", "status": "modified", "additions": 37, "deletions": 60, "changes": 97, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/scripting/npc/NPCConversationManager.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/scripting/npc/NPCConversationManager.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/scripting/npc/NPCConversationManager.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -63,9 +63,11 @@\n import net.server.PlayerStorage;\n import net.server.channel.Channel;\n import net.server.coordinator.matchchecker.MatchCheckerListenerFactory.MatchCheckerType;\n+import server.MapleMarriage;\n import server.MapleSkillbookInformationProvider;\n import server.MapleSkillbookInformationProvider.SkillBookEntry;\n import server.TimerManager;\n+import server.life.MapleLifeFactory;\n import server.maps.MapleMapObject;\n import server.maps.MapleMapObjectType;\n import server.expeditions.MapleExpedition;\n@@ -77,10 +79,11 @@\n import java.awt.Point;\n import java.util.Arrays;\n import java.util.Collections;\n+import java.util.HashMap;\n import java.util.HashSet;\n import java.util.List;\n+import java.util.Map;\n import java.util.Set;\n-import server.MapleMarriage;\n \n /**\n  *\n@@ -95,6 +98,18 @@\n         private boolean itemScript;\n         private List<MaplePartyCharacter> otherParty;\n         \n+        private static Map<Integer, String> npcDefaultTalks = new HashMap<>();\n+        \n+        private static String getDefaultTalk(int npcid) {\n+            String talk = npcDefaultTalks.get(npcid);\n+            if (talk == null) {\n+                talk = MapleLifeFactory.getNPCDefaultTalk(npcid);\n+                npcDefaultTalks.put(npcid, talk);\n+            }\n+            \n+            return talk;\n+        }\n+        \n         public NPCConversationManager(MapleClient c, int npc, String scriptName) {\n                this(c, npc, -1, scriptName, false);\n         }\n@@ -154,6 +169,10 @@ public void sendNextPrev(String text) {\n \tpublic void sendOk(String text) {\n \t\tgetClient().announce(MaplePacketCreator.getNPCTalk(npc, (byte) 0, text, \"00 00\", (byte) 0));\n \t}\n+        \n+        public void sendDefault() {\n+                sendOk(getDefaultTalk(npc));\n+        }\n \n \tpublic void sendYesNo(String text) {\n \t\tgetClient().announce(MaplePacketCreator.getNPCTalk(npc, (byte) 1, text, \"\", (byte) 0));\n@@ -236,76 +255,34 @@ public MapleJob getJob(){\n \t\treturn getPlayer().getJob();\n \t}\n \n-\tpublic void startQuest(short id) {\n-\t\ttry {\n-\t\t\tMapleQuest.getInstance(id).forceStart(getPlayer(), npc);\n-\t\t} catch (NullPointerException ex) {\n-                        ex.printStackTrace();\n-\t\t}\n-\t}\n-\n-\tpublic void completeQuest(short id) {\n-\t\ttry {\n-\t\t\tMapleQuest.getInstance(id).forceComplete(getPlayer(), npc);\n-\t\t} catch (NullPointerException ex) {\n-                        ex.printStackTrace();\n-\t\t}\n-\t}\n-\n+\t@Override\n         public boolean forceStartQuest(int id) {\n-                return MapleQuest.getInstance(id).forceStart(getPlayer(), npc);\n+                return forceStartQuest(id, npc);\n         }\n-\n+        \n+        @Override\n         public boolean forceCompleteQuest(int id) {\n-                return MapleQuest.getInstance(id).forceComplete(getPlayer(), npc);\n+                return forceCompleteQuest(id, npc);\n         }\n         \n-\tpublic void startQuest(int id) {\n-\t\ttry {\n-\t\t\tMapleQuest.getInstance(id).forceStart(getPlayer(), npc);\n-\t\t} catch (NullPointerException ex) {\n-                        ex.printStackTrace();\n-\t\t}\n-\t}\n-\n-\tpublic void completeQuest(int id) {\n-\t\ttry {\n-\t\t\tMapleQuest.getInstance(id).forceComplete(getPlayer(), npc);\n-\t\t} catch (NullPointerException ex) {\n-                        ex.printStackTrace();\n-\t\t}\n-\t}\n-        \n-        public void startQuest(short id, int npcId) {\n-                try {\n-                        MapleQuest.getInstance(id).forceStart(getPlayer(), npcId);\n-                } catch (NullPointerException ex) {\n-                        ex.printStackTrace();\n-                }\n+        @Override\n+        public boolean startQuest(short id) {\n+                return startQuest((int) id);\n         }\n         \n-        public void startQuest(int id, int npcId) {\n-                try {\n-                        MapleQuest.getInstance(id).forceStart(getPlayer(), npcId);\n-                } catch (NullPointerException ex) {\n-                        ex.printStackTrace();\n-                }\n+        @Override\n+        public boolean completeQuest(short id) {\n+                return completeQuest((int) id);\n         }\n         \n-        public void completeQuest(short id, int npcId) {\n-                try {\n-                        MapleQuest.getInstance(id).forceComplete(getPlayer(), npcId);\n-                } catch (NullPointerException ex) {\n-                        ex.printStackTrace();\n-                }\n+        @Override\n+        public boolean startQuest(int id) {\n+                return startQuest(id, npc);\n         }\n         \n-        public void completeQuest(int id, int npcId) {\n-                try {\n-                        MapleQuest.getInstance(id).forceComplete(getPlayer(), npcId);\n-                } catch (NullPointerException ex) {\n-                        ex.printStackTrace();\n-                }\n+        @Override\n+        public boolean completeQuest(int id) {\n+                return completeQuest(id, npc);\n         }\n         \n \tpublic int getMeso() {"}, {"sha": "910f49bd9b355b2acef16e337b52e278facb2fb6", "filename": "src/scripting/npc/NPCScriptManager.java", "status": "modified", "additions": 2, "deletions": 9, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/scripting/npc/NPCScriptManager.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/scripting/npc/NPCScriptManager.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/scripting/npc/NPCScriptManager.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -92,14 +92,8 @@ public void start(String filename, MapleClient c, int npc, List<MaplePartyCharac\n             cms.put(c, cm);\n             Invocable iv = null;\n             iv = getInvocable(\"npc/\" + filename + \".js\", c);\n-            NPCScriptManager npcsm = NPCScriptManager.getInstance();\n \n-            if (iv == null || NPCScriptManager.getInstance() == null) {\n-                c.getPlayer().dropMessage(1, npc + \"\");\n-                cm.dispose();\n-                return;\n-            }\n-            if (iv == null || npcsm == null) {\n+            if (iv == null) {\n                 c.getPlayer().dropMessage(1, npc + \"\");\n                 cm.dispose();\n                 return;\n@@ -147,7 +141,7 @@ private boolean start(MapleClient c, int npc, int oid, String fileName, MapleCha\n                     iv = getInvocable(\"npc/\" + npc + \".js\", c);\n                     cm.resetItemScript();\n                 }\n-                if (iv == null || NPCScriptManager.getInstance() == null) {\n+                if (iv == null) {\n                     dispose(c);\n                     return false;\n                 }\n@@ -166,7 +160,6 @@ private boolean start(MapleClient c, int npc, int oid, String fileName, MapleCha\n             } else {\n                 c.announce(MaplePacketCreator.enableActions());\n             }\n-\n             return true;\n         } catch (final UndeclaredThrowableException | ScriptException ute) {\n             FilePrinter.printError(FilePrinter.NPC + npc + \".txt\", ute);"}, {"sha": "15b770555e70d76d02ac6f9537afbaadc0172855", "filename": "src/scripting/portal/PortalPlayerInteraction.java", "status": "modified", "additions": 0, "deletions": 16, "changes": 16, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/scripting/portal/PortalPlayerInteraction.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/scripting/portal/PortalPlayerInteraction.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/scripting/portal/PortalPlayerInteraction.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -82,22 +82,6 @@ public boolean hasLevel30Character() {\n         return getPlayer().getLevel() >= 30;\n     }\n     \n-    public boolean forceStartQuest(int id) {\n-            return forceStartQuest(id, 9010000);\n-    }\n-\n-    public boolean forceStartQuest(int id, int npc) {\n-            return MapleQuest.getInstance(id).forceStart(getPlayer(), npc);\n-    }\n-    \n-    public boolean forceCompleteQuest(int id) {\n-            return forceCompleteQuest(id, 9010000);\n-    }\n-\n-    public boolean forceCompleteQuest(int id, int npc) {\n-            return MapleQuest.getInstance(id).forceComplete(getPlayer(), npc);\n-    }\n-    \n     public void blockPortal() {\n         c.getPlayer().blockPortal(getPortal().getScriptName());\n     }"}, {"sha": "383ba9ce112bfd600b94557e277206de63a6aa43", "filename": "src/server/MapleItemInformationProvider.java", "status": "modified", "additions": 45, "deletions": 9, "changes": 54, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/MapleItemInformationProvider.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/MapleItemInformationProvider.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/MapleItemInformationProvider.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -136,6 +136,7 @@ public static MapleItemInformationProvider getInstance() {\n     protected Map<Integer, Map<String, Integer>> skillUpgradeCache = new HashMap<>();\n     protected Map<Integer, MapleData> skillUpgradeInfoCache = new HashMap<>();\n     protected Map<Integer, Pair<Integer, Set<Integer>>> cashPetFoodCache = new HashMap<>();\n+    protected Map<Integer, QuestConsItem> questItemConsCache = new HashMap<>();\n \n     private MapleItemInformationProvider() {\n         loadCardIdData();\n@@ -1377,12 +1378,6 @@ public boolean isPartyQuestItem(int itemId) {\n         return partyquestItem;\n     }\n \n-    public int getQuestIdFromItem(int itemId) {\n-        MapleData data = getItemData(itemId);\n-        int questItem = MapleDataTool.getIntConvert(\"info/quest\", data, 0);\n-        return questItem;\n-    }\n-\n     private void loadCardIdData() {\n         PreparedStatement ps = null;\n         ResultSet rs = null;\n@@ -1436,9 +1431,10 @@ public ScriptedItem getScriptedItemInfo(int itemId) {\n         if ((itemId / 10000) != 243) {\n             return null;\n         }\n-        ScriptedItem script = new ScriptedItem(MapleDataTool.getInt(\"spec/npc\", getItemData(itemId), 0),\n-        MapleDataTool.getString(\"spec/script\", getItemData(itemId), \"\"),\n-        MapleDataTool.getInt(\"spec/runOnPickup\", getItemData(itemId), 0) == 1);\n+        MapleData itemInfo = getItemData(itemId);\n+        ScriptedItem script = new ScriptedItem(MapleDataTool.getInt(\"spec/npc\", itemInfo, 0),\n+        MapleDataTool.getString(\"spec/script\", itemInfo, \"\"),\n+        MapleDataTool.getInt(\"spec/runOnPickup\", itemInfo, 0) == 1);\n         scriptedItemCache.put(itemId, script);\n         return scriptedItemCache.get(itemId);\n     }\n@@ -2121,6 +2117,35 @@ private boolean canUseSkillBook(MapleCharacter player, Integer skillBookId) {\n \n         return skillbook;\n     }\n+    \n+    public final QuestConsItem getQuestConsumablesInfo(final int itemId) {\n+        if (questItemConsCache.containsKey(itemId)) {\n+            return questItemConsCache.get(itemId);\n+        }\n+        MapleData data = getItemData(itemId);\n+        \n+        MapleData infoData = data.getChildByPath(\"info\");\n+        MapleData ciData = infoData.getChildByPath(\"consumeItem\");\n+        QuestConsItem qcItem = null;\n+        if (ciData != null) {\n+            qcItem = new QuestConsItem();\n+            qcItem.exp = MapleDataTool.getInt(\"exp\", infoData);\n+            qcItem.grade = MapleDataTool.getInt(\"grade\", infoData);\n+            qcItem.questid = MapleDataTool.getInt(\"questId\", infoData);\n+            qcItem.items = new HashMap<>(2);\n+            \n+            Map<Integer, Integer> cItems = qcItem.items;\n+            for (MapleData ciItem : ciData.getChildren()) {\n+                int itemid = MapleDataTool.getInt(\"0\", ciItem);\n+                int qty = MapleDataTool.getInt(\"1\", ciItem);\n+                \n+                cItems.put(itemid, qty);\n+            }\n+        }\n+        \n+        questItemConsCache.put(itemId, qcItem);\n+        return qcItem;\n+    }\n \n     public class ScriptedItem {\n \n@@ -2153,4 +2178,15 @@ public boolean runOnPickup() {\n         public short prob, quantity;\n         public String effect, worldmsg;\n     }\n+    \n+    public static final class QuestConsItem {\n+\n+        public int questid, exp, grade;\n+        public Map<Integer, Integer> items;\n+        \n+        public Integer getItemRequirement(int itemid) {\n+            return items.get(itemid);\n+        }\n+        \n+    }\n }"}, {"sha": "a6343638a0e69c2b04854160de939cc32ab3c87f", "filename": "src/server/MapleStatEffect.java", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/MapleStatEffect.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/MapleStatEffect.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/MapleStatEffect.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -1045,8 +1045,6 @@ private boolean applyTo(MapleCharacter applyfrom, MapleCharacter applyto, boolea\n \n                 door.getTarget().spawnDoor(door.getAreaDoor());\n                 door.getTown().spawnDoor(door.getTownDoor());\n-\n-                applyto.disableDoorSpawn();\n             } else {\n                 MapleInventoryManipulator.addFromDrop(applyto.getClient(), new Item(4006000, (short) 0, (short) 1), false);\n "}, {"sha": "523be056bb700be143478bef98d3f7f839814509", "filename": "src/server/gachapon/ElNath.java", "status": "added", "additions": 65, "deletions": 0, "changes": 65, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/gachapon/ElNath.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/gachapon/ElNath.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/gachapon/ElNath.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -0,0 +1,65 @@\n+package server.gachapon;\n+\n+/**\n+*\n+* @author Ronan - parsed MapleSEA loots\n+* \n+* MapleSEA-like loots thanks to AyumiLove, src: https://ayumilovemaple.wordpress.com/maplestory-gachapon-guide/\n+*/\n+\n+public class ElNath extends GachaponItems {\n+\n+\t@Override\n+\tpublic int[] getCommonItems() {\n+\t\treturn new int [] {\n+                        \n+                        /* Scroll */\n+                        2041012, 2048003, 2043800, 2043301, 2040301, 2043101, 2043201, 2043001, 2044301, 2043801, 2044201, 2043701, 2044502,\n+                        2041011, 2041014, 2044602, 2043302, 2043202, 2043002, 2048005, 2044402, 2044302, 2043802, 2044102, 2044202, 2043702,\n+                        2044812,\n+\n+                        /* Useable drop */\n+                        2000004, 2000005,\n+\n+                        /* Common equipment */\n+                        1402010, 1032003, 1442013, 1432009, 1302022, 1302029, 1322021, 1302026, 1442017, 1322023, 1102011, 1032008, 1322026,\n+                        1442016, 1312000, 1032007, 1322025, 1322027, 1032020, 1442015, 1432017, 1302027, 1302049, 1372006, 1032022, 1032021,\n+                        1372004, 1332020, 1322007, 1032006, 1302028, 1322003, 1302007, 1092030, 1302021, 1322024, 1322012, 1032005, 1322022,\n+                        1032013, 1302025, 1302013, 1032017, 1032002, 1032001, 1302017, 1432018, 1442012, 1302000, 1032000, 1102013, 1442022,\n+                        1372005, 1442021, 1032009, 1302016,\n+\n+                        /* Warrior equipment */\n+                        1442003, 1312007, 1402008, 1312008, 1412008, 1442009, 1302004, 1312006, 1442016, 1402012, 1302003, 1312005, 1432002,\n+                        1432001, 1302008, 1040030, 1402015, 1322015, 1432006, 1322002, 1302010, 1322017, 1402003, 1402006, 1322000, 1422001,\n+                        1442001, 1422004, 1412004, 1322009, 1322011, 1442000, 1412005, 1402002, 1432004, 1442010, 1422008, 1442007, 1422009,\n+                        1322019, 1412003, 1412007, 1302009, 1412000, 1322014, 1402001, 1402007, 1432005,\n+\n+                        /* Magician equipment */\n+                        1382001, 1372007, 1382010, 1382007, 1372000, 1372003, 1382011, 1382006, 1382000,\n+\n+                        /* Bowman equipment */\n+                        1452004, 1452000, 1452010, 1452015, 1452014, 1462012, 1462010, 1452017, 1462000, 1452008, 1452006, 1462006, 1452007,\n+                        1452002, 1402001,\n+\n+                        /* Thief equipment */\n+                        1472006, 1472010, 1332022, 1332011, 1472015, 1472016, 1472023, 1472028, 1472022, 1472011, 1472026, 1332024, 1332009,\n+                        1472017, 1472013, 1472029, 1472021, 1332015, 1332031, 1332023, 1332004, 1472000, 1332019, 1472027, 1332018, 1472007,\n+                        1332012, 1332016, 1472024, 1332017, 1332003, 1472012, 1472014, 1472005, 1472018, 1472001,\n+\n+                        /* Pirate equipment */\n+                        1072294, 1492009\n+\n+                };\n+\t}\n+\n+\t@Override\n+\tpublic int[] getUncommonItems() {\n+\t\treturn new int [] {2022439, 2040804, 2040805, 2340000};\n+\t}\n+\n+\t@Override\n+\tpublic int[] getRareItems() {\n+\t\treturn new int [] {2043803, 1102085};\n+\t}\n+\n+}"}, {"sha": "2e631ce096d64fb7f8c4ce1c9a75d78afec65872", "filename": "src/server/gachapon/Ellinia.java", "status": "modified", "additions": 42, "deletions": 80, "changes": 122, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/gachapon/Ellinia.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/gachapon/Ellinia.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/gachapon/Ellinia.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -2,103 +2,65 @@\n \n /**\n *\n-* @author Alan (SharpAceX)\n+* @author Alan (SharpAceX) - gachapon source classes stub & pirate equipment\n+* @author Ronan - parsed MapleSEA loots\n+* \n+* MapleSEA-like loots thanks to AyumiLove, src: https://ayumilovemaple.wordpress.com/maplestory-gachapon-guide/\n */\n \n public class Ellinia extends GachaponItems {\n \n \t@Override\n \tpublic int[] getCommonItems() {\n \t\treturn new int[] {\n-\t\t\t\t//warriorEquips = {\n-\t\t\t\t\t\t1082025, 1060028, 1051011, 1060016, 1051001, \n-\t\t\t\t\t\t1422001, 1002025, 1082000, 1302002, 1412012, \n-\t\t\t\t\t\t//magicianEquips = {\n-\t\t\t\t\t\t1002013, 1002016, 1002017, 1002034, 1002035, \n-\t\t\t\t\t\t1002036, 1002037, 1002038, 1002064, 1002065, \n-\t\t\t\t\t\t1002072, 1002073, 1002074, 1002075, 1002102, \n-\t\t\t\t\t\t1002103, 1002104, 1002105, 1002106, 1002141, \n-\t\t\t\t\t\t1002142, 1002143, 1002144, 1002145, 1002151, \n-\t\t\t\t\t\t1002152, 1002153, 1002154, 1002155, 1002215, \n-\t\t\t\t\t\t1002216, 1002217, 1002218, 1002242, 1002243, \n-\t\t\t\t\t\t1002244, 1002245, 1002246, 1002252, 1002253, \n-\t\t\t\t\t\t1002254, 1002271, 1002272, 1002273, 1002274, \n-\t\t\t\t\t\t1002363, 1002364, 1002365, 1002366, 1002398, \n-\t\t\t\t\t\t1002399, 1002400, 1002401, 1002579, 1002773, \n-\t\t\t\t\t\t1040004, 1040017, 1040018, \n-\t\t\t\t\t\t1040019, 1040020, 1041015, 1041016, 1041017, \n-\t\t\t\t\t\t1041018, 1041025, 1041026, 1041029, 1041030, \n-\t\t\t\t\t\t1041031, 1041041, 1041042, 1041043, 1041051, \n-\t\t\t\t\t\t1041052, 1041053, 1050001, 1050002, 1050003, \n-\t\t\t\t\t\t1050008, 1050009, 1050010, 1050023, 1050024, \n-\t\t\t\t\t\t1050025, 1050026, 1050027, 1050028, 1050029, \n-\t\t\t\t\t\t1050030, 1050031, 1050035, 1050036, 1050037, \n-\t\t\t\t\t\t1050038, 1050039, 1050045, 1050046, 1050047, \n-\t\t\t\t\t\t1050048, 1050049, 1050053, 1050054, 1050055, \n-\t\t\t\t\t\t1050056, 1050067, 1050068, 1050069, 1050070, \n-\t\t\t\t\t\t1050072, 1050073, 1050074, 1050092, 1050093, \n-\t\t\t\t\t\t1050094, 1050095, 1050102, 1050103, 1050104, \n-\t\t\t\t\t\t1050105, 1051003, 1051004, 1051005, 1051023, \n-\t\t\t\t\t\t1051024, 1051025, 1051026, 1051027, 1051030, \n-\t\t\t\t\t\t1051031, 1051032, 1051033, 1051034, 1051044, \n-\t\t\t\t\t\t1051045, 1051046, 1051047, 1051052, 1051053, \n-\t\t\t\t\t\t1051054, 1051055, 1051056, 1051057, 1051058, \n-\t\t\t\t\t\t1051094, 1051095, 1051096, 1051097, 1051101, \n-\t\t\t\t\t\t1051102, 1051103, 1051104, 1052076, \n-\t\t\t\t\t\t1060012, 1060013, 1060014, 1060015, \n-\t\t\t\t\t\t1061010, 1061011, 1061012, 1061013, 1061021, \n-\t\t\t\t\t\t1061022, 1061027, 1061028, 1061034, 1061035, \n-\t\t\t\t\t\t1061036, 1061047, 1061048, 1061049, 1072006, \n-\t\t\t\t\t\t1072019, 1072020, 1072021, 1072023, 1072024, \n-\t\t\t\t\t\t1072044, 1072045, 1072072, 1072073, 1072074, \n-\t\t\t\t\t\t1072075, 1072076, 1072077, 1072078, 1072089, \n-\t\t\t\t\t\t1072090, 1072091, 1072114, 1072115, 1072116, \n-\t\t\t\t\t\t1072117, 1072136, 1072137, 1072138, 1072139, \n-\t\t\t\t\t\t1072140, 1072141, 1072142, 1072143, 1072157, \n-\t\t\t\t\t\t1072158, 1072159, 1072160, 1072169, 1072177, \n-\t\t\t\t\t\t1072178, 1072179, 1072206, 1072207, 1072208, \n-\t\t\t\t\t\t1072209, 1072223, 1072224, 1072225, 1072226, \n-\t\t\t\t\t\t1072268, 1082019, 1082020, \n-\t\t\t\t\t\t1082021, 1082022, 1082026, 1082027, 1082028, \n-\t\t\t\t\t\t1082051, 1082052, 1082053, 1082054, 1082055, \n-\t\t\t\t\t\t1082056, 1082062, 1082063, 1082064, 1082080, \n-\t\t\t\t\t\t1082081, 1082082, 1082086, 1082087, 1082088, \n-\t\t\t\t\t\t1082098, 1082099, 1082100, 1082121, 1082122, \n-\t\t\t\t\t\t1082123, 1082131, 1082132, 1082133, 1082134, \n-\t\t\t\t\t\t1082151, 1082152, 1082153, 1082154, 1082164, \n-\t\t\t\t\t\t1092021, 1092029, 1092057, \n-\t\t\t\t\t\t1372000, 1372001, 1372002, 1372003, 1372004, \n-\t\t\t\t\t\t1372007, 1372008, 1372009, 1372010, 1372011, \n-\t\t\t\t\t\t1372012, 1372014, 1372015, 1372016, 1372032,\n-\t\t\t\t\t\t1382000, 1382001, 1382002, 1382003, 1382004, \n-\t\t\t\t\t\t1382005, 1382006, 1382007, 1382008, 1382010, \n-\t\t\t\t\t\t1382011, 1382014, 1382015, 1382016, 1382017, \n-\t\t\t\t\t\t1382018, 1382019, 1382035, 1382036, 1382037, \n-\t\t\t\t\t\t1382041, 1382053, 1382054, 1382055, 1382056,\n-\t\t\t\t\t\t1382060, \n-\t\t\t\t\t\t//bowmanEquips = {\n-\t\t\t\t\t\t1040003, 1462005, 1002157, 1002119, 1062002, \n-\t\t\t\t\t\t1062004, 1041083, 1061082, 1082017, 1041061, \n-\t\t\t\t\t\t//thiefEquips = {\n-\t\t\t\t\t\t1002174, 1040063, 1072108, 1082044, 1061071, \n-\t\t\t\t\t\t1060052, 1072029, 1472002, 1082031, 1060023, \n-\t\t\t\t\t\t//pirateEquips = {\n+                \n+                /* Scroll */\n+                2043302, 2040002, 2043102, 2043002, 2044402, 2044302, 2043802, 2044002, 2041017, 2044902,\n+\n+                /* Useable drop */\n+                2000004, 2000005, 2022025, 2022026,\n+\n+                /* Common equipment */\n+                1402010, 1442013, 1432009, 1002060, 1002063, 1322023, 1002042, 1050018, 1082147, 1002026, 1002392, 1062024, 1442016, 1322025,\n+                1322027, 1302027, 1372006, 1302019, 1092022, 1302021, 1041004, 1002395, 1322024, 1082148, 1002012, 1322012, 1032028, 1102012,\n+                1322022, 1051017, 1302013, 1082146, 1442014, 1302017, 1102013, 1102003, 1002041, 1002097, 1302016, 1082145,\n+\n+                /* Warrior equipment */\n+                1412006, 1040029, 1040086, 1050005, 1060028, 1002059, 1060008, 1061088, 1402012, 1302003, 1432002, 1312011, 1302008, 1040030,\n+                1002004, 1402015, 1322028, 1322015, 1432006, 1442006, 1322000, 1002085, 1002056, 1092013, 1002058, 1002050, 1060011, 1322009,\n+                1322011, 1442000, 1051011, 1061016, 1060018, 1041024, 1061020, 1302005, 1402002, 1002030, 1092004, 1041023, 1422008, 1060009,\n+                1051000, 1002021, 1442005, 1412003, 1412007, 1422007, 1302009, 1402000, 1402001, 1402007, 1432005,\n+\n+                /* Magician equipment */\n+                1382001, 1002037, 1060014, 1040018, 1061027, 1050002, 1002152, 1051027, 1050035, 1050056, 1051047, 1051030, 1002274, 1050074,\n+                1002218, 1002254, 1082088, 1382007, 1002013, 1082087, 1372008, 1382008, 1372002, 1372003, 1382011, 1382004, 1050047, 1040019,\n+                1041041, 1061034, 1041051, 1051045, 1051024, 1082081, 1041030, 1040018, 1002073, 1382003, 1082086, 1382014, 1050055, 1050025,\n+                1002155, 1060015,\n+\n+                /* Bowman equipment */\n+                1452004, 1462003, 1060070, 1002118, 1061058, 1040003, 1002160, 1002121, 1040068, 1061063, 1040080, 1462004, 1041008, 1061006,\n+                1061009, 1040022, 1002168, 1040067, 1060056, 1041054, 1041067, 1060063, 1002213, 1002119, 1462005, 1452001, 1462000, 1040025,\n+                1002166, 1002161, 1040069, 1051039, 1452006, 1462006, 1452007, 1402001, 1041062,\n+\n+                /* Thief equipment */\n+                1472010, 1472006, 1332011, 1472031, 1041048, 1472019, 1041095, 1040095, 1002128, 1061077, 1060025, 1041040, 1061033, 1472028,\n+                1472022, 1472011, 1040096, 1062002, 1002129, 1472026, 1332009, 1060043, 1002249, 1472021, 1040084, 1332015, 1002173, 1002148,\n+                1332004, 1332018, 1472009, 1061069, 1002176, 1041044, 1061037, 1060032, 1472020, 1040060, 1472018, 1332013, 1332002, 1402001,\n+                \n+                /* Pirate equipment */\n \t\t\t\t\t\t1002625, 1002616, 1482005, 1052098, 1482003, \n \t\t\t\t\t\t1482001, 1492004, 1002622, 1492005, 1082195\n-\t\t};\n+                };\n \t}\n \n \t@Override\n \tpublic int[] getUncommonItems() {\n-\t\treturn new int [] {\t1372035, 1372036, 1372037, 1372038, 1372039, \n-\t\t\t\t\t\t\t1372040, 1372041, 1372042, 1382045, 1382046, \n-\t\t\t\t\t\t\t1382047, 1382048, 1382049, 1382050, 1382051, \n-\t\t\t\t\t\t\t1382052 };\n+\t\treturn new int [] {1082149, 1002391, 1002419};\n \t}\n \n \t@Override\n \tpublic int[] getRareItems() {\n-\t\treturn new int [] {1382059, 1382057, 1072362, 1002791, 1052161, 1082240};\n+\t\treturn new int [] {};\n \t}\n \n }"}, {"sha": "e2042bcaf1fc6d43f30f61917236cf122039f1b3", "filename": "src/server/gachapon/Global.java", "status": "modified", "additions": 19, "deletions": 32, "changes": 51, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/gachapon/Global.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/gachapon/Global.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/gachapon/Global.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -3,57 +3,44 @@\n /**\n *\n * @author Alan (SharpAceX)\n+* @author Ronan - added ores, reworked global loots\n */\n \n public class Global extends GachaponItems {\n \n \t@Override\n \tpublic int[] getCommonItems() {\n \t\treturn new int[] {\n-\t\t\t\t/* Gloves */\t\t1082002, 1082147, 1082148, 1082146, 1082145, 1082150,\n-\t\t\t\t/* Capes */\t\t\t1102040, 1102043, 1102087, 1102079, 1102080, 1102081, 1102082, 1102083, 1102053, 1102054,\n-\t\t\t\t\t\t\t\t\t1102055, 1102056, 1102176, 1102177, 1102178, 1102179, 1102000, 1102001, 1102002, 1102003,\n-\t\t\t\t\t\t\t\t\t1102004, 1102011, 1102012, 1102013, 1102014, 1102015, 1102016, 1102017, 1102018, 1102021,\n-\t\t\t\t\t\t\t\t\t1102022, 1102023, 1102024, 1102026, 1102027, 1102028,\n-\t\t\t\t/* Tube Eqp */\t\t1322026, 1322025, 1322024, 1322022, 1322021,\n-\t\t\t\t/* Umbrellas */\t\t1302026, 1302027, 1302028, 1302017,\n-\t\t\t\t/* Snowboards */\t1442017, 1442016, 1442014, 1442012,\n-\t\t\t\t/* Skis */\t\t\t1432017, 1432016, 1432015,\n-\t\t\t\t/* Beginner Eqp */\t1442018, 1422011, \n-\t\t\t\t/* Potions */\t\t2000004, 2000005, 2001002, 2001001,\t2020012, 2020013, 2020014, 2020015, 2022182, 2022245,\n-\t\t\t\t\t\t\t\t\t2022284, 2022285, 2022439,\n-\t\t\t\t/* Other Scrolls */\t2049000, 2049001, 2049002, 2041058, 2040727, \n-\t\t\t\t/* 10% Scrolls */\t2041002, 2040402, 2040702, 2040805, 2040026, 2040031, 2040318, 2040323, 2040328, 2040419, \n-\t\t\t\t\t\t\t\t\t2040422, 2040427, 2040534, 2040619, 2040622, 2040627, 2040825, 2040925, 2040928, 2040933,\n-\t\t\t\t\t\t\t\t\t2040016,\n-\t\t\t\t/* 60% Scrolls */\t2040001, 2040321, 2040425, 2040625, 2040931, 2048013, 2040025, 2040326, 2040532, 2040824,\n-\t\t\t\t\t\t\t\t\t2048010, 2040029, 2040418, 2040618, 2040924, 2048011, 2040317, 2040421, 2040621, 2040927,\n-\t\t\t\t\t\t\t\t\t2048012,\n-\t\t\t\t/* 100% Scrolls */\t2040923, 2040027, 2040417, 2040617, 2040000, 2040202, 2040400, 2040512, 2040700, 2040803,\n-\t\t\t\t\t\t\t\t\t2041000, 2041012, 2048000, 2040926, 2040316, 2040420, 2040620, 2040003, 2040207, 2040414,\n-\t\t\t\t\t\t\t\t\t2040515, 2040703, 2040818, 2041003, 2041015, 2048003, 2040929, 2040319, 2040423, 2040623, \n-\t\t\t\t\t\t\t\t\t2040102, 2040300, 2040500, 2040600, 2040706, 2040900, 2041006, 2041018, 2040024, 2040324, \n-\t\t\t\t\t\t\t\t\t2040530, 2040823, 2040107, 2040312, 2040503, 2040614, 2040800, 2040918, 2041009, 2041021\n+                        /* Potions */\n+                        2000004, 2000005, 2001002, 2001001, 2020012, 2020013, 2020014, 2020015,\n+                        \n+                        /* Ores */\n+                        4004000, 4004001, 4004002, 4004003, 4004004,\n+                        4006000, 4006001,\n+                        4010000, 4010001, 4010002, 4010003, 4010004, 4010005, 4010006, 4010007,\n+                        4020000, 4020001, 4020002, 4020003, 4020004, 4020005, 4020006, 4020007, 4020008\n \t\t};\n \t}\n \n \t@Override\n \tpublic int[] getUncommonItems() {\n \t\treturn new int[] {\n-\t\t\t\t/* Capes */\t\t\t1102180,\n-\t\t\t\t/* Potions */\t\t2022179, 2022273, 2022282, 2022283,\n-\t\t\t\t/* Scrolls */\t\t2049003,\n-\t\t\t\t/* Skis */\t\t\t1432018\n+                        /* Potions */\n+                        2022179, 2022273, 2022282, 2022283, 2022285, 2022245, 2022182,\n+                        \n+                        /* Scrolls */\n+                        2049003\n \t\t};\n \t}\n \n \t@Override\n \tpublic int[] getRareItems() {\n \t\treturn new int[] {\n-\t\t\t\t/* Gloves */\t\t1082149, \n-\t\t\t\t/* Capes */\t\t\t1102041, 1102042, 1102084, 1102085,\n-\t\t\t\t/* Scrolls */\t\t2049100, 2340000,\n-\t\t\t\t/* Chairs */\t\t3010046, 3010047\n+                        /* Scrolls */\n+                        2049100, 2340000,\n+                        \n+                        /* Chairs */\n+                        3010063, 3010064\n \t\t};\n \t}\n "}, {"sha": "cf3d075e1415f077443c633aaa47ca1998dd7ff5", "filename": "src/server/gachapon/Henesys.java", "status": "modified", "additions": 39, "deletions": 18, "changes": 57, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/gachapon/Henesys.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/gachapon/Henesys.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/gachapon/Henesys.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -2,39 +2,60 @@\n \n /**\n *\n-* @author Alan (SharpAceX)\n+* @author Alan (SharpAceX) - gachapon source classes stub\n+* @author Ronan - parsed MapleSEA loots\n+* \n+* MapleSEA-like loots thanks to AyumiLove, src: https://ayumilovemaple.wordpress.com/maplestory-gachapon-guide/\n */\n \n public class Henesys extends GachaponItems {\n \n \t@Override\n \tpublic int[] getCommonItems() {\n \t\treturn new int [] {\n-\t\t\t\t/* Common Eqps */\t1432009, 1302022, 1322027, 1062000, 1002033, 1092022, 1302021, 1322009, 1002012, 1322012,\n-\t\t\t\t/* Warrior Eqps */\t1312007, 1002093, 1051016, 1040030, 1060009, 1060000, 1082025, 1402002, 1092000, 1072041, \n-\t\t\t\t/* Mage Equips */\t1051023, 1002035, 1061028, 1040019, 1002152, 1002155, 1041018, 1050031, 1002102, 1082028,\n-\t\t\t\t/* Bowman Equips */\t1002010, 1002057, 1002112, 1002113, 1002114, 1002115, 1002116, 1002117, 1002118, 1002119,\n-\t\t\t\t\t\t\t\t\t1002120, 1002121, 1002135, 1002136, 1002137, 1002138, 1002139, 1002156, 1002157, 1002158,\n-\t\t\t\t\t\t\t\t\t1002159, 1002160, 1002161, 1002162, 1002163, 1002164, 1002165, 1002166, 1002167, 1002168,\n-\t\t\t\t\t\t\t\t\t1002169, 1002170, 1002211, 1002212, 1002213, 1002214, 1002267, 1002268, 1002269, 1002270,\n-\t\t\t\t\t\t\t\t\t1002275, 1002276, 1002277, 1002278, 1002286, 1002287, 1002288, 1002289, 1002402, 1002403,\n-\t\t\t\t\t\t\t\t\t1002404, 1002405, 1002406, 1002407, 1002408, 1002580, 1002749\n-\t\t};\n+                \n+                        /* Scroll */\n+                        2040001, 2041002, 2040702, 2043802, 2040402, 2043702, 2044813,\n+\n+                        /* Useable Drops */\n+                        2000004, 2000005, 2020012, 2030007,\n+\n+                        /* Common equipment */\n+                        1432009, 1302022, 1322021, 1302026, 1442017, 1082147, 1102043, 1322026, 1442016, 1402012, 1322025, 1322027, 1302027,\n+                        1312012, 1062000, 1332020, 1302028, 1372002, 1002033, 1092022, 1302021, 1322009, 1322024, 1082148, 1002012, 1322012,\n+                        1322022, 1002020, 1302013, 1082146, 1442014, 1002096, 1302017, 1442012,\n+\n+                        /* Warrior equipment */\n+                        1092011, 1092014, 1302003, 1432001, 1312011, 1002088, 1041020, 1322015, 1442004, 1422008, 1302056, 1432000, 1442005,\n+\n+                        /* Magician equipment */\n+                        1382001, 1041053, 1041029, 1050053, 1051032, 1050073, 1061036, 1002253, 1002034, 1051025, 1050067, 1051052, 1002072,\n+                        1002144, 1051054, 1050069, 1372007, 1050056, 1050074, 1002254, 1002274, 1002218, 1051055, 1382010, 1002246, 1050039,\n+                        1382007, 1372000, 1002013, 1050072, 1002036, 1002244, 1372008, 1382008, 1382011, 1092021, 1051034, 1050047, 1040019,\n+                        1041031, 1051033, 1002153, 1002252, 1051024, 1051053, 1050068, 1382003, 1382006, 1050055, 1051031, 1050025, 1002155,\n+                        1002245, 1372001,\n+\n+                        /* Bowman equipment */\n+                        1452004, 1452023, 1060057, 1432001, 1040071, 1002137, 1462009, 1452017, 1040025, 1041027, 1452005, 1452007, 1061057,\n+\n+                        /* Thief equipment */\n+                        1472006, 1472019, 1060084, 1472028, 1472004, 1002179, 1082074, 1472029, 1040100, 1332015, 1432001, 1040097, 1060071,\n+                        1472007, 1472002, 1051009, 1041044, 1041003, 1332016, 1472020, 1332003,\n+                        \n+                        /* Pirate equipment */\n+                        1002622, 1082204, 1082213, 1082198, 1002631, 1052122, 1482012, 1052131, 1482007, 1482004, 1072318, 1492007\n+\n+                };\n \t}\n \n \t@Override\n \tpublic int[] getUncommonItems() {\n-\t\treturn new int[] {\n-\t\t\t\t/* 110 Equips */\t1002547\n-\t\t};\n+\t\treturn new int[] {2040805, 1102041, 1102042, 1442018};\n \t}\n \n \t@Override\n \tpublic int[] getRareItems() {\n-\t\treturn new int[] {\n-\t\t\t\t/* Reverse Eqps */\t1002792, \n-\t\t\t\t\t\t\t\t\t1462052, 1462053, 1462054, 1462055,\n-\t\t};\n+\t\treturn new int[] {};\n \t}\n \n }"}, {"sha": "e9601fc06cd2b979a02e1e70353432a91a9c12c2", "filename": "src/server/gachapon/KerningCity.java", "status": "modified", "additions": 37, "deletions": 99, "changes": 136, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/gachapon/KerningCity.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/gachapon/KerningCity.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/gachapon/KerningCity.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -2,120 +2,58 @@\n \n /**\n *\n-* @author Alan (SharpAceX)\n+* @author Alan (SharpAceX) - gachapon source classes stub & pirate equipment\n+* @author Ronan - parsed MapleSEA loots\n+* \n+* MapleSEA-like loots thanks to AyumiLove, src: https://ayumilovemaple.wordpress.com/maplestory-gachapon-guide/\n */\n \n public class KerningCity extends GachaponItems {\n \n \t@Override\n \tpublic int[] getCommonItems() {\n \t\treturn new int [] {\n-\t\t\t\t//warriorEquips = {\n-\t\t\t\t\t\t1002023, 1082001, 1041084, 1060017, 1422008, \n-\t\t\t\t\t\t1402018, 1060019, 1072047, 1040009, 1060060, \n-\t\t\t\t\t\t//magicianEquips = {\n-\t\t\t\t\t\t1050029, 1072045, 1050028, 1372001, 1051024, \n-\t\t\t\t\t\t1061049, 1072091, 1041030, 1041042, 1002036, \n-\t\t\t\t\t\t//bowmanEquips = {\n-\t\t\t\t\t\t1072103, 1072034, 1072069, 1062004, 1082050, \n-\t\t\t\t\t\t1040003, 1061064, 1040074, 1061051, 1040079, \n-\t\t\t\t\t\t//thiefEquips = {\n-\t\t\t\t\t\t1002107, 1002108, 1002109, 1002110, 1002111, \n-\t\t\t\t\t\t1002122, 1002123, 1002124, 1002125, 1002126, \n-\t\t\t\t\t\t1002127, 1002128, 1002129, 1002130, 1002131, \n-\t\t\t\t\t\t1002146, 1002147, 1002148, 1002149, 1002150, \n-\t\t\t\t\t\t1002171, 1002172, 1002173, 1002174, 1002175, \n-\t\t\t\t\t\t1002176, 1002177, 1002178, 1002179, 1002180, \n-\t\t\t\t\t\t1002181, 1002182, 1002183, 1002184, 1002185, \n-\t\t\t\t\t\t1002207, 1002208, 1002209, 1002210, 1002247, \n-\t\t\t\t\t\t1002248, 1002249, 1002281, 1002282, 1002283, \n-\t\t\t\t\t\t1002284, 1002285, 1002323, 1002324, 1002325, \n-\t\t\t\t\t\t1002326, 1002327, 1002328, 1002329, 1002330, \n-\t\t\t\t\t\t1002380, 1002381, 1002382, 1002383, 1002550, \n-\t\t\t\t\t\t1002577, 1002656, 1002750, \n-\t\t\t\t\t\t1040031, 1040032, 1040033, 1040034, 1040035, \n-\t\t\t\t\t\t1040042, 1040043, 1040044, 1040048, 1040049, \n-\t\t\t\t\t\t1040050, 1040057, 1040058, 1040059, 1040060, \n-\t\t\t\t\t\t1040061, 1040062, 1040063, 1040082, 1040083, \n-\t\t\t\t\t\t1040084, 1040094, 1040095, 1040096, 1040097, \n-\t\t\t\t\t\t1040098, 1040099, 1040100, 1040105, 1040106, \n-\t\t\t\t\t\t1040107, 1040108, 1040109, 1040110, 1040115, \n-\t\t\t\t\t\t1040116, 1040117, 1040118, 1041003, 1041036, \n-\t\t\t\t\t\t1041037, 1041038, 1041039, 1041040, 1041044, \n-\t\t\t\t\t\t1041045, 1041047, 1041048, 1041049, 1041050, \n-\t\t\t\t\t\t1041057, 1041058, 1041059, 1041060, 1041074, \n-\t\t\t\t\t\t1041075, 1041076, 1041077, 1041078, 1041079, \n-\t\t\t\t\t\t1041080, 1041094, 1041095, 1041096, 1041100, \n-\t\t\t\t\t\t1041101, 1041102, 1041103, 1041105, 1041106, \n-\t\t\t\t\t\t1041107, 1041115, 1041116, 1041117, 1041118, \n-\t\t\t\t\t\t1050096, 1050097, 1050098, 1050099, 1051006, \n-\t\t\t\t\t\t1051007, 1051008, 1051009, 1051090, 1051091, \n-\t\t\t\t\t\t1051092, 1051093, 1052072, 1052163, \n-\t\t\t\t\t\t1060021, 1060022, 1060023, 1060024, 1060025, \n-\t\t\t\t\t\t1060031, 1060032, 1060033, 1060037, 1060038, \n-\t\t\t\t\t\t1060039, 1060043, 1060044, 1060045, 1060046, \n-\t\t\t\t\t\t1060050, 1060051, 1060052, 1060071, 1060072, \n-\t\t\t\t\t\t1060073, 1060083, 1060084, 1060085, 1060086, \n-\t\t\t\t\t\t1060087, 1060088, 1060089, 1060093, 1060094, \n-\t\t\t\t\t\t1060095, 1060097, 1060098, 1060099, 1060104, \n-\t\t\t\t\t\t1060105, 1060106, 1060107, 1061003, 1061029, \n-\t\t\t\t\t\t1061030, 1061031, 1061032, 1061033, 1061037, \n-\t\t\t\t\t\t1061038, 1061040, 1061041, 1061042, 1061043, \n-\t\t\t\t\t\t1061044, 1061045, 1061046, 1061053, 1061054, \n-\t\t\t\t\t\t1061055, 1061056, 1061069, 1061070, 1061071, \n-\t\t\t\t\t\t1061076, 1061077, 1061078, 1061079, 1061093, \n-\t\t\t\t\t\t1061094, 1061095, 1061099, 1061100, 1061101, \n-\t\t\t\t\t\t1061102, 1061104, 1061105, 1061106, 1061114, \n-\t\t\t\t\t\t1061115, 1061116, 1061117, 1072022, 1072028, \n-\t\t\t\t\t\t1072029, 1072030, 1072031, 1072032, 1072033, \n-\t\t\t\t\t\t1072035, 1072036, 1072065, 1072066, 1072070, \n-\t\t\t\t\t\t1072071, 1072084, 1072085, 1072086, 1072087, \n-\t\t\t\t\t\t1072104, 1072105, 1072106, 1072107, 1072108, \n-\t\t\t\t\t\t1072109, 1072110, 1072128, 1072129, 1072130, \n-\t\t\t\t\t\t1072131, 1072150, 1072151, 1072152, 1072161, \n-\t\t\t\t\t\t1072162, 1072163, 1072171, 1072172, 1072173, \n-\t\t\t\t\t\t1072174, 1072192, 1072193, 1072194, 1072195, \n-\t\t\t\t\t\t1072213, 1072214, 1072215, 1072216, 1072272, \n-\t\t\t\t\t\t1072346, 1082029, 1082030, \n-\t\t\t\t\t\t1082031, 1082032, 1082033, 1082034, 1082037, \n-\t\t\t\t\t\t1082038, 1082039, 1082042, 1082043, 1082044, \n-\t\t\t\t\t\t1082045, 1082046, 1082047, 1082065, 1082066, \n-\t\t\t\t\t\t1082067, 1082074, 1082075, 1082076, 1082092, \n-\t\t\t\t\t\t1082093, 1082094, 1082095, 1082096, 1082097, \n-\t\t\t\t\t\t1082118, 1082119, 1082120, 1082135, 1082136, \n-\t\t\t\t\t\t1082137, 1082138, 1082142, 1082143, 1082144, \n-\t\t\t\t\t\t1082167, 1082242, 1092018, 1092019, \n-\t\t\t\t\t\t1092020, 1302001, \n-\t\t\t\t\t\t1312002, 1332000, 1332001, 1332002, 1332003, \n-\t\t\t\t\t\t1332004, 1332011, 1332012, 1332013, 1332014, \n-\t\t\t\t\t\t1332015, 1332018, 1332023, 1332024, 1332027, \n-\t\t\t\t\t\t1332031, 1332050, 1332052, 1332054, \n-\t\t\t\t\t\t1332067, 1332068, 1332069, 1332070, 1332071, \n-\t\t\t\t\t\t1332072, 1332077, \n-\t\t\t\t\t\t1472000, 1472001, 1472002, \n-\t\t\t\t\t\t1472003, 1472004, 1472005, 1472006, 1472007, \n-\t\t\t\t\t\t1472008, 1472009, 1472010, 1472011, 1472012, \n-\t\t\t\t\t\t1472013, 1472014, 1472015, 1472016, 1472017, \n-\t\t\t\t\t\t1472018, 1472019, 1472020, 1472021, 1472022, \n-\t\t\t\t\t\t1472023, 1472024, 1472025, 1472026, 1472027, \n-\t\t\t\t\t\t1472028, 1472029, 1472031, 1472033, 1472051, \n-\t\t\t\t\t\t1472052, \n-\t\t\t\t\t\t1472069, 1472072, 1472074, \n-\t\t\t\t\t\t1472075, \n-\t\t\t\t\t\t///pirateEquips = {\n-\t\t\t\t\t\t1082192, 1072288, 1492003, 1052113, 1052104, \n-\t\t\t\t\t\t1492002, 1052095, 1492001, 1002613, 1492004, \n-\t\t};\n+                        \n+                        /* Scroll */\n+                        2041016, 2043302, 2040902, 2044804, 2044906,\n+\n+                        /* Useable drop */\n+                        2000004, 2000005, 2022025, 2022027,\n+\n+                        /* Common equipment */\n+                        1442013, 1432009, 1322021, 1050018, 1002392, 1002394, 1442004, 1372002, 1002418, 1002033, 1092008,\n+                        1082148, 1062001, 1302017, 1032023, 1102013, 1102040, 1002041, 1002097,\n+\n+                        /* Warrior equipment */\n+                        1332026, 1051010, 1432001, 1422005, 1332019, 1302010, 1002056, 1060011, 1322011, 1432004, 1002028,\n+                        1051000, 1442007, 1302002,\n+\n+                        /* Magician equipment */\n+                        1002037, 1002034, 1082020, 1050039, 1372000, 1002215, 1051034, 1040019, 1061034, 1382003, 1382006,\n+                        1050025,\n+\n+                        /* Bowman equipment */\n+                        1002118, 1061081, 1452011, 1462012, 1452006, 1452007,\n+\n+                        /* Thief equipment */\n+                        1472010, 1472029, 1041048, 1041095, 1060031, 1061033, 1041049, 1472011, 1040096, 1472033, 1332026,\n+                        1051006, 1082074, 1472025, 1061106, 1040084, 1332015, 1472000, 1332019, 1002183, 1002209, 1092020,\n+                        1332029, 1092019, 1061099, 1060106, 1040032, 1040059, 1332003, 1040060, 1060046, 1472005, 1332027,\n+                        \n+                        /* Pirate equipment */\n+                        1082192, 1072288, 1492003, 1052113, 1052104, \n+                        1492002, 1052095, 1492001, 1002613, 1492004\n+                };\n \t}\n \n \t@Override\n \tpublic int[] getUncommonItems() {\n-\t\treturn new int[] {1472053, 1332064, 1092050, 1472054};\n+\t\treturn new int[] {2040805, 1082149, 1102041};\n \t}\n \n \t@Override\n \tpublic int[] getRareItems() {\n-\t\treturn new int[] {1472073, 1092049, 1002793, 1332079, 1072364, 1472062, 1332078, 1332080};\n+\t\treturn new int[] {};\n \t}\n \n }"}, {"sha": "bb09839fdeecf909fb289bb3b2baca8a6923a224", "filename": "src/server/gachapon/Ludibrium.java", "status": "added", "additions": 56, "deletions": 0, "changes": 56, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/gachapon/Ludibrium.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/gachapon/Ludibrium.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/gachapon/Ludibrium.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -0,0 +1,56 @@\n+package server.gachapon;\n+\n+/**\n+*\n+* @author Ronan - parsed MapleSEA loots\n+* \n+* MapleSEA-like loots thanks to AyumiLove, src: https://ayumilovemaple.wordpress.com/maplestory-gachapon-guide/\n+*/\n+\n+public class Ludibrium extends GachaponItems {\n+\n+\t@Override\n+\tpublic int[] getCommonItems() {\n+\t\treturn new int [] {\n+                        \n+                        /* Scroll */\n+                        2048000, 2040601, 2041019, 2041007, 2041016, 2041022, 2041001, 2041010, 2041013, 2041004, 2044701, 2043301, 2040301, 2048004, 2048001, 2040901, 2040701, 2040704, 2040707, 2040602, 2041020, 2041008, 2041017, 2041023, 2041002, 2041011, 2041014, 2041005, 2044702, 2043302, 2040302, 2040002, 2044402, 2048005, 2048002, 2040702, 2040705, 2040708, 2044302, 2043802, 2040402, 2043702, 2044811,\n+\n+                        /* Useable drop */\n+                        2000004, 2000005, 4006000, 4006001,\n+\n+                        /* Common equipment */\n+                        1032003, 1432009, 1302022, 1302029, 1102014, 1102018, 1312014, 1302026, 1102015, 1032011, 1312013, 1032008, 1032019, 1032007, 1332030, 1032020, 1032004, 1302027, 1032022, 1312012, 1032021, 1032006, 1302028, 1322003, 1032016, 1032015, 1302024, 1092008, 1032018, 1302021, 1032014, 1332021, 1322012, 1032005, 1032013, 1102012, 1302025, 1302013, 1032002, 1032001, 1032012, 1302017, 1032010, 1402014, 1102017, 1102013, 1442021, 1032009,\n+\n+                        /* Beginner equipment */\n+                        1332021, 1422011,\n+\n+                        /* Warrior equipment */\n+                        1402017, 1422005, 1002023, 1332016, 1432005,\n+\n+                        /* Magician equipment */\n+                        1002037, 1002034, 1002064, 1002038, 1002013, 1002036, 1382011, 1002035, 1002065, 1382014, 1372001,\n+\n+                        /* Bowman equipment */\n+                        1452026, 1002162, 1002164, 1462018, 1002165, 1452014, 1002163, 1452012, 1002161, 1452009, 1462007,\n+\n+                        /* Thief Equipment */\n+                        1332022, 1002175, 1002172, 1002174, 1040096, 1472033, 1002173, 1332054, 1472054, 1002171, 1332016,\n+\n+                        /* Pirate equipment */\n+                        1002646\n+                        \n+                };\n+\t}\n+\n+\t@Override\n+\tpublic int[] getUncommonItems() {\n+\t\treturn new int [] {2040805, 1002419, 1442018};\n+\t}\n+\n+\t@Override\n+\tpublic int[] getRareItems() {\n+\t\treturn new int [] {};\n+\t}\n+\n+}"}, {"sha": "75825bd52efc23e291e85d6953b1007002e7977b", "filename": "src/server/gachapon/MapleGachapon.java", "status": "modified", "additions": 45, "deletions": 3, "changes": 48, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/gachapon/MapleGachapon.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/gachapon/MapleGachapon.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/gachapon/MapleGachapon.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -21,6 +21,7 @@\n  */\n package server.gachapon;\n \n+import server.MapleItemInformationProvider;\n import tools.Randomizer;\n \n /**\n@@ -46,9 +47,11 @@ public static MapleGachapon getInstance() {\n \t\tMUSHROOM_SHRINE(9100105, 90, 8, 2, new MushroomShrine()),\n \t\tSHOWA_SPA_MALE(9100106, 90, 8, 2, new ShowaSpaMale()),\n \t\tSHOWA_SPA_FEMALE(9100107, 90, 8, 2, new ShowaSpaFemale()),\n+                LUDIBRIUM(9100108, 90, 8, 2, new Ludibrium()),\n \t\tNEW_LEAF_CITY(9100109, 90, 8, 2, new NewLeafCity()),\n+                EL_NATH(9100110, 90, 8, 2, new ElNath()),\n \t\tNAUTILUS_HARBOR(9100117, 90, 8, 2, new NautilusHarbor());\n-\n+                \n \t\tprivate static final Gachapon[] values = Gachapon.values();\n \n \t\tprivate GachaponItems gachapon;\n@@ -71,8 +74,9 @@ private int getTier() {\n \t\t\t\treturn 2; //Rare\n \t\t\t} else if (chance > common) {\n \t\t\t\treturn 1; //Uncommon\n-\t\t\t}\n-\t\t\treturn 0; //Common\n+\t\t\t} else {\n+                                return 0; //Common\n+                        }\n \t\t}\n \t\t\n \t\tpublic int [] getItems(int tier){\n@@ -94,6 +98,44 @@ public static Gachapon getByNpcId(int npcId) {\n \t\t\t}\n \t\t\treturn null;\n \t\t}\n+                \n+                public static String[] getLootInfo() {\n+\t\t\tMapleItemInformationProvider ii = MapleItemInformationProvider.getInstance();\n+                        \n+                        String[] strList = new String[values.length + 1];\n+                        \n+                        String menuStr = \"\";\n+                        int j = 0;\n+                        for (Gachapon gacha : values) {\n+                                menuStr += \"#L\" + j + \"#\" + gacha.name() + \"#l\\r\\n\";\n+                                j++;\n+                                \n+                                String str = \"\";\n+\t\t\t\tfor (int i = 0; i < 3; i++) {\n+                                        int[] gachaItems = gacha.getItems(i);\n+                                        \n+                                        if (gachaItems.length > 0) {\n+                                                str += (\"  #rTier \" + i + \"#k:\\r\\n\");\n+                                                for (int itemid : gachaItems) {\n+                                                        String itemName = ii.getName(itemid);\n+                                                        if (itemName == null) {\n+                                                                itemName = \"MISSING NAME #\" + itemid;\n+                                                        }\n+\n+                                                        str += (\"    \" + itemName + \"\\r\\n\");\n+                                                }\n+\n+                                                str += \"\\r\\n\";\n+                                        }\n+                                }\n+                                str += \"\\r\\n\";\n+                                \n+                                strList[j] = str;\n+\t\t\t}\n+                        strList[0] = menuStr;\n+                        \n+\t\t\treturn strList;\n+\t\t}\n \t}\n \t\n \tpublic MapleGachaponItem process(int npcId) {"}, {"sha": "f805f9b6de5522a091cecfff0821eceed6ea1f01", "filename": "src/server/gachapon/MushroomShrine.java", "status": "modified", "additions": 37, "deletions": 19, "changes": 56, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/gachapon/MushroomShrine.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/gachapon/MushroomShrine.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/gachapon/MushroomShrine.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -2,39 +2,57 @@\n \n /**\n *\n-* @author Alan (SharpAceX)\n+* @author Alan (SharpAceX) - gachapon source classes stub\n+* @author Ronan - parsed MapleSEA loots\n+* \n+* MapleSEA-like loots thanks to AyumiLove, src: https://ayumilovemaple.wordpress.com/maplestory-gachapon-guide/\n */\n \n public class MushroomShrine extends GachaponItems {\n \n \t@Override\n \tpublic int[] getCommonItems() {\n-\t\treturn new int []{\n-\t\t\t\t1382011, 1332024, 1302022, 1302021, 1462006, 1402009, 1402010, 1322012, 1312013, 1472008,\n-\t\t\t\t1432008, 1050100, 1051098,\n-\t\t};\n+\t\treturn new int [] {\n+                        \n+                        /* Scroll */\n+                        2040305, 2040306, 2040308, 2044604, 2041039, 2041037, 2041035, 2041034, 2041041, 2040608, 2040605, 2040604, 2040611,\n+                        2040610, 2040813, 2040808, 2043004, 2040017, 2040015, 2040011, 2040013, 2040405, 2040406, 2040410, 2040511, 2040509,\n+                        2040508, 2040519, 2040521, 2040108, 2040904, 2040908, 2043104, 2044104, 2043005, 2043004, 2043006, 2044004, 2044205,\n+                        2043304, 2040607, 2040715, 2040713, 2044305, 2044904,\n+\n+                        /* Common equipment */\n+                        1102040, 1002392, 1432009, 1002393, 1002394, 1082147, 1082148, 1032028, 1002585, 1002586, 1432013, 1022047, 1322027,\n+                        1012056, 1432018,\n+\n+                        /* Beginner equipment */\n+                        1072264, 1072262, 1072263,\n+\n+                        /* Warrior equipment */\n+                        1060074, 1322002, 1002340, 1442004, 1402037, 1422008, 1050022,\n+\n+                        /* Mage equipment */\n+                        1382037, 1060014, 1051026, 1050056, 1050029, 1051030, 1382036, 1372032, 1041015, 1382015, 1372008, 1382008,\n+\n+                        /* Bowman equipment */\n+                        1452018, 1041068, 1462007,\n+\n+                        /* Thief equipment */\n+                        1060052, 1472013, 1002180, 1002170, 1060073, 1060099,\n+                        \n+                        /* Pirate equipment */\n+                        1492004, 1492012, 1482009, 1072303, 1002637, 1052107, 1082189, 1052116, 1072309 \n+\n+                };\n \t}\n \n \t@Override\n \tpublic int[] getUncommonItems() {\n-\t\t//All Scrolls\n-\t\treturn new int [] {\n-\t\t\t\t2043015, 2043017, 2043019, 2044000, 2044001, 2044002, 2044004, 2044005, 2044010, 2044012,\n-\t\t\t\t2044014, 2043200, 2043201, 2043202, 2043204, 2043205, 2043210, 2043212, 2043214, 2044200,\n-\t\t\t\t2044201, 2044202, 2044204, 2044205, 2044210, 2044212, 2044214, 2044300, 2044301, 2044302,\n-\t\t\t\t2044304, 2044305, 2044310, 2044312, 2044314, 2044400, 2044401, 2044402, 2044404, 2044405,\n-\t\t\t\t2044410, 2044412, 2044414,\n-\t\t\t\t2043800, 2043801, 2043802, 2043804, 2043805, 2043700, 2043701, 2043702, 2043704, 2043705,\n-\t\t\t\t2044605, 2044604, 2044602, 2044601, 2044600, 2044505, 2044504, 2044502, 2044501, 2044500,\n-\t\t\t\t2044700, 2044701, 2044702, 2044704, 2044705, 2043300, 2043301, 2043302, 2043304, 2043305,\n-\t\t\t\t2044800, 2044801, 2044802, 2044803, 2044804, 2044805, 2044807, 2044809, 2044900, 2044901,\n-\t\t\t\t2044902, 2044903, 2044904,\n-\t\t};\n+\t\treturn new int [] {2040811, 2040810, 2040815, 1102041, 1102042, 1082149};\n \t}\n \n \t@Override\n \tpublic int[] getRareItems() {\n-\t\treturn new int [] {};\n+\t\treturn new int [] {1102084, 3010019};\n \t}\n \n }"}, {"sha": "dff11518c43cc793618b4deb566541e150bf48ef", "filename": "src/server/gachapon/NautilusHarbor.java", "status": "modified", "additions": 44, "deletions": 27, "changes": 71, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/gachapon/NautilusHarbor.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/gachapon/NautilusHarbor.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/gachapon/NautilusHarbor.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -2,48 +2,65 @@\n \n /**\n *\n-* @author Alan (SharpAceX)\n+* @author Alan (SharpAceX) - gachapon source classes stub & pirate items\n+* @author Ronan - parsed MapleSEA loots\n+* \n+* MapleSEA-like loots thanks to AyumiLove, src: https://ayumilovemaple.wordpress.com/maplestory-gachapon-guide/\n */\n \n public class NautilusHarbor extends GachaponItems {\n \n \t@Override\n \tpublic int[] getCommonItems() {\n \t\treturn new int[] {\n-\t\t\t\t/* Warrior Equips*/\t1060017, 1302008, 1002055, 1041064, 1072127, 1072047, 1072002, 1040028, 1072041, 1092000,\n-\t\t\t\t/* Mage Equips */\t1050010, 1072006, 1061022, 1051003, 1072074, 1050008, 1082053, 1051026, 1382015, 1002013,\n-\t\t\t\t/* Bowman Equips */ 1082048, 1041056, 1002157, 1462048, 1041054, 1061061, 1002161, 1002162, 1002158, 1002120,\n-\t\t\t\t/* Thief Equips */\t1040061, 1072031, 1051009, 1072036, 1002182, 1060073, 1472013, 1472009, 1002184, 1061055,\n-\t\t\t\t/* Pirate Equips */ 1002610, 1002616, 1002622, 1002628, 1002634, 1002640, 1002646, 1052095, 1052101, 1052107,\n-\t\t\t\t\t\t\t\t\t1052113, 1052119, 1052125, 1052131, 1072285, 1072291, 1072297, 1072303, 1072309, 1072315,\n-\t\t\t\t\t\t\t\t\t1082180, 1082186, 1082192, 1082198, 1082204, 1082210, 1482001, 1482003, 1482005, 1482007,\n-\t\t\t\t\t\t\t\t\t1482009, 1482011, 1492000, 1492002, 1492004, 1492006, 1492008, 1492010, 1492012, 1002613,\n-\t\t\t\t\t\t\t\t\t1002619, 1002625, 1002631, 1002637, 1002643, 1052098, 1052104, 1052110, 1052116, 1052122,\n-\t\t\t\t\t\t\t\t\t1052128, 1072288, 1072294, 1072300, 1072306, 1072312, 1072318, 1072338, 1082183, 1082189,\n-\t\t\t\t\t\t\t\t\t1082195, 1082201, 1082207, 1082213, 1482000, 1482002, 1482004, 1482006, 1482008, 1482010,\n-\t\t\t\t\t\t\t\t\t1482012, 1492001, 1492003, 1492005, 1492007, 1492009, 1492011,\n-\t\t\t\t/*KnucklerScrolls*/ 2044800, 2044801, 2044802, 2044803, 2044804, 2044805, 2044806, 2044807, 2044808, 2044809,\n-\t\t\t\t/* Gun Scrolls */\t2044900, 2044901, 2044902, 2044903, 2044904,\n-\t\t\t\t/* Bullets */\t\t2330005, 2330004\n-\t\t\t\t};\n+                        /* Scroll */\n+                        2040605, 2040626, 2040609, 2040607, 2041029, 2041027, 2041031, 2041037, 2041033, 2041039, 2041041, 2041035,\n+                        2040809, 2040813, 2040015, 2040009, 2040011, 2040013, 2040509, 2040521, 2040519, 2040507, 2040905, 2040909,\n+                        2040907, 2040713, 2040715, 2040717, 2040405, 2040409, 2040407, 2040426, 2040303, 2040307, 2040309, 2044505,\n+                        2044705, 2044605, 2043305, 2043105, 2043205, 2043005, 2043007, 2044405, 2044305, 2043805, 2044105, 2044205,\n+                        2044005, 2043705, 2044901,\n+\n+                        /* Useable drop */\n+                        2012000, 2000004, 2020008, 2000005, 2012002, 2101004, 2101005, 2101002, 2101003, 4006000, \n+\n+                        /* Warrior equipment */\n+                        1092014, 1402017, \n+\n+                        /* Magician equipment */\n+                        1002037, 1002034, 1002064, 1002038, 1382037, 1372000, 1002013, 1002035, 1002065, 1382000, \n+\n+                        /* Bowman equipment */\n+                        1452018, \n+\n+                        /* Thief equipment */\n+                        1472010, 1002175, 1472017, 1472025, \n+                    \n+                        /* Pirate equipment */\n+                        1002610, 1002616, 1002622, 1002628, 1002634, 1002640, 1002646, 1052095, 1052101, 1052107,\n+                        1052113, 1052119, 1052125, 1052131, 1072285, 1072291, 1072297, 1072303, 1072309, 1072315,\n+                        1082180, 1082186, 1082192, 1082198, 1082204, 1082210, 1482001, 1482003, 1482005, 1482007,\n+                        1482009, 1482011, 1492000, 1492002, 1492004, 1492006, 1492008, 1492010, 1492012, 1002613,\n+                        1002619, 1002625, 1002631, 1002637, 1002643, 1052098, 1052104, 1052110, 1052116, 1052122,\n+                        1052128, 1072288, 1072294, 1072300, 1072306, 1072312, 1072318, 1072338, 1082183, 1082189,\n+                        1082195, 1082201, 1082207, 1082213, 1482000, 1482002, 1482004, 1482006, 1482008, 1482010,\n+                        1482012, 1492001, 1492003, 1492005, 1492007, 1492009, 1492011,\n+                        \n+                        /* Knuckler Scrolls */\n+                        2044800, 2044801, 2044802, 2044803, 2044804, 2044805, 2044806, 2044807, 2044808, 2044809,\n+                        \n+                        /* Gun Scrolls */\n+                        2044900, 2044901, 2044902, 2044903, 2044904\n+                };\n \t}\n \n \t@Override\n \tpublic int[] getUncommonItems() {\n-\t\treturn new int[] {\t\n-\t\t\t\t/* Pirate Equips */\t1072321, 1082216, 1482013, 1002649, 1052134, 1492013,\n-\t\t\t\t/* Mastery Books */ 2290097, 2290098, 2290099, 2290100, 2290101, 2290102, 2290103, 2290104, 2290105, 2290106,\n-\t\t\t\t\t\t\t\t\t2290107, 2290108, 2290110, 2290111, 2290111, 2290113, 2290114, 2290115, 2290116, 2290117,\n-\t\t\t\t\t\t\t\t\t2290118, 2290119, 2290120, 2290121, 2290122, 2290123, 2290124\n-\t\t\t\t\t\t\t\t\t};\n+\t\treturn new int[] {2040811, 2040815, 2101001};\n \t}\n \n \t@Override\n \tpublic int[] getRareItems() {\n-\t\treturn new int[] {\n-\t\t\t\t/* Pirate Equips */\t1082243, 1482024, 1002794, 1052164, 1072365,\n-\t\t\t\t\t\t\t\t\t1482034, 1492025\n-\t\t};\n+\t\treturn new int[] {};\n \t}\n \n }"}, {"sha": "2f7f6a7aa1cb0c26b17d8b58bd65192e6d8e2bda", "filename": "src/server/gachapon/NewLeafCity.java", "status": "modified", "additions": 33, "deletions": 44, "changes": 77, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/gachapon/NewLeafCity.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/gachapon/NewLeafCity.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/gachapon/NewLeafCity.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -2,65 +2,54 @@\n \n /**\n *\n-* @author Alan (SharpAceX)\n+* @author Alan (SharpAceX) - gachapon source classes stub & pirate equipment\n+* @author Ronan - parsed MapleSEA loots, thanks Vcoc for noticing somewhat unbalanced loots in NLC\n+* \n+* MapleSEA-like loots thanks to AyumiLove, src: https://ayumilovemaple.wordpress.com/maplestory-gachapon-guide/\n */\n \n public class NewLeafCity extends GachaponItems {\n \n \t@Override\n \tpublic int[] getCommonItems() {\n \t\treturn new int[] {\n-\t\t\t\t/* Warrior Equips*/\t1002338, 1002339, 1002340, 1002377, 1002378, 1002379, 1002528, 1002529, 1002530, 1002531,\n-\t\t\t\t\t\t\t\t\t1002532, 1040111, 1040112, 1040113, 1040120, 1040121, 1040122, 1041119, 1041120, 1041121,\n-\t\t\t\t\t\t\t\t\t1041122, 1041123, 1041124, 1050080, 1050081, 1050082, 1050083, 1051077, 1051078, 1051079,\n-\t\t\t\t\t\t\t\t\t1051080, 1060100, 1060101, 1060102, 1060109, 1060110, 1060111, 1061118, 1061119, 1061120,\n-\t\t\t\t\t\t\t\t\t1061121, 1061122, 1061123, 1072196, 1072197, 1072198, 1072210, 1072211, 1072212, 1072220, \n-\t\t\t\t\t\t\t\t\t1072221, 1072222, 1082114, 1082115, 1082116, 1082117, 1082128, 1082129, 1082130, 1082139, \n-\t\t\t\t\t\t\t\t\t1082140, 1082141, 1092023, 1092024, 1092025, 1092026, 1092027, 1092028, 1092036, 1092037, \n-\t\t\t\t\t\t\t\t\t1092038, 1092061, 1302018, 1302023, 1302056, 1312011, 1312015, 1312030, 1322020, 1322028, \n-\t\t\t\t\t\t\t\t\t1322029, 1322045, 1402004, 1402005, 1402015, 1402016, 1402035,  \n-\t\t\t\t\t\t\t\t\t1412009, 1412010, 1412021, 1412040, 1422012, 1422013, 1422027, 1432010, \n-\t\t\t\t\t\t\t\t\t1432011, 1432030, 1432056, 1442019, 1442020, 1442044,\n-\t\t\t\t/* Mage Equips */\t1002271, 1002272, 1002273, 1002274, 1002363, 1002364, 1002365, 1002366, 1002398, 1002399, \n-\t\t\t\t\t\t\t\t\t1002400, 1002401, 1050072, 1050073, 1050074, 1050092, 1050093, 1050094, 1050095, 1050102,\n-\t\t\t\t\t\t\t\t\t1050103, 1050104, 1050105, 1051056, 1051057, 1051058, 1051094, 1051095, 1051096, 1051097,\n-\t\t\t\t\t\t\t\t\t1051101, 1051102, 1051103, 1051104, 1072177, 1072178, 1072179, 1072206, 1072207, 1072208,\n-\t\t\t\t\t\t\t\t\t1072209, 1072223, 1072224, 1072225, 1072226, 1082121, 1082122, 1082123, 1082131, 1082132,\n-\t\t\t\t\t\t\t\t\t1082133, 1082134, 1082151, 1082152, 1082153, 1082154, 1372009, 1372010, 1372016, 1382008,\n-\t\t\t\t\t\t\t\t\t1382010, 1382016, 1382035, 1382056, 1382060, \n-\t\t\t\t/* Bowman Equips */ 1002275, 1002276, 1002277, 1002275, 1002278, 1002402, 1002403, 1002404, 1002405, 1002406,\n-\t\t\t\t\t\t\t\t\t1002407, 1002408, 1050075, 1050076, 1050077, 1050078, 1050088, 1050089, 1050090, 1050091,\n-\t\t\t\t\t\t\t\t\t1050106, 1050107, 1050108, 1002275, 1051066, 1051067, 1051068, 1051069, 1051082, 1051083,\n-\t\t\t\t\t\t\t\t\t1051084, 1051085, 1051105, 1051106, 1051107, 1072182, 1072183, 1072184, 1072185, 1072203,\n-\t\t\t\t\t\t\t\t\t1072204, 1072205, 1072227, 1072228, 1072229, 1082109, 1082110, 1082111, 1082112, 1082125,\n-\t\t\t\t\t\t\t\t\t1082126, 1082127, 1082158, 1082159, 1082160, 1452012, 1452013, 1452014, 1452015, 1452017,\n-\t\t\t\t\t\t\t\t\t1452019, 1452020, 1452021, 1452025, 1452026, 1452060, 1462010, 1452017, 1462011, 1462012,\n-\t\t\t\t\t\t\t\t\t1462013, 1462015, 1462016, 1462017, 1462018, 1462021, 1462022, 1462049, \n-\t\t\t\t/* Thief Equips */\t1002323, 1002324, 1002325, 1002326, 1002327, 1002328, 1002329, 1002330, 1002380, 1002381,\n-\t\t\t\t\t\t\t\t\t1002382, 1002383, 1040108, 1040109, 1040110, 1040115, 1040117, 1040118, 1041105, 1041106,\n-\t\t\t\t\t\t\t\t\t1041107, 1041115, 1041116, 1041117, 1041118, 1050096, 1050097, 1050098, 1050099, 1051090,\n-\t\t\t\t\t\t\t\t\t1051091, 1051092, 1051093, 1060097, 1060098, 1060099, 1060104, 1060105, 1060106, 1060107,\n-\t\t\t\t\t\t\t\t\t1061104, 1061105, 1061106, 1061114, 1061115, 1061116, 1061117, 1072172, 1072173, 1072174,\n-\t\t\t\t\t\t\t\t\t1072192, 1072193, 1072194, 1072195, 1072213, 1072214, 1072215, 1072216, 1082118, 1082119,\n-\t\t\t\t\t\t\t\t\t1082120, 1082135, 1082136, 1082137, 1082138, 1082143, 1082144, 1092050, 1332023, 1332027,\n-\t\t\t\t\t\t\t\t\t1332052, 1332069, 1332072, 1472031, 1472033, 1472053,\n-\t\t\t\t/* Pirate Equips */ 1002640, 1002643, 1002646, 1052125, 1052128, 1052131, 1072312, 1072315, 1072318, 1082207,\n-\t\t\t\t\t\t\t\t\t1082210, 1082213, 1482010, 1482011, 1002640, 1482012, 1492010, 1492011, 1492012\n-\t\t};\n+                        \n+                        /* Scroll */\n+                        2040406, 2040408, 2040404, 2040411, 2040409, 2044405, 2040610, 2040607, 2040812, 2041039, 2041040, 2041034,\n+                        2041030, 2041037, 2043105, 2043304, 2040103, 2040605, 2040611, 2043004, 2043204, 2044204, 2044005, 2040521,\n+                        2040510, 2043304, 2040908, 2040904, 2040907, 2040809, 2040812, 2040014, 2040714, 2040712, 2044004, 2043705,\n+                        2044505, 2040519, 2040204, 2040104, 2040109, 2044704, 2040906, 2044304, 2043007, 2040307, 2040304, 2040309,\n+                        2040208, 2040209, 2044803,\n+\n+                        /* Common equipment */\n+                        1102040, 1102086, 1082145, 1032027, 1082146, 1002395, 1002083, 1002392, 1002587, 1022047,\n+\n+                        /* Warrior equipment */\n+                        1312002, 1432013, 1060030, 1422008, 1050022, 1050011, 1402013, 1402017, 1302012,\n+\n+                        /* Mage equipment */\n+                        1002074, 1050029, 1040093, 1050056, 1050039, 1382008,\n+\n+                        /* Bowman equipment */\n+                        1002159, 1061051, 1040023,\n+\n+                        /* Thief equipment */\n+                        1061054, 1061106, 1002249, 1040084, 1060052, 1472054,\n+                        \n+                        /* Pirate equipment */\n+                        1002640, 1002643, 1002646, 1052125, 1052128, 1052131, 1072312, 1072315, 1072318, 1082207, 1082210, 1082213,\n+                        1482010, 1482011, 1002640, 1482012, 1492010, 1492011, 1492012\n+                };\n \t}\n \n \t@Override\n \tpublic int[] getUncommonItems() {\n-\t\treturn new int[] {\n-\t\t\t\t2022179\n-\t\t};\n+\t\treturn new int[] {2022284, 2040811, 2040815, 2040811, 1102041, 1102042, 1082149};\n \t}\n \n \t@Override\n \tpublic int[] getRareItems() {\n-\t\treturn new int[] {\n-\t\t\t\t2049100\n-\t\t};\n+\t\treturn new int[] {};\n \t}\n \n }"}, {"sha": "23eaf6f4f2a24617d90224c455714cf17968dadb", "filename": "src/server/gachapon/Perion.java", "status": "modified", "additions": 35, "deletions": 115, "changes": 150, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/gachapon/Perion.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/gachapon/Perion.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/gachapon/Perion.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -2,136 +2,56 @@\n \n /**\n *\n-* @author Alan (SharpAceX)\n+* @author Alan (SharpAceX) - gachapon source classes stub & pirate equipment\n+* @author Ronan - parsed MapleSEA loots\n+* \n+* MapleSEA-like loots thanks to AyumiLove, src: https://ayumilovemaple.wordpress.com/maplestory-gachapon-guide/\n */\n \n public class Perion extends GachaponItems {\n \n \t@Override\n \tpublic int[] getCommonItems() {\n \t\treturn new int [] {\n-\t\t\t\t//warriorEquips = {\n-\t\t\t\t1002002, 1002003, 1002004, 1002005, 1002007, \n-\t\t\t\t1002009, 1002011, 1002021, 1002022, 1002023, \n-\t\t\t\t1002024, 1002025, 1002027, 1002028, 1002029, \n-\t\t\t\t1002030, 1002039, 1002040, 1002043, 1002044, \n-\t\t\t\t1002045, 1002046, 1002047, 1002048, 1002049, \n-\t\t\t\t1002050, 1002051, 1002052, 1002055, 1002056, \n-\t\t\t\t1002058, 1002059, 1002084, 1002085, 1002086, \n-\t\t\t\t1002087, 1002088, 1002091, 1002092, 1002093, \n-\t\t\t\t1002094, 1002095, 1002098, 1002099, 1002100, \n-\t\t\t\t1002101, 1002338, 1002339, 1002340, 1002377, \n-\t\t\t\t1002378, 1002379, 1002528, 1002529, 1002530, \n-\t\t\t\t1002531, 1002532, 1002551, 1002578, \n-\t\t\t\t1002790, 1040000, 1040009, 1040012, 1040015, \n-\t\t\t\t1040016, 1040021, 1040026, 1040028, 1040029, \n-\t\t\t\t1040030, 1040037, 1040038, 1040039, 1040040, \n-\t\t\t\t1040041, 1040085, 1040086, 1040087, 1040088, \n-\t\t\t\t1040089, 1040090, 1040091, 1040092, 1040093, \n-\t\t\t\t1040102, 1040103, 1040104, 1040111, 1040112, \n-\t\t\t\t1040113, 1040120, 1040121, 1040122, 1041014, \n-\t\t\t\t1041019, 1041020, 1041021, 1041022, 1041023, \n-\t\t\t\t1041024, 1041064, 1041084, 1041085, 1041086, \n-\t\t\t\t1041087, 1041088, 1041089, 1041091, 1041092, \n-\t\t\t\t1041093, 1041097, 1041098, 1041099, 1041119, \n-\t\t\t\t1041120, 1041121, 1041122, 1041123, 1041124, \n-\t\t\t\t1050000, 1050005, 1050006, 1050007, 1050011, \n-\t\t\t\t1050021, 1050022, 1050080, 1050081, 1050082, \n-\t\t\t\t1050083, 1051000, 1051001, 1051010, 1051011, \n-\t\t\t\t1051012, 1051013, 1051014, 1051015, 1051016, \n-\t\t\t\t1051077, 1051078, 1051079, 1051080, 1052075, \n-\t\t\t\t1052160, 1060000, 1060008, 1060009, \n-\t\t\t\t1060010, 1060011, 1060016, 1060017, 1060018, \n-\t\t\t\t1060019, 1060020, 1060027, 1060028, 1060029, \n-\t\t\t\t1060030, 1060060, 1060074, 1060075, 1060076, \n-\t\t\t\t1060077, 1060078, 1060079, 1060080, 1060081, \n-\t\t\t\t1060082, 1060090, 1060091, 1060092, 1060100, \n-\t\t\t\t1060101, 1060102, 1060109, 1060110, 1060111, \n-\t\t\t\t1061014, 1061015, 1061016, 1061017, 1061018, \n-\t\t\t\t1061019, 1061020, 1061023, 1061083, 1061084, \n-\t\t\t\t1061085, 1061086, 1061087, 1061088, 1061090, \n-\t\t\t\t1061091, 1061092, 1061096, 1061097, 1061098, \n-\t\t\t\t1061118, 1061119, 1061120, 1061121, 1061122, \n-\t\t\t\t1061123, 1072000, 1072002, 1072003, 1072007, \n-\t\t\t\t1072009, 1072011, 1072039, 1072040, 1072041, \n-\t\t\t\t1072046, 1072047, 1072050, 1072051, 1072052, \n-\t\t\t\t1072053, 1072112, 1072113, 1072126, 1072127, \n-\t\t\t\t1072132, 1072133, 1072134, 1072135, 1072147, \n-\t\t\t\t1072148, 1072149, 1072154, 1072155, 1072156, \n-\t\t\t\t1072168, 1072196, 1072197, 1072198, 1072210, \n-\t\t\t\t1072211, 1072212, 1072220, 1072221, 1072222, \n-\t\t\t\t1072273, 1082000, 1082001, \n-\t\t\t\t1082003, 1082004, 1082005, 1082006, 1082007, \n-\t\t\t\t1082008, 1082009, 1082010, 1082011, 1082023, \n-\t\t\t\t1082024, 1082025, 1082035, 1082036, 1082059, \n-\t\t\t\t1082060, 1082061, 1082103, 1082104, 1082105, \n-\t\t\t\t1082114, 1082115, 1082116, 1082117, 1082128, \n-\t\t\t\t1082129, 1082130, 1082139, 1082140, 1082141, \n-\t\t\t\t1082168, 1082218, 1082239, 1092000, \n-\t\t\t\t1092001, 1092002, 1092004, 1092005, 1092006, \n-\t\t\t\t1092007, 1092009, 1092010, 1092011, 1092012, \n-\t\t\t\t1092013, 1092014, 1092015, 1092016, 1092017, \n-\t\t\t\t1092023, 1092024, 1092025, 1092026, 1092027, \n-\t\t\t\t1092028, 1092036, 1092037, 1092038, \n-\t\t\t\t1092060, 1092061, 1302002, 1302004, 1302005, \n-\t\t\t\t1302008, 1302009, 1302010, 1302011, 1302012, \n-\t\t\t\t1302015, 1302018, 1302019, 1302023, 1302037, \n-\t\t\t\t1302056, 1302059, 1302068, 1302079, \n-\t\t\t\t1312001, 1312003, 1312005, \n-\t\t\t\t1312006, 1312007, 1312008, 1312009, 1312010, \n-\t\t\t\t1312011, 1312015, 1312016, 1312030, 1312031, \n-\t\t\t\t1322014, 1322015, \n-\t\t\t\t1322016, 1322017, 1322018, 1322019, 1322020, \n-\t\t\t\t1322028, 1322029, 1322045, 1322052, 1322059, \n-\t\t\t\t1322062, 1402000, \n-\t\t\t\t1402002, 1402003, 1402004, 1402005, 1402006, \n-\t\t\t\t1402007, 1402008, 1402011, 1402012, 1402015, \n-\t\t\t\t1402016, 1402017, 1402018, 1402035, 1402036,\n-\t\t\t\t1412000, 1412002, \n-\t\t\t\t1412003, 1412004, 1412005, 1412006, 1412007, \n-\t\t\t\t1412008, 1412009, 1412010, 1412012, 1412021, \n-\t\t\t\t1412026, 1412032, 1412040, \n-\t\t\t\t1422001, 1422002, 1422003, 1422005, \n-\t\t\t\t1422007, 1422008, 1422009, 1422010, 1422012, \n-\t\t\t\t1422013, 1422027, 1422028, 1422030, 1422031, \n-\t\t\t\t1422038, 1422044, 1432002, 1432003, \n-\t\t\t\t1432004, 1432005, 1432006, 1432007, 1432010, \n-\t\t\t\t1432011, 1432030, 1432038, 1432045, \n-\t\t\t\t1432048, 1432056, 1442001, 1442002, \n-\t\t\t\t1442003, 1442005, 1442006, 1442007, 1442008, \n-\t\t\t\t1442009, 1442010, 1442019, 1442020, 1442044, \n-\t\t\t\t1442045, 1442060, 1442067, \n-\t\t\t\t//magicianEquips = {\n-\t\t\t\t1002075, 1050035, 1002151, 1051023, 1072089, \n-\t\t\t\t1072115, 1072076, 1040018, 1382017, 1072072, \n-\t\t\t\t//bowmanEquips = {\n-\t\t\t\t1040011, 1041061, 1040076, 1040003, 1072059, \n-\t\t\t\t1082017, 1002114, 1041066, 1060057, 1040007, \n-\t\t\t\t//thiefEquips = {\n-\t\t\t\t1072032, 1472011, 1082037, 1040059, 1040084, \n-\t\t\t\t1040043, 1072085, 1040031, 1332031, 1082075, \n-\t\t\t\t//pirateEquips = {\n-\t\t\t\t1482001, 1492002, 1052113, 1002616, 1072294, \n-\t\t\t\t1492004, 1482006, 1082192, 1082189, 1082195, \n-\t\t};\n+                        \n+                        /* Scrolls */\n+                        2044907, 2044802,\n+                        \n+                        /* Useable drop */\n+                        2000004, 2000005,\n+\n+                        /* Common equipment */\n+                        1402010, 1302022, 1002060, 1322021, 1082147, 1002006, 1002026, 1002392, 1322025, 1322027, 1102000, 1082150,\n+                        1332020, 1322007, 1302021, 1002395, 1082148, 1322012, 1302017, 1322010, 1032000, 1102013, 1002097,\n+\n+                        /* Warrior equipment */\n+                        1322020, 1312007, 1312008, 1302004, 1312006, 1082036, 1082117, 1061088, 1302008, 1422005, 1002048, 1061087,\n+                        1302018, 1322017, 1422001, 1040103, 1060077, 1002022, 1002050, 1442000, 1432030, 1402037, 1092002, 1041092,\n+                        1050006, 1432004, 1061019, 1432000, 1060009, 1051000, 1002021, 1322014, 1432005,\n+\n+                        /* Magician equipment */\n+                        1051032, 1040018, 1051027, 1372007, 1050049, 1002036, 1382012, 1002217, 1051033, 1382006, 1050048,\n+\n+                        /* Bowman equipment */\n+                        1061061, 1060062, 1040075, 1462013, 1041065, 1452006,\n+                        \n+                        /* Thief equipment */\n+                        1040095, 1060084, 1002182, 1041049, 1002247, 1332024, 1332009, 1060024, 1332015, 1041060, 1061032, 1041074,\n+                        1041003, 1332016, 1472020, 1332003, 1041059,\n+\n+                        /* Pirate equipment */\n+                        1482001, 1492002, 1052113, 1002616, 1072294, 1492004, 1482006, 1082192, 1082189, 1082195\n+                };\n \t}\n \n \t@Override\n \tpublic int[] getUncommonItems() {\n-\t\t//All Scrolls\n-\t\treturn new int [] {\n-\t\t\t\t2043000, 2043001, 2043002, 2043004, 2043005, 2043006, 2043007, 2043008, 2043009, 2043010,\n-\t\t\t\t2043015, 2043017, 2043019, 2044000, 2044001, 2044002, 2044004, 2044005, 2044010, 2044012,\n-\t\t\t\t2044014, 2043200, 2043201, 2043202, 2043204, 2043205, 2043210, 2043212, 2043214, 2044200,\n-\t\t\t\t2044201, 2044202, 2044204, 2044205, 2044210, 2044212, 2044214, 2044300, 2044301, 2044302,\n-\t\t\t\t2044304, 2044305, 2044310, 2044312, 2044314, 2044400, 2044401, 2044402, 2044404, 2044405,\n-\t\t\t\t2044410, 2044412, 2044414,\n-\t\t};\n+\t\treturn new int [] {1082149, 1002391, 1002419, 1102041};\n \t}\n \n \t@Override\n \tpublic int[] getRareItems() {\n-\t\treturn new int [] {1402037, 1402049, 1072361, 1402048, 1402049, 1402050, 1402051};\n+\t\treturn new int [] {};\n \t}\n \n }"}, {"sha": "be6ca227a7c80d5824c9af5e8de2f6a717581855", "filename": "src/server/gachapon/ShowaSpaFemale.java", "status": "modified", "additions": 37, "deletions": 4, "changes": 41, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/gachapon/ShowaSpaFemale.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/gachapon/ShowaSpaFemale.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/gachapon/ShowaSpaFemale.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -2,24 +2,57 @@\n \n /**\n *\n-* @author Alan (SharpAceX)\n+* @author Alan (SharpAceX) - gachapon source classes stub\n+* @author Ronan - parsed MapleSEA loots\n+* \n+* MapleSEA-like loots src: http://maplesecrets.blogspot.com/2011/06/gachapon-showa-towns-sauna-female-spa.html\n */\n \n public class ShowaSpaFemale extends GachaponItems {\n \n \t@Override\n \tpublic int[] getCommonItems() {\n-\t\treturn new int [] {};\n+\t\treturn new int [] {\n+                        \n+                        /* Scroll */\n+                        2048005, 2048002, 2043202, 2044602, 2043214, 2041307, 2041035, 2044104, 2044505, 2044305, 2043304, 2041309,\n+                        2044010, 2044803, 2044814, 2044904, 2044902, 2044901, \n+\n+                        /* Useable drop */\n+                        2022016, 2000005, 2022025, 2022027,\n+\n+                        /* Common equipment */\n+                        1402000, 1402013, 1002418, 1022047, 1082145, 1082147, 1082146, 1082178, 1082175,\n+\n+                        /* Common setup */\n+                        3010073, 3010099,\n+\n+                        /* Warrior equipment */\n+                        1422013, 1432030,\n+\n+                        /* Magician equipment */\n+                        1372002, 1382003,\n+\n+                        /* Bowman equipment */\n+                        1040023,\n+\n+                        /* Thief equipment */\n+                        1332003, 1002209,\n+\n+                        /* Pirate equipment */\n+                        1082198, 1082213, 1482007, 1492004, 1002646\n+                \n+                };\n \t}\n \n \t@Override\n \tpublic int[] getUncommonItems() {\n-\t\treturn new int [] {};\n+\t\treturn new int [] {2040916, 1102042};\n \t}\n \n \t@Override\n \tpublic int[] getRareItems() {\n-\t\treturn new int [] {1022082, 1022060};\n+\t\treturn new int [] {};\n \t}\n \n }"}, {"sha": "18c983c1d9b7c474d6893d64647b99c49fe34c94", "filename": "src/server/gachapon/ShowaSpaMale.java", "status": "modified", "additions": 39, "deletions": 4, "changes": 43, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/gachapon/ShowaSpaMale.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/gachapon/ShowaSpaMale.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/gachapon/ShowaSpaMale.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -2,24 +2,59 @@\n \n /**\n *\n-* @author Alan (SharpAceX)\n+* @author Alan (SharpAceX) - gachapon source classes stub\n+* @author Ronan - parsed MapleSEA loots\n+* \n+* MapleSEA-like loots src: http://maplesecrets.blogspot.com/2011/05/gachapon-showa-towns-sauna.html\n */\n \n public class ShowaSpaMale extends GachaponItems {\n \n \t@Override\n \tpublic int[] getCommonItems() {\n-\t\treturn new int [] {};\n+\t\treturn new int [] {\n+                    \n+                        /* Scroll */\n+                        2048005, 2048002, 2043202, 2044602, 2043214, 2041307, 2041035, 2044104, 2044505, 2044305, 2043304, 2044902,\n+                        2044901, 2044811, 2044903, 2044804,\n+\n+                        /* Useable drop */\n+                        2022016, 2000005, 2022025, 2022027,\n+\n+                        /* Common equipment */\n+                        1332020, 1312004, 1332032, 1322023, 1322026, 1322022, 1322012, 1302014, 1302049, 1302017, 1332007, 1432009,\n+                        1432016, 1432017, 1432009, 1402013, 1402044, 1442014, 1442017, 1442016, 1442025, 1002418, 1082178, 1082179,\n+                        1082148, 1032027, 1032032, 1102028, 1102086,\n+\n+                        /* Common setup */\n+                        3010073, 3010111,\n+\n+                        /* Warrior equipment */\n+                        1412005, 1402048, 1402049, 1322011, 1302003, 1302004, 1302008,\n+\n+                        /* Magician equipment */\n+                        1372000, 1372009, 1372001, 1372011, 1382006, 1382014,\n+\n+                        /* Bowman equipment */\n+                        1452018, 1452006, 1452008, 1452005, 1462002, 1462007, 1462003, 1002169,\n+\n+                        /* Thief equipment */\n+                        1472023, 1332012, 1332017, 1332022, 1332006, 1332029, 1040097,\n+\n+                        /* Pirate equipment */\n+                        1052107, 1082204, 1072318, 1002637, 1482009, 1492007\n+                        \n+                };\n \t}\n \n \t@Override\n \tpublic int[] getUncommonItems() {\n-\t\treturn new int [] {};\n+\t\treturn new int [] {2040916, 1102042};\n \t}\n \n \t@Override\n \tpublic int[] getRareItems() {\n-\t\treturn new int [] {1022082, 1022060};\n+\t\treturn new int [] {};\n \t}\n \n }"}, {"sha": "62bfe12d7bb3e4383c60cea2a63b890780434b0e", "filename": "src/server/gachapon/Sleepywood.java", "status": "modified", "additions": 37, "deletions": 84, "changes": 121, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/gachapon/Sleepywood.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/gachapon/Sleepywood.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/gachapon/Sleepywood.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -2,105 +2,58 @@\n \n /**\n *\n-* @author Alan (SharpAceX)\n+* @author Alan (SharpAceX) - gachapon source classes stub & pirate equipment\n+* @author Ronan - parsed MapleSEA loots\n+* \n+* MapleSEA-like loots thanks to AyumiLove, src: https://ayumilovemaple.wordpress.com/maplestory-gachapon-guide/\n */\n \n public class Sleepywood extends GachaponItems {\n \n \t@Override\n \tpublic int[] getCommonItems() {\n \t\treturn new int [] {\n-\t\t\t\t//warriorEquips = {\n-\t\t\t\t\t\t1002022, 1002024, 1002028, 1002029, 1002030, \n-\t\t\t\t\t\t1002045, 1002046, 1002084, 1002085, 1002086, \n-\t\t\t\t\t\t1002091, 1002094, 1002095, 1002100, 1002101, \n-\t\t\t\t\t\t1040087, 1040088, 1040089, 1040090, 1040091, \n-\t\t\t\t\t\t1040092, 1040093, 1040102, 1040103, 1040104, \n-\t\t\t\t\t\t1041087, 1041088, 1041089, 1041091, 1041092, \n-\t\t\t\t\t\t1041093, 1041097, 1041098, 1041099, 1060076, \n-\t\t\t\t\t\t1060077, 1060078, 1060079, 1060080, 1060081, \n-\t\t\t\t\t\t1060082, 1060090, 1060091, 1060092, 1061086, \n-\t\t\t\t\t\t1061087, 1061088, 1061090, 1061091, 1061092, \n-\t\t\t\t\t\t1061096, 1061097, 1061098, 1072132, 1072133, \n-\t\t\t\t\t\t1072134, 1072135, 1072147, 1072148, 1072149, \n-\t\t\t\t\t\t1072154, 1072155, 1072156, 1082009, 1082010, \n-\t\t\t\t\t\t1082011, 1082059, 1082060, 1082061, 1082103, \n-\t\t\t\t\t\t1082104, 1082105, 1082218, 1092004, 1092009, \n-\t\t\t\t\t\t1092010, 1092011, 1092015, 1092016, 1092017, \n-\t\t\t\t\t\t1302010, 1302011, 1302012, 1302015, 1302019, \n-\t\t\t\t\t\t1302037, 1302079, 1312008, 1312009, \n-\t\t\t\t\t\t1312010, 1322017, 1322018, 1322019, 1322059, \n-\t\t\t\t\t\t1402003, 1402011, 1402012, 1402017, 1412003, \n-\t\t\t\t\t\t1412007, 1412008, 1412032, 1422005, 1422009, \n-\t\t\t\t\t\t1422010, 1432004, 1432006, 1432007, 1432045, \n-\t\t\t\t\t\t1442005, 1442008, 1442010, 1442060, \n-\t\t\t\t\t\t//magicianEquips = {\n-\t\t\t\t\t\t1002215, 1002216, 1002217, 1002218, 1002242, \n-\t\t\t\t\t\t1002243, 1002244, 1002245, 1002246, 1002252, \n-\t\t\t\t\t\t1002253, 1002254, 1050045, 1050046, 1050047, \n-\t\t\t\t\t\t1050048, 1050049, 1050053, 1050054, 1050055, \n-\t\t\t\t\t\t1050056, 1050067, 1050068, 1050069, 1050070, \n-\t\t\t\t\t\t1051030, 1051031, 1051032, 1051033, 1051034, \n-\t\t\t\t\t\t1051044, 1051045, 1051046, 1051047, 1051052, \n-\t\t\t\t\t\t1051053, 1051054, 1051055, 1072136, 1072137, \n-\t\t\t\t\t\t1072138, 1072139, 1072140, 1072141, 1072142, \n-\t\t\t\t\t\t1072143, 1072157, 1072158, 1072159, 1072160, \n-\t\t\t\t\t\t1082080, 1082081, 1082082, 1082086, 1082087, \n-\t\t\t\t\t\t1082088, 1082098, 1082099, 1082100, 1372007, \n-\t\t\t\t\t\t1372008, 1372011, 1372014, 1372015, 1372035, \n-\t\t\t\t\t\t1372036, 1372037, 1372038, 1382001, 1382006, \n-\t\t\t\t\t\t1382007, 1382011, 1382014, 1382041, \n-\t\t\t\t\t\t//bowmanEquips = {\n-\t\t\t\t\t\t1002211, 1002212, 1002213, 1002214, 1002267, \n-\t\t\t\t\t\t1002268, 1002269, 1002270, 1002286, 1002287, \n-\t\t\t\t\t\t1002288, 1002289, 1002749, 1050051, 1050052, \n-\t\t\t\t\t\t1050058, 1050059, 1050060, 1050061, 1050062, \n-\t\t\t\t\t\t1050063, 1050064, 1051037, 1051038, 1051039, \n-\t\t\t\t\t\t1051041, 1051042, 1051043, 1051062, 1051063, \n-\t\t\t\t\t\t1051064, 1051065, 1072122, 1072123, 1072124, \n-\t\t\t\t\t\t1072125, 1072144, 1072145, 1072146, 1072164, \n-\t\t\t\t\t\t1072165, 1072166, 1072167, 1072345, 1082083, \n-\t\t\t\t\t\t1082084, 1082085, 1082089, 1082090, 1082091, \n-\t\t\t\t\t\t1082106, 1082107, 1082108, 1452004, 1452008, \n-\t\t\t\t\t\t1452009, 1452010, 1452011, 1452018, 1452023, \n-\t\t\t\t\t\t1452052, 1462006, 1462007, 1462008, 1462009, \n-\t\t\t\t\t\t1462046, \n-\t\t\t\t\t\t//thiefEquips = {\n-\t\t\t\t\t\t1002207, 1002208, 1002209, 1002210, 1002247, \n-\t\t\t\t\t\t1002248, 1002249, 1002281, 1002282, 1002283, \n-\t\t\t\t\t\t1002284, 1002285, 1002656, 1002750, 1040094, \n-\t\t\t\t\t\t1040095, 1040096, 1040097, 1040098, 1040099, \n-\t\t\t\t\t\t1040100, 1040105, 1040106, 1040107, 1041077, \n-\t\t\t\t\t\t1041078, 1041079, 1041080, 1041094, 1041095, \n-\t\t\t\t\t\t1041096, 1041100, 1041101, 1041102, 1041103, \n-\t\t\t\t\t\t1060083, 1060084, 1060085, 1060086, 1060087, \n-\t\t\t\t\t\t1060088, 1060089, 1060093, 1060094, 1060095, \n-\t\t\t\t\t\t1061076, 1061077, 1061078, 1061079, 1061093, \n-\t\t\t\t\t\t1061094, 1061095, 1061099, 1061100, 1061101, \n-\t\t\t\t\t\t1061102, 1072128, 1072129, 1072130, 1072131, \n-\t\t\t\t\t\t1072150, 1072151, 1072152, 1072161, 1072162, \n-\t\t\t\t\t\t1072163, 1072346, 1082065, 1082066, 1082067, \n-\t\t\t\t\t\t1082092, 1082093, 1082094, 1082095, 1082096, \n-\t\t\t\t\t\t1082097, 1332003, 1332015, 1332018, 1332024, \n-\t\t\t\t\t\t1332054, 1332064, 1472018, 1472019, 1472020, \n-\t\t\t\t\t\t1472021, 1472022, 1472023, 1472024, 1472025, \n-\t\t\t\t\t\t1472026, 1472027, 1472028, 1472029, 1472054, \n-\t\t\t\t\t\t1472062, \n-\t\t\t\t\t\t//pirateEquips = {\n-\t\t\t\t\t\t1002631, 1002634, 1002637, 1052116, 1052119, \n-\t\t\t\t\t\t1052122, 1072303, 1072306, 1072309, 1082198, \n-\t\t\t\t\t\t1082201, 1082204, 1482007, 1482008, 1482009, \n-\t\t};\n+                        \n+                        /* Scroll */\n+                        2048003, 2048000, 2040601, 2044501, 2041019, 2041016, 2041022, 2041010, 2041013, 2043301, 2040301, 2040801, 2040001,\n+                        2040004, 2043101, 2043201, 2043001, 2040504, 2040501, 2048004, 2048001, 2044401, 2040901, 2040701, 2040704, 2040707,\n+                        2044301, 2043801, 2044101, 2044201, 2044001, 2040602, 2044502, 2041020, 2041017, 2041023, 2041014, 2041005, 2044702,\n+                        2044602, 2043302, 2040302, 2040802, 2040005, 2043202, 2043002, 2040505, 2040502, 2048005, 2048002, 2044402, 2040902,\n+                        2040702, 2040705, 2040708, 2044302, 2043802, 2044202, 2044002, 2044801, 2044903, 2044814,\n+\n+                        /* Useable drop */\n+                        2012000, 2012003, 2020007, 2000004, 2012001, 2020008, 2070006, 2020012, 2000005, 2030007, 2012002, 2002001, 2070005,\n+\n+                        /* Common equipment */\n+                        1032003, 1432009, 1102014, 1102018, 1002392, 1322026, 1032022, 1312012, 1332020, 1092030, 1032016, 1032015, 1032014,\n+                        1322024, 1032013, 1322022, 1102016, 1032012, 1032023, 1402014, 1032000, 1102017,\n+\n+                        /* Warrior equipment */\n+                        1402017, 1051010, 1432011, 1442006, 1322002, 1422004, 1432010, 1051011, 1060018, 1432000, 1422003, 1412003, 1422000,\n+\n+                        /* Magician equipment */\n+                        1002034, 1002142, 1382010, 1002013, 1382008, 1382011, 1050047, 1002065,\n+\n+                        /* Bowman equipment */\n+                        1452003, 1002165, 1040068, 1462013, 1462011, 1462012, 1061050, 1462010, 1002161,\n+\n+                        /* Thief equipment */\n+                        1332022, 1002175, 1040042, 1472004, 1040057, 1332031, 1332023, 1332010, 1002171, 1060046,\n+                    \n+                        /* Pirate equipment */\n+                        1002631, 1002634, 1002637, 1052116, 1052119, 1052122, 1072303, 1072306, 1072309, 1082198, 1082201, 1082204, 1482007,\n+                        1482008, 1482009\n+                };\n \t}\n \n \t@Override\n \tpublic int[] getUncommonItems() {\n-\t\treturn new int [] {};\n+\t\treturn new int [] {2040804, 2040817, 2040805, 2340000, 1082149, 1442018};\n \t}\n \n \t@Override\n \tpublic int[] getRareItems() {\n-\t\treturn new int [] {1302068, 2070007, 1022082, 1022058};\n+\t\treturn new int [] {};\n \t}\n \n }"}, {"sha": "b45db2c54d6ec0c59c49c5f434b57ec0b0c32b2b", "filename": "src/server/life/MapleLifeFactory.java", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/life/MapleLifeFactory.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/life/MapleLifeFactory.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/life/MapleLifeFactory.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -269,6 +269,10 @@ private static void decodeElementalString(MapleMonsterStats stats, String elemAt\n     public static MapleNPC getNPC(int nid) {\n         return new MapleNPC(nid, new MapleNPCStats(MapleDataTool.getString(nid + \"/name\", npcStringData, \"MISSINGNO\")));\n     }\n+    \n+    public static String getNPCDefaultTalk(int nid) {\n+        return MapleDataTool.getString(nid + \"/d0\", npcStringData, \"(...)\");\n+    }\n \n     public static class BanishInfo {\n "}, {"sha": "abbb4c79e788d82cee2df45a8e2209ce082d8d5c", "filename": "src/server/maps/MapleDoor.java", "status": "modified", "additions": 73, "deletions": 0, "changes": 73, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/maps/MapleDoor.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/maps/MapleDoor.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/MapleDoor.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -22,6 +22,7 @@\n package server.maps;\n \n import java.awt.Point;\n+import java.util.Collection;\n import tools.Pair;\n \n import server.MaplePortal;\n@@ -39,6 +40,8 @@\n     private MaplePortal townPortal;\n     private MapleMap target;\n     private Pair<String, Integer> posStatus = null;\n+    private long deployTime;\n+    private boolean active;\n     \n     private MapleDoorObject townDoor;\n     private MapleDoorObject areaDoor;\n@@ -55,6 +58,8 @@ public MapleDoor(MapleCharacter owner, Point targetPosition) {\n             if(posStatus == null) {\n                 this.town = this.target.getReturnMap();\n                 this.townPortal = getTownDoorPortal(owner.getDoorSlot());\n+                this.deployTime = System.currentTimeMillis();\n+                this.active = true;\n \n                 if(townPortal != null) {\n                     this.areaDoor = new MapleDoorObject(ownerId, town, target, townPortal.getId(), targetPosition, townPortal.getPosition());\n@@ -83,6 +88,57 @@ public void updateDoorPortal(MapleCharacter owner) {\n         }\n     }\n     \n+    private void broadcastRemoveDoor(MapleCharacter owner) {\n+        MapleDoorObject areaDoor = this.getAreaDoor();\n+        MapleDoorObject townDoor = this.getTownDoor();\n+\n+        MapleMap target = this.getTarget();\n+        MapleMap town = this.getTown();\n+\n+        Collection<MapleCharacter> targetChars = target.getCharacters();\n+        Collection<MapleCharacter> townChars = town.getCharacters();\n+        \n+        target.removeMapObject(areaDoor);\n+        town.removeMapObject(townDoor);\n+\n+        for (MapleCharacter chr : targetChars) {\n+            areaDoor.sendDestroyData(chr.getClient());\n+        }\n+\n+        for (MapleCharacter chr : townChars) {\n+            townDoor.sendDestroyData(chr.getClient());\n+        }\n+        \n+        owner.removePartyDoor(false);\n+        \n+        if (this.getTownPortal().getId() == 0x80) {\n+            for (MapleCharacter chr : townChars) {\n+                MapleDoor door = chr.getMainTownDoor();\n+                if (door != null) {\n+                    townDoor.sendSpawnData(chr.getClient());\n+                }\n+            }\n+        }\n+    }\n+    \n+    public static void attemptRemoveDoor(final MapleCharacter owner) {\n+        final MapleDoor destroyDoor = owner.getPlayerDoor();\n+        if (destroyDoor != null && destroyDoor.dispose()) {\n+            long effectTimeLeft = 3000 - destroyDoor.getElapsedDeployTime();   // portal deployment effect duration\n+            if (effectTimeLeft > 0) {\n+                MapleMap town = destroyDoor.getTown();\n+                town.getChannelServer().registerOverallAction(town.getId(), new Runnable() {\n+                    @Override\n+                    public void run() {\n+                        destroyDoor.broadcastRemoveDoor(owner);   // thanks BHB88 for noticing doors crashing players when instantly cancelling buff\n+                    }\n+                }, effectTimeLeft);\n+            } else {\n+                destroyDoor.broadcastRemoveDoor(owner);\n+            }\n+        }\n+    }\n+    \n     private MaplePortal getTownDoorPortal(int doorid) {\n         return town.getDoorPortal(doorid);\n     }\n@@ -114,4 +170,21 @@ public MapleMap getTarget() {\n     public Pair<String, Integer> getDoorStatus() {\n         return posStatus;\n     }\n+    \n+    public long getElapsedDeployTime() {\n+        return System.currentTimeMillis() - deployTime;\n+    }\n+    \n+    private boolean dispose() {\n+        if (active) {\n+            active = false;\n+            return true;\n+        } else {\n+            return false;\n+        }\n+    }\n+    \n+    public boolean isActive() {\n+        return active;\n+    }\n }"}, {"sha": "813c1fa00aa68429269646c9d501ae43df21ea89", "filename": "src/server/maps/MapleDoorObject.java", "status": "modified", "additions": 12, "deletions": 7, "changes": 19, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/maps/MapleDoorObject.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/maps/MapleDoorObject.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/MapleDoorObject.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -100,15 +100,20 @@ public void warp(final MapleCharacter chr) {\n \n     @Override\n     public void sendSpawnData(MapleClient client) {\n+        sendSpawnData(client, true);\n+    }\n+    \n+    public void sendSpawnData(MapleClient client, boolean launched) {\n         MapleCharacter chr = client.getPlayer();\n-        if (from.getId() == chr.getMapId()) {\n-            MapleParty party = chr.getParty();\n-            if (party != null && (ownerId == chr.getId() || party.getMemberById(ownerId) != null)) {\n-                client.announce(MaplePacketCreator.partyPortal(this.getFrom().getId(), this.getTo().getId(), this.toPosition()));\n+        if (this.getFrom().getId() == chr.getMapId()) {\n+            if (chr.getParty() != null && (this.getOwnerId() == chr.getId() || chr.getParty().getMemberById(this.getOwnerId()) != null)) {\n+                chr.announce(MaplePacketCreator.partyPortal(this.getFrom().getId(), this.getTo().getId(), this.toPosition()));\n+            }\n+\n+            chr.announce(MaplePacketCreator.spawnPortal(this.getFrom().getId(), this.getTo().getId(), this.toPosition()));\n+            if (!this.inTown()) {\n+                chr.announce(MaplePacketCreator.spawnDoor(this.getOwnerId(), this.getPosition(), launched));\n             }\n-            \n-            client.announce(MaplePacketCreator.spawnPortal(this.getFrom().getId(), this.getTo().getId(), this.toPosition()));\n-            if(!this.inTown()) client.announce(MaplePacketCreator.spawnDoor(this.getOwnerId(), this.getPosition(), true));\n         }\n     }\n "}, {"sha": "f4f40a6b2dd8ae6e58d9ace707738a9c9d4c148d", "filename": "src/server/maps/MapleHiredMerchant.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/maps/MapleHiredMerchant.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/maps/MapleHiredMerchant.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/MapleHiredMerchant.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -238,7 +238,7 @@ public void takeItemBack(int slot, MapleCharacter chr) {\n         }\n     }\n     \n-    private static boolean canBuy(MapleClient c, Item newItem) {    // thanks xiaokelvin for noticing a leaked test code here\n+    private static boolean canBuy(MapleClient c, Item newItem) {    // thanks xiaokelvin (Conrad) for noticing a leaked test code here\n         return MapleInventoryManipulator.checkSpace(c, newItem.getItemId(), newItem.getQuantity(), newItem.getOwner()) && MapleInventoryManipulator.addFromDrop(c, newItem, false);\n     }\n     "}, {"sha": "e38a186cebcc6b0f6a10d06ef88ea3dfd9838329", "filename": "src/server/maps/MapleMap.java", "status": "modified", "additions": 1, "deletions": 12, "changes": 13, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/maps/MapleMap.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/maps/MapleMap.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/MapleMap.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -2131,18 +2131,7 @@ public void spawnDoor(final MapleDoorObject door) {\n         spawnAndAddRangedMapObject(door, new DelayedPacketCreation() {\n             @Override\n             public void sendPackets(MapleClient c) {\n-                if (door.getFrom().getId() == c.getPlayer().getMapId()) {\n-                    if (c.getPlayer().getParty() != null && (door.getOwnerId() == c.getPlayer().getId() || c.getPlayer().getParty().getMemberById(door.getOwnerId()) != null)) {\n-                        c.announce(MaplePacketCreator.partyPortal(door.getFrom().getId(), door.getTo().getId(), door.toPosition()));\n-                    }\n-                    \n-                    c.announce(MaplePacketCreator.spawnPortal(door.getFrom().getId(), door.getTo().getId(), door.toPosition()));\n-                    if (!door.inTown()) {\n-                        c.announce(MaplePacketCreator.spawnDoor(door.getOwnerId(), door.getPosition(), false));\n-                    }\n-                }\n-\n-                c.announce(MaplePacketCreator.enableActions());\n+                door.sendSpawnData(c, false);\n             }\n         }, new SpawnCondition() {\n             @Override"}, {"sha": "b0fd6c843b18e05e6fae31ce3e509d375d3d6e23", "filename": "src/server/maps/MapleMiniGame.java", "status": "modified", "additions": 63, "deletions": 4, "changes": 67, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/maps/MapleMiniGame.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/server/maps/MapleMiniGame.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/MapleMiniGame.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -50,6 +50,7 @@\n     private int firstslot = 0;\n     private int visitorpoints = 0, visitorscore = 0, visitorforfeits = 0, lastvisitor = -1;\n     private int ownerpoints = 0, ownerscore = 0, ownerforfeits = 0;\n+    private boolean visitorquit, ownerquit;\n     private long nextavailabletie = 0;\n     private int matchestowin = 0;\n \n@@ -112,10 +113,33 @@ public void addVisitor(MapleCharacter challenger) {\n             owner.getMap().broadcastMessage(MaplePacketCreator.addMatchCardBox(owner, 2, 0));\n         }\n     }\n+    \n+    public void closeRoom(boolean forceClose) {\n+        owner.getMap().broadcastMessage(MaplePacketCreator.removeMinigameBox(owner));\n+        \n+        if (forceClose) {\n+            this.broadcastToOwner(MaplePacketCreator.getMiniGameClose(false, 4));\n+        }\n+        this.broadcastToVisitor(MaplePacketCreator.getMiniGameClose(true, 3));\n+        \n+        if (visitor != null) {\n+            visitor.setMiniGame(null);\n+            visitor = null;\n+        }\n+        \n+        owner.setMiniGame(null);\n+        owner = null;\n+    }\n \n-    public void removeVisitor(MapleCharacter challenger) {\n+    public void removeVisitor(boolean forceClose, MapleCharacter challenger) {\n         if (visitor == challenger) {\n+            if (forceClose) {\n+                visitor.announce(MaplePacketCreator.getMiniGameClose(true, 4));\n+            }\n+            \n+            challenger.setMiniGame(null);\n             visitor = null;\n+            \n             this.getOwner().getClient().announce(MaplePacketCreator.getMiniGameRemoveVisitor());\n             if (GameType == MiniGameType.OMOK) {\n                 this.getOwner().getMap().broadcastMessage(MaplePacketCreator.addOmokBox(owner, 1, 0));\n@@ -154,13 +178,37 @@ private void updateMiniGameBox() {\n         this.getOwner().getMap().broadcastMessage(MaplePacketCreator.addOmokBox(owner, visitor != null ? 2 : 1, inprogress));\n     }\n     \n+    private synchronized boolean minigameMatchFinish() {\n+        if (isMatchInProgress()) {\n+            inprogress = 0;\n+            return true;\n+        } else {\n+            return false;\n+        }\n+    }\n+    \n     private void minigameMatchFinished() {\n-        inprogress = 0;\n         updateMiniGameBox();\n+        \n+        if (ownerquit) {\n+            owner.closeMiniGame(true);\n+        } else if (visitorquit) {\n+            visitor.closeMiniGame(true);\n+        }\n     }\n     \n     public void minigameMatchStarted() {\n         inprogress = 1;\n+        ownerquit = false;\n+        visitorquit = false;\n+    }\n+    \n+    public void setQuitAfterGame(MapleCharacter player, boolean quit) {\n+        if (isOwner(player)) {\n+            ownerquit = quit;\n+        } else {\n+            visitorquit = quit;\n+        }\n     }\n     \n     public boolean isMatchInProgress() {\n@@ -177,33 +225,43 @@ public void denyTie(MapleCharacter chr) {\n     \n     public boolean isTieDenied(MapleCharacter chr) {\n         if (this.isOwner(chr)) {\n-            return ((inprogress >> 1) % 2) == 1;\n-        } else {\n             return ((inprogress >> 2) % 2) == 1;\n+        } else {\n+            return ((inprogress >> 1) % 2) == 1;\n         }\n     }\n     \n     public void minigameMatchOwnerWins(boolean forfeit) {\n+        if (!minigameMatchFinish()) return;\n+        \n         owner.setMiniGamePoints(visitor, 1, this.isOmok());\n+        \n         if (visitorforfeits < 4 || !forfeit) ownerscore += 50;\n         visitorscore += (15 * (forfeit ? -1 : 1));\n         if (forfeit) visitorforfeits++;\n         \n         this.broadcast(MaplePacketCreator.getMiniGameOwnerWin(this, forfeit));\n+        \n         minigameMatchFinished();\n     }\n     \n     public void minigameMatchVisitorWins(boolean forfeit) {\n+        if (!minigameMatchFinish()) return;\n+        \n         owner.setMiniGamePoints(visitor, 2, this.isOmok());\n+        \n         if (ownerforfeits < 4 || !forfeit) visitorscore += 50;\n         ownerscore += (15 * (forfeit ? -1 : 1));\n         if (forfeit) ownerforfeits++;\n         \n         this.broadcast(MaplePacketCreator.getMiniGameVisitorWin(this, forfeit));\n+        \n         minigameMatchFinished();\n     }\n     \n     public void minigameMatchDraw() {\n+        if (!minigameMatchFinish()) return;\n+        \n         owner.setMiniGamePoints(visitor, 3, this.isOmok());\n         \n         long timeNow = Server.getInstance().getCurrentTime();\n@@ -215,6 +273,7 @@ public void minigameMatchDraw() {\n         }\n         \n         this.broadcast(MaplePacketCreator.getMiniGameTie(this));\n+        \n         minigameMatchFinished();\n     }\n     "}, {"sha": "7f2f0b8a6edc3f002dc67ff7f99c3d35228b2785", "filename": "src/tools/MapleLogger.java", "status": "modified", "additions": 9, "deletions": 7, "changes": 16, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/tools/MapleLogger.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/tools/MapleLogger.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/tools/MapleLogger.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -20,10 +20,11 @@\n  */\n package tools;\n \n-import java.util.ArrayList;\n-import java.util.List;\n+import java.util.HashSet;\n+import java.util.Set;\n \n import net.opcodes.RecvOpcode;\n+import client.MapleCharacter;\n import client.MapleClient;\n \n /**\n@@ -34,22 +35,23 @@\n \n public class MapleLogger {\n \n-    public static List<String> monitored = new ArrayList<>();\n-    public static List<String> ignored = new ArrayList<>();\n+        public static Set<Integer> monitored = new HashSet<>();\n+        public static Set<Integer> ignored = new HashSet<>();\n     \n \tpublic static void logRecv(MapleClient c, short packetId, Object message) {\n-\t\tif (c.getPlayer() == null){\n+                MapleCharacter chr = c.getPlayer();\n+\t\tif (chr == null){\n \t\t\treturn;\n \t\t}\n-\t\tif (!monitored.contains(c.getPlayer().getName())){\n+\t\tif (!monitored.contains(chr.getId())){\n \t\t\treturn;\n \t\t}\n \t\tRecvOpcode op = getOpcodeFromValue(packetId);\n \t\tif (isRecvBlocked(op)){\n \t\t\treturn;\n \t\t}\n \t\tString packet = op.toString() + \"\\r\\n\" + HexTool.toString((byte[]) message);\n-\t\tFilePrinter.printError(FilePrinter.PACKET_LOGS + c.getAccountName() + \"-\" + c.getPlayer().getName() + \".txt\", packet);\n+\t\tFilePrinter.printError(FilePrinter.PACKET_LOGS + c.getAccountName() + \"-\" + chr.getName() + \".txt\", packet);\n \t}\n \t\n \tprivate static final boolean isRecvBlocked(RecvOpcode op){"}, {"sha": "a6cdb8fc006e563a3a1fc1529384a37d0b262a83", "filename": "src/tools/MaplePacketCreator.java", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/src/tools/MaplePacketCreator.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/src/tools/MaplePacketCreator.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/tools/MaplePacketCreator.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -719,7 +719,7 @@ private static void addMonsterBookInfo(final MaplePacketLittleEndianWriter mplew\n                 mplew.writeInt(1); // 1: Remove the \"Select the world you want to play in\"\n                 \n                 mplew.write(ServerConstants.ENABLE_PIN && !c.canBypassPin() ? 0 : 1); // 0 = Pin-System Enabled, 1 = Disabled\n-                mplew.write(ServerConstants.ENABLE_PIC && !c.canBypassPic() ? (c.getPic() == null ? 0 : 1) : 2); // 0 = Register PIC, 1 = Ask for PIC, 2 = Disabled\n+                mplew.write(ServerConstants.ENABLE_PIC && !c.canBypassPic() ? (c.getPic() == null || c.getPic().equals(\"\") ? 0 : 1) : 2); // 0 = Register PIC, 1 = Ask for PIC, 2 = Disabled\n                 \n                 return mplew.getPacket();\n         }\n@@ -905,7 +905,7 @@ private static void addMonsterBookInfo(final MaplePacketLittleEndianWriter mplew\n                         addCharEntry(mplew, chr, false);\n                 }\n \n-                mplew.write(ServerConstants.ENABLE_PIC && !c.canBypassPic() ? (c.getPic() == null ? 0 : 1) : 2);\n+                mplew.write(ServerConstants.ENABLE_PIC && !c.canBypassPic() ? (c.getPic() == null || c.getPic().equals(\"\") ? 0 : 1) : 2);\n                 mplew.writeInt(ServerConstants.COLLECTIVE_CHARSLOT ? chars.size() + c.getAvailableCharacterSlots() : c.getCharacterSlots());\n                 return mplew.getPacket();\n         }\n@@ -5252,7 +5252,7 @@ private static void addPetInfo(final MaplePacketLittleEndianWriter mplew, MapleP\n                 mplew.write(1);\n                 return mplew.getPacket();\n         }\n-\n+        \n         private static byte[] getMiniGameResult(MapleMiniGame game, int tie, int result, int forfeit) {\n                 final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n                 mplew.writeShort(SendOpcode.PLAYER_INTERACTION.getValue());\n@@ -5312,12 +5312,12 @@ private static void addPetInfo(final MaplePacketLittleEndianWriter mplew, MapleP\n         public static byte[] getMiniGameTie(MapleMiniGame game) {\n                 return getMiniGameResult(game, 1, 3, 0);\n         }\n-\n-        public static byte[] getMiniGameClose(int type) {\n+        \n+        public static byte[] getMiniGameClose(boolean visitor, int type) {\n                 final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter(5);\n                 mplew.writeShort(SendOpcode.PLAYER_INTERACTION.getValue());\n                 mplew.write(PlayerInteractionHandler.Action.EXIT.getCode());\n-                mplew.write(1);\n+                mplew.writeBool(visitor);\n                 mplew.write(type); /* 2 : CRASH 3 : The room has been closed 4 : You have left the room 5 : You have been expelled  */\n                 return mplew.getPacket();\n         }"}, {"sha": "6949c94b996c1e6a9bfe647f2224612c1ad04e3f", "filename": "tools/MapleGachaponItemidRetriever/build.xml", "status": "added", "additions": 73, "deletions": 0, "changes": 73, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/build.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/build.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleGachaponItemidRetriever/build.xml?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -0,0 +1,73 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!-- You may freely edit this file. See commented blocks below for -->\n+<!-- some examples of how to customize the build. -->\n+<!-- (If you delete it and reopen the project it will be recreated.) -->\n+<!-- By default, only the Clean and Build commands use this build script. -->\n+<!-- Commands such as Run, Debug, and Test only use this build script if -->\n+<!-- the Compile on Save feature is turned off for the project. -->\n+<!-- You can turn off the Compile on Save (or Deploy on Save) setting -->\n+<!-- in the project's Project Properties dialog box.-->\n+<project name=\"MapleGachaponItemidRetriever\" default=\"default\" basedir=\".\">\n+    <description>Builds, tests, and runs the project MapleGachaponItemidRetriever.</description>\n+    <import file=\"nbproject/build-impl.xml\"/>\n+    <!--\n+\n+    There exist several targets which are by default empty and which can be \n+    used for execution of your tasks. These targets are usually executed \n+    before and after some main targets. They are: \n+\n+      -pre-init:                 called before initialization of project properties\n+      -post-init:                called after initialization of project properties\n+      -pre-compile:              called before javac compilation\n+      -post-compile:             called after javac compilation\n+      -pre-compile-single:       called before javac compilation of single file\n+      -post-compile-single:      called after javac compilation of single file\n+      -pre-compile-test:         called before javac compilation of JUnit tests\n+      -post-compile-test:        called after javac compilation of JUnit tests\n+      -pre-compile-test-single:  called before javac compilation of single JUnit test\n+      -post-compile-test-single: called after javac compilation of single JUunit test\n+      -pre-jar:                  called before JAR building\n+      -post-jar:                 called after JAR building\n+      -post-clean:               called after cleaning build products\n+\n+    (Targets beginning with '-' are not intended to be called on their own.)\n+\n+    Example of inserting an obfuscator after compilation could look like this:\n+\n+        <target name=\"-post-compile\">\n+            <obfuscate>\n+                <fileset dir=\"${build.classes.dir}\"/>\n+            </obfuscate>\n+        </target>\n+\n+    For list of available properties check the imported \n+    nbproject/build-impl.xml file. \n+\n+\n+    Another way to customize the build is by overriding existing main targets.\n+    The targets of interest are: \n+\n+      -init-macrodef-javac:     defines macro for javac compilation\n+      -init-macrodef-junit:     defines macro for junit execution\n+      -init-macrodef-debug:     defines macro for class debugging\n+      -init-macrodef-java:      defines macro for class execution\n+      -do-jar:                  JAR building\n+      run:                      execution of project \n+      -javadoc-build:           Javadoc generation\n+      test-report:              JUnit report generation\n+\n+    An example of overriding the target for project execution could look like this:\n+\n+        <target name=\"run\" depends=\"MapleGachaponItemidRetriever-impl.jar\">\n+            <exec dir=\"bin\" executable=\"launcher.exe\">\n+                <arg file=\"${dist.jar}\"/>\n+            </exec>\n+        </target>\n+\n+    Notice that the overridden target depends on the jar target and not only on \n+    the compile target as the regular run target does. Again, for a list of available \n+    properties which you can use, check the target you are overriding in the\n+    nbproject/build-impl.xml file. \n+\n+    -->\n+</project>"}, {"sha": "b8b6fe60afa46033dcb4823c8628d58ec67a0772", "filename": "tools/MapleGachaponItemidRetriever/lib/gachapon_items.txt", "status": "added", "additions": 1763, "deletions": 0, "changes": 1763, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/lib/gachapon_items.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/lib/gachapon_items.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleGachaponItemidRetriever/lib/gachapon_items.txt?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -0,0 +1,1763 @@\n+Gachapon 1 \ufffd Henesys\n+\n+Scroll\n+Scroll for Helmet for Def. (60%)\n+Scroll for Cape for Magic Def. (10%)\n+Scroll for Gloves for Attack (10%) - uncommon\n+Scroll for Shoes for DEX (10%)\n+Scroll for Staff for Magic Att. (10%)\n+Scroll for Topwear for Def. (10%)\n+Scroll for Wand for Magic Att. (10%)\n+.\n+Useable Drops\n+Elixir\n+Power Elixir\n+Melting Cheese\n+Return Scroll for Dead Mine\n+.\n+Common equipment\n+Bamboo Spear\n+Bamboo Sword\n+Black Tube\n+Black Umbrella\n+Blood Snowboard\n+Blue Work Gloves\n+Brown Adventurer Cape\n+Colorful Tube\n+Dark Snowboard\n+Doombringer\n+Emergency Rescue Tube\n+Frying Pan\n+Green Umbrella\n+Hula Hoop\n+Ice Jeans\n+Korean Fan\n+Light Purple Umbrella\n+Metal Wand\n+Old Wisconsin\n+Palette\n+Pico-Pico Hammer\n+Pink Adventurer Cape - uncommon\n+Plunger\n+Purple Adventurer Cape - uncommon\n+Purple Tube\n+Purple Work Gloves\n+Red Baseball Cap\n+Red Brick\n+Red Flowery Tube\n+Red Starry Bandana\n+Red Whip\n+Red Work Gloves\n+Silver Snowboard\n+Sky Blue Starry Bandana\n+Sky Blue Umbrella\n+Sky Snowboard\n+.\n+Beginner equipment\n+Frozen Tuna - uncommon\n+.\n+Warrior equipment\n+Adamantium Legend Shield\n+Adamantium Tower Shield\n+Eloon\n+Fork on a Stick\n+Gaea\n+Gold Sharp Helm\n+Green Lamelle\n+Heavy Hammer\n+Janitor\ufffds Mop\n+Sledgehammer\n+Sparta\n+Spear\n+The Nine Dragons\n+.\n+Magician equipment\n+Arc Staff\n+Black Amoria Top\n+Black Split\n+Blue Anakamoon\n+Blue Calaf\n+Blue Enigmatic\n+Blue Fairy Skirt\n+Blue Infinium Circlet\n+Blue Jester\n+Blue Moonlight\n+Blue Requiem\n+Blue Requierre\n+Blue Wizardry Hat\n+Brown Matty\n+Brown Requierre\n+Brown Requiem\n+Cromi\n+Dark Anakamoon\n+Dark Enigmatic\n+Dark Infinium Circlet\n+Dark Galaxy\n+Dark Golden Circlet\n+Dark Requierre\n+Dark Ritual\n+Dark Seraphis\n+Dark Starlight\n+Evil Wings\n+Fairy Wand\n+Golden Pride\n+Green Enigmatic\n+Green Jester\n+Green Seraphis\n+Hinomaru Fan\n+Kage\n+Mystic Cane\n+Mystic Shield\n+Orange Calaf\n+Orange Calas\n+Orange Split Piece\n+Purple Split\n+Red Calaf\n+Red Guiltian\n+Red Infinium Circlet\n+Red Moonlight\n+Red Requierre\n+Red Requiem\n+Sapphire Staff\n+Thorns\n+White Anakamoon\n+White Calaf\n+White Doros Robe\n+White Guiltian\n+White Seraphis\n+Wizard Wand\n+.\n+Bowman equipment\n+Asianic Bow\n+Cao Cao Bow\n+Dark Hunter\ufffds Pants\n+Fork on a Stick\n+Green Archer Top\n+Green Pole-Feather Hat\n+Gross Jaeger\n+Metus\n+Red Bennis Chainmail\n+Red Shivermail\n+Ryden\n+Vaulter 2000\n+Yellow Avelin Skirt\n+.\n+Thief equipment\n+Adamantium Igor\n+Blood Slain\n+Blue China Pants\n+Blue Scarab\n+Bronze Igor\n+Brown Burgler\n+Dark Cleave\n+Black Scarab\n+Dark Scorpio\n+Deadly Fin\n+Fork on a Stick\n+Green China\n+Khaki Shadow Pants\n+Meba\n+Mithril Titans\n+Purple Avenger\n+Red Nightshift\n+Red Qi Pao\n+Sai\n+Sapphire Slain\n+Shinkita\n+.\n+Pirate Scroll\n+Scroll for Knuckles for Accuracy 65%\n+.\n+Pirate equipment\n+White Oceania Cap\n+Black Bisk\n+Black Skellduke\n+Brown Royce\n+.\n+\n+.\n+\n+Gachapon 2 \ufffd Ellinia\n+\n+Scroll\n+Scroll for Dagger for Att. (10%)\n+Scroll for Helmet for Def. (10%)\n+Scroll for One-Handed Axe for Att. (10%)\n+Scroll for One-Handed Sword for Att. (10%)\n+Scroll for Pole Arm for Att. (10%)\n+Scroll for Spear for Att. (10%)\n+Scroll for Staff for Magic Att. (10%)\n+Scroll for Two-Handed Sword for Att. (10%)\n+Scroll for Cape for INT\n+.\n+Useable drop\n+Elixir\n+Power Elixir\n+Takoyaki (jumbo)\n+Yakisoba\n+.\n+Common equipment\n+Aluminum Baseball Bat\n+Aqua Snowboard\n+Bamboo Spear\n+Black Baseball Cap\n+Blue Baseball Cap\n+Blue Flowery Tube\n+Blue Metal Gear\n+Blue Sauna Robe\n+Blue Work Gloves\n+Brown Bamboo Hat\n+Brown Bandana\n+Brown Work Gloves - uncommon\n+Camouflaged Army Pants\n+Dark Snowboard\n+Emergency Rescue Tube\n+Frying Pan\n+Green Bandana - uncommon\n+Green Umbrella\n+Hardwood Wand\n+Mark of the Beta - uncommon\n+Nameless Sword\n+Palette\n+Pico-Pico Hammer\n+Pink Starry Shirt\n+Purple Bandana\n+Purple Tube\n+Purple Work Gloves\n+Red Baseball Cap\n+Red Brick\n+Red Emerald Earrings\n+Red Justice Cape\n+Red Flowery Tube\n+Red Sauna Robe\n+Red Whip\n+Red Work Gloves\n+Silver Snowboard\n+Sky Blue Umbrella\n+White Justice Cape\n+White Napoleon\n+Yellow Metal Gear\n+Yellow Starry Bandana\n+Yellow Umbrella\n+Yellow Work Gloves\n+.\n+Warrior equipment\n+Blue Axe\n+Blue Dragon\n+Blue Jangoon Armor\n+Blue Kendo Robe\n+Blue Lolico Pants\n+Bronze Viking Helm\n+Brown Lolico Pants\n+Dark Shouldermail Pants\n+Doombringer\n+Eloon\n+Forked Spear\n+Gaea\n+Gladius\n+Gold Dragon\n+Great Brown Helmet\n+Heaven\ufffds Gate\n+Heaven\ufffds Justice\n+Heavy Hammer\n+Holy Spear\n+Iron Ball\n+Mace\n+Mithril Crusader Helm\n+Mithril Football Helmet\n+Mithril Tower Shield\n+Mithril Viking Helm\n+Orihalcon Burgernet Helm\n+Orihalcon Master Sergeant Kilt\n+Plunger\n+Pointed Shovel\n+Pole Arm\n+Red Engrit\n+Red Ramel Skirt\n+Red Martial Arts Pants\n+Red Shark\n+Red Shark Skirt\n+Sabre\n+Scimitar\n+Silver Planet\n+Skull Shield\n+Sky Shark\n+Sledgehammer\n+Steel Corporal Pants\n+Steel Fitted Mail\n+Steel Nordic Helm\n+The Nine Dragons\n+The Rising\n+The Shining\n+Titan\n+Traus\n+Two-Handed Sword\n+Wooden Sword\n+Zard\n+Zeco\n+.\n+Magician equipment\n+Arc Staff\n+Black Jester\n+Black Split Pants\n+Black Split Piece\n+Black Split Skirt\n+Blood Chaos Robe\n+Blue Guiltian\n+Brown Moonlight\n+Brown Starlight\n+Dark Anakamoon\n+Dark Anakarune\n+Dark Calaf\n+Dark Galaxy\n+Dark Enigmatic\n+Dark Golden Circlet\n+Dark Infinium Circlet\n+Dark Manute\n+Evil Wings\n+Golden Pride\n+Gold Manute\n+Hinomaru Fan\n+Kage\n+Metal Wand\n+Mithril Wand\n+Mystic Cane\n+Old Wooden Staff\n+Orange Calas\n+Orange Split Piece\n+Purple Fairy Top\n+Purple Fairy Skirt\n+Red Amoria Top\n+Red Anakarune\n+Red Moonlight\n+Red Pennance\n+Red Split\n+Black Split Piece\n+Red Wizardry Hat\n+Sapphire Staff\n+Steel Manute\n+Sun Quan Staff\n+White Anakamoon\n+White Doros Robe\n+White Guiltian\n+White Split Pants\n+.\n+Bowman equipment\n+Asianic Bow\n+Balanche\n+Blue Piette Pants\n+Blue Robin Hat\n+Brown Able Skirt\n+Brown Hard Leather Top\n+Brown Hunter\n+Brown Robin Hat\n+Dark Hunter\ufffds Armor\n+Dark Legolia Pants\n+Dark Piette\n+Eagle Crow\n+Green Able Armor\n+Green Able Armor Skirt\n+Green Avelin Skirt\n+Green Bennis Chainmail\n+Green Distinction\n+Green Hunter\ufffds Armor\n+Green Hunter\ufffds Pants\n+Green Huntress Armor\n+Green Legolia\n+Green Legolier Pants\n+Green Maro\n+Green Robin Hat\n+Heckler\n+Hunter\ufffds Bow\n+Mountain Crossbow\n+Red Bennis Chainmail\n+Red Distinction\n+Red Hawkeye\n+Red Hunter\ufffds Armor\n+Red Lumati\n+Red Viper\n+Silver Crow\n+Vaulter 2000\n+Wooden Sword\n+Yellow Able Armor\n+.\n+Thief equipment\n+Adamantium Guards\n+Adamantium Igor\n+Bazlud | Black Mamba\n+Black Steal\n+Blood Slain\n+Bloody Mantis\n+Blue China\n+Blue Loosecap\n+Blue Moon Pants\n+Blue Nightshift Pants\n+Blue Qi Pao\n+Blue Qi Pao Pants\n+Blue Scarab\n+Bronze Gigantic\n+Bronze Guardian\n+Brown China\n+Brown Hard Leather Pants\n+Brown Loosecap\n+Brown Scarab\n+Cass\n+Dark Brown Stealer Pants\n+Dark Identity\n+Dark Slain\n+Dark Shadow\n+Deadly Fin\n+Green Guise\n+Green Tiberian\n+Forked Dagger\n+Kandine\n+Mithril Guards\n+Purple Shadow Pants\n+Red Burgler\n+Red Nightshift\n+Red Nightshift Pants\n+Red Pao Bottom\n+Sapphire Slain\n+Silver Black Stealer\n+Steel Slain\n+Stinger\n+Triple-Tipped Zamadar\n+Wooden Sword\n+.\n+Pirate Scroll\n+Scroll for Gun for ATT\n+.\n+Pirate equipment\n+Brown Pollard\n+Yellow Tartis\n+Green Plasteer\n+Black Voyson Shoes\n+.\n+\n+.\n+\n+Gachapon 3 \ufffd Perion\n+\n+Useable drop\n+Elixir\n+Power Elixir\n+.\n+Common equipment\n+Aluminum Baseball Bat\n+Bamboo Sword\n+Black Baseball Cap\n+Black Tube\n+Blue Work Gloves\n+Bone Helm\n+Brown Bamboo Hat\n+Brown Bandana\n+Brown Work Gloves - uncommon\n+Emergency Rescue Tube\n+Frying Pan\n+Green Bandana - uncommon | Green Napoleon | Grey Work Gloves\n+Korean Fan\n+Leather Purse\n+Mark of the Beta - uncommon\n+Pico-Pico Hammer\n+Pink Adventurer Cape - uncommon\n+Purple Bandana\n+Purple Work Gloves\n+Red Brick\n+Sky Blue Umbrella\n+Square Shovel\n+Weighted Earrings\n+White Justice Cape\n+Yellow Starry Bandana\n+.\n+Warrior equipment\n+Bent Judgement\n+Blue Counter\n+Buck\n+Cutlus\n+Dankke\n+Dark Briggon\n+Dark Emperor\n+Dark Shouldermail Pants\n+Gladius\n+Golden Mole\n+Great Blue Helmet\n+Ivory Shouldermail Pants\n+Khan\n+Knuckle Mace\n+Mithril Maul\n+Mithril Platine\n+Oaker Shouldermail Pants\n+Old Steel Nordic Helm\n+Orihalcon Burgernet Helm\n+Pole Arm\n+Pinaka\n+Stonetooth Sword\n+Red Cross Shield\n+Red Ice Queen\n+Red Kendo Robe\n+Serpent\ufffds Tongue\n+Sky Shark Skirt\n+Spear\n+Steel Corporal Pants\n+Steel Fitted Mail\n+Steel Nordic Helm\n+War Hammer\n+Zeco\n+.\n+Magician equipment\n+Blue Calaf | Black Split Piece | Brown Moonlight\n+Cromi\n+Dark Calas\n+Green Jester\n+Maple Lama Staff\n+Orange Golden Circlet\n+Red Calaf\n+Thorns\n+White Calas\n+.\n+Bowman equipment\n+Blue Legolia Pants\n+Blue Legolier Pants\n+Dark Legolier\n+Dark Raven\n+Red Legolia\n+Red Viper\n+.\n+Thief equipment\n+Blue China\n+Blue China Pants\n+Blue Pilfer\n+Blue Steal\n+Bronze Identity\n+Bushido\n+Cass\n+Dark Nightshift Pants\n+Deadly Fin\n+Gold Sneak\n+Purple Qi Pao Pants\n+Purple Shadow\n+Red Qi Pao\n+Sai\n+Sapphire Slain\n+Shinkita\n+Sky Sneak\n+.\n+Pirate Scroll\n+Scroll for Gun for ATT 15%\n+Scroll for Knuckler for ATT\n+.\n+Pirate equipment\n+Brown Leather Ocean Hat\n+Red Viska\n+King Cent\n+.\n+\n+.\n+\n+Gachapon 4 \ufffd Kerning City\n+\n+Scroll\n+Scroll for Cape for INT (60%)\n+Scroll for Dagger for Att. (10%)\n+Scroll for Gloves for Attack (10%) - uncommon\n+Scroll for Shield for Def. (10%)\n+.\n+Useable drop\n+Elixir\n+Power Elixir\n+Takoyaki (Jumbo)\n+Yakisoba (x2)\n+.\n+Common equipment\n+Aqua Snowboard\n+Bamboo Spear\n+Black Tube\n+Blue Sauna Robe\n+Brown Bandana\n+Brown Work Gloves - uncommon\n+Grey Bandana\n+Janitor\ufffds Mop\n+Metal Wand\n+Newspaper Hat\n+Old Wisconsin\n+Pan Lid\n+Pink Adventurer Cape - uncommon\n+Purple Work Gloves\n+Sandblasted Jeans\n+Sky Blue Umbrella\n+Strawberry Earrings\n+White Justice Cape\n+Yellow Adventurer Cape\n+Yellow Metal Gear\n+Yellow Starry Bandana\n+.\n+Warrior equipment\n+Cursayer\n+Dark Engrit\n+Fork on a Stick\n+Golden Mole\n+Golden River\n+Jeweled Katar\n+Mithril Football Helmet\n+Orihalcon Master Sergeant Kilt\n+Pointed Shovel\n+Serpent\ufffds Tongue\n+Silver Crusader Helm\n+Steel Fitted Mail\n+Studded Polearm\n+Viking Sword\n+.\n+Magician equipment\n+Black Jester\n+Blue Jester\n+Blue Morrican\n+Dark Starlight\n+Fairy Wand\n+Flame Golden Circlet\n+Orange Calaf\n+Orange Split Piece\n+Purple Fairy Skirt\n+Sapphire Staff\n+Thorns\n+White Doros Robe\n+.\n+Bowman equipment\n+Blue Robin Hat\n+Brown Piettra Skirt\n+Golden Hinkel\n+Golden Raven\n+Red Viper\n+Vaulter 2000\n+.\n+Thief equipment\n+Adamantium Guards\n+Black Scarab\n+Black Steal\n+Bloody Mantis\n+Blue Pao Bottom\n+Blue Qi Pao Pants\n+Blue Steal\n+Bronze Guardian\n+Brown China\n+Casters\n+Cursayer\n+Dark Avenger\n+Dark Cleave\n+Dark Gigantic\n+Dark Pirate Skirt\n+Dark Shadow\n+Deadly Fin\n+Garnier\n+Golden River\n+Green Pilfer\n+Green Sonata\n+Jurgen Wristguard\n+Liu Bei Dagger\n+Nimble Wristguard\n+Purple Mystique Pants | Purple Osfa Pants\n+Red Cloth Vest | Red Gold Stealer\n+Shinkita\n+Silver Black Stealer\n+Silver / Black Stealer Pants\n+Steel Igor\n+Varkit\n+.\n+Pirate Scroll\n+Scroll for Knuckler for Attack 30%\n+Scroll for Gun for ATT 65%\n+.\n+Pirate equipment\n+Prime Hands\n+Black Duke Barkin Shoes\n+Mr. Rasfelt\n+.\n+\n+.\n+\n+Gachapon 5 \ufffd Sleepywood\n+\n+Scroll\n+Scroll for Pet Equip. for Jump (100%)\n+Scroll for Pet Equip. for Speed (100%)\n+Scroll for Bottomwear for Def. (60%)\n+Scroll for Bow for Att. (60%)\n+Scroll for Cape for DEX (60%)\n+Scroll for Cape for INT (60%)\n+Scroll for Cape for LUK (60%)\n+Scroll for Cape for MP (60%)\n+Scroll for Cape for STR (60%)\n+Scroll for Dagger for Att. (60%)\n+Scroll for Earring for INT (60%)\n+Scroll for Gloves for Attack (60%) - uncommon\n+Scroll for Gloves for DEX (60%)\n+Scroll for Gloves for Magic Att. (60%) - uncommon\n+Scroll for Helmet for Def. (60%)\n+Scroll for Helmet for HP (60%)\n+Scroll for One-Handed Axe for Att. (60%)\n+Scroll for One-Handed Blunt Weapon for Att. (60%)\n+Scroll for One-Handed Sword for Att. (60%)\n+Scroll for Overall Armor for Def. (60%)\n+Scroll for Overall Armor for DEX (60%)\n+Scroll for Pet Equip. for Jump (60%)\n+Scroll for Pet Equip. for Speed (60%)\n+Scroll for Pole Arm for Att. (60%)\n+Scroll for Shield for Def. (60%)\n+Scroll for Shoes for DEX (60%)\n+Scroll for Shoes for Jump (60%)\n+Scroll for Shoes for Speed (60%)\n+Scroll for Spear for Att. (60%)\n+Scroll for Staff for Magic Att. (60%)\n+Scroll for Two-handed Axe for Att. (60%)\n+Scroll for Two-handed Blunt Weapon for Att. (60%)\n+Scroll for Two-handed Sword for Att. (60%)\n+Scroll for Bottomwear for Def. (10%)\n+Scroll for Bow for Att. (10%)\n+Scroll for Cape for DEX (10%)\n+Scroll for Cape for INT (10%)\n+Scroll for Cape for LUK (10%)\n+Scroll for Cape for STR (10%)\n+Scroll for Cape for Weapon Def. (10%)\n+Scroll for Claw for Att. (10%)\n+Scroll for Crossbow for Att. (10%)\n+Scroll for Dagger for Att. (10%)\n+Scroll for Earring for INT (10%)\n+Scroll for Gloves for Attack (10%) - uncommon\n+Scroll for Gloves for DEX (10%)\n+Scroll for Helmet for HP (10%)\n+Scroll for One-Handed Blunt Weapon for Att. (10%)\n+Scroll for One-Handed Sword for Att. (10%)\n+Scroll for Overall Armor for Def. (10%)\n+Scroll for Overall Armor for DEX (10%)\n+Scroll for Pet Equip. for Jump (10%)\n+Scroll for Pet Equip. for Speed (10%)\n+Scroll for Pole Arm for Att. (10%)\n+Scroll for Shield for Def. (10%)\n+Scroll for Shoes for DEX (10%)\n+Scroll for Shoes for Jump (10%)\n+Scroll for Shoes for Speed (10%)\n+Scroll for Spear for Att. (10%)\n+Scroll for Staff for Magic Att. (10%)\n+Scroll for Two-Handed Blunt Weapon for Att. (10%)\n+Scroll for Two-Handed Sword for Att. (10%)\n+.\n+Useable drop\n+White Scroll - uncommon\n+Drake\ufffds Blood\n+Drake\ufffds Meat\n+Dried Squid\n+Elixir\n+Fairy\ufffds Honey\n+Fat Sausage\n+Ilbi Throwing-Stars\n+Melting Cheese\n+Power Elixir\n+Return Scroll for Dead Mine\n+Sap of Ancient Tree\n+Speed Potion\n+Steely Throwing-Knives\n+.\n+Common equipment\n+Amethyst Earrings\n+Bamboo Spear\n+Black Justice Cape\n+Black Magic Cape\n+Brown Bandana\n+Brown Work Gloves - uncommon\n+Colorful Tube\n+Half Earrings\n+Hula Hoop\n+Korean Fan\n+Maple Shield\n+Metal Heart Earrings\n+Metal Silver Earrings\n+Pink-Flowered Earrings\n+Purple Tube\n+Red-Hearted Earrings\n+Red Flowery Tube\n+Red Magic Cape\n+Skull Earrings\n+Strawberry Earrings\n+Thermometer\n+Weighted Earrings\n+White Magic Cape\n+.\n+Beginner equipment\n+Frozen Tuna - uncommon\n+.\n+Warrior equipment\n+Daiwa Sword\n+Dark Engrit\n+Fairfrozen\n+Iron Ball\n+Iron Mace\n+Monkey Wrench\n+Omega Spear\n+Red Engrit\n+Red Martial Arts Pants\n+Spear\n+Square Hammer\n+The Rising\n+Wooden Mallet\n+.\n+Magician equipment\n+Blue Jester\n+Blue Matty\n+Dark Ritual\n+Golden Pride\n+Kage\n+Mystic Cane\n+Orange Calas\n+Steel Pride\n+.\n+Bowman equipment\n+Composite Bow\n+Dark Hawkeye\n+Dark Hunter\ufffds Armor\n+Dark Raven\n+Fire Raven\n+Golden Raven\n+Green Huntress Pants\n+Marine Raven\n+Red Hawkeye\n+.\n+Thief equipment\n+Angelic Betrayal\n+Dark Guise\n+Blue Pao\n+Bronze Igor\n+Dark Brown Stealer\n+Dragon Toenail\n+Dragon\ufffds Tail\n+Iron Dagger\n+Red Guise\n+Silver / Black Stealer Pants\n+.\n+Pirate Scroll\n+Scroll for Knuckler for Attack 60%\n+Scroll for Gun for Attack 70%\n+Scroll for Knuckles for Accuracy 15%\n+.\n+Pirate equipment\n+Red Belly Duke\n+Fury Claw\n+.\n+\n+.\n+\n+Gachapon 6 \ufffd El Nath\n+\n+Scroll\n+Scroll for Cape for STR (100%)\n+Scroll for Pet Equip. for Jump (100%)\n+Scroll for Staff for Magic Att. (100%)\n+Scroll for Dagger for Att. (60%)\n+Scroll for Earring for INT (60%)\n+Scroll for Gloves for Attack (60%) - uncommon\n+Scroll for One-Handed Axe for Att. (60%)\n+Scroll for One-Handed Blunt Weapon for Att. (60%)\n+Scroll for One-Handed Sword for Att. (60%)\n+Scroll for Spear for Att. (60%)\n+Scroll for Staff for Magic Att. (60%)\n+Scroll for Two-handed Blunt Weapon for Att. (60%)\n+Scroll for Wand for Magic Att. (60%)\n+Scroll for Bow for Att. (10%)\n+Scroll for Cape for MP (10%)\n+Scroll for Cape for STR (10%)\n+Scroll for Crossbow for Att. (10%)\n+Scroll for Dagger for Att. (10%)\n+Scroll for Gloves for Attack (10%) - uncommon\n+Scroll for One-Handed Blunt Weapon for Att. (10%)\n+Scroll for One-Handed Sword for Att. (10%)\n+Scroll for Pet Equip. for Jump (10%)\n+Scroll for Pole Arm for Att. (10%)\n+Scroll for Spear for Att. (10%)\n+Scroll for Staff for Magic Att. (10%)\n+Scroll for Two-handed Axe for Att. (10%)\n+Scroll for Two-Handed Blunt Weapon for Att. (10%)\n+Scroll for Wand for Magic Att. (10%)\n+.\n+Useable drop\n+White Scroll - uncommon\n+Elixir\n+Power Elixir\n+.\n+Common equipment\n+Aluminum Baseball Bat\n+Amethyst Earrings\n+Aqua Snowboard\n+Bamboo Spear\n+Bamboo Sword\n+Beige Umbrella\n+Black Tube\n+Black Umbrella\n+Blood Snowboard\n+Blue Flowery Tube\n+Blue Justice Cape\n+Cat\ufffds Eye\n+Colorful Tube\n+Dark Snowboard\n+Double Axe\n+Emerald Earrings\n+Emergency Rescue Tube\n+Frying Pan\n+Gold Drop Earrings\n+Golden Snowboard\n+Green Ski\n+Green Umbrella\n+Glowing Whip\n+Hardwood Wand\n+Half Earrings\n+Holy Cross Earrings\n+Ice Wand\n+Korean Fan\n+Leather Purse\n+Lightning Earrings\n+Light Purple Umbrella\n+Lollipop\n+Long Sword\n+Maple Shield\n+Pico-Pico Hammer\n+Purple Tube\n+Red Brick\n+Red Cross Earrings\n+Red Flowery Tube\n+Red-Hearted Earrings\n+Red Umbrella\n+Red Whip\n+Rose Earrings\n+Sapphire Earrings\n+Single Earring\n+Sky Blue Umbrella\n+Sky Ski\n+Sky Snowboard\n+Sword\n+Weighted Earrings\n+White Justice Cape\n+White Mop\n+Wooden Wand\n+Yellow Mop\n+Yellow Square\n+Yellow Umbrella\n+.\n+Warrior equipment\n+Axe Pole Arm\n+Blue Counter\n+Broadsword\n+Buck\n+Chrono\n+Crescent Polearm\n+Cutlus\n+Dankke\n+Dark Snowboard\n+Doombringer\n+Eloon\n+Fireman\ufffds Axe\n+Forked Spear\n+Fork on a Stick\n+Gladius\n+Gold Dragon\n+Heaven\ufffds Gate\n+Heavy Hammer\n+Holy Spear\n+Iron Mace\n+Jeweled Katar\n+Knuckle Mace\n+Lion\ufffds Fang\n+Lionheart\n+Mace\n+Mithril Maul\n+Mithril Pole Arm\n+Monkey Wrench\n+Niam\n+Plunger\n+Pointed Shovel\n+Pole Arm\n+Sabretooth\n+Scimitar\n+Serpent\ufffds Tongue\n+Skylar\n+Sledgehammer\n+Studded Polearm\n+The Blessing\n+The Judgement\n+The Rising\n+The Shining\n+Traus\n+Two-Handed Axe\n+War Hammer\n+Wooden Sword\n+Zard\n+Zeco\n+.\n+Magician equipment\n+Arc Staff\n+Cromi\n+Dark Ritual\n+Evil Wings\n+Fairy Wand\n+Mithril Wand\n+Mystic Cane\n+Thorns\n+Wooden Staff\n+.\n+Bowman equipment\n+Asianic Bow\n+Battle Bow\n+Blue Hinkel\n+Dark Arund\n+Golden Arund\n+Golden Raven\n+Marine Raven\n+Metus\n+Mountain Crossbow\n+Olympus\n+Red Viper\n+Silver Crow\n+Vaulter 2000\n+War Bow | Wooden Sword\n+.\n+Thief equipment\n+Adamantium Igor\n+Adamantium Guards\n+Angelic Betrayal\n+Bazlud\n+Blood Avarice\n+Adamantium Avarice\n+Blood Gigantic\n+Blue Scarab\n+Bronze Gigantic\n+Bronze Guardian\n+Brown Scarab\n+Bushido\n+Cass\n+Dark Avarice\n+Dark Guardian\n+Black Scarab\n+Dark Slain\n+Deadly Fin\n+Dragon Toenail\n+Dragon\ufffds Tail\n+Forked Dagger\n+Garnier\n+Golden River\n+Green Scarab\n+Kandine\n+Meba\n+Reef Claw\n+Sai\n+Sapphire Gigantic\n+Serpent\ufffds Coil\n+Shinkita\n+Silver Guardian\n+Steel Avarice\n+Steel Igor\n+Steel Slain\n+Steel Titans\n+.\n+Pirate Scroll\n+Scroll for Knuckles for ATT 15%\n+.\n+Pirate equipment\n+Brown Paulie Boots\n+Abyss Shooter\n+.\n+\n+.\n+\n+Gachapon 8 \ufffd Aquarium\n+\n+Scroll\n+Scroll for Bottomwear for Def. (30%)\n+Scroll for Bottomwear for DEX (30%)\n+Scroll for Bottomwear for HP (30%)\n+Scroll for Bottomwear for Jump (30%)\n+Scroll for Cape for Weapon Def. (30%)\n+Scroll for Cape for Magic Def. (30%)\n+Scroll for Cape for HP (30%)\n+Scroll for Cape for INT (30%)\n+Scroll for Cape for MP (30%)\n+Scroll for Cape for DEX (30%)\n+Scroll for Cape for LUK (30%) | Scroll for Cape for STR (30%)\n+Scroll for Gloves for Attack (30%) - uncommon\n+Scroll for Gloves for DEX (30%)\n+Scroll for Gloves for HP (30%)\n+Scroll for Gloves for Magic Att. (30%) - uncommon\n+Scroll for Helmet for Accuracy (30%)\n+Scroll for Helmet for Def. (30%)\n+Scroll for Helmet for HP (30%)\n+Scroll for Helmet for INT (30%)\n+Scroll for Overall Armor for DEX (30%)\n+Scroll for Overall Armor for LUK (30%)\n+Scroll for Overall Armor for INT (30%)\n+Scroll for Overall Armor for Def. (30%)\n+Scroll for Shield for Def. (30%)\n+Scroll for Shield for HP (30%)\n+Scroll for Shield for LUK (30%)\n+Scroll for Shoes for DEX (30%)\n+Scroll for Shoes for Jump (30%)\n+Scroll for Shoes for Speed (30%)\n+Scroll for Topwear for Def. (30%)\n+Scroll for Topwear for HP (30%)\n+Scroll for Topwear for STR (30%)\n+Scroll for Topwear for LUK (30%)\n+Scroll for Earring for INT (30%)\n+Scroll for Earring for DEX (30%)\n+Scroll for Earring for Def. (30%)\n+Scroll for Bow for Att. (30%)\n+Scroll for Claw for Att. (30%)\n+Scroll for Crossbow for Att. (30%)\n+Scroll for Dagger for Att. (30%)\n+Scroll for One-Handed Axe for Att. (30%)\n+Scroll for One-Handed BW for Att. (30%)\n+Scroll for One-Handed Sword for Att. (30%)\n+Scroll for One-Handed Sword for Magic Att. (30%)\n+Scroll for Pole Arm for Att. (30%)\n+Scroll for Spear for Att. (30%)\n+Scroll for Staff for Magic Att. (30%)\n+Scroll for Two-handed Axe for Att. (30%)\n+Scroll for Two-handed BW for Att. (30%)\n+Scroll for Two-handed Sword for Att. (30%)\n+Scroll for Wand for Magic Att. (30%)\n+.\n+Useable drop\n+Drake\ufffds Blood\n+Elixir\n+Fat Sausage\n+Power Elixir\n+Sap of Ancient Tree\n+Summoning Crimson Balrog - uncommon\n+Summoning Superslime\n+Summoning Tauromacis\n+Summoning Werewolf\n+Summoning Yeti & Pepe\n+The Magic Rock\n+.\n+Warrior equipment\n+Adamantium Tower Shield\n+Daiwa Sword\n+.\n+Magician equipment\n+Black Jester\n+Blue Jester\n+Bronze Pride\n+Brown Jester\n+Doomsday Staff\n+Fairy Wand\n+Golden Pride\n+Pink Jester\n+Steel Pride\n+Wooden Staff\n+.\n+Bowman equipment\n+Bow of Magical Destruction\n+.\n+Thief equipment\n+Adamantium Guards\n+Dark Guise\n+Dark Avarice\n+Dark Gigantic\n+.\n+Pirate Scroll\n+Scroll for Gun for Attack 60%\n+.\n+Pirate equipment\n+Black Pirate's Bandana\n+.\n+\n+.\n+\n+Gachapon 9 \ufffd Ludibrium\n+\n+Scroll\n+Scroll for Pet Equip. for Speed (100%)\n+Scroll for Bottomwear for Def. (60%)\n+Scroll for Cape for DEX (60%)\n+Scroll for Cape for HP (60%)\n+Scroll for Cape for INT (60%)\n+Scroll for Cape for LUK (60%)\n+Scroll for Cape for Magic Def. (60%)\n+Scroll for Cape for MP (60%)\n+Scroll for Cape for STR (60%)\n+Scroll for Cape for Weapon Def. (60%)\n+Scroll for Claw for Att. (60%)\n+Scroll for Dagger for Att. (60%)\n+Scroll for Earring for INT (60%)\n+Scroll for Pet Equip. for Jump (60%)\n+Scroll for Pet Equip. for Speed (60%)\n+Scroll for Shield for Def. (60%)\n+Scroll for Shoes for DEX (60%)\n+Scroll for Shoes for Jump (60%)\n+Scroll for Shoes for Speed (60%)\n+Scroll for Bottomwear for Def. (10%)\n+Scroll for Cape for DEX (10%)\n+Scroll for Cape for HP (10%)\n+Scroll for Cape for INT (10%)\n+Scroll for Cape for LUK (10%)\n+Scroll for Cape for Magic Def. (10%)\n+Scroll for Cape for MP (10%)\n+Scroll for Cape for STR (10%)\n+Scroll for Cape for Weapon Def. (10%)\n+Scroll for Claw for Att. (10%)\n+Scroll for Dagger for Att. (10%)\n+Scroll for Earring for INT (10%)\n+Scroll for Gloves for Attack (10%) - uncommon\n+Scroll for Helmet for Def. (10%)\n+Scroll for Pole Arm for Att. (10%)\n+Scroll for Pet Equip. for Jump (10%)\n+Scroll for Pet Equip. for Speed (10%)\n+Scroll for Shoes for DEX (10%)\n+Scroll for Shoes for Jump (10%)\n+Scroll for Shoes for Speed (10%)\n+Scroll for Spear for Att. (10%)\n+Scroll for Staff for Magic Att. (10%)\n+Scroll for Topwear for Def. (10%)\n+Scroll for Wand for Magic Att. (10%)\n+.\n+Useable drop\n+Elixir\n+Power Elixir\n+The Magic Rock\n+The Summoning Rock\n+.\n+Common equipment\n+Amethyst Earrings\n+Bamboo Spear\n+Bamboo Sword\n+Beige Umbrella\n+Black Justice Cape\n+Black Magic Cape\n+Black Paint Brush\n+Black Umbrella\n+Blue Magic Cape\n+Blue Moon\n+Green Paint Brush\n+Cat\ufffds Eye\n+Crystal Flower Earrings\n+Emerald Earrings\n+Fan\n+Gold Drop Earrings\n+Gold Earrings\n+Green Umbrella\n+Half Earrings\n+Hula Hoop\n+Holy Cross Earrings\n+Lightning Earrings\n+Light Purple Umbrella\n+Lollipop\n+Mark of the Beta - uncommon\n+Metal Heart Earrings\n+Metal Silver Earrings\n+Newspaper Sword\n+Pan Lid\n+Pansy Earrings\n+Pico-Pico Hammer\n+Pink-Flowered Earrings\n+Plastic Bottle\n+Red Brick\n+Red Cross Earrings\n+Red-Hearted Earrings\n+Red Justice Cape\n+Red Umbrella\n+Red Whip\n+Sapphire Earrings\n+Single Earring\n+Skull Earrings\n+Sky Blue Umbrella\n+Star Earrings\n+Thermometer\n+White Magic Cape\n+White Justice Cape\n+Yellow Mop\n+Yellow Square\n+.\n+Beginner equipment\n+Frozen Tuna - uncommon\n+Plastic Bottle\n+Sake Bottle\n+.\n+Warrior equipment\n+Daiwa Sword\n+Golden Mole\n+Jousting Helmet\n+Sai\n+Zeco\n+.\n+Magician equipment\n+Black Jester\n+Blue Jester\n+Bronze Pride\n+Brown Jester\n+Golden Pride\n+Green Jester\n+Mystic Cane\n+Pink Jester\n+Steel Pride\n+Sun Quan Staff\n+Wizard Wand\n+.\n+Bowman equipment\n+Black Metus\n+Blue Hawkeye\n+Brown Hawkeye\n+Casa Crow\n+Dark Hawkeye\n+Golden Arund\n+Green Hawkeye\n+Marine Arund\n+Red Hawkeye\n+Red Hinkel\n+Rower\n+.\n+Thief Equipment\n+Angelic Betrayal\n+Dark Guise\n+Blue Guise\n+Brown Guise\n+Brown China\n+Casters\n+Green Guise\n+Diamond Dagger\n+Shinobi Bracer\n+Red Guise\n+Sai\n+.\n+Pirate Scroll\n+Scroll for Knuckles for ATT 65%\n+.\n+Pirate equipment\n+Black Polax Hat\n+.\n+\n+.\n+\n+Gachapon \ufffd Leafre\n+\n+Scroll\n+Dark Scroll for Topwear for STR\n+Dark Scroll for Topwear for HP\n+Dark Scroll for Topwear for DEF\n+Dark Scroll for Topwear for LUK\n+Dark Scroll for Topwear for HP\n+Dark Scroll for Pole Arm for ATT\n+Dark Scroll for Bottomwear for DEX\n+Dark Scroll for Bottomwear for Jump\n+Dark Scroll for Gloves for HP\n+Dark Scroll for Cape for DEX\n+Dark Scroll for Cape for LUK\n+Dark Scroll for Cape for STR\n+Dark Scroll for Cape for HP\n+Dark Scroll for Cape for INT\n+Dark Scroll for One-Handed Axe for ATT\n+Dark Scroll for Dagger for ATT\n+Dark Scroll for Face Eqp. for HP\n+Dark Scroll for Bottomwear for DEF\n+Dark Scroll for Bottomwear for DEX\n+Dark Scroll for One-Handed Sword for ATT\n+Dark Scroll for One-Handed BW for ATT\n+Dark Scroll for Two-Handed BW for ATT\n+Dark Scroll for Two-Handed Sword for ATT\n+Dark Scroll for Overall Armor for LUK (30%)\n+Dark Scroll for Overall Armor for DEF\n+Dark Scroll for Dagger for ATT\n+Dark Scroll for Shield for HP\n+Dark Scroll for Shield for DEF\n+Dark Scroll for Shield for LUK\n+Dark Scroll for Gloves for DEX\n+Dark Scroll for Gloves for HP\n+Dark Scroll for Gloves for ATT (30%) - uncommon\n+Dark Scroll for Helmet for Accuracy\n+Dark Scroll for Shoes for Jump\n+Dark Scroll for Shoes for DEX\n+Dark Scroll for Two-Handed Sword for ATT\n+Dark Scroll for Wand for Magic Att.\n+Dark Scroll for Bow for ATT\n+Dark Scroll for Overall Armor for INT\n+Dark Scroll for Eye Eqp. for Accuracy\n+Dark Scroll for Face Eqp. for HP\n+Dark Scroll for Face Eqp. for Avoidability\n+Dark Scroll for Claw for ATT\n+Dark Scroll for Shield for LUK\n+Dark Scroll for Gloves for Magic Att. - uncommon\n+Dark Scroll for Spear for ATT\n+Dark Scroll for One-Handed Sword for Magic Att.\n+Dark Scroll for Earring for DEX (30%)\n+Dark Scroll for Earring for INT\n+Dark Scroll for Earring for DEF\n+Dark Scroll for Gloves for ATT (30%) - uncommon\n+Dark Scroll for Eye Eqp. for INT (30%)\n+Dark Scroll for Eye Eqp. for INT (70%)\n+.\n+Useable drop\n+n/a\n+.\n+Common equipment\n+Yellow Adventurer Cape\n+Pink Adventurer Cape - uncommon\n+Purple Adventurer Cape - uncommon\n+Purple Gaia Cape\n+Yellow Work Gloves\n+Black Emerald Earrings\n+Red Work Gloves\n+Purple Bandana\n+Black Bandana\n+Brown Bandana\n+Brown Work Gloves - uncommon\n+Black Old Wisconsin\n+Owl Ball Mask\n+.\n+Beginner equipment\n+n/a\n+.\n+Warrior equipment\n+Scythe\n+Pumpkin Spear\n+Dark Master Sergeant Kilt\n+SledgeHammer\n+Dark Crusader Chainmail\n+Black Dragon Robe\n+Japanese Map\n+Daiwa Sword\n+Red Katana\n+.\n+Mage equipment\n+Blue Apprentice Hat\n+Dark Chaos Robe\n+Dark Orientican\n+Dark Anakamoon\n+Dark Starlight\n+Kage\n+.\n+Bowman equipment\n+Black Hunter\n+Black Huntress Pants\n+Black Bennis Chainmail\n+.\n+Thief equipment\n+Blood Sneak Pants\n+Dark Pirate Skirt\n+Dark Identity\n+Dark Shadow\n+Black Knucklevest Pants\n+Shinobi Bracer\n+.\n+Pirate Scroll\n+Scroll for Knuckler for Attack 70%\n+.\n+Pirate equipment\n+Beia Crash\n+Brown Double Boots\n+.\n+\n+.\n+\n+Gachapon \ufffd Mushroom Shrine\n+\n+Scroll\n+Dark Scroll for Earring for INT\n+Dark Scroll for Earring for DEX (70%)\n+Dark Scroll for Earring for DEF\n+Dark Scroll for Crossbow for ATT (70%)\n+Dark Scroll for Cape for DEX (30%)\n+Dark Scroll for Cape for INT (30%)\n+Dark Scroll for Cape for STR (30%)\n+Dark Scroll for Cape for STR (70%)\n+Dark Scroll for Cape for LUK (30%)\n+Dark Scroll for Bottomwear for HP (70%)\n+Dark Scroll for Bottomwear for DEF (30%)\n+Dark Scroll for Bottomwear for DEF (70%)\n+Dark Scroll for Bottomwear for DEX (30%)\n+Dark Scroll for Bottomwear for DEX (70%)\n+Dark Scroll for Gloves for ATT (30%) - uncommon\n+Dark Scroll for Gloves for ATT (70%) - uncommon\n+Dark Scroll for Gloves for HP\n+Dark Scroll for Gloves for Magic Att. - uncommon\n+Dark Scroll for Gloves for DEX\n+Dark Scroll for One-Handed Sword for ATT (70%)\n+Dark Scroll for Helmet for Accuracy (60%)\n+Dark Scroll for Helmet for Accuracy (30%)\n+Dark Scroll for Helmet for HP (30%)\n+Dark Scroll for Helmet for INT\n+Dark Scroll for Topwear for DEF (30%)\n+Dark Scroll for Topwear for STR\n+Dark Scroll for Topwear for LUK\n+Dark Scroll for Overall Armor for DEF (30%)\n+Dark Scroll for Overall Armor for DEX (30%)\n+Dark Scroll for Overall Armor for DEX (70%)\n+Dark Scroll for Overall Armor for INT (30%)\n+Dark Scroll for Overall Armor for LUK\n+Dark Scroll for Face Eqp. for Avoidability\n+Dark Scroll for Shield for DEF (70%)\n+Dark Scroll for Shield for HP\n+Dark Scroll for 1-Handed Axe for ATT\n+Dark Scroll for 2-Handed Axe for ATT\n+Dark Scroll for 1-Handed Sword for ATT (30%)\n+Dark Scroll for 1-Handed Sword for ATT (70%)\n+Dark Scroll for 1-Handed Sword for Magic Att.\n+Dark Scroll for 2-Handed Sword for ATT\n+Dark Scroll for 2-Handed BW for ATT\n+Dark Scroll for Dagger for ATT\n+Dark Scroll for Bottomwear for Jump\n+Dark Scroll for Shoes for Jump\n+Dark Scroll for Shoes for DEX (30%)\n+Dark Scroll for Spear for ATT\n+.\n+Useable drop\n+.\n+Common equipment\n+Pink Adventurer Cape - uncommon\n+Purple Adventurer Cape - uncommon\n+Yellow Adventurer Cape\n+Pink Gaia Cape\n+Brown Bandana\n+Bamboo Spear\n+Pink Bandana\n+Grey Bandana\n+Brown Work Gloves - uncommon\n+Blue Work Gloves\n+Purple Work Gloves\n+Red Emerald Earrings\n+Blue Old Wisconsin\n+Purple Old Wisconsin\n+Pumpkin Spear\n+Owl Ball Mask\n+Frying Pan\n+Sky Ski\n+.\n+Beginner equipment\n+Silver Strap Shoes\n+Black Strap Shoes\n+Green Strap Shoes\n+.\n+Warrior equipment\n+White Jangoon Pants\n+Iron Mace\n+Dark Dragon Babuta\n+Janitor\ufffds Mop\n+Stonetooth Sword\n+Sledgehammer\n+Dark Crusader Chainmail\n+.\n+Mage equipment\n+Doomsday Staff\n+Black Split Pants\n+Dark Moonlight\n+Dark Anakamoon\n+Dark Chaos Robe\n+Dark Calaf\n+Dragon Staff\n+Dragon Wand\n+Black Armine\n+Poison Mushroom\n+Hinomaru Fan\n+Kage\n+.\n+Bowman equipment\n+Bow of Magical Destruction\n+Dark Legolia\n+Rower\n+.\n+Thief equipment\n+Black Knucklevest Pants\n+Dark Guardian\n+Dark Burgler\n+Dark Distinction\n+Dark Shadow Pants\n+Dark Pirate Pants\n+.\n+Pirate Scroll\n+Scroll for Gun for Attack 30%\n+.\n+Pirate equipment\n+Cold Mind\n+Concerto\n+.\n+\n+.\n+\n+Gachapon 10 \ufffd Showa Spa Female\n+\n+Scroll\n+Scroll for Pet equip. for JUMP 10% \n+Scroll for Pet equip. for SPEED 10% \n+Scroll for One-handed BW for ATT 10% \n+Scroll for Crossbow for ATT 10% \n+Scroll for One-handed BW For Accuracy 10% \n+Scroll for Belts for DEX 60% \n+Scroll for Shield for Weapon att 70% - uncommon\n+Scroll for cape for STR 30% \n+Scroll for Two-handed Axe for ATT 70% \n+Scroll for Bow for att 30% \n+Scroll for Spear for att 30% \n+Scroll for Dagger for att 70% \n+Scroll for Belts for LUK 100% \n+Scroll for Two-Handed Sword for Accuracy 100%\n+.\n+Useable drop\n+Maple Special Bento\n+Power Elixir \n+Takoyaki (jumbo)\n+Yakisoba (x2)\n+.\n+Common equipment\n+Two-handed sword\n+Japanese map\n+Newspaper hat\n+Owl Ball Mask\n+Purple adventurer cape - uncommon\n+Yellow work gloves\n+Blue work gloves \n+Red work gloves \n+Pink Marker\n+Red marker\n+.\n+Common setup\n+Giant Pink Bean Cushion\n+Cuddly Polar Bear\n+.\n+Beginner equipment\n+.\n+Warrior equipment\n+Leomite\n+Pinaka\n+.\n+Magician equipment\n+Metal Wand\n+Sapphire Staff\n+.\n+Bowman equipment\n+Black Bennis Chainmail\n+.\n+Thief equipment\n+Shinkita \n+Green Sonata\n+.\n+Pirate Scroll\n+Scroll for Knuckler for Attack 70%\n+Scroll for Knuckles for Accuracy 15%\n+Scroll for Gun for Attack 30%\n+Scroll for Gun for ATT 10% \n+Scroll for Gun for attack 60% \n+.\n+Pirate equipment\n+Brown Royce\n+Black Skellduke\n+Fury Claw\n+Cold Mind\n+Black Polax Hat\n+.\n+\n+.\n+\n+Gachapon 11 \ufffd Showa Spa Male\n+\n+Scroll\n+Scroll for Pet equip. for JUMP 10% \n+Scroll for Pet equip. for SPEED 10% \n+Scroll for One-handed BW for ATT 10% \n+Scroll for Crossbow for ATT 10% \n+Scroll for One-handed BW For Accuracy 10% \n+Scroll for Belts for DEX 60% \n+Scroll for Shield for Weapon att 70% - uncommon\n+Scroll for cape for STR 30% \n+Scroll for Two-handed Axe for ATT 70% \n+Scroll for Bow for att 30% \n+Scroll for Spear for att 30%\n+Scroll for Dagger for att 70%\n+.\n+Useable drop\n+Maple Special Bento\n+Power Elixir \n+Takoyaki (jumbo)\n+Yakisoba (x2)\n+.\n+Common equipment\n+Korean Fan\n+Hand axe\n+Christmas Tree\n+Blue Flowery Tube\n+Colorful Tube  \n+Red Flowery Tube\n+Red Brick\n+Old Gladius\n+Glowing Whip \n+Sky blue umbrella\n+Fruit Knife  \n+Bamboo Spear\n+Orange ski\n+Green ski\n+Bamboo Spear \n+Japanese map \n+Pumpkin lantern \n+Silver Snowboard \n+Blood snowboard \n+Dark snowboard\n+Guan Yu Pole Arm\n+Newspaper hat\n+Pink marker\n+Yellow Marker \n+Purple work gloves \n+Black Emerald Earrings\n+Fallen Leaf Earrings\n+Red Seraph Cape\n+Purple Gaia cape \n+Purple Adventurer Cape - uncommon\n+.\n+Common setup\n+Giant Pink Bean Cushion\n+Tiger Skin Chair\n+.\n+Beginner equipment\n+.\n+Warrior equipment\n+Sabretooth\n+Raven's wing\n+Night raven's wing\n+Pointed Shovel \n+Eloon\n+Cutlus \n+Gladius\n+.\n+Magician equipment\n+Fairy Wand  \n+Magicodar\n+Wizard Wand \n+Zhu-Ge-Liang Wand\n+Thorns\n+Sun quan Staff\n+.\n+Bowman equipment\n+Bow Of Magical Destruction\n+Red viper\n+Olympus\n+Ryden\n+Battle Crossbow \n+Rower\n+Balanche\n+Brown Distinction\n+.\n+Thief equipment\n+Blood gigantic\n+Reef claw\n+Serpent's Coil\n+Angelic Betrayal\n+Field Dagger\n+Liu bei Dagger \n+Green China\n+.\n+Pirate Scroll\n+Scroll for Gun for ATT 10% \n+Scroll for Gun for attack 60% \n+Scroll for Knuckles for ATT 65%\n+Scroll for Gun for Attack 70%\n+Scroll for Knuckler for Attack 30%\n+.\n+Pirate equipment\n+Brown Pollard\n+Black Bisk\n+Black Duke Barkin Shoes\n+Black Pirate's Bandana\n+Beia Crash\n+Mr. Rasfelt\n+.\n+\n+."}, {"sha": "d96deb4d5cd3a45ed61eb54d119d1a998f6cda3c", "filename": "tools/MapleGachaponItemidRetriever/lib/gachapons/aquarium.txt", "status": "added", "additions": 98, "deletions": 0, "changes": 98, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/lib/gachapons/aquarium.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/lib/gachapons/aquarium.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleGachaponItemidRetriever/lib/gachapons/aquarium.txt?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -0,0 +1,98 @@\n+\n+Scroll:\n+2040605 \n+2040626 \n+2040609 \n+2040607 \n+2041029 \n+2041027 \n+2041031 \n+2041037 \n+2041033 \n+2041039 \n+2041041 \n+2041035 \n+2040811 - uncommon\n+2040809 \n+2040813 \n+2040815 - uncommon\n+2040015 \n+2040009 \n+2040011 \n+2040013 \n+2040509 \n+2040521 \n+2040519 \n+2040507 \n+2040905 \n+2040909 \n+2040907 \n+2040713 \n+2040715 \n+2040717 \n+2040405 \n+2040409 \n+2040407 \n+2040426 \n+2040303 \n+2040307 \n+2040309 \n+2044505 \n+2044705 \n+2044605 \n+2043305 \n+2043105 \n+2043205 \n+2043005 \n+2043007 \n+2044405 \n+2044305 \n+2043805 \n+2044105 \n+2044205 \n+2044005 \n+2043705 \n+\n+Useable drop:\n+2012000 \n+2000004 2000012 2002012 2022175 2022456 \n+2020008 \n+2000005 2000019 2002013 2022176 2022457 \n+2012002 \n+2101001 - uncommon\n+2101004 \n+2101005 \n+2101002 \n+2101003 \n+4006000 \n+\n+Warrior equipment:\n+1092014 \n+1402017 \n+\n+Magician equipment:\n+1002037 \n+1002034 \n+1002064 \n+1002038 \n+1382037 \n+1372000 \n+1002013 \n+1002035 \n+1002065 \n+1382000 \n+\n+Bowman equipment:\n+1452018 \n+\n+Thief equipment:\n+1472010 1472034 1472039 1472045 \n+1002175 \n+1472017 \n+1472025 1472036 1472041 1472047 \n+\n+Pirate Scroll:\n+2044901 \n+\n+Pirate equipment:\n+1002637 "}, {"sha": "2060fce7e0833b3f9bbef70f945b0bea6c6b5735", "filename": "tools/MapleGachaponItemidRetriever/lib/gachapons/el_nath.txt", "status": "added", "additions": 216, "deletions": 0, "changes": 216, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/lib/gachapons/el_nath.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/lib/gachapons/el_nath.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleGachaponItemidRetriever/lib/gachapons/el_nath.txt?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -0,0 +1,216 @@\n+\n+Scroll:\n+2041012 \n+2048003 \n+[2043800 2043803 2043812 ]\n+2043301 \n+2040301 \n+[2040804 2040826 ]- uncommon\n+2043101 \n+2043201 \n+2043001 \n+2044301 \n+2043801 \n+2044201 \n+2043701 \n+2044502 \n+2041011 \n+2041014 \n+2044602 \n+2043302 \n+2040805 - uncommon\n+2043202 \n+2043002 \n+2048005 \n+2044402 \n+2044302 \n+2043802 \n+2044102 \n+2044202 \n+2043702 \n+\n+Useable drop:\n+2340000 - uncommon\n+2000004 2000012 2002012 2022175 2022456 \n+2000005 2000019 2002013 2022176 2022457 \n+\n+Common equipment:\n+1402010 \n+1032003 \n+1442013 \n+1432009 \n+1302022 \n+1302029 \n+1322021 \n+1302026 \n+1442017 \n+1322023 \n+1102011 \n+1032008 4031568 \n+1322026 \n+1442016 \n+1312000 \n+1032007 \n+1322025 \n+1322027 \n+1032020 \n+1442015 \n+1432017 \n+1302027 \n+1302049 \n+1372006 \n+1032022 \n+1032021 \n+1372004 \n+1332020 \n+1322007 \n+1032006 \n+1302028 \n+1322003 1702020 \n+1302007 \n+1092030 \n+1302021 \n+1322024 \n+1322012 \n+1032005 \n+1322022 \n+1032013 \n+1302025 \n+1302013 \n+1032017 \n+1032002 \n+1032001 \n+1302017 \n+1432018 \n+1442012 \n+1302000 \n+1032000 \n+1102013 \n+1442022 \n+1372005 \n+1442021 \n+1032009 \n+1302016 \n+\n+Warrior equipment:\n+1442003 \n+1312007 \n+1402008 \n+1312008 1312018 1312022 1312026 \n+1412008 1412015 1412019 1412024 \n+1442009 \n+1302004 \n+1312006 \n+1442016 \n+1402012 1402022 1402027 1402033 \n+1302003 \n+1312005 \n+1432002 1432019 1432024 1432031 \n+1432001 \n+1302008 1302038 1302043 1302050 \n+1040030 \n+1402015 1402023 1402028 1402034 \n+1322015 \n+1432006 1432021 1432026 1432033 \n+1322002 \n+1302010 1302039 1302044 1302051 \n+1322017 1322036 1322041 1322047 \n+1402003 1402020 1402025 1402031 \n+1402006 \n+1322000 \n+1422001 \n+1442001 \n+1422004 \n+1412004 \n+1322009 \n+1322011 \n+1442000 \n+1412005 \n+1402002 1402019 1402024 1402030 \n+1432004 1432020 1432025 1432032 \n+1442010 1442032 1442036 1442041 \n+1422008 \n+1442007 \n+1422009 1422016 1422020 1422024 \n+1322019 1322038 1322043 1322049 \n+1412003 1412013 1412017 1412022 \n+1412007 1412014 1412018 1412023 \n+1302009 \n+1412000 \n+1322014 1322035 1322040 1322046 \n+1402001 \n+1402007 \n+1432005 \n+\n+Magician equipment:\n+1382001 1382020 1382025 1382030 \n+1372007 1372019 1372023 1372028 \n+1382010 1382023 1382028 1382033 \n+1382007 1382022 1382027 1382032 \n+1372000 \n+1372003 \n+1382011 \n+1382006 1382021 1382026 1382031 \n+1382000 \n+\n+Bowman equipment:\n+1452004 1452029 1452034 1452040 \n+1452000 \n+1452010 \n+1452015 1452031 1452036 1452042 \n+1452014 \n+1462012 \n+1462010 \n+1452017 \n+1462000 1462023 1462028 1462033 \n+1452008 1452028 1452033 1452039 \n+1452006 \n+1462006 \n+1452007 \n+1452002 \n+1402001 \n+\n+Thief equipment:\n+1472006 \n+1472010 1472034 1472039 1472045 \n+1332022 \n+1332011 \n+1472015 \n+1472016 \n+1472023 \n+1472028 \n+1472022 \n+1472011 \n+1472026 \n+1332024 \n+1332009 \n+1472017 \n+1472013 \n+1472029 1472037 1472042 1472048 \n+1472021 1472035 1472040 1472046 \n+1332015 1332035 1332040 1332045 \n+1332031 \n+1332023 1332037 1332042 1332047 \n+1332004 \n+1472000 \n+1332019 \n+1472027 \n+1332018 1332036 1332041 1332046 \n+1472007 \n+1332012 1332033 1332038 1332043 \n+1332016 \n+1472024 \n+1332017 \n+1332003 1332034 1332039 1332044 \n+1472012 \n+1472014 \n+1472005 \n+1472018 \n+1472001 \n+\n+Pirate Scroll:\n+2044812 \n+\n+Pirate equipment:\n+1072294 \n+1492009 1492018 "}, {"sha": "2bf74ba5103c80bb79802ec23fc2ec121e17a9f4", "filename": "tools/MapleGachaponItemidRetriever/lib/gachapons/ellinia.txt", "status": "added", "additions": 255, "deletions": 0, "changes": 255, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/lib/gachapons/ellinia.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/lib/gachapons/ellinia.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleGachaponItemidRetriever/lib/gachapons/ellinia.txt?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -0,0 +1,255 @@\n+\n+Scroll:\n+2043302 \n+2040002 \n+2043102 \n+2043002 \n+2044402 \n+2044302 \n+2043802 \n+2044002 \n+2041017 2041053 2041016 2041052 2041015 \n+\n+Useable drop:\n+2000004 2000012 2002012 2022175 2022456 \n+2000005 2000019 2002013 2022176 2022457 \n+2022025 \n+2022026 \n+\n+Common equipment:\n+1402010 \n+1442013 \n+1432009 \n+1002060 \n+1002063 \n+1322023 \n+1002042 \n+1050018 \n+1082147 \n+1002026 \n+1002392 \n+1082149 - uncommon\n+1062024 \n+1442016 \n+1322025 \n+1322027 \n+1002391 - uncommon\n+1302027 \n+1372006 \n+1002419 - uncommon\n+1302019 \n+1092022 \n+1302021 \n+1041004 \n+1002395 1002448 \n+1322024 \n+1082148 \n+1002012 \n+1322012 \n+1032028 \n+1102012 \n+1322022 \n+1051017 \n+1302013 \n+1082146 \n+1442014 \n+1302017 \n+1102013 \n+1102003 \n+1002041 \n+1002097 \n+1302016 \n+1082145 \n+\n+Warrior equipment:\n+1412006 \n+1040029 5000032 \n+1040086 \n+1050005 \n+1060028 \n+1002059 \n+1060008 \n+1061088 \n+1402012 1402022 1402027 1402033 \n+1302003 \n+1432002 1432019 1432024 1432031 \n+1312011 1312021 1312025 1312029 \n+1302008 1302038 1302043 1302050 \n+1040030 \n+1002004 \n+1402015 1402023 1402028 1402034 \n+1322028 1322039 1322044 1322050 \n+1322015 \n+1432006 1432021 1432026 1432033 \n+1442006 \n+1322000 \n+1002085 \n+1002056 \n+1092013 \n+1002058 \n+1002050 \n+1060011 \n+1322009 \n+1322011 \n+1442000 \n+1051011 \n+1061016 \n+1060018 \n+1041024 \n+1061020 \n+1302005 \n+1402002 1402019 1402024 1402030 \n+1002030 \n+1092004 \n+1041023 \n+1422008 \n+1060009 \n+1051000 \n+1002021 \n+1442005 1442031 1442035 1442040 \n+1412003 1412013 1412017 1412022 \n+1412007 1412014 1412018 1412023 \n+1422007 \n+1302009 \n+1402000 \n+1402001 \n+1402007 \n+1432005 \n+\n+Magician equipment:\n+1382001 1382020 1382025 1382030 \n+1002037 \n+1060014 \n+1040018 \n+1061027 \n+1050002 \n+1002152 \n+1051027 \n+1050035 \n+1050056 \n+1051047 \n+1051030 \n+1002274 \n+1050074 \n+1002218 \n+1002254 \n+1082088 \n+1382007 1382022 1382027 1382032 \n+1002013 \n+1082087 \n+1372008 \n+1382008 1382024 1382029 1382034 \n+1372002 \n+1372003 \n+1382011 \n+1382004 \n+1050047 \n+1040019 \n+1041041 \n+1061034 \n+1041051 \n+1051045 \n+1051024 \n+1082081 \n+1041030 \n+1040018 \n+1002073 \n+1382003 \n+1082086 \n+1382014 1702033 \n+1050055 \n+1050025 \n+1002155 \n+1060015 \n+\n+Bowman equipment:\n+1452004 1452029 1452034 1452040 \n+1462003 \n+1060070 \n+1002118 \n+1061058 \n+1040003 \n+1002160 \n+1002121 \n+1040068 \n+1061063 \n+1040080 \n+1462004 \n+1041008 \n+1061006 \n+1061009 \n+1040022 1041032 \n+1002168 \n+1040067 \n+1060056 \n+1041054 \n+1041067 \n+1060063 \n+1002213 \n+1002119 \n+1462005 \n+1452001 \n+1462000 1462023 1462028 1462033 \n+1040025 1041033 \n+1002166 \n+1002161 \n+1040069 \n+1051039 \n+1452006 \n+1462006 \n+1452007 \n+1402001 \n+1041062 \n+\n+Thief equipment:\n+1472010 1472034 1472039 1472045 \n+1472006 \n+1332011 \n+1472031 1472038 1472043 1472049 \n+1041048 \n+1472019 \n+1041095 \n+1040095 \n+1002128 \n+1061077 \n+1060025 \n+1041040 \n+1061033 \n+1472028 \n+1472022 \n+1472011 \n+1040096 \n+1062002 \n+1002129 \n+1472026 \n+1332009 \n+1060043 \n+1002249 \n+1472021 1472035 1472040 1472046 \n+1040084 1041076 \n+1332015 1332035 1332040 1332045 \n+1002173 \n+1002148 \n+1332004 \n+1332018 1332036 1332041 1332046 \n+1472009 \n+1061069 \n+1002176 \n+1041044 \n+1061037 \n+1060032 \n+1472020 \n+1040060 \n+1472018 \n+1332013 \n+1332002 \n+1402001 \n+\n+Pirate Scroll:\n+2044902 2044907 2044904 2044901 2044906 2044903 [2044900 2044908 ]\n+\n+Pirate equipment:\n+1052107 \n+1082189 \n+1052116 \n+1072309 "}, {"sha": "f6fa09f5003a1d3bb9b1f759557e6306ed639ebd", "filename": "tools/MapleGachaponItemidRetriever/lib/gachapons/henesys.txt", "status": "added", "additions": 174, "deletions": 0, "changes": 174, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/lib/gachapons/henesys.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/lib/gachapons/henesys.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleGachaponItemidRetriever/lib/gachapons/henesys.txt?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -0,0 +1,174 @@\n+\n+Scroll:\n+2040001 \n+2041002 \n+2040805 - uncommon\n+2040702 \n+2043802 \n+2040402 \n+2043702 \n+\n+Useable Drops:\n+2000004 2000012 2002012 2022175 2022456 \n+2000005 2000019 2002013 2022176 2022457 \n+2020012 \n+2030007 \n+\n+Common equipment:\n+1432009 \n+1302022 \n+1322021 \n+1302026 \n+1442017 \n+1082147 \n+1102043 \n+1322026 \n+1442016 \n+1402012 1402022 1402027 1402033 \n+1322025 \n+1322027 \n+1302027 \n+1312012 \n+1062000 \n+1332020 \n+1302028 \n+1372002 \n+1002033 \n+1092022 \n+1302021 \n+1102041 - uncommon\n+1322009 \n+1102042 - uncommon\n+1322024 \n+1082148 \n+1002012 \n+1322012 \n+1322022 \n+1002020 1002454 \n+1302013 \n+1082146 \n+1442014 \n+1002096 \n+1302017 \n+1442012 \n+\n+Beginner equipment:\n+1442018 1442039 - uncommon\n+\n+Warrior equipment:\n+1092011 \n+1092014 \n+1302003 \n+1432001 \n+1312011 1312021 1312025 1312029 \n+1002088 \n+1041020 \n+1322015 \n+1442004 \n+1422008 \n+1302056 1402011 1402021 1402026 1402032 \n+1432000 \n+1442005 1442031 1442035 1442040 \n+\n+Magician equipment:\n+1382001 1382020 1382025 1382030 \n+1041053 \n+1041029 \n+1050053 \n+1051032 \n+1050073 \n+1061036 \n+1002253 \n+1002034 \n+1051025 \n+1050067 \n+1051052 \n+1002072 \n+1002144 \n+1051054 \n+1050069 \n+1372007 1372019 1372023 1372028 \n+1050056 \n+1050074 \n+1002254 \n+1002274 \n+1002218 \n+1051055 \n+1382010 1382023 1382028 1382033 \n+1002246 \n+1050039 \n+1382007 1382022 1382027 1382032 \n+1372000 \n+1002013 \n+1050072 \n+1002036 \n+1002244 \n+1372008 \n+1382008 1382024 1382029 1382034 \n+1382011 \n+1092021 \n+1051034 \n+1050047 \n+1040019 \n+1041031 \n+1051033 \n+1002153 \n+1002252 \n+1051024 \n+1051053 \n+1050068 \n+1382003 \n+1382006 1382021 1382026 1382031 \n+1050055 \n+1051031 \n+1050025 \n+1002155 \n+1002245 \n+1372001 1372018 1372022 1372027 \n+\n+Bowman equipment:\n+1452004 1452029 1452034 1452040 \n+1452023 1702035 \n+1060057 \n+1432001 \n+1040071 \n+1002137 \n+1462009 1462026 1462031 1462036 \n+1452017 \n+1040025 1041033 \n+1041027 \n+1452005 1452027 1452032 1452038 \n+1452007 \n+1061057 \n+\n+Thief equipment:\n+1472006 \n+1472019 \n+1060084 \n+1472028 \n+1472004 \n+1002179 \n+1082074 \n+1472029 1472037 1472042 1472048 \n+1040100 \n+1332015 1332035 1332040 1332045 \n+1432001 \n+1040097 \n+1060071 \n+1472007 \n+1472002 \n+1051009 \n+1041044 \n+1041003 \n+1332016 \n+1472020 \n+1332003 1332034 1332039 1332044 \n+\n+Pirate Scroll:\n+2044813 \n+\n+Pirate equipment:\n+1002622 \n+1082204 \n+1082213 \n+1082198 "}, {"sha": "c47981fd21c0ddb4717836af383001bdc3b2e385", "filename": "tools/MapleGachaponItemidRetriever/lib/gachapons/kerning_city.txt", "status": "added", "additions": 117, "deletions": 0, "changes": 117, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/lib/gachapons/kerning_city.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/lib/gachapons/kerning_city.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleGachaponItemidRetriever/lib/gachapons/kerning_city.txt?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -0,0 +1,117 @@\n+\n+Scroll:\n+2041016 \n+2043302 \n+2040805 - uncommon\n+2040902 \n+\n+Useable drop:\n+2000004 2000012 2002012 2022175 2022456 \n+2000005 2000019 2002013 2022176 2022457 \n+2022025 \n+2022027 \n+\n+Common equipment:\n+1442013 \n+1432009 \n+1322021 \n+1050018 \n+1002392 \n+1082149 - uncommon\n+1002394 \n+1442004 \n+1372002 \n+1002418 \n+1002033 \n+1092008 \n+1102041 - uncommon\n+1082148 \n+1062001 \n+1302017 \n+1032023 \n+1102013 \n+1102040 \n+1002041 \n+1002097 \n+\n+Warrior equipment:\n+1332026 \n+1051010 \n+1432001 \n+1422005 1422015 1422019 1422023 \n+1332019 \n+1302010 1302039 1302044 1302051 \n+1002056 \n+1060011 \n+1322011 \n+1432004 1432020 1432025 1432032 \n+1002028 \n+1051000 \n+1442007 \n+1302002 \n+\n+Magician equipment:\n+1002037 \n+1002034 \n+1082020 \n+1050039 \n+1372000 \n+1002215 \n+1051034 \n+1040019 \n+1061034 \n+1382003 \n+1382006 1382021 1382026 1382031 \n+1050025 \n+\n+Bowman equipment:\n+1002118 \n+1061081 \n+1452011 1452030 1452035 1452041 \n+1462012 \n+1452006 \n+1452007 \n+\n+Thief equipment:\n+1472010 1472034 1472039 1472045 \n+1472029 1472037 1472042 1472048 \n+1041048 \n+1041095 \n+1060031 \n+1061033 \n+1041049 \n+1472011 \n+1040096 \n+1472033 \n+1332026 \n+1051006 \n+1082074 \n+1472025 1472036 1472041 1472047 \n+1061106 \n+1040084 1041076 \n+1332015 1332035 1332040 1332045 \n+1472000 \n+1332019 \n+1002183 \n+1002209 \n+1092020 \n+1332029 \n+1092019 \n+1061099 \n+1060106 1061116 \n+1040032 1041036 \n+1040059 \n+1332003 1332034 1332039 1332044 \n+1040060 \n+1060046 \n+1472005 \n+1332027 \n+\n+Pirate Scroll:\n+2044804 \n+2044906 \n+\n+Pirate equipment:\n+1482004 1482015 \n+1072318 \n+1492007 1492016 "}, {"sha": "4d85851b1b0bb2b21c8e34b68b4fdeacc7d8adf8", "filename": "tools/MapleGachaponItemidRetriever/lib/gachapons/leafre.txt", "status": "added", "additions": 113, "deletions": 0, "changes": 113, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/lib/gachapons/leafre.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/lib/gachapons/leafre.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleGachaponItemidRetriever/lib/gachapons/leafre.txt?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -0,0 +1,113 @@\n+\n+Scroll:\n+2040407 2040406 \n+2040409 2040408 \n+2040405 2040404 \n+2040411 2040410 \n+2040409 2040408 \n+2044405 2044404 \n+2040611 2040610 \n+2040607 2040606 \n+2040813 2040812 \n+2041039 2041038 \n+2041041 2041040 \n+2041035 2041034 \n+2041031 2041030 \n+2041037 2041036 \n+2043105 2043104 \n+2043305 2043304 \n+2040103 2040104 \n+2040605 2040604 \n+2040611 2040610 \n+2043005 2043004 \n+2043205 2043204 \n+2044205 2044204 \n+2044005 2044004 \n+2040521 \n+2040511 2040510 \n+2043305 2043304 \n+2040909 2040908 \n+2040905 2040904 \n+2040907 2040906 \n+2040809 2040808 \n+2040813 2040812 \n+2040811 - uncommon\n+2040015 2040014 \n+2040715 2040714 \n+2040713 2040712 \n+2044005 2044004 \n+2043705 2043704 \n+2044505 2044504 \n+2040519 2040518 \n+2040203 2040204 \n+2040103 2040104 \n+2040108 2040109 \n+2044705 2044704 \n+2040907 2040906 \n+2040815 2040814 - uncommon\n+2044305 2044304 \n+2043007 2043006 \n+2040307 \n+2040305 2040304 \n+2040309 2040308 \n+2040811 - uncommon\n+2040208 \n+2040209 \n+\n+Useable drop:\n+\n+Common equipment:\n+1102040 \n+1102041 - uncommon\n+1102042 - uncommon\n+1102086 \n+1082145 \n+1032027 \n+1082146 \n+1002395 1002448 \n+1002083 \n+1002392 \n+1082149 - uncommon\n+1002587 \n+1022047 \n+\n+Beginner equipment:\n+\n+Warrior equipment:\n+1312002 \n+1432013 \n+1060030 \n+1422008 \n+1050022 \n+1050011 \n+1402013 \n+1402017 \n+1302012 1302041 1302046 1302053 \n+\n+Mage equipment:\n+1002074 \n+1050029 \n+1040093 \n+1050056 \n+1050039 \n+1382008 1382024 1382029 1382034 \n+\n+Bowman equipment:\n+1002159 \n+1061051 \n+1040023 \n+\n+Thief equipment:\n+1061054 \n+1061106 \n+1002249 \n+1040084 1041076 \n+1060052 \n+1472054 \n+\n+Pirate Scroll:\n+2044803 \n+\n+Pirate equipment:\n+1482009 1482018 \n+1072303 "}, {"sha": "26b5c0d7a78c7e9792f1ef8c4c6b12ac59a5a2bd", "filename": "tools/MapleGachaponItemidRetriever/lib/gachapons/ludibrium.txt", "status": "added", "additions": 159, "deletions": 0, "changes": 159, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/lib/gachapons/ludibrium.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/lib/gachapons/ludibrium.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleGachaponItemidRetriever/lib/gachapons/ludibrium.txt?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -0,0 +1,159 @@\n+\n+Scroll:\n+2048000 \n+2040601 \n+2041019 \n+2041007 \n+2041016 \n+2041022 \n+2041001 \n+2041010 \n+2041013 \n+2041004 \n+2044701 \n+2043301 \n+2040301 \n+2048004 \n+2048001 \n+2040901 \n+2040701 \n+2040704 \n+2040707 \n+2040602 \n+2041020 \n+2041008 \n+2041017 \n+2041023 \n+2041002 \n+2041011 \n+2041014 \n+2041005 \n+2044702 \n+2043302 \n+[2040302 2040330 ]\n+2040805 - uncommon\n+2040002 \n+2044402 \n+2048005 \n+2048002 \n+2040702 \n+2040705 \n+2040708 \n+2044302 \n+2043802 \n+2040402 \n+2043702 \n+\n+Useable drop:\n+2000004 2000012 2002012 2022175 2022456 \n+2000005 2000019 2002013 2022176 2022457 \n+4006000 \n+4006001 \n+\n+Common equipment:\n+1032003 \n+1432009 \n+1302022 \n+1302029 \n+1102014 \n+1102018 \n+1312014 \n+1302026 \n+1102015 \n+1032011 1041078 \n+1312013 \n+1032008 4031568 \n+1032019 \n+1032007 \n+1332030 \n+1032020 \n+1032004 \n+1302027 \n+1032022 \n+1312012 \n+1032021 \n+1032006 \n+1302028 \n+1322003 1702020 \n+1002419 - uncommon\n+1032016 \n+1032015 \n+1302024 \n+1092008 \n+1032018 \n+1302021 \n+1032014 \n+1332021 \n+1322012 \n+1032005 \n+1032013 \n+1102012 \n+1302025 \n+1302013 \n+1032002 \n+1032001 \n+1032012 \n+1302017 \n+1032010 \n+1402014 \n+1102017 \n+1102013 \n+1442021 \n+1032009 \n+\n+Beginner equipment:\n+1442018 1442039 - uncommon\n+1332021 \n+1422011 \n+\n+Warrior equipment:\n+1402017 \n+1422005 1422015 1422019 1422023 \n+1002023 \n+1332016 \n+1432005 \n+\n+Magician equipment:\n+1002037 \n+1002034 \n+1002064 \n+1002038 \n+1002013 \n+1002036 \n+1382011 \n+1002035 \n+1002065 \n+1382014 1702033 \n+1372001 1372018 1372022 1372027 \n+\n+Bowman equipment:\n+1452026 \n+1002162 \n+1002164 \n+1462018 \n+1002165 \n+1452014 \n+1002163 \n+1452012 \n+1002161 \n+1452009 \n+1462007 1462024 1462029 1462034 \n+\n+Thief Equipment:\n+1332022 \n+1002175 \n+1002172 \n+1002174 \n+1040096 \n+1472033 \n+1002173 \n+1332054 \n+1472054 \n+1002171 \n+1332016 \n+\n+Pirate Scroll:\n+2044811 \n+\n+Pirate equipment:\n+1002646 "}, {"sha": "068c0997046c3ee35deb75f1276dcd3763298200", "filename": "tools/MapleGachaponItemidRetriever/lib/gachapons/mushroom_shrine.txt", "status": "added", "additions": 119, "deletions": 0, "changes": 119, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/lib/gachapons/mushroom_shrine.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/lib/gachapons/mushroom_shrine.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleGachaponItemidRetriever/lib/gachapons/mushroom_shrine.txt?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -0,0 +1,119 @@\n+\n+Scroll:\n+2040305 2040304 \n+2040306 \n+2040309 2040308 \n+2044604 \n+2041039 \n+2041037 \n+2041035 \n+2041034 \n+2041041 \n+2040608 \n+2040605 \n+2040604 \n+2040611 \n+2040610 \n+2040811 - uncommon\n+2040810 - uncommon\n+2040813 2040812 \n+2040815 2040814 - uncommon\n+2040809 2040808 \n+2043004 \n+2040017 \n+2040015 \n+2040011 \n+2040013 2040012 \n+2040405 \n+2040407 2040406 \n+2040411 2040410 \n+2040511 \n+2040509 \n+2040508 \n+2040519 \n+2040521 2040520 \n+2040108 2040109 \n+2040904 \n+2040909 2040908 \n+2043105 2043104 \n+2044105 2044104 \n+2043005 \n+2043004 \n+2043007 2043006 \n+2044005 2044004 \n+2044205 2044204 \n+2043305 2043304 \n+2040607 2040606 \n+2040715 2040714 \n+2040713 \n+2044305 2044304 \n+\n+Useable drop:\n+\n+Common equipment:\n+1102041 - uncommon\n+1102042 - uncommon\n+1102040 \n+1102084 \n+1002392 \n+1432009 \n+1002393 1002903 \n+1002394 \n+1082149 - uncommon\n+1082147 \n+1082148 \n+1032028 \n+1002585 \n+1002586 \n+1432013 \n+1022047 \n+1322027 \n+1432018 \n+\n+Beginner equipment:\n+1072264 \n+1072262 \n+1072263 \n+\n+Warrior equipment:\n+1060074 \n+1322002 \n+1002340 \n+1442004 \n+1402037 \n+1422008 \n+1050022 \n+\n+Mage equipment:\n+1382037 \n+1060014 \n+1051026 \n+1050056 \n+1050029 \n+1051030 \n+1382036 \n+1372032 \n+1041015 \n+1382015 3300001 \n+1372008 \n+1382008 1382024 1382029 1382034 \n+\n+Bowman equipment:\n+1452018 \n+1041068 \n+1462007 1462024 1462029 1462034 \n+\n+Thief equipment:\n+1060052 \n+1472013 \n+1002180 \n+1002170 \n+1060073 1061071 \n+1060099 \n+\n+Pirate Scroll:\n+2044904 \n+\n+Pirate equipment:\n+1492004 1492015 \n+1492012 "}, {"sha": "a64db932f0d7399b86cb8eff674a0c572b30cb61", "filename": "tools/MapleGachaponItemidRetriever/lib/gachapons/perion.txt", "status": "added", "additions": 117, "deletions": 0, "changes": 117, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/lib/gachapons/perion.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/lib/gachapons/perion.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleGachaponItemidRetriever/lib/gachapons/perion.txt?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -0,0 +1,117 @@\n+\n+Useable drop:\n+2000004 2000012 2002012 2022175 2022456 \n+2000005 2000019 2002013 2022176 2022457 \n+\n+Common equipment:\n+1402010 \n+1302022 \n+1002060 \n+1322021 \n+1082147 \n+1002006 \n+1002026 \n+1002392 \n+1082149 - uncommon\n+1322025 \n+1322027 \n+1002391 - uncommon\n+1102000 \n+1082150 \n+1332020 \n+1322007 \n+1002419 - uncommon\n+1302021 \n+1102041 - uncommon\n+1002395 1002448 \n+1082148 \n+1322012 \n+1302017 \n+1322010 \n+1032000 \n+1102013 \n+1002097 \n+\n+Warrior equipment:\n+1322020 \n+1312007 \n+1312008 1312018 1312022 1312026 \n+1302004 \n+1312006 \n+1082036 \n+1082117 \n+1061088 \n+1302008 1302038 1302043 1302050 \n+1422005 1422015 1422019 1422023 \n+1002048 \n+1061087 \n+1302018 1302042 1302047 1302054 \n+1322017 1322036 1322041 1322047 \n+1422001 \n+1040103 \n+1060077 \n+1002022 \n+1002050 \n+1442000 \n+1432030 \n+1402037 \n+1092002 \n+1041092 \n+1050006 \n+1432004 1432020 1432025 1432032 \n+1061019 \n+1432000 \n+1060009 \n+1051000 \n+1002021 \n+1322014 1322035 1322040 1322046 \n+1432005 \n+\n+Magician equipment:\n+1051032 \n+1040018 \n+1051027 \n+1372007 1372019 1372023 1372028 \n+1050049 \n+1002036 \n+1382012 \n+1002217 \n+1051033 \n+1382006 1382021 1382026 1382031 \n+1050048 \n+\n+Bowman equipment:\n+1061061 \n+1060062 \n+1040075 \n+1462013 1462027 1462032 1462037 \n+1041065 \n+1452006 \n+\n+Thief equipment:\n+1040095 \n+1060084 \n+1002182 \n+1041049 \n+1002247 \n+1332024 \n+1332009 \n+1060024 \n+1332015 1332035 1332040 1332045 \n+1041060 \n+1061032 \n+1041074 \n+1041003 \n+1332016 \n+1472020 \n+1332003 1332034 1332039 1332044 \n+1041059 \n+\n+Pirate Scroll:\n+2044907 \n+2044802 2044804 2044801 2044803 [2044800 2044815 ]\n+\n+Pirate equipment:\n+1002631 \n+1052122 \n+1482012 "}, {"sha": "acecbf0b797c5130d4057a02c90d3d9b5f0e4ff9", "filename": "tools/MapleGachaponItemidRetriever/lib/gachapons/showa_spa_female.txt", "status": "added", "additions": 69, "deletions": 0, "changes": 69, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/lib/gachapons/showa_spa_female.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/lib/gachapons/showa_spa_female.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleGachaponItemidRetriever/lib/gachapons/showa_spa_female.txt?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -0,0 +1,69 @@\n+\n+Scroll:\n+2048005 \n+2048002 \n+2043202 \n+2044602 \n+2043214 \n+2041307 \n+2040916 - uncommon\n+2041035 \n+2044104 \n+2044505 \n+2044305 \n+2043304 \n+2041309 \n+2044010 \n+\n+Useable drop:\n+2022016 \n+2000005 2000019 2002013 2022176 2022457 \n+2022025 \n+2022027 \n+\n+Common equipment:\n+1402000 \n+1402013 \n+1002418 \n+1022047 \n+1102042 - uncommon\n+1082145 \n+1082147 \n+1082146 \n+1082178 \n+1082175 \n+\n+Common setup:\n+3010073 \n+3010099 \n+\n+Beginner equipment:\n+\n+Warrior equipment:\n+1422013 \n+1432030 \n+\n+Magician equipment:\n+1372002 \n+1382003 \n+\n+Bowman equipment:\n+1040023 \n+\n+Thief equipment:\n+1332003 1332034 1332039 1332044 \n+1002209 \n+\n+Pirate Scroll:\n+2044803 \n+2044814 \n+2044904 \n+2044902 \n+2044901 \n+\n+Pirate equipment:\n+1082198 \n+1082213 \n+1482007 1482016 \n+1492004 1492015 \n+1002646 "}, {"sha": "521dea07cf49e601aec9e017a5b154ccfe700155", "filename": "tools/MapleGachaponItemidRetriever/lib/gachapons/showa_spa_male.txt", "status": "added", "additions": 109, "deletions": 0, "changes": 109, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/lib/gachapons/showa_spa_male.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/lib/gachapons/showa_spa_male.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleGachaponItemidRetriever/lib/gachapons/showa_spa_male.txt?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -0,0 +1,109 @@\n+\n+Scroll:\n+2048005 \n+2048002 \n+2043202 \n+2044602 \n+2043214 \n+2041307 \n+2040916 - uncommon\n+2041035 \n+2044104 \n+2044505 \n+2044305 \n+2043304 \n+\n+Useable drop:\n+2022016 \n+2000005 2000019 2002013 2022176 2022457 \n+2022025 \n+2022027 \n+\n+Common equipment:\n+1332020 \n+1312004 \n+1332032 5010034 9250053 \n+1322023 \n+1322026 \n+1322022 \n+1322012 \n+1302014 \n+1302049 \n+1302017 \n+1332007 \n+1432009 \n+1432016 \n+1432017 \n+1432009 \n+1402013 \n+1402044 \n+1442014 \n+1442017 \n+1442016 \n+1442025 \n+1002418 \n+1082178 \n+1082179 \n+1082148 \n+1032027 \n+1032032 \n+1102028 \n+1102086 \n+1102042 - uncommon\n+\n+Common setup:\n+3010073 \n+3010111 \n+\n+Beginner equipment:\n+\n+Warrior equipment:\n+1412005 \n+1402048 \n+1402049 \n+1322011 \n+1302003 \n+1302004 \n+1302008 1302038 1302043 1302050 \n+\n+Magician equipment:\n+1372000 \n+1372009 \n+1372001 1372018 1372022 1372027 \n+1372011 1702032 \n+1382006 1382021 1382026 1382031 \n+1382014 1702033 \n+\n+Bowman equipment:\n+1452018 \n+1452006 \n+1452008 1452028 1452033 1452039 \n+1452005 1452027 1452032 1452038 \n+1462002 \n+1462007 1462024 1462029 1462034 \n+1462003 \n+1002169 \n+\n+Thief equipment:\n+1472023 \n+1332012 1332033 1332038 1332043 \n+1332017 \n+1332022 \n+1332006 \n+1332029 \n+1040097 \n+\n+Pirate Scroll:\n+2044902 \n+2044901 \n+2044811 \n+2044903 \n+2044804 \n+\n+Pirate equipment:\n+1052107 \n+1082204 \n+1072318 \n+1002637 \n+1482009 1482018 \n+1492007 1492016 "}, {"sha": "e9f5dad0a1a66107cd7b7496bea14557674d6cb5", "filename": "tools/MapleGachaponItemidRetriever/lib/gachapons/sleepywood.txt", "status": "added", "additions": 165, "deletions": 0, "changes": 165, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/lib/gachapons/sleepywood.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/lib/gachapons/sleepywood.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleGachaponItemidRetriever/lib/gachapons/sleepywood.txt?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -0,0 +1,165 @@\n+\n+Scroll:\n+2048003 \n+2048000 \n+2040601 \n+2044501 \n+2041019 \n+2041016 \n+2041022 \n+2041010 \n+2041013 \n+2043301 \n+2040301 \n+[2040804 2040826 ]- uncommon\n+2040801 \n+2040817 - uncommon\n+2040001 \n+2040004 \n+2043101 \n+2043201 \n+2043001 \n+2040504 \n+2040501 \n+2048004 \n+2048001 \n+2044401 \n+2040901 \n+2040701 \n+2040704 \n+2040707 \n+2044301 \n+2043801 \n+2044101 \n+2044201 \n+2044001 \n+2040602 \n+2044502 \n+2041020 \n+2041017 \n+2041023 \n+2041014 \n+2041005 \n+2044702 \n+2044602 \n+2043302 \n+[2040302 2040330 ]\n+2040805 - uncommon\n+2040802 \n+2040005 \n+2043202 \n+2043002 \n+2040505 \n+2040502 \n+2048005 \n+2048002 \n+2044402 \n+2040902 \n+2040702 \n+2040705 \n+2040708 \n+2044302 \n+2043802 \n+2044202 \n+2044002 \n+\n+Useable drop:\n+2340000 - uncommon\n+2012000 \n+2012003 \n+2020007 \n+2000004 2000012 2002012 2022175 2022456 \n+2012001 \n+2020008 \n+2070006 \n+2020012 \n+2000005 2000019 2002013 2022176 2022457 \n+2030007 \n+2012002 \n+2002001 \n+2070005 \n+\n+Common equipment:\n+1032003 \n+1432009 \n+1102014 \n+1102018 \n+1002392 \n+1082149 - uncommon\n+1322026 \n+1032022 \n+1312012 \n+1332020 \n+1092030 \n+1032016 \n+1032015 \n+1032014 \n+1322024 \n+1032013 \n+1322022 \n+1102016 \n+1032012 \n+1032023 \n+1402014 \n+1032000 \n+1102017 \n+\n+Beginner equipment:\n+1442018 1442039 - uncommon\n+\n+Warrior equipment:\n+1402017 \n+1051010 \n+1432011 \n+1442006 \n+1322002 \n+1422004 \n+1432010 1432023 1432028 1432035 \n+1051011 \n+1060018 \n+1432000 \n+1422003 \n+1412003 1412013 1412017 1412022 \n+1422000 \n+\n+Magician equipment:\n+1002034 \n+1002142 \n+1382010 1382023 1382028 1382033 \n+1002013 \n+1382008 1382024 1382029 1382034 \n+1382011 \n+1050047 \n+1002065 \n+\n+Bowman equipment:\n+1452003 \n+1002165 \n+1040068 \n+1462013 1462027 1462032 1462037 \n+1462011 \n+1462012 \n+1061050 \n+1462010 \n+1002161 \n+\n+Thief equipment:\n+1332022 \n+1002175 \n+1040042 \n+1472004 \n+1040057 \n+1332031 \n+1332023 1332037 1332042 1332047 \n+1332010 \n+1002171 \n+1060046 \n+\n+Pirate Scroll:\n+2044801 \n+2044903 \n+2044814 \n+\n+Pirate equipment:\n+1052131 \n+1482007 1482016 "}, {"sha": "0539039f716034c4896c8eaa81c075c7fa3bc997", "filename": "tools/MapleGachaponItemidRetriever/lib/mysql-connector-java-bin.jar", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/lib/mysql-connector-java-bin.jar", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/lib/mysql-connector-java-bin.jar", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleGachaponItemidRetriever/lib/mysql-connector-java-bin.jar?ref=edb3920852c368da6f0e1e6bf589938a5820a70a"}, {"sha": "328e8e5bc3b7f1f7bad2bc0751a933e00c801983", "filename": "tools/MapleGachaponItemidRetriever/manifest.mf", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/manifest.mf", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/manifest.mf", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleGachaponItemidRetriever/manifest.mf?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -0,0 +1,3 @@\n+Manifest-Version: 1.0\n+X-COMMENT: Main-Class will be added automatically by build\n+"}, {"sha": "f91a633a3666bb7d5aca927e40a09b4967aa403e", "filename": "tools/MapleGachaponItemidRetriever/src/maplegachaponitemidretriever/MapleGachaponItemidRetriever.java", "status": "added", "additions": 375, "deletions": 0, "changes": 375, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/src/maplegachaponitemidretriever/MapleGachaponItemidRetriever.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleGachaponItemidRetriever/src/maplegachaponitemidretriever/MapleGachaponItemidRetriever.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleGachaponItemidRetriever/src/maplegachaponitemidretriever/MapleGachaponItemidRetriever.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -0,0 +1,375 @@\n+/*\n+    This file is part of the HeavenMS MapleStory Server\n+    Copyleft (L) 2016 - 2018 RonanLana\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package maplegachaponitemidretriever;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.LinkedList;\n+import java.util.HashMap;\n+import java.util.Map;\n+import java.util.Map.Entry;\n+\n+import java.io.BufferedReader;\n+import java.io.FileInputStream;\n+import java.io.FileNotFoundException;\n+import java.io.IOException;\n+import java.io.InputStreamReader;\n+import java.io.PrintWriter;\n+import java.sql.Connection;\n+import java.sql.DriverManager;\n+import java.sql.PreparedStatement;\n+import java.sql.ResultSet;\n+import java.sql.SQLException;\n+import java.util.Collections;\n+import java.util.regex.Matcher;\n+import java.util.regex.Pattern;\n+\n+/**\n+ *\n+ * @author RonanLana\n+ * \n+ * This application reads metadata for the gachapons found on the \"gachapon_items.txt\"\n+ * recipe file, then checks up the Handbook DB (installed through MapleIdRetriever)\n+ * and translates the item names from the recipe file into their respective itemids.\n+ * The translated itemids are then stored in specific gachapon files inside the\n+ * \"lib/gachapons\" folder.\n+ *\n+ * Estimated parse time: 1 minute\n+ */\n+public class MapleGachaponItemidRetriever {\n+\n+    static String host = \"jdbc:mysql://localhost:3306/heavenms\";\n+    static String driver = \"com.mysql.jdbc.Driver\";\n+    static String username = \"root\";\n+    static String password = \"\";\n+    \n+    static Connection con = null;\n+    static InputStreamReader fileReader = null;\n+    static BufferedReader bufferedReader = null;\n+    static PrintWriter printWriter = null;\n+    \n+    // ------- SET-UP section arguments --------\n+    \n+    static String directoryName = \"./handbook/\";\n+    \n+    // ------- SEARCH section arguments --------\n+    \n+    static String inputName = \"lib/gachapon_items.txt\";\n+    static String outputPath = \"lib/gachapons/\";\n+    \n+    static Pattern p = Pattern.compile(\"(\\\\d*)%\");\n+    static int[] scrollsChances = new int[]{10, 15, 30, 60, 65, 70, 100};\n+    \n+    static Map<GachaponScroll, List<Integer>> scrollItemids = new HashMap<>();\n+    \n+    private static void insertGachaponScrollItemid(Integer id, String name, String description, boolean both) {\n+        GachaponScroll gachaScroll = getGachaponScroll(name, description, both);\n+\n+        List<Integer> list = scrollItemids.get(gachaScroll);\n+        if (list == null) {\n+            list = new LinkedList<>();\n+            scrollItemids.put(gachaScroll, list);\n+        }\n+\n+        list.add(id);\n+    }\n+    \n+    private static void loadHandbookUseNames() throws SQLException {\n+        PreparedStatement ps = con.prepareStatement(\"SELECT * FROM `handbook` WHERE `id` >= 2040000 AND `id` < 2050000 ORDER BY `id` ASC;\");\n+        ResultSet rs = ps.executeQuery();\n+\n+        while(rs.next()) {\n+            Integer id = rs.getInt(\"id\");\n+            String name = rs.getString(\"name\");\n+            \n+            if (isUpgradeScroll(name)) {\n+                String description = rs.getString(\"description\");\n+                insertGachaponScrollItemid(id, name, description, false);\n+                insertGachaponScrollItemid(id, name, description, true);\n+            }\n+        }\n+        \n+        rs.close();\n+        ps.close();\n+        \n+        /*\n+        for (Entry<GachaponScroll, List<Integer>> e : scrollItemids.entrySet()) {\n+            System.out.println(e);\n+        }\n+        System.out.println(\"------------\");\n+        */\n+    }\n+    \n+    private static class GachaponScroll {\n+        private String header;\n+        private String target;\n+        private String buff;\n+        private int prop;\n+        \n+        private GachaponScroll(GachaponScroll from, int prop) {\n+            this.header = from.header;\n+            this.target = from.target;\n+            this.buff = from.buff;\n+            this.prop = prop;\n+        }\n+        \n+        private GachaponScroll(String name, String description, boolean both) {\n+            String[] params = name.split(\" for \");\n+            if (params.length < 3) {\n+                return;\n+            }\n+            \n+            String header = both ? \"scroll\" : \" \" + params[0];\n+            String target = params[1];\n+\n+            int prop = 0;\n+            String buff = params[2];\n+\n+            Matcher m = p.matcher(buff);\n+            if (m.find()) {\n+                prop = Integer.valueOf(m.group(1));\n+                buff = buff.substring(0, m.start() - 1).trim();\n+            } else {\n+                m = p.matcher(description);\n+                \n+                if (m.find()) {\n+                    prop = Integer.valueOf(m.group(1));\n+                }\n+            }\n+\n+            int idx = buff.indexOf(\" (\");   // remove percentage & dots from name checking\n+            if (idx > -1) {\n+                buff = buff.substring(0, idx);\n+            }\n+            buff = buff.replace(\".\", \"\");\n+            \n+            this.header = header;\n+            this.target = target;\n+            this.buff = buff;\n+            this.prop = prop;\n+        }\n+        \n+        @Override    \n+        public int hashCode() {\n+            int result = (int) (prop ^ (prop >>> 32));\n+            result = 31 * result + (header != null ? header.hashCode() : 0);        \n+            result = 31 * result + (target != null ? target.hashCode() : 0);\n+            result = 31 * result + (buff != null ? buff.hashCode() : 0);\n+            return result;    \n+        }\n+        \n+        @Override    \n+        public boolean equals(Object o) {        \n+            if (this == o) return true;        \n+            if (o == null || getClass() != o.getClass()) return false;        \n+            GachaponScroll sc = (GachaponScroll) o;        \n+            if (header != null ? !header.equals(sc.header) : sc.header != null) return false;        \n+            if (target != null ? !target.equals(sc.target) : sc.target != null) return false;        \n+            if (buff != null ? !buff.equals(sc.buff) : sc.buff != null) return false;\n+            if (prop != sc.prop) return false;\n+            return true;\n+        }\n+        \n+        @Override\n+        public String toString() {\n+            return header + \" for \" + target + \" for \" + buff + \" - \" + prop + \"%\";\n+        }\n+        \n+    }\n+    \n+    private static String getGachaponScrollResults(String line, boolean both) {\n+        String str = \"\";\n+        List<GachaponScroll> gachaScrollList;\n+            \n+        GachaponScroll gachaScroll = getGachaponScroll(line, \"\", both);\n+        if (gachaScroll.prop != 0) {\n+            gachaScrollList = Collections.singletonList(gachaScroll);\n+        } else {\n+            gachaScrollList = new ArrayList<>(scrollsChances.length);\n+\n+            for (int prop : scrollsChances) {\n+                gachaScrollList.add(new GachaponScroll(gachaScroll, prop));\n+            }\n+        }\n+        \n+        for (GachaponScroll gs : gachaScrollList) {\n+            List<Integer> gachaItemids = scrollItemids.get(gs);\n+            if (gachaItemids != null) {\n+                String listStr = \"\";\n+                for (Integer id : gachaItemids) {\n+                    listStr += id.toString();\n+                    listStr += \" \";\n+                }\n+\n+                if (gachaItemids.size() > 1) {\n+                    str += \"[\" + listStr + \"]\";\n+                } else {\n+                    str += listStr;\n+                }\n+            }\n+        }\n+        \n+        return str;\n+    }\n+    \n+    private static GachaponScroll getGachaponScroll(String name, String description, boolean both) {\n+        name = name.toLowerCase();\n+        name = name.replace(\"for acc \", \"for accuracy \");\n+        name = name.replace(\"blunt weapon\", \"bw\");\n+        name = name.replace(\"eye eqp.\", \"eye accessory\");\n+        name = name.replace(\"face eqp.\", \"face accessory\");\n+        name = name.replace(\"for attack\", \"for att\");\n+        name = name.replace(\"1-handed\", \"one-handed\");\n+        name = name.replace(\"2-handed\", \"two-handed\");\n+        \n+        return new GachaponScroll(name, description, both);\n+    }\n+    \n+    private static boolean isUpgradeScroll(String name) {\n+        return name.matches(\"^(([D|d]ark )?[S|s]croll for).*\");\n+    }\n+    \n+    private static void fetchLineOnMapleHandbook(String line, String rarity) throws SQLException {\n+        String str = \"\";\n+        if (!isUpgradeScroll(line)) {\n+            PreparedStatement ps = con.prepareStatement(\"SELECT `id` FROM `handbook` WHERE `name` LIKE ? COLLATE latin1_general_ci ORDER BY `id` ASC;\");\n+            ps.setString(1, line);\n+\n+            ResultSet rs = ps.executeQuery();\n+            while(rs.next()) {\n+                Integer id = rs.getInt(\"id\");\n+\n+                str += id.toString();\n+                str += \" \";\n+            }\n+\n+            rs.close();\n+            ps.close();\n+        } else {\n+            str += getGachaponScrollResults(line, false);\n+            if (str.isEmpty()) {\n+                str += getGachaponScrollResults(line, true);\n+                \n+                if (str.isEmpty()) {\n+                    System.out.println(\"NONE for '\" + line + \"' : \" + getGachaponScroll(line, \"\", false));\n+                }\n+            }\n+        }\n+        \n+        if (str.isEmpty()) {\n+            str += line;\n+        }\n+        \n+        if (rarity != null) {\n+            str += (\"- \" + rarity);\n+        }\n+\n+        printWriter.println(str);\n+    }\n+    \n+    private static void fetchDataOnMapleHandbook() throws SQLException {\n+        String line;\n+        \n+        try {\n+            fileReader = new InputStreamReader(new FileInputStream(inputName), \"UTF-8\");\n+            bufferedReader = new BufferedReader(fileReader);\n+            \n+            int skip = 0;\n+            boolean lineHeader = false;\n+            while((line = bufferedReader.readLine()) != null) {\n+                if (skip > 0) {\n+                    skip--;\n+                    \n+                    if (lineHeader) {\n+                        if (!line.isEmpty()) {\n+                            lineHeader = false;\n+                            printWriter.println();\n+                            printWriter.println(line + \":\");\n+                        }\n+                    }\n+                } else if (line.isEmpty()) {\n+                    printWriter.println(\"\");\n+                } else if (line.startsWith(\"Gachapon \")) {\n+                    String s[] = line.split(\"\ufffd \");\n+                    String gachaponName = s[s.length - 1];\n+                    gachaponName = gachaponName.replace(\" \", \"_\");\n+                    gachaponName = gachaponName.toLowerCase();\n+                    \n+                    if (printWriter != null) printWriter.close();\n+                    printWriter = new PrintWriter(outputPath + gachaponName + \".txt\", \"UTF-8\");\n+                    \n+                    skip = 2;\n+                    lineHeader = true;\n+                } else if (line.startsWith(\".\")) {\n+                    skip = 1;\n+                    lineHeader = true;\n+                } else {\n+                    line = line.replace(\"\ufffd\", \"'\");\n+                    for (String item : line.split(\"\\\\s\\\\|\\\\s\")) {\n+                        item = item.trim();\n+                        if (!item.contentEquals(\"n/a\")) {\n+                            String[] itemInfo = item.split(\" - \");\n+                            fetchLineOnMapleHandbook(itemInfo[0], itemInfo.length > 1 ? itemInfo[1] : null);\n+                        }\n+                    }\n+                }\n+            }\n+\n+            if (printWriter != null) printWriter.close();\n+            bufferedReader.close();\n+            fileReader.close();\n+        }\n+        catch(FileNotFoundException ex) {\n+            System.out.println(ex.getMessage());\n+        }\n+        catch(IOException ex) {\n+            System.out.println(ex.getMessage());\n+        }\n+    }\n+    \n+    public static void main(String[] args) {\n+        \n+        try {\n+            Class.forName(driver).newInstance();\n+            con = DriverManager.getConnection(host, username, password);\n+            \n+            loadHandbookUseNames();\n+            fetchDataOnMapleHandbook();\n+\n+            con.close();\n+        }\n+        \n+        catch(SQLException e) {\n+            System.out.println(\"Error: invalid SQL syntax\");\n+            System.out.println(e.getMessage());\n+        }\n+        \n+        catch(ClassNotFoundException e) {\n+            System.out.println(\"Error: could not find class\");\n+            System.out.println(e.getMessage());\n+        }\n+\n+        catch(InstantiationException | IllegalAccessException e) {\n+            System.out.println(\"Error: instantiation failure\");\n+            System.out.println(e.getMessage());\n+        }\n+    }\n+    \n+}"}, {"sha": "3d54825cb49da65dc6fc86fe5d0fa7e9fc131c3f", "filename": "tools/MapleIdRetriever/dist/MapleIdRetriever.jar", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleIdRetriever/dist/MapleIdRetriever.jar", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleIdRetriever/dist/MapleIdRetriever.jar", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleIdRetriever/dist/MapleIdRetriever.jar?ref=edb3920852c368da6f0e1e6bf589938a5820a70a"}, {"sha": "f4d0096cf368b306423e1698e69bde4841c972c9", "filename": "tools/MapleIdRetriever/src/mapleidretriever/MapleIdRetriever.java", "status": "modified", "additions": 11, "deletions": 2, "changes": 13, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleIdRetriever/src/mapleidretriever/MapleIdRetriever.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/tools/MapleIdRetriever/src/mapleidretriever/MapleIdRetriever.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleIdRetriever/src/mapleidretriever/MapleIdRetriever.java?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -82,18 +82,21 @@ private static void listFiles(String directoryName, ArrayList<File> files) {\n     }\n     \n     private static void parseMapleHandbookLine(String line) throws SQLException {\n-        String[] tokens = line.split(\" - \");\n+        String[] tokens = line.split(\" - \", 3);\n         \n         if(tokens.length > 1) {\n-            PreparedStatement ps = con.prepareStatement(\"INSERT INTO `handbook` (`id`, `name`) VALUES (?, ?)\");\n+            PreparedStatement ps = con.prepareStatement(\"INSERT INTO `handbook` (`id`, `name`, `description`) VALUES (?, ?, ?)\");\n             try {\n                 ps.setInt(1, Integer.parseInt(tokens[0]));\n             } catch (NumberFormatException npe) {   // odd...\n                 String num = tokens[0].substring(1);\n                 ps.setInt(1, Integer.parseInt(num));\n             }\n             ps.setString(2, tokens[1]);\n+            ps.setString(3, tokens.length > 2 ? tokens[2] : \"\");\n             ps.execute();\n+            \n+            ps.close();\n         }\n     }\n     \n@@ -124,14 +127,17 @@ private static void parseMapleHandbookFile(File fileObj) throws SQLException {\n     private static void setupSqlTable() throws SQLException {\n         PreparedStatement ps = con.prepareStatement(\"DROP TABLE IF EXISTS `handbook`;\");\n         ps.execute();\n+        ps.close();\n         \n         ps = con.prepareStatement(\"CREATE TABLE `handbook` (\"\n                 + \"`key` int(10) unsigned NOT NULL AUTO_INCREMENT,\"\n                 + \"`id` int(10) DEFAULT NULL,\"\n                 + \"`name` varchar(200) DEFAULT NULL,\"\n+                + \"`description` varchar(1000) DEFAULT '',\"\n                 + \"PRIMARY KEY (`key`)\"\n                 + \") ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;\");\n         ps.execute();\n+        ps.close();\n     }\n     \n     private static void parseMapleHandbook() throws SQLException {\n@@ -175,6 +181,9 @@ private static void fetchDataOnMapleHandbook() throws SQLException {\n                     str += \" \";\n                 }\n                 \n+                rs.close();\n+                ps.close();\n+                \n                 printWriter.println(str);\n             }\n "}, {"sha": "9f86421c379a20cbbd087140852dfd5b48c1b744", "filename": "wz/Map.wz/Map/Map2/211000102.img.xml", "status": "modified", "additions": 257, "deletions": 260, "changes": 517, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/wz/Map.wz/Map/Map2/211000102.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/wz/Map.wz/Map/Map2/211000102.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map2/211000102.img.xml?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -1,402 +1,409 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"211000102.img\">\n   <imgdir name=\"info\">\n-    <int name=\"version\" value=\"10\"/>\n+    <string name=\"bgm\" value=\"Bgm03/SnowyVillage\"/>\n     <int name=\"cloud\" value=\"0\"/>\n-    <int name=\"town\" value=\"1\"/>\n-    <int name=\"returnMap\" value=\"211000000\"/>\n+    <int name=\"swim\" value=\"0\"/>\n     <int name=\"forcedReturn\" value=\"999999999\"/>\n-    <float name=\"mobRate\" value=\"1.0\"/>\n-    <string name=\"bgm\" value=\"Bgm03/SnowyVillage\"/>\n-    <string name=\"mapMark\" value=\"ElNath\"/>\n     <int name=\"hideMinimap\" value=\"0\"/>\n+    <string name=\"mapMark\" value=\"ElNath\"/>\n+    <float name=\"mobRate\" value=\"1.0\"/>\n+    <int name=\"returnMap\" value=\"211000000\"/>\n+    <int name=\"town\" value=\"1\"/>\n+    <int name=\"version\" value=\"10\"/>\n     <int name=\"fieldLimit\" value=\"0\"/>\n-    <int name=\"VRTop\" value=\"-300\"/>\n     <int name=\"VRLeft\" value=\"-400\"/>\n-    <int name=\"VRBottom\" value=\"300\"/>\n     <int name=\"VRRight\" value=\"400\"/>\n-    <int name=\"swim\" value=\"0\"/>\n-  </imgdir>\n-  <imgdir name=\"back\">\n-    <imgdir name=\"0\">\n-      <string name=\"bS\" value=\"\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"0\"/>\n-      <int name=\"x\" value=\"0\"/>\n-      <int name=\"y\" value=\"0\"/>\n-      <int name=\"rx\" value=\"0\"/>\n-      <int name=\"ry\" value=\"0\"/>\n-      <int name=\"type\" value=\"0\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-      <int name=\"f\" value=\"0\"/>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"life\">\n-    <imgdir name=\"0\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"2022001\"/>\n-      <int name=\"x\" value=\"285\"/>\n-      <int name=\"y\" value=\"65\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"fh\" value=\"5\"/>\n-      <int name=\"cy\" value=\"68\"/>\n-      <int name=\"rx0\" value=\"235\"/>\n-      <int name=\"rx1\" value=\"291\"/>\n-    </imgdir>\n+    <int name=\"VRTop\" value=\"-300\"/>\n+    <int name=\"VRBottom\" value=\"300\"/>\n   </imgdir>\n   <imgdir name=\"0\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n+        <int name=\"x\" value=\"0\"/>\n+        <int name=\"y\" value=\"-109\"/>\n+        <int name=\"z\" value=\"2\"/>\n+        <int name=\"zM\" value=\"3\"/>\n         <string name=\"oS\" value=\"shop2\"/>\n         <string name=\"l0\" value=\"shop\"/>\n         <string name=\"l1\" value=\"grocerySLR\"/>\n         <string name=\"l2\" value=\"0\"/>\n-        <int name=\"x\" value=\"0\"/>\n-        <int name=\"y\" value=\"-109\"/>\n-        <int name=\"z\" value=\"2\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"3\"/>\n       </imgdir>\n       <imgdir name=\"1\">\n+        <int name=\"x\" value=\"-101\"/>\n+        <int name=\"y\" value=\"-66\"/>\n+        <int name=\"z\" value=\"3\"/>\n+        <int name=\"zM\" value=\"3\"/>\n         <string name=\"oS\" value=\"shop2\"/>\n         <string name=\"l0\" value=\"shop\"/>\n         <string name=\"l1\" value=\"grocerySLR\"/>\n         <string name=\"l2\" value=\"16\"/>\n-        <int name=\"x\" value=\"-101\"/>\n-        <int name=\"y\" value=\"-66\"/>\n-        <int name=\"z\" value=\"3\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"3\"/>\n       </imgdir>\n       <imgdir name=\"2\">\n+        <int name=\"x\" value=\"276\"/>\n+        <int name=\"y\" value=\"27\"/>\n+        <int name=\"z\" value=\"3\"/>\n+        <int name=\"zM\" value=\"3\"/>\n         <string name=\"oS\" value=\"shop2\"/>\n         <string name=\"l0\" value=\"shop\"/>\n         <string name=\"l1\" value=\"grocerySLR\"/>\n         <string name=\"l2\" value=\"6\"/>\n-        <int name=\"x\" value=\"276\"/>\n-        <int name=\"y\" value=\"27\"/>\n-        <int name=\"z\" value=\"3\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"3\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"1\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n+        <int name=\"x\" value=\"-268\"/>\n+        <int name=\"y\" value=\"8\"/>\n+        <int name=\"z\" value=\"3\"/>\n+        <int name=\"zM\" value=\"4\"/>\n         <string name=\"oS\" value=\"shop2\"/>\n         <string name=\"l0\" value=\"shop\"/>\n         <string name=\"l1\" value=\"grocerySLR\"/>\n         <string name=\"l2\" value=\"14\"/>\n-        <int name=\"x\" value=\"-268\"/>\n-        <int name=\"y\" value=\"8\"/>\n-        <int name=\"z\" value=\"3\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"4\"/>\n       </imgdir>\n       <imgdir name=\"1\">\n+        <int name=\"x\" value=\"-101\"/>\n+        <int name=\"y\" value=\"53\"/>\n+        <int name=\"z\" value=\"3\"/>\n+        <int name=\"zM\" value=\"6\"/>\n         <string name=\"oS\" value=\"shop2\"/>\n         <string name=\"l0\" value=\"shop\"/>\n         <string name=\"l1\" value=\"grocerySLR\"/>\n         <string name=\"l2\" value=\"15\"/>\n-        <int name=\"x\" value=\"-101\"/>\n-        <int name=\"y\" value=\"53\"/>\n-        <int name=\"z\" value=\"3\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"6\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"2\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n+        <int name=\"x\" value=\"174\"/>\n+        <int name=\"y\" value=\"-13\"/>\n+        <int name=\"z\" value=\"5\"/>\n+        <int name=\"zM\" value=\"2\"/>\n         <string name=\"oS\" value=\"shop2\"/>\n         <string name=\"l0\" value=\"shop\"/>\n         <string name=\"l1\" value=\"grocerySLR\"/>\n         <string name=\"l2\" value=\"2\"/>\n-        <int name=\"x\" value=\"174\"/>\n-        <int name=\"y\" value=\"-13\"/>\n-        <int name=\"z\" value=\"5\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"2\"/>\n       </imgdir>\n       <imgdir name=\"1\">\n+        <int name=\"x\" value=\"0\"/>\n+        <int name=\"y\" value=\"-261\"/>\n+        <int name=\"z\" value=\"5\"/>\n+        <int name=\"zM\" value=\"7\"/>\n         <string name=\"oS\" value=\"shop2\"/>\n         <string name=\"l0\" value=\"shop\"/>\n         <string name=\"l1\" value=\"grocerySLR\"/>\n         <string name=\"l2\" value=\"3\"/>\n-        <int name=\"x\" value=\"0\"/>\n-        <int name=\"y\" value=\"-261\"/>\n-        <int name=\"z\" value=\"5\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"7\"/>\n       </imgdir>\n       <imgdir name=\"2\">\n+        <int name=\"x\" value=\"115\"/>\n+        <int name=\"y\" value=\"-107\"/>\n+        <int name=\"z\" value=\"2\"/>\n+        <int name=\"zM\" value=\"2\"/>\n         <string name=\"oS\" value=\"shop2\"/>\n         <string name=\"l0\" value=\"shop\"/>\n         <string name=\"l1\" value=\"grocerySLR\"/>\n         <string name=\"l2\" value=\"7\"/>\n-        <int name=\"x\" value=\"115\"/>\n-        <int name=\"y\" value=\"-107\"/>\n-        <int name=\"z\" value=\"2\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"2\"/>\n       </imgdir>\n       <imgdir name=\"3\">\n+        <int name=\"x\" value=\"115\"/>\n+        <int name=\"y\" value=\"-107\"/>\n+        <int name=\"z\" value=\"3\"/>\n+        <int name=\"zM\" value=\"2\"/>\n         <string name=\"oS\" value=\"shop2\"/>\n         <string name=\"l0\" value=\"shop\"/>\n         <string name=\"l1\" value=\"grocerySLR\"/>\n         <string name=\"l2\" value=\"8\"/>\n-        <int name=\"x\" value=\"115\"/>\n-        <int name=\"y\" value=\"-107\"/>\n-        <int name=\"z\" value=\"3\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"2\"/>\n       </imgdir>\n       <imgdir name=\"4\">\n+        <int name=\"x\" value=\"253\"/>\n+        <int name=\"y\" value=\"-16\"/>\n+        <int name=\"z\" value=\"6\"/>\n+        <int name=\"zM\" value=\"2\"/>\n         <string name=\"oS\" value=\"shop2\"/>\n         <string name=\"l0\" value=\"shop\"/>\n         <string name=\"l1\" value=\"grocerySLR\"/>\n         <string name=\"l2\" value=\"4\"/>\n-        <int name=\"x\" value=\"253\"/>\n-        <int name=\"y\" value=\"-16\"/>\n-        <int name=\"z\" value=\"6\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"2\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"3\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n+        <int name=\"x\" value=\"305\"/>\n+        <int name=\"y\" value=\"126\"/>\n+        <int name=\"z\" value=\"3\"/>\n+        <int name=\"zM\" value=\"5\"/>\n         <string name=\"oS\" value=\"shop2\"/>\n         <string name=\"l0\" value=\"shop\"/>\n         <string name=\"l1\" value=\"grocerySLR\"/>\n         <string name=\"l2\" value=\"5\"/>\n-        <int name=\"x\" value=\"305\"/>\n-        <int name=\"y\" value=\"126\"/>\n-        <int name=\"z\" value=\"3\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"5\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"4\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n+        <int name=\"x\" value=\"0\"/>\n+        <int name=\"y\" value=\"243\"/>\n+        <int name=\"z\" value=\"3\"/>\n+        <int name=\"zM\" value=\"0\"/>\n         <string name=\"oS\" value=\"shop2\"/>\n         <string name=\"l0\" value=\"shop\"/>\n         <string name=\"l1\" value=\"grocerySLR\"/>\n         <string name=\"l2\" value=\"1\"/>\n-        <int name=\"x\" value=\"0\"/>\n-        <int name=\"y\" value=\"243\"/>\n-        <int name=\"z\" value=\"3\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"5\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n+        <int name=\"x\" value=\"-228\"/>\n+        <int name=\"y\" value=\"0\"/>\n+        <int name=\"z\" value=\"2\"/>\n+        <int name=\"zM\" value=\"1\"/>\n         <string name=\"oS\" value=\"shop2\"/>\n         <string name=\"l0\" value=\"shop\"/>\n         <string name=\"l1\" value=\"grocerySLR\"/>\n         <string name=\"l2\" value=\"11\"/>\n-        <int name=\"x\" value=\"-228\"/>\n-        <int name=\"y\" value=\"0\"/>\n-        <int name=\"z\" value=\"2\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"1\"/>\n       </imgdir>\n       <imgdir name=\"1\">\n+        <int name=\"x\" value=\"-224\"/>\n+        <int name=\"y\" value=\"-42\"/>\n+        <int name=\"z\" value=\"1\"/>\n+        <int name=\"zM\" value=\"1\"/>\n         <string name=\"oS\" value=\"shop2\"/>\n         <string name=\"l0\" value=\"shop\"/>\n         <string name=\"l1\" value=\"grocerySLR\"/>\n         <string name=\"l2\" value=\"12\"/>\n-        <int name=\"x\" value=\"-224\"/>\n-        <int name=\"y\" value=\"-42\"/>\n-        <int name=\"z\" value=\"1\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"1\"/>\n       </imgdir>\n       <imgdir name=\"2\">\n+        <int name=\"x\" value=\"-231\"/>\n+        <int name=\"y\" value=\"-39\"/>\n+        <int name=\"z\" value=\"3\"/>\n+        <int name=\"zM\" value=\"1\"/>\n         <string name=\"oS\" value=\"shop2\"/>\n         <string name=\"l0\" value=\"shop\"/>\n         <string name=\"l1\" value=\"grocerySLR\"/>\n         <string name=\"l2\" value=\"13\"/>\n-        <int name=\"x\" value=\"-231\"/>\n-        <int name=\"y\" value=\"-39\"/>\n-        <int name=\"z\" value=\"3\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"1\"/>\n       </imgdir>\n       <imgdir name=\"3\">\n+        <int name=\"x\" value=\"-178\"/>\n+        <int name=\"y\" value=\"-44\"/>\n+        <int name=\"z\" value=\"4\"/>\n+        <int name=\"zM\" value=\"1\"/>\n         <string name=\"oS\" value=\"shop2\"/>\n         <string name=\"l0\" value=\"shop\"/>\n         <string name=\"l1\" value=\"grocerySLR\"/>\n         <string name=\"l2\" value=\"10\"/>\n-        <int name=\"x\" value=\"-178\"/>\n-        <int name=\"y\" value=\"-44\"/>\n-        <int name=\"z\" value=\"4\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"1\"/>\n       </imgdir>\n       <imgdir name=\"4\">\n+        <int name=\"x\" value=\"-207\"/>\n+        <int name=\"y\" value=\"0\"/>\n+        <int name=\"z\" value=\"5\"/>\n+        <int name=\"zM\" value=\"1\"/>\n         <string name=\"oS\" value=\"shop2\"/>\n         <string name=\"l0\" value=\"shop\"/>\n         <string name=\"l1\" value=\"grocerySLR\"/>\n         <string name=\"l2\" value=\"9\"/>\n-        <int name=\"x\" value=\"-207\"/>\n-        <int name=\"y\" value=\"0\"/>\n-        <int name=\"z\" value=\"5\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"1\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"6\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"7\">\n     <imgdir name=\"info\">\n     </imgdir>\n+    <imgdir name=\"obj\">\n+    </imgdir>\n     <imgdir name=\"tile\">\n     </imgdir>\n-    <imgdir name=\"obj\">\n+  </imgdir>\n+  <imgdir name=\"ladderRope\">\n+    <imgdir name=\"1\">\n+      <int name=\"x\" value=\"-105\"/>\n+      <int name=\"y1\" value=\"-99\"/>\n+      <int name=\"y2\" value=\"-41\"/>\n+      <int name=\"uf\" value=\"1\"/>\n+      <int name=\"page\" value=\"0\"/>\n+      <int name=\"l\" value=\"1\"/>\n+    </imgdir>\n+    <imgdir name=\"2\">\n+      <int name=\"x\" value=\"-105\"/>\n+      <int name=\"y1\" value=\"3\"/>\n+      <int name=\"y2\" value=\"159\"/>\n+      <int name=\"uf\" value=\"1\"/>\n+      <int name=\"page\" value=\"1\"/>\n+      <int name=\"l\" value=\"1\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"portal\">\n+    <imgdir name=\"0\">\n+      <int name=\"x\" value=\"-158\"/>\n+      <int name=\"y\" value=\"168\"/>\n+      <int name=\"pt\" value=\"0\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+      <string name=\"pn\" value=\"sp\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <int name=\"x\" value=\"-274\"/>\n+      <int name=\"y\" value=\"110\"/>\n+      <int name=\"pt\" value=\"1\"/>\n+      <int name=\"tm\" value=\"211000100\"/>\n+      <string name=\"tn\" value=\"in02\"/>\n+      <string name=\"pn\" value=\"out00\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"reactor\">\n   </imgdir>\n+  <imgdir name=\"back\">\n+  </imgdir>\n   <imgdir name=\"foothold\">\n     <imgdir name=\"0\">\n       <imgdir name=\"3\">\n-        <imgdir name=\"1\">\n+        <imgdir name=\"6\">\n+          <int name=\"x1\" value=\"-155\"/>\n+          <int name=\"y1\" value=\"-101\"/>\n+          <int name=\"x2\" value=\"199\"/>\n+          <int name=\"y2\" value=\"-101\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"12\"/>\n+        </imgdir>\n+        <imgdir name=\"7\">\n           <int name=\"x1\" value=\"-155\"/>\n           <int name=\"y1\" value=\"1\"/>\n           <int name=\"x2\" value=\"178\"/>\n           <int name=\"y2\" value=\"1\"/>\n           <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"2\"/>\n+          <int name=\"next\" value=\"10\"/>\n         </imgdir>\n-        <imgdir name=\"2\">\n+        <imgdir name=\"10\">\n           <int name=\"x1\" value=\"178\"/>\n           <int name=\"y1\" value=\"1\"/>\n           <int name=\"x2\" value=\"178\"/>\n           <int name=\"y2\" value=\"-97\"/>\n-          <int name=\"prev\" value=\"1\"/>\n+          <int name=\"prev\" value=\"7\"/>\n           <int name=\"next\" value=\"0\"/>\n         </imgdir>\n-        <imgdir name=\"3\">\n-          <int name=\"x1\" value=\"-155\"/>\n-          <int name=\"y1\" value=\"-101\"/>\n-          <int name=\"x2\" value=\"199\"/>\n-          <int name=\"y2\" value=\"-101\"/>\n-          <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"4\"/>\n-        </imgdir>\n-        <imgdir name=\"4\">\n+        <imgdir name=\"12\">\n           <int name=\"x1\" value=\"199\"/>\n           <int name=\"y1\" value=\"-101\"/>\n           <int name=\"x2\" value=\"199\"/>\n           <int name=\"y2\" value=\"-297\"/>\n-          <int name=\"prev\" value=\"3\"/>\n+          <int name=\"prev\" value=\"6\"/>\n           <int name=\"next\" value=\"0\"/>\n         </imgdir>\n-        <imgdir name=\"5\">\n+        <imgdir name=\"18\">\n+          <int name=\"x1\" value=\"258\"/>\n+          <int name=\"y1\" value=\"14\"/>\n+          <int name=\"x2\" value=\"258\"/>\n+          <int name=\"y2\" value=\"68\"/>\n+          <int name=\"prev\" value=\"19\"/>\n+          <int name=\"next\" value=\"20\"/>\n+        </imgdir>\n+        <imgdir name=\"19\">\n+          <int name=\"x1\" value=\"258\"/>\n+          <int name=\"y1\" value=\"14\"/>\n+          <int name=\"x2\" value=\"311\"/>\n+          <int name=\"y2\" value=\"14\"/>\n+          <int name=\"prev\" value=\"18\"/>\n+          <int name=\"next\" value=\"23\"/>\n+        </imgdir>\n+        <imgdir name=\"20\">\n           <int name=\"x1\" value=\"258\"/>\n           <int name=\"y1\" value=\"68\"/>\n           <int name=\"x2\" value=\"311\"/>\n           <int name=\"y2\" value=\"68\"/>\n-          <int name=\"prev\" value=\"8\"/>\n-          <int name=\"next\" value=\"6\"/>\n+          <int name=\"prev\" value=\"18\"/>\n+          <int name=\"next\" value=\"23\"/>\n         </imgdir>\n-        <imgdir name=\"6\">\n+        <imgdir name=\"23\">\n           <int name=\"x1\" value=\"311\"/>\n           <int name=\"y1\" value=\"68\"/>\n           <int name=\"x2\" value=\"311\"/>\n           <int name=\"y2\" value=\"14\"/>\n-          <int name=\"prev\" value=\"5\"/>\n-          <int name=\"next\" value=\"7\"/>\n-        </imgdir>\n-        <imgdir name=\"7\">\n-          <int name=\"x1\" value=\"311\"/>\n-          <int name=\"y1\" value=\"14\"/>\n-          <int name=\"x2\" value=\"258\"/>\n-          <int name=\"y2\" value=\"14\"/>\n-          <int name=\"prev\" value=\"6\"/>\n-          <int name=\"next\" value=\"8\"/>\n-        </imgdir>\n-        <imgdir name=\"8\">\n-          <int name=\"x1\" value=\"258\"/>\n-          <int name=\"y1\" value=\"14\"/>\n-          <int name=\"x2\" value=\"258\"/>\n-          <int name=\"y2\" value=\"68\"/>\n-          <int name=\"prev\" value=\"7\"/>\n-          <int name=\"next\" value=\"5\"/>\n+          <int name=\"prev\" value=\"20\"/>\n+          <int name=\"next\" value=\"19\"/>\n         </imgdir>\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"1\">\n       <imgdir name=\"4\">\n-        <imgdir name=\"9\">\n+        <imgdir name=\"2\">\n           <int name=\"x1\" value=\"-327\"/>\n           <int name=\"y1\" value=\"-56\"/>\n           <int name=\"x2\" value=\"-327\"/>\n           <int name=\"y2\" value=\"112\"/>\n           <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"10\"/>\n+          <int name=\"next\" value=\"3\"/>\n         </imgdir>\n-        <imgdir name=\"10\">\n+        <imgdir name=\"3\">\n           <int name=\"x1\" value=\"-327\"/>\n           <int name=\"y1\" value=\"112\"/>\n           <int name=\"x2\" value=\"-179\"/>\n           <int name=\"y2\" value=\"112\"/>\n-          <int name=\"prev\" value=\"9\"/>\n+          <int name=\"prev\" value=\"2\"/>\n           <int name=\"next\" value=\"0\"/>\n         </imgdir>\n-        <imgdir name=\"11\">\n+        <imgdir name=\"4\">\n           <int name=\"x1\" value=\"-268\"/>\n           <int name=\"y1\" value=\"137\"/>\n           <int name=\"x2\" value=\"-157\"/>\n           <int name=\"y2\" value=\"137\"/>\n           <int name=\"prev\" value=\"0\"/>\n           <int name=\"next\" value=\"0\"/>\n         </imgdir>\n-        <imgdir name=\"12\">\n+        <imgdir name=\"5\">\n           <int name=\"x1\" value=\"-246\"/>\n           <int name=\"y1\" value=\"163\"/>\n           <int name=\"x2\" value=\"-135\"/>\n@@ -408,107 +415,107 @@\n     </imgdir>\n     <imgdir name=\"2\">\n       <imgdir name=\"2\">\n-        <imgdir name=\"13\">\n+        <imgdir name=\"8\">\n           <int name=\"x1\" value=\"134\"/>\n           <int name=\"y1\" value=\"163\"/>\n           <int name=\"x2\" value=\"248\"/>\n           <int name=\"y2\" value=\"163\"/>\n           <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"14\"/>\n-        </imgdir>\n-        <imgdir name=\"14\">\n-          <int name=\"x1\" value=\"248\"/>\n-          <int name=\"y1\" value=\"163\"/>\n-          <int name=\"x2\" value=\"248\"/>\n-          <int name=\"y2\" value=\"138\"/>\n-          <int name=\"prev\" value=\"13\"/>\n-          <int name=\"next\" value=\"16\"/>\n+          <int name=\"next\" value=\"17\"/>\n         </imgdir>\n-        <imgdir name=\"15\">\n+        <imgdir name=\"9\">\n           <int name=\"x1\" value=\"156\"/>\n           <int name=\"y1\" value=\"138\"/>\n           <int name=\"x2\" value=\"248\"/>\n           <int name=\"y2\" value=\"138\"/>\n           <int name=\"prev\" value=\"0\"/>\n           <int name=\"next\" value=\"16\"/>\n         </imgdir>\n-        <imgdir name=\"16\">\n-          <int name=\"x1\" value=\"248\"/>\n-          <int name=\"y1\" value=\"138\"/>\n-          <int name=\"x2\" value=\"270\"/>\n-          <int name=\"y2\" value=\"138\"/>\n-          <int name=\"prev\" value=\"15\"/>\n-          <int name=\"next\" value=\"17\"/>\n-        </imgdir>\n-        <imgdir name=\"17\">\n-          <int name=\"x1\" value=\"270\"/>\n-          <int name=\"y1\" value=\"138\"/>\n-          <int name=\"x2\" value=\"270\"/>\n-          <int name=\"y2\" value=\"113\"/>\n-          <int name=\"prev\" value=\"16\"/>\n-          <int name=\"next\" value=\"19\"/>\n-        </imgdir>\n-        <imgdir name=\"18\">\n+        <imgdir name=\"11\">\n           <int name=\"x1\" value=\"179\"/>\n           <int name=\"y1\" value=\"113\"/>\n           <int name=\"x2\" value=\"270\"/>\n           <int name=\"y2\" value=\"113\"/>\n           <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"19\"/>\n-        </imgdir>\n-        <imgdir name=\"19\">\n-          <int name=\"x1\" value=\"270\"/>\n-          <int name=\"y1\" value=\"113\"/>\n-          <int name=\"x2\" value=\"367\"/>\n-          <int name=\"y2\" value=\"113\"/>\n-          <int name=\"prev\" value=\"18\"/>\n-          <int name=\"next\" value=\"20\"/>\n-        </imgdir>\n-        <imgdir name=\"20\">\n-          <int name=\"x1\" value=\"367\"/>\n-          <int name=\"y1\" value=\"113\"/>\n-          <int name=\"x2\" value=\"367\"/>\n-          <int name=\"y2\" value=\"-12\"/>\n-          <int name=\"prev\" value=\"19\"/>\n-          <int name=\"next\" value=\"0\"/>\n+          <int name=\"next\" value=\"21\"/>\n         </imgdir>\n-        <imgdir name=\"21\">\n-          <int name=\"x1\" value=\"340\"/>\n-          <int name=\"y1\" value=\"84\"/>\n+        <imgdir name=\"13\">\n+          <int name=\"x1\" value=\"212\"/>\n+          <int name=\"y1\" value=\"-223\"/>\n           <int name=\"x2\" value=\"212\"/>\n           <int name=\"y2\" value=\"84\"/>\n-          <int name=\"prev\" value=\"24\"/>\n-          <int name=\"next\" value=\"22\"/>\n+          <int name=\"prev\" value=\"14\"/>\n+          <int name=\"next\" value=\"15\"/>\n         </imgdir>\n-        <imgdir name=\"22\">\n+        <imgdir name=\"14\">\n           <int name=\"x1\" value=\"212\"/>\n-          <int name=\"y1\" value=\"84\"/>\n-          <int name=\"x2\" value=\"212\"/>\n+          <int name=\"y1\" value=\"-223\"/>\n+          <int name=\"x2\" value=\"340\"/>\n           <int name=\"y2\" value=\"-223\"/>\n-          <int name=\"prev\" value=\"21\"/>\n-          <int name=\"next\" value=\"23\"/>\n+          <int name=\"prev\" value=\"13\"/>\n+          <int name=\"next\" value=\"24\"/>\n         </imgdir>\n-        <imgdir name=\"23\">\n+        <imgdir name=\"15\">\n           <int name=\"x1\" value=\"212\"/>\n-          <int name=\"y1\" value=\"-223\"/>\n+          <int name=\"y1\" value=\"84\"/>\n           <int name=\"x2\" value=\"340\"/>\n-          <int name=\"y2\" value=\"-223\"/>\n-          <int name=\"prev\" value=\"22\"/>\n+          <int name=\"y2\" value=\"84\"/>\n+          <int name=\"prev\" value=\"13\"/>\n           <int name=\"next\" value=\"24\"/>\n         </imgdir>\n+        <imgdir name=\"16\">\n+          <int name=\"x1\" value=\"248\"/>\n+          <int name=\"y1\" value=\"138\"/>\n+          <int name=\"x2\" value=\"270\"/>\n+          <int name=\"y2\" value=\"138\"/>\n+          <int name=\"prev\" value=\"9\"/>\n+          <int name=\"next\" value=\"22\"/>\n+        </imgdir>\n+        <imgdir name=\"17\">\n+          <int name=\"x1\" value=\"248\"/>\n+          <int name=\"y1\" value=\"163\"/>\n+          <int name=\"x2\" value=\"248\"/>\n+          <int name=\"y2\" value=\"138\"/>\n+          <int name=\"prev\" value=\"8\"/>\n+          <int name=\"next\" value=\"16\"/>\n+        </imgdir>\n+        <imgdir name=\"21\">\n+          <int name=\"x1\" value=\"270\"/>\n+          <int name=\"y1\" value=\"113\"/>\n+          <int name=\"x2\" value=\"367\"/>\n+          <int name=\"y2\" value=\"113\"/>\n+          <int name=\"prev\" value=\"11\"/>\n+          <int name=\"next\" value=\"25\"/>\n+        </imgdir>\n+        <imgdir name=\"22\">\n+          <int name=\"x1\" value=\"270\"/>\n+          <int name=\"y1\" value=\"138\"/>\n+          <int name=\"x2\" value=\"270\"/>\n+          <int name=\"y2\" value=\"113\"/>\n+          <int name=\"prev\" value=\"16\"/>\n+          <int name=\"next\" value=\"21\"/>\n+        </imgdir>\n         <imgdir name=\"24\">\n           <int name=\"x1\" value=\"340\"/>\n-          <int name=\"y1\" value=\"-223\"/>\n+          <int name=\"y1\" value=\"84\"/>\n           <int name=\"x2\" value=\"340\"/>\n-          <int name=\"y2\" value=\"84\"/>\n-          <int name=\"prev\" value=\"23\"/>\n-          <int name=\"next\" value=\"21\"/>\n+          <int name=\"y2\" value=\"-223\"/>\n+          <int name=\"prev\" value=\"15\"/>\n+          <int name=\"next\" value=\"14\"/>\n+        </imgdir>\n+        <imgdir name=\"25\">\n+          <int name=\"x1\" value=\"367\"/>\n+          <int name=\"y1\" value=\"113\"/>\n+          <int name=\"x2\" value=\"367\"/>\n+          <int name=\"y2\" value=\"-12\"/>\n+          <int name=\"prev\" value=\"21\"/>\n+          <int name=\"next\" value=\"0\"/>\n         </imgdir>\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"4\">\n       <imgdir name=\"0\">\n-        <imgdir name=\"25\">\n+        <imgdir name=\"1\">\n           <int name=\"x1\" value=\"-400\"/>\n           <int name=\"y1\" value=\"188\"/>\n           <int name=\"x2\" value=\"400\"/>\n@@ -519,40 +526,30 @@\n       </imgdir>\n     </imgdir>\n   </imgdir>\n-  <imgdir name=\"ladderRope\">\n-    <imgdir name=\"1\">\n-      <int name=\"l\" value=\"1\"/>\n-      <int name=\"uf\" value=\"1\"/>\n-      <int name=\"x\" value=\"-105\"/>\n-      <int name=\"y1\" value=\"-99\"/>\n-      <int name=\"y2\" value=\"-41\"/>\n-      <int name=\"page\" value=\"0\"/>\n-    </imgdir>\n-    <imgdir name=\"2\">\n-      <int name=\"l\" value=\"1\"/>\n-      <int name=\"uf\" value=\"1\"/>\n-      <int name=\"x\" value=\"-105\"/>\n-      <int name=\"y1\" value=\"3\"/>\n-      <int name=\"y2\" value=\"159\"/>\n-      <int name=\"page\" value=\"1\"/>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"portal\">\n+  <imgdir name=\"life\">\n     <imgdir name=\"0\">\n-      <string name=\"pn\" value=\"sp\"/>\n-      <int name=\"pt\" value=\"0\"/>\n-      <int name=\"x\" value=\"-158\"/>\n-      <int name=\"y\" value=\"168\"/>\n-      <int name=\"tm\" value=\"999999999\"/>\n-      <string name=\"tn\" value=\"\"/>\n+      <string name=\"id\" value=\"2022001\"/>\n+      <int name=\"x\" value=\"285\"/>\n+      <int name=\"y\" value=\"65\"/>\n+      <int name=\"cy\" value=\"68\"/>\n+      <int name=\"mobTime\" value=\"0\"/>\n+      <int name=\"rx0\" value=\"235\"/>\n+      <int name=\"rx1\" value=\"291\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"type\" value=\"n\"/>\n+      <int name=\"fh\" value=\"20\"/>\n     </imgdir>\n     <imgdir name=\"1\">\n-      <string name=\"pn\" value=\"out00\"/>\n-      <int name=\"pt\" value=\"1\"/>\n-      <int name=\"x\" value=\"-274\"/>\n-      <int name=\"y\" value=\"110\"/>\n-      <int name=\"tm\" value=\"211000100\"/>\n-      <string name=\"tn\" value=\"in02\"/>\n+      <string name=\"id\" value=\"9100110\"/>\n+      <int name=\"x\" value=\"357\"/>\n+      <int name=\"y\" value=\"177\"/>\n+      <int name=\"cy\" value=\"185\"/>\n+      <int name=\"mobTime\" value=\"0\"/>\n+      <int name=\"rx0\" value=\"337\"/>\n+      <int name=\"rx1\" value=\"377\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"type\" value=\"n\"/>\n+      <int name=\"fh\" value=\"1\"/>\n     </imgdir>\n   </imgdir>\n </imgdir>"}, {"sha": "727816e0e26fcf2f15f9e20f89c37ffbf8485b20", "filename": "wz/Map.wz/Map/Map2/220000305.img.xml", "status": "modified", "additions": 324, "deletions": 311, "changes": 635, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/wz/Map.wz/Map/Map2/220000305.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/wz/Map.wz/Map/Map2/220000305.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map2/220000305.img.xml?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -1,535 +1,563 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"220000305.img\">\n   <imgdir name=\"info\">\n-    <int name=\"version\" value=\"10\"/>\n+    <string name=\"bgm\" value=\"Bgm06/FantasticThinking\"/>\n     <int name=\"cloud\" value=\"0\"/>\n-    <int name=\"town\" value=\"1\"/>\n-    <int name=\"returnMap\" value=\"220000000\"/>\n+    <int name=\"swim\" value=\"0\"/>\n     <int name=\"forcedReturn\" value=\"999999999\"/>\n-    <float name=\"mobRate\" value=\"1.0\"/>\n-    <string name=\"bgm\" value=\"Bgm06/FantasticThinking\"/>\n-    <string name=\"mapMark\" value=\"Ludibrium\"/>\n     <int name=\"hideMinimap\" value=\"0\"/>\n+    <string name=\"mapMark\" value=\"Ludibrium\"/>\n+    <float name=\"mobRate\" value=\"1.0\"/>\n+    <int name=\"returnMap\" value=\"220000000\"/>\n+    <int name=\"town\" value=\"1\"/>\n+    <int name=\"version\" value=\"10\"/>\n     <int name=\"fieldLimit\" value=\"0\"/>\n-    <int name=\"VRTop\" value=\"-300\"/>\n     <int name=\"VRLeft\" value=\"-400\"/>\n-    <int name=\"VRBottom\" value=\"300\"/>\n     <int name=\"VRRight\" value=\"400\"/>\n-  </imgdir>\n-  <imgdir name=\"back\">\n-    <imgdir name=\"0\">\n-      <string name=\"bS\" value=\"toyCastle\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"0\"/>\n-      <int name=\"y\" value=\"0\"/>\n-      <int name=\"rx\" value=\"0\"/>\n-      <int name=\"ry\" value=\"0\"/>\n-      <int name=\"type\" value=\"3\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-    <imgdir name=\"1\">\n-      <string name=\"bS\" value=\"toyCastle\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"10\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"-40\"/>\n-      <int name=\"y\" value=\"-174\"/>\n-      <int name=\"rx\" value=\"3\"/>\n-      <int name=\"ry\" value=\"0\"/>\n-      <int name=\"type\" value=\"4\"/>\n-      <int name=\"cx\" value=\"1000\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-    <imgdir name=\"2\">\n-      <string name=\"bS\" value=\"toyCastle\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"11\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"310\"/>\n-      <int name=\"y\" value=\"-115\"/>\n-      <int name=\"rx\" value=\"2\"/>\n-      <int name=\"ry\" value=\"0\"/>\n-      <int name=\"type\" value=\"4\"/>\n-      <int name=\"cx\" value=\"800\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-    <imgdir name=\"3\">\n-      <string name=\"bS\" value=\"toyCastle\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"15\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"-142\"/>\n-      <int name=\"y\" value=\"-30\"/>\n-      <int name=\"rx\" value=\"0\"/>\n-      <int name=\"ry\" value=\"0\"/>\n-      <int name=\"type\" value=\"1\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-    <imgdir name=\"4\">\n-      <string name=\"bS\" value=\"toyCastle\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"16\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"113\"/>\n-      <int name=\"y\" value=\"-80\"/>\n-      <int name=\"rx\" value=\"0\"/>\n-      <int name=\"ry\" value=\"0\"/>\n-      <int name=\"type\" value=\"0\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"life\">\n-  </imgdir>\n-  <imgdir name=\"reactor\">\n+    <int name=\"VRTop\" value=\"-300\"/>\n+    <int name=\"VRBottom\" value=\"300\"/>\n   </imgdir>\n   <imgdir name=\"0\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n+        <int name=\"x\" value=\"53\"/>\n+        <int name=\"y\" value=\"-28\"/>\n+        <int name=\"z\" value=\"2\"/>\n+        <int name=\"zM\" value=\"9\"/>\n         <string name=\"oS\" value=\"acc4\"/>\n         <string name=\"l0\" value=\"toyCastle\"/>\n         <string name=\"l1\" value=\"nature\"/>\n         <string name=\"l2\" value=\"0\"/>\n-        <int name=\"x\" value=\"53\"/>\n-        <int name=\"y\" value=\"-28\"/>\n-        <int name=\"z\" value=\"2\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"9\"/>\n       </imgdir>\n       <imgdir name=\"1\">\n+        <int name=\"x\" value=\"-15\"/>\n+        <int name=\"y\" value=\"-90\"/>\n+        <int name=\"z\" value=\"3\"/>\n+        <int name=\"zM\" value=\"0\"/>\n         <string name=\"oS\" value=\"acc4\"/>\n         <string name=\"l0\" value=\"toyCastle\"/>\n         <string name=\"l1\" value=\"nature\"/>\n         <string name=\"l2\" value=\"20\"/>\n-        <int name=\"x\" value=\"-15\"/>\n-        <int name=\"y\" value=\"-90\"/>\n-        <int name=\"z\" value=\"3\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"1\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n+        <int name=\"x\" value=\"-122\"/>\n+        <int name=\"y\" value=\"-21\"/>\n+        <int name=\"z\" value=\"3\"/>\n+        <int name=\"zM\" value=\"4\"/>\n         <string name=\"oS\" value=\"insideTC\"/>\n         <string name=\"l0\" value=\"inside0\"/>\n         <string name=\"l1\" value=\"frame0\"/>\n         <string name=\"l2\" value=\"2\"/>\n-        <int name=\"x\" value=\"-122\"/>\n-        <int name=\"y\" value=\"-21\"/>\n-        <int name=\"z\" value=\"3\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"4\"/>\n       </imgdir>\n       <imgdir name=\"1\">\n+        <int name=\"x\" value=\"116\"/>\n+        <int name=\"y\" value=\"-75\"/>\n+        <int name=\"z\" value=\"0\"/>\n+        <int name=\"zM\" value=\"4\"/>\n         <string name=\"oS\" value=\"insideTC\"/>\n         <string name=\"l0\" value=\"inside0\"/>\n         <string name=\"l1\" value=\"wall0\"/>\n         <string name=\"l2\" value=\"3\"/>\n-        <int name=\"x\" value=\"116\"/>\n-        <int name=\"y\" value=\"-75\"/>\n-        <int name=\"z\" value=\"0\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"4\"/>\n       </imgdir>\n       <imgdir name=\"2\">\n-        <string name=\"oS\" value=\"insideTC\"/>\n-        <string name=\"l0\" value=\"inside0\"/>\n-        <string name=\"l1\" value=\"wall1\"/>\n-        <string name=\"l2\" value=\"2\"/>\n         <int name=\"x\" value=\"-236\"/>\n         <int name=\"y\" value=\"6\"/>\n         <int name=\"z\" value=\"3\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"10\"/>\n-      </imgdir>\n-      <imgdir name=\"4\">\n         <string name=\"oS\" value=\"insideTC\"/>\n         <string name=\"l0\" value=\"inside0\"/>\n-        <string name=\"l1\" value=\"acc\"/>\n-        <string name=\"l2\" value=\"13\"/>\n+        <string name=\"l1\" value=\"wall1\"/>\n+        <string name=\"l2\" value=\"2\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"3\">\n         <int name=\"x\" value=\"262\"/>\n         <int name=\"y\" value=\"-60\"/>\n         <int name=\"z\" value=\"3\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"4\"/>\n-      </imgdir>\n-      <imgdir name=\"5\">\n         <string name=\"oS\" value=\"insideTC\"/>\n         <string name=\"l0\" value=\"inside0\"/>\n         <string name=\"l1\" value=\"acc\"/>\n-        <string name=\"l2\" value=\"14\"/>\n+        <string name=\"l2\" value=\"13\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"4\">\n         <int name=\"x\" value=\"262\"/>\n         <int name=\"y\" value=\"-102\"/>\n         <int name=\"z\" value=\"3\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"4\"/>\n-      </imgdir>\n-      <imgdir name=\"3\">\n         <string name=\"oS\" value=\"insideTC\"/>\n         <string name=\"l0\" value=\"inside0\"/>\n         <string name=\"l1\" value=\"acc\"/>\n-        <string name=\"l2\" value=\"20\"/>\n+        <string name=\"l2\" value=\"14\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"5\">\n         <int name=\"x\" value=\"249\"/>\n         <int name=\"y\" value=\"38\"/>\n         <int name=\"z\" value=\"5\"/>\n-        <int name=\"f\" value=\"1\"/>\n         <int name=\"zM\" value=\"4\"/>\n+        <string name=\"oS\" value=\"insideTC\"/>\n+        <string name=\"l0\" value=\"inside0\"/>\n+        <string name=\"l1\" value=\"acc\"/>\n+        <string name=\"l2\" value=\"20\"/>\n+        <int name=\"f\" value=\"1\"/>\n       </imgdir>\n       <imgdir name=\"6\">\n+        <int name=\"x\" value=\"-238\"/>\n+        <int name=\"y\" value=\"-76\"/>\n+        <int name=\"z\" value=\"2\"/>\n+        <int name=\"zM\" value=\"4\"/>\n         <string name=\"oS\" value=\"insideTC\"/>\n         <string name=\"l0\" value=\"inside0\"/>\n         <string name=\"l1\" value=\"wall1\"/>\n         <string name=\"l2\" value=\"1\"/>\n-        <int name=\"x\" value=\"-238\"/>\n-        <int name=\"y\" value=\"-76\"/>\n-        <int name=\"z\" value=\"2\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"4\"/>\n       </imgdir>\n       <imgdir name=\"7\">\n+        <int name=\"x\" value=\"-242\"/>\n+        <int name=\"y\" value=\"-95\"/>\n+        <int name=\"z\" value=\"3\"/>\n+        <int name=\"zM\" value=\"4\"/>\n         <string name=\"oS\" value=\"insideTC\"/>\n         <string name=\"l0\" value=\"inside0\"/>\n         <string name=\"l1\" value=\"acc\"/>\n         <string name=\"l2\" value=\"12\"/>\n-        <int name=\"x\" value=\"-242\"/>\n-        <int name=\"y\" value=\"-95\"/>\n-        <int name=\"z\" value=\"3\"/>\n         <int name=\"f\" value=\"1\"/>\n-        <int name=\"zM\" value=\"4\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"2\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n+        <int name=\"x\" value=\"-227\"/>\n+        <int name=\"y\" value=\"125\"/>\n+        <int name=\"z\" value=\"3\"/>\n+        <int name=\"zM\" value=\"5\"/>\n         <string name=\"oS\" value=\"insideTC\"/>\n         <string name=\"l0\" value=\"inside0\"/>\n         <string name=\"l1\" value=\"stairs\"/>\n         <string name=\"l2\" value=\"1\"/>\n-        <int name=\"x\" value=\"-227\"/>\n-        <int name=\"y\" value=\"125\"/>\n-        <int name=\"z\" value=\"3\"/>\n         <int name=\"f\" value=\"1\"/>\n-        <int name=\"zM\" value=\"5\"/>\n       </imgdir>\n       <imgdir name=\"1\">\n+        <int name=\"x\" value=\"103\"/>\n+        <int name=\"y\" value=\"-238\"/>\n+        <int name=\"z\" value=\"3\"/>\n+        <int name=\"zM\" value=\"15\"/>\n         <string name=\"oS\" value=\"insideTC\"/>\n         <string name=\"l0\" value=\"inside0\"/>\n         <string name=\"l1\" value=\"curtain\"/>\n         <string name=\"l2\" value=\"2\"/>\n-        <int name=\"x\" value=\"103\"/>\n-        <int name=\"y\" value=\"-238\"/>\n-        <int name=\"z\" value=\"3\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"15\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"3\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n-        <string name=\"oS\" value=\"insideTC\"/>\n-        <string name=\"l0\" value=\"inside0\"/>\n-        <string name=\"l1\" value=\"frame0\"/>\n-        <string name=\"l2\" value=\"0\"/>\n         <int name=\"x\" value=\"0\"/>\n         <int name=\"y\" value=\"222\"/>\n         <int name=\"z\" value=\"3\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"2\">\n         <string name=\"oS\" value=\"insideTC\"/>\n         <string name=\"l0\" value=\"inside0\"/>\n-        <string name=\"l1\" value=\"acc\"/>\n-        <string name=\"l2\" value=\"7\"/>\n+        <string name=\"l1\" value=\"frame0\"/>\n+        <string name=\"l2\" value=\"0\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"1\">\n         <int name=\"x\" value=\"-73\"/>\n         <int name=\"y\" value=\"114\"/>\n         <int name=\"z\" value=\"3\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"6\"/>\n-      </imgdir>\n-      <imgdir name=\"8\">\n         <string name=\"oS\" value=\"insideTC\"/>\n         <string name=\"l0\" value=\"inside0\"/>\n-        <string name=\"l1\" value=\"box\"/>\n-        <string name=\"l2\" value=\"2\"/>\n+        <string name=\"l1\" value=\"acc\"/>\n+        <string name=\"l2\" value=\"7\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"2\">\n         <int name=\"x\" value=\"154\"/>\n         <int name=\"y\" value=\"116\"/>\n         <int name=\"z\" value=\"3\"/>\n-        <int name=\"f\" value=\"1\"/>\n         <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"9\">\n         <string name=\"oS\" value=\"insideTC\"/>\n         <string name=\"l0\" value=\"inside0\"/>\n         <string name=\"l1\" value=\"box\"/>\n-        <string name=\"l2\" value=\"1\"/>\n+        <string name=\"l2\" value=\"2\"/>\n+        <int name=\"f\" value=\"1\"/>\n+      </imgdir>\n+      <imgdir name=\"3\">\n         <int name=\"x\" value=\"273\"/>\n         <int name=\"y\" value=\"116\"/>\n         <int name=\"z\" value=\"4\"/>\n-        <int name=\"f\" value=\"1\"/>\n         <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"10\">\n         <string name=\"oS\" value=\"insideTC\"/>\n         <string name=\"l0\" value=\"inside0\"/>\n         <string name=\"l1\" value=\"box\"/>\n-        <string name=\"l2\" value=\"0\"/>\n+        <string name=\"l2\" value=\"1\"/>\n+        <int name=\"f\" value=\"1\"/>\n+      </imgdir>\n+      <imgdir name=\"4\">\n         <int name=\"x\" value=\"214\"/>\n         <int name=\"y\" value=\"116\"/>\n         <int name=\"z\" value=\"3\"/>\n-        <int name=\"f\" value=\"1\"/>\n         <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"1\">\n         <string name=\"oS\" value=\"insideTC\"/>\n         <string name=\"l0\" value=\"inside0\"/>\n         <string name=\"l1\" value=\"box\"/>\n-        <string name=\"l2\" value=\"6\"/>\n-        <int name=\"x\" value=\"256\"/>\n-        <int name=\"y\" value=\"118\"/>\n-        <int name=\"z\" value=\"4\"/>\n+        <string name=\"l2\" value=\"0\"/>\n         <int name=\"f\" value=\"1\"/>\n-        <int name=\"zM\" value=\"7\"/>\n       </imgdir>\n       <imgdir name=\"5\">\n+        <int name=\"x\" value=\"256\"/>\n+        <int name=\"y\" value=\"118\"/>\n+        <int name=\"z\" value=\"4\"/>\n+        <int name=\"zM\" value=\"7\"/>\n         <string name=\"oS\" value=\"insideTC\"/>\n         <string name=\"l0\" value=\"inside0\"/>\n         <string name=\"l1\" value=\"box\"/>\n-        <string name=\"l2\" value=\"10\"/>\n+        <string name=\"l2\" value=\"6\"/>\n+        <int name=\"f\" value=\"1\"/>\n+      </imgdir>\n+      <imgdir name=\"6\">\n         <int name=\"x\" value=\"205\"/>\n         <int name=\"y\" value=\"124\"/>\n         <int name=\"z\" value=\"5\"/>\n-        <int name=\"f\" value=\"1\"/>\n         <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"7\">\n         <string name=\"oS\" value=\"insideTC\"/>\n         <string name=\"l0\" value=\"inside0\"/>\n-        <string name=\"l1\" value=\"acc\"/>\n-        <string name=\"l2\" value=\"4\"/>\n+        <string name=\"l1\" value=\"box\"/>\n+        <string name=\"l2\" value=\"10\"/>\n+        <int name=\"f\" value=\"1\"/>\n+      </imgdir>\n+      <imgdir name=\"7\">\n         <int name=\"x\" value=\"-70\"/>\n         <int name=\"y\" value=\"51\"/>\n         <int name=\"z\" value=\"3\"/>\n-        <int name=\"f\" value=\"1\"/>\n         <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"3\">\n         <string name=\"oS\" value=\"insideTC\"/>\n         <string name=\"l0\" value=\"inside0\"/>\n         <string name=\"l1\" value=\"acc\"/>\n-        <string name=\"l2\" value=\"18\"/>\n+        <string name=\"l2\" value=\"4\"/>\n+        <int name=\"f\" value=\"1\"/>\n+      </imgdir>\n+      <imgdir name=\"8\">\n         <int name=\"x\" value=\"48\"/>\n         <int name=\"y\" value=\"45\"/>\n         <int name=\"z\" value=\"3\"/>\n-        <int name=\"f\" value=\"1\"/>\n         <int name=\"zM\" value=\"8\"/>\n-      </imgdir>\n-      <imgdir name=\"6\">\n         <string name=\"oS\" value=\"insideTC\"/>\n         <string name=\"l0\" value=\"inside0\"/>\n-        <string name=\"l1\" value=\"box\"/>\n-        <string name=\"l2\" value=\"5\"/>\n+        <string name=\"l1\" value=\"acc\"/>\n+        <string name=\"l2\" value=\"18\"/>\n+        <int name=\"f\" value=\"1\"/>\n+      </imgdir>\n+      <imgdir name=\"9\">\n         <int name=\"x\" value=\"135\"/>\n         <int name=\"y\" value=\"116\"/>\n         <int name=\"z\" value=\"3\"/>\n-        <int name=\"f\" value=\"1\"/>\n         <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"4\">\n         <string name=\"oS\" value=\"insideTC\"/>\n         <string name=\"l0\" value=\"inside0\"/>\n-        <string name=\"l1\" value=\"acc\"/>\n-        <string name=\"l2\" value=\"22\"/>\n+        <string name=\"l1\" value=\"box\"/>\n+        <string name=\"l2\" value=\"5\"/>\n+        <int name=\"f\" value=\"1\"/>\n+      </imgdir>\n+      <imgdir name=\"10\">\n         <int name=\"x\" value=\"36\"/>\n         <int name=\"y\" value=\"116\"/>\n         <int name=\"z\" value=\"2\"/>\n-        <int name=\"f\" value=\"1\"/>\n         <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"11\">\n         <string name=\"oS\" value=\"insideTC\"/>\n         <string name=\"l0\" value=\"inside0\"/>\n         <string name=\"l1\" value=\"acc\"/>\n-        <string name=\"l2\" value=\"5\"/>\n+        <string name=\"l2\" value=\"22\"/>\n+        <int name=\"f\" value=\"1\"/>\n+      </imgdir>\n+      <imgdir name=\"11\">\n         <int name=\"x\" value=\"-152\"/>\n         <int name=\"y\" value=\"-152\"/>\n         <int name=\"z\" value=\"3\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"14\"/>\n+        <string name=\"oS\" value=\"insideTC\"/>\n+        <string name=\"l0\" value=\"inside0\"/>\n+        <string name=\"l1\" value=\"acc\"/>\n+        <string name=\"l2\" value=\"5\"/>\n+        <int name=\"f\" value=\"0\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"4\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n-        <string name=\"oS\" value=\"insideTC\"/>\n-        <string name=\"l0\" value=\"inside0\"/>\n-        <string name=\"l1\" value=\"frame0\"/>\n-        <string name=\"l2\" value=\"1\"/>\n         <int name=\"x\" value=\"354\"/>\n         <int name=\"y\" value=\"0\"/>\n         <int name=\"z\" value=\"3\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"1\"/>\n-      </imgdir>\n-      <imgdir name=\"1\">\n         <string name=\"oS\" value=\"insideTC\"/>\n         <string name=\"l0\" value=\"inside0\"/>\n         <string name=\"l1\" value=\"frame0\"/>\n         <string name=\"l2\" value=\"1\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"1\">\n         <int name=\"x\" value=\"-355\"/>\n         <int name=\"y\" value=\"0\"/>\n         <int name=\"z\" value=\"3\"/>\n-        <int name=\"f\" value=\"1\"/>\n         <int name=\"zM\" value=\"2\"/>\n+        <string name=\"oS\" value=\"insideTC\"/>\n+        <string name=\"l0\" value=\"inside0\"/>\n+        <string name=\"l1\" value=\"frame0\"/>\n+        <string name=\"l2\" value=\"1\"/>\n+        <int name=\"f\" value=\"1\"/>\n       </imgdir>\n       <imgdir name=\"2\">\n+        <int name=\"x\" value=\"-140\"/>\n+        <int name=\"y\" value=\"-176\"/>\n+        <int name=\"z\" value=\"3\"/>\n+        <int name=\"zM\" value=\"13\"/>\n         <string name=\"oS\" value=\"connect\"/>\n         <string name=\"l0\" value=\"ladder\"/>\n         <string name=\"l1\" value=\"23\"/>\n         <string name=\"l2\" value=\"7\"/>\n-        <int name=\"x\" value=\"-140\"/>\n-        <int name=\"y\" value=\"-176\"/>\n-        <int name=\"z\" value=\"3\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"13\"/>\n       </imgdir>\n       <imgdir name=\"3\">\n+        <int name=\"x\" value=\"-140\"/>\n+        <int name=\"y\" value=\"-146\"/>\n+        <int name=\"z\" value=\"3\"/>\n+        <int name=\"zM\" value=\"13\"/>\n         <string name=\"oS\" value=\"connect\"/>\n         <string name=\"l0\" value=\"ladder\"/>\n         <string name=\"l1\" value=\"23\"/>\n         <string name=\"l2\" value=\"8\"/>\n-        <int name=\"x\" value=\"-140\"/>\n-        <int name=\"y\" value=\"-146\"/>\n-        <int name=\"z\" value=\"3\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"13\"/>\n       </imgdir>\n       <imgdir name=\"4\">\n+        <int name=\"x\" value=\"-140\"/>\n+        <int name=\"y\" value=\"-89\"/>\n+        <int name=\"z\" value=\"3\"/>\n+        <int name=\"zM\" value=\"12\"/>\n         <string name=\"oS\" value=\"connect\"/>\n         <string name=\"l0\" value=\"ladder\"/>\n         <string name=\"l1\" value=\"23\"/>\n         <string name=\"l2\" value=\"9\"/>\n-        <int name=\"x\" value=\"-140\"/>\n-        <int name=\"y\" value=\"-89\"/>\n-        <int name=\"z\" value=\"3\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"12\"/>\n       </imgdir>\n       <imgdir name=\"5\">\n+        <int name=\"x\" value=\"-140\"/>\n+        <int name=\"y\" value=\"-33\"/>\n+        <int name=\"z\" value=\"3\"/>\n+        <int name=\"zM\" value=\"11\"/>\n         <string name=\"oS\" value=\"connect\"/>\n         <string name=\"l0\" value=\"ladder\"/>\n         <string name=\"l1\" value=\"23\"/>\n         <string name=\"l2\" value=\"6\"/>\n-        <int name=\"x\" value=\"-140\"/>\n-        <int name=\"y\" value=\"-33\"/>\n-        <int name=\"z\" value=\"3\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"11\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"5\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n+        <int name=\"x\" value=\"0\"/>\n+        <int name=\"y\" value=\"261\"/>\n+        <int name=\"z\" value=\"3\"/>\n+        <int name=\"zM\" value=\"3\"/>\n         <string name=\"oS\" value=\"insideTC\"/>\n         <string name=\"l0\" value=\"inside0\"/>\n         <string name=\"l1\" value=\"frame0\"/>\n         <string name=\"l2\" value=\"3\"/>\n-        <int name=\"x\" value=\"0\"/>\n-        <int name=\"y\" value=\"261\"/>\n-        <int name=\"z\" value=\"3\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"3\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"6\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"7\">\n     <imgdir name=\"info\">\n     </imgdir>\n+    <imgdir name=\"obj\">\n+    </imgdir>\n     <imgdir name=\"tile\">\n     </imgdir>\n-    <imgdir name=\"obj\">\n+  </imgdir>\n+  <imgdir name=\"ladderRope\">\n+    <imgdir name=\"1\">\n+      <int name=\"x\" value=\"-140\"/>\n+      <int name=\"y1\" value=\"-173\"/>\n+      <int name=\"y2\" value=\"11\"/>\n+      <int name=\"uf\" value=\"1\"/>\n+      <int name=\"page\" value=\"4\"/>\n+      <int name=\"l\" value=\"1\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"portal\">\n+    <imgdir name=\"0\">\n+      <int name=\"x\" value=\"10\"/>\n+      <int name=\"y\" value=\"-66\"/>\n+      <int name=\"pt\" value=\"0\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+      <string name=\"pn\" value=\"sp\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <int name=\"x\" value=\"-238\"/>\n+      <int name=\"y\" value=\"101\"/>\n+      <int name=\"pt\" value=\"2\"/>\n+      <int name=\"tm\" value=\"220000300\"/>\n+      <string name=\"tn\" value=\"in04\"/>\n+      <string name=\"pn\" value=\"out00\"/>\n+      <string name=\"script\" value=\"\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"reactor\">\n+  </imgdir>\n+  <imgdir name=\"back\">\n+    <imgdir name=\"0\">\n+      <int name=\"x\" value=\"0\"/>\n+      <int name=\"y\" value=\"0\"/>\n+      <int name=\"rx\" value=\"0\"/>\n+      <int name=\"ry\" value=\"0\"/>\n+      <int name=\"cx\" value=\"0\"/>\n+      <int name=\"cy\" value=\"0\"/>\n+      <int name=\"a\" value=\"255\"/>\n+      <int name=\"type\" value=\"3\"/>\n+      <int name=\"front\" value=\"0\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"bS\" value=\"toyCastle\"/>\n+      <int name=\"ani\" value=\"0\"/>\n+      <int name=\"no\" value=\"0\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <int name=\"x\" value=\"-40\"/>\n+      <int name=\"y\" value=\"-174\"/>\n+      <int name=\"rx\" value=\"3\"/>\n+      <int name=\"ry\" value=\"0\"/>\n+      <int name=\"cx\" value=\"1000\"/>\n+      <int name=\"cy\" value=\"0\"/>\n+      <int name=\"a\" value=\"255\"/>\n+      <int name=\"type\" value=\"4\"/>\n+      <int name=\"front\" value=\"0\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"bS\" value=\"toyCastle\"/>\n+      <int name=\"ani\" value=\"0\"/>\n+      <int name=\"no\" value=\"10\"/>\n+    </imgdir>\n+    <imgdir name=\"2\">\n+      <int name=\"x\" value=\"310\"/>\n+      <int name=\"y\" value=\"-115\"/>\n+      <int name=\"rx\" value=\"2\"/>\n+      <int name=\"ry\" value=\"0\"/>\n+      <int name=\"cx\" value=\"800\"/>\n+      <int name=\"cy\" value=\"0\"/>\n+      <int name=\"a\" value=\"255\"/>\n+      <int name=\"type\" value=\"4\"/>\n+      <int name=\"front\" value=\"0\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"bS\" value=\"toyCastle\"/>\n+      <int name=\"ani\" value=\"0\"/>\n+      <int name=\"no\" value=\"11\"/>\n+    </imgdir>\n+    <imgdir name=\"3\">\n+      <int name=\"x\" value=\"-142\"/>\n+      <int name=\"y\" value=\"-30\"/>\n+      <int name=\"rx\" value=\"0\"/>\n+      <int name=\"ry\" value=\"0\"/>\n+      <int name=\"cx\" value=\"0\"/>\n+      <int name=\"cy\" value=\"0\"/>\n+      <int name=\"a\" value=\"255\"/>\n+      <int name=\"type\" value=\"1\"/>\n+      <int name=\"front\" value=\"0\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"bS\" value=\"toyCastle\"/>\n+      <int name=\"ani\" value=\"0\"/>\n+      <int name=\"no\" value=\"15\"/>\n+    </imgdir>\n+    <imgdir name=\"4\">\n+      <int name=\"x\" value=\"113\"/>\n+      <int name=\"y\" value=\"-80\"/>\n+      <int name=\"rx\" value=\"0\"/>\n+      <int name=\"ry\" value=\"0\"/>\n+      <int name=\"cx\" value=\"0\"/>\n+      <int name=\"cy\" value=\"0\"/>\n+      <int name=\"a\" value=\"255\"/>\n+      <int name=\"type\" value=\"0\"/>\n+      <int name=\"front\" value=\"0\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"bS\" value=\"toyCastle\"/>\n+      <int name=\"ani\" value=\"0\"/>\n+      <int name=\"no\" value=\"16\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"foothold\">\n     <imgdir name=\"1\">\n       <imgdir name=\"4\">\n-        <imgdir name=\"1\">\n-          <int name=\"x1\" value=\"-50\"/>\n-          <int name=\"y1\" value=\"-28\"/>\n-          <int name=\"x2\" value=\"142\"/>\n-          <int name=\"y2\" value=\"-28\"/>\n-          <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"0\"/>\n-        </imgdir>\n-        <imgdir name=\"2\">\n+        <imgdir name=\"3\">\n           <int name=\"x1\" value=\"-296\"/>\n           <int name=\"y1\" value=\"-21\"/>\n           <int name=\"x2\" value=\"-186\"/>\n           <int name=\"y2\" value=\"-21\"/>\n           <int name=\"prev\" value=\"0\"/>\n           <int name=\"next\" value=\"0\"/>\n         </imgdir>\n+        <imgdir name=\"9\">\n+          <int name=\"x1\" value=\"-50\"/>\n+          <int name=\"y1\" value=\"-28\"/>\n+          <int name=\"x2\" value=\"142\"/>\n+          <int name=\"y2\" value=\"-28\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"2\">\n       <imgdir name=\"5\">\n-        <imgdir name=\"3\">\n-          <int name=\"x1\" value=\"-263\"/>\n-          <int name=\"y1\" value=\"133\"/>\n-          <int name=\"x2\" value=\"-159\"/>\n-          <int name=\"y2\" value=\"133\"/>\n+        <imgdir name=\"2\">\n+          <int name=\"x1\" value=\"-297\"/>\n+          <int name=\"y1\" value=\"104\"/>\n+          <int name=\"x2\" value=\"-186\"/>\n+          <int name=\"y2\" value=\"104\"/>\n           <int name=\"prev\" value=\"0\"/>\n           <int name=\"next\" value=\"0\"/>\n         </imgdir>\n@@ -542,33 +570,25 @@\n           <int name=\"next\" value=\"0\"/>\n         </imgdir>\n         <imgdir name=\"5\">\n-          <int name=\"x1\" value=\"-297\"/>\n-          <int name=\"y1\" value=\"104\"/>\n-          <int name=\"x2\" value=\"-186\"/>\n-          <int name=\"y2\" value=\"104\"/>\n+          <int name=\"x1\" value=\"-263\"/>\n+          <int name=\"y1\" value=\"133\"/>\n+          <int name=\"x2\" value=\"-159\"/>\n+          <int name=\"y2\" value=\"133\"/>\n           <int name=\"prev\" value=\"0\"/>\n           <int name=\"next\" value=\"0\"/>\n         </imgdir>\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"3\">\n       <imgdir name=\"0\">\n-        <imgdir name=\"6\">\n+        <imgdir name=\"1\">\n           <int name=\"x1\" value=\"-400\"/>\n           <int name=\"y1\" value=\"145\"/>\n           <int name=\"x2\" value=\"400\"/>\n           <int name=\"y2\" value=\"145\"/>\n           <int name=\"prev\" value=\"0\"/>\n           <int name=\"next\" value=\"0\"/>\n         </imgdir>\n-        <imgdir name=\"7\">\n-          <int name=\"x1\" value=\"-14\"/>\n-          <int name=\"y1\" value=\"66\"/>\n-          <int name=\"x2\" value=\"106\"/>\n-          <int name=\"y2\" value=\"66\"/>\n-          <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"0\"/>\n-        </imgdir>\n         <imgdir name=\"8\">\n           <int name=\"x1\" value=\"-104\"/>\n           <int name=\"y1\" value=\"28\"/>\n@@ -577,43 +597,41 @@\n           <int name=\"prev\" value=\"0\"/>\n           <int name=\"next\" value=\"0\"/>\n         </imgdir>\n-        <imgdir name=\"9\">\n+        <imgdir name=\"10\">\n+          <int name=\"x1\" value=\"-14\"/>\n+          <int name=\"y1\" value=\"66\"/>\n+          <int name=\"x2\" value=\"106\"/>\n+          <int name=\"y2\" value=\"66\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"11\">\n           <int name=\"x1\" value=\"105\"/>\n           <int name=\"y1\" value=\"86\"/>\n           <int name=\"x2\" value=\"201\"/>\n           <int name=\"y2\" value=\"86\"/>\n           <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"11\"/>\n+          <int name=\"next\" value=\"12\"/>\n         </imgdir>\n-        <imgdir name=\"10\">\n-          <int name=\"x1\" value=\"224\"/>\n+        <imgdir name=\"12\">\n+          <int name=\"x1\" value=\"201\"/>\n           <int name=\"y1\" value=\"86\"/>\n-          <int name=\"x2\" value=\"320\"/>\n+          <int name=\"x2\" value=\"224\"/>\n           <int name=\"y2\" value=\"86\"/>\n           <int name=\"prev\" value=\"11\"/>\n-          <int name=\"next\" value=\"0\"/>\n+          <int name=\"next\" value=\"13\"/>\n         </imgdir>\n-        <imgdir name=\"11\">\n-          <int name=\"x1\" value=\"201\"/>\n+        <imgdir name=\"13\">\n+          <int name=\"x1\" value=\"224\"/>\n           <int name=\"y1\" value=\"86\"/>\n-          <int name=\"x2\" value=\"224\"/>\n+          <int name=\"x2\" value=\"320\"/>\n           <int name=\"y2\" value=\"86\"/>\n-          <int name=\"prev\" value=\"9\"/>\n-          <int name=\"next\" value=\"10\"/>\n-        </imgdir>\n-      </imgdir>\n-      <imgdir name=\"6\">\n-        <imgdir name=\"12\">\n-          <int name=\"x1\" value=\"-106\"/>\n-          <int name=\"y1\" value=\"88\"/>\n-          <int name=\"x2\" value=\"-36\"/>\n-          <int name=\"y2\" value=\"88\"/>\n-          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"prev\" value=\"12\"/>\n           <int name=\"next\" value=\"0\"/>\n         </imgdir>\n       </imgdir>\n       <imgdir name=\"14\">\n-        <imgdir name=\"13\">\n+        <imgdir name=\"6\">\n           <int name=\"x1\" value=\"-186\"/>\n           <int name=\"y1\" value=\"-175\"/>\n           <int name=\"x2\" value=\"-118\"/>\n@@ -622,35 +640,30 @@\n           <int name=\"next\" value=\"0\"/>\n         </imgdir>\n       </imgdir>\n+      <imgdir name=\"6\">\n+        <imgdir name=\"7\">\n+          <int name=\"x1\" value=\"-106\"/>\n+          <int name=\"y1\" value=\"88\"/>\n+          <int name=\"x2\" value=\"-36\"/>\n+          <int name=\"y2\" value=\"88\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+      </imgdir>\n     </imgdir>\n   </imgdir>\n-  <imgdir name=\"ladderRope\">\n-    <imgdir name=\"1\">\n-      <int name=\"l\" value=\"1\"/>\n-      <int name=\"uf\" value=\"1\"/>\n-      <int name=\"x\" value=\"-140\"/>\n-      <int name=\"y1\" value=\"-173\"/>\n-      <int name=\"y2\" value=\"11\"/>\n-      <int name=\"page\" value=\"4\"/>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"portal\">\n+  <imgdir name=\"life\">\n     <imgdir name=\"0\">\n-      <string name=\"pn\" value=\"sp\"/>\n-      <int name=\"pt\" value=\"0\"/>\n-      <int name=\"x\" value=\"10\"/>\n-      <int name=\"y\" value=\"-66\"/>\n-      <int name=\"tm\" value=\"999999999\"/>\n-      <string name=\"tn\" value=\"\"/>\n-    </imgdir>\n-    <imgdir name=\"1\">\n-      <string name=\"pn\" value=\"out00\"/>\n-      <int name=\"pt\" value=\"2\"/>\n-      <int name=\"x\" value=\"-238\"/>\n-      <int name=\"y\" value=\"101\"/>\n-      <int name=\"tm\" value=\"220000300\"/>\n-      <string name=\"tn\" value=\"in04\"/>\n-      <string name=\"script\" value=\"\"/>\n+      <string name=\"id\" value=\"9100108\"/>\n+      <int name=\"x\" value=\"156\"/>\n+      <int name=\"y\" value=\"135\"/>\n+      <int name=\"cy\" value=\"143\"/>\n+      <int name=\"mobTime\" value=\"0\"/>\n+      <int name=\"rx0\" value=\"136\"/>\n+      <int name=\"rx1\" value=\"176\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"type\" value=\"n\"/>\n+      <int name=\"fh\" value=\"1\"/>\n     </imgdir>\n   </imgdir>\n </imgdir>"}, {"sha": "8d761a7bfff145ddf263308b6bcb03c089448b0a", "filename": "wz/Quest.wz/Act.img.xml", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/wz/Quest.wz/Act.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/wz/Quest.wz/Act.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Quest.wz/Act.img.xml?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -21426,10 +21426,6 @@\n           <int name=\"id\" value=\"4220046\"/>\n           <int name=\"count\" value=\"-1\"/>\n         </imgdir>\n-        <imgdir name=\"1\">\n-          <int name=\"id\" value=\"4031992\"/>\n-          <int name=\"count\" value=\"-30\"/>\n-        </imgdir>\n       </imgdir>\n     </imgdir>\n   </imgdir>"}, {"sha": "dda18b6107e6d8988fc288688a4dcfaef93838aa", "filename": "wz/Quest.wz/Check.img.xml", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/wz/Quest.wz/Check.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/wz/Quest.wz/Check.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Quest.wz/Check.img.xml?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -40747,9 +40747,12 @@\n           <int name=\"id\" value=\"4220046\"/>\n           <int name=\"count\" value=\"1\"/>\n         </imgdir>\n-        <imgdir name=\"1\">\n-          <int name=\"id\" value=\"4031992\"/>\n-          <int name=\"count\" value=\"30\"/>\n+      </imgdir>\n+      <string name=\"endscript\" value=\"q3250e\"/>\n+      <int name=\"infoNumber\" value=\"7067\"/>\n+      <imgdir name=\"infoex\">\n+        <imgdir name=\"0\">\n+          <string name=\"value\" value=\"3000\"/>\n         </imgdir>\n       </imgdir>\n     </imgdir>"}, {"sha": "5eb5b417175e1b7fa4bb65508d7d2b1e19c956b6", "filename": "wz/Quest.wz/Say.img.xml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/wz/Quest.wz/Say.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/wz/Quest.wz/Say.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Quest.wz/Say.img.xml?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -21951,7 +21951,7 @@\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"0\">\n-      <string name=\"0\" value=\"#b#m220000000#Castle Clocktower Monster Wipe-Out Operation#k! ...has begun. It may be a bit of a chore, but what can you do? Fortunately, you probably won&apos;t have to hunt any powerful monsters yet since it&apos;s still in the beginning stages of the operation. I&apos;m saying, you can easily do it. What do you say? Do you want to try?\"/>\n+      <string name=\"0\" value=\"#b#m220000000# Clocktower Monster Wipe-Out Operation#k! ...has begun. It may be a bit of a chore, but what can you do? Fortunately, you probably won&apos;t have to hunt any powerful monsters yet since it&apos;s still in the beginning stages of the operation. I&apos;m saying, you can easily do it. What do you say? Do you want to try?\"/>\n       <imgdir name=\"stop\">\n       </imgdir>\n       <imgdir name=\"yes\">"}, {"sha": "94f849c520f5450cfb0786bf15642ce9ac708aa0", "filename": "wz/Skill.wz/112.img.xml", "status": "modified", "additions": 80, "deletions": 80, "changes": 160, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/wz/Skill.wz/112.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/wz/Skill.wz/112.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Skill.wz/112.img.xml?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -1137,212 +1137,212 @@\n         <imgdir name=\"1\">\n           <string name=\"hs\" value=\"h1\"/>\n           <int name=\"mpCon\" value=\"10\"/>\n-          <int name=\"prop\" value=\"42\"/>\n+          <int name=\"prop\" value=\"100\"/>\n           <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"mobCount\" value=\"3\"/>\n         </imgdir>\n         <imgdir name=\"2\">\n           <string name=\"hs\" value=\"h2\"/>\n           <int name=\"mpCon\" value=\"10\"/>\n-          <int name=\"prop\" value=\"44\"/>\n-          <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"210\"/>\n+          <int name=\"mobCount\" value=\"3\"/>\n         </imgdir>\n         <imgdir name=\"3\">\n           <string name=\"hs\" value=\"h3\"/>\n           <int name=\"mpCon\" value=\"10\"/>\n-          <int name=\"prop\" value=\"46\"/>\n-          <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"220\"/>\n+          <int name=\"mobCount\" value=\"3\"/>\n         </imgdir>\n         <imgdir name=\"4\">\n           <string name=\"hs\" value=\"h4\"/>\n           <int name=\"mpCon\" value=\"10\"/>\n-          <int name=\"prop\" value=\"48\"/>\n-          <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"230\"/>\n+          <int name=\"mobCount\" value=\"3\"/>\n         </imgdir>\n         <imgdir name=\"5\">\n           <string name=\"hs\" value=\"h5\"/>\n           <int name=\"mpCon\" value=\"10\"/>\n-          <int name=\"prop\" value=\"50\"/>\n-          <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"240\"/>\n+          <int name=\"mobCount\" value=\"3\"/>\n         </imgdir>\n         <imgdir name=\"6\">\n           <string name=\"hs\" value=\"h6\"/>\n           <int name=\"mpCon\" value=\"13\"/>\n-          <int name=\"prop\" value=\"52\"/>\n-          <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"250\"/>\n+          <int name=\"mobCount\" value=\"3\"/>\n         </imgdir>\n         <imgdir name=\"7\">\n           <string name=\"hs\" value=\"h7\"/>\n           <int name=\"mpCon\" value=\"13\"/>\n-          <int name=\"prop\" value=\"54\"/>\n-          <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"260\"/>\n+          <int name=\"mobCount\" value=\"3\"/>\n         </imgdir>\n         <imgdir name=\"8\">\n           <string name=\"hs\" value=\"h8\"/>\n           <int name=\"mpCon\" value=\"13\"/>\n-          <int name=\"prop\" value=\"56\"/>\n-          <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"270\"/>\n+          <int name=\"mobCount\" value=\"4\"/>\n         </imgdir>\n         <imgdir name=\"9\">\n           <string name=\"hs\" value=\"h9\"/>\n           <int name=\"mpCon\" value=\"13\"/>\n-          <int name=\"prop\" value=\"58\"/>\n-          <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"280\"/>\n+          <int name=\"mobCount\" value=\"4\"/>\n         </imgdir>\n         <imgdir name=\"10\">\n           <string name=\"hs\" value=\"h10\"/>\n           <int name=\"mpCon\" value=\"13\"/>\n-          <int name=\"prop\" value=\"60\"/>\n-          <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"290\"/>\n+          <int name=\"mobCount\" value=\"4\"/>\n         </imgdir>\n         <imgdir name=\"11\">\n           <string name=\"hs\" value=\"h11\"/>\n           <int name=\"mpCon\" value=\"18\"/>\n-          <int name=\"prop\" value=\"62\"/>\n+          <int name=\"prop\" value=\"100\"/>\n           <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"mobCount\" value=\"4\"/>\n         </imgdir>\n         <imgdir name=\"12\">\n           <string name=\"hs\" value=\"h12\"/>\n           <int name=\"mpCon\" value=\"18\"/>\n-          <int name=\"prop\" value=\"64\"/>\n-          <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"310\"/>\n+          <int name=\"mobCount\" value=\"4\"/>\n         </imgdir>\n         <imgdir name=\"13\">\n           <string name=\"hs\" value=\"h13\"/>\n           <int name=\"mpCon\" value=\"18\"/>\n-          <int name=\"prop\" value=\"66\"/>\n-          <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"320\"/>\n+          <int name=\"mobCount\" value=\"4\"/>\n         </imgdir>\n         <imgdir name=\"14\">\n           <string name=\"hs\" value=\"h14\"/>\n           <int name=\"mpCon\" value=\"18\"/>\n-          <int name=\"prop\" value=\"68\"/>\n-          <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"330\"/>\n+          <int name=\"mobCount\" value=\"4\"/>\n         </imgdir>\n         <imgdir name=\"15\">\n           <string name=\"hs\" value=\"h15\"/>\n           <int name=\"mpCon\" value=\"18\"/>\n-          <int name=\"prop\" value=\"70\"/>\n-          <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"340\"/>\n+          <int name=\"mobCount\" value=\"5\"/>\n         </imgdir>\n         <imgdir name=\"16\">\n           <string name=\"hs\" value=\"h16\"/>\n           <int name=\"mpCon\" value=\"21\"/>\n-          <int name=\"prop\" value=\"72\"/>\n-          <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"350\"/>\n+          <int name=\"mobCount\" value=\"5\"/>\n         </imgdir>\n         <imgdir name=\"17\">\n           <string name=\"hs\" value=\"h17\"/>\n           <int name=\"mpCon\" value=\"21\"/>\n-          <int name=\"prop\" value=\"74\"/>\n-          <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"360\"/>\n+          <int name=\"mobCount\" value=\"5\"/>\n         </imgdir>\n         <imgdir name=\"18\">\n           <string name=\"hs\" value=\"h18\"/>\n           <int name=\"mpCon\" value=\"21\"/>\n-          <int name=\"prop\" value=\"76\"/>\n-          <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"370\"/>\n+          <int name=\"mobCount\" value=\"5\"/>\n         </imgdir>\n         <imgdir name=\"19\">\n           <string name=\"hs\" value=\"h19\"/>\n           <int name=\"mpCon\" value=\"21\"/>\n-          <int name=\"prop\" value=\"78\"/>\n-          <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"380\"/>\n+          <int name=\"mobCount\" value=\"5\"/>\n         </imgdir>\n         <imgdir name=\"20\">\n           <string name=\"hs\" value=\"h20\"/>\n           <int name=\"mpCon\" value=\"21\"/>\n-          <int name=\"prop\" value=\"80\"/>\n-          <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"390\"/>\n+          <int name=\"mobCount\" value=\"5\"/>\n         </imgdir>\n         <imgdir name=\"21\">\n           <string name=\"hs\" value=\"h21\"/>\n           <int name=\"mpCon\" value=\"26\"/>\n-          <int name=\"prop\" value=\"82\"/>\n+          <int name=\"prop\" value=\"100\"/>\n           <int name=\"range\" value=\"400\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"mobCount\" value=\"5\"/>\n         </imgdir>\n         <imgdir name=\"22\">\n           <string name=\"hs\" value=\"h22\"/>\n           <int name=\"mpCon\" value=\"26\"/>\n-          <int name=\"prop\" value=\"84\"/>\n-          <int name=\"range\" value=\"400\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"410\"/>\n           <int name=\"mobCount\" value=\"6\"/>\n         </imgdir>\n         <imgdir name=\"23\">\n           <string name=\"hs\" value=\"h23\"/>\n           <int name=\"mpCon\" value=\"26\"/>\n-          <int name=\"prop\" value=\"86\"/>\n-          <int name=\"range\" value=\"400\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"420\"/>\n           <int name=\"mobCount\" value=\"6\"/>\n         </imgdir>\n         <imgdir name=\"24\">\n           <string name=\"hs\" value=\"h24\"/>\n           <int name=\"mpCon\" value=\"26\"/>\n-          <int name=\"prop\" value=\"88\"/>\n-          <int name=\"range\" value=\"400\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"430\"/>\n           <int name=\"mobCount\" value=\"6\"/>\n         </imgdir>\n         <imgdir name=\"25\">\n           <string name=\"hs\" value=\"h25\"/>\n           <int name=\"mpCon\" value=\"26\"/>\n-          <int name=\"prop\" value=\"90\"/>\n-          <int name=\"range\" value=\"400\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"440\"/>\n           <int name=\"mobCount\" value=\"6\"/>\n         </imgdir>\n         <imgdir name=\"26\">\n           <string name=\"hs\" value=\"h26\"/>\n           <int name=\"mpCon\" value=\"25\"/>\n-          <int name=\"prop\" value=\"91\"/>\n-          <int name=\"range\" value=\"400\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"450\"/>\n           <int name=\"mobCount\" value=\"6\"/>\n         </imgdir>\n         <imgdir name=\"27\">\n           <string name=\"hs\" value=\"h27\"/>\n           <int name=\"mpCon\" value=\"24\"/>\n-          <int name=\"prop\" value=\"92\"/>\n-          <int name=\"range\" value=\"400\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"450\"/>\n           <int name=\"mobCount\" value=\"6\"/>\n         </imgdir>\n         <imgdir name=\"28\">\n           <string name=\"hs\" value=\"h28\"/>\n           <int name=\"mpCon\" value=\"23\"/>\n-          <int name=\"prop\" value=\"93\"/>\n-          <int name=\"range\" value=\"400\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"450\"/>\n           <int name=\"mobCount\" value=\"6\"/>\n         </imgdir>\n         <imgdir name=\"29\">\n           <string name=\"hs\" value=\"h29\"/>\n           <int name=\"mpCon\" value=\"22\"/>\n-          <int name=\"prop\" value=\"94\"/>\n-          <int name=\"range\" value=\"400\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"450\"/>\n+          <int name=\"mobCount\" value=\"7\"/>\n         </imgdir>\n         <imgdir name=\"30\">\n           <string name=\"hs\" value=\"h30\"/>\n           <int name=\"mpCon\" value=\"21\"/>\n-          <int name=\"prop\" value=\"95\"/>\n-          <int name=\"range\" value=\"400\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"450\"/>\n+          <int name=\"mobCount\" value=\"7\"/>\n         </imgdir>\n       </imgdir>\n     </imgdir>"}, {"sha": "669871cbff53a9214db63af31f55c04f5dfca858", "filename": "wz/Skill.wz/122.img.xml", "status": "modified", "additions": 80, "deletions": 80, "changes": 160, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/wz/Skill.wz/122.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/wz/Skill.wz/122.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Skill.wz/122.img.xml?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -892,212 +892,212 @@\n         <imgdir name=\"1\">\n           <string name=\"hs\" value=\"h1\"/>\n           <int name=\"mpCon\" value=\"10\"/>\n-          <int name=\"prop\" value=\"42\"/>\n+          <int name=\"prop\" value=\"100\"/>\n           <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"mobCount\" value=\"3\"/>\n         </imgdir>\n         <imgdir name=\"2\">\n           <string name=\"hs\" value=\"h2\"/>\n           <int name=\"mpCon\" value=\"10\"/>\n-          <int name=\"prop\" value=\"44\"/>\n-          <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"210\"/>\n+          <int name=\"mobCount\" value=\"3\"/>\n         </imgdir>\n         <imgdir name=\"3\">\n           <string name=\"hs\" value=\"h3\"/>\n           <int name=\"mpCon\" value=\"10\"/>\n-          <int name=\"prop\" value=\"46\"/>\n-          <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"220\"/>\n+          <int name=\"mobCount\" value=\"3\"/>\n         </imgdir>\n         <imgdir name=\"4\">\n           <string name=\"hs\" value=\"h4\"/>\n           <int name=\"mpCon\" value=\"10\"/>\n-          <int name=\"prop\" value=\"48\"/>\n-          <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"230\"/>\n+          <int name=\"mobCount\" value=\"3\"/>\n         </imgdir>\n         <imgdir name=\"5\">\n           <string name=\"hs\" value=\"h5\"/>\n           <int name=\"mpCon\" value=\"10\"/>\n-          <int name=\"prop\" value=\"50\"/>\n-          <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"240\"/>\n+          <int name=\"mobCount\" value=\"3\"/>\n         </imgdir>\n         <imgdir name=\"6\">\n           <string name=\"hs\" value=\"h6\"/>\n           <int name=\"mpCon\" value=\"13\"/>\n-          <int name=\"prop\" value=\"52\"/>\n-          <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"250\"/>\n+          <int name=\"mobCount\" value=\"3\"/>\n         </imgdir>\n         <imgdir name=\"7\">\n           <string name=\"hs\" value=\"h7\"/>\n           <int name=\"mpCon\" value=\"13\"/>\n-          <int name=\"prop\" value=\"54\"/>\n-          <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"260\"/>\n+          <int name=\"mobCount\" value=\"3\"/>\n         </imgdir>\n         <imgdir name=\"8\">\n           <string name=\"hs\" value=\"h8\"/>\n           <int name=\"mpCon\" value=\"13\"/>\n-          <int name=\"prop\" value=\"56\"/>\n-          <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"270\"/>\n+          <int name=\"mobCount\" value=\"4\"/>\n         </imgdir>\n         <imgdir name=\"9\">\n           <string name=\"hs\" value=\"h9\"/>\n           <int name=\"mpCon\" value=\"13\"/>\n-          <int name=\"prop\" value=\"58\"/>\n-          <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"280\"/>\n+          <int name=\"mobCount\" value=\"4\"/>\n         </imgdir>\n         <imgdir name=\"10\">\n           <string name=\"hs\" value=\"h10\"/>\n           <int name=\"mpCon\" value=\"13\"/>\n-          <int name=\"prop\" value=\"60\"/>\n-          <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"290\"/>\n+          <int name=\"mobCount\" value=\"4\"/>\n         </imgdir>\n         <imgdir name=\"11\">\n           <string name=\"hs\" value=\"h11\"/>\n           <int name=\"mpCon\" value=\"18\"/>\n-          <int name=\"prop\" value=\"62\"/>\n+          <int name=\"prop\" value=\"100\"/>\n           <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"mobCount\" value=\"4\"/>\n         </imgdir>\n         <imgdir name=\"12\">\n           <string name=\"hs\" value=\"h12\"/>\n           <int name=\"mpCon\" value=\"18\"/>\n-          <int name=\"prop\" value=\"64\"/>\n-          <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"310\"/>\n+          <int name=\"mobCount\" value=\"4\"/>\n         </imgdir>\n         <imgdir name=\"13\">\n           <string name=\"hs\" value=\"h13\"/>\n           <int name=\"mpCon\" value=\"18\"/>\n-          <int name=\"prop\" value=\"66\"/>\n-          <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"320\"/>\n+          <int name=\"mobCount\" value=\"4\"/>\n         </imgdir>\n         <imgdir name=\"14\">\n           <string name=\"hs\" value=\"h14\"/>\n           <int name=\"mpCon\" value=\"18\"/>\n-          <int name=\"prop\" value=\"68\"/>\n-          <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"330\"/>\n+          <int name=\"mobCount\" value=\"4\"/>\n         </imgdir>\n         <imgdir name=\"15\">\n           <string name=\"hs\" value=\"h15\"/>\n           <int name=\"mpCon\" value=\"18\"/>\n-          <int name=\"prop\" value=\"70\"/>\n-          <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"340\"/>\n+          <int name=\"mobCount\" value=\"5\"/>\n         </imgdir>\n         <imgdir name=\"16\">\n           <string name=\"hs\" value=\"h16\"/>\n           <int name=\"mpCon\" value=\"21\"/>\n-          <int name=\"prop\" value=\"72\"/>\n-          <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"350\"/>\n+          <int name=\"mobCount\" value=\"5\"/>\n         </imgdir>\n         <imgdir name=\"17\">\n           <string name=\"hs\" value=\"h17\"/>\n           <int name=\"mpCon\" value=\"21\"/>\n-          <int name=\"prop\" value=\"74\"/>\n-          <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"360\"/>\n+          <int name=\"mobCount\" value=\"5\"/>\n         </imgdir>\n         <imgdir name=\"18\">\n           <string name=\"hs\" value=\"h18\"/>\n           <int name=\"mpCon\" value=\"21\"/>\n-          <int name=\"prop\" value=\"76\"/>\n-          <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"370\"/>\n+          <int name=\"mobCount\" value=\"5\"/>\n         </imgdir>\n         <imgdir name=\"19\">\n           <string name=\"hs\" value=\"h19\"/>\n           <int name=\"mpCon\" value=\"21\"/>\n-          <int name=\"prop\" value=\"78\"/>\n-          <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"380\"/>\n+          <int name=\"mobCount\" value=\"5\"/>\n         </imgdir>\n         <imgdir name=\"20\">\n           <string name=\"hs\" value=\"h20\"/>\n           <int name=\"mpCon\" value=\"21\"/>\n-          <int name=\"prop\" value=\"80\"/>\n-          <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"390\"/>\n+          <int name=\"mobCount\" value=\"5\"/>\n         </imgdir>\n         <imgdir name=\"21\">\n           <string name=\"hs\" value=\"h21\"/>\n           <int name=\"mpCon\" value=\"26\"/>\n-          <int name=\"prop\" value=\"82\"/>\n+          <int name=\"prop\" value=\"100\"/>\n           <int name=\"range\" value=\"400\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"mobCount\" value=\"5\"/>\n         </imgdir>\n         <imgdir name=\"22\">\n           <string name=\"hs\" value=\"h22\"/>\n           <int name=\"mpCon\" value=\"26\"/>\n-          <int name=\"prop\" value=\"84\"/>\n-          <int name=\"range\" value=\"400\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"410\"/>\n           <int name=\"mobCount\" value=\"6\"/>\n         </imgdir>\n         <imgdir name=\"23\">\n           <string name=\"hs\" value=\"h23\"/>\n           <int name=\"mpCon\" value=\"26\"/>\n-          <int name=\"prop\" value=\"86\"/>\n-          <int name=\"range\" value=\"400\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"420\"/>\n           <int name=\"mobCount\" value=\"6\"/>\n         </imgdir>\n         <imgdir name=\"24\">\n           <string name=\"hs\" value=\"h24\"/>\n           <int name=\"mpCon\" value=\"26\"/>\n-          <int name=\"prop\" value=\"88\"/>\n-          <int name=\"range\" value=\"400\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"430\"/>\n           <int name=\"mobCount\" value=\"6\"/>\n         </imgdir>\n         <imgdir name=\"25\">\n           <string name=\"hs\" value=\"h25\"/>\n           <int name=\"mpCon\" value=\"26\"/>\n-          <int name=\"prop\" value=\"90\"/>\n-          <int name=\"range\" value=\"400\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"440\"/>\n           <int name=\"mobCount\" value=\"6\"/>\n         </imgdir>\n         <imgdir name=\"26\">\n           <string name=\"hs\" value=\"h26\"/>\n           <int name=\"mpCon\" value=\"25\"/>\n-          <int name=\"prop\" value=\"91\"/>\n-          <int name=\"range\" value=\"400\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"450\"/>\n           <int name=\"mobCount\" value=\"6\"/>\n         </imgdir>\n         <imgdir name=\"27\">\n           <string name=\"hs\" value=\"h27\"/>\n           <int name=\"mpCon\" value=\"24\"/>\n-          <int name=\"prop\" value=\"92\"/>\n-          <int name=\"range\" value=\"400\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"450\"/>\n           <int name=\"mobCount\" value=\"6\"/>\n         </imgdir>\n         <imgdir name=\"28\">\n           <string name=\"hs\" value=\"h28\"/>\n           <int name=\"mpCon\" value=\"23\"/>\n-          <int name=\"prop\" value=\"93\"/>\n-          <int name=\"range\" value=\"400\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"450\"/>\n           <int name=\"mobCount\" value=\"6\"/>\n         </imgdir>\n         <imgdir name=\"29\">\n           <string name=\"hs\" value=\"h29\"/>\n           <int name=\"mpCon\" value=\"22\"/>\n-          <int name=\"prop\" value=\"94\"/>\n-          <int name=\"range\" value=\"400\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"450\"/>\n+          <int name=\"mobCount\" value=\"7\"/>\n         </imgdir>\n         <imgdir name=\"30\">\n           <string name=\"hs\" value=\"h30\"/>\n           <int name=\"mpCon\" value=\"21\"/>\n-          <int name=\"prop\" value=\"95\"/>\n-          <int name=\"range\" value=\"400\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"450\"/>\n+          <int name=\"mobCount\" value=\"7\"/>\n         </imgdir>\n       </imgdir>\n     </imgdir>"}, {"sha": "9163936bde2cd053d116ec91f082dbc9b02e4d62", "filename": "wz/Skill.wz/132.img.xml", "status": "modified", "additions": 80, "deletions": 80, "changes": 160, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/wz/Skill.wz/132.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/wz/Skill.wz/132.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Skill.wz/132.img.xml?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -2663,212 +2663,212 @@\n         <imgdir name=\"1\">\n           <string name=\"hs\" value=\"h1\"/>\n           <int name=\"mpCon\" value=\"10\"/>\n-          <int name=\"prop\" value=\"42\"/>\n+          <int name=\"prop\" value=\"100\"/>\n           <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"mobCount\" value=\"3\"/>\n         </imgdir>\n         <imgdir name=\"2\">\n           <string name=\"hs\" value=\"h2\"/>\n           <int name=\"mpCon\" value=\"10\"/>\n-          <int name=\"prop\" value=\"44\"/>\n-          <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"210\"/>\n+          <int name=\"mobCount\" value=\"3\"/>\n         </imgdir>\n         <imgdir name=\"3\">\n           <string name=\"hs\" value=\"h3\"/>\n           <int name=\"mpCon\" value=\"10\"/>\n-          <int name=\"prop\" value=\"46\"/>\n-          <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"220\"/>\n+          <int name=\"mobCount\" value=\"3\"/>\n         </imgdir>\n         <imgdir name=\"4\">\n           <string name=\"hs\" value=\"h4\"/>\n           <int name=\"mpCon\" value=\"10\"/>\n-          <int name=\"prop\" value=\"48\"/>\n-          <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"230\"/>\n+          <int name=\"mobCount\" value=\"3\"/>\n         </imgdir>\n         <imgdir name=\"5\">\n           <string name=\"hs\" value=\"h5\"/>\n           <int name=\"mpCon\" value=\"10\"/>\n-          <int name=\"prop\" value=\"50\"/>\n-          <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"240\"/>\n+          <int name=\"mobCount\" value=\"3\"/>\n         </imgdir>\n         <imgdir name=\"6\">\n           <string name=\"hs\" value=\"h6\"/>\n           <int name=\"mpCon\" value=\"13\"/>\n-          <int name=\"prop\" value=\"52\"/>\n-          <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"250\"/>\n+          <int name=\"mobCount\" value=\"3\"/>\n         </imgdir>\n         <imgdir name=\"7\">\n           <string name=\"hs\" value=\"h7\"/>\n           <int name=\"mpCon\" value=\"13\"/>\n-          <int name=\"prop\" value=\"54\"/>\n-          <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"260\"/>\n+          <int name=\"mobCount\" value=\"3\"/>\n         </imgdir>\n         <imgdir name=\"8\">\n           <string name=\"hs\" value=\"h8\"/>\n           <int name=\"mpCon\" value=\"13\"/>\n-          <int name=\"prop\" value=\"56\"/>\n-          <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"270\"/>\n+          <int name=\"mobCount\" value=\"4\"/>\n         </imgdir>\n         <imgdir name=\"9\">\n           <string name=\"hs\" value=\"h9\"/>\n           <int name=\"mpCon\" value=\"13\"/>\n-          <int name=\"prop\" value=\"58\"/>\n-          <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"280\"/>\n+          <int name=\"mobCount\" value=\"4\"/>\n         </imgdir>\n         <imgdir name=\"10\">\n           <string name=\"hs\" value=\"h10\"/>\n           <int name=\"mpCon\" value=\"13\"/>\n-          <int name=\"prop\" value=\"60\"/>\n-          <int name=\"range\" value=\"200\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"290\"/>\n+          <int name=\"mobCount\" value=\"4\"/>\n         </imgdir>\n         <imgdir name=\"11\">\n           <string name=\"hs\" value=\"h11\"/>\n           <int name=\"mpCon\" value=\"18\"/>\n-          <int name=\"prop\" value=\"62\"/>\n+          <int name=\"prop\" value=\"100\"/>\n           <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"mobCount\" value=\"4\"/>\n         </imgdir>\n         <imgdir name=\"12\">\n           <string name=\"hs\" value=\"h12\"/>\n           <int name=\"mpCon\" value=\"18\"/>\n-          <int name=\"prop\" value=\"64\"/>\n-          <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"310\"/>\n+          <int name=\"mobCount\" value=\"4\"/>\n         </imgdir>\n         <imgdir name=\"13\">\n           <string name=\"hs\" value=\"h13\"/>\n           <int name=\"mpCon\" value=\"18\"/>\n-          <int name=\"prop\" value=\"66\"/>\n-          <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"320\"/>\n+          <int name=\"mobCount\" value=\"4\"/>\n         </imgdir>\n         <imgdir name=\"14\">\n           <string name=\"hs\" value=\"h14\"/>\n           <int name=\"mpCon\" value=\"18\"/>\n-          <int name=\"prop\" value=\"68\"/>\n-          <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"330\"/>\n+          <int name=\"mobCount\" value=\"4\"/>\n         </imgdir>\n         <imgdir name=\"15\">\n           <string name=\"hs\" value=\"h15\"/>\n           <int name=\"mpCon\" value=\"18\"/>\n-          <int name=\"prop\" value=\"70\"/>\n-          <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"340\"/>\n+          <int name=\"mobCount\" value=\"5\"/>\n         </imgdir>\n         <imgdir name=\"16\">\n           <string name=\"hs\" value=\"h16\"/>\n           <int name=\"mpCon\" value=\"21\"/>\n-          <int name=\"prop\" value=\"72\"/>\n-          <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"350\"/>\n+          <int name=\"mobCount\" value=\"5\"/>\n         </imgdir>\n         <imgdir name=\"17\">\n           <string name=\"hs\" value=\"h17\"/>\n           <int name=\"mpCon\" value=\"21\"/>\n-          <int name=\"prop\" value=\"74\"/>\n-          <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"360\"/>\n+          <int name=\"mobCount\" value=\"5\"/>\n         </imgdir>\n         <imgdir name=\"18\">\n           <string name=\"hs\" value=\"h18\"/>\n           <int name=\"mpCon\" value=\"21\"/>\n-          <int name=\"prop\" value=\"76\"/>\n-          <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"370\"/>\n+          <int name=\"mobCount\" value=\"5\"/>\n         </imgdir>\n         <imgdir name=\"19\">\n           <string name=\"hs\" value=\"h19\"/>\n           <int name=\"mpCon\" value=\"21\"/>\n-          <int name=\"prop\" value=\"78\"/>\n-          <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"380\"/>\n+          <int name=\"mobCount\" value=\"5\"/>\n         </imgdir>\n         <imgdir name=\"20\">\n           <string name=\"hs\" value=\"h20\"/>\n           <int name=\"mpCon\" value=\"21\"/>\n-          <int name=\"prop\" value=\"80\"/>\n-          <int name=\"range\" value=\"300\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"390\"/>\n+          <int name=\"mobCount\" value=\"5\"/>\n         </imgdir>\n         <imgdir name=\"21\">\n           <string name=\"hs\" value=\"h21\"/>\n           <int name=\"mpCon\" value=\"26\"/>\n-          <int name=\"prop\" value=\"82\"/>\n+          <int name=\"prop\" value=\"100\"/>\n           <int name=\"range\" value=\"400\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"mobCount\" value=\"5\"/>\n         </imgdir>\n         <imgdir name=\"22\">\n           <string name=\"hs\" value=\"h22\"/>\n           <int name=\"mpCon\" value=\"26\"/>\n-          <int name=\"prop\" value=\"84\"/>\n-          <int name=\"range\" value=\"400\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"410\"/>\n           <int name=\"mobCount\" value=\"6\"/>\n         </imgdir>\n         <imgdir name=\"23\">\n           <string name=\"hs\" value=\"h23\"/>\n           <int name=\"mpCon\" value=\"26\"/>\n-          <int name=\"prop\" value=\"86\"/>\n-          <int name=\"range\" value=\"400\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"420\"/>\n           <int name=\"mobCount\" value=\"6\"/>\n         </imgdir>\n         <imgdir name=\"24\">\n           <string name=\"hs\" value=\"h24\"/>\n           <int name=\"mpCon\" value=\"26\"/>\n-          <int name=\"prop\" value=\"88\"/>\n-          <int name=\"range\" value=\"400\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"430\"/>\n           <int name=\"mobCount\" value=\"6\"/>\n         </imgdir>\n         <imgdir name=\"25\">\n           <string name=\"hs\" value=\"h25\"/>\n           <int name=\"mpCon\" value=\"26\"/>\n-          <int name=\"prop\" value=\"90\"/>\n-          <int name=\"range\" value=\"400\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"440\"/>\n           <int name=\"mobCount\" value=\"6\"/>\n         </imgdir>\n         <imgdir name=\"26\">\n           <string name=\"hs\" value=\"h26\"/>\n           <int name=\"mpCon\" value=\"25\"/>\n-          <int name=\"prop\" value=\"91\"/>\n-          <int name=\"range\" value=\"400\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"450\"/>\n           <int name=\"mobCount\" value=\"6\"/>\n         </imgdir>\n         <imgdir name=\"27\">\n           <string name=\"hs\" value=\"h27\"/>\n           <int name=\"mpCon\" value=\"24\"/>\n-          <int name=\"prop\" value=\"92\"/>\n-          <int name=\"range\" value=\"400\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"450\"/>\n           <int name=\"mobCount\" value=\"6\"/>\n         </imgdir>\n         <imgdir name=\"28\">\n           <string name=\"hs\" value=\"h28\"/>\n           <int name=\"mpCon\" value=\"23\"/>\n-          <int name=\"prop\" value=\"93\"/>\n-          <int name=\"range\" value=\"400\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"450\"/>\n           <int name=\"mobCount\" value=\"6\"/>\n         </imgdir>\n         <imgdir name=\"29\">\n           <string name=\"hs\" value=\"h29\"/>\n           <int name=\"mpCon\" value=\"22\"/>\n-          <int name=\"prop\" value=\"94\"/>\n-          <int name=\"range\" value=\"400\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"450\"/>\n+          <int name=\"mobCount\" value=\"7\"/>\n         </imgdir>\n         <imgdir name=\"30\">\n           <string name=\"hs\" value=\"h30\"/>\n           <int name=\"mpCon\" value=\"21\"/>\n-          <int name=\"prop\" value=\"95\"/>\n-          <int name=\"range\" value=\"400\"/>\n-          <int name=\"mobCount\" value=\"6\"/>\n+          <int name=\"prop\" value=\"100\"/>\n+          <int name=\"range\" value=\"450\"/>\n+          <int name=\"mobCount\" value=\"7\"/>\n         </imgdir>\n       </imgdir>\n       <imgdir name=\"effect\">"}, {"sha": "39f3c90f2c26036c60fc5292d957a20d332ecfff", "filename": "wz/String.wz/Consume.img.xml", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/wz/String.wz/Consume.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/wz/String.wz/Consume.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/String.wz/Consume.img.xml?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -1745,18 +1745,18 @@\n   </imgdir>\n   <imgdir name=\"2040306\">\n     <string name=\"name\" value=\"Dark scroll for Earring for DEX\"/>\n-    <string name=\"desc\" value=\"Improves DEX on ear accesrroy.\\nSuccess rate: 70%. DEX + 2nIf failed, the item will be destroyed at a 50% rate.\"/>\n+    <string name=\"desc\" value=\"Improves DEX on ear accessory.\\nSuccess rate: 70%. DEX + 2nIf failed, the item will be destroyed at a 50% rate.\"/>\n   </imgdir>\n   <imgdir name=\"2040307\">\n     <string name=\"name\" value=\"Dark scroll for Earring for DEX\"/>\n     <string name=\"desc\" value=\"Improves DEX on ear accessorynSuccess rate: 30%. DEX + 3nIf failed, the item will be destroyed at a 50% rate.\"/>\n   </imgdir>\n   <imgdir name=\"2040308\">\n-    <string name=\"name\" value=\"Dark Scroll for Earrings for DEF\"/>\n+    <string name=\"name\" value=\"Dark Scroll for Earring for DEF\"/>\n     <string name=\"desc\" value=\"Improves DEF on earringsnSuccess Rate 70%, weapon defense+1, magic defense+1nIf failed, the item will be destroyed at a 50% rate.\"/>\n   </imgdir>\n   <imgdir name=\"2040309\">\n-    <string name=\"name\" value=\"Dark Scroll for Earrings for DEF\"/>\n+    <string name=\"name\" value=\"Dark Scroll for Earring for DEF\"/>\n     <string name=\"desc\" value=\"Improves DEF on earringsnSuccess Rate 30%, weapon defense+3, magic defense+3, accuracy+1nIf failed, the item will be destroyed at a 50% rate.\"/>\n   </imgdir>\n   <imgdir name=\"2040310\">\n@@ -3769,11 +3769,11 @@\n   </imgdir>\n   <imgdir name=\"2070012\">\n     <string name=\"name\" value=\"Paper Fighter Plane\"/>\n-    <string name=\"desc\" value=\"A paper plane that can be thrown at things. Once they run out, they need to be recharged. Attack +20\"/>\n+    <string name=\"desc\" value=\"A paper plane that can be thrown at things. Once they run out, they need to be recharged.\\nAttack +20\"/>\n   </imgdir>\n   <imgdir name=\"2070013\">\n     <string name=\"name\" value=\"Orange\"/>\n-    <string name=\"desc\" value=\"A tasty orange that can be thrown at things. Attack + 20\"/>\n+    <string name=\"desc\" value=\"A tasty orange that can be thrown at things.\\nAttack + 20\"/>\n   </imgdir>\n   <imgdir name=\"2070015\">\n     <string name=\"name\" value=\"A Beginner Thief&apos;s Throwing Stars\"/>\n@@ -6520,11 +6520,11 @@\n     <string name=\"desc\" value=\"Improves Accuracy on Knuckles.\\nSuccess Rate:15%, Accuracy+5, DEX+3, Weapon Att+3\"/>\n   </imgdir>\n   <imgdir name=\"2044906\">\n-    <string name=\"name\" value=\"Gun ATT Scroll 65%\"/>\n+    <string name=\"name\" value=\"Scroll for Gun for ATT 65%\"/>\n     <string name=\"desc\" value=\"Improves ATT on guns.\\nSuccess Rate:65%, Weapon Att.+2, Accuracy+1\"/>\n   </imgdir>\n   <imgdir name=\"2044907\">\n-    <string name=\"name\" value=\"Gun ATT Scroll 15%\"/>\n+    <string name=\"name\" value=\"Scroll for Gun for ATT 15%\"/>\n     <string name=\"desc\" value=\"Improves ATT on guns.\\nSuccess Rate:15%, Weapon Att.+5, Accuracy+3, DEX+1\"/>\n   </imgdir>\n   <imgdir name=\"2049103\">\n@@ -7348,7 +7348,7 @@\n     <string name=\"desc\" value=\"Improves ATT on Gloves. nSuccess rate: 30%, Weapons ATT +2nIf unsuccessful, item has an 80% chance of being destroyed.\"/>\n   </imgdir>\n   <imgdir name=\"2049107\">\n-    <string name=\"name\" value=\"[6th Anniversary] Dark Scroll for Gloves for STR 70%   [\"/>\n+    <string name=\"name\" value=\"[6th Anniversary] Dark Scroll for Gloves for STR 70%\"/>\n     <string name=\"desc\" value=\"Improves STR on Gloves. nSuccess rate: 70%, Accuracy +2, STR +1nIf unsuccessful, item has a 50% chance of being destroyed.\"/>\n   </imgdir>\n   <imgdir name=\"2049108\">"}, {"sha": "17b4b2652490945464015e7bd1f6d08ab79b31a7", "filename": "wz/String.wz/Eqp.img.xml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/wz/String.wz/Eqp.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/wz/String.wz/Eqp.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/String.wz/Eqp.img.xml?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -19455,7 +19455,7 @@\n         <string name=\"h1\" value=\"#c+1 level on Brandish\\n+1 level on Blast#\"/>\n       </imgdir>\n       <imgdir name=\"1402048\">\n-        <string name=\"name\" value=\"Raven&apos;s Wing \"/>\n+        <string name=\"name\" value=\"Raven&apos;s Wing\"/>\n       </imgdir>\n       <imgdir name=\"1402049\">\n         <string name=\"name\" value=\"Night Raven&apos;s Wing\"/>"}, {"sha": "0eab03f30af957ca247907776a101dd3f5ea4290", "filename": "wz/String.wz/Skill.img.xml", "status": "modified", "additions": 90, "deletions": 90, "changes": 180, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/edb3920852c368da6f0e1e6bf589938a5820a70a/wz/String.wz/Skill.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/edb3920852c368da6f0e1e6bf589938a5820a70a/wz/String.wz/Skill.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/String.wz/Skill.img.xml?ref=edb3920852c368da6f0e1e6bf589938a5820a70a", "patch": "@@ -4853,36 +4853,36 @@\n   <imgdir name=\"1121001\">\n     <string name=\"name\" value=\"Monster Magnet\"/>\n     <string name=\"desc\" value=\"Pulls a monster from afar up close.\"/>\n-    <string name=\"h1\" value=\"MP - 10 , Range 100%, Success rate 42%\"/>\n-    <string name=\"h2\" value=\"MP - 10 , Range 100%, Success rate 44%\"/>\n-    <string name=\"h3\" value=\"MP - 10 , Range 100%, Success rate 46%\"/>\n-    <string name=\"h4\" value=\"MP - 10 , Range 100%, Success rate 48%\"/>\n-    <string name=\"h5\" value=\"MP - 10 , Range 100%, Success rate 50%\"/>\n-    <string name=\"h6\" value=\"MP - 13 , Range 100%, Success rate 52%\"/>\n-    <string name=\"h7\" value=\"MP - 13 , Range 100%, Success rate 54%\"/>\n-    <string name=\"h8\" value=\"MP - 13 , Range 100%, Success rate 56%\"/>\n-    <string name=\"h9\" value=\"MP - 13 , Range 100%, Success rate 58%\"/>\n-    <string name=\"h10\" value=\"MP - 13 , Range 100%, Success rate 60%\"/>\n-    <string name=\"h11\" value=\"MP - 18 , Range 150%, Success rate 62%\"/>\n-    <string name=\"h12\" value=\"MP - 18 , Range 150%, Success rate 64%\"/>\n-    <string name=\"h13\" value=\"MP - 18 , Range 150%, Success rate 66%\"/>\n-    <string name=\"h14\" value=\"MP - 18 , Range 150%, Success rate 68%\"/>\n-    <string name=\"h15\" value=\"MP - 18 , Range 150%, Success rate 70%\"/>\n-    <string name=\"h16\" value=\"MP - 21 , Range 150%, Success rate 72%\"/>\n-    <string name=\"h17\" value=\"MP - 21 , Range 150%, Success rate 74%\"/>\n-    <string name=\"h18\" value=\"MP - 21 , Range 150%, Success rate 76%\"/>\n-    <string name=\"h19\" value=\"MP - 21 , Range 150%, Success rate 78%\"/>\n-    <string name=\"h20\" value=\"MP - 21 , Range 150%, Success rate 80%\"/>\n-    <string name=\"h21\" value=\"MP - 26 , Range 200%, Success rate 82%\"/>\n-    <string name=\"h22\" value=\"MP - 26 , Range 200%, Success rate 84%\"/>\n-    <string name=\"h23\" value=\"MP - 26 , Range 200%, Success rate 86%\"/>\n-    <string name=\"h24\" value=\"MP - 26 , Range 200%, Success rate 88%\"/>\n-    <string name=\"h25\" value=\"MP - 26 , Range 200%, Success rate 90%\"/>\n-    <string name=\"h26\" value=\"MP - 25 , Range 200%, Success rate 91%\"/>\n-    <string name=\"h27\" value=\"MP - 24 , Range 200%, Success rate 92%\"/>\n-    <string name=\"h28\" value=\"MP - 23 , Range 200%, Success rate 93%\"/>\n-    <string name=\"h29\" value=\"MP - 22 , Range 200%, Success rate 94%\"/>\n-    <string name=\"h30\" value=\"MP - 21 , Range 200%, Success rate 95%\"/>\n+    <string name=\"h1\" value=\"MP - 10, Range 100%, pulls up to 3 enemies.\"/>\n+    <string name=\"h2\" value=\"MP - 10, Range 105%, pulls up to 3 enemies.\"/>\n+    <string name=\"h3\" value=\"MP - 10, Range 110%, pulls up to 3 enemies.\"/>\n+    <string name=\"h4\" value=\"MP - 10, Range 115%, pulls up to 3 enemies.\"/>\n+    <string name=\"h5\" value=\"MP - 10, Range 120%, pulls up to 3 enemies.\"/>\n+    <string name=\"h6\" value=\"MP - 13, Range 125%, pulls up to 3 enemies.\"/>\n+    <string name=\"h7\" value=\"MP - 13, Range 130%, pulls up to 3 enemies.\"/>\n+    <string name=\"h8\" value=\"MP - 13, Range 135%, pulls up to 4 enemies.\"/>\n+    <string name=\"h9\" value=\"MP - 13, Range 140%, pulls up to 4 enemies.\"/>\n+    <string name=\"h10\" value=\"MP - 13, Range 145%, pulls up to 4 enemies.\"/>\n+    <string name=\"h11\" value=\"MP - 18, Range 150%, pulls up to 4 enemies.\"/>\n+    <string name=\"h12\" value=\"MP - 18, Range 155%, pulls up to 4 enemies.\"/>\n+    <string name=\"h13\" value=\"MP - 18, Range 160%, pulls up to 4 enemies.\"/>\n+    <string name=\"h14\" value=\"MP - 18, Range 165%, pulls up to 4 enemies.\"/>\n+    <string name=\"h15\" value=\"MP - 18, Range 170%, pulls up to 5 enemies.\"/>\n+    <string name=\"h16\" value=\"MP - 21, Range 175%, pulls up to 5 enemies.\"/>\n+    <string name=\"h17\" value=\"MP - 21, Range 180%, pulls up to 5 enemies.\"/>\n+    <string name=\"h18\" value=\"MP - 21, Range 185%, pulls up to 5 enemies.\"/>\n+    <string name=\"h19\" value=\"MP - 21, Range 190%, pulls up to 5 enemies.\"/>\n+    <string name=\"h20\" value=\"MP - 21, Range 195%, pulls up to 5 enemies.\"/>\n+    <string name=\"h21\" value=\"MP - 26, Range 200%, pulls up to 5 enemies.\"/>\n+    <string name=\"h22\" value=\"MP - 26, Range 205%, pulls up to 6 enemies.\"/>\n+    <string name=\"h23\" value=\"MP - 26, Range 210%, pulls up to 6 enemies.\"/>\n+    <string name=\"h24\" value=\"MP - 26, Range 215%, pulls up to 6 enemies.\"/>\n+    <string name=\"h25\" value=\"MP - 26, Range 220%, pulls up to 6 enemies.\"/>\n+    <string name=\"h26\" value=\"MP - 25, Range 225%, pulls up to 6 enemies.\"/>\n+    <string name=\"h27\" value=\"MP - 24, Range 225%, pulls up to 6 enemies.\"/>\n+    <string name=\"h28\" value=\"MP - 23, Range 225%, pulls up to 6 enemies.\"/>\n+    <string name=\"h29\" value=\"MP - 22, Range 225%, pulls up to 7 enemies.\"/>\n+    <string name=\"h30\" value=\"MP - 21, Range 225%, pulls up to 7 enemies.\"/>\n   </imgdir>\n   <imgdir name=\"1121002\">\n     <string name=\"name\" value=\"Power Stance\"/>\n@@ -5171,36 +5171,36 @@\n   <imgdir name=\"1221001\">\n     <string name=\"name\" value=\"Monster Magnet\"/>\n     <string name=\"desc\" value=\"Pulls a monster from afar up close.\"/>\n-    <string name=\"h1\" value=\"MP - 10 , Range 100%, Success rate 42%\"/>\n-    <string name=\"h2\" value=\"MP - 10 , Range 100%, Success rate 44%\"/>\n-    <string name=\"h3\" value=\"MP - 10 , Range 100%, Success rate 46%\"/>\n-    <string name=\"h4\" value=\"MP - 10 , Range 100%, Success rate 48%\"/>\n-    <string name=\"h5\" value=\"MP - 10 , Range 100%, Success rate 50%\"/>\n-    <string name=\"h6\" value=\"MP - 13 , Range 100%, Success rate 52%\"/>\n-    <string name=\"h7\" value=\"MP - 13 , Range 100%, Success rate 54%\"/>\n-    <string name=\"h8\" value=\"MP - 13 , Range 100%, Success rate 56%\"/>\n-    <string name=\"h9\" value=\"MP - 13 , Range 100%, Success rate 58%\"/>\n-    <string name=\"h10\" value=\"MP - 13 , Range 100%, Success rate 60%\"/>\n-    <string name=\"h11\" value=\"MP - 18 , Range 150%, Success rate 62%\"/>\n-    <string name=\"h12\" value=\"MP - 18 , Range 150%, Success rate 64%\"/>\n-    <string name=\"h13\" value=\"MP - 18 , Range 150%, Success rate 66%\"/>\n-    <string name=\"h14\" value=\"MP - 18 , Range 150%, Success rate 68%\"/>\n-    <string name=\"h15\" value=\"MP - 18 , Range 150%, Success rate 70%\"/>\n-    <string name=\"h16\" value=\"MP - 21 , Range 150%, Success rate 72%\"/>\n-    <string name=\"h17\" value=\"MP - 21 , Range 150%, Success rate 74%\"/>\n-    <string name=\"h18\" value=\"MP - 21 , Range 150%, Success rate 76%\"/>\n-    <string name=\"h19\" value=\"MP - 21 , Range 150%, Success rate 78%\"/>\n-    <string name=\"h20\" value=\"MP - 21 , Range 150%, Success rate 80%\"/>\n-    <string name=\"h21\" value=\"MP - 26 , Range 200%, Success rate 82%\"/>\n-    <string name=\"h22\" value=\"MP - 26 , Range 200%, Success rate 84%\"/>\n-    <string name=\"h23\" value=\"MP - 26 , Range 200%, Success rate 86%\"/>\n-    <string name=\"h24\" value=\"MP - 26 , Range 200%, Success rate 88%\"/>\n-    <string name=\"h25\" value=\"MP - 26 , Range 200%, Success rate 90%\"/>\n-    <string name=\"h26\" value=\"MP - 25 , Range 200%, Success rate 91%\"/>\n-    <string name=\"h27\" value=\"MP - 24 , Range 200%, Success rate 92%\"/>\n-    <string name=\"h28\" value=\"MP - 23 , Range 200%, Success rate 93%\"/>\n-    <string name=\"h29\" value=\"MP - 22 , Range 200%, Success rate 94%\"/>\n-    <string name=\"h30\" value=\"MP - 21 , Range 200%, Success rate 95%\"/>\n+    <string name=\"h1\" value=\"MP - 10, Range 100%, pulls up to 3 enemies.\"/>\n+    <string name=\"h2\" value=\"MP - 10, Range 105%, pulls up to 3 enemies.\"/>\n+    <string name=\"h3\" value=\"MP - 10, Range 110%, pulls up to 3 enemies.\"/>\n+    <string name=\"h4\" value=\"MP - 10, Range 115%, pulls up to 3 enemies.\"/>\n+    <string name=\"h5\" value=\"MP - 10, Range 120%, pulls up to 3 enemies.\"/>\n+    <string name=\"h6\" value=\"MP - 13, Range 125%, pulls up to 3 enemies.\"/>\n+    <string name=\"h7\" value=\"MP - 13, Range 130%, pulls up to 3 enemies.\"/>\n+    <string name=\"h8\" value=\"MP - 13, Range 135%, pulls up to 4 enemies.\"/>\n+    <string name=\"h9\" value=\"MP - 13, Range 140%, pulls up to 4 enemies.\"/>\n+    <string name=\"h10\" value=\"MP - 13, Range 145%, pulls up to 4 enemies.\"/>\n+    <string name=\"h11\" value=\"MP - 18, Range 150%, pulls up to 4 enemies.\"/>\n+    <string name=\"h12\" value=\"MP - 18, Range 155%, pulls up to 4 enemies.\"/>\n+    <string name=\"h13\" value=\"MP - 18, Range 160%, pulls up to 4 enemies.\"/>\n+    <string name=\"h14\" value=\"MP - 18, Range 165%, pulls up to 4 enemies.\"/>\n+    <string name=\"h15\" value=\"MP - 18, Range 170%, pulls up to 5 enemies.\"/>\n+    <string name=\"h16\" value=\"MP - 21, Range 175%, pulls up to 5 enemies.\"/>\n+    <string name=\"h17\" value=\"MP - 21, Range 180%, pulls up to 5 enemies.\"/>\n+    <string name=\"h18\" value=\"MP - 21, Range 185%, pulls up to 5 enemies.\"/>\n+    <string name=\"h19\" value=\"MP - 21, Range 190%, pulls up to 5 enemies.\"/>\n+    <string name=\"h20\" value=\"MP - 21, Range 195%, pulls up to 5 enemies.\"/>\n+    <string name=\"h21\" value=\"MP - 26, Range 200%, pulls up to 5 enemies.\"/>\n+    <string name=\"h22\" value=\"MP - 26, Range 205%, pulls up to 6 enemies.\"/>\n+    <string name=\"h23\" value=\"MP - 26, Range 210%, pulls up to 6 enemies.\"/>\n+    <string name=\"h24\" value=\"MP - 26, Range 215%, pulls up to 6 enemies.\"/>\n+    <string name=\"h25\" value=\"MP - 26, Range 220%, pulls up to 6 enemies.\"/>\n+    <string name=\"h26\" value=\"MP - 25, Range 225%, pulls up to 6 enemies.\"/>\n+    <string name=\"h27\" value=\"MP - 24, Range 225%, pulls up to 6 enemies.\"/>\n+    <string name=\"h28\" value=\"MP - 23, Range 225%, pulls up to 6 enemies.\"/>\n+    <string name=\"h29\" value=\"MP - 22, Range 225%, pulls up to 7 enemies.\"/>\n+    <string name=\"h30\" value=\"MP - 21, Range 225%, pulls up to 7 enemies.\"/>\n   </imgdir>\n   <imgdir name=\"1221002\">\n     <string name=\"name\" value=\"Power Stance\"/>\n@@ -5517,36 +5517,36 @@\n   <imgdir name=\"1321001\">\n     <string name=\"name\" value=\"Monster Magnet\"/>\n     <string name=\"desc\" value=\"Pulls a monster from afar up close.\"/>\n-    <string name=\"h1\" value=\"MP - 10 , Range 100%, Success rate 42%\"/>\n-    <string name=\"h2\" value=\"MP - 10 , Range 100%, Success rate 44%\"/>\n-    <string name=\"h3\" value=\"MP - 10 , Range 100%, Success rate 46%\"/>\n-    <string name=\"h4\" value=\"MP - 10 , Range 100%, Success rate 48%\"/>\n-    <string name=\"h5\" value=\"MP - 10 , Range 100%, Success rate 50%\"/>\n-    <string name=\"h6\" value=\"MP - 13 , Range 100%, Success rate 52%\"/>\n-    <string name=\"h7\" value=\"MP - 13 , Range 100%, Success rate 54%\"/>\n-    <string name=\"h8\" value=\"MP - 13 , Range 100%, Success rate 56%\"/>\n-    <string name=\"h9\" value=\"MP - 13 , Range 100%, Success rate 58%\"/>\n-    <string name=\"h10\" value=\"MP - 13 , Range 100%, Success rate 60%\"/>\n-    <string name=\"h11\" value=\"MP - 18 , Range 150%, Success rate 62%\"/>\n-    <string name=\"h12\" value=\"MP - 18 , Range 150%, Success rate 64%\"/>\n-    <string name=\"h13\" value=\"MP - 18 , Range 150%, Success rate 66%\"/>\n-    <string name=\"h14\" value=\"MP - 18 , Range 150%, Success rate 68%\"/>\n-    <string name=\"h15\" value=\"MP - 18 , Range 150%, Success rate 70%\"/>\n-    <string name=\"h16\" value=\"MP - 21 , Range 150%, Success rate 72%\"/>\n-    <string name=\"h17\" value=\"MP - 21 , Range 150%, Success rate 74%\"/>\n-    <string name=\"h18\" value=\"MP - 21 , Range 150%, Success rate 76%\"/>\n-    <string name=\"h19\" value=\"MP - 21 , Range 150%, Success rate 78%\"/>\n-    <string name=\"h20\" value=\"MP - 21 , Range 150%, Success rate 80%\"/>\n-    <string name=\"h21\" value=\"MP - 26 , Range 200%, Success rate 82%\"/>\n-    <string name=\"h22\" value=\"MP - 26 , Range 200%, Success rate 84%\"/>\n-    <string name=\"h23\" value=\"MP - 26 , Range 200%, Success rate 86%\"/>\n-    <string name=\"h24\" value=\"MP - 26 , Range 200%, Success rate 88%\"/>\n-    <string name=\"h25\" value=\"MP - 26 , Range 200%, Success rate 90%\"/>\n-    <string name=\"h26\" value=\"MP - 25 , Range 200%, Success rate 91%\"/>\n-    <string name=\"h27\" value=\"MP - 24 , Range 200%, Success rate 92%\"/>\n-    <string name=\"h28\" value=\"MP - 23 , Range 200%, Success rate 93%\"/>\n-    <string name=\"h29\" value=\"MP - 22 , Range 200%, Success rate 94%\"/>\n-    <string name=\"h30\" value=\"MP - 21 , Range 200%, Success rate 95%\"/>\n+    <string name=\"h1\" value=\"MP - 10, Range 100%, pulls up to 3 enemies.\"/>\n+    <string name=\"h2\" value=\"MP - 10, Range 105%, pulls up to 3 enemies.\"/>\n+    <string name=\"h3\" value=\"MP - 10, Range 110%, pulls up to 3 enemies.\"/>\n+    <string name=\"h4\" value=\"MP - 10, Range 115%, pulls up to 3 enemies.\"/>\n+    <string name=\"h5\" value=\"MP - 10, Range 120%, pulls up to 3 enemies.\"/>\n+    <string name=\"h6\" value=\"MP - 13, Range 125%, pulls up to 3 enemies.\"/>\n+    <string name=\"h7\" value=\"MP - 13, Range 130%, pulls up to 3 enemies.\"/>\n+    <string name=\"h8\" value=\"MP - 13, Range 135%, pulls up to 4 enemies.\"/>\n+    <string name=\"h9\" value=\"MP - 13, Range 140%, pulls up to 4 enemies.\"/>\n+    <string name=\"h10\" value=\"MP - 13, Range 145%, pulls up to 4 enemies.\"/>\n+    <string name=\"h11\" value=\"MP - 18, Range 150%, pulls up to 4 enemies.\"/>\n+    <string name=\"h12\" value=\"MP - 18, Range 155%, pulls up to 4 enemies.\"/>\n+    <string name=\"h13\" value=\"MP - 18, Range 160%, pulls up to 4 enemies.\"/>\n+    <string name=\"h14\" value=\"MP - 18, Range 165%, pulls up to 4 enemies.\"/>\n+    <string name=\"h15\" value=\"MP - 18, Range 170%, pulls up to 5 enemies.\"/>\n+    <string name=\"h16\" value=\"MP - 21, Range 175%, pulls up to 5 enemies.\"/>\n+    <string name=\"h17\" value=\"MP - 21, Range 180%, pulls up to 5 enemies.\"/>\n+    <string name=\"h18\" value=\"MP - 21, Range 185%, pulls up to 5 enemies.\"/>\n+    <string name=\"h19\" value=\"MP - 21, Range 190%, pulls up to 5 enemies.\"/>\n+    <string name=\"h20\" value=\"MP - 21, Range 195%, pulls up to 5 enemies.\"/>\n+    <string name=\"h21\" value=\"MP - 26, Range 200%, pulls up to 5 enemies.\"/>\n+    <string name=\"h22\" value=\"MP - 26, Range 205%, pulls up to 6 enemies.\"/>\n+    <string name=\"h23\" value=\"MP - 26, Range 210%, pulls up to 6 enemies.\"/>\n+    <string name=\"h24\" value=\"MP - 26, Range 215%, pulls up to 6 enemies.\"/>\n+    <string name=\"h25\" value=\"MP - 26, Range 220%, pulls up to 6 enemies.\"/>\n+    <string name=\"h26\" value=\"MP - 25, Range 225%, pulls up to 6 enemies.\"/>\n+    <string name=\"h27\" value=\"MP - 24, Range 225%, pulls up to 6 enemies.\"/>\n+    <string name=\"h28\" value=\"MP - 23, Range 225%, pulls up to 6 enemies.\"/>\n+    <string name=\"h29\" value=\"MP - 22, Range 225%, pulls up to 7 enemies.\"/>\n+    <string name=\"h30\" value=\"MP - 21, Range 225%, pulls up to 7 enemies.\"/>\n   </imgdir>\n   <imgdir name=\"1321002\">\n     <string name=\"name\" value=\"Power Stance\"/>"}]}]},
