{"fetchDate": "2019-12-19", "content": [{"sha": "b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638", "node_id": "MDY6Q29tbWl0NDUwODIwMjM6YjdjMGJiNmMwN2VlZjE1NDVmMmYzZDcxYWJkM2I4M2JiY2JjYzYzOA==", "commit": {"author": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2017-07-09T23:00:31Z"}, "committer": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2017-07-09T23:00:31Z"}, "message": "Attempt on Mystic Doors\n\nPartially fixed Mystic Doors.", "tree": {"sha": "a870fefebded53a6e1c2cda0699b0769240df858", "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/trees/a870fefebded53a6e1c2cda0699b0769240df858"}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/commits/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638", "html_url": "https://github.com/ronancpl/HeavenMS/commit/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638", "comments_url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/comments", "author": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b3734cbaf79bf94aeaf01855d8879e40b17622a0", "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/b3734cbaf79bf94aeaf01855d8879e40b17622a0", "html_url": "https://github.com/ronancpl/HeavenMS/commit/b3734cbaf79bf94aeaf01855d8879e40b17622a0"}], "stats": {"total": 676, "additions": 439, "deletions": 237}, "files": [{"sha": "cbb5c840f29ee50e95f37e747591fd62b3d6bb57", "filename": "build/built-jar.properties", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/built-jar.properties", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/built-jar.properties", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/built-jar.properties?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638", "patch": "@@ -1,4 +1,4 @@\n-#Tue, 04 Jul 2017 15:35:40 -0300\n+#Sun, 09 Jul 2017 19:55:31 -0300\n \n \n C\\:\\\\Nexon\\\\MapleSolaxia\\\\MapleSolaxiaV2="}, {"sha": "6f7d5ada4c810b34b51b695c30a1cccf1e0a8165", "filename": "build/classes/client/MapleCharacter$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$1.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "19bb5cb17017f2fb0e42f2f8ae86a832df3e7d96", "filename": "build/classes/client/MapleCharacter$10.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$10.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$10.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$10.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "50331945ac21895521c2a4fb9d85886ce21e8753", "filename": "build/classes/client/MapleCharacter$11.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$11.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$11.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$11.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "f5c792b466736095d52c83e7bd9ad604f9901f0e", "filename": "build/classes/client/MapleCharacter$12.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$12.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$12.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$12.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "61acfb3c0d3a952a34b5e6c26da308b5fbaee855", "filename": "build/classes/client/MapleCharacter$13.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$13.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$13.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$13.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "825c0cffdd63f48bae6e7abed341b98f72de6e81", "filename": "build/classes/client/MapleCharacter$14.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$14.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$14.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$14.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "057b996d6f5f76e5ff39dda698eb1b1912b11cf1", "filename": "build/classes/client/MapleCharacter$15.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$15.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$15.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$15.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "ca55b3696d053185d9228d2d710aba430689e00e", "filename": "build/classes/client/MapleCharacter$16.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$16.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$16.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$16.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "39befa9c843d1dbe924b3bc405451b7f587f2e7b", "filename": "build/classes/client/MapleCharacter$17.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$17.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$17.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$17.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "33d4c63a184738ae56b67a5be5c31af6ff552131", "filename": "build/classes/client/MapleCharacter$18.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$18.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$18.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$18.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "0c47dc9b448f39290e73c04d5d1872d4aaaa4a20", "filename": "build/classes/client/MapleCharacter$19.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$19.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$19.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$19.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "99d970f250dd38715fdf9962bd8f6d809f36f5fa", "filename": "build/classes/client/MapleCharacter$8.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$8.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$8.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$8.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "3e0725f005cb9b011ad78f8300917a0e510883f2", "filename": "build/classes/client/MapleCharacter$9.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$9.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$9.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$9.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "d162d51733c3f40c3ef9ac0aa9de6d01241ca633", "filename": "build/classes/client/MapleCharacter$CancelCooldownAction.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$CancelCooldownAction.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$CancelCooldownAction.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$CancelCooldownAction.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "cc36e663a255b592b8e7a692f9fda6cdfc797765", "filename": "build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "feba4f7fcae50053e3836c1b5f80a68f899b481f", "filename": "build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "05d32cd5ee39375c99522488b7c13cffcc39af48", "filename": "build/classes/client/MapleCharacter$SkillEntry.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$SkillEntry.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter$SkillEntry.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$SkillEntry.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "4aa71e37006227083c9c673c7677f140cbd5fed7", "filename": "build/classes/client/MapleCharacter.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleCharacter.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "cc4511e13d41485354a946923803fafe222156a5", "filename": "build/classes/client/MapleClient.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleClient.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/MapleClient.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleClient.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "5c3c4f72c2bc8f8f2209137bb056ca6159338ef1", "filename": "build/classes/client/Skill.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/Skill.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/Skill.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/Skill.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "537e136f013e25f52d99c8d202a5dfd48e625e83", "filename": "build/classes/client/SkillFactory.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/SkillFactory.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/SkillFactory.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/SkillFactory.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "101db7ae1e8432d4c2864098d6a36f7f440a1933", "filename": "build/classes/client/command/Commands.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/command/Commands.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/client/command/Commands.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/command/Commands.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "54a96b1cebed8ea79861e5985f0d25d583dc2280", "filename": "build/classes/net/server/channel/handlers/DoorHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/net/server/channel/handlers/DoorHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/net/server/channel/handlers/DoorHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/DoorHandler.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "51d169d7f0c35e352576c311a56eac2876444552", "filename": "build/classes/net/server/channel/handlers/SpecialMoveHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/net/server/channel/handlers/SpecialMoveHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/net/server/channel/handlers/SpecialMoveHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/SpecialMoveHandler.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "ce21851447b979ed015e65dfcb4d7d58a86d4ceb", "filename": "build/classes/net/server/world/MaplePartyCharacter.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/net/server/world/MaplePartyCharacter.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/net/server/world/MaplePartyCharacter.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/world/MaplePartyCharacter.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "8c80cce19d61acf120ce4059bc789d645c7dd9cf", "filename": "build/classes/server/MapleStatEffect$CancelEffectAction.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/MapleStatEffect$CancelEffectAction.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/MapleStatEffect$CancelEffectAction.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleStatEffect$CancelEffectAction.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "3a6fd6b884fbacf118807be196841eb62b3655c9", "filename": "build/classes/server/MapleStatEffect.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/MapleStatEffect.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/MapleStatEffect.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleStatEffect.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "5d7bb1d02db4160a255b92d961583f9e80364b00", "filename": "build/classes/server/maps/MapleDoor$1.class", "status": "removed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b3734cbaf79bf94aeaf01855d8879e40b17622a0/build/classes/server/maps/MapleDoor$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b3734cbaf79bf94aeaf01855d8879e40b17622a0/build/classes/server/maps/MapleDoor$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleDoor$1.class?ref=b3734cbaf79bf94aeaf01855d8879e40b17622a0"}, {"sha": "7262b9beee12df617eefdb62a2b9018cbce8fff7", "filename": "build/classes/server/maps/MapleDoor.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleDoor.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleDoor.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleDoor.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "fe32842745a4934cc1a16b0786c2e64149f72416", "filename": "build/classes/server/maps/MapleDoorObject.class", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleDoorObject.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleDoorObject.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleDoorObject.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "b3be431e508999221684855d7e7ef27603b24cb0", "filename": "build/classes/server/maps/MapleMap$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$1.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "d251fe222f124514d37f532f8034dd7fc1d88e3a", "filename": "build/classes/server/maps/MapleMap$10.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$10.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$10.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$10.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "2a0372c0b9ed04d819e4612adfdefc3a5d7559a0", "filename": "build/classes/server/maps/MapleMap$11.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$11.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$11.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$11.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "dc0a1550518217a4dc925ea31e9e02d25a813760", "filename": "build/classes/server/maps/MapleMap$12.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$12.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$12.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$12.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "7b5eadde8e131e04a59905dc524234b6de67ccca", "filename": "build/classes/server/maps/MapleMap$13.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$13.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$13.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$13.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "e81da6d13aff77fc79a3f6872902d7f6679a91f7", "filename": "build/classes/server/maps/MapleMap$14.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$14.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$14.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$14.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "2087ecba5d2e6ad3c869d6f9d9d806005c546e57", "filename": "build/classes/server/maps/MapleMap$15.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$15.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$15.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$15.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "3028e375bd3c8d4efd2041ffe65aaf91c13e12a4", "filename": "build/classes/server/maps/MapleMap$16.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$16.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$16.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$16.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "171f3ea01330cbf0466af719680392278b32f790", "filename": "build/classes/server/maps/MapleMap$17.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$17.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$17.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$17.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "5ce355d0e047c00a6904e672fa145c03ad6df4af", "filename": "build/classes/server/maps/MapleMap$18.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$18.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$18.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$18.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "cc7a355546dc2b8307683d410617fdf2f7537030", "filename": "build/classes/server/maps/MapleMap$19.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$19.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$19.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$19.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "2bb15b08b37f590e94b39ba44f20d5d2ed0aa4cf", "filename": "build/classes/server/maps/MapleMap$2.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$2.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$2.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$2.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "92fee7a43e9eca0cc46ef45e1c64cd9be6c14f56", "filename": "build/classes/server/maps/MapleMap$20.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$20.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$20.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$20.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "e93a8c213fa016c6e9293706bb4775286fd433f4", "filename": "build/classes/server/maps/MapleMap$21.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$21.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$21.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$21.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "5b4e66db9744e239af36d3f381d852a208830ace", "filename": "build/classes/server/maps/MapleMap$22.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$22.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$22.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$22.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "842afaf3857b7188b04c7a3a2bf22487e2ad4201", "filename": "build/classes/server/maps/MapleMap$23.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$23.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$23.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$23.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "e6176f5952c88224a959444602d4f10d873434f0", "filename": "build/classes/server/maps/MapleMap$24.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$24.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$24.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$24.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "6725bfea41d1486fc333e7fa21f008c847bdc97c", "filename": "build/classes/server/maps/MapleMap$25.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$25.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$25.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$25.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "893481b7ca39f18b3637e9966cf7a6651469656b", "filename": "build/classes/server/maps/MapleMap$26.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$26.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$26.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$26.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "c8e42addd99c4b604b42b42fe6d99c98bf69cca7", "filename": "build/classes/server/maps/MapleMap$27.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$27.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$27.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$27.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "0478f7075002871d40f087792bc6b04b06342dd2", "filename": "build/classes/server/maps/MapleMap$28$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$28$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$28$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$28$1.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "aa3c6333bce44f56e3661e84f04671e6afb8f742", "filename": "build/classes/server/maps/MapleMap$28.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$28.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$28.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$28.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "3ab3b062a02ef427602ee30ebe071cb1317e8a4a", "filename": "build/classes/server/maps/MapleMap$29.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$29.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$29.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$29.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "d2ae56718d6126513981791f61636b8b44373bce", "filename": "build/classes/server/maps/MapleMap$3.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$3.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$3.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$3.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "150079b3fe101dff13cee886917fd93478e0d3e5", "filename": "build/classes/server/maps/MapleMap$4.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$4.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$4.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$4.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "404bc653198bfee0d877aa43fd2429f76699a36f", "filename": "build/classes/server/maps/MapleMap$5.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$5.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$5.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$5.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "e5375ea2de3f003fb421e3dd2116b2c8167a20ba", "filename": "build/classes/server/maps/MapleMap$6.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$6.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$6.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$6.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "94362c7f461d6bc55d3638b0606f78ef58174012", "filename": "build/classes/server/maps/MapleMap$7.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$7.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$7.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$7.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "c8e670d5976810b3a23d3c273a7cc4b6d6e73a9b", "filename": "build/classes/server/maps/MapleMap$8.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$8.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$8.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$8.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "f72bae4cd62ab2d371a524328604831a11836287", "filename": "build/classes/server/maps/MapleMap$9.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$9.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$9.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$9.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "8075fed244f994f44eeaa3967efdddce35a5fe40", "filename": "build/classes/server/maps/MapleMap$ActivateItemReactor$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$ActivateItemReactor$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$ActivateItemReactor$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$ActivateItemReactor$1.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "02abf2362e0f72a78e74dd14c124799399f33a77", "filename": "build/classes/server/maps/MapleMap$ActivateItemReactor.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$ActivateItemReactor.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$ActivateItemReactor.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$ActivateItemReactor.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "843eee128a1500688606cfd81a8cf685767ea382", "filename": "build/classes/server/maps/MapleMap$ExpireMapItemJob.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$ExpireMapItemJob.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap$ExpireMapItemJob.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$ExpireMapItemJob.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "476314f42153589e6579b85c239c21b8edc16e6b", "filename": "build/classes/server/maps/MapleMap.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/server/maps/MapleMap.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "44a9b4e814d3131bba5f9d9746c6187204c61c80", "filename": "build/classes/tools/MaplePacketCreator$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/tools/MaplePacketCreator$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/tools/MaplePacketCreator$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/tools/MaplePacketCreator$1.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "a754608829dd0fd5b684ee4113e88fe5d564e63b", "filename": "build/classes/tools/MaplePacketCreator$2.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/tools/MaplePacketCreator$2.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/tools/MaplePacketCreator$2.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/tools/MaplePacketCreator$2.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "b7551b72ce591b95fd5550d372e778acc87539f8", "filename": "build/classes/tools/MaplePacketCreator.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/tools/MaplePacketCreator.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/build/classes/tools/MaplePacketCreator.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/tools/MaplePacketCreator.class?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "2541c6a5fbc801ce546befd4455e53505ed41de4", "filename": "dist/MapleSolaxia.jar", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/dist/MapleSolaxia.jar", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/dist/MapleSolaxia.jar", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/dist/MapleSolaxia.jar?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638"}, {"sha": "e332c7ab8f98484dd02d37d05f2149db1e6cba1a", "filename": "nbproject/private/private.xml", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/nbproject/private/private.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/nbproject/private/private.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/nbproject/private/private.xml?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638", "patch": "@@ -4,9 +4,15 @@\n     <open-files xmlns=\"http://www.netbeans.org/ns/projectui-open-files/2\">\n         <group>\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/SendOpcode.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/maps/MapleMapObjectType.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/maps/MapleSummon.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/channel/handlers/DamageSummonHandler.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/maps/MapleDoor.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/MapleStatEffect.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/world/MaplePartyCharacter.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/channel/handlers/DoorHandler.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/MapleBuffStat.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/maps/MapleMap.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/maps/MapleDoorObject.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/MapleCharacter.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/MapleClient.java</file>\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/tools/MaplePacketCreator.java</file>\n         </group>\n     </open-files>"}, {"sha": "aa9f0c6cec2f5e0220e900f6c3a5e8ff03ad3e9c", "filename": "src/client/MapleCharacter.java", "status": "modified", "additions": 58, "deletions": 54, "changes": 112, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/src/client/MapleCharacter.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/src/client/MapleCharacter.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleCharacter.java?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638", "patch": "@@ -250,7 +250,7 @@\n     private Map<Integer, MapleSummon> summons = new LinkedHashMap<>();\n     private Map<Integer, MapleCoolDownValueHolder> coolDowns = new LinkedHashMap<>(50);\n     private EnumMap<MapleDisease, DiseaseValueHolder> diseases = new EnumMap<>(MapleDisease.class);\n-    private List<MapleDoor> doors = new ArrayList<>();\n+    private Map<Integer, MapleDoor> doors = new LinkedHashMap<>();\n     private ScheduledFuture<?> dragonBloodSchedule;\n     private ScheduledFuture<?> mapTimeLimitTask = null;\n     private ScheduledFuture<?>[] fullnessSchedule = new ScheduledFuture<?>[3];\n@@ -462,8 +462,12 @@ public int addDojoPointsByMap() {\n         return pts;\n     }\n \n-    public void addDoor(MapleDoor door) {\n-        doors.add(door);\n+    public void addDoor(Integer owner, MapleDoor door) {\n+        doors.put(owner, door);\n+    }\n+    \n+    public void removeDoor(Integer owner) {\n+        doors.remove(owner);\n     }\n \n     public void addExcluded(int x) {\n@@ -656,40 +660,38 @@ public static boolean ban(String id, String reason, boolean accountId) {\n \n     public int calculateMaxBaseDamage(int watk) {\n         int maxbasedamage;\n-\t\tItem weapon_item = getInventory(MapleInventoryType.EQUIPPED).getItem((short) -11);\n-\t\tif (weapon_item != null) {\n-\t\t\tMapleWeaponType weapon = MapleItemInformationProvider.getInstance().getWeaponType(weapon_item.getItemId());\n-\t\t\tint mainstat;\n-\t\t\tint secondarystat;\n-\t\t\tif (getJob().isA(MapleJob.THIEF) && weapon == MapleWeaponType.DAGGER_OTHER) {\n-\t\t\t\tweapon = MapleWeaponType.DAGGER_THIEVES;\n-\t\t\t}\n-\n-\t\t\tif (weapon == MapleWeaponType.BOW || weapon == MapleWeaponType.CROSSBOW || weapon == MapleWeaponType.GUN) {\n-\t\t\t\tmainstat = localdex;\n-\t\t\t\tsecondarystat = localstr;\n-\t\t\t} else if (weapon == MapleWeaponType.CLAW || weapon == MapleWeaponType.DAGGER_THIEVES) {\n-\t\t\t\tmainstat = localluk;\n-\t\t\t\tsecondarystat = localdex + localstr;\n-\t\t\t} else {\n-\t\t\t\tmainstat = localstr;\n-\t\t\t\tsecondarystat = localdex;\n-\t\t\t}\n-\t\t\tmaxbasedamage = (int) (((weapon.getMaxDamageMultiplier() * mainstat + secondarystat) / 100.0) * watk);\n-\t\t} else {\n+        Item weapon_item = getInventory(MapleInventoryType.EQUIPPED).getItem((short) -11);\n+        if (weapon_item != null) {\n+            MapleWeaponType weapon = MapleItemInformationProvider.getInstance().getWeaponType(weapon_item.getItemId());\n+            int mainstat, secondarystat;\n+            if (getJob().isA(MapleJob.THIEF) && weapon == MapleWeaponType.DAGGER_OTHER) {\n+                weapon = MapleWeaponType.DAGGER_THIEVES;\n+            }\n+\n+            if (weapon == MapleWeaponType.BOW || weapon == MapleWeaponType.CROSSBOW || weapon == MapleWeaponType.GUN) {\n+                mainstat = localdex;\n+                secondarystat = localstr;\n+            } else if (weapon == MapleWeaponType.CLAW || weapon == MapleWeaponType.DAGGER_THIEVES) {\n+                mainstat = localluk;\n+                secondarystat = localdex + localstr;\n+            } else {\n+                mainstat = localstr;\n+                secondarystat = localdex;\n+            }\n+            maxbasedamage = (int) (((weapon.getMaxDamageMultiplier() * mainstat + secondarystat) / 100.0) * watk);\n+        } else {\n             if (job.isA(MapleJob.PIRATE) || job.isA(MapleJob.THUNDERBREAKER1)) {\n-\t\t\t\tdouble weapMulti = 3;\n+                double weapMulti = 3;\n                 if (job.getId() % 100 != 0) {\n-\t\t\t\t\tweapMulti = 4.2;\n+                    weapMulti = 4.2;\n                 }\n \n-\t\t\t\tint attack = (int) Math.min(Math.floor((2 * getLevel() + 31) / 3), 31);\n-\n-\t\t\t\tmaxbasedamage = (int) (localstr * weapMulti + localdex) * attack / 100;\n-\t\t\t} else {\n-\t\t\t\tmaxbasedamage = 1;\n-\t\t\t}\n-\t\t}\n+                int attack = (int) Math.min(Math.floor((2 * getLevel() + 31) / 3), 31);\n+                maxbasedamage = (int) (localstr * weapMulti + localdex) * attack / 100;\n+            } else {\n+                maxbasedamage = 1;\n+            }\n+        }\n         return maxbasedamage;\n     }\n \n@@ -811,31 +813,33 @@ private void cancelEffect(MapleStatEffect effect, boolean overwrite, long startT\n                 buffstats.add(statup.getLeft());\n             }\n         }\n-        List<MapleBuffStatValueHolder> toCancel = deregisterBuffStats(buffstats);\n         if (effect.isMagicDoor()) {\n-            if (!getDoors().isEmpty()) {\n-                MapleDoor door = getDoors().iterator().next();\n-                for (MapleCharacter chr : door.getTarget().getCharacters()) {\n-                    door.sendDestroyData(chr.client);\n-                }\n-                for (MapleCharacter chr : door.getTown().getCharacters()) {\n-                    door.sendDestroyData(chr.client);\n+            MapleDoor destroyDoor = doors.remove(this.getId());\n+            \n+            if (destroyDoor != null) {\n+                destroyDoor.freeAllocatedPortal();\n+                \n+                destroyDoor.getTarget().removeMapObject(destroyDoor.getAreaDoor());\n+                destroyDoor.getTown().removeMapObject(destroyDoor.getTownDoor());\n+                \n+                for (MapleCharacter chr : destroyDoor.getTarget().getCharacters()) {\n+                    destroyDoor.getAreaDoor().sendDestroyData(chr.getClient());\n                 }\n-                for (MapleDoor destroyDoor : getDoors()) {\n-                    door.getTarget().removeMapObject(destroyDoor);\n-                    door.getTown().removeMapObject(destroyDoor);\n+                for (MapleCharacter chr : destroyDoor.getTown().getCharacters()) {\n+                    destroyDoor.getTownDoor().sendDestroyData(chr.getClient());\n                 }\n+\n                 if (party != null) {\n                     for (MaplePartyCharacter partyMembers : getParty().getMembers()) {\n-                        partyMembers.getPlayer().getDoors().remove(door);\n-                        partyMembers.getDoors().remove(door);\n+                        partyMembers.getPlayer().removeDoor(this.getId());\n+                        partyMembers.removeDoor(this.getId());\n                     }\n                     silentPartyUpdate();\n-                } else {\n-                    clearDoors();\n                 }\n             }\n         }\n+        \n+        List<MapleBuffStatValueHolder> toCancel = deregisterBuffStats(buffstats);\n         if (effect.getSourceId() == Spearman.HYPER_BODY || effect.getSourceId() == GM.HYPER_BODY || effect.getSourceId() == SuperGM.HYPER_BODY) {\n             List<Pair<MapleStat, Integer>> statup = new ArrayList<>(4);\n             statup.add(new Pair<>(MapleStat.HP, Math.min(hp, maxhp)));\n@@ -1335,10 +1339,6 @@ public void checkMonsterAggro(MapleMonster monster) {\n         }\n     }\n \n-    public void clearDoors() {\n-        doors.clear();\n-    }\n-\n     public void clearSavedLocation(SavedLocationType type) {\n         savedLocations[type.ordinal()] = null;\n     }\n@@ -2412,8 +2412,8 @@ public int getDojoStage() {\n         return dojoStage;\n     }\n \n-    public List<MapleDoor> getDoors() {\n-        return new ArrayList<>(doors);\n+    public Map<Integer, MapleDoor> getDoors() {\n+        return Collections.unmodifiableMap(doors);\n     }\n \n     public int getEnergyBar() {\n@@ -3870,6 +3870,10 @@ public void dispelBuffCoupons() {\n             }\n         }\n     }\n+    \n+    public Set<Integer> getActiveCoupons() {\n+        return Collections.unmodifiableSet(activeCoupons.keySet());\n+    }\n \n     public static MapleCharacter loadCharFromDB(int charid, MapleClient client, boolean channelserver) throws SQLException {\n         try {"}, {"sha": "74fde4ba5d28004dfabc284c8655fbe697c64faf", "filename": "src/client/MapleClient.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/src/client/MapleClient.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/src/client/MapleClient.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleClient.java?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638", "patch": "@@ -1196,8 +1196,8 @@ public void changeChannel(int channel) {\n \t\t}\n \t\tserver.getPlayerBuffStorage().addBuffsToStorage(player.getId(), player.getAllBuffs());\n \t\tplayer.cancelBuffEffects();\n-\t\tplayer.cancelMagicDoor();\n-\t\t//Canceling mounts? Noty\n+\t\t//Cancelling magicdoor? Nope\n+\t\t//Cancelling mounts? Noty\n \t\tif (player.getBuffedValue(MapleBuffStat.PUPPET) != null) {\n \t\t\tplayer.cancelEffectFromBuffStat(MapleBuffStat.PUPPET);\n \t\t}"}, {"sha": "36643f8d9859c091568fa37e27404c3bc9086378", "filename": "src/client/Skill.java", "status": "modified", "additions": 26, "deletions": 6, "changes": 32, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/src/client/Skill.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/src/client/Skill.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/Skill.java?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638", "patch": "@@ -27,12 +27,12 @@\n import server.life.Element;\n \n public class Skill {\n-    public int id;\n-    public List<MapleStatEffect> effects = new ArrayList<>();\n-    public Element element;\n-    public int animationTime;\n-    public int job;\n-    public boolean action;\n+    private int id;\n+    private List<MapleStatEffect> effects = new ArrayList<>();\n+    private Element element;\n+    private int animationTime;\n+    private int job;\n+    private boolean action;\n \n     public Skill(int id) {\n         this.id = id;\n@@ -61,19 +61,39 @@ public boolean isFourthJob() {\n     \treturn job % 10 == 2;\n     }\n \n+    public void setElement(Element elem) {\n+        element = elem;\n+    }\n+    \n     public Element getElement() {\n         return element;\n     }\n \n     public int getAnimationTime() {\n         return animationTime;\n     }\n+    \n+    public void setAnimationTime(int time) {\n+        animationTime = time;\n+    }\n+    \n+    public void incAnimationTime(int time) {\n+        animationTime += time;\n+    }\n \n     public boolean isBeginnerSkill() {\n         return id % 10000000 < 10000;\n     }\n+    \n+    public void setAction(boolean act) {\n+        action = act;\n+    }\n \n     public boolean getAction() {\n         return action;\n     }\n+    \n+    public void addLevelEffect(MapleStatEffect effect) {\n+        effects.add(effect);\n+    }\n }\n\\ No newline at end of file"}, {"sha": "38f43f1c488dacd6a160c1bf88b3b98f9b172cc9", "filename": "src/client/SkillFactory.java", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/src/client/SkillFactory.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/src/client/SkillFactory.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/SkillFactory.java?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638", "patch": "@@ -74,7 +74,9 @@\n import constants.skills.WindArcher;\n \n import java.io.File;\n+import java.util.ArrayList;\n import java.util.HashMap;\n+import java.util.List;\n import java.util.Map;\n \n import provider.MapleData;\n@@ -122,9 +124,9 @@ private static Skill loadFromData(int id, MapleData data) {\n         int skillType = MapleDataTool.getInt(\"skillType\", data, -1);\n         String elem = MapleDataTool.getString(\"elemAttr\", data, null);\n         if (elem != null) {\n-            ret.element = Element.getFromChar(elem.charAt(0));\n+            ret.setElement(Element.getFromChar(elem.charAt(0)));\n         } else {\n-            ret.element = Element.NEUTRAL;\n+            ret.setElement(Element.NEUTRAL);\n         }\n         MapleData effect = data.getChildByPath(\"effect\");\n         if (skillType != -1) {\n@@ -148,7 +150,7 @@ private static Skill loadFromData(int id, MapleData data) {\n \t    } else {\n \t    \taction = true;\n \t    }\n-\t    ret.action = action;\n+\t    ret.setAction(action);\n             MapleData hit = data.getChildByPath(\"hit\");\n             MapleData ball = data.getChildByPath(\"ball\");\n             isBuff = effect != null && hit == null && ball == null;\n@@ -371,12 +373,12 @@ private static Skill loadFromData(int id, MapleData data) {\n         }\n \n         for (MapleData level : data.getChildByPath(\"level\")) {\n-            ret.effects.add(MapleStatEffect.loadSkillEffectFromData(level, id, isBuff));\n+            ret.addLevelEffect(MapleStatEffect.loadSkillEffectFromData(level, id, isBuff));\n         }\n-        ret.animationTime = 0;\n+        ret.setAnimationTime(0);\n         if (effect != null) {\n             for (MapleData effectEntry : effect) {\n-                ret.animationTime += MapleDataTool.getIntConvert(\"delay\", effectEntry, 0);\n+                ret.incAnimationTime(MapleDataTool.getIntConvert(\"delay\", effectEntry, 0));\n             }\n         }\n         return ret;"}, {"sha": "e472f4d1ab0d62b3d7fc075ace724a287fc57ff4", "filename": "src/client/command/Commands.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/src/client/command/Commands.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/src/client/command/Commands.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/Commands.java?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638", "patch": "@@ -709,7 +709,7 @@ public static boolean executePlayerCommand(MapleClient c, String[] sub, char hea\n                     \n                 case \"debugmap\":\n                         if(ServerConstants.USE_DEBUG) {\n-                            player.dropMessage(6, \"Current map id \" + player.getMap().getId() + \", event: '\" + ((player.getMap().getEventInstance() != null) ? player.getMap().getEventInstance().getName() : \"null\") + \"'; Players: \" + player.getMap().getAllPlayers().size() + \", Mobs: \" + player.getMap().countMonsters() + \", Reactors: \" + player.getMap().countReactors() + \", Items: \" + player.getMap().countItems() + \".\");\n+                            player.dropMessage(6, \"Current map id \" + player.getMap().getId() + \", event: '\" + ((player.getMap().getEventInstance() != null) ? player.getMap().getEventInstance().getName() : \"null\") + \"'; Players: \" + player.getMap().getAllPlayers().size() + \", Mobs: \" + player.getMap().countMonsters() + \", Reactors: \" + player.getMap().countReactors() + \", Items: \" + player.getMap().countItems() + \", Objects: \" + player.getMap().getMapObjects().size() + \".\");\n                         }\n                         break;\n                     \n@@ -764,7 +764,7 @@ public static boolean executePlayerCommand(MapleClient c, String[] sub, char hea\n                 case \"debugplayercoupons\":\n                         if(ServerConstants.USE_DEBUG) {\n                             String s = \"Currently active PLAYER coupons: \";\n-                            for(Integer i : Server.getInstance().getActiveCoupons()) {\n+                            for(Integer i : player.getActiveCoupons()) {\n                                 s += (i + \" \");\n                             }\n                             "}, {"sha": "7de6e0cae129972d45392f05fc22ae43f541aae4", "filename": "src/net/server/channel/handlers/DoorHandler.java", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/src/net/server/channel/handlers/DoorHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/src/net/server/channel/handlers/DoorHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/DoorHandler.java?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638", "patch": "@@ -23,22 +23,22 @@\n \n import client.MapleClient;\n import net.AbstractMaplePacketHandler;\n-import server.maps.MapleDoor;\n+import server.maps.MapleDoorObject;\n import server.maps.MapleMapObject;\n import tools.data.input.SeekableLittleEndianAccessor;\n \n /**\n  *\n- * @author Matze\n+ * @author Matze, Ronan\n  */\n public final class DoorHandler extends AbstractMaplePacketHandler {\n     public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n-        int oid = slea.readInt();\n+        int ownerid = slea.readInt();\n         boolean mode = (slea.readByte() == 0); // specifies if backwarp or not, 1 town to target, 0 target to town\n         for (MapleMapObject obj : c.getPlayer().getMap().getMapObjects()) {\n-            if (obj instanceof MapleDoor) {\n-                MapleDoor door = (MapleDoor) obj;\n-                if (door.getOwner().getId() == oid) {\n+            if (obj instanceof MapleDoorObject) {\n+                MapleDoorObject door = (MapleDoorObject) obj;\n+                if (door.getOwnerId() == ownerid) {\n                     door.warp(c.getPlayer(), mode);\n                     return;\n                 }"}, {"sha": "cffc4f6e8372637440daa21fa2bcac062ac2d0bd", "filename": "src/net/server/channel/handlers/SpecialMoveHandler.java", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/src/net/server/channel/handlers/SpecialMoveHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/src/net/server/channel/handlers/SpecialMoveHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/SpecialMoveHandler.java?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638", "patch": "@@ -116,12 +116,12 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n         if (slea.available() == 5) {\n             pos = new Point(slea.readShort(), slea.readShort());\n         }\n-        if (skill.getId() == Priest.MYSTIC_DOOR && !chr.isGM()) {\n-        \tc.announce(MaplePacketCreator.enableActions());\n-        \treturn;\n-        }\n         if (chr.isAlive()) {\n-            if (skill.getId() != Priest.MYSTIC_DOOR || chr.canDoor()) {\n+            if (skill.getId() != Priest.MYSTIC_DOOR) {\n+                skill.getEffect(skillLevel).applyTo(c.getPlayer(), pos);\n+            } else if(chr.canDoor()) {\n+                //update door lists\n+                chr.cancelMagicDoor();\n                 skill.getEffect(skillLevel).applyTo(c.getPlayer(), pos);\n             } else {\n                 chr.message(\"Please wait 5 seconds before casting Mystic Door again.\");"}, {"sha": "b944e9e95b6be0640c3543d1d37149513022ae03", "filename": "src/net/server/world/MaplePartyCharacter.java", "status": "modified", "additions": 15, "deletions": 7, "changes": 22, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/src/net/server/world/MaplePartyCharacter.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/src/net/server/world/MaplePartyCharacter.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/world/MaplePartyCharacter.java?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638", "patch": "@@ -21,12 +21,16 @@\n */\n package net.server.world;\n \n-import java.util.ArrayList;\n+import java.util.Map;\n+import java.util.Map.Entry;\n+import java.util.LinkedHashMap;\n import java.util.Collection;\n \n import server.maps.MapleDoor;\n+import server.MapleStatEffect;\n import client.MapleCharacter;\n import client.MapleJob;\n+import java.util.Collections;\n \n public class MaplePartyCharacter {\n     private String name;\n@@ -35,7 +39,7 @@\n     private int channel, world;\n     private int jobid;\n     private int mapid;\n-\tprivate ArrayList<MapleDoor> door = new ArrayList<MapleDoor>();\n+    private Map<Integer, MapleDoor> doors = new LinkedHashMap<>();\n     private boolean online;\n     private MapleJob job;\n     private MapleCharacter character;\n@@ -51,8 +55,8 @@ public MaplePartyCharacter(MapleCharacter maplechar) {\n         this.mapid = maplechar.getMapId();\n         this.online = true;\n         this.job = maplechar.getJob();\n-        for (MapleDoor doors : maplechar.getDoors()) {\n-        \tthis.door.add(doors);\n+        for (Entry<Integer, MapleDoor> entry : maplechar.getDoors().entrySet()) {\n+            doors.put(entry.getKey(), entry.getValue());\n         }\n     }\n \n@@ -116,12 +120,16 @@ public int getGuildId() {\n         return character.getGuildId();\n     }\n \n-    public void updateDoor(MapleDoor door) {\n-    \tthis.door.add(door);\n+    public void addDoor(Integer owner, MapleDoor door) {\n+    \tthis.doors.put(owner, door);\n+    }\n+    \n+    public void removeDoor(Integer owner) {\n+    \tthis.doors.remove(owner);\n     }\n     \n     public Collection<MapleDoor> getDoors() {\n-    \treturn door;\n+    \treturn Collections.unmodifiableCollection(doors.values());\n     }\n     \n     @Override"}, {"sha": "4250ce9fb0d55cf99d6774dc22318eda322b8bb1", "filename": "src/server/MapleStatEffect.java", "status": "modified", "additions": 27, "deletions": 26, "changes": 53, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/src/server/MapleStatEffect.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/src/server/MapleStatEffect.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/MapleStatEffect.java?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638", "patch": "@@ -839,33 +839,30 @@ private boolean applyTo(MapleCharacter applyfrom, MapleCharacter applyto, boolea\n             }\n         }\n         if (isMagicDoor() && !FieldLimit.DOOR.check(applyto.getMap().getFieldLimit())) { // Magic Door\n-        \tint y = applyto.getFh();\n-        \tif (y == 0) {\n-        \t\ty = applyto.getPosition().y;\n-        \t}\n+            int y = applyto.getFh();\n+            if (y == 0) {\n+                    y = applyto.getPosition().y;\n+            }\n             Point doorPosition = new Point(applyto.getPosition().x, y);\n-            MapleDoor door = new MapleDoor(applyto, doorPosition);                     \n-            if (applyto.getParty() != null) {// out of town door\n-                for (MaplePartyCharacter partyMembers : applyto.getParty().getMembers()) {\n-                \tpartyMembers.getPlayer().addDoor(door);\n-                \tpartyMembers.updateDoor(door);\n-                }\n-                applyto.silentPartyUpdate();\n-            } else {\n-            \tapplyto.addDoor(door);\n-            }   \n-            applyto.getMap().spawnDoor(door);\n-            door = new MapleDoor(door); //The town door\n-            if (applyto.getParty() != null) {// update town doors\n-                for (MaplePartyCharacter partyMembers : applyto.getParty().getMembers()) {\n-                \tpartyMembers.getPlayer().addDoor(door);\n-                \tpartyMembers.updateDoor(door);\n+            MapleDoor door = new MapleDoor(applyto, doorPosition);\n+            \n+            if(door.getOwnerId() != -1) {\n+                if (applyto.getParty() != null) {\n+                    for (MaplePartyCharacter partyMember : applyto.getParty().getMembers()) {\n+                        partyMember.getPlayer().addDoor(door.getOwnerId(), door);\n+                        partyMember.addDoor(door.getOwnerId(), door);\n+                    }\n+                    applyto.silentPartyUpdate();\n+                } else {\n+                    applyto.addDoor(door.getOwnerId(), door);\n                 }\n-                applyto.silentPartyUpdate();\n+\n+                door.getTarget().spawnDoor(door.getAreaDoor());\n+                door.getTown().spawnDoor(door.getTownDoor());\n             } else {\n-            \tapplyto.addDoor(door);\n-            }   \n-            door.getTown().spawnDoor(door);\n+                applyto.dropMessage(5, \"There are no door portals available for the town at this moment. Try again later.\");\n+                applyto.cancelBuffStats(MapleBuffStat.SOULARROW);  // cancel door buff\n+            }\n             applyto.disableDoor();\n         }  else if (isMist()) {\n             Rectangle bounds = calculateBoundingBox(sourceid == NightWalker.POISON_BOMB ? pos : applyfrom.getPosition(), applyfrom.isFacingLeft());\n@@ -966,7 +963,7 @@ public final void applyComboBuff(final MapleCharacter applyto, int combo) {\n     }\n \n     private void applyBuffEffect(MapleCharacter applyfrom, MapleCharacter applyto, boolean primary) {\n-        if (!isMonsterRiding() && !isCouponBuff()) {\n+        if (!isMonsterRiding() && !isCouponBuff() && !isMysticDoor()) {     // last mystic door already dispelled if it has been used before.\n             applyto.cancelEffect(this, true, -1);\n         }\n \n@@ -1295,6 +1292,10 @@ private boolean isCouponBuff() {\n         return MapleItemInformationProvider.getInstance().isRateCoupon(sourceid);\n     }\n     \n+    private boolean isMysticDoor() {\n+        return skill && sourceid == Priest.MYSTIC_DOOR;\n+    }\n+    \n     public boolean isMonsterRiding() {\n         return skill && (sourceid % 10000000 == 1004 || sourceid == Corsair.BATTLE_SHIP || sourceid == Beginner.SPACESHIP || sourceid == Noblesse.SPACESHIP\n                 || sourceid == Beginner.YETI_MOUNT1 || sourceid == Beginner.YETI_MOUNT2 || sourceid == Beginner.WITCH_BROOMSTICK || sourceid == Beginner.BALROG_MOUNT\n@@ -1432,7 +1433,7 @@ private SummonMovementType getSummonMovementType() {\n     \n     public boolean hasNoIcon() {\n         return (sourceid == 3111002 || sourceid == 3211002 || + // puppet, puppet\n-                sourceid == 3211005 || sourceid == 2311002 || + // golden eagle, mystic door\n+                sourceid == 3211005 || +                        // golden eagle\n                 sourceid == 2121005 || sourceid == 2221005 || + // elquines, ifrit\n                 sourceid == 2321003 || sourceid == 3121006 || + // bahamut, phoenix\n                 sourceid == 3221005 || sourceid == 3111005 || + // frostprey, silver hawk"}, {"sha": "5d7b86c917edbbb1640d2ffd6bfe72d53e3df115", "filename": "src/server/maps/MapleDoor.java", "status": "modified", "additions": 45, "deletions": 94, "changes": 139, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/src/server/maps/MapleDoor.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/src/server/maps/MapleDoor.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/MapleDoor.java?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638", "patch": "@@ -22,117 +22,77 @@\n package server.maps;\n \n import java.awt.Point;\n-import java.util.ArrayList;\n import java.util.Collections;\n-import java.util.Comparator;\n import java.util.List;\n \n import server.MaplePortal;\n-import tools.MaplePacketCreator;\n import client.MapleCharacter;\n-import client.MapleClient;\n \n /**\n  *\n- * @author Matze\n+ * @author Matze, Ronan\n  */\n-public class MapleDoor extends AbstractMapleMapObject {\n-    private MapleCharacter owner;\n+public class MapleDoor {\n+    private int ownerId;\n     private MapleMap town;\n     private MaplePortal townPortal;\n     private MapleMap target;\n-    private Point targetPosition;\n+    \n+    private MapleDoorObject townDoor;\n+    private MapleDoorObject areaDoor;\n \n     public MapleDoor(MapleCharacter owner, Point targetPosition) {\n-        super();\n-        this.owner = owner;\n+        this.ownerId = owner.getId();\n         this.target = owner.getMap();\n-        this.targetPosition = targetPosition;\n-        setPosition(this.targetPosition);\n+        \n         this.town = this.target.getReturnMap();\n-        this.townPortal = getFreePortal();\n-    }\n-\n-    public MapleDoor(MapleDoor origDoor) {\n-        super();\n-        this.owner = origDoor.owner;\n-        this.town = origDoor.town;\n-        this.townPortal = origDoor.townPortal;\n-        this.target = origDoor.target;\n-        this.targetPosition = origDoor.targetPosition;\n-        this.townPortal = origDoor.townPortal;\n-        setPosition(this.townPortal.getPosition());\n-    }\n-\n-    private MaplePortal getFreePortal() {\n-        List<MaplePortal> freePortals = new ArrayList<MaplePortal>();\n-        for (MaplePortal port : town.getPortals()) {\n-            if (port.getType() == 6) {\n-                freePortals.add(port);\n-            }\n-        }\n-        Collections.sort(freePortals, new Comparator<MaplePortal>() {\n-            public int compare(MaplePortal o1, MaplePortal o2) {\n-                if (o1.getId() < o2.getId()) {\n-                    return -1;\n-                } else if (o1.getId() == o2.getId()) {\n-                    return 0;\n-                } else {\n-                    return 1;\n-                }\n-            }\n-        });\n-        for (MapleMapObject obj : town.getMapObjects()) {\n-            if (obj instanceof MapleDoor) {\n-                MapleDoor door = (MapleDoor) obj;\n-                if (door.getOwner().getParty() != null && door.getOwner().getParty().containsMembers(door.getOwner().getMPC())) {\n-                    freePortals.remove(door.getTownPortal());\n-                }\n-            }\n+        this.townPortal = allocateFreePortal();\n+        \n+        if(townPortal != null) {\n+            this.areaDoor = new MapleDoorObject(ownerId, town, target, false, targetPosition, townPortal.getPosition());\n+            this.townDoor = new MapleDoorObject(ownerId, target, town, true, townPortal.getPosition(), targetPosition);\n+            \n+            this.areaDoor.setPairOid(this.townDoor.getObjectId());\n+            this.townDoor.setPairOid(this.areaDoor.getObjectId());\n+        } else {\n+            this.ownerId = -1;\n         }\n-        return freePortals.iterator().next();\n     }\n-\n-    @Override\n-    public void sendSpawnData(MapleClient client) {\n-        if (target.getId() == client.getPlayer().getMapId() || owner == client.getPlayer() && owner.getParty() == null) {\n-            client.announce(MaplePacketCreator.spawnDoor(owner.getId(), town.getId() == client.getPlayer().getMapId() ? townPortal.getPosition() : targetPosition, true));\n-            if (owner.getParty() != null && (owner == client.getPlayer() || owner.getParty().containsMembers(client.getPlayer().getMPC()))) {\n-                client.announce(MaplePacketCreator.partyPortal(town.getId(), target.getId(), targetPosition));\n-            }\n-        }\n-        if (owner.getId() != client.getPlayer().getId()) {\n-        \tclient.announce(MaplePacketCreator.spawnPortal(town.getId(), target.getId(), targetPosition));\n+    \n+    public void freeAllocatedPortal() {\n+        if(townPortal != null) {\n+            town.setDisposeDoorPortal(townPortal);\n         }\n     }\n-\n-    @Override\n-    public void sendDestroyData(MapleClient client) {\n-        if (target.getId() == client.getPlayer().getMapId() || owner == client.getPlayer() || owner.getParty() != null && owner.getParty().containsMembers(client.getPlayer().getMPC())) {\n-            if (owner.getParty() != null && (owner == client.getPlayer() || owner.getParty().containsMembers(client.getPlayer().getMPC()))) {\n-                client.announce(MaplePacketCreator.partyPortal(999999999, 999999999, new Point(-1, -1)));\n+    \n+    private MaplePortal allocateFreePortal() {\n+        List<MaplePortal> availablePortals = town.getAvailableDoorPortals();\n+        if(availablePortals.isEmpty() || !town.getNotUsingDoorPortal()) return null;\n+        \n+        Collections.shuffle(availablePortals);\n+        while(!availablePortals.isEmpty()) {\n+            MaplePortal port = availablePortals.remove(0);\n+            \n+            if(town.setUsingDoorPortal(port)) {\n+                return port;\n             }\n-            client.announce(MaplePacketCreator.removeDoor(owner.getId(), false));\n-            client.announce(MaplePacketCreator.removeDoor(owner.getId(), true));\n         }\n+        \n+        return null;\n     }\n-\n-    public void warp(MapleCharacter chr, boolean toTown) {\n-        if (chr == owner || owner.getParty() != null && owner.getParty().containsMembers(chr.getMPC())) {\n-            if (!toTown) {\n-                chr.changeMap(target, targetPosition);\n-            } else {\n-                chr.changeMap(town, townPortal);\n-            }\n-        } else {\n-            chr.getClient().announce(MaplePacketCreator.enableActions());\n-        }\n+    \n+    public int getOwnerId() {\n+        return ownerId;\n     }\n \n-    public MapleCharacter getOwner() {\n-        return owner;\n+    public MapleDoorObject getTownDoor() {\n+        return townDoor;\n     }\n-\n+    \n+    public MapleDoorObject getAreaDoor() {\n+        return areaDoor;\n+    }\n+    \n     public MapleMap getTown() {\n         return town;\n     }\n@@ -145,13 +105,4 @@ public MapleMap getTarget() {\n         return target;\n     }\n \n-    public Point getTargetPosition() {\n-        return targetPosition;\n-    }\n-\n-    @Override\n-    public MapleMapObjectType getType() {\n-        return MapleMapObjectType.DOOR;\n-    }\n-    \n }"}, {"sha": "a50d7e4a3aab94c76b1bef6a4a50d86c9534eec1", "filename": "src/server/maps/MapleDoorObject.java", "status": "added", "additions": 130, "deletions": 0, "changes": 130, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/src/server/maps/MapleDoorObject.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/src/server/maps/MapleDoorObject.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/MapleDoorObject.java?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638", "patch": "@@ -0,0 +1,130 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package server.maps;\n+\n+import client.MapleCharacter;\n+import java.awt.Point;\n+\n+import tools.MaplePacketCreator;\n+import client.MapleClient;\n+\n+/**\n+ *\n+ * @author Ronan\n+ */\n+public class MapleDoorObject extends AbstractMapleMapObject {\n+    private int ownerId;\n+    private int pairOid;\n+    \n+    private boolean isTown;\n+    private MapleMap from;\n+    private MapleMap to;\n+    private Point toPos;\n+    \n+    public MapleDoorObject(int owner, MapleMap destination, MapleMap origin, boolean town, Point targetPosition, Point toPosition) {\n+        super();\n+        setPosition(targetPosition);\n+        \n+        ownerId = owner;\n+        isTown = town;\n+        from = origin;\n+        to = destination;\n+        toPos = toPosition;\n+    }\n+    \n+    public void warp(MapleCharacter chr, boolean toTown) {\n+        if (chr.getId() == ownerId || (chr.getParty() != null && chr.getParty().getMemberById(ownerId) != null)) {\n+            chr.changeMap(to, toPos);\n+        } else {\n+            chr.getClient().announce(MaplePacketCreator.blockedMessage(6));\n+            chr.getClient().announce(MaplePacketCreator.enableActions());\n+        }\n+    }\n+\n+    @Override\n+    public void sendSpawnData(MapleClient client) {\n+        if (from.getId() == client.getPlayer().getMapId()) {\n+            client.announce(MaplePacketCreator.spawnPortal(this.getFrom().getId(), this.getTo().getId(), this.toPosition()));\n+            \n+            if(!this.inTown()) client.announce(MaplePacketCreator.spawnDoor(this.getOwnerId(), this.getPosition(), true));\n+            \n+            if (client.getPlayer().getParty() != null && (ownerId == client.getPlayer().getId() || client.getPlayer().getParty().getMemberById(ownerId) != null)) {\n+                client.announce(MaplePacketCreator.partyPortal(this.getTown().getId(), this.getArea().getId(), this.getAreaPosition()));\n+            }\n+        }\n+    }\n+\n+    @Override\n+    public void sendDestroyData(MapleClient client) {\n+        if (from.getId() == client.getPlayer().getMapId()) {\n+            if (client.getPlayer().getParty() != null && (ownerId == client.getPlayer().getId() || client.getPlayer().getParty().getMemberById(ownerId) != null)) {\n+                client.announce(MaplePacketCreator.partyPortal(999999999, 999999999, new Point(-1, -1)));\n+            }\n+            client.announce(MaplePacketCreator.removeDoor(ownerId, isTown));\n+        }\n+    }\n+    \n+    public int getOwnerId() {\n+        return ownerId;\n+    }\n+    \n+    public void setPairOid(int oid) {\n+        this.pairOid = oid;\n+    }\n+    \n+    public int getPairOid() {\n+        return pairOid;\n+    }\n+    \n+    public boolean inTown() {\n+        return isTown;\n+    }\n+    \n+    public MapleMap getFrom() {\n+        return from;\n+    }\n+    \n+    public MapleMap getTo() {\n+        return to;\n+    }\n+    \n+    public MapleMap getTown() {\n+        return isTown ? from : to;\n+    }\n+    \n+    public MapleMap getArea() {\n+        return !isTown ? from : to;\n+    }\n+    \n+    public Point getAreaPosition() {\n+        return !isTown ? getPosition() : toPos;\n+    }\n+    \n+    public Point toPosition() {\n+        return toPos;\n+    }\n+    \n+    @Override\n+    public MapleMapObjectType getType() {\n+        return MapleMapObjectType.DOOR;\n+    }\n+}"}, {"sha": "5879ccfb8667319505c02aaaa46edd61362a818d", "filename": "src/server/maps/MapleMap.java", "status": "modified", "additions": 61, "deletions": 8, "changes": 69, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/src/server/maps/MapleMap.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/src/server/maps/MapleMap.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/MapleMap.java?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638", "patch": "@@ -45,6 +45,8 @@\n import java.util.LinkedHashSet;\n import java.util.LinkedList;\n import java.util.List;\n+import java.util.Set;\n+import java.util.HashSet;\n import java.util.Iterator;\n import java.util.Map;\n import java.util.Map.Entry;\n@@ -94,6 +96,7 @@\n     private Map<Integer, MaplePortal> portals = new HashMap<>();\n     private Map<Integer, Integer> backgroundTypes = new HashMap<>();\n     private Map<String, Integer> environment = new LinkedHashMap<String, Integer>();\n+    private Set<Integer> usedDoors = new HashSet<>();\n     private List<Rectangle> areas = new ArrayList<>();\n     private MapleFootholdTree footholds = null;\n     private int mapid;\n@@ -1360,24 +1363,74 @@ private void respawnReactor(final MapleReactor reactor) {\n         spawnReactor(reactor);\n     }\n \n-    public void spawnDoor(final MapleDoor door) {\n+    public void spawnDoor(final MapleDoorObject door) {\n         spawnAndAddRangedMapObject(door, new DelayedPacketCreation() {\n             @Override\n             public void sendPackets(MapleClient c) {\n-                c.announce(MaplePacketCreator.spawnDoor(door.getOwner().getId(), door.getTargetPosition(), false));\n-                if (door.getOwner().getParty() != null && (door.getOwner() == c.getPlayer() || door.getOwner().getParty().containsMembers(c.getPlayer().getMPC()))) {\n-                    c.announce(MaplePacketCreator.partyPortal(door.getTown().getId(), door.getTarget().getId(), door.getTargetPosition()));\n+                if (door.getFrom().getId() == c.getPlayer().getMapId()) {\n+                    c.announce(MaplePacketCreator.spawnPortal(door.getFrom().getId(), door.getTo().getId(), door.toPosition()));\n+                    if(!door.inTown()) c.announce(MaplePacketCreator.spawnDoor(door.getOwnerId(), door.getPosition(), false));\n+                    \n+                    if (c.getPlayer().getParty() != null && (door.getOwnerId() == c.getPlayer().getId() || c.getPlayer().getParty().getMemberById(door.getOwnerId()) != null)) {\n+                        c.announce(MaplePacketCreator.partyPortal(door.getTown().getId(), door.getArea().getId(), door.getAreaPosition()));\n+                    }\n                 }\n-                c.announce(MaplePacketCreator.spawnPortal(door.getTown().getId(), door.getTarget().getId(), door.getTargetPosition()));\n+\n                 c.announce(MaplePacketCreator.enableActions());\n             }\n         }, new SpawnCondition() {\n             @Override\n             public boolean canSpawn(MapleCharacter chr) {\n-                return chr.getMapId() == door.getTarget().getId() || chr == door.getOwner() && chr.getParty() == null;\n+                return chr.getMapId() == door.getFrom().getId();\n             }\n         });\n-\n+    }\n+    \n+    public boolean setUsingDoorPortal(MaplePortal port) {\n+        objectWLock.lock();\n+        try {\n+            if(usedDoors.contains(port.getId())) return false;\n+            \n+            usedDoors.add(port.getId());\n+            return true;\n+        } finally {\n+            objectWLock.unlock();\n+        }\n+    }\n+    \n+    public void setDisposeDoorPortal(MaplePortal port) {\n+        objectWLock.lock();\n+        try {\n+            usedDoors.remove(port.getId());\n+        } finally {\n+            objectWLock.unlock();\n+        }\n+    }\n+    \n+    public boolean getNotUsingDoorPortal() {\n+        objectRLock.lock();\n+        try {\n+            return usedDoors.isEmpty();\n+        } finally {\n+            objectRLock.unlock();\n+        }\n+    }\n+    \n+    public List<MaplePortal> getAvailableDoorPortals() {\n+        objectRLock.lock();\n+        try {\n+            List<MaplePortal> availablePortals = new ArrayList<>();\n+            \n+            for (MaplePortal port : getPortals()) {\n+                if (port.getType() == MaplePortal.DOOR_PORTAL && !usedDoors.contains(port.getId())) {\n+                    availablePortals.add(port);\n+                }\n+            }\n+            \n+            return availablePortals;\n+        } finally {\n+            objectRLock.unlock();\n+        }\n     }\n \n     public void spawnSummon(final MapleSummon summon) {\n@@ -2095,7 +2148,7 @@ public MapleCharacter getCharacterById(int id) {\n     }\n \n     private void updateMapObjectVisibility(MapleCharacter chr, MapleMapObject mo) {\n-        if (!chr.isMapObjectVisible(mo)) { // monster entered view range\n+        if (!chr.isMapObjectVisible(mo)) { // item entered view range\n             if (mo.getType() == MapleMapObjectType.SUMMON || mo.getPosition().distanceSq(chr.getPosition()) <= getRangedDistance()) {\n                 chr.addVisibleMapObject(mo);\n                 mo.sendSpawnData(chr.getClient());"}, {"sha": "7398a083f21ee9961afd0efc3acd452dfe1e1020", "filename": "src/tools/MaplePacketCreator.java", "status": "modified", "additions": 44, "deletions": 17, "changes": 61, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/src/tools/MaplePacketCreator.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638/src/tools/MaplePacketCreator.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/tools/MaplePacketCreator.java?ref=b7c0bb6c07eef1545f2f3d71abd3b83bbcbcc638", "patch": "@@ -64,6 +64,7 @@\n import server.life.MobSkill;\n import server.maps.HiredMerchant;\n import server.maps.MapleDoor;\n+import server.maps.MapleDoorObject;\n import server.maps.MapleDragon;\n import server.maps.MapleMap;\n import server.maps.MapleMapItem;\n@@ -1056,24 +1057,22 @@ public int compare(Pair<MapleStat, Integer> o1, Pair<MapleStat, Integer> o2) {\n                 mplew.writeShort(SendOpcode.SPAWN_PORTAL.getValue());\n                 mplew.writeInt(townId);\n                 mplew.writeInt(targetId);\n-                if (pos != null) {\n-                        mplew.writePos(pos);\n-                }\n+                mplew.writePos(pos);\n                 return mplew.getPacket();\n         }\n \n         /**\n          * Gets a packet to spawn a door.\n          *\n-         * @param oid The door's object ID.\n+         * @param oid The door's owner ID.\n          * @param pos The position of the door.\n-         * @param town\n+         * @param launched Already deployed the door. \n          * @return The remove door packet.\n          */\n-        public static byte[] spawnDoor(int oid, Point pos, boolean town) {\n+        public static byte[] spawnDoor(int oid, Point pos, boolean launched) {\n                 final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter(11);\n                 mplew.writeShort(SendOpcode.SPAWN_DOOR.getValue());\n-                mplew.writeBool(town);\n+                mplew.writeBool(launched);\n                 mplew.writeInt(oid);\n                 mplew.writePos(pos);\n                 return mplew.getPacket();\n@@ -3230,11 +3229,25 @@ private static void writeLongMaskFromList(final MaplePacketLittleEndianWriter mp\n                 mplew.writeShort(0x8b);\n                 mplew.writeShort(1);\n                 if (partychar.getDoors().size() > 0) {\n-                        for (MapleDoor doors : partychar.getDoors()) {\n-                                mplew.writeInt(doors.getTown().getId());\n-                                mplew.writeInt(doors.getTarget().getId());\n-                                mplew.writeInt(doors.getPosition().x);\n-                                mplew.writeInt(doors.getPosition().y);\n+                        boolean deployedPortal = false;\n+                    \n+                        for (MapleDoor door : partychar.getDoors()) {\n+                                if(door.getOwnerId() == partychar.getId()) {\n+                                        MapleDoorObject mdo = door.getTownDoor();\n+                                        mplew.writeInt(mdo.getTo().getId());\n+                                        mplew.writeInt(mdo.getFrom().getId());\n+                                        mplew.writeInt(mdo.getPosition().x);\n+                                        mplew.writeInt(mdo.getPosition().y);\n+                                        \n+                                        deployedPortal = true;\n+                                }\n+                        }\n+                        \n+                        if(!deployedPortal) {\n+                                mplew.writeInt(999999999);\n+                                mplew.writeInt(999999999);\n+                                mplew.writeInt(0);\n+                                mplew.writeInt(0);\n                         }\n                 } else {\n                         mplew.writeInt(999999999);\n@@ -3322,11 +3335,25 @@ private static void addPartyStatus(int forchannel, MapleParty party, LittleEndia\n                 for (MaplePartyCharacter partychar : partymembers) {\n                         if (partychar.getChannel() == forchannel && !leaving) {\n                                 if (partychar.getDoors().size() > 0) {\n-                                        for (MapleDoor doors : partychar.getDoors()) {\n-                                                lew.writeInt(doors.getTown().getId());\n-                                                lew.writeInt(doors.getTarget().getId());\n-                                                lew.writeInt(doors.getPosition().x);\n-                                                lew.writeInt(doors.getPosition().y);\n+                                        boolean deployedPortal = false;\n+                                        \n+                                        for (MapleDoor door : partychar.getDoors()) {\n+                                                if(door.getOwnerId() == partychar.getId()) {\n+                                                        MapleDoorObject mdo = door.getTownDoor();\n+                                                        lew.writeInt(mdo.getTown().getId());\n+                                                        lew.writeInt(mdo.getArea().getId());\n+                                                        lew.writeInt(mdo.getPosition().x);\n+                                                        lew.writeInt(mdo.getPosition().y);\n+                                                        \n+                                                        deployedPortal = true;\n+                                                }\n+                                        }\n+                                        \n+                                        if(!deployedPortal) {\n+                                                lew.writeInt(999999999);\n+                                                lew.writeInt(999999999);\n+                                                lew.writeInt(0);\n+                                                lew.writeInt(0);\n                                         }\n                                 } else {\n                                         lew.writeInt(999999999);"}]}]},
