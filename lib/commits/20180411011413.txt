{"fetchDate": "2019-12-19", "content": [{"sha": "5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9", "node_id": "MDY6Q29tbWl0NDUwODIwMjM6NWQ4ZWRlMzI0NzQ4ZmIyZmQ2YWZkM2QzZjlmZGZmYTFhNWYyNzVlOQ==", "commit": {"author": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2018-04-11T01:14:13Z"}, "committer": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2018-04-11T01:14:13Z"}, "message": "Unexpirable diseases & Holy Symbol patch\n\nFixed diseases becoming unexpirable after trying to change channels or entering the Cash Shop.\nFixed Holy Symbol acting oddly in solo scenario.\nAdjusted Summon Sack lv. 9, that would try to spawn mobs with inexistent id on the field.", "tree": {"sha": "09c86f711dfe5e87c49c56d67c86f8fe43ce8ffd", "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/trees/09c86f711dfe5e87c49c56d67c86f8fe43ce8ffd"}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/commits/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9", "html_url": "https://github.com/ronancpl/HeavenMS/commit/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9", "comments_url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/comments", "author": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6da5edd83780c5f96e95b062573948f117a7320b", "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/6da5edd83780c5f96e95b062573948f117a7320b", "html_url": "https://github.com/ronancpl/HeavenMS/commit/6da5edd83780c5f96e95b062573948f117a7320b"}], "stats": {"total": 1371, "additions": 719, "deletions": 652}, "files": [{"sha": "c477dc6a519a1aef54eaa52b176d82c61e1c9683", "filename": ".gitignore", "status": "modified", "additions": 8, "deletions": 9, "changes": 17, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/.gitignore", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/.gitignore", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/.gitignore?ref=5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9", "patch": "@@ -11,6 +11,10 @@\n /tools/MapleArrowFetcher/dist/\n /tools/MapleArrowFetcher/nbproject/private/\n \n+/tools/MapleBossHpBarFetcher/nbproject/private/\n+/tools/MapleBossHpBarFetcher/build/\n+/tools/MapleBossHpBarFetcher/dist/\n+\n /tools/MapleCouponInstaller/build/\n /tools/MapleCouponInstaller/dist/\n /tools/MapleCouponInstaller/nbproject/private/\n@@ -39,6 +43,10 @@\n /tools/MapleMobBookUpdate/dist/\n /tools/MapleMobBookUpdate/nbproject/private/\n \n+/tools/MapleQuestItemCountFetcher/nbproject/private/\n+/tools/MapleQuestItemCountFetcher/build/\n+/tools/MapleQuestItemCountFetcher/dist/\n+\n /tools/MapleQuestItemFetcher/build/\n /tools/MapleQuestItemFetcher/dist/\n /tools/MapleQuestItemFetcher/nbproject/private/\n@@ -56,12 +64,3 @@\n /tools/MapleSkillMakerReagentIndexer/nbproject/private/\n \n /out\n-/tools/MapleQuestItemQuantityFetcher/nbproject/private/\n-/tools/MapleQuestItemQuantityFetcher/build/\n-/tools/MapleQuestItemQuantityFetcher/dist/\n-/tools/MapleQuestItemCountFetcher/nbproject/private/\n-/tools/MapleQuestItemCountFetcher/build/\n-/tools/MapleQuestItemCountFetcher/dist/\n-/tools/MapleBossHpBarFetcher/nbproject/private/\n-/tools/MapleBossHpBarFetcher/build/\n-/tools/MapleBossHpBarFetcher/dist/\n\\ No newline at end of file"}, {"sha": "bf98f38b6facbe2345fb2fd7357cda23860bf363", "filename": "docs/mychanges_ptbr.txt", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/docs/mychanges_ptbr.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/docs/mychanges_ptbr.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mychanges_ptbr.txt?ref=5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9", "patch": "@@ -848,4 +848,9 @@ Adicionado drop data para Flaming Racoon e Big Cloud Fox.\n Adicionado ganho de EXP em v\u00e1rias quests da regi\u00e3o de Zipangu.\n Adicionado sistema de bonus para expedi\u00e7\u00e3o de Showa, ating\u00edvel se nenhum jogador morrer no evento.\n Nova ferramenta: MapleBossHpBarFetcher. Localiza no Mob.wz ids de mobs que possuem um boss hp bar mas n\u00e3o s\u00e3o labelados como \"boss\".\n-Incrementado quiz de 3rd job, agora utilizando um pool de 40 perguntas com escolha arbitr\u00e1ria.\n\\ No newline at end of file\n+Incrementado quiz de 3rd job, agora utilizando um pool de 40 perguntas com escolha arbitr\u00e1ria.\n+\n+05 - 10 Mar\u00e7o 2018,\n+Corrigido diseases n\u00e3o sendo removidas corretamente no cliente quando tentando trocar de canal/entrar Cash Shop, permitindo-as ficar no jogador infinitamente.\n+Corrigido Holy Symbol atuando de forma inesperada no cen\u00e1rio com somente um jogador.\n+Corrigido Summon Sack lv. 9 lan\u00e7ando mob com id inexistente.\n\\ No newline at end of file"}, {"sha": "7912e09d86cc2f5645f5dea74a2a1790e0c75e29", "filename": "scripts/npc/2030006.js", "status": "modified", "additions": 11, "deletions": 12, "changes": 23, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/scripts/npc/2030006.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/scripts/npc/2030006.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2030006.js?ref=5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9", "patch": "@@ -77,8 +77,8 @@ var questionTree = [\n var status;\n var question;\n \n-var unusedQuestions;\n-var unusedQuestionsCursor;\n+var questionPool;\n+var questionPoolCursor;\n \n function start() {\n     status = -1;\n@@ -105,8 +105,6 @@ function action(mode, type, selection) {\n                         cm.sendNext(\"Have a free ETC slot available before accepting this trial.\");\n                         cm.dispose();\n                     } else {\n-                        instantiateUnusedQuestions();\n-                        \n                         cm.sendNext(\"Alright... I'll be testing out your wisdom here. Answer all the questions correctly, and you will pass the test BUT, if you even lie to me once, then you'll have to start over again ok, here we go.\");\n                     }\n                 } else {\n@@ -118,6 +116,7 @@ function action(mode, type, selection) {\n             }\n         } else if(status == 1) {\n             cm.gainItem(4005004, -1);\n+            instantiateQuestionPool();\n             \n             question = fetchNextQuestion();\n             var questionHead = generateQuestionHeading();\n@@ -172,25 +171,25 @@ function shuffleArray(array) {\n     }\n }\n \n-function instantiateUnusedQuestions() {\n-    unusedQuestions = [];\n+function instantiateQuestionPool() {\n+    questionPool = [];\n     \n     for(var i = 0; i < questionTree.length; i++) {\n-        unusedQuestions.push(i);\n+        questionPool.push(i);\n     }\n     \n-    shuffleArray(unusedQuestions);\n-    unusedQuestionsCursor = 0;\n+    shuffleArray(questionPool);\n+    questionPoolCursor = 0;\n }\n \n function fetchNextQuestion() {\n-    var next = unusedQuestions[unusedQuestionsCursor];\n-    unusedQuestionsCursor++;\n+    var next = questionPool[questionPoolCursor];\n+    questionPoolCursor++;\n     \n     return next;\n }\n \n-function generateSelectionMenu(array) {     // nice tool for generating a string for the sendSimple functionality\n+function generateSelectionMenu(array) {\n     var menu = \"\";\n     for (var i = 0; i < array.length; i++) {\n         menu += \"#L\" + i + \"#\" + array[i] + \"#l\\r\\n\";"}, {"sha": "a1de5f9201dba1f5fa0ca551ad9b7db47d73ac06", "filename": "scripts/npc/9201043.js", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/scripts/npc/9201043.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/scripts/npc/9201043.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201043.js?ref=5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9", "patch": "@@ -45,11 +45,11 @@ function action(mode, type, selection) {\n         else\n             status--;\n         if (status == 1 && selection == 0) {\n-            if (cm.haveItem(4031592, 1)/* && cm.isMarried()==1*/) {\n+            if (cm.haveItem(4031592, 1)) {\n                 cm.sendYesNo(\"So you would like to enter the #bEntrance#k?\");\n                 MySelection = selection;\n             } else {\n-                cm.sendOk(\"You must have an Entrance Ticket to enter, and you have to be married.\");\n+                cm.sendOk(\"You must have an Entrance Ticket to enter.\");\n                 cm.dispose();\n             }\n         } else if (status == 1 && selection == 1) {"}, {"sha": "732d22a946aedf01fa2972c3659932e86ed331a8", "filename": "src/client/MapleCharacter.java", "status": "modified", "additions": 55, "deletions": 9, "changes": 64, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/src/client/MapleCharacter.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/src/client/MapleCharacter.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleCharacter.java?ref=5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9", "patch": "@@ -2019,6 +2019,40 @@ public final int getDiseasesSize() {\n         }\n     }\n \n+    public Map<MapleDisease, Long> getAllDiseases() {\n+        chrLock.lock();\n+        try {\n+            long curtime = System.currentTimeMillis();\n+            Map<MapleDisease, Long> ret = new LinkedHashMap<>();\n+            \n+            for(Entry<MapleDisease, Long> de : diseaseExpires.entrySet()) {\n+                MapleDiseaseValueHolder mdvh = diseases.get(de.getKey());\n+                \n+                ret.put(de.getKey(), mdvh.length - (curtime - mdvh.startTime));\n+            }\n+            \n+            return ret;\n+        } finally {\n+            chrLock.unlock();\n+        }\n+    }\n+    \n+    public void silentApplyDiseases(Map<MapleDisease, Long> diseaseMap) {\n+        chrLock.lock();\n+        try {\n+            long curTime = System.currentTimeMillis();\n+            \n+            for(Entry<MapleDisease, Long> di : diseaseMap.entrySet()) {\n+                long expTime = curTime + di.getValue();\n+                \n+                diseaseExpires.put(di.getKey(), expTime);\n+                diseases.put(di.getKey(), new MapleDiseaseValueHolder(curTime, expTime));\n+            }\n+        } finally {\n+            chrLock.unlock();\n+        }\n+    }\n+    \n     public void giveDebuff(final MapleDisease disease, MobSkill skill) {\n         if (!hasDisease(disease) && getDiseasesSize() < 2) {\n             if (!(disease == MapleDisease.SEDUCE || disease == MapleDisease.STUN)) {\n@@ -2071,6 +2105,7 @@ public void cancelAllDebuffs() {\n         chrLock.lock();\n         try {\n             diseases.clear();\n+            diseaseExpires.clear();\n         } finally {\n             chrLock.unlock();\n         }\n@@ -3834,6 +3869,10 @@ public boolean haveItemWithId(int itemid, boolean checkEquipped) {\n         (checkEquipped && inventory[MapleInventoryType.EQUIPPED.ordinal()].findById(itemid) != null);\n     }\n     \n+    public boolean haveItemEquipped(int itemid) {\n+        return (inventory[MapleInventoryType.EQUIPPED.ordinal()].findById(itemid) != null);\n+    }\n+    \n     public int getItemQuantity(int itemid, boolean checkEquipped) {\n         int possesed = inventory[ItemConstants.getInventoryType(itemid).ordinal()].countById(itemid);\n         if (checkEquipped) {\n@@ -4744,8 +4783,12 @@ public void increaseGuildCapacity() { //hopefully nothing is null\n             dropMessage(1, \"You don't have enough mesos.\");\n             return;\n         }\n-        Server.getInstance().increaseGuildCapacity(guildid);\n-        gainMeso(-MapleGuild.getIncreaseGuildCost(getGuild().getCapacity()), true, false, false);\n+        \n+        if(Server.getInstance().increaseGuildCapacity(guildid)) {\n+            gainMeso(-MapleGuild.getIncreaseGuildCost(getGuild().getCapacity()), true, false, false);\n+        } else {\n+            dropMessage(1, \"You guild already reached the maximum capacity of players.\");\n+        }\n     }\n \n     public boolean isActiveBuffedValue(int skillid) {\n@@ -5367,7 +5410,9 @@ public static MapleCharacter loadCharFromDB(int charid, MapleClient client, bool\n                     }\n                     continue;\n                 }\n-                if (item.getRight().equals(MapleInventoryType.EQUIP) || item.getRight().equals(MapleInventoryType.EQUIPPED)) {\n+                \n+                MapleInventoryType mit = item.getRight();\n+                if (mit.equals(MapleInventoryType.EQUIP) || mit.equals(MapleInventoryType.EQUIPPED)) {\n                     Equip equip = (Equip) item.getLeft();\n                     if (equip.getRingId() > -1) {\n                         MapleRing ring = MapleRing.loadFromDb(equip.getRingId());\n@@ -5426,7 +5471,8 @@ public static MapleCharacter loadCharFromDB(int charid, MapleClient client, bool\n                 }\n                 ret.setPosition(portal.getPosition());\n                 int partyid = rs.getInt(\"party\");\n-                MapleParty party = Server.getInstance().getWorld(ret.world).getParty(partyid);\n+                World wserv = Server.getInstance().getWorld(ret.world);\n+                MapleParty party = wserv.getParty(partyid);\n                 if (party != null) {\n                     ret.mpc = party.getMemberById(ret.id);\n                     if (ret.mpc != null) {\n@@ -5437,7 +5483,7 @@ public static MapleCharacter loadCharFromDB(int charid, MapleClient client, bool\n                 int messengerid = rs.getInt(\"messengerid\");\n                 int position = rs.getInt(\"messengerposition\");\n                 if (messengerid > 0 && position < 4 && position > -1) {\n-                    MapleMessenger messenger = Server.getInstance().getWorld(ret.world).getMessenger(messengerid);\n+                    MapleMessenger messenger = wserv.getMessenger(messengerid);\n                     if (messenger != null) {\n                         ret.messenger = messenger;\n                         ret.messengerposition = position;\n@@ -5501,7 +5547,6 @@ public static MapleCharacter loadCharFromDB(int charid, MapleClient client, bool\n             ps.close();\n             ret.cashshop = new CashShop(ret.accountid, ret.id, ret.getJobType());\n             ret.autoban = new AutobanManager(ret);\n-            ret.marriageRing = null; //for now\n             ps = con.prepareStatement(\"SELECT name, level FROM characters WHERE accountid = ? AND id != ? ORDER BY level DESC limit 1\");\n             ps.setInt(1, ret.accountid);\n             ps.setInt(2, charid);\n@@ -7161,10 +7206,11 @@ private int standaloneSell(MapleClient c, MapleItemInformationProvider ii, Maple\n         if (quantity <= iQuant && iQuant > 0) {\n             MapleInventoryManipulator.removeFromSlot(c, type, (byte) slot, quantity, false);\n             double price;\n-            if (ItemConstants.isRechargable(item.getItemId())) {\n-            \tprice = ii.getWholePrice(item.getItemId()) / (double) ii.getSlotMax(c, item.getItemId());\n+            int itemid = item.getItemId();\n+            if (ItemConstants.isRechargable(itemid)) {\n+            \tprice = ii.getWholePrice(itemid) / (double) ii.getSlotMax(c, itemid);\n             } else {\n-                price = ii.getPrice(item.getItemId());\n+                price = ii.getPrice(itemid);\n             }\n             \n             int recvMesos = (int) Math.max(Math.ceil(price * quantity), 0);"}, {"sha": "dfa40da1dd4484f123e657e1168f7eadfc5772fc", "filename": "src/client/MapleClient.java", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/src/client/MapleClient.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/src/client/MapleClient.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleClient.java?ref=5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9", "patch": "@@ -746,6 +746,7 @@ public int getLoginState() {  // 0 = LOGIN_NOTLOGGEDIN, 1= LOGIN_SERVER_TRANSITI\n \t\t\t}\n \t\t\tint state = rs.getInt(\"loggedin\");\n \t\t\tif (state == LOGIN_SERVER_TRANSITION) {\n+                                // Arnah's note: lastlogin is a date-type, in case of login and game servers being of different timezones this becomes broken\n \t\t\t\tif (rs.getTimestamp(\"lastlogin\").getTime() + 30000 < System.currentTimeMillis()) {\n \t\t\t\t\tstate = LOGIN_NOTLOGGEDIN;\n \t\t\t\t\tupdateLoginState(LOGIN_NOTLOGGEDIN);\n@@ -1293,8 +1294,10 @@ public void changeChannel(int channel) {\n \t\t}\n                 player.unregisterChairBuff();\n \t\tserver.getPlayerBuffStorage().addBuffsToStorage(player.getId(), player.getAllBuffs());\n+                server.getPlayerBuffStorage().addDiseasesToStorage(player.getId(), player.getAllDiseases());\n                 player.setAwayFromWorld(true);\n \t\tplayer.cancelAllBuffs(true);\n+                player.cancelAllDebuffs();\n                 player.cancelBuffExpireTask();\n                 player.cancelDiseaseExpireTask();\n                 player.cancelSkillCooldownTask();"}, {"sha": "e6cd16a7cef915bba8f2c01340cbb9f76afaca88", "filename": "src/client/MapleDisease.java", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/src/client/MapleDisease.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/src/client/MapleDisease.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleDisease.java?ref=5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9", "patch": "@@ -52,8 +52,8 @@ public long getValue() {\n         return i;\n     }\n \n-\tpublic boolean isFirst() {\n-\t\treturn first;\n-\t}\n+    public boolean isFirst() {\n+            return first;\n+    }\n \t\n }"}, {"sha": "5c9518228415e41fa303f7aff54e2a1e67e3c6ec", "filename": "src/net/MapleServerHandler.java", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/src/net/MapleServerHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/src/net/MapleServerHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/MapleServerHandler.java?ref=5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9", "patch": "@@ -23,6 +23,8 @@\n \n import java.io.IOException;\n import java.text.SimpleDateFormat;\n+import java.util.Set;\n+import java.util.HashSet;\n import java.util.Calendar;\n import java.util.concurrent.atomic.AtomicLong;\n \n@@ -41,6 +43,7 @@\n import tools.data.input.SeekableLittleEndianAccessor;\n import client.MapleClient;\n import constants.ServerConstants;\n+import java.util.Arrays;\n \n import java.util.concurrent.locks.Lock;\n import tools.locks.MonitoredReentrantLock;\n@@ -53,7 +56,8 @@\n import tools.locks.MonitoredLockType;\n \n public class MapleServerHandler extends IoHandlerAdapter {\n-\n+    private final static Set<Short> ignoredDebugRecvPackets = new HashSet<>(Arrays.asList((short) 167, (short) 197, (short) 89, (short) 91, (short) 41));\n+    \n     private PacketProcessor processor;\n     private int world = -1, channel = -1;\n     private static final SimpleDateFormat sdf = new SimpleDateFormat(\"dd-MM-yyyy HH:mm\");\n@@ -151,7 +155,7 @@ public void messageReceived(IoSession session, Object message) {\n         short packetId = slea.readShort();\n         MapleClient client = (MapleClient) session.getAttribute(MapleClient.CLIENT_KEY);\n         \n-        if(ServerConstants.USE_DEBUG_SHOW_RCVD_PACKET) System.out.println(\"Received packet id \" + packetId);\n+        if(ServerConstants.USE_DEBUG_SHOW_RCVD_PACKET && !ignoredDebugRecvPackets.contains(packetId)) System.out.println(\"Received packet id \" + packetId);\n         final MaplePacketHandler packetHandler = processor.getHandler(packetId);\n         if (packetHandler != null && packetHandler.validateState(client)) {\n             try {"}, {"sha": "40dbdc85a49bc05be75baf98a20a66b0e65f241c", "filename": "src/net/server/PlayerBuffStorage.java", "status": "modified", "additions": 22, "deletions": 1, "changes": 23, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/src/net/server/PlayerBuffStorage.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/src/net/server/PlayerBuffStorage.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/PlayerBuffStorage.java?ref=5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9", "patch": "@@ -21,6 +21,7 @@\n */\n package net.server;\n \n+import client.MapleDisease;\n import java.util.HashMap;\n import java.util.List;\n import java.util.Map;\n@@ -31,11 +32,13 @@\n /**\n  *\n  * @author Danny//changed to map :3\n+ * @author Ronan//debuffs to storage as well\n  */\n public class PlayerBuffStorage {\n     private int id = (int) (Math.random() * 100);\n     private final Lock lock = new MonitoredReentrantLock(MonitoredLockType.BUFF_STORAGE, true);    \n     private Map<Integer, List<PlayerBuffValueHolder>> buffs = new HashMap<>();\n+    private Map<Integer, Map<MapleDisease, Long>> diseases = new HashMap<>();\n \n     public void addBuffsToStorage(int chrid, List<PlayerBuffValueHolder> toStore) {\n         lock.lock();\n@@ -52,7 +55,25 @@ public void addBuffsToStorage(int chrid, List<PlayerBuffValueHolder> toStore) {\n             return buffs.remove(chrid);\n         } finally {\n             lock.unlock();\n-        }        \n+        }\n+    }\n+    \n+    public void addDiseasesToStorage(int chrid, Map<MapleDisease, Long> toStore) {\n+        lock.lock();\n+        try {\n+            diseases.put(chrid, toStore);\n+        } finally {\n+            lock.unlock();\n+        }\n+    }\n+\n+    public Map<MapleDisease, Long> getDiseasesFromStorage(int chrid) {\n+        lock.lock();\n+        try {\n+            return diseases.remove(chrid);\n+        } finally {\n+            lock.unlock();\n+        }\n     }\n \n     @Override"}, {"sha": "620cfdd946ec2d48b819dbdd3edc3efc1011595a", "filename": "src/net/server/channel/handlers/DueyHandler.java", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/src/net/server/channel/handlers/DueyHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/src/net/server/channel/handlers/DueyHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/DueyHandler.java?ref=5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9", "patch": "@@ -252,11 +252,11 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n         }\n     }\n \n-    private void addMesoToDB(int mesos, String sName, int recipientID) {\n+    private static void addMesoToDB(int mesos, String sName, int recipientID) {\n         addItemToDB(null, 1, mesos, sName, recipientID);\n     }\n \n-    private void addItemToDB(Item item, int quantity, int mesos, String sName, int recipientID) {\n+    public static void addItemToDB(Item item, int quantity, int mesos, String sName, int recipientID) {\n         Connection con = null;\n         try {\n             con = DatabaseConnection.getConnection();\n@@ -344,7 +344,7 @@ private void addItemToDB(Item item, int quantity, int mesos, String sName, int r\n         }\n     }\n \n-    private String getCurrentDate() {\n+    private static String getCurrentDate() {\n         String date = \"\";\n         Calendar cal = Calendar.getInstance();\n         int day = cal.get(Calendar.DATE) - 1; // instant duey ?\n@@ -373,7 +373,7 @@ private static int getFee(int meso) {\n         return fee;\n     }\n \n-    private void removeItemFromDB(int packageid) {\n+    private static void removeItemFromDB(int packageid) {\n         Connection con = null;\n         try {\n             con = DatabaseConnection.getConnection();"}, {"sha": "c1008e58380f06ffeec9e6f82482c6cde9014ea6", "filename": "src/net/server/channel/handlers/EnterCashShopHandler.java", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/src/net/server/channel/handlers/EnterCashShopHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/src/net/server/channel/handlers/EnterCashShopHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/EnterCashShopHandler.java?ref=5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9", "patch": "@@ -59,8 +59,10 @@ public void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n \n             mc.unregisterChairBuff();\n             Server.getInstance().getPlayerBuffStorage().addBuffsToStorage(mc.getId(), mc.getAllBuffs());\n+            Server.getInstance().getPlayerBuffStorage().addDiseasesToStorage(mc.getId(), mc.getAllDiseases());\n             mc.setAwayFromWorld(true);\n             mc.cancelAllBuffs(true);\n+            mc.cancelAllDebuffs();\n             mc.cancelBuffExpireTask();\n             mc.cancelDiseaseExpireTask();\n             mc.cancelSkillCooldownTask();"}, {"sha": "8fac19a214d7766a11c53ce0198fadab06ee3f8e", "filename": "src/net/server/channel/handlers/EnterMTSHandler.java", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/src/net/server/channel/handlers/EnterMTSHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/src/net/server/channel/handlers/EnterMTSHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/EnterMTSHandler.java?ref=5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9", "patch": "@@ -68,8 +68,10 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n         \n         chr.unregisterChairBuff();\n         Server.getInstance().getPlayerBuffStorage().addBuffsToStorage(chr.getId(), chr.getAllBuffs());\n+        Server.getInstance().getPlayerBuffStorage().addDiseasesToStorage(chr.getId(), chr.getAllDiseases());\n         chr.setAwayFromWorld(true);\n         chr.cancelAllBuffs(true);\n+        chr.cancelAllDebuffs();\n         chr.cancelBuffExpireTask();\n         chr.cancelDiseaseExpireTask();\n         chr.cancelSkillCooldownTask();"}, {"sha": "11dd88b90284c99600f18c808bb381a0878d2c37", "filename": "src/net/server/channel/handlers/PlayerLoggedinHandler.java", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/src/net/server/channel/handlers/PlayerLoggedinHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/src/net/server/channel/handlers/PlayerLoggedinHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/PlayerLoggedinHandler.java?ref=5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9", "patch": "@@ -46,6 +46,7 @@\n import client.CharacterNameAndId;\n import client.MapleCharacter;\n import client.MapleClient;\n+import client.MapleDisease;\n import client.MapleFamily;\n import client.SkillFactory;\n import client.inventory.MapleInventoryType;\n@@ -54,6 +55,7 @@\n import constants.ServerConstants;\n import java.util.Collections;\n import java.util.Comparator;\n+import java.util.Map;\n \n public final class PlayerLoggedinHandler extends AbstractMaplePacketHandler {\n \n@@ -115,6 +117,11 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             player.silentGiveBuffs(timedBuffs);\n         }\n         \n+        Map<MapleDisease, Long> diseases = server.getPlayerBuffStorage().getDiseasesFromStorage(cid);\n+        if (diseases != null) {\n+            player.silentApplyDiseases(diseases);\n+        }\n+        \n         c.announce(MaplePacketCreator.getCharInfo(player));\n         if (!player.isHidden()) {\n             player.toggleHide(true);"}, {"sha": "ccf97e8f4aec3629f2f7c8b5c28db75c4ede67c4", "filename": "src/net/server/channel/handlers/ReactorHitHandler.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/src/net/server/channel/handlers/ReactorHitHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/src/net/server/channel/handlers/ReactorHitHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/ReactorHitHandler.java?ref=5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9", "patch": "@@ -30,6 +30,7 @@\n  * @author Lerk\n  */\n public final class ReactorHitHandler extends AbstractMaplePacketHandler {\n+    @Override\n     public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n     \t//System.out.println(slea); //To see if there are any differences with packets\n         //CD 00 6B 00 00 00 01 00 00 00 03 00 00 00 20 03 F7 03 00 00"}, {"sha": "970adb8b45ebfeda2d5a580cb912e8715bf387dd", "filename": "src/scripting/AbstractPlayerInteraction.java", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/src/scripting/AbstractPlayerInteraction.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/src/scripting/AbstractPlayerInteraction.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/scripting/AbstractPlayerInteraction.java?ref=5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9", "patch": "@@ -177,6 +177,10 @@ public EventInstanceManager getEventInstance() {\n \t\treturn getPlayer().getEventInstance();\n \t}\n         \n+        public MapleInventory getInventory(int type) {\n+                return getPlayer().getInventory(MapleInventoryType.getByType((byte) type));\n+        }\n+        \n         public MapleInventory getInventory(MapleInventoryType type) {\n                 return getPlayer().getInventory(type);\n         }"}, {"sha": "6d89b96067f0f1a8518b927f435b307a143327ce", "filename": "src/scripting/event/EventInstanceManager.java", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/src/scripting/event/EventInstanceManager.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/src/scripting/event/EventInstanceManager.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/scripting/event/EventInstanceManager.java?ref=5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9", "patch": "@@ -425,6 +425,16 @@ public int getPlayerCount() {\n                         rL.unlock();\n                 }\n \t}\n+        \n+        public MapleCharacter getPlayerById(int id) {\n+                rL.lock();\n+                try {\n+                        return chars.get(id);\n+                }\n+                finally {\n+                        rL.unlock();\n+                }\n+\t}\n \n \tpublic List<MapleCharacter> getPlayers() {\n                 rL.lock();\n@@ -1331,6 +1341,15 @@ public final int gridCheck(MapleCharacter chr) {\n                 }\n         }\n         \n+        public final int gridSize() {\n+                rL.lock();\n+                try {\n+                        return playerGrid.size();\n+                } finally {\n+                        rL.unlock();\n+                }\n+        }\n+        \n         public final void gridClear() {\n                 wL.lock();\n                 try {"}, {"sha": "f8ae171659f2d6ee6fa632c5e7e8251c4f980686", "filename": "src/server/life/MapleMonster.java", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/src/server/life/MapleMonster.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/src/server/life/MapleMonster.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/life/MapleMonster.java?ref=5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9", "patch": "@@ -436,13 +436,8 @@ public void giveExpToCharacter(MapleCharacter attacker, int exp, boolean isKille\n                     partyExp = (int) (personalExp * partyModifier * ServerConstants.PARTY_BONUS_EXP_RATE);\n                 }\n                 Integer holySymbol = attacker.getBuffedValue(MapleBuffStat.HOLY_SYMBOL);\n-                boolean GMHolySymbol = attacker.getBuffSource(MapleBuffStat.HOLY_SYMBOL) == SuperGM.HOLY_SYMBOL;\n                 if (holySymbol != null) {\n-                    if (numExpSharers == 1 && !GMHolySymbol) {\n-                        personalExp *= 1.0 + (holySymbol.doubleValue() / 500.0);\n-                    } else {\n-                        personalExp *= 1.0 + (holySymbol.doubleValue() / 100.0);\n-                    }\n+                    personalExp *= 1.0 + (holySymbol.doubleValue() / 100.0);\n                 }\n                 \n                 statiLock.lock();"}, {"sha": "1cf9d01c9bcec0c56274b5ca8fb59e5fa552d85d", "filename": "wz/Item.wz/Consume/0210.img.xml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/wz/Item.wz/Consume/0210.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/wz/Item.wz/Consume/0210.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Item.wz/Consume/0210.img.xml?ref=5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9", "patch": "@@ -1509,7 +1509,7 @@\n         <int name=\"prob\" value=\"100\"/>\n       </imgdir>\n       <imgdir name=\"3\">\n-        <int name=\"id\" value=\"8130200\"/>\n+        <int name=\"id\" value=\"9420538\"/>\n         <int name=\"prob\" value=\"100\"/>\n       </imgdir>\n       <imgdir name=\"4\">"}, {"sha": "7951de70e4d5e8c659fc0ac1f734be9864049614", "filename": "wz/Item.wz/Etc/0400.img.xml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/wz/Item.wz/Etc/0400.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/wz/Item.wz/Etc/0400.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Item.wz/Etc/0400.img.xml?ref=5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9", "patch": "@@ -4157,6 +4157,7 @@\n       </canvas>\n       <int name=\"price\" value=\"100\"/>\n       <int name=\"slotMax\" value=\"200\"/>\n+      <int name=\"pquest\" value=\"1\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"04000324\">"}, {"sha": "8de57c044bbe411f7e51c02b8afb9f72222c30ba", "filename": "wz/Item.wz/Etc/0403.img.xml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/wz/Item.wz/Etc/0403.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/wz/Item.wz/Etc/0403.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Item.wz/Etc/0403.img.xml?ref=5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9", "patch": "@@ -2865,7 +2865,7 @@\n         <vector name=\"origin\" x=\"0\" y=\"33\"/>\n       </canvas>\n       <int name=\"price\" value=\"1\"/>\n-      <int name=\"quest\" value=\"1\"/>\n+      <int name=\"pquest\" value=\"1\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"04031218\">"}, {"sha": "5425edcbfe49ea03eb15028caad41718037d8bd4", "filename": "wz/Map.wz/Map/Map6/680000110.img.xml", "status": "modified", "additions": 242, "deletions": 256, "changes": 498, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/wz/Map.wz/Map/Map6/680000110.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/wz/Map.wz/Map/Map6/680000110.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map6/680000110.img.xml?ref=5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9", "patch": "@@ -1,311 +1,312 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"680000110.img\">\n   <imgdir name=\"info\">\n-    <int name=\"version\" value=\"10\"/>\n+    <string name=\"bgm\" value=\"\"/>\n     <int name=\"cloud\" value=\"0\"/>\n-    <int name=\"town\" value=\"1\"/>\n     <int name=\"swim\" value=\"0\"/>\n-    <int name=\"returnMap\" value=\"680000500\"/>\n     <int name=\"forcedReturn\" value=\"680000500\"/>\n-    <float name=\"mobRate\" value=\"1.0\"/>\n-    <string name=\"mapMark\" value=\"Wedding\"/>\n     <int name=\"hideMinimap\" value=\"1\"/>\n-    <int name=\"fieldType\" value=\"60\"/>\n+    <string name=\"mapMark\" value=\"Wedding\"/>\n+    <float name=\"mobRate\" value=\"1.0\"/>\n+    <int name=\"returnMap\" value=\"680000500\"/>\n+    <int name=\"town\" value=\"1\"/>\n+    <int name=\"version\" value=\"10\"/>\n     <int name=\"fieldLimit\" value=\"131326\"/>\n-    <int name=\"VRTop\" value=\"-300\"/>\n+    <int name=\"fieldType\" value=\"60\"/>\n     <int name=\"VRLeft\" value=\"-400\"/>\n-    <int name=\"VRBottom\" value=\"300\"/>\n     <int name=\"VRRight\" value=\"400\"/>\n-    <string name=\"bgm\" value=\"\"/>\n-  </imgdir>\n-  <imgdir name=\"back\">\n-    <imgdir name=\"0\">\n-      <string name=\"bS\" value=\"\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"0\"/>\n-      <int name=\"y\" value=\"0\"/>\n-      <int name=\"rx\" value=\"0\"/>\n-      <int name=\"ry\" value=\"0\"/>\n-      <int name=\"type\" value=\"0\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"life\">\n-    <imgdir name=\"1\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9201009\"/>\n-      <int name=\"x\" value=\"262\"/>\n-      <int name=\"y\" value=\"204\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"17\"/>\n-      <int name=\"cy\" value=\"209\"/>\n-      <int name=\"rx0\" value=\"212\"/>\n-      <int name=\"rx1\" value=\"312\"/>\n-    </imgdir>\n-    <imgdir name=\"0\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9201011\"/>\n-      <int name=\"x\" value=\"-319\"/>\n-      <int name=\"y\" value=\"178\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"18\"/>\n-      <int name=\"cy\" value=\"187\"/>\n-      <int name=\"rx0\" value=\"-369\"/>\n-      <int name=\"rx1\" value=\"-269\"/>\n-    </imgdir>\n-    <imgdir name=\"2\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9201010\"/>\n-      <int name=\"x\" value=\"296\"/>\n-      <int name=\"y\" value=\"-43\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"1\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"10\"/>\n-      <int name=\"cy\" value=\"-35\"/>\n-      <int name=\"rx0\" value=\"246\"/>\n-      <int name=\"rx1\" value=\"346\"/>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"reactor\">\n+    <int name=\"VRTop\" value=\"-300\"/>\n+    <int name=\"VRBottom\" value=\"300\"/>\n   </imgdir>\n   <imgdir name=\"0\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n+        <int name=\"x\" value=\"0\"/>\n+        <int name=\"y\" value=\"0\"/>\n+        <int name=\"z\" value=\"9\"/>\n+        <int name=\"zM\" value=\"0\"/>\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside5\"/>\n         <string name=\"l1\" value=\"basic\"/>\n         <string name=\"l2\" value=\"1\"/>\n-        <int name=\"x\" value=\"0\"/>\n-        <int name=\"y\" value=\"0\"/>\n-        <int name=\"z\" value=\"9\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"0\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"1\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n+        <int name=\"x\" value=\"0\"/>\n+        <int name=\"y\" value=\"0\"/>\n+        <int name=\"z\" value=\"9\"/>\n+        <int name=\"zM\" value=\"1\"/>\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside5\"/>\n         <string name=\"l1\" value=\"basic\"/>\n         <string name=\"l2\" value=\"0\"/>\n-        <int name=\"x\" value=\"0\"/>\n-        <int name=\"y\" value=\"0\"/>\n-        <int name=\"z\" value=\"9\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"1\"/>\n       </imgdir>\n       <imgdir name=\"1\">\n+        <int name=\"x\" value=\"66\"/>\n+        <int name=\"y\" value=\"-12\"/>\n+        <int name=\"z\" value=\"9\"/>\n+        <int name=\"zM\" value=\"1\"/>\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside5\"/>\n         <string name=\"l1\" value=\"acc\"/>\n         <string name=\"l2\" value=\"0\"/>\n-        <int name=\"x\" value=\"66\"/>\n-        <int name=\"y\" value=\"-12\"/>\n-        <int name=\"z\" value=\"9\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"1\"/>\n       </imgdir>\n       <imgdir name=\"2\">\n+        <int name=\"x\" value=\"200\"/>\n+        <int name=\"y\" value=\"-12\"/>\n+        <int name=\"z\" value=\"9\"/>\n+        <int name=\"zM\" value=\"1\"/>\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside5\"/>\n         <string name=\"l1\" value=\"acc\"/>\n         <string name=\"l2\" value=\"1\"/>\n-        <int name=\"x\" value=\"200\"/>\n-        <int name=\"y\" value=\"-12\"/>\n-        <int name=\"z\" value=\"9\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"1\"/>\n       </imgdir>\n       <imgdir name=\"3\">\n+        <int name=\"x\" value=\"100\"/>\n+        <int name=\"y\" value=\"-56\"/>\n+        <int name=\"z\" value=\"9\"/>\n+        <int name=\"zM\" value=\"1\"/>\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside5\"/>\n         <string name=\"l1\" value=\"acc\"/>\n         <string name=\"l2\" value=\"0\"/>\n-        <int name=\"x\" value=\"100\"/>\n-        <int name=\"y\" value=\"-56\"/>\n-        <int name=\"z\" value=\"9\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"1\"/>\n       </imgdir>\n       <imgdir name=\"4\">\n+        <int name=\"x\" value=\"233\"/>\n+        <int name=\"y\" value=\"-56\"/>\n+        <int name=\"z\" value=\"9\"/>\n+        <int name=\"zM\" value=\"1\"/>\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside5\"/>\n         <string name=\"l1\" value=\"acc\"/>\n         <string name=\"l2\" value=\"1\"/>\n-        <int name=\"x\" value=\"233\"/>\n-        <int name=\"y\" value=\"-56\"/>\n-        <int name=\"z\" value=\"9\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"1\"/>\n       </imgdir>\n       <imgdir name=\"5\">\n+        <int name=\"x\" value=\"134\"/>\n+        <int name=\"y\" value=\"-100\"/>\n+        <int name=\"z\" value=\"9\"/>\n+        <int name=\"zM\" value=\"1\"/>\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside5\"/>\n         <string name=\"l1\" value=\"acc\"/>\n         <string name=\"l2\" value=\"0\"/>\n-        <int name=\"x\" value=\"134\"/>\n-        <int name=\"y\" value=\"-100\"/>\n-        <int name=\"z\" value=\"9\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"1\"/>\n       </imgdir>\n       <imgdir name=\"6\">\n+        <int name=\"x\" value=\"268\"/>\n+        <int name=\"y\" value=\"-100\"/>\n+        <int name=\"z\" value=\"9\"/>\n+        <int name=\"zM\" value=\"1\"/>\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside5\"/>\n         <string name=\"l1\" value=\"acc\"/>\n         <string name=\"l2\" value=\"1\"/>\n-        <int name=\"x\" value=\"268\"/>\n-        <int name=\"y\" value=\"-100\"/>\n-        <int name=\"z\" value=\"9\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"1\"/>\n       </imgdir>\n       <imgdir name=\"7\">\n+        <int name=\"x\" value=\"350\"/>\n+        <int name=\"y\" value=\"-56\"/>\n+        <int name=\"z\" value=\"9\"/>\n+        <int name=\"zM\" value=\"1\"/>\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside5\"/>\n         <string name=\"l1\" value=\"acc\"/>\n         <string name=\"l2\" value=\"2\"/>\n-        <int name=\"x\" value=\"350\"/>\n-        <int name=\"y\" value=\"-56\"/>\n-        <int name=\"z\" value=\"9\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"1\"/>\n       </imgdir>\n       <imgdir name=\"8\">\n+        <int name=\"x\" value=\"367\"/>\n+        <int name=\"y\" value=\"-100\"/>\n+        <int name=\"z\" value=\"9\"/>\n+        <int name=\"zM\" value=\"1\"/>\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside5\"/>\n         <string name=\"l1\" value=\"acc\"/>\n         <string name=\"l2\" value=\"3\"/>\n-        <int name=\"x\" value=\"367\"/>\n-        <int name=\"y\" value=\"-100\"/>\n-        <int name=\"z\" value=\"9\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"1\"/>\n       </imgdir>\n       <imgdir name=\"9\">\n+        <int name=\"x\" value=\"336\"/>\n+        <int name=\"y\" value=\"-12\"/>\n+        <int name=\"z\" value=\"9\"/>\n+        <int name=\"zM\" value=\"1\"/>\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside5\"/>\n         <string name=\"l1\" value=\"acc\"/>\n         <string name=\"l2\" value=\"1\"/>\n-        <int name=\"x\" value=\"336\"/>\n-        <int name=\"y\" value=\"-12\"/>\n-        <int name=\"z\" value=\"9\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"1\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"2\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"3\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n+        <int name=\"x\" value=\"174\"/>\n+        <int name=\"y\" value=\"102\"/>\n+        <int name=\"z\" value=\"9\"/>\n+        <int name=\"zM\" value=\"2\"/>\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside5\"/>\n         <string name=\"l1\" value=\"front\"/>\n         <string name=\"l2\" value=\"0\"/>\n-        <int name=\"x\" value=\"174\"/>\n-        <int name=\"y\" value=\"102\"/>\n-        <int name=\"z\" value=\"9\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"2\"/>\n       </imgdir>\n       <imgdir name=\"1\">\n+        <int name=\"x\" value=\"2\"/>\n+        <int name=\"y\" value=\"-179\"/>\n+        <int name=\"z\" value=\"9\"/>\n+        <int name=\"zM\" value=\"5\"/>\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside5\"/>\n         <string name=\"l1\" value=\"ani\"/>\n         <string name=\"l2\" value=\"0\"/>\n-        <int name=\"x\" value=\"2\"/>\n-        <int name=\"y\" value=\"-179\"/>\n-        <int name=\"z\" value=\"9\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"5\"/>\n       </imgdir>\n       <imgdir name=\"2\">\n+        <int name=\"x\" value=\"-15\"/>\n+        <int name=\"y\" value=\"-33\"/>\n+        <int name=\"z\" value=\"9\"/>\n+        <int name=\"zM\" value=\"3\"/>\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside5\"/>\n         <string name=\"l1\" value=\"ani\"/>\n         <string name=\"l2\" value=\"1\"/>\n-        <int name=\"x\" value=\"-15\"/>\n-        <int name=\"y\" value=\"-33\"/>\n-        <int name=\"z\" value=\"9\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"3\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"4\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n+        <int name=\"x\" value=\"7\"/>\n+        <int name=\"y\" value=\"-260\"/>\n+        <int name=\"z\" value=\"9\"/>\n+        <int name=\"zM\" value=\"4\"/>\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside5\"/>\n         <string name=\"l1\" value=\"acc\"/>\n         <string name=\"l2\" value=\"4\"/>\n-        <int name=\"x\" value=\"7\"/>\n-        <int name=\"y\" value=\"-260\"/>\n-        <int name=\"z\" value=\"9\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"4\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"5\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"6\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"7\">\n     <imgdir name=\"info\">\n     </imgdir>\n+    <imgdir name=\"obj\">\n+    </imgdir>\n     <imgdir name=\"tile\">\n     </imgdir>\n-    <imgdir name=\"obj\">\n+  </imgdir>\n+  <imgdir name=\"ladderRope\">\n+  </imgdir>\n+  <imgdir name=\"seat\">\n+    <vector name=\"0\" x=\"21\" y=\"6\"/>\n+    <vector name=\"1\" x=\"54\" y=\"6\"/>\n+    <vector name=\"2\" x=\"55\" y=\"-38\"/>\n+    <vector name=\"3\" x=\"88\" y=\"-38\"/>\n+    <vector name=\"4\" x=\"89\" y=\"-82\"/>\n+    <vector name=\"5\" x=\"90\" y=\"6\"/>\n+    <vector name=\"6\" x=\"122\" y=\"-82\"/>\n+    <vector name=\"7\" x=\"124\" y=\"-38\"/>\n+    <vector name=\"8\" x=\"155\" y=\"6\"/>\n+    <vector name=\"9\" x=\"158\" y=\"-82\"/>\n+    <vector name=\"10\" x=\"188\" y=\"-38\"/>\n+    <vector name=\"11\" x=\"188\" y=\"6\"/>\n+    <vector name=\"12\" x=\"221\" y=\"-38\"/>\n+    <vector name=\"13\" x=\"223\" y=\"-82\"/>\n+    <vector name=\"14\" x=\"224\" y=\"6\"/>\n+    <vector name=\"15\" x=\"256\" y=\"-82\"/>\n+    <vector name=\"16\" x=\"257\" y=\"-38\"/>\n+    <vector name=\"17\" x=\"291\" y=\"6\"/>\n+    <vector name=\"18\" x=\"292\" y=\"-82\"/>\n+    <vector name=\"19\" x=\"322\" y=\"-38\"/>\n+    <vector name=\"20\" x=\"324\" y=\"6\"/>\n+    <vector name=\"21\" x=\"349\" y=\"-82\"/>\n+    <vector name=\"22\" x=\"353\" y=\"-38\"/>\n+    <vector name=\"23\" x=\"360\" y=\"6\"/>\n+    <vector name=\"24\" x=\"366\" y=\"-82\"/>\n+    <vector name=\"25\" x=\"383\" y=\"-82\"/>\n+    <vector name=\"26\" x=\"383\" y=\"-38\"/>\n+  </imgdir>\n+  <imgdir name=\"portal\">\n+    <imgdir name=\"0\">\n+      <int name=\"x\" value=\"126\"/>\n+      <int name=\"y\" value=\"-115\"/>\n+      <int name=\"pt\" value=\"0\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+      <string name=\"pn\" value=\"sp\"/>\n     </imgdir>\n+    <imgdir name=\"1\">\n+      <int name=\"x\" value=\"333\"/>\n+      <int name=\"y\" value=\"-131\"/>\n+      <int name=\"pt\" value=\"0\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+      <string name=\"pn\" value=\"sp\"/>\n+    </imgdir>\n+    <imgdir name=\"2\">\n+      <int name=\"x\" value=\"308\"/>\n+      <int name=\"y\" value=\"213\"/>\n+      <int name=\"pt\" value=\"1\"/>\n+      <int name=\"tm\" value=\"680000110\"/>\n+      <string name=\"tn\" value=\"we00\"/>\n+      <string name=\"pn\" value=\"we00\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"reactor\">\n+  </imgdir>\n+  <imgdir name=\"back\">\n   </imgdir>\n   <imgdir name=\"foothold\">\n     <imgdir name=\"1\">\n@@ -324,194 +325,179 @@\n           <int name=\"x2\" value=\"-218\"/>\n           <int name=\"y2\" value=\"212\"/>\n           <int name=\"prev\" value=\"1\"/>\n-          <int name=\"next\" value=\"3\"/>\n+          <int name=\"next\" value=\"4\"/>\n         </imgdir>\n         <imgdir name=\"3\">\n+          <int name=\"x1\" value=\"-356\"/>\n+          <int name=\"y1\" value=\"187\"/>\n+          <int name=\"x2\" value=\"-293\"/>\n+          <int name=\"y2\" value=\"187\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"4\">\n           <int name=\"x1\" value=\"-218\"/>\n           <int name=\"y1\" value=\"212\"/>\n           <int name=\"x2\" value=\"-214\"/>\n           <int name=\"y2\" value=\"209\"/>\n           <int name=\"prev\" value=\"2\"/>\n-          <int name=\"next\" value=\"4\"/>\n+          <int name=\"next\" value=\"5\"/>\n         </imgdir>\n-        <imgdir name=\"4\">\n+        <imgdir name=\"5\">\n           <int name=\"x1\" value=\"-214\"/>\n           <int name=\"y1\" value=\"209\"/>\n           <int name=\"x2\" value=\"-171\"/>\n           <int name=\"y2\" value=\"209\"/>\n-          <int name=\"prev\" value=\"3\"/>\n-          <int name=\"next\" value=\"17\"/>\n+          <int name=\"prev\" value=\"4\"/>\n+          <int name=\"next\" value=\"7\"/>\n         </imgdir>\n-        <imgdir name=\"5\">\n-          <int name=\"x1\" value=\"396\"/>\n+        <imgdir name=\"6\">\n+          <int name=\"x1\" value=\"-171\"/>\n+          <int name=\"y1\" value=\"-300\"/>\n+          <int name=\"x2\" value=\"-171\"/>\n+          <int name=\"y2\" value=\"209\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"7\"/>\n+        </imgdir>\n+        <imgdir name=\"7\">\n+          <int name=\"x1\" value=\"-171\"/>\n           <int name=\"y1\" value=\"209\"/>\n           <int name=\"x2\" value=\"396\"/>\n-          <int name=\"y2\" value=\"29\"/>\n-          <int name=\"prev\" value=\"17\"/>\n-          <int name=\"next\" value=\"0\"/>\n+          <int name=\"y2\" value=\"209\"/>\n+          <int name=\"prev\" value=\"6\"/>\n+          <int name=\"next\" value=\"14\"/>\n         </imgdir>\n-        <imgdir name=\"6\">\n+        <imgdir name=\"8\">\n           <int name=\"x1\" value=\"-168\"/>\n           <int name=\"y1\" value=\"187\"/>\n           <int name=\"x2\" value=\"-121\"/>\n           <int name=\"y2\" value=\"187\"/>\n           <int name=\"prev\" value=\"0\"/>\n           <int name=\"next\" value=\"0\"/>\n         </imgdir>\n-        <imgdir name=\"7\">\n+        <imgdir name=\"9\">\n           <int name=\"x1\" value=\"-4\"/>\n           <int name=\"y1\" value=\"-288\"/>\n           <int name=\"x2\" value=\"-4\"/>\n           <int name=\"y2\" value=\"19\"/>\n           <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"8\"/>\n+          <int name=\"next\" value=\"10\"/>\n+          <int name=\"cantThrough\" value=\"1\"/>\n+          <int name=\"forbidFallDown\" value=\"1\"/>\n         </imgdir>\n-        <imgdir name=\"8\">\n+        <imgdir name=\"10\">\n           <int name=\"x1\" value=\"-4\"/>\n           <int name=\"y1\" value=\"19\"/>\n           <int name=\"x2\" value=\"401\"/>\n           <int name=\"y2\" value=\"19\"/>\n-          <int name=\"prev\" value=\"7\"/>\n-          <int name=\"next\" value=\"9\"/>\n-        </imgdir>\n-        <imgdir name=\"9\">\n-          <int name=\"x1\" value=\"401\"/>\n-          <int name=\"y1\" value=\"19\"/>\n-          <int name=\"x2\" value=\"401\"/>\n-          <int name=\"y2\" value=\"-35\"/>\n-          <int name=\"prev\" value=\"8\"/>\n-          <int name=\"next\" value=\"11\"/>\n+          <int name=\"prev\" value=\"9\"/>\n+          <int name=\"next\" value=\"18\"/>\n+          <int name=\"cantThrough\" value=\"1\"/>\n+          <int name=\"forbidFallDown\" value=\"1\"/>\n         </imgdir>\n-        <imgdir name=\"10\">\n+        <imgdir name=\"11\">\n           <int name=\"x1\" value=\"13\"/>\n           <int name=\"y1\" value=\"-35\"/>\n           <int name=\"x2\" value=\"401\"/>\n           <int name=\"y2\" value=\"-35\"/>\n           <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"11\"/>\n-        </imgdir>\n-        <imgdir name=\"11\">\n-          <int name=\"x1\" value=\"401\"/>\n-          <int name=\"y1\" value=\"-35\"/>\n-          <int name=\"x2\" value=\"401\"/>\n-          <int name=\"y2\" value=\"-79\"/>\n-          <int name=\"prev\" value=\"10\"/>\n-          <int name=\"next\" value=\"13\"/>\n+          <int name=\"next\" value=\"17\"/>\n         </imgdir>\n         <imgdir name=\"12\">\n           <int name=\"x1\" value=\"47\"/>\n           <int name=\"y1\" value=\"-79\"/>\n           <int name=\"x2\" value=\"401\"/>\n           <int name=\"y2\" value=\"-79\"/>\n           <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"13\"/>\n+          <int name=\"next\" value=\"16\"/>\n         </imgdir>\n         <imgdir name=\"13\">\n-          <int name=\"x1\" value=\"401\"/>\n-          <int name=\"y1\" value=\"-79\"/>\n-          <int name=\"x2\" value=\"401\"/>\n-          <int name=\"y2\" value=\"-123\"/>\n-          <int name=\"prev\" value=\"12\"/>\n-          <int name=\"next\" value=\"15\"/>\n-        </imgdir>\n-        <imgdir name=\"14\">\n           <int name=\"x1\" value=\"81\"/>\n           <int name=\"y1\" value=\"-123\"/>\n           <int name=\"x2\" value=\"401\"/>\n           <int name=\"y2\" value=\"-123\"/>\n           <int name=\"prev\" value=\"0\"/>\n           <int name=\"next\" value=\"15\"/>\n         </imgdir>\n+        <imgdir name=\"14\">\n+          <int name=\"x1\" value=\"396\"/>\n+          <int name=\"y1\" value=\"209\"/>\n+          <int name=\"x2\" value=\"396\"/>\n+          <int name=\"y2\" value=\"29\"/>\n+          <int name=\"prev\" value=\"7\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n         <imgdir name=\"15\">\n           <int name=\"x1\" value=\"401\"/>\n           <int name=\"y1\" value=\"-123\"/>\n           <int name=\"x2\" value=\"401\"/>\n           <int name=\"y2\" value=\"-288\"/>\n-          <int name=\"prev\" value=\"14\"/>\n+          <int name=\"prev\" value=\"13\"/>\n           <int name=\"next\" value=\"0\"/>\n         </imgdir>\n         <imgdir name=\"16\">\n-          <int name=\"x1\" value=\"-171\"/>\n-          <int name=\"y1\" value=\"-300\"/>\n-          <int name=\"x2\" value=\"-171\"/>\n-          <int name=\"y2\" value=\"209\"/>\n-          <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"17\"/>\n+          <int name=\"x1\" value=\"401\"/>\n+          <int name=\"y1\" value=\"-79\"/>\n+          <int name=\"x2\" value=\"401\"/>\n+          <int name=\"y2\" value=\"-123\"/>\n+          <int name=\"prev\" value=\"12\"/>\n+          <int name=\"next\" value=\"15\"/>\n         </imgdir>\n         <imgdir name=\"17\">\n-          <int name=\"x1\" value=\"-171\"/>\n-          <int name=\"y1\" value=\"209\"/>\n-          <int name=\"x2\" value=\"396\"/>\n-          <int name=\"y2\" value=\"209\"/>\n-          <int name=\"prev\" value=\"16\"/>\n-          <int name=\"next\" value=\"5\"/>\n+          <int name=\"x1\" value=\"401\"/>\n+          <int name=\"y1\" value=\"-35\"/>\n+          <int name=\"x2\" value=\"401\"/>\n+          <int name=\"y2\" value=\"-79\"/>\n+          <int name=\"prev\" value=\"11\"/>\n+          <int name=\"next\" value=\"16\"/>\n         </imgdir>\n         <imgdir name=\"18\">\n-          <int name=\"x1\" value=\"-356\"/>\n-          <int name=\"y1\" value=\"187\"/>\n-          <int name=\"x2\" value=\"-293\"/>\n-          <int name=\"y2\" value=\"187\"/>\n-          <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"0\"/>\n+          <int name=\"x1\" value=\"401\"/>\n+          <int name=\"y1\" value=\"19\"/>\n+          <int name=\"x2\" value=\"401\"/>\n+          <int name=\"y2\" value=\"-35\"/>\n+          <int name=\"prev\" value=\"10\"/>\n+          <int name=\"next\" value=\"17\"/>\n         </imgdir>\n       </imgdir>\n     </imgdir>\n   </imgdir>\n-  <imgdir name=\"ladderRope\">\n-  </imgdir>\n-  <imgdir name=\"seat\">\n-    <vector name=\"0\" x=\"21\" y=\"6\"/>\n-    <vector name=\"1\" x=\"54\" y=\"6\"/>\n-    <vector name=\"2\" x=\"90\" y=\"6\"/>\n-    <vector name=\"3\" x=\"155\" y=\"6\"/>\n-    <vector name=\"4\" x=\"188\" y=\"6\"/>\n-    <vector name=\"5\" x=\"224\" y=\"6\"/>\n-    <vector name=\"6\" x=\"55\" y=\"-38\"/>\n-    <vector name=\"7\" x=\"88\" y=\"-38\"/>\n-    <vector name=\"8\" x=\"124\" y=\"-38\"/>\n-    <vector name=\"9\" x=\"188\" y=\"-38\"/>\n-    <vector name=\"10\" x=\"221\" y=\"-38\"/>\n-    <vector name=\"11\" x=\"257\" y=\"-38\"/>\n-    <vector name=\"12\" x=\"89\" y=\"-82\"/>\n-    <vector name=\"13\" x=\"122\" y=\"-82\"/>\n-    <vector name=\"14\" x=\"158\" y=\"-82\"/>\n-    <vector name=\"15\" x=\"223\" y=\"-82\"/>\n-    <vector name=\"16\" x=\"256\" y=\"-82\"/>\n-    <vector name=\"17\" x=\"292\" y=\"-82\"/>\n-    <vector name=\"18\" x=\"322\" y=\"-38\"/>\n-    <vector name=\"19\" x=\"353\" y=\"-38\"/>\n-    <vector name=\"20\" x=\"383\" y=\"-38\"/>\n-    <vector name=\"21\" x=\"349\" y=\"-82\"/>\n-    <vector name=\"22\" x=\"366\" y=\"-82\"/>\n-    <vector name=\"23\" x=\"383\" y=\"-82\"/>\n-    <vector name=\"24\" x=\"291\" y=\"6\"/>\n-    <vector name=\"25\" x=\"324\" y=\"6\"/>\n-    <vector name=\"26\" x=\"360\" y=\"6\"/>\n-  </imgdir>\n-  <imgdir name=\"portal\">\n+  <imgdir name=\"life\">\n     <imgdir name=\"0\">\n-      <string name=\"pn\" value=\"sp\"/>\n-      <int name=\"pt\" value=\"0\"/>\n-      <int name=\"x\" value=\"126\"/>\n-      <int name=\"y\" value=\"-115\"/>\n-      <int name=\"tm\" value=\"999999999\"/>\n-      <string name=\"tn\" value=\"\"/>\n+      <string name=\"id\" value=\"9201009\"/>\n+      <int name=\"x\" value=\"262\"/>\n+      <int name=\"y\" value=\"204\"/>\n+      <int name=\"cy\" value=\"209\"/>\n+      <int name=\"mobTime\" value=\"0\"/>\n+      <int name=\"rx0\" value=\"212\"/>\n+      <int name=\"rx1\" value=\"312\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"type\" value=\"n\"/>\n+      <int name=\"fh\" value=\"7\"/>\n     </imgdir>\n     <imgdir name=\"1\">\n-      <string name=\"pn\" value=\"sp\"/>\n-      <int name=\"pt\" value=\"0\"/>\n-      <int name=\"x\" value=\"333\"/>\n-      <int name=\"y\" value=\"-131\"/>\n-      <int name=\"tm\" value=\"999999999\"/>\n-      <string name=\"tn\" value=\"\"/>\n+      <string name=\"id\" value=\"9201011\"/>\n+      <int name=\"x\" value=\"-319\"/>\n+      <int name=\"y\" value=\"178\"/>\n+      <int name=\"cy\" value=\"187\"/>\n+      <int name=\"mobTime\" value=\"0\"/>\n+      <int name=\"rx0\" value=\"-369\"/>\n+      <int name=\"rx1\" value=\"-269\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"type\" value=\"n\"/>\n+      <int name=\"fh\" value=\"3\"/>\n     </imgdir>\n     <imgdir name=\"2\">\n-      <string name=\"pn\" value=\"we00\"/>\n-      <int name=\"pt\" value=\"1\"/>\n-      <int name=\"x\" value=\"308\"/>\n-      <int name=\"y\" value=\"213\"/>\n-      <int name=\"tm\" value=\"680000110\"/>\n-      <string name=\"tn\" value=\"we00\"/>\n+      <string name=\"id\" value=\"9201010\"/>\n+      <int name=\"x\" value=\"296\"/>\n+      <int name=\"y\" value=\"-43\"/>\n+      <int name=\"cy\" value=\"-35\"/>\n+      <int name=\"mobTime\" value=\"0\"/>\n+      <int name=\"rx0\" value=\"247\"/>\n+      <int name=\"rx1\" value=\"347\"/>\n+      <int name=\"f\" value=\"1\"/>\n+      <string name=\"type\" value=\"n\"/>\n+      <int name=\"fh\" value=\"11\"/>\n     </imgdir>\n   </imgdir>\n </imgdir>"}, {"sha": "3a743cd167c3e3cb3aa7b69270bfe93add3166e0", "filename": "wz/Map.wz/Map/Map6/680000210.img.xml", "status": "modified", "additions": 318, "deletions": 330, "changes": 648, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/wz/Map.wz/Map/Map6/680000210.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/wz/Map.wz/Map/Map6/680000210.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map6/680000210.img.xml?ref=5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9", "patch": "@@ -1,431 +1,415 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"680000210.img\">\n   <imgdir name=\"info\">\n-    <int name=\"fieldType\" value=\"60\"/>\n-    <int name=\"version\" value=\"10\"/>\n+    <string name=\"bgm\" value=\"\"/>\n     <int name=\"cloud\" value=\"0\"/>\n-    <int name=\"town\" value=\"1\"/>\n     <int name=\"swim\" value=\"0\"/>\n-    <int name=\"returnMap\" value=\"680000500\"/>\n     <int name=\"forcedReturn\" value=\"680000500\"/>\n-    <float name=\"mobRate\" value=\"1.0\"/>\n-    <string name=\"mapMark\" value=\"Wedding\"/>\n     <int name=\"hideMinimap\" value=\"1\"/>\n+    <string name=\"mapMark\" value=\"Wedding\"/>\n+    <float name=\"mobRate\" value=\"1.0\"/>\n+    <int name=\"returnMap\" value=\"680000500\"/>\n+    <int name=\"town\" value=\"1\"/>\n+    <int name=\"version\" value=\"10\"/>\n     <int name=\"fieldLimit\" value=\"131326\"/>\n-    <int name=\"VRTop\" value=\"-197\"/>\n+    <int name=\"fieldType\" value=\"60\"/>\n     <int name=\"VRLeft\" value=\"-672\"/>\n-    <int name=\"VRBottom\" value=\"412\"/>\n     <int name=\"VRRight\" value=\"532\"/>\n-    <string name=\"bgm\" value=\"\"/>\n-  </imgdir>\n-  <imgdir name=\"back\">\n-    <imgdir name=\"0\">\n-      <string name=\"bS\" value=\"\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"0\"/>\n-      <int name=\"y\" value=\"0\"/>\n-      <int name=\"rx\" value=\"0\"/>\n-      <int name=\"ry\" value=\"0\"/>\n-      <int name=\"type\" value=\"0\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"life\">\n-    <imgdir name=\"1\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9201007\"/>\n-      <int name=\"x\" value=\"199\"/>\n-      <int name=\"y\" value=\"299\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"8\"/>\n-      <int name=\"cy\" value=\"305\"/>\n-      <int name=\"rx0\" value=\"149\"/>\n-      <int name=\"rx1\" value=\"249\"/>\n-    </imgdir>\n-    <imgdir name=\"0\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9201006\"/>\n-      <int name=\"x\" value=\"258\"/>\n-      <int name=\"y\" value=\"33\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"13\"/>\n-      <int name=\"cy\" value=\"34\"/>\n-      <int name=\"rx0\" value=\"208\"/>\n-      <int name=\"rx1\" value=\"308\"/>\n-    </imgdir>\n-    <imgdir name=\"2\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9201002\"/>\n-      <int name=\"x\" value=\"-424\"/>\n-      <int name=\"y\" value=\"238\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"1\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"2\"/>\n-      <int name=\"cy\" value=\"243\"/>\n-      <int name=\"rx0\" value=\"-474\"/>\n-      <int name=\"rx1\" value=\"-374\"/>\n-    </imgdir>\n+    <int name=\"VRTop\" value=\"-197\"/>\n+    <int name=\"VRBottom\" value=\"412\"/>\n   </imgdir>\n-  <imgdir name=\"reactor\">\n+  <imgdir name=\"miniMap\">\n+    <canvas name=\"canvas\" width=\"98\" height=\"62\">\n+    </canvas>\n+    <int name=\"width\" value=\"1574\"/>\n+    <int name=\"height\" value=\"1007\"/>\n+    <int name=\"centerX\" value=\"854\"/>\n+    <int name=\"centerY\" value=\"531\"/>\n+    <int name=\"mag\" value=\"4\"/>\n   </imgdir>\n   <imgdir name=\"0\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"1\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"2\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"3\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n-        <string name=\"oS\" value=\"insideWGL\"/>\n-        <string name=\"l0\" value=\"inside4\"/>\n-        <string name=\"l1\" value=\"basic\"/>\n-        <string name=\"l2\" value=\"1\"/>\n         <int name=\"x\" value=\"-638\"/>\n         <int name=\"y\" value=\"51\"/>\n         <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"1\"/>\n-      </imgdir>\n-      <imgdir name=\"1\">\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside4\"/>\n         <string name=\"l1\" value=\"basic\"/>\n         <string name=\"l2\" value=\"1\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"1\">\n         <int name=\"x\" value=\"-301\"/>\n         <int name=\"y\" value=\"52\"/>\n         <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"2\">\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside4\"/>\n         <string name=\"l1\" value=\"basic\"/>\n         <string name=\"l2\" value=\"1\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"2\">\n         <int name=\"x\" value=\"35\"/>\n         <int name=\"y\" value=\"52\"/>\n         <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"oS\" value=\"insideWGL\"/>\n+        <string name=\"l0\" value=\"inside4\"/>\n+        <string name=\"l1\" value=\"basic\"/>\n+        <string name=\"l2\" value=\"1\"/>\n+        <int name=\"f\" value=\"0\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"4\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n-        <string name=\"oS\" value=\"insideWGL\"/>\n-        <string name=\"l0\" value=\"inside4\"/>\n-        <string name=\"l1\" value=\"basic\"/>\n-        <string name=\"l2\" value=\"0\"/>\n         <int name=\"x\" value=\"-67\"/>\n         <int name=\"y\" value=\"-32\"/>\n         <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"3\"/>\n-      </imgdir>\n-      <imgdir name=\"2\">\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside4\"/>\n-        <string name=\"l1\" value=\"acc\"/>\n-        <string name=\"l2\" value=\"6\"/>\n+        <string name=\"l1\" value=\"basic\"/>\n+        <string name=\"l2\" value=\"0\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"1\">\n         <int name=\"x\" value=\"-4\"/>\n         <int name=\"y\" value=\"11\"/>\n         <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"3\"/>\n-      </imgdir>\n-      <imgdir name=\"3\">\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside4\"/>\n         <string name=\"l1\" value=\"acc\"/>\n-        <string name=\"l2\" value=\"5\"/>\n+        <string name=\"l2\" value=\"6\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"2\">\n         <int name=\"x\" value=\"174\"/>\n         <int name=\"y\" value=\"11\"/>\n         <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"3\"/>\n-      </imgdir>\n-      <imgdir name=\"1\">\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside4\"/>\n         <string name=\"l1\" value=\"acc\"/>\n         <string name=\"l2\" value=\"5\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"3\">\n         <int name=\"x\" value=\"350\"/>\n         <int name=\"y\" value=\"11\"/>\n         <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"3\"/>\n-      </imgdir>\n-      <imgdir name=\"4\">\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside4\"/>\n         <string name=\"l1\" value=\"acc\"/>\n-        <string name=\"l2\" value=\"6\"/>\n+        <string name=\"l2\" value=\"5\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"4\">\n         <int name=\"x\" value=\"105\"/>\n         <int name=\"y\" value=\"-39\"/>\n         <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"3\"/>\n-      </imgdir>\n-      <imgdir name=\"5\">\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside4\"/>\n         <string name=\"l1\" value=\"acc\"/>\n-        <string name=\"l2\" value=\"5\"/>\n+        <string name=\"l2\" value=\"6\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"5\">\n         <int name=\"x\" value=\"283\"/>\n         <int name=\"y\" value=\"-39\"/>\n         <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"3\"/>\n-      </imgdir>\n-      <imgdir name=\"6\">\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside4\"/>\n         <string name=\"l1\" value=\"acc\"/>\n-        <string name=\"l2\" value=\"3\"/>\n+        <string name=\"l2\" value=\"5\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"6\">\n         <int name=\"x\" value=\"448\"/>\n         <int name=\"y\" value=\"-39\"/>\n         <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"3\"/>\n-      </imgdir>\n-      <imgdir name=\"7\">\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside4\"/>\n         <string name=\"l1\" value=\"acc\"/>\n-        <string name=\"l2\" value=\"6\"/>\n+        <string name=\"l2\" value=\"3\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"7\">\n         <int name=\"x\" value=\"215\"/>\n         <int name=\"y\" value=\"-89\"/>\n         <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"3\"/>\n-      </imgdir>\n-      <imgdir name=\"8\">\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside4\"/>\n         <string name=\"l1\" value=\"acc\"/>\n-        <string name=\"l2\" value=\"5\"/>\n+        <string name=\"l2\" value=\"6\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"8\">\n         <int name=\"x\" value=\"392\"/>\n         <int name=\"y\" value=\"-89\"/>\n         <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"3\"/>\n-      </imgdir>\n-      <imgdir name=\"9\">\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside4\"/>\n         <string name=\"l1\" value=\"acc\"/>\n-        <string name=\"l2\" value=\"4\"/>\n+        <string name=\"l2\" value=\"5\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"9\">\n         <int name=\"x\" value=\"502\"/>\n         <int name=\"y\" value=\"-89\"/>\n         <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"3\"/>\n-      </imgdir>\n-      <imgdir name=\"10\">\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside4\"/>\n         <string name=\"l1\" value=\"acc\"/>\n-        <string name=\"l2\" value=\"2\"/>\n+        <string name=\"l2\" value=\"4\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"10\">\n         <int name=\"x\" value=\"482\"/>\n         <int name=\"y\" value=\"11\"/>\n         <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"3\"/>\n+        <string name=\"oS\" value=\"insideWGL\"/>\n+        <string name=\"l0\" value=\"inside4\"/>\n+        <string name=\"l1\" value=\"acc\"/>\n+        <string name=\"l2\" value=\"2\"/>\n+        <int name=\"f\" value=\"0\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"5\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n+        <int name=\"x\" value=\"-70\"/>\n+        <int name=\"y\" value=\"353\"/>\n+        <int name=\"z\" value=\"9\"/>\n+        <int name=\"zM\" value=\"2\"/>\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside4\"/>\n         <string name=\"l1\" value=\"acc\"/>\n         <string name=\"l2\" value=\"0\"/>\n-        <int name=\"x\" value=\"-70\"/>\n-        <int name=\"y\" value=\"353\"/>\n-        <int name=\"z\" value=\"9\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"2\"/>\n       </imgdir>\n       <imgdir name=\"1\">\n+        <int name=\"x\" value=\"-40\"/>\n+        <int name=\"y\" value=\"532\"/>\n+        <int name=\"z\" value=\"9\"/>\n+        <int name=\"zM\" value=\"4\"/>\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside4\"/>\n         <string name=\"l1\" value=\"front\"/>\n         <string name=\"l2\" value=\"1\"/>\n-        <int name=\"x\" value=\"-40\"/>\n-        <int name=\"y\" value=\"532\"/>\n-        <int name=\"z\" value=\"9\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"4\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"6\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"7\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n+        <int name=\"x\" value=\"137\"/>\n+        <int name=\"y\" value=\"102\"/>\n+        <int name=\"z\" value=\"9\"/>\n+        <int name=\"zM\" value=\"5\"/>\n         <string name=\"oS\" value=\"insideWGL\"/>\n         <string name=\"l0\" value=\"inside4\"/>\n         <string name=\"l1\" value=\"acc\"/>\n         <string name=\"l2\" value=\"1\"/>\n-        <int name=\"x\" value=\"137\"/>\n-        <int name=\"y\" value=\"102\"/>\n-        <int name=\"z\" value=\"9\"/>\n         <int name=\"f\" value=\"0\"/>\n-        <int name=\"zM\" value=\"5\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"ladderRope\">\n   </imgdir>\n   <imgdir name=\"seat\">\n-    <vector name=\"0\" x=\"320\" y=\"30\"/>\n-    <vector name=\"1\" x=\"348\" y=\"30\"/>\n-    <vector name=\"2\" x=\"335\" y=\"30\"/>\n-    <vector name=\"3\" x=\"361\" y=\"30\"/>\n-    <vector name=\"4\" x=\"307\" y=\"30\"/>\n-    <vector name=\"5\" x=\"293\" y=\"30\"/>\n-    <vector name=\"6\" x=\"281\" y=\"30\"/>\n-    <vector name=\"7\" x=\"270\" y=\"30\"/>\n-    <vector name=\"8\" x=\"374\" y=\"30\"/>\n-    <vector name=\"9\" x=\"386\" y=\"30\"/>\n-    <vector name=\"10\" x=\"398\" y=\"30\"/>\n-    <vector name=\"11\" x=\"411\" y=\"30\"/>\n-    <vector name=\"12\" x=\"-34\" y=\"30\"/>\n-    <vector name=\"13\" x=\"-6\" y=\"30\"/>\n-    <vector name=\"14\" x=\"-19\" y=\"30\"/>\n-    <vector name=\"15\" x=\"7\" y=\"30\"/>\n-    <vector name=\"16\" x=\"-47\" y=\"30\"/>\n-    <vector name=\"17\" x=\"-61\" y=\"30\"/>\n-    <vector name=\"18\" x=\"-73\" y=\"30\"/>\n-    <vector name=\"19\" x=\"-84\" y=\"30\"/>\n-    <vector name=\"20\" x=\"20\" y=\"30\"/>\n-    <vector name=\"21\" x=\"32\" y=\"30\"/>\n-    <vector name=\"22\" x=\"44\" y=\"30\"/>\n-    <vector name=\"23\" x=\"57\" y=\"30\"/>\n-    <vector name=\"24\" x=\"144\" y=\"30\"/>\n-    <vector name=\"25\" x=\"172\" y=\"30\"/>\n-    <vector name=\"26\" x=\"159\" y=\"30\"/>\n-    <vector name=\"27\" x=\"185\" y=\"30\"/>\n-    <vector name=\"28\" x=\"131\" y=\"30\"/>\n-    <vector name=\"29\" x=\"117\" y=\"30\"/>\n-    <vector name=\"30\" x=\"105\" y=\"30\"/>\n-    <vector name=\"31\" x=\"94\" y=\"30\"/>\n-    <vector name=\"32\" x=\"198\" y=\"30\"/>\n-    <vector name=\"33\" x=\"210\" y=\"30\"/>\n-    <vector name=\"34\" x=\"222\" y=\"30\"/>\n-    <vector name=\"35\" x=\"235\" y=\"30\"/>\n-    <vector name=\"36\" x=\"75\" y=\"-20\"/>\n-    <vector name=\"37\" x=\"103\" y=\"-20\"/>\n-    <vector name=\"38\" x=\"90\" y=\"-20\"/>\n-    <vector name=\"39\" x=\"116\" y=\"-20\"/>\n-    <vector name=\"40\" x=\"62\" y=\"-20\"/>\n-    <vector name=\"41\" x=\"48\" y=\"-20\"/>\n-    <vector name=\"42\" x=\"36\" y=\"-20\"/>\n-    <vector name=\"43\" x=\"25\" y=\"-20\"/>\n-    <vector name=\"44\" x=\"129\" y=\"-20\"/>\n-    <vector name=\"45\" x=\"141\" y=\"-20\"/>\n-    <vector name=\"46\" x=\"153\" y=\"-20\"/>\n-    <vector name=\"47\" x=\"166\" y=\"-20\"/>\n-    <vector name=\"48\" x=\"253\" y=\"-20\"/>\n-    <vector name=\"49\" x=\"281\" y=\"-20\"/>\n-    <vector name=\"50\" x=\"268\" y=\"-20\"/>\n-    <vector name=\"51\" x=\"294\" y=\"-20\"/>\n-    <vector name=\"52\" x=\"240\" y=\"-20\"/>\n-    <vector name=\"53\" x=\"226\" y=\"-20\"/>\n-    <vector name=\"54\" x=\"214\" y=\"-20\"/>\n-    <vector name=\"55\" x=\"203\" y=\"-20\"/>\n-    <vector name=\"56\" x=\"307\" y=\"-20\"/>\n-    <vector name=\"57\" x=\"319\" y=\"-20\"/>\n-    <vector name=\"58\" x=\"331\" y=\"-20\"/>\n-    <vector name=\"59\" x=\"344\" y=\"-20\"/>\n-    <vector name=\"60\" x=\"418\" y=\"-20\"/>\n-    <vector name=\"61\" x=\"446\" y=\"-20\"/>\n-    <vector name=\"62\" x=\"433\" y=\"-20\"/>\n-    <vector name=\"63\" x=\"459\" y=\"-20\"/>\n-    <vector name=\"64\" x=\"405\" y=\"-20\"/>\n-    <vector name=\"65\" x=\"391\" y=\"-20\"/>\n-    <vector name=\"66\" x=\"379\" y=\"-20\"/>\n-    <vector name=\"67\" x=\"185\" y=\"-70\"/>\n-    <vector name=\"68\" x=\"213\" y=\"-70\"/>\n-    <vector name=\"69\" x=\"200\" y=\"-70\"/>\n-    <vector name=\"70\" x=\"226\" y=\"-70\"/>\n-    <vector name=\"71\" x=\"172\" y=\"-70\"/>\n-    <vector name=\"72\" x=\"158\" y=\"-70\"/>\n-    <vector name=\"73\" x=\"146\" y=\"-70\"/>\n-    <vector name=\"74\" x=\"135\" y=\"-70\"/>\n-    <vector name=\"75\" x=\"239\" y=\"-70\"/>\n-    <vector name=\"76\" x=\"251\" y=\"-70\"/>\n-    <vector name=\"77\" x=\"263\" y=\"-70\"/>\n-    <vector name=\"78\" x=\"276\" y=\"-70\"/>\n-    <vector name=\"79\" x=\"362\" y=\"-70\"/>\n-    <vector name=\"80\" x=\"390\" y=\"-70\"/>\n-    <vector name=\"81\" x=\"377\" y=\"-70\"/>\n-    <vector name=\"82\" x=\"403\" y=\"-70\"/>\n-    <vector name=\"83\" x=\"349\" y=\"-70\"/>\n-    <vector name=\"84\" x=\"335\" y=\"-70\"/>\n-    <vector name=\"85\" x=\"323\" y=\"-70\"/>\n-    <vector name=\"86\" x=\"312\" y=\"-70\"/>\n-    <vector name=\"87\" x=\"416\" y=\"-70\"/>\n-    <vector name=\"88\" x=\"428\" y=\"-70\"/>\n-    <vector name=\"89\" x=\"440\" y=\"-70\"/>\n-    <vector name=\"90\" x=\"453\" y=\"-70\"/>\n-    <vector name=\"91\" x=\"452\" y=\"30\"/>\n-    <vector name=\"92\" x=\"480\" y=\"30\"/>\n+    <vector name=\"0\" x=\"-84\" y=\"30\"/>\n+    <vector name=\"1\" x=\"-73\" y=\"30\"/>\n+    <vector name=\"2\" x=\"-61\" y=\"30\"/>\n+    <vector name=\"3\" x=\"-47\" y=\"30\"/>\n+    <vector name=\"4\" x=\"-34\" y=\"30\"/>\n+    <vector name=\"5\" x=\"-19\" y=\"30\"/>\n+    <vector name=\"6\" x=\"-6\" y=\"30\"/>\n+    <vector name=\"7\" x=\"7\" y=\"30\"/>\n+    <vector name=\"8\" x=\"20\" y=\"30\"/>\n+    <vector name=\"9\" x=\"25\" y=\"-20\"/>\n+    <vector name=\"10\" x=\"32\" y=\"30\"/>\n+    <vector name=\"11\" x=\"36\" y=\"-20\"/>\n+    <vector name=\"12\" x=\"44\" y=\"30\"/>\n+    <vector name=\"13\" x=\"48\" y=\"-20\"/>\n+    <vector name=\"14\" x=\"57\" y=\"30\"/>\n+    <vector name=\"15\" x=\"62\" y=\"-20\"/>\n+    <vector name=\"16\" x=\"75\" y=\"-20\"/>\n+    <vector name=\"17\" x=\"90\" y=\"-20\"/>\n+    <vector name=\"18\" x=\"94\" y=\"30\"/>\n+    <vector name=\"19\" x=\"103\" y=\"-20\"/>\n+    <vector name=\"20\" x=\"105\" y=\"30\"/>\n+    <vector name=\"21\" x=\"116\" y=\"-20\"/>\n+    <vector name=\"22\" x=\"117\" y=\"30\"/>\n+    <vector name=\"23\" x=\"129\" y=\"-20\"/>\n+    <vector name=\"24\" x=\"131\" y=\"30\"/>\n+    <vector name=\"25\" x=\"135\" y=\"-70\"/>\n+    <vector name=\"26\" x=\"141\" y=\"-20\"/>\n+    <vector name=\"27\" x=\"144\" y=\"30\"/>\n+    <vector name=\"28\" x=\"146\" y=\"-70\"/>\n+    <vector name=\"29\" x=\"153\" y=\"-20\"/>\n+    <vector name=\"30\" x=\"158\" y=\"-70\"/>\n+    <vector name=\"31\" x=\"159\" y=\"30\"/>\n+    <vector name=\"32\" x=\"166\" y=\"-20\"/>\n+    <vector name=\"33\" x=\"172\" y=\"-70\"/>\n+    <vector name=\"34\" x=\"172\" y=\"30\"/>\n+    <vector name=\"35\" x=\"185\" y=\"-70\"/>\n+    <vector name=\"36\" x=\"185\" y=\"30\"/>\n+    <vector name=\"37\" x=\"198\" y=\"30\"/>\n+    <vector name=\"38\" x=\"200\" y=\"-70\"/>\n+    <vector name=\"39\" x=\"203\" y=\"-20\"/>\n+    <vector name=\"40\" x=\"210\" y=\"30\"/>\n+    <vector name=\"41\" x=\"213\" y=\"-70\"/>\n+    <vector name=\"42\" x=\"214\" y=\"-20\"/>\n+    <vector name=\"43\" x=\"222\" y=\"30\"/>\n+    <vector name=\"44\" x=\"226\" y=\"-70\"/>\n+    <vector name=\"45\" x=\"226\" y=\"-20\"/>\n+    <vector name=\"46\" x=\"235\" y=\"30\"/>\n+    <vector name=\"47\" x=\"239\" y=\"-70\"/>\n+    <vector name=\"48\" x=\"240\" y=\"-20\"/>\n+    <vector name=\"49\" x=\"251\" y=\"-70\"/>\n+    <vector name=\"50\" x=\"253\" y=\"-20\"/>\n+    <vector name=\"51\" x=\"263\" y=\"-70\"/>\n+    <vector name=\"52\" x=\"268\" y=\"-20\"/>\n+    <vector name=\"53\" x=\"270\" y=\"30\"/>\n+    <vector name=\"54\" x=\"276\" y=\"-70\"/>\n+    <vector name=\"55\" x=\"281\" y=\"-20\"/>\n+    <vector name=\"56\" x=\"281\" y=\"30\"/>\n+    <vector name=\"57\" x=\"293\" y=\"30\"/>\n+    <vector name=\"58\" x=\"294\" y=\"-20\"/>\n+    <vector name=\"59\" x=\"307\" y=\"-20\"/>\n+    <vector name=\"60\" x=\"307\" y=\"30\"/>\n+    <vector name=\"61\" x=\"312\" y=\"-70\"/>\n+    <vector name=\"62\" x=\"319\" y=\"-20\"/>\n+    <vector name=\"63\" x=\"320\" y=\"30\"/>\n+    <vector name=\"64\" x=\"323\" y=\"-70\"/>\n+    <vector name=\"65\" x=\"331\" y=\"-20\"/>\n+    <vector name=\"66\" x=\"335\" y=\"-70\"/>\n+    <vector name=\"67\" x=\"335\" y=\"30\"/>\n+    <vector name=\"68\" x=\"344\" y=\"-20\"/>\n+    <vector name=\"69\" x=\"348\" y=\"30\"/>\n+    <vector name=\"70\" x=\"349\" y=\"-70\"/>\n+    <vector name=\"71\" x=\"361\" y=\"30\"/>\n+    <vector name=\"72\" x=\"362\" y=\"-70\"/>\n+    <vector name=\"73\" x=\"374\" y=\"30\"/>\n+    <vector name=\"74\" x=\"377\" y=\"-70\"/>\n+    <vector name=\"75\" x=\"379\" y=\"-20\"/>\n+    <vector name=\"76\" x=\"386\" y=\"30\"/>\n+    <vector name=\"77\" x=\"390\" y=\"-70\"/>\n+    <vector name=\"78\" x=\"391\" y=\"-20\"/>\n+    <vector name=\"79\" x=\"398\" y=\"30\"/>\n+    <vector name=\"80\" x=\"403\" y=\"-70\"/>\n+    <vector name=\"81\" x=\"405\" y=\"-20\"/>\n+    <vector name=\"82\" x=\"411\" y=\"30\"/>\n+    <vector name=\"83\" x=\"416\" y=\"-70\"/>\n+    <vector name=\"84\" x=\"418\" y=\"-20\"/>\n+    <vector name=\"85\" x=\"428\" y=\"-70\"/>\n+    <vector name=\"86\" x=\"433\" y=\"-20\"/>\n+    <vector name=\"87\" x=\"439\" y=\"30\"/>\n+    <vector name=\"88\" x=\"440\" y=\"-70\"/>\n+    <vector name=\"89\" x=\"446\" y=\"-20\"/>\n+    <vector name=\"90\" x=\"452\" y=\"30\"/>\n+    <vector name=\"91\" x=\"453\" y=\"-70\"/>\n+    <vector name=\"92\" x=\"459\" y=\"-20\"/>\n     <vector name=\"93\" x=\"467\" y=\"30\"/>\n-    <vector name=\"94\" x=\"493\" y=\"30\"/>\n-    <vector name=\"95\" x=\"439\" y=\"30\"/>\n+    <vector name=\"94\" x=\"480\" y=\"30\"/>\n+    <vector name=\"95\" x=\"493\" y=\"30\"/>\n+  </imgdir>\n+  <imgdir name=\"portal\">\n+    <imgdir name=\"0\">\n+      <int name=\"x\" value=\"322\"/>\n+      <int name=\"y\" value=\"-137\"/>\n+      <int name=\"pt\" value=\"0\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+      <string name=\"pn\" value=\"sp\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <int name=\"x\" value=\"432\"/>\n+      <int name=\"y\" value=\"-135\"/>\n+      <int name=\"pt\" value=\"0\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+      <string name=\"pn\" value=\"sp\"/>\n+    </imgdir>\n+    <imgdir name=\"2\">\n+      <int name=\"x\" value=\"406\"/>\n+      <int name=\"y\" value=\"304\"/>\n+      <int name=\"pt\" value=\"1\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"N/A\"/>\n+      <string name=\"pn\" value=\"we00\"/>\n+      <string name=\"script\" value=\"\"/>\n+      <int name=\"delay\" value=\"0\"/>\n+      <int name=\"hideTooltip\" value=\"0\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"reactor\">\n+  </imgdir>\n+  <imgdir name=\"back\">\n   </imgdir>\n   <imgdir name=\"foothold\">\n     <imgdir name=\"4\">\n@@ -444,87 +428,91 @@\n           <int name=\"x2\" value=\"-389\"/>\n           <int name=\"y2\" value=\"243\"/>\n           <int name=\"prev\" value=\"1\"/>\n-          <int name=\"next\" value=\"18\"/>\n+          <int name=\"next\" value=\"4\"/>\n         </imgdir>\n         <imgdir name=\"3\">\n+          <int name=\"x1\" value=\"-389\"/>\n+          <int name=\"y1\" value=\"-369\"/>\n+          <int name=\"x2\" value=\"-389\"/>\n+          <int name=\"y2\" value=\"243\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"4\"/>\n+        </imgdir>\n+        <imgdir name=\"4\">\n+          <int name=\"x1\" value=\"-389\"/>\n+          <int name=\"y1\" value=\"243\"/>\n+          <int name=\"x2\" value=\"-293\"/>\n+          <int name=\"y2\" value=\"243\"/>\n+          <int name=\"prev\" value=\"3\"/>\n+          <int name=\"next\" value=\"5\"/>\n+        </imgdir>\n+        <imgdir name=\"5\">\n           <int name=\"x1\" value=\"-293\"/>\n           <int name=\"y1\" value=\"243\"/>\n           <int name=\"x2\" value=\"-293\"/>\n           <int name=\"y2\" value=\"262\"/>\n-          <int name=\"prev\" value=\"18\"/>\n-          <int name=\"next\" value=\"4\"/>\n+          <int name=\"prev\" value=\"4\"/>\n+          <int name=\"next\" value=\"6\"/>\n         </imgdir>\n-        <imgdir name=\"4\">\n+        <imgdir name=\"6\">\n           <int name=\"x1\" value=\"-293\"/>\n           <int name=\"y1\" value=\"262\"/>\n           <int name=\"x2\" value=\"-270\"/>\n           <int name=\"y2\" value=\"262\"/>\n-          <int name=\"prev\" value=\"3\"/>\n-          <int name=\"next\" value=\"5\"/>\n+          <int name=\"prev\" value=\"5\"/>\n+          <int name=\"next\" value=\"7\"/>\n         </imgdir>\n-        <imgdir name=\"5\">\n+        <imgdir name=\"7\">\n           <int name=\"x1\" value=\"-270\"/>\n           <int name=\"y1\" value=\"262\"/>\n           <int name=\"x2\" value=\"-270\"/>\n           <int name=\"y2\" value=\"282\"/>\n-          <int name=\"prev\" value=\"4\"/>\n-          <int name=\"next\" value=\"6\"/>\n+          <int name=\"prev\" value=\"6\"/>\n+          <int name=\"next\" value=\"8\"/>\n         </imgdir>\n-        <imgdir name=\"6\">\n+        <imgdir name=\"8\">\n           <int name=\"x1\" value=\"-270\"/>\n           <int name=\"y1\" value=\"282\"/>\n           <int name=\"x2\" value=\"-245\"/>\n           <int name=\"y2\" value=\"282\"/>\n-          <int name=\"prev\" value=\"5\"/>\n-          <int name=\"next\" value=\"7\"/>\n+          <int name=\"prev\" value=\"7\"/>\n+          <int name=\"next\" value=\"9\"/>\n         </imgdir>\n-        <imgdir name=\"7\">\n+        <imgdir name=\"9\">\n           <int name=\"x1\" value=\"-245\"/>\n           <int name=\"y1\" value=\"282\"/>\n           <int name=\"x2\" value=\"-245\"/>\n           <int name=\"y2\" value=\"305\"/>\n-          <int name=\"prev\" value=\"6\"/>\n-          <int name=\"next\" value=\"8\"/>\n+          <int name=\"prev\" value=\"8\"/>\n+          <int name=\"next\" value=\"10\"/>\n         </imgdir>\n-        <imgdir name=\"8\">\n+        <imgdir name=\"10\">\n           <int name=\"x1\" value=\"-245\"/>\n           <int name=\"y1\" value=\"305\"/>\n           <int name=\"x2\" value=\"532\"/>\n           <int name=\"y2\" value=\"305\"/>\n-          <int name=\"prev\" value=\"7\"/>\n-          <int name=\"next\" value=\"9\"/>\n+          <int name=\"prev\" value=\"9\"/>\n+          <int name=\"next\" value=\"17\"/>\n         </imgdir>\n-        <imgdir name=\"9\">\n-          <int name=\"x1\" value=\"532\"/>\n-          <int name=\"y1\" value=\"305\"/>\n-          <int name=\"x2\" value=\"533\"/>\n-          <int name=\"y2\" value=\"88\"/>\n-          <int name=\"prev\" value=\"8\"/>\n-          <int name=\"next\" value=\"0\"/>\n-        </imgdir>\n-        <imgdir name=\"10\">\n+        <imgdir name=\"11\">\n           <int name=\"x1\" value=\"-160\"/>\n           <int name=\"y1\" value=\"-381\"/>\n           <int name=\"x2\" value=\"-160\"/>\n           <int name=\"y2\" value=\"85\"/>\n           <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"11\"/>\n-        </imgdir>\n-        <imgdir name=\"11\">\n-          <int name=\"x1\" value=\"-160\"/>\n-          <int name=\"y1\" value=\"85\"/>\n-          <int name=\"x2\" value=\"534\"/>\n-          <int name=\"y2\" value=\"85\"/>\n-          <int name=\"prev\" value=\"10\"/>\n           <int name=\"next\" value=\"12\"/>\n+          <int name=\"cantThrough\" value=\"1\"/>\n+          <int name=\"forbidFallDown\" value=\"1\"/>\n         </imgdir>\n         <imgdir name=\"12\">\n-          <int name=\"x1\" value=\"534\"/>\n+          <int name=\"x1\" value=\"-160\"/>\n           <int name=\"y1\" value=\"85\"/>\n           <int name=\"x2\" value=\"534\"/>\n-          <int name=\"y2\" value=\"-381\"/>\n+          <int name=\"y2\" value=\"85\"/>\n           <int name=\"prev\" value=\"11\"/>\n-          <int name=\"next\" value=\"0\"/>\n+          <int name=\"next\" value=\"18\"/>\n+          <int name=\"cantThrough\" value=\"1\"/>\n+          <int name=\"forbidFallDown\" value=\"1\"/>\n         </imgdir>\n         <imgdir name=\"13\">\n           <int name=\"x1\" value=\"-110\"/>\n@@ -559,62 +547,62 @@\n           <int name=\"next\" value=\"0\"/>\n         </imgdir>\n         <imgdir name=\"17\">\n-          <int name=\"x1\" value=\"-389\"/>\n-          <int name=\"y1\" value=\"-369\"/>\n-          <int name=\"x2\" value=\"-389\"/>\n-          <int name=\"y2\" value=\"243\"/>\n-          <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"18\"/>\n+          <int name=\"x1\" value=\"532\"/>\n+          <int name=\"y1\" value=\"305\"/>\n+          <int name=\"x2\" value=\"533\"/>\n+          <int name=\"y2\" value=\"88\"/>\n+          <int name=\"prev\" value=\"10\"/>\n+          <int name=\"next\" value=\"0\"/>\n         </imgdir>\n         <imgdir name=\"18\">\n-          <int name=\"x1\" value=\"-389\"/>\n-          <int name=\"y1\" value=\"243\"/>\n-          <int name=\"x2\" value=\"-293\"/>\n-          <int name=\"y2\" value=\"243\"/>\n-          <int name=\"prev\" value=\"17\"/>\n-          <int name=\"next\" value=\"3\"/>\n+          <int name=\"x1\" value=\"534\"/>\n+          <int name=\"y1\" value=\"85\"/>\n+          <int name=\"x2\" value=\"534\"/>\n+          <int name=\"y2\" value=\"-381\"/>\n+          <int name=\"prev\" value=\"12\"/>\n+          <int name=\"next\" value=\"0\"/>\n+          <int name=\"cantThrough\" value=\"1\"/>\n+          <int name=\"forbidFallDown\" value=\"1\"/>\n         </imgdir>\n       </imgdir>\n     </imgdir>\n   </imgdir>\n-  <imgdir name=\"ladderRope\">\n-  </imgdir>\n-  <imgdir name=\"miniMap\">\n-    <canvas name=\"canvas\" width=\"98\" height=\"62\">\n-    </canvas>\n-    <int name=\"width\" value=\"1574\"/>\n-    <int name=\"height\" value=\"1007\"/>\n-    <int name=\"centerX\" value=\"854\"/>\n-    <int name=\"centerY\" value=\"531\"/>\n-    <int name=\"mag\" value=\"4\"/>\n-  </imgdir>\n-  <imgdir name=\"portal\">\n+  <imgdir name=\"life\">\n     <imgdir name=\"0\">\n-      <string name=\"pn\" value=\"sp\"/>\n-      <int name=\"pt\" value=\"0\"/>\n-      <int name=\"x\" value=\"322\"/>\n-      <int name=\"y\" value=\"-137\"/>\n-      <int name=\"tm\" value=\"999999999\"/>\n-      <string name=\"tn\" value=\"\"/>\n+      <string name=\"id\" value=\"9201007\"/>\n+      <int name=\"x\" value=\"199\"/>\n+      <int name=\"y\" value=\"299\"/>\n+      <int name=\"cy\" value=\"305\"/>\n+      <int name=\"mobTime\" value=\"0\"/>\n+      <int name=\"rx0\" value=\"149\"/>\n+      <int name=\"rx1\" value=\"249\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"type\" value=\"n\"/>\n+      <int name=\"fh\" value=\"10\"/>\n     </imgdir>\n     <imgdir name=\"1\">\n-      <string name=\"pn\" value=\"sp\"/>\n-      <int name=\"pt\" value=\"0\"/>\n-      <int name=\"x\" value=\"432\"/>\n-      <int name=\"y\" value=\"-135\"/>\n-      <int name=\"tm\" value=\"999999999\"/>\n-      <string name=\"tn\" value=\"\"/>\n+      <string name=\"id\" value=\"9201006\"/>\n+      <int name=\"x\" value=\"258\"/>\n+      <int name=\"y\" value=\"33\"/>\n+      <int name=\"cy\" value=\"34\"/>\n+      <int name=\"mobTime\" value=\"0\"/>\n+      <int name=\"rx0\" value=\"208\"/>\n+      <int name=\"rx1\" value=\"308\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"type\" value=\"n\"/>\n+      <int name=\"fh\" value=\"13\"/>\n     </imgdir>\n     <imgdir name=\"2\">\n-      <string name=\"pn\" value=\"we00\"/>\n-      <int name=\"pt\" value=\"1\"/>\n-      <int name=\"x\" value=\"406\"/>\n-      <int name=\"y\" value=\"304\"/>\n-      <int name=\"tm\" value=\"999999999\"/>\n-      <string name=\"tn\" value=\"N/A\"/>\n-      <string name=\"script\" value=\"\"/>\n-      <int name=\"hideTooltip\" value=\"0\"/>\n-      <int name=\"delay\" value=\"0\"/>\n+      <string name=\"id\" value=\"9201002\"/>\n+      <int name=\"x\" value=\"-424\"/>\n+      <int name=\"y\" value=\"238\"/>\n+      <int name=\"cy\" value=\"243\"/>\n+      <int name=\"mobTime\" value=\"0\"/>\n+      <int name=\"rx0\" value=\"-474\"/>\n+      <int name=\"rx1\" value=\"-374\"/>\n+      <int name=\"f\" value=\"1\"/>\n+      <string name=\"type\" value=\"n\"/>\n+      <int name=\"fh\" value=\"2\"/>\n     </imgdir>\n   </imgdir>\n </imgdir>"}, {"sha": "5e078597a575e61c00dce82621e660ed12dae8e1", "filename": "wz/Map.wz/Map/Map6/680000401.img.xml", "status": "modified", "additions": 0, "deletions": 15, "changes": 15, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/wz/Map.wz/Map/Map6/680000401.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9/wz/Map.wz/Map/Map6/680000401.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map6/680000401.img.xml?ref=5d8ede324748fb2fd6afd3d3f9fdffa1a5f275e9", "patch": "@@ -54,119 +54,104 @@\n       <string name=\"id\" value=\"6802000\"/>\n       <int name=\"x\" value=\"-2\"/>\n       <int name=\"y\" value=\"-76\"/>\n-      <int name=\"reactorTime\" value=\"1\"/>\n       <int name=\"f\" value=\"0\"/>\n       <string name=\"name\" value=\"\"/>\n     </imgdir>\n     <imgdir name=\"1\">\n       <string name=\"id\" value=\"6802001\"/>\n       <int name=\"x\" value=\"174\"/>\n       <int name=\"y\" value=\"-104\"/>\n-      <int name=\"reactorTime\" value=\"1\"/>\n       <int name=\"f\" value=\"0\"/>\n       <string name=\"name\" value=\"\"/>\n     </imgdir>\n     <imgdir name=\"2\">\n       <string name=\"id\" value=\"6802001\"/>\n       <int name=\"x\" value=\"-258\"/>\n       <int name=\"y\" value=\"35\"/>\n-      <int name=\"reactorTime\" value=\"1\"/>\n       <int name=\"f\" value=\"0\"/>\n       <string name=\"name\" value=\"\"/>\n     </imgdir>\n     <imgdir name=\"3\">\n       <string name=\"id\" value=\"6802000\"/>\n       <int name=\"x\" value=\"317\"/>\n       <int name=\"y\" value=\"75\"/>\n-      <int name=\"reactorTime\" value=\"1\"/>\n       <int name=\"f\" value=\"0\"/>\n       <string name=\"name\" value=\"\"/>\n     </imgdir>\n     <imgdir name=\"4\">\n       <string name=\"id\" value=\"6802000\"/>\n       <int name=\"x\" value=\"-13\"/>\n       <int name=\"y\" value=\"93\"/>\n-      <int name=\"reactorTime\" value=\"1\"/>\n       <int name=\"f\" value=\"0\"/>\n       <string name=\"name\" value=\"\"/>\n     </imgdir>\n     <imgdir name=\"5\">\n       <string name=\"id\" value=\"6802000\"/>\n       <int name=\"x\" value=\"-312\"/>\n       <int name=\"y\" value=\"156\"/>\n-      <int name=\"reactorTime\" value=\"1\"/>\n       <int name=\"f\" value=\"0\"/>\n       <string name=\"name\" value=\"\"/>\n     </imgdir>\n     <imgdir name=\"6\">\n       <string name=\"id\" value=\"6802001\"/>\n       <int name=\"x\" value=\"209\"/>\n       <int name=\"y\" value=\"142\"/>\n-      <int name=\"reactorTime\" value=\"1\"/>\n       <int name=\"f\" value=\"0\"/>\n       <string name=\"name\" value=\"\"/>\n     </imgdir>\n     <imgdir name=\"7\">\n       <string name=\"id\" value=\"6802001\"/>\n       <int name=\"x\" value=\"-160\"/>\n       <int name=\"y\" value=\"147\"/>\n-      <int name=\"reactorTime\" value=\"1\"/>\n       <int name=\"f\" value=\"0\"/>\n       <string name=\"name\" value=\"\"/>\n     </imgdir>\n     <imgdir name=\"8\">\n       <string name=\"id\" value=\"6802001\"/>\n       <int name=\"x\" value=\"75\"/>\n       <int name=\"y\" value=\"207\"/>\n-      <int name=\"reactorTime\" value=\"1\"/>\n       <int name=\"f\" value=\"0\"/>\n       <string name=\"name\" value=\"\"/>\n     </imgdir>\n     <imgdir name=\"9\">\n       <string name=\"id\" value=\"6802001\"/>\n       <int name=\"x\" value=\"-91\"/>\n       <int name=\"y\" value=\"207\"/>\n-      <int name=\"reactorTime\" value=\"1\"/>\n       <int name=\"f\" value=\"0\"/>\n       <string name=\"name\" value=\"\"/>\n     </imgdir>\n     <imgdir name=\"10\">\n       <string name=\"id\" value=\"6802000\"/>\n       <int name=\"x\" value=\"308\"/>\n       <int name=\"y\" value=\"205\"/>\n-      <int name=\"reactorTime\" value=\"0\"/>\n       <int name=\"f\" value=\"1\"/>\n       <string name=\"name\" value=\"\"/>\n     </imgdir>\n     <imgdir name=\"11\">\n       <string name=\"id\" value=\"6802000\"/>\n       <int name=\"x\" value=\"206\"/>\n       <int name=\"y\" value=\"83\"/>\n-      <int name=\"reactorTime\" value=\"0\"/>\n       <int name=\"f\" value=\"1\"/>\n       <string name=\"name\" value=\"\"/>\n     </imgdir>\n     <imgdir name=\"12\">\n       <string name=\"id\" value=\"6802000\"/>\n       <int name=\"x\" value=\"-157\"/>\n       <int name=\"y\" value=\"26\"/>\n-      <int name=\"reactorTime\" value=\"1\"/>\n       <int name=\"f\" value=\"1\"/>\n       <string name=\"name\" value=\"\"/>\n     </imgdir>\n     <imgdir name=\"13\">\n       <string name=\"id\" value=\"6802001\"/>\n       <int name=\"x\" value=\"-73\"/>\n       <int name=\"y\" value=\"68\"/>\n-      <int name=\"reactorTime\" value=\"1\"/>\n       <int name=\"f\" value=\"1\"/>\n       <string name=\"name\" value=\"\"/>\n     </imgdir>\n     <imgdir name=\"14\">\n       <string name=\"id\" value=\"6802001\"/>\n       <int name=\"x\" value=\"183\"/>\n       <int name=\"y\" value=\"203\"/>\n-      <int name=\"reactorTime\" value=\"1\"/>\n       <int name=\"f\" value=\"1\"/>\n       <string name=\"name\" value=\"\"/>\n     </imgdir>"}]}]},
