{"fetchDate": "2019-12-19", "content": [{"sha": "fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "node_id": "MDY6Q29tbWl0NDUwODIwMjM6ZmNhN2IyYWRhYWNlNzU0ODIwOWI4ZTVlMWNkYWZmODNiMDBmM2MzMQ==", "commit": {"author": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2018-05-19T17:28:06Z"}, "committer": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2018-05-19T17:28:06Z"}, "message": "Implemented Kites, PlayerNPCs and C. Shop Surprise & Tweaked login\n\nAdded code support for Kites.\nReviewed concurrent access issues with pet autopot.\nAddressed PlayerStorage issue where characters would not be properly deregistered from channel PlayerStorage in certain situations.\nImplemented harp quest (questid 3314) because of reasons.\nAdded SFX to signalize KC/NLC subway departing/approaching.\nChanged traveling time values to work similarly to GMS.\nProperly developed the PlayerNPC feature in the source.\nAdded autodeployable PlayerNPC system and Hall of Fame.\nSolved a glitch with NLC mayor's quiz questline that would allow a player to restart the quiz as many times one would see fit.\nAdded a custom server flag that allows overwriting the ToT 999 mobs to a new value (technically it doesn't overwrite, rather sets the player at quest start with 999 - n credited mobs).\nFixed permanent pets expiring after a while.\nAdded code support for Cash Shop Surprise item.\nReviewed login handler system as a whole, protecting many exposed flaws.\nSolved a bug with ULTRA_THREE_SNAILS sometimes taking wrong etc shell from inventory.", "tree": {"sha": "9d56911415f515e21215e4fb2345a7a993039cb2", "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/trees/9d56911415f515e21215e4fb2345a7a993039cb2"}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/commits/fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "html_url": "https://github.com/ronancpl/HeavenMS/commit/fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "comments_url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/comments", "author": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "80b1776ad362f28e5abab52bea073c7dbf4eca54", "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/80b1776ad362f28e5abab52bea073c7dbf4eca54", "html_url": "https://github.com/ronancpl/HeavenMS/commit/80b1776ad362f28e5abab52bea073c7dbf4eca54"}], "stats": {"total": 237379, "additions": 224961, "deletions": 12418}, "files": [{"sha": "5cd1eb0047dbd46af46707c0c6bc0fe13f2962c5", "filename": "docs/areabosses/BossEvent.js", "status": "removed", "additions": 0, "deletions": 33, "changes": 33, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/areabosses/BossEvent.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/areabosses/BossEvent.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/areabosses/BossEvent.js?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,33 +0,0 @@\n-// @Author: Resinate\n-\n-var towns = new Array(800020120, 251010102, 260010201, 107000300, 200010300, 100040105, 100040106, 261030000, 110040000, 250010504, 240040401, 104000400, 222010310, 230040420, 230040420, 230020100, 105090310, 101030404, 250010304, 220050100, 220050000, 220050200, 221040301);\n-var spawns = new Array(6090002, 5220004, 3220001, 6220000, 8220000, 5220002, 5220002, 8220002, 5220001, 7220002, 8220003, 2220000, 7220001, 8510000, 8520000, 4220001, 8220008, 3220000, 7220000, 5220003, 5220003, 5220003, 6220001);\n-var x = new Array(560, 560, 645, 90, 208, 456, 474, -300, 200, 400, 0, 400, 0, 527, 138, 0, -626, 800, -300, -300, 0, 0, -4224);\n-var y = new Array(50, 50, 275, 119, 83, 278, 278, 180, 140, 540, 1125, 455, 33, -437, 138, 520, -604, 1280, 390, 1030, 1030, 1030, 776);\n-var mapObj;\n-var mobObj;\n-\n-function init() {\n-    scheduleNew();\n-}\n-\n-function scheduleNew() {\n-    setupTask = em.schedule(\"start\", 0);\n-}\n-\n-function cancelSchedule() {\n-    if (setupTask != null)\n-        setupTask.cancel(true);\n-}\n-\n-function start() {\n-\tvar time = (Math.floor(Math.random() * 10) + 10) * (60 * 1000);\n-\tfor(var i = 0; i < towns.length; i++) {\n-\t\tmapObj = em.getChannelServer().getMapFactory().getMap(towns[i]);\n-\t\tmobObj = Packages.server.life.MapleLifeFactory.getMonster(spawns[i]);\n-\t\tif(mapObj.getMonsterById(spawns[i]) == null) {\n-\t\t\tmapObj.spawnMonsterOnGroundBelow(mobObj, new Packages.java.awt.Point(x[i],y[i]));\n-\t\t}\n-\t}\n-\tem.schedule(\"start\", time);\n-}\n\\ No newline at end of file"}, {"sha": "c74cfc0823e63bbf5374b4cc8fa9e7ffa30666a5", "filename": "docs/backtrack_licenses/CafePQ NPCs/old_npc_source.bmp", "status": "removed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/backtrack_licenses/CafePQ%20NPCs/old_npc_source.bmp", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/backtrack_licenses/CafePQ%20NPCs/old_npc_source.bmp", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/backtrack_licenses/CafePQ%20NPCs/old_npc_source.bmp?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54"}, {"sha": "2fcdddd6addd3a5f37b07396355ea71100b1c059", "filename": "docs/backtrack_licenses/CafePQ NPCs/origin.txt", "status": "removed", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/backtrack_licenses/CafePQ%20NPCs/origin.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/backtrack_licenses/CafePQ%20NPCs/origin.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/backtrack_licenses/CafePQ%20NPCs/origin.txt?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,3 +0,0 @@\n-Change reason: New NPC files uploaded in with misleading header.\n-\n-Committed 2017-09-01 (Reworked Autoassigner & Hero's Will & Trade + Visual NX + New commands)\n\\ No newline at end of file"}, {"sha": "53846485d6d578309a62b4315e23c459988a07dd", "filename": "docs/backtrack_licenses/Custom NPCs/origin.txt", "status": "removed", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/backtrack_licenses/Custom%20NPCs/origin.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/backtrack_licenses/Custom%20NPCs/origin.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/backtrack_licenses/Custom%20NPCs/origin.txt?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,5 +0,0 @@\n-Change reason: New NPC files uploaded in with misleading/missing header.\n-\n-9000017.js: Introduced before repository started, around 2015-08-05 (extracted from mychanges_ptbr.txt @ \"source\" commit)\n-9000036.js: Introduced before repository started, around 2015-07-25 (extracted from mychanges_ptbr.txt @ \"source\" commit)\n-9000041.js: Committed 2016-07-18 (Instant sell NPC + new features)\n\\ No newline at end of file"}, {"sha": "3cb811accc9a6d9c87205bae6eb21c96e40f4266", "filename": "docs/backtrack_licenses/GuildQuest/GuildQuest_new.js", "status": "removed", "additions": 0, "deletions": 281, "changes": 281, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/backtrack_licenses/GuildQuest/GuildQuest_new.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/backtrack_licenses/GuildQuest/GuildQuest_new.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/backtrack_licenses/GuildQuest/GuildQuest_new.js?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,281 +0,0 @@\n-/* \n- * This file is part of the OdinMS Maple Story Server\n-    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc> \n-                       Matthias Butz <matze@odinms.de>\n-                       Jan Christian Meyer <vimes@odinms.de>\n-    This program is free software: you can redistribute it and/or modify\n-    it under the terms of the GNU Affero General Public License version 3\n-    as published by the Free Software Foundation. You may not use, modify\n-    or distribute this program under any other version of the\n-    GNU Affero General Public License.\n-    This program is distributed in the hope that it will be useful,\n-    but WITHOUT ANY WARRANTY; without even the implied warranty of\n-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-    GNU Affero General Public License for more details.\n-    You should have received a copy of the GNU Affero General Public License\n-    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n- */\n-\n-/**\n- * @author: Ronan\n- * @event: Sharenian Guild PQ\n-*/\n-\n-var isPq = true;\n-var minPlayers = 1, maxPlayers = 30;\n-var minLevel = 1, maxLevel = 200;\n-var entryMap = 990000000;\n-var exitMap = 990001100;\n-var recruitMap = 101030104;\n-var clearMap = 990001101;\n-\n-var minMapId = 990000000;\n-var maxMapId = 990001101;\n-\n-var waitTime = 3;\n-var eventTime = 90;     // 90 minutes\n-\n-var lobbyRange = [0, 0];\n-\n-function init() {\n-        setEventRequirements();\n-}\n-\n-function setLobbyRange() {\n-        return lobbyRange;\n-}\n-\n-function setEventRequirements() {\n-        var reqStr = \"\";\n-        \n-        reqStr += \"\\r\\n    Number of players: \";\n-        if(maxPlayers - minPlayers >= 1) reqStr += minPlayers + \" ~ \" + maxPlayers;\n-        else reqStr += minPlayers;\n-        \n-        reqStr += \"\\r\\n    Level range: \";\n-        if(maxLevel - minLevel >= 1) reqStr += minLevel + \" ~ \" + maxLevel;\n-        else reqStr += minLevel;\n-        \n-        reqStr += \"\\r\\n    Time limit: \";\n-        reqStr += eventTime + \" minutes\";\n-        \n-        em.setProperty(\"party\", reqStr);\n-}\n-\n-function setEventExclusives(eim) {\n-        var itemSet = [1032033, 4001024, 4001025, 4001026, 4001027, 4001028, 4001029, 4001030, 4001031, 4001032, 4001033, 4001034, 4001035, 4001037];\n-        eim.setExclusiveItems(itemSet);\n-}\n-\n-function setEventRewards(eim) {\n-        var itemSet, itemQty, evLevel, expStages;\n-\n-        evLevel = 1;    //Rewards at clear PQ\n-        itemSet = [];\n-        itemQty = [];\n-        eim.setEventRewards(evLevel, itemSet, itemQty);\n-        \n-        expStages = [];    //bonus exp given on CLEAR stage signal\n-        eim.setEventClearStageExp(expStages);\n-}\n-\n-function getEligibleParty(party) {      //selects, from the given party, the team that is allowed to attempt this event\n-        var eligible = [];\n-        var hasLeader = false;\n-        \n-        var guildId = 0;\n-        \n-        if(party.size() > 0) {\n-                var partyList = party.toArray();\n-                \n-                for(var i = 0; i < party.size(); i++) {\n-                        var ch = partyList[i];\n-                        if(ch.isLeader()) {\n-                                guildId = ch.getGuildId();\n-                                break;\n-                        }\n-                }\n-\n-                for(var i = 0; i < party.size(); i++) {\n-                        var ch = partyList[i];\n-\n-                        if(ch.getMapId() == recruitMap && ch.getLevel() >= minLevel && ch.getLevel() <= maxLevel && ch.getGuildId() == guildId) {\n-                                if(ch.isLeader()) hasLeader = true;\n-                                eligible.push(ch);\n-                        }\n-                }\n-        }\n-        \n-        if(!(hasLeader)) eligible = [];\n-        return eligible;\n-}\n-\n-function setup(level, lobbyid) {\n-        var eim = em.newInstance(\"Guild\" + lobbyid);\n-        eim.setProperty(\"level\", level);\n-        \n-        eim.setProperty(\"guild\", 0);\n-        eim.setProperty(\"canJoin\", 1);\n-        eim.setProperty(\"statusStg1\", -1);\n-        \n-        eim.getInstanceMap(990000000).resetPQ(level);\n-        eim.getInstanceMap(990000100).resetPQ(level);\n-        eim.getInstanceMap(990000200).resetPQ(level);\n-        eim.getInstanceMap(990000300).resetPQ(level);\n-        eim.getInstanceMap(990000301).resetPQ(level);\n-        eim.getInstanceMap(990000400).resetPQ(level);\n-        eim.getInstanceMap(990000401).resetPQ(level);\n-        eim.getInstanceMap(990000410).resetPQ(level);\n-        eim.getInstanceMap(990000420).resetPQ(level);\n-        eim.getInstanceMap(990000430).resetPQ(level);\n-        eim.getInstanceMap(990000431).resetPQ(level);\n-        eim.getInstanceMap(990000440).resetPQ(level);\n-        eim.getInstanceMap(990000500).resetPQ(level);\n-        eim.getInstanceMap(990000501).resetPQ(level);\n-        eim.getInstanceMap(990000502).resetPQ(level);\n-        eim.getInstanceMap(990000600).resetPQ(level);\n-        eim.getInstanceMap(990000610).resetPQ(level);\n-        eim.getInstanceMap(990000611).resetPQ(level);\n-        eim.getInstanceMap(990000620).resetPQ(level);\n-        eim.getInstanceMap(990000630).resetPQ(level);\n-        eim.getInstanceMap(990000631).resetPQ(level);\n-        eim.getInstanceMap(990000640).resetPQ(level);\n-        eim.getInstanceMap(990000641).resetPQ(level);\n-        eim.getInstanceMap(990000700).resetPQ(level);\n-        eim.getInstanceMap(990000800).resetPQ(level);\n-        eim.getInstanceMap(990000900).resetPQ(level);\n-        eim.getInstanceMap(990001000).resetPQ(level);\n-        eim.getInstanceMap(990001100).resetPQ(level);\n-        eim.getInstanceMap(990001101).resetPQ(level);\n-        \n-        respawnStages(eim);\n-        \n-        var ts = Date.now();\n-        ts += (60000 * waitTime);\n-        eim.setProperty(\"entryTimestamp\", \"\" + ts);\n-        \n-        eim.startEventTimer(waitTime * 60000);    \n-        \n-        setEventRewards(eim);\n-        setEventExclusives(eim);\n-        \n-        return eim;\n-}\n-\n-/*\n-function isTeamAllJobs(eim) {\n-        var eventJobs = eim.getEventPlayersJobs();\n-        var rangeJobs = parseInt('111110', 2);\n-        \n-        return ((eventJobs & rangeJobs) == rangeJobs);\n-}\n-*/\n-\n-function afterSetup(eim) {\n-        eim.setProperty(\"guild\", \"\" + eim.getLeader().getGuildId());\n-}\n-\n-function respawnStages(eim) {}\n-\n-function playerEntry(eim, player) {\n-        var map = eim.getMapInstance(entryMap);\n-        player.changeMap(map, map.getPortal(0));\n-        \n-        var texttt = \"So, here is the brief. You guys should be warned that, once out on the fortress outskirts, anyone that would not be equipping the #b#t1032033##k will die instantly due to the deteriorated state of the air around there. That being said, once your team move out to the next stage, make sure to #bhit the glowing rocks#k in that region and #bequip the dropped item#k before advancing stages. That will protect you thoroughly from the air sickness. Good luck!\";\n-        player.getClient().getSession().write(Packages.tools.MaplePacketCreator.getNPCTalk(9040000, /*(byte)*/ 0, texttt, \"00 00\", /*(byte)*/ 0));\n-}\n-\n-function scheduledTimeout(eim) {\n-        if(eim.getIntProperty(\"canJoin\") == 1) {\n-                eim.setProperty(\"canJoin\", 0);\n-    \n-                if(eim.checkEventTeamLacking(true, minPlayers)) {\n-                        end(eim);\n-                } else {\n-                        eim.startEventTimer(eventTime * 60000);\n-                }\n-        } else {\n-                end(eim);\n-        }\n-}\n-\n-function playerUnregistered(eim, player) {}\n-\n-function playerExit(eim, player) {\n-        eim.unregisterPlayer(player);\n-        player.changeMap(exitMap, 0);\n-}\n-\n-function changedMap(eim, player, mapid) {\n-        if (mapid < minMapId || mapid > maxMapId) {\n-                if (eim.isEventTeamLackingNow(true, minPlayers, player) && eim.getIntProperty(\"canJoin\") == 0) {\n-                        eim.unregisterPlayer(player);\n-                        end(eim);\n-                }\n-                else\n-                        eim.unregisterPlayer(player);\n-        }\n-}\n-\n-function changedLeader(eim, leader) {}\n-\n-function playerDead(eim, player) {}\n-\n-function playerRevive(eim, player) { // player presses ok on the death pop up.\n-        if (eim.isEventTeamLackingNow(true, minPlayers, player) && eim.getIntProperty(\"canJoin\") == 0) {\n-                eim.unregisterPlayer(player);\n-                end(eim);\n-        }\n-        else\n-                eim.unregisterPlayer(player);\n-}\n-\n-function playerDisconnected(eim, player) {\n-        if (eim.isEventTeamLackingNow(true, minPlayers, player) && eim.getIntProperty(\"canJoin\") == 0) {\n-                eim.unregisterPlayer(player);\n-                end(eim);\n-        }\n-        else\n-                eim.unregisterPlayer(player);\n-}\n-\n-function leftParty(eim, player) {}\n-\n-function disbandParty(eim) {\n-        end(eim);\n-}\n-\n-function monsterValue(eim, mobId) {\n-        return 1;\n-}\n-\n-function end(eim) {\n-        var party = eim.getPlayers();\n-        for (var i = 0; i < party.size(); i++) {\n-                playerExit(eim, party.get(i));\n-        }\n-        eim.dispose();\n-}\n-\n-function giveRandomEventReward(eim, player) {\n-        eim.giveEventReward(player);\n-}\n-\n-function clearPQ(eim) {\n-        eim.stopEventTimer();\n-        eim.setEventCleared();\n-}\n-\n-function monsterKilled(mob, eim) {}\n-\n-function allMonstersDead(eim) {}\n-\n-function cancelSchedule() {}\n-\n-function dispose(eim) {\n-        em.schedule(\"reopenGuildQuest\", em.getLobbyDelay() * 1.5 * 1000);\n-}\n-\n-function reopenGuildQuest() {\n-        em.attemptStartGuildInstance();\n-}\n\\ No newline at end of file"}, {"sha": "60e7a4cba2147d50435798f8bb0392121cdc2da3", "filename": "docs/backtrack_licenses/GuildQuest/GuildQuest_old.js", "status": "removed", "additions": 0, "deletions": 208, "changes": 208, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/backtrack_licenses/GuildQuest/GuildQuest_old.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/backtrack_licenses/GuildQuest/GuildQuest_old.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/backtrack_licenses/GuildQuest/GuildQuest_old.js?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,208 +0,0 @@\n-/* \n- * This file is part of the OdinMS Maple Story Server\n-    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc> \n-                       Matthias Butz <matze@odinms.de>\n-                       Jan Christian Meyer <vimes@odinms.de>\n-    This program is free software: you can redistribute it and/or modify\n-    it under the terms of the GNU Affero General Public License version 3\n-    as published by the Free Software Foundation. You may not use, modify\n-    or distribute this program under any other version of the\n-    GNU Affero General Public License.\n-    This program is distributed in the hope that it will be useful,\n-    but WITHOUT ANY WARRANTY; without even the implied warranty of\n-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-    GNU Affero General Public License for more details.\n-    You should have received a copy of the GNU Affero General Public License\n-    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n- */\n-\n-/*\n- * @Author Lerk\n- * \n- * Guild Quest \n- */\n-\n-var exitMap;\n-var waitingListCurrent = 0;\n- \n-importPackage(Packages.world);\n-importPackage(Packages.client);\n-importPackage(Packages.server.maps);\n-importPackage(java.lang);\n-\n-function init() {\n-    em.setProperty(\"shuffleReactors\",\"false\");\n-\tem.setProperty(\"canEnter\", \"true\");\n-\tem.setProperty(\"gpqOpen\", \"true\");\n-}\n-\n-function monsterValue(eim, mobId) { //should only trigger on ergoth\n-    if (mobId == 9300028) { //but, just to be safe...\n-        var rubian = new Packages.client.inventory.Item(4001024, 0, 1);\n-        var map = eim.getMapInstance(990000900);\n-        var reactor = map.getReactorByName(\"boss\");\n-        map.spawnItemDrop(reactor, eim.getPlayers().get(0), rubian, reactor.getPosition(), true, false);\n-    }\n-    return -1;\n-}\n-\n-\n-\n-function setup(eim) {\n-    exitMap = em.getChannelServer().getMapFactory().getMap(990001100); //returning path\n-        \n-    //shuffle reactors in two maps for stage 3\n-    eim.getMapInstance(990000501).shuffleReactors();\n-    eim.getMapInstance(990000502).shuffleReactors();\n-        \n-    //force no-respawn on certain map reactors\n-    eim.getMapInstance(990000611).getReactorByName(\"\").setDelay(-1);\n-    eim.getMapInstance(990000620).getReactorByName(\"\").setDelay(-1);\n-    eim.getMapInstance(990000631).getReactorByName(\"\").setDelay(-1);\n-    eim.getMapInstance(990000641).getReactorByName(\"\").setDelay(-1);\n-        \n-    //activate three minutes after start\n-\teim.setProperty(\"entryTimestamp\", Packages.java.lang.System.currentTimeMillis());\n-    eim.setProperty(\"canEnter\",\"true\");\n-    eim.schedule(\"begin\", 60000);\n-\teim.startEventTimer(60000);\n-}\n-\n-function begin(eim) {\n-    eim.setProperty(\"canEnter\",\"false\");\n-    var party = eim.getPlayers();\n-    //if (party.size() < 6) { //not enough to start\n-    //        end(eim,\"There are no longer enough players to continue, and those remaining shall be warped out.\");\n-    //} else {\n-    var iter = party.iterator();\n-    while (iter.hasNext()) {\n-        iter.next().dropMessage(6,\"The quest has begun.\");\n-    }\n-\t\n-\teim.startEventTimer(1000 * 60 * 90);\n-\teim.schedule(\"timeOut\", 1000 * 60 * 90);\n-//}\n-}\n-\n-function timeOut(eim) {\n-\tend(eim, \"Your allotted time to finish the quest has passed.\");\n-}\n-\n-function playerEntry(eim, player) {\n-    var map = eim.getMapInstance(990000000);\n-    player.changeMap(map, map.getPortal(0));\n-}\n-\n-function playerRevive(eim, player) {\n-    var returnMap = 990000200;\n-    if (eim.getProperty(\"canEnter\").equals(\"true\")) {\n-        returnMap = 990000000;\n-    }\n-    player.setHp(50);\n-    player.setStance(0);\n-    player.changeMap(eim.getMapInstance(returnMap), eim.getMapInstance(returnMap).getPortal(0));\n-    return false;\n-}\n-\n-function playerDead(eim, player) {\n-}\n-\n-function playerDisconnected(eim, player) {\n-    var party = eim.getPlayers();\n-    if (player.getName().equals(eim.getProperty(\"leader\"))) { //check for party leader\n-        //boot all players and end\n-        var iter = party.iterator();\n-        while (iter.hasNext()) {\n-            var pl = iter.next();\n-            pl.dropMessage(6,\"The leader of the instance has disconnected, and the remaining players shall be warped out.\");\n-            if (pl.equals(player)) {\n-                removePlayer(eim, pl);\n-            }\n-            else {\n-                eim.unregisterPlayer(pl);\n-                pl.changeMap(exitMap, exitMap.getPortal(0));\n-            }\n-        }\n-        eim.dispose();\n-    }\n-    else { //boot d/ced player and check if enough players left\n-        removePlayer(eim, player);\n-        if (party.size() < 6) { //five after player booted\n-            end(eim,\"There are no longer enough players to continue, and those remaining shall be warped out.\");\n-        }\n-    }\n-}\n-\n-function leftParty(eim, player) { //ignore for GQ\n-}\n-\n-function disbandParty(eim) { //ignore for GQ\n-}\n-\n-function playerExit(eim, player) {\n-    eim.unregisterPlayer(player);\n-    player.changeMap(exitMap, exitMap.getPortal(0));\n-    var party = eim.getPlayers();\n-    if (party.size() < 6) { //five after player booted\n-        end(eim,\"There are no longer enough players to continue, and those remaining shall be warped out.\");\n-    }\n-}\n-\n-function end(eim, msg) {\n-    var iter = eim.getPlayers().iterator();\n-    while (iter.hasNext()) {\n-        var player = iter.next();\n-        player.dropMessage(6,msg);\n-        eim.unregisterPlayer(player);\n-        player.changeMap(exitMap, exitMap.getPortal(0));\n-    }\n-    eim.dispose();\n-}\n-\n-//for offline players\n-function removePlayer(eim, player) {\n-    eim.unregisterPlayer(player);\n-    player.getMap().removePlayer(player);\n-    player.setMap(exitMap);\n-}\n-\n-function clearPQ(eim) {\n-    var iter = eim.getPlayers().iterator();\n-    var bonusMap = eim.getMapInstance(990001000);\n-\teim.startEventTimer(40000);\n-    while (iter.hasNext()) {\n-        var player = iter.next();\n-        player.changeMap(bonusMap, bonusMap.getPortal(0));\n-    }\n-    eim.schedule(\"finish\", 40000)\n-}\n-\n-function finish(eim) {\n-    var iter = eim.getPlayers().iterator();\n-    while (iter.hasNext()) {\n-        var player = iter.next();\n-        eim.unregisterPlayer(player);\n-        player.changeMap(exitMap, exitMap.getPortal(0));\n-    }\n-    eim.dispose();\n-}\n-\n-function allMonstersDead(eim) {\n-//do nothing; GQ has nothing to do with monster killing\n-}\n-\n-function cancelSchedule() {\n-}\n-\n-function dispose(eim) {\n-\tem.schedule(\"openGPQ\", 5000);\n-}\n-\n-function openGPQ() {\n-\tem.setProperty(\"gpqOpen\", \"true\");\n-}\n-\n-\n-function timeOut() {\n-\t\n-}\n\\ No newline at end of file"}, {"sha": "baf90cfe9ca751ed703eab77379ddb54180e2849", "filename": "docs/backtrack_licenses/GuildQuest/origin.txt", "status": "removed", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/backtrack_licenses/GuildQuest/origin.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/backtrack_licenses/GuildQuest/origin.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/backtrack_licenses/GuildQuest/origin.txt?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,3 +0,0 @@\n-Change reason: Rewrote script file as a whole, now using methods suitable for the server's improved EventManager (queue system and such).\n-\n-Committed 2017-06-13 (GuildPQ Queue system + revamped Warp mechanic)\n\\ No newline at end of file"}, {"sha": "426b9d1efd28b48b01dd62d9c4ba967126a0144e", "filename": "docs/backtrack_licenses/readme.txt", "status": "removed", "additions": 0, "deletions": 14, "changes": 14, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/backtrack_licenses/readme.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/backtrack_licenses/readme.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/backtrack_licenses/readme.txt?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,14 +0,0 @@\n-[COMMIT 198]\n-\n-Licenses for the following files are being changed due to misleading authorship:\n-\t- CafePQ NPCs: those NPC script files were not around on OdinMS server, neither before HeavenMS.\n-\t- GuildQuest.js: that event script file was completely rewritten to suit well the underlying EIM of HeavenMS.\n-\t- Custom NPCs 9000017, 9000036, 9000041: those NPC script files were not around on OdinMS server, neither on Solaxia.\n-\n-Original dates are summarized on the subfolders, for steadfast conference.\n-\n-Licenses for the following files are being added:\n-\t- Several PQs and boss battles: those event scripts are authored by myself, all following similar pattern and using\n-common functions introduced on this server (such as getEligibleParty, startEventTimer or isEventTeamLackingNow).\n-\n-I am expecting no infringements from this action, should any issues arise contact me asap.\n\\ No newline at end of file"}, {"sha": "ed391a4be6cf3bed5e7506f625c4d24989e824f1", "filename": "docs/feature_list.md", "status": "modified", "additions": 17, "deletions": 4, "changes": 21, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/docs/feature_list.md", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/docs/feature_list.md", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/feature_list.md?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -25,23 +25,26 @@ PQs:\n * HPQ/KPQ/LPQ/LMPQ/OPQ/EllinPQ/PiratePQ/MagatiaPQ/HorntailPQ/AmoriaPQ/TreasurePQ.\n * CWKPQ as Expedition-based event.\n * Expeditions: Scarga/Horntail/Showa/Balrog/Zakum/Pinkbean.\n-* GuildPQ 100% + Guild queue with multi-lobby systems available.\n+* GuildPQ + Guild queue with multi-lobby systems available.\n * Brand-new PQs: BossRushPQ, CafePQ.\n * Mu Lung Dojo.\n * Capt. Latanica remade as an event (parties can now fight the boss).\n \n Skills:\n \n+* Some skills behaving oddly have been patched, such as Venomous Star/Stab and Mystic Doors.\n * Maker skill features properly developed.\n-* Server is using heurisitics to calculate fee costs for the Maker (errors sums up to 8k mesos, reagent errors stacks up comformant with it's level).\n+* Server is using heuristics to calculate fee costs for the Maker (errors sums up to 8k mesos, reagent errors stacks up comformant with it's level).\n * New skill: Chair Mastery (max lv 1) - Players having this passive skill can gain a significant boost of HP/MP recovery when sitting on a field/map chair.\n \n Quests:\n \n * Doll house quest functional.\n * Quests can now reward properly items when matching a reward item with the player's job.\n-* Loads of quests have been patched.\n * Quest rewards according to jobs works properly.\n+* Reward selection and randomed reward works properly.\n+* Loads of quests have been patched.\n+* Lots of job questlines (rewarding skills) have been patched/implemented.\n * Enchanced rewarding system: checks for stacking opportunities on the inventory before checking for new slots.\n * Complete overhaul on the 3rd job quiz (explorers), with all 40-question pool now made available.\n \n@@ -52,6 +55,8 @@ Player Social Network:\n * Enhanced synchronization on Player Shops and Hired Merchants. Transactions made are instantly informed to the owner.\n * Game minirooms such as match cards and omok now has semi-functional password system.\n * Item pickup cooldown on non-owned/non-partyowned items functional.\n+* Further improved the server's ranking system, to now display properly daily player ranking movement.\n+* Automated support for Player NPCs and Hall of Fame.\n \n Cash & Items:\n \n@@ -65,6 +70,8 @@ Cash & Items:\n * Owl of Minerva.\n * Pet item ignore.\n * New Year's card (New Year effect sometimes d/c's a player).\n+* Kite.\n+* Cash Shop Surprise.\n \n Monsters, Maps & Reactors:\n \n@@ -76,6 +83,7 @@ Monsters, Maps & Reactors:\n * Added Boss HP Bar for dozens of bosses (needs provided custom wz).\n * If multiple bosses are on the same area, client will prioritize Boss HP bar of the target of the player.\n * Boats, elevator and other travelling mechanics fully working.\n+* Crimson Balrog boat approaching visual effect made functional.\n * PQs, Taxis and other event-driven situations warps players at random spawnpoints, GMS-like.\n * Some reactors (PQ bonus boxes) now sprays items on the map, instead of dropping everything at once.\n * Updated Crimsonwood, World Tour, Nihal Desert and Neo City, enabling quest completion and game progression in these areas.\n@@ -102,6 +110,7 @@ Server potentials:\n * Enhanced auto-pot system: pet uses as many potions as necessary to reach the desired threshold.\n * Enhanced buff system: smartly checks for the best available buff effects to be active on the player.\n * Enhanced AP auto-assigner: exactly matches AP with the needed for the player's current level, surplus assigned to the primary attribute.\n+* Pet item pickup now gives preference to player attacks rather than forcing attack disables when automatically picking up.\n * Channel capacity bar functional and world servers with max capacity checks.\n * Disease status are now visible for other players, even when changing maps.\n * Poison damage value are now visible for other players.\n@@ -110,6 +119,7 @@ Server potentials:\n * Delete Character (requires ENABLE_PIC activated).\n * Autosaver (periodically saves on DB current state of every player in-game).\n * Both fixed and randomized versions of HP/MP growth rate available, regarding player job (enable one at ServerConstants). Placeholder for HP/MP washing feature.\n+* Reallocated mapobjectids utilization throughout the source, preventing issues such as \"NPC disappearing mysteriously after some server time\" from happening.\n * Accounts can be created automatically when trying to login on an inexistent account -- credits to shavit.\n * Usage of Bcrypt (up-to-date) as the main password hashing algorithm, replacing old SHA's -- credits to shavit.\n \n@@ -131,9 +141,9 @@ External tools:\n * MapleMesoFetcher - Creates meso drop data for mobs with more than 4 items (thus overworld mobs), calculations based on mob level and whether it's a boss or not.\n * MapleMobBookIndexer - Generates a SQL table with all relations of cardid and mobid present in the mob book.\n * MapleMobBookUpdate - Generates a wz.xml that is a copy of the original MonsterBook.wz.xml, except it updates the drop data info in the book with those currently on DB.\n-* MapleQuestlineFetcher - Searches the quest WZ files and reports in all questids that currently doesn't have script files.\n * MapleQuestItemCountFetcher - Searches the quest WZ files and reports in all relevant data regarding missing \"count\" labels on item acts at \"complete quest\".\n * MapleQuestItemFetcher - Searches the SQL tables and project files and reports in all relevant data regarding missing/erroneous quest items.\n+* MapleQuestlineFetcher - Searches the quest WZ files and reports in all questids that currently doesn't have script files.\n * MapleQuestMesoFetcher - Searches the quest WZ files and reports in all relevant data regarding missing/erroneous quest fee checks.\n * MapleReactorDropFetcher - Searches the DB for reactors with drop data and reports in reactorids that are not yet coded.\n * MapleSkillMakerFetcher - Updates the DB Maker-related tables with the current info present on the WZs.\n@@ -145,7 +155,9 @@ Project:\n * Highly updated drop data.\n * Highly configurable server (see all server flags at ServerConstants).\n * Fixed/added some missing packets for MoveEnvironment, summons and others.\n+* Uncovered many Send/Recv opcodes throughout the source.\n * Reviewed many Java object aspects that needed concurrency protection.\n+* Protected many flaws with login management system.\n * Heavily reviewed future task management inside the project. Way less trivial schedules are spawned now, relieving task overload on the TimerManager.\n * ThreadTracker: embedded auditing tool for run-time deadlock scanning throughout the server source (relies heavily on memory usage, designed only for debugging purposes).\n \n@@ -154,6 +166,7 @@ Exploits patched:\n * Player being given free access to any character of any account once they have authenticated their account on login phase.\n * Player being given permission to delete any character of any account once they have authenticated their account on login phase.\n * Player being able to start/complete any quest freely.\n+* Several assynchronous-oriented explots patched, highlights on those involving Fredrick & Duey.\n \n Localhost:\n "}, {"sha": "d83cdad8fc375eb186e4bd20407848b1b6fa35d8", "filename": "docs/mcpq/blob/2042002.js", "status": "removed", "additions": 0, "deletions": 315, "changes": 315, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/blob/2042002.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/blob/2042002.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/blob/2042002.js?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,315 +0,0 @@\n-var DISABLED = false;\n-\n-var SavedLocationType = Packages.server.maps.SavedLocationType;\n-\n-var MonsterCarnival = Packages.server.partyquest.mcpq.MonsterCarnival;\n-var MCTracker = Packages.server.partyquest.mcpq.MCTracker;\n-var MCParty = Packages.server.partyquest.mcpq.MCParty;\n-var MCField = Packages.server.partyquest.mcpq.MCField;\n-\n-var status = -1;\n-var store = false;\n-var ctx = -1; \n-var storeInfo;\n-var purchaseId;\n-var purchaseCost;\n-\n-var coinId = 4001129;\n-var coinIcon = \"#i\" + coinId + \"#\";\n-var infoMaps = [220000000, 200000000, 103000000, 540000000]; // ludi, orbis, kerning, singapore\n-var gradeS = 600\n-var gradeA = 500\n-var gradeB = 400\n-var gradeC = 300\n-var gradeD = 200\n-var gradeE = 100\n-\n-var expRewards = [[150000, 100000], // S Winner/Loser\n-                  [100000, 70000], // A Winner/Loser\n-                  [75000, 43250], // B Winner/Loser\n-                  [50000, 25000], // C Winner/Loser\n-                  [25000, 12500], // D Winner/Loser\n-                  [12500, 6250],  // E Winner/Loser\n-                  [5000, 2500]    // F Winner/Loser\n-                  ];\n-\n-// Exchange stores\n-var warrior = [[1302004, 7], [1402006, 7], [1302009, 10], [1402007, 10],\n-               [1302010, 20], [1402003, 20], [1312006, 7], [1412004, 7],\n-               [1312007, 10], [1412005, 10], [1312018, 20], [1412003, 20],\n-               [1322015, 7], [1422008, 7], [1322016, 10], [1422007, 10],\n-               [1322017, 20], [1422005, 20], [1432003, 7], [1442003, 7],\n-               [1432005, 10], [1442009, 10], [1442005, 20], [1432004, 20]];\n-\n-var magician = [[1372001, 7], [1382018, 7], [1372012, 10], [1382019, 10],\n-                [1382001, 20], [1372007, 20]];\n-\n-var archer = [[1452006, 7], [1452007, 10], [1452008, 20], [1462005, 7],\n-              [1462006, 10], [1462007, 20]];\n-\n-var thief = [[1472013, 7], [1472017, 10], [1472021, 20], [1332014, 7],\n-             [1332011, 10], [1332031, 10], [1332016, 20], [1332034, 20]];\n-\n-var pirate = [[1482005, 7], [1482006, 10], [1482007, 20], [1492005, 7],\n-              [1492006, 10], [1492007, 20]];\n-\n-var necklace = [[1122007, 50], [2041211, 40]];\n-\n-var infoText = \"You wish to know about the Monster Carnival? Very well. The Monster Carnival is a place of trilling battles and exciting competiton against people just as strong and motivated as yourself. You must summon monsters and defeat the monsters summoned by the opposing party. That's the essence of the Monster Carnival. Once you enter the Carnival Field, the task is to earn CP by hunter monsters from the opposing party and use those CP's to distract the opposing party from hunting monsters. There are three ways to distract the other party; Summon a Monster, Skill or Protector. Please remember this though, it's never a good idea to save up CP just for the sake of it. The CP's you've used will also help determine the winner and the loser of the carnival.\";\n-var no = \"You do not have enough Maple Coins for this item. Come back to me when you acquire more!\";\n-\n-function getGrade(cp) {\n-    if (cp >= gradeS) {\n-        return 0;\n-    } else if (cp >= gradeA) {\n-        return 1;\n-    } else if (cp >= gradeB) {\n-        return 2;\n-    } else if (cp >= gradeC) {\n-        return 3;\n-    } else if (cp >= gradeD) {\n-        return 4;\n-    } else if (cp >= gradeE) {\n-        return 5;\n-    } else {\n-        return 6;\n-    }\n-}\n-\n-function isTownMap(map) {\n-    for (var i = 0; i < infoMaps.length; i++) {\n-        if (infoMaps[i] == map) {\n-            return true;\n-        }\n-    }\n-    return false;\n-}\n-\n-function isExitMap(map) {\n-    return map == 980000010;\n-}\n-\n-function isWinnerMap(map) {\n-    return (map >= 980000000 && map <= 980000700 && map % 10 == 3);\n-}\n-\n-function isLoserMap(map) {\n-    return (map >= 980000000 && map <= 980000700 && map % 10 == 4);\n-}\n-\n-var CONTEXT_NONE = -1;\n-var CONTEXT_TOWN = 0;\n-var CONTEXT_EXIT = 1;\n-var CONTEXT_WIN  = 2;\n-var CONTEXT_LOSE = 3;\n-\n-function start() {  \n-    if (DISABLED) {\n-        cm.sendOk(\"CPQ is temporarily unavailable.\");\n-        cm.dispose();\n-        return;\n-    }\n-    m = cm.getMapId();\n-    if (isTownMap(m)) {\n-        ctx = CONTEXT_TOWN;\n-    } else if (isExitMap(m)) {\n-        ctx = CONTEXT_EXIT;\n-    } else if (isWinnerMap(m)) {\n-        ctx = CONTEXT_WIN;\n-    } else if (isLoserMap(m)) {\n-        ctx = CONTEXT_LOSE;\n-    } else {\n-        ctx = CONTEXT_NONE;\n-    }\n-\n-    action(1, 0, 0);\n-}\n-\n-function doLoserMap(mode, type, selection) {\n-    if (cm.getPlayer().getMCPQParty() == null) {\n-        cm.warp(MonsterCarnival.MAP_LOBBY);\n-        cm.dispose();\n-        return;\n-    }\n-\n-    if (mode == -1) {\n-        cm.dispose();\n-    } else {\n-        if (mode == 1) status++;\n-        else status--;\n-\n-        if (status == 0) {\n-            cm.sendNext(\"Unfortunately, you did not manage to win this round. Better luck next time!\");\n-        } else if (status == 1) {\n-            var points = cm.getPlayer().getMCPQParty().getTotalCP();\n-            var grade = getGrade(points);\n-            var letterGrade = \"ABCDF\"[grade];\n-            var expReward = expRewards[grade][1];\n-\n-            cm.sendNext(\"Your grade is: #b\" + letterGrade + \"\\r\\n\\r\\n#kEXP Reward: \" + expReward);\n-            cm.gainExp(expReward);\n-        } else if (status == 2) {\n-            cm.warp(MonsterCarnival.MAP_LOBBY);\n-            cm.dispose();\n-        }\n-    }\n-}\n-\n-function doWinnerMap(mode, type, selection) {\n-    if (cm.getPlayer().getMCPQParty() == null) {\n-        cm.warp(MonsterCarnival.MAP_LOBBY);\n-        cm.dispose();\n-        return;\n-    }\n-\n-    if (mode == -1) {\n-        cm.dispose();\n-    } else {\n-        if (mode == 1) status++;\n-        else status--;\n-\n-        if (status == 0) {\n-            cm.sendNext(\"Congratulations! You managed to defeat the enemy team!\");\n-        } else if (status == 1) {\n-            var points = cm.getPlayer().getMCPQParty().getTotalCP();\n-            var grade = getGrade(points);\n-            var letterGrade = \"ABCDF\"[grade];\n-            var expReward = expRewards[grade][0];\n-\n-            cm.sendNext(\"Your grade is: #b\" + letterGrade + \"\\r\\n\\r\\n#kEXP Reward: \" + expReward);\n-            cm.gainExp(expReward);\n-        } else if (status == 2) {\n-            cm.warp(MonsterCarnival.MAP_LOBBY);\n-            cm.dispose();\n-        }\n-    }\n-}\n-\n-function doTown(mode, type, selection) {\n-    if (mode == -1) {\n-        cm.sendOk(\"Be sure to vote for the server every 24 hours!\");\n-        cm.dispose();\n-    } else {\n-        if (mode == 1) status++;\n-        else status--;\n-\n-        if (status == 0) {\n-            cm.sendSimple(\"What would you like to do? If you have never participated in the Monster Carnival, you'll need to know a thing or two about it before joining.\\r\\n\\r\\n#b#L0#Go to the Monster Carnival Field#l\\r\\n#L1#Learn about the Monster Carnival#l\\r\\n#L2#Trade Maple Coin#l\");\n-        } else if (status == 1) {\n-            if (selection == 0) {\n-                if (cm.getChar().getLevel() < MonsterCarnival.MIN_LEVEL || cm.getChar().getLevel() > MonsterCarnival.MAX_LEVEL) {\n-                    cm.sendOk(\"You must be between level \" + MonsterCarnival.MIN_LEVEL + \" and level \" + MonsterCarnival.MAX_LEVEL + \" to enter.\");\n-                    cm.dispose();\n-                    return;\n-                }\n-                cm.getChar().saveLocation(SavedLocationType.MONSTER_CARNIVAL);\n-                cm.warp(MonsterCarnival.MAP_LOBBY, 4);\n-                cm.dispose();\n-                return;\n-            } else if (selection == 1) {\n-                cm.sendPrev(infoText);\n-                cm.dispose();\n-                return;\n-            } else if (selection == 2) {\n-                store = true;\n-                cm.sendSimple(\"Select a category:\\r\\n\" +\n-                    \"#L101##bTrade Maple Coins for Warrior Weapons\\r\\n\" +\n-                    \"#L102#Trade Maple Coins for Magician Weapons\\r\\n\" +\n-                    \"#L103#Trade Maple Coins for Bowman Weapons\\r\\n\" +\n-                    \"#L104#Trade Maple Coins for Thief Weapons\\r\\n\" +\n-                    \"#L105#Trade Maple Coins for Pirate Weapons\\r\\n\" +\n-                    \"#L106#Trade Maple Coins for a Necklace\");\n-            }\n-        } else if (status == 2) {\n-            if (store) {\n-                switch (selection) {\n-                    case 101:\n-                        storeInfo = warrior;\n-                        break;\n-                    case 102:\n-                        storeInfo = magician;\n-                        break;\n-                    case 103:\n-                        storeInfo = archer;\n-                        break;\n-                    case 104:\n-                        storeInfo = thief;\n-                        break;\n-                    case 105:\n-                        storeInfo = pirate;\n-                        break;\n-                    case 106:\n-                        storeInfo = necklace;\n-                        break;\n-                    default:\n-                        storeInfo = [];\n-                }\n-                if (storeInfo.length == 0) {\n-                    cm.sendOk(\"That store doesn't exist.\");\n-                    cm.dispose();\n-                    return;\n-                }\n-                var storeText = \"\";\n-                for (var i = 0; i < storeInfo.length; ++i) {\n-                    var wepId = storeInfo[i][0];\n-                    var cost = storeInfo[i][1];\n-                    storeText += \"#L\" + i + \"##v\" + wepId + \"# - #z\" + wepId + \"# - \" + cost + \" \" + coinIcon + \"#l\\r\\n\";\n-                }\n-                cm.sendSimple(storeText);\n-            } else {\n-                MCTracker.log(\"[MCPQ_Info] CONTEXT_TOWN: Invalid status 2\");\n-            }\n-        } else if (status == 3) {\n-            if (store) {\n-                purchaseId = storeInfo[selection][0];\n-                purchaseCost = storeInfo[selection][1];\n-\n-                if (cm.haveItem(coinId, purchaseCost)) {\n-                    cm.sendYesNo(\"Are you sure you want to purchase #i\" + purchaseId + \"#? You will have #r#e\" + (cm.itemQuantity(coinId) - purchaseCost) + \" \" + coinIcon + \"##k#n remaining.\");\n-                } else {\n-                    cm.sendOk(\"You don't have enough \" + coinIcon + \".\");\n-                    cm.dispose();\n-                }\n-            } else {\n-                MCTracker.log(\"[MCPQ_Info] CONTEXT_TOWN: Invalid status 3\");\n-            }\n-        } else if (status == 4) {\n-            if (store) {\n-                if (cm.haveItem(coinId, purchaseCost)) {\n-                    cm.gainItem(coinId, -purchaseCost);\n-                    cm.gainItem(purchaseId);\n-                    cm.sendOk(\"Congratulations! Enjoy your new item.\");\n-                    cm.dispose();\n-                }\n-            } else {\n-                MCTracker.log(\"[MCPQ_Info] CONTEXT_TOWN: Invalid status 4\");\n-            }\n-        }\n-    }\n-}\n-\n-function doExit() {\n-    cm.warp(MonsterCarnival.MAP_LOBBY);\n-    cm.sendOk(\"Hope you had fun in the Carnival PQ!\");\n-    cm.dispose();\n-}\n-\n-function action(mode, type, selection) {\n-    switch (ctx) {\n-        case CONTEXT_TOWN:\n-            doTown(mode, type, selection);\n-            break;\n-        case CONTEXT_EXIT:\n-            doExit();\n-            break;\n-        case CONTEXT_LOSE:\n-            doLoserMap(mode, type, selection);\n-            break;\n-        case CONTEXT_WIN:\n-            doWinnerMap(mode, type, selection);\n-            break;\n-        default:\n-            MCTracker.log(\"[MCPQ_INFO] Invalid context (value: \" + ctx + \")\");\n-            cm.dispose();\n-    } \n-}\n\\ No newline at end of file"}, {"sha": "9c75be262512ee5723fbf684cb1db9ff5106857b", "filename": "docs/mcpq/blob/MCBattlefield.java", "status": "removed", "additions": 0, "deletions": 464, "changes": 464, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/blob/MCBattlefield.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/blob/MCBattlefield.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/blob/MCBattlefield.java?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,464 +0,0 @@\n-/*\n-    This program is free software: you can redistribute it and/or modify\n-    it under the terms of the GNU Affero General Public License as\n-    published by the Free Software Foundation version 3 as published by\n-    the Free Software Foundation. You may not use, modify or distribute\n-    this program under any other version of the GNU Affero General Public\n-    License.\n-\n-    This program is distributed in the hope that it will be useful,\n-    but WITHOUT ANY WARRANTY; without even the implied warranty of\n-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-    GNU Affero General Public License for more details.\n-\n-    You should have received a copy of the GNU Affero General Public License\n-    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n-*/\n-\n-package server.partyquest.mcpq;\n-\n-import java.awt.*;\n-import java.util.ArrayList;\n-import java.util.HashMap;\n-import java.util.List;\n-import java.util.Map;\n-import packet.creators.CarnivalPackets;\n-import packet.creators.PacketCreator;\n-import client.player.Player;\n-import server.life.MapleLifeFactory;\n-import server.life.MapleMonster;\n-import server.life.MobSkill;\n-import server.life.MobSkillFactory;\n-import server.life.SpawnPoint;\n-import server.life.Spawns;\n-import server.maps.Field;\n-import server.maps.FieldObject;\n-import server.maps.FieldObjectType;\n-import server.maps.reactors.MapleReactor;\n-import server.maps.reactors.MapleReactorFactory;\n-import server.partyquest.mcpq.MCField.MCTeam;\n-import static server.partyquest.mcpq.MCField.MCTeam.RED;\n-import server.partyquest.mcpq.MCWZData.MCGuardianGenPos;\n-import server.partyquest.mcpq.MCWZData.MCMobGenPos;\n-\n-\n-/**\n- * Keeps track of guardians and spawns in MCPQ.\n- *\n- * @author s4nta\n- */\n-public class MCBattlefield {\n-\n-    private Field map;\n-    private MCWZData wzData;\n-    private int numGuardiansSpawned = 0;\n-    private int numMonstersSpawned = 0;\n-    // These map Guardian IDs (aka codes for status) to the guardian position.\n-    private Map<Integer, MCWZData.MCGuardianGenPos> redGuardianIdToPos = new HashMap<>();\n-    private Map<Integer, MCWZData.MCGuardianGenPos> blueGuardianIdToPos = new HashMap<>();\n-    // These map Reactor Object IDs to guardian objects.\n-    private Map<Integer, MCGuardian> redReactors = new HashMap<>();\n-    private Map<Integer, MCGuardian> blueReactors = new HashMap<>();\n-    // used for divided maps\n-    // we use an arraylist here for easier random element lookup.\n-    private List<MCWZData.MCGuardianGenPos> originalRedGuardianSpawns = new ArrayList<>();\n-    private List<MCWZData.MCGuardianGenPos> originalBlueGuardianSpawns = new ArrayList<>();\n-    // used for undivided map\n-    private List<MCWZData.MCGuardianGenPos> originalGuardianSpawns = new ArrayList<>();\n-\n-    // used for divided maps\n-    // we use an arraylist here for easier random element lookup.\n-    private List<MCWZData.MCMobGenPos> originalRedSpawns = new ArrayList<>();\n-    private List<MCWZData.MCMobGenPos> originalBlueSpawns = new ArrayList<>();\n-    // use for undivided map\n-    private List<MCWZData.MCMobGenPos> originalUnifiedSpawns = new ArrayList<>();\n-\n-    private List<SpawnPoint> originalSpawns = new ArrayList<>();\n-    private List<SpawnPoint> addedSpawns = new ArrayList<>();\n-\n-    public MCBattlefield(Field battleInstance) {\n-        this.map = battleInstance;\n-        fetchCarnivalData();\n-        getOriginalSpawnPoints();\n-        populateGuardianSpawns();\n-        populateMobSpawns();\n-    }\n-\n-    private void fetchCarnivalData() {\n-        wzData = this.map.getMCPQData();\n-        if (wzData == null) {\n-            MCTracker.log(\"[MCPQ] Fetching carnival failed for map \" + map.getId());\n-        }\n-    }\n-\n-    private void getOriginalSpawnPoints() {\n-        for (Spawns sp : this.map.getSpawnPoints()) {\n-            originalSpawns.add((SpawnPoint) sp);\n-        }\n-    }\n-\n-    private void populateGuardianSpawns() {\n-        for (MCWZData.MCGuardianGenPos gpos : wzData.guardianGenPosList) {\n-            switch (gpos.team) {\n-                case 0:\n-                    originalRedGuardianSpawns.add(gpos);\n-                    break;\n-                case 1:\n-                    originalBlueGuardianSpawns.add(gpos);\n-                    break;\n-                default:\n-                    originalGuardianSpawns.add(gpos);\n-            }\n-        }\n-    }\n-\n-    private void populateMobSpawns() {\n-        for (MCWZData.MCMobGenPos mpos : wzData.mobGenPosList) {\n-            switch (mpos.team) {\n-                case 0:\n-                    originalRedSpawns.add(mpos);\n-                    break;\n-                case 1:\n-                    originalBlueSpawns.add(mpos);\n-                    break;\n-                default:\n-                    originalUnifiedSpawns.add(mpos);\n-                    break;\n-            }\n-        }\n-    }\n-\n-    public void addSpawn(Player chr, int num) {\n-        if (numMonstersSpawned > wzData.mobGenMax) {\n-            chr.getClient().announce(CarnivalPackets.CarnivalMessage(3));\n-            return;\n-        }\n-\n-        MCWZData.MCSummonMob mobToSummon = wzData.summons.get(num);\n-        MCWZData.MCMobGenPos spawnPos = getRandomSpawnPos(chr.getMCPQTeam());\n-\n-        MCField.MCTeam team = chr.getMCPQTeam();\n-        if (spawnPos == null) { \n-            chr.getClient().announce(CarnivalPackets.CarnivalMessage(2));\n-            return;\n-        }\n-\n-        int spendCp = mobToSummon.spendCP;\n-        if (spendCp > chr.getAvailableCP()) {\n-            readdSpawn(spawnPos, team);\n-            chr.getClient().announce(CarnivalPackets.CarnivalMessage(1));\n-            return;\n-        }\n-\n-        chr.getMCPQField().loseCP(chr, spendCp);\n-        this.map.broadcastMessage(CarnivalPackets.PlayerSummoned(MonsterCarnival.TAB_SPAWNS, num, chr.getName()));\n-        numMonstersSpawned++; // TODO: AtomicInteger this\n-\n-        MapleMonster monster = MapleLifeFactory.getMonster(mobToSummon.id);\n-        Point pos = new Point(spawnPos.x, spawnPos.y);\n-        SpawnPoint sp = new SpawnPoint(monster, pos, mobToSummon.mobTime, chr.getTeam());\n-\n-        addedSpawns.add(sp);\n-        updateMonsterBuffs();\n-    }\n-\n-    public void useSkill(Player chr, int num) {\n-        if (!wzData.skills.containsKey(num)) {\n-            MCTracker.log(\"Attempting to use a null skill.\");\n-            return;\n-        }\n-        int realSkill = wzData.skills.get(num);\n-        MCSkill skill = MCSkillFactory.getMCSkill(realSkill);\n-        // TODO: add skill cooldowns\n-\n-        int spendCp = skill.getSpendCP();\n-        if (spendCp > chr.getAvailableCP()) {\n-            chr.getClient().announce(CarnivalPackets.CarnivalMessage(1));\n-            return;\n-        }\n-\n-        MCParty teamToApply = chr.getMCPQParty().getEnemy();\n-        boolean success = teamToApply.applyMCSkill(skill);\n-\n-        if (success) {\n-            chr.getMCPQField().loseCP(chr, spendCp);\n-            map.broadcastMessage(CarnivalPackets.PlayerSummoned(MonsterCarnival.TAB_DEBUFF, num, chr.getName()));\n-        } else {\n-            chr.getClient().getSession().write(CarnivalPackets.CarnivalMessage(5));\n-        }\n-    }\n-    \n-    public void readdSpawn(MCWZData.MCMobGenPos pos, MCField.MCTeam team) {\n-        List<MCWZData.MCMobGenPos> lst = null;\n-        if (this.wzData.mapDivided) {\n-            if (null == team) {\n-                return;\n-            } else switch (team) {\n-                case RED:\n-                    lst = originalRedSpawns;\n-                    break;\n-                case BLUE:\n-                    lst = originalBlueSpawns;\n-                    break;\n-                default:\n-                    return;\n-            }\n-        } else {\n-            lst = originalUnifiedSpawns;\n-        }\n-        \n-        if (lst == null) {\n-            return;\n-        } \n-        lst.add(pos);\n-    }\n-\n-    public void spawnGuardian(Player chr, int num) {\n-        if (numGuardiansSpawned > wzData.guardianGenMax) {\n-            chr.getClient().announce(CarnivalPackets.CarnivalMessage(3));\n-            return;\n-        }\n-\n-        int guardianId = wzData.guardians.get(num);\n-        MCGuardian guardian = MCSkillFactory.getMCGuardian(guardianId);\n-        if (guardian == null) {\n-            MCTracker.log(\"Attempting to spawn invalid guardian.\");\n-            return;\n-        }\n-\n-        MCField.MCTeam team = chr.getMCPQTeam();\n-        if (team == MCField.MCTeam.RED) {\n-            if (redGuardianIdToPos.containsKey(guardianId)) {\n-                chr.getClient().announce(CarnivalPackets.CarnivalMessage(4));\n-                return;\n-            }\n-        } else if (team == MCField.MCTeam.BLUE) {\n-            if (blueGuardianIdToPos.containsKey(guardianId)) {\n-                chr.getClient().announce(CarnivalPackets.CarnivalMessage(4));\n-                return;\n-            }\n-        }\n-        int spendCp = guardian.getSpendCP();\n-        if (spendCp > chr.getAvailableCP()) {\n-            chr.getClient().announce(CarnivalPackets.CarnivalMessage(1));\n-            return;\n-        }\n-\n-        chr.getMCPQField().loseCP(chr, spendCp);\n-        this.map.broadcastMessage(CarnivalPackets.PlayerSummoned(MonsterCarnival.TAB_GUARDIAN, num, chr.getName()));\n-        numGuardiansSpawned++; // TODO: AtomicInteger this\n-        MCWZData.MCGuardianGenPos genPos = getRandomGuardianPos(team);\n-        Point spawnPos = new Point(genPos.x, genPos.y);\n-\n-        MapleReactor reactor;\n-        if (null == team) {\n-            return;\n-        } else switch (team) {\n-            case RED:\n-                reactor = new MapleReactor(MapleReactorFactory.getReactor(MonsterCarnival.GUARDIAN_RED), MonsterCarnival.GUARDIAN_RED);\n-                reactor.setPosition(spawnPos);\n-                redGuardianIdToPos.put(num, genPos);\n-                break;\n-            case BLUE:\n-                reactor = new MapleReactor(MapleReactorFactory.getReactor(MonsterCarnival.GUARDIAN_BLUE), MonsterCarnival.GUARDIAN_BLUE);\n-                reactor.setPosition(spawnPos);\n-                blueGuardianIdToPos.put(num, genPos);\n-                break;\n-            default:\n-                return;\n-        }\n-\n-        reactor.setDelay(-1);\n-        map.spawnReactor(reactor);\n-\n-        if (team == MCField.MCTeam.RED) {\n-            redReactors.put(reactor.getObjectId(), MCSkillFactory.getMCGuardian(num));\n-        } else {\n-            blueReactors.put(reactor.getObjectId(), MCSkillFactory.getMCGuardian(num));\n-        }\n-\n-        map.setReactorState(reactor, (byte) 1); \n-        updateMonsterBuffs();\n-    }\n-\n-    public void onGuardianHit(Player chr, MapleReactor reactor) {\n-        if (MonsterCarnival.DEBUG) {\n-            System.out.println(\"STATE: \" + reactor.getState());\n-        }\n-        MCField.MCTeam team = chr.getMCPQTeam();\n-        if (team == MCField.MCTeam.RED && reactor.getId() == MonsterCarnival.GUARDIAN_RED) {\n-            return;\n-        }\n-        if (team == MCField.MCTeam.BLUE && reactor.getId() == MonsterCarnival.GUARDIAN_BLUE) {\n-            return;\n-        }\n-        reactor.setState((byte) (reactor.getState() + 1));\n-        map.broadcastMessage(PacketCreator.TriggerReactor(reactor, reactor.getState()));\n-\n-        if (reactor.getState() > 3) {\n-            int reactorObjId = reactor.getObjectId();\n-            map.destroyReactor(reactorObjId);\n-\n-            MCGuardian guard;\n-            MCWZData.MCGuardianGenPos guardianGenPos;\n-            if (team == MCField.MCTeam.RED) {\n-                guard = blueReactors.remove(reactorObjId);\n-                guardianGenPos = blueGuardianIdToPos.remove(guard.getType());\n-            } else {\n-                guard = redReactors.remove(reactorObjId);\n-                guardianGenPos = redGuardianIdToPos.remove(guard.getType());\n-            }\n-            numGuardiansSpawned--;\n-            \n-            if (MonsterCarnival.DEBUG) {\n-                System.out.println(\"Removing reactor with x = \" + guardianGenPos.x);\n-            }\n-            if (wzData.mapDivided) {\n-                if (team == MCField.MCTeam.RED) {\n-                    originalBlueGuardianSpawns.add(guardianGenPos);\n-                } else {\n-                    originalRedGuardianSpawns.add(guardianGenPos);\n-                }\n-            } else {\n-                originalGuardianSpawns.add(guardianGenPos);\n-            }\n-\n-            if (MonsterCarnival.DEBUG) {\n-                System.out.println(\"Attempting to remove buff \" + guard.getName());\n-            }\n-            updateMonsterBuffs();\n-        }\n-    }\n-\n-    private MCGuardianGenPos getRandomGuardianPos(MCTeam team) {\n-        if (this.wzData.mapDivided) {\n-            if (null == team) {\n-                return null;\n-            } else switch (team) {\n-                case RED: {\n-                    int randIndex = (int) Math.floor(Math.random() * this.originalRedGuardianSpawns.size());\n-                    return originalRedGuardianSpawns.remove(randIndex);\n-                }\n-                case BLUE: {\n-                    int randIndex = (int) Math.floor(Math.random() * this.originalBlueGuardianSpawns.size());\n-                    return originalBlueGuardianSpawns.remove(randIndex);\n-                }\n-                default:\n-                    return null;\n-            }\n-        } else {\n-            int randIndex = (int) Math.floor(Math.random() * this.originalGuardianSpawns.size());\n-            return originalGuardianSpawns.remove(randIndex);\n-        }\n-    }\n-\n-    private MCMobGenPos getRandomSpawnPos(MCTeam team) {\n-        List<MCMobGenPos> lst = null;\n-        if (this.wzData.mapDivided) {\n-            if (null == team) {\n-                return null;\n-            } else switch (team) {\n-                case RED:\n-                    lst = originalRedSpawns;\n-                    break;\n-                case BLUE:\n-                    lst = originalBlueSpawns;\n-                    break;\n-                default:\n-                    return null;\n-            }\n-        } else {\n-            lst = originalUnifiedSpawns;\n-        }\n-        \n-        if (lst == null) {\n-            return null;\n-        } \n-        if (lst.isEmpty()) {\n-            return null;\n-        }\n-        int randIndex = (int) Math.floor(Math.random() * lst.size());\n-        return lst.remove(randIndex);\n-    }\n-\n-    private void updateMonsterBuffs() {\n-        List<MCGuardian> redGuardians = new ArrayList<>();\n-        List<MCGuardian> blueGuardians = new ArrayList<>();\n-\n-        for (MCGuardian g : this.redReactors.values()) {\n-            redGuardians.add(g);\n-            if (MonsterCarnival.DEBUG) {\n-                System.out.println(\"update buff red \" + g.getMobSkillID());\n-            }\n-        }\n-        for (MCGuardian g : this.blueReactors.values()) {\n-            blueGuardians.add(g);\n-            if (MonsterCarnival.DEBUG) {\n-                System.out.println(\"update buff blue \" + g.getMobSkillID());\n-            }\n-        }\n-\n-        for (FieldObject mmo : map.getAllMonsters()) {\n-            if (mmo.getType() == FieldObjectType.MONSTER) {\n-                MapleMonster mob = ((MapleMonster) mmo);\n-                mob.dispel();\n-\n-                if (mob.getTeam() == MCField.MCTeam.RED.code) {\n-                    applyGuardians(mob, redGuardians);\n-                } else if (mob.getTeam() == MCField.MCTeam.BLUE.code) {\n-                    applyGuardians(mob, blueGuardians);\n-                } else {\n-                    MCTracker.log(\"[MCPQ] Attempting to give guardians to mob without team.\");\n-                }\n-            }\n-        }\n-    }\n-\n-    private void giveMonsterBuffs(MapleMonster mob) {\n-        List<MCGuardian> redGuardians = new ArrayList<>();\n-        List<MCGuardian> blueGuardians = new ArrayList<>();\n-\n-        for (MCGuardian g : this.redReactors.values()) {\n-            redGuardians.add(g);\n-            if (MonsterCarnival.DEBUG) {\n-                System.out.println(\"update buff red \" + g.getMobSkillID());\n-            }\n-        }\n-        for (MCGuardian g : this.blueReactors.values()) {\n-            blueGuardians.add(g);\n-            if (MonsterCarnival.DEBUG) {\n-                System.out.println(\"update buff blue \" + g.getMobSkillID());\n-            }\n-        }\n-\n-        if (mob.getTeam() == MCField.MCTeam.RED.code) {\n-            applyGuardians(mob, redGuardians);\n-        } else if (mob.getTeam() == MCField.MCTeam.BLUE.code) {\n-            applyGuardians(mob, blueGuardians);\n-        } else {\n-            MCTracker.log(\"[MCPQ] Attempting to give guardians to mob without team.\");\n-        }\n-    }\n-\n-    private void applyGuardians(MapleMonster mob, List<MCGuardian> guardians) {\n-        for (MCGuardian g : guardians) {\n-            MobSkill sk = MobSkillFactory.getMobSkill(g.getMobSkillID(), g.getLevel());\n-            sk.applyEffect(null, mob, true);\n-        }\n-    }\n-\n-    public void spawningTask() {\n-        for (SpawnPoint sp : originalSpawns) {\n-            if (sp.shouldSpawn()) {\n-                MapleMonster mob = sp.spawnMonster(this.map);\n-                giveMonsterBuffs(mob);\n-            }\n-        }\n-        for (SpawnPoint sp : addedSpawns) {\n-            if (sp.shouldSpawn()) {\n-                MapleMonster mob = sp.spawnMonster(this.map);\n-                giveMonsterBuffs(mob);\n-            }\n-        }\n-    }\n-}  "}, {"sha": "5e8f1b3d24c89609edf6310d3b4f5bb425d66c3a", "filename": "docs/mcpq/blob/MCField.java", "status": "removed", "additions": 0, "deletions": 861, "changes": 861, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/blob/MCField.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/blob/MCField.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/blob/MCField.java?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,861 +0,0 @@\n-/*\n-    This program is free software: you can redistribute it and/or modify\n-    it under the terms of the GNU Affero General Public License as\n-    published by the Free Software Foundation version 3 as published by\n-    the Free Software Foundation. You may not use, modify or distribute\n-    this program under any other version of the GNU Affero General Public\n-    License.\n-\n-    This program is distributed in the hope that it will be useful,\n-    but WITHOUT ANY WARRANTY; without even the implied warranty of\n-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-    GNU Affero General Public License for more details.\n-\n-    You should have received a copy of the GNU Affero General Public License\n-    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n-*/\n-\n-package server.partyquest.mcpq;\n-\n-import handling.channel.ChannelServer;\n-import java.util.*;\n-import java.util.concurrent.ScheduledFuture;\n-import packet.creators.CarnivalPackets;\n-import packet.creators.EffectPackets;\n-import packet.creators.PacketCreator;\n-import packet.transfer.write.OutPacket;\n-import client.player.Player;\n-import server.MapleStatEffect;\n-import server.itens.MapleItemInformationProvider;\n-import server.maps.Field;\n-import server.maps.FieldItem;\n-import server.maps.reactors.MapleReactor;\n-import server.maps.portal.Portal;\n-import tools.TimerTools.EventTimer;\n-\n-/**\n- * Keeps track of a specific field (1-6). Handles all packet broadcasting, etc.\n- * @author s4nta\n- */\n-public class MCField {\n-\n-    /**\n-     * Different teams for MCPQ.\n-     */\n-    public enum MCTeam {\n-        RED(0),\n-        BLUE(1),\n-        NONE(-1);\n-        public final int code;\n-\n-        MCTeam(int code) {\n-            this.code = code;\n-        }\n-\n-        public final int getEnemyTeamCode() {\n-            return Math.abs(this.code - 1);\n-        }\n-    }\n-\n-    /**\n-     * Represents the current state of the field.\n-     */\n-    public enum MCState {\n-        LOBBY,\n-        BATTLE,\n-        END;\n-    }\n-\n-    /**\n-     * Keys to access different map instances relating to this field.\n-     */\n-    public enum MCMaps {\n-        LOBBY(0),\n-        BATTLEFIELD(1),\n-        RESURRECT(2),\n-        VICTORY(3),\n-        DEFEAT(4),\n-        NONE(-1);\n-        private final int code;\n-\n-        MCMaps(int code) {\n-            this.code = code;\n-        }\n-\n-        public static MCMaps getByCode(int code) {\n-            for (MCMaps m : values()) {\n-                if (m.code == code) {\n-                    return m;\n-                }\n-            }\n-            return NONE;\n-        }\n-    }\n-\n-    private int arena;\n-    private ChannelServer cserv;\n-    private MCParty red, blue;\n-    private List<MCParty> requests = new ArrayList<>();\n-    private MCState state;\n-    private Map<MCMaps, Field> mapInstances = new HashMap<>();\n-    private long startTime;\n-    private MCBattlefield battlefield;\n-\n-    // Timer Tasks\n-    private ScheduledFuture<?> acceptRequestsTask, validateRoomTask, startBattleTask,\n-            validateBattleTask, runBattleTask, endBattleTask,\n-            spawnMonstersTask;\n-\n-    public MCField(int arena, ChannelServer cserv, MCParty red, MCParty blue) {\n-        this.arena = arena;\n-        this.cserv = cserv;\n-        this.red = red;\n-        this.blue = blue;\n-        this.state = MCState.LOBBY;\n-    }\n-\n-    public boolean isFull() {\n-        if (MonsterCarnival.DEBUG) {\n-            return false;\n-        }\n-        return this.red != null && this.blue != null;\n-    }\n-\n-    public boolean needsRequest() {\n-        return this.red != null && this.blue == null;\n-    }\n-\n-    /**\n-     * Resets the state of the field, warping out players and resetting tasks.\n-     *   [MENTION=2000183830]para[/MENTION]m warpPlayers Warp out players or not\n-     * @param warpPlayers\n-     */\n-    public void deregister(boolean warpPlayers) {\n-        if (warpPlayers) {\n-            if (this.red != null) {\n-                this.red.deregisterPlayers();\n-            }\n-            if (this.blue != null) {\n-                this.blue.deregisterPlayers();\n-            }\n-        }\n-\n-\n-        this.red = null;\n-        this.blue = null;\n-        this.requests.clear();\n-        this.state = MCState.LOBBY;\n-\n-        if (this.acceptRequestsTask != null) {\n-            this.acceptRequestsTask.cancel(true);\n-            this.acceptRequestsTask = null;\n-        }\n-\n-        if (this.validateRoomTask != null) {\n-            this.validateRoomTask.cancel(true);\n-            this.validateRoomTask = null;\n-        }\n-\n-        if (this.startBattleTask != null) {\n-            this.startBattleTask.cancel(true);\n-            this.startBattleTask = null;\n-        }\n-\n-        if (this.endBattleTask != null) {\n-            this.endBattleTask.cancel(true);\n-            this.endBattleTask = null;\n-        }\n-\n-        if (this.runBattleTask != null) {\n-            this.runBattleTask.cancel(true);\n-            this.runBattleTask = null;\n-        }\n-\n-        if (this.validateBattleTask != null) {\n-            this.validateBattleTask.cancel(true);\n-            this.validateBattleTask = null;\n-        }\n-\n-        if (this.spawnMonstersTask != null) {\n-            this.spawnMonstersTask.cancel(true);\n-            this.spawnMonstersTask = null;\n-        }\n-\n-        for (MCMaps mapType : MCMaps.values()) {\n-            this.mapInstances.remove(mapType);\n-        }\n-    }\n-\n-    public MCParty getRed() {\n-        return red;\n-    }\n-\n-    public MCParty getBlue() {\n-        return blue;\n-    }\n-\n-    public void announce(OutPacket pkt) {\n-        if (this.red != null) {\n-            red.broadcast(pkt);\n-        } else {\n-            MCTracker.log(\"[MCPQ] Trying to announce packet to red when it is null.\");\n-        }\n-\n-        if (this.blue != null) {\n-            blue.broadcast(pkt);\n-        } else {\n-            MCTracker.log(\"[MCPQ] Trying to announce packet to blue when it is null.\");\n-        }\n-    }\n-\n-    /**\n-     * Gets a string representing the status of this room for the Spiegelmann NPC.\n-     *   [MENTION=850422]return[/MENTION] String representing the room's status.\n-     * @return \n-     */\n-    public String getStatus() {\n-        if (isFull()) {\n-            return \"\";\n-        }\n-        if (this.state != MCState.LOBBY) {\n-            return \"\";\n-        }\n-        String waitingParty = \"\";\n-        if (this.red != null) {\n-            String fmt = \" <Party Size: %d, Average Level: %d>\";\n-            waitingParty = String.format(fmt, this.red.getSize(), this.red.getAverageLevel());\n-        }\n-        String fmt = \"#L%d#Carnival Field %d%s#l\\r\\n\";\n-        return String.format(fmt, this.arena, this.arena, waitingParty);\n-    }\n-\n-    /**\n-     * Attempts to register a party in this field. If success, then all players in the party\n-     * will be warped to the waiting lobby. All players in the party will also have relevant\n-     * CPQ information assigned to them.\n-     *\n-     *   [MENTION=2000183830]para[/MENTION]m party The party to register.\n-     */\n-    public void register(MCParty party, MCTeam team) {\n-        if (this.red == null && team == MCTeam.RED) {\n-            party.setTeam(team);\n-            this.red = party;\n-        } else if (this.blue == null && team == MCTeam.BLUE) {\n-            party.setTeam(team);\n-            this.blue = party;\n-        } else {\n-            MCTracker.log(\"Attempting to register party when team is already set.\");\n-            return;\n-        }\n-        party.setField(this);\n-        party.updatePlayers();\n-        party.warp(MCMaps.LOBBY);\n-        onPartyRegistered(party, team);\n-    }\n-\n-    /**\n-     * Sends a challenge to the party in this field.\n-     *\n-     *   [MENTION=2000183830]para[/MENTION]m party The party requesting a challenge.\n-     */\n-    public void request(MCParty party) {\n-        if (this.red == null) {\n-            MCTracker.log(\"Attempting to request when waiting team is null.\");\n-            this.deregister(true);\n-            return;\n-        }\n-        requests.add(party);\n-        this.red.notice(\"[MCPQ] A challenge has arrived! Click on the Assistant in your room to view it.\");\n-    }\n-\n-    /**\n-     * Accepts a challenge from a team.\n-     *   [MENTION=2000183830]para[/MENTION]m index Index of team in requests.\n-     *   [MENTION=850422]return[/MENTION] 1 if the challenge was accepted successfully, 0 otherwise.\n-     */\n-    public int acceptRequest(int index) {\n-        MCParty toAccept = this.requests.get(index);\n-        register(toAccept, MCTeam.BLUE);\n-        return 1;\n-    }\n-\n-    /**\n-     * Checks for pending requests.\n-     *\n-     *   [MENTION=850422]return[/MENTION] True if there are pending requests.\n-     */\n-    public boolean hasPendingRequests() {\n-        return requests.size() > 0;\n-    }\n-\n-    /**\n-     * Gets a pending list of requests, formatted for use in a NPC. Also cleans up the requests,\n-     * getting rid of MCParties that no longer exist.\n-     *\n-     *   [MENTION=850422]return[/MENTION] Formatted list of requests for NPC.\n-     * @return \n-     */\n-    public String getNPCRequestString() {\n-        StringBuilder sb = new StringBuilder(\"Here is the list of pending requests:\\r\\n\\r\\n#b\");\n-        for (MCParty pty : requests) {\n-            if (!pty.exists()) {\n-                continue;\n-            }\n-            sb.append(\"#L\").append(requests.indexOf(pty)).append(\"#\");\n-            String fmt = \"<Party Size: %d, Average Level: %d>\";\n-            fmt = String.format(fmt, pty.getSize(), pty.getAverageLevel());\n-            sb.append(fmt);\n-            sb.append(\"#l\\r\\n\");\n-        }\n-        return sb.toString();\n-    }\n-\n-    /**\n-     * Starts a R3 minute waiting timer in the lobby for teams to accept requests.\n-     * If the timer completes the countdown, teams are deregistered and sent back to the lobby.\n-     */\n-    private void startLobbyTask(MCParty host) {\n-        host.clock(MonsterCarnival.TIME_LOBBYWAIT);\n-        this.acceptRequestsTask = EventTimer.getInstance().schedule(new AcceptingRequestsTask(this, host), 1000 * MonsterCarnival.TIME_LOBBYWAIT); // 3 minutes\n-        this.validateRoomTask = EventTimer.getInstance().register(new ValidateLobbyTask(this), 1000, 1000); // repeat every second\n-    }\n-\n-    /**\n-     * Event handling for when a team registers.\n-     *\n-     *   [MENTION=2000183830]para[/MENTION]m party Party that registers.\n-     *   [MENTION=2000183830]para[/MENTION]m team Team of party.\n-     */\n-    private void onPartyRegistered(MCParty party, MCTeam team) {\n-        if (team == MCTeam.RED) {\n-            startLobbyTask(party);\n-        }\n-        if (team == MCTeam.BLUE) { // both teams are in\n-            this.validateRoomTask.cancel(true);\n-            this.acceptRequestsTask.cancel(true);\n-            blue.clock(10);\n-            red.clock(10);\n-\n-            this.startBattleTask = EventTimer.getInstance().schedule(new GoBattlefieldTask(this), 1000 * 10); // 10 seconds\n-\n-            red.notice(\"[MCPQ] The Carnival PQ will start in 10 seconds!\");\n-            blue.notice(\"[MCPQ] The Carnival PQ will start in 10 seconds!\");\n-        }\n-    }\n-\n-    /**\n-     * Warps both parties in the field to the battlefield map.\n-     */\n-    private void goBattle() {\n-        Field map = getMap(MCMaps.BATTLEFIELD);\n-        if (MonsterCarnival.DEBUG)\n-            System.out.println(\"warping to battle \" + map + \" \" + map.getId());\n-        if (red != null) {\n-            red.warp(map, \"red00\");\n-        } else {\n-            MCTracker.log(\"[MCPQ] Trying to warp red party when it is null.\");\n-        }\n-\n-        if (blue != null) {\n-            blue.warp(map, \"blue00\");\n-        } else {\n-            MCTracker.log(\"[MCPQ] Trying to warp blue party when it is null.\");\n-        }\n-\n-        red.clock(MonsterCarnival.TIME_PREBATTLE);\n-        blue.clock(MonsterCarnival.TIME_PREBATTLE);\n-\n-        red.notice(\"[MCPQ] The battle will start in 10 seconds!\");\n-        blue.notice(\"[MCPQ] The battle will start in 10 seconds!\");\n-\n-        startBattleTask = EventTimer.getInstance().schedule(new BeginCarnivalTask(this), 1000 * MonsterCarnival.TIME_PREBATTLE); // 10 seconds\n-\n-        validateBattleTask = EventTimer.getInstance().register(new ValidateBattlefieldTask(this), 1000, 500); // check every second\n-\n-        battlefield = new MCBattlefield(getMap(MCMaps.BATTLEFIELD));\n-\n-        red.setEnemy(blue);\n-        blue.setEnemy(red);\n-    }\n-\n-    private void beginCarnival() {\n-        red.clock(MonsterCarnival.TIME_BATTLE);\n-        blue.clock(MonsterCarnival.TIME_BATTLE);\n-        startTime = System.currentTimeMillis();\n-\n-        getMap(MCMaps.BATTLEFIELD).broadcastMessage(PacketCreator.ServerNotice(6, \"[MCPQ] You have 10 minutes to kill monsters!\"));\n-\n-        endBattleTask = EventTimer.getInstance().schedule(new EndBattleTask(this), 1000 * MonsterCarnival.TIME_BATTLE);\n-        spawnMonstersTask = EventTimer.getInstance().register(new SpawnTask(this.battlefield), 1000 * 5);\n-\n-    }\n-\n-    public void endBattle(MCParty winner, MCParty loser) {\n-        endBattle(winner, loser, false);\n-    }\n-\n-    public void endBattle(MCParty winner, MCParty loser, boolean abnormal) {\n-        // TODO: Abnormal win codes to prevent exploits\n-\n-        validateBattleTask.cancel(true);\n-        spawnMonstersTask.cancel(true);\n-\n-        MCWZData cpqData = this.getMap(MCMaps.BATTLEFIELD).getMCPQData();\n-        String effectWin = cpqData.effectWin;\n-        String effectLose = cpqData.effectLose;\n-        String soundWin = cpqData.soundWin;\n-        String soundLose = cpqData.soundLose;\n-\n-        winner.broadcast(EffectPackets.ShowEffect(effectWin));\n-        winner.broadcast(EffectPackets.PlaySound(soundWin));\n-        loser.broadcast(EffectPackets.ShowEffect(effectLose));\n-        loser.broadcast(EffectPackets.PlaySound(soundLose));\n-\n-        this.getMap(MCMaps.BATTLEFIELD).killAllMonsters(false);\n-        this.getMap(MCMaps.BATTLEFIELD).clearDrops();\n-        this.deregister(false);\n-\n-        EventTimer.getInstance().schedule(new WarpEndBattleTask(this, winner, loser), 1000 * 3);\n-    }\n-\n-    /**\n-     * Handles CP gain and packet updates when a monster is killed.\n-     *   [MENTION=2000183830]para[/MENTION]m chr Character that kills the monster.\n-     *   [MENTION=2000183830]para[/MENTION]m cp CP gained.\n-     */\n-    public void monsterKilled(Player chr, int cp) {\n-        if (MonsterCarnival.DEBUG) {\n-            // System.out.println(chr.getName() + \" killed for +\" + cp + \" CP\");\n-        }\n-        // TODO: Personal stats for CP gain\n-        this.gainCP(chr, cp);\n-    }\n-\n-    /**\n-     * Handles game logic and packet broadcasting for CP gain.\n-     * Broadcasts personal CP update to chr, and broadcasts party CP update\n-     * to the entire field.\n-     *\n-     *   [MENTION=2000183830]para[/MENTION]m chr Character that gains CP.\n-     *   [MENTION=2000183830]para[/MENTION]m cp CP gained.\n-     */\n-    public void gainCP(Player chr, int cp) {\n-        if (cp < 0) {\n-            MCTracker.log(\"[MCPQ] Adding negative CP.\");\n-            if (MonsterCarnival.DEBUG) {\n-                System.out.println(\"Adding negative CP: stacktrace\");\n-                new Exception().printStackTrace();\n-            }\n-        }\n-        MCParty pty = chr.getMCPQParty();\n-        chr.gainCP(cp);\n-        pty.gainCP(cp);\n-        chr.getClient().announce(CarnivalPackets.UpdatePersonalCP(chr));\n-        this.announce(CarnivalPackets.UpdatePartyCP(pty));\n-    }\n-\n-    /**\n-     * Subtracts from available CP while leaving total CP untouched.\n-     *\n-     *   [MENTION=2000183830]para[/MENTION]m chr Character that loses CP.\n-     *   [MENTION=2000183830]para[/MENTION]m cp CP lost (should be positive number).\n-     */\n-    public void loseCP(Player chr, int cp) {\n-        if (cp < 0) {\n-            MCTracker.log(\"[MCPQ] Losing negative CP.\");\n-            if (MonsterCarnival.DEBUG) {\n-                System.out.println(\"Adding negative CP: stacktrace\");\n-                new Exception().printStackTrace();\n-            }\n-        }\n-        MCParty pty = chr.getMCPQParty();\n-        chr.loseCP(cp);\n-        pty.loseCP(cp);\n-        chr.getClient().announce(CarnivalPackets.UpdatePersonalCP(chr));\n-        this.announce(CarnivalPackets.UpdatePartyCP(pty));\n-    }\n-\n-    /**\n-     * Handles a player looting an item.\n-     *   [MENTION=2000183830]para[/MENTION]m player Player that picked up the object.\n-     *   [MENTION=2000183830]para[/MENTION]m mapitem Object picked up.\n-     *\n-     *   [MENTION=850422]return[/MENTION] True if pickup was successful, false otherwise.\n-     */\n-    public boolean onItemPickup(Player player, FieldItem mapitem) {\n-        if (mapitem == null) {\n-            MCTracker.log(\"[MCPQ] Attempting to loot null object.\");\n-            return false;\n-        }\n-        int itemid = mapitem.getItem().getItemId();\n-        if (!MonsterCarnival.isCPQConsumeItem(itemid)) {\n-            return false;\n-        }\n-        MCParty pty = player.getMCPQParty();\n-        MapleItemInformationProvider ii = MapleItemInformationProvider.getInstance();\n-        MapleStatEffect itemEffect = ii.getItemEffect(itemid);\n-        if (!itemEffect.isConsumeOnPickup()) {\n-            return false;\n-        }\n-\n-        if (itemEffect.isParty()) {\n-            for (Player chr : pty.getMembers()) {\n-                if (chr.getStat().getCurrentHp() > 0) {\n-                    itemEffect.applyTo(chr);\n-                }\n-            }\n-        } else { // Single Target Item\n-            itemEffect.applyTo(player);\n-        } \n-        // Status items\n-        if (itemEffect.getNuffSkill() != -1) {\n-            MCSkill debuff = MCSkillFactory.getMCSkill(itemEffect.getNuffSkill());\n-            if (debuff == null) {\n-                MCTracker.log(\"[MCPQ] debuff skill is null \" + itemEffect.getNuffSkill());\n-                return false;\n-            }\n-\n-            pty.getEnemy().applyMCSkill(debuff);\n-        }\n-\n-        if (itemEffect.getCP() > 0) {\n-            this.gainCP(player, itemEffect.getCP());\n-        }\n-\n-        return true;\n-    }\n-\n-    public void onPlayerRespawn(Player player) {\n-        int cpLoss = Math.min(player.getAvailableCP(), MonsterCarnival.CP_LOSS_ON_DEATH);\n-        this.announce(CarnivalPackets.PlayerDiedMessage(player, cpLoss));\n-        this.loseCP(player, cpLoss);\n-        player.getStat().addMPHP(30000, 30000);\n-        player.changeMap(this.getMap(MCMaps.RESURRECT), this.getMap(MCMaps.RESURRECT).getPortal(0));\n-        player.getClient().getSession().write(PacketCreator.GetClock(getTimeRemaining()));\n-        player.getClient().getSession().write(CarnivalPackets.StartMonsterCarnival(player));\n-    }\n-\n-    public void onPlayerDisconnected(Player player) {\n-        MCParty pty = player.getMCPQParty();\n-        if (pty != null) {\n-            pty.removePlayer(player);\n-        } else {\n-            MCTracker.log(\"[MCPQ] Attempting to run player disconnect event when party is null for character \" + player.getName());\n-        }\n-    }\n-\n-    public void onAddSpawn(Player chr, int num) {\n-        if (this.battlefield != null) {\n-            battlefield.addSpawn(chr, num);\n-        } else {\n-            MCTracker.log(\"[MCPQ] Summoning guardian with null battlefield.\");\n-        }\n-    }\n-\n-    public void onUseSkill(Player chr, int num) {\n-        if (this.battlefield != null) {\n-            battlefield.useSkill(chr, num);\n-        } else {\n-            MCTracker.log(\"[MCPQ] Summoning guardian with null battlefield.\");\n-        }\n-    }\n-\n-    public void onGuardianSummon(Player chr, int num) {\n-        if (this.battlefield != null) {\n-            battlefield.spawnGuardian(chr, num);\n-        } else {\n-            MCTracker.log(\"[MCPQ] Summoning guardian with null battlefield.\");\n-        }\n-    }\n-\n-    public void onGuardianHit(Player chr, MapleReactor reactor) {\n-        if (this.battlefield != null) {\n-            battlefield.onGuardianHit(chr, reactor);\n-        } else {\n-            MCTracker.log(\"[MCPQ] Hitting reactor with null battlefield.\");\n-        }\n-    }\n-\n-    public void onRevive(Player player) {\n-        MCTeam team = player.getMCPQTeam();\n-        Portal portal;\n-        if (team == MCTeam.RED) {\n-            portal = getMap(MCMaps.BATTLEFIELD).getPortal(\"red_revive\");\n-        } else {\n-            portal = getMap(MCMaps.BATTLEFIELD).getPortal(\"blue_revive\");\n-        }\n-\n-        player.changeMap(getMap(MCMaps.BATTLEFIELD), portal);\n-        player.getClient().getSession().write(PacketCreator.GetClock(getTimeRemaining()));\n-        player.getClient().getSession().write(CarnivalPackets.StartMonsterCarnival(player));\n-    }\n-\n-    public int getTimeRemaining() {\n-        // TODO: add support for setting an explicit endTime instead of using the hack with MonsterCarnival variables\n-        return (int) ((startTime + 1000 * MonsterCarnival.TIME_BATTLE) - System.currentTimeMillis()) / 1000;\n-    }\n-\n-\n-    // Map Instances\n-\n-    /**\n-     * Returns the map instance for a requested map. Creates a new map instance if unavailable.\n-     *   [MENTION=2000183830]para[/MENTION]m type Map instance to return.\n-     *   [MENTION=850422]return[/MENTION] The instanced map.\n-     */\n-    public Field getMap(MCMaps type) {\n-        if (this.mapInstances.containsKey(type)) {\n-            return this.mapInstances.get(type);\n-        }\n-        return createInstanceMap(type);\n-    }\n-\n-    /**\n-     * Attempts to create an instanced map, based on the type passed in. Also creates a mapping in\n-     * this.mapInstances.\n-     *\n-     *   [MENTION=2000183830]para[/MENTION]m type Type of map to generate.\n-     *   [MENTION=850422]return[/MENTION] MapleMap for the instanced map if type is supported, otherwise null.\n-     */\n-    private Field createInstanceMap(MCMaps type) {\n-        int mapid = -1;\n-        switch (type) {\n-            case LOBBY:\n-                mapid = MonsterCarnival.getLobbyMap(this.arena);\n-                break;\n-            case BATTLEFIELD:\n-                mapid = MonsterCarnival.getBattleFieldMap(this.arena);\n-                break;\n-            case RESURRECT:\n-                mapid = MonsterCarnival.getResurrectionMap(this.arena);\n-                break;\n-            case VICTORY:\n-                mapid = MonsterCarnival.getVictoriousMap(this.arena);\n-                break;\n-            case DEFEAT:\n-                mapid = MonsterCarnival.getDefeatedMap(this.arena);\n-                break;\n-        }\n-        if (mapid == -1) return null;\n-        Field mapInstance = this.cserv.getMapFactory().instanceMap(mapid, true, true);\n-        this.mapInstances.put(type, mapInstance);\n-        return mapInstance;\n-    }\n-\n-    // Timer Tasks\n-\n-    public class ValidateLobbyTask implements Runnable {\n-\n-        private final MCField field;\n-\n-        /**\n-         * Timer task to ensure all players are on the right field.\n-         * If anything is wrong with the parties, the field is deregistered.\n-         *   [MENTION=2000183830]para[/MENTION]m field Field to run the validation task on.\n-         * @param field\n-         */\n-        public ValidateLobbyTask(MCField field) {\n-            this.field = field;\n-        }\n-\n-        @Override\n-        public void run() {\n-            if (this.field.red == null) {\n-                this.field.deregister(true);\n-                return;\n-            }\n-            for (Player c : field.red.getMembers()) {\n-                if (c.getMap() != field.getMap(MCMaps.LOBBY)) {\n-                    this.field.deregister(true);\n-                    return;\n-                }\n-            }\n-            if (this.field.blue != null) {\n-                for (Player c : field.blue.getMembers()) {\n-                    if (c.getMap() != field.getMap(MCMaps.LOBBY)) {\n-                        this.field.deregister(true);\n-                        return;\n-                    }\n-                }\n-            }\n-        }\n-    }\n-\n-    public class ValidateBattlefieldTask implements Runnable {\n-\n-        private final MCField field;\n-\n-        /**\n-         * Timer task to ensure all players are on the right field.\n-         * If anything is wrong with the parties, the field is deregistered.\n-         *   [MENTION=2000183830]para[/MENTION]m field Field to run the validation task on.\n-         */\n-\n-        public ValidateBattlefieldTask(MCField field) {\n-            this.field = field;\n-        }\n-\n-        @Override\n-        public void run() {\n-            if (this.field.red == null || field.red.getSize() == 0) {\n-                MCTracker.log(\"[MCPQ] Red team null when validating battlefield\");\n-                field.endBattle(blue, red);\n-                return;\n-            }\n-            Collection<Player> members = Collections.unmodifiableCollection(field.red.getMembers());\n-            for (Player c : members) {\n-                if (c.getMap() != field.getMap(MCMaps.BATTLEFIELD) && c.getMap() != field.getMap(MCMaps.RESURRECT)) {\n-                    this.field.announce(CarnivalPackets.CarnivalLeave(MCTeam.RED.code, c.getName()));\n-                    red.removePlayer(c); // TODO: fix concurrent modification\n-                }\n-                if (c.getMap() == field.getMap(MCMaps.BATTLEFIELD) && !c.isAlive()) {\n-                    this.field.onPlayerRespawn(c);\n-                }\n-            }\n-            if (this.field.blue == null || field.blue.getSize() == 0) {\n-                MCTracker.log(\"[MCPQ] Blue team null when validating battlefield\");\n-                field.endBattle(red, blue);\n-                return;\n-            }\n-            members = Collections.unmodifiableCollection(field.blue.getMembers());\n-            for (Player c : members) {\n-                if (c.getMap() != field.getMap(MCMaps.BATTLEFIELD) && c.getMap() != field.getMap(MCMaps.RESURRECT)) {\n-                    this.field.announce(CarnivalPackets.CarnivalLeave(MCTeam.BLUE.code, c.getName()));\n-                    blue.removePlayer(c);\n-                }\n-                if (c.getMap() == field.getMap(MCMaps.BATTLEFIELD) && !c.isAlive()) {\n-                    this.field.onPlayerRespawn(c);\n-                }\n-            }\n-        }\n-    }\n-\n-    public class AcceptingRequestsTask implements Runnable {\n-\n-        private final MCField field;\n-        private final MCParty host;\n-\n-        /**\n-         * Runs a task that counts down for 3 minutes, then warps the hosting party out.\n-         *\n-         *   [MENTION=2000183830]para[/MENTION]m field Field to accept requests on.\n-         *   [MENTION=2000183830]para[/MENTION]m host Hosting party that will be warped out if they do not accept a request\n-         *             within 3 minutes.\n-         */\n-        public AcceptingRequestsTask(MCField field, MCParty host) {\n-            this.field = field;\n-            this.host = host;\n-        }\n-\n-        @Override\n-        public void run() {\n-            Collection<Player> chrs = this.host.getMembers();\n-            for (Player c : chrs) {\n-                c.changeMap(MonsterCarnival.MAP_LOBBY);\n-            }\n-            this.field.deregister(true);\n-        }\n-    }\n-\n-    public class GoBattlefieldTask implements Runnable {\n-\n-        private final MCField field;\n-\n-        public GoBattlefieldTask(MCField field) {\n-            this.field = field;\n-        }\n-\n-        @Override\n-        public void run() {\n-            field.goBattle();\n-\n-            field.red.startBattle();\n-            field.blue.startBattle();\n-\n-            field.state = MCState.BATTLE;\n-        }\n-    }\n-\n-    public class BeginCarnivalTask implements Runnable {\n-\n-        private final MCField field;\n-\n-        public BeginCarnivalTask(MCField field) {\n-            this.field = field;\n-        }\n-\n-        @Override\n-        public void run() {\n-            Field map = field.getMap(MCMaps.BATTLEFIELD);\n-            map.beginSpawning();\n-            field.beginCarnival();\n-        }\n-    }\n-\n-    /* I have no idea why this doesn't work normally :/ */\n-    public class SpawnTask implements Runnable {\n-\n-        private final MCBattlefield battleMap;\n-\n-        public SpawnTask(MCBattlefield field) {\n-            this.battleMap = field;\n-        }\n-\n-        @Override\n-        public void run() {\n-            // TODO: adjust spawn rates based on cp\n-            battleMap.spawningTask();\n-        }\n-    }\n-\n-    public class EndBattleTask implements Runnable {\n-        private final MCField field;\n-\n-        public EndBattleTask(MCField field) {\n-            this.field = field;\n-        }\n-\n-        @Override\n-        public void run() {\n-            MCParty winner, loser;\n-            if (field.red.getTotalCP() > field.blue.getTotalCP()) {\n-                winner = field.red;\n-                loser = field.blue;\n-            } else if (field.red.getTotalCP() < field.blue.getTotalCP()) {\n-                winner = field.blue;\n-                loser = field.red;\n-            } else {\n-                // if tied: random chance\n-                // TODO: proper extension of time\n-                if (Math.random() < .5) {\n-                    winner = field.red;\n-                    loser = field.blue;\n-                } else {\n-                    winner = field.blue;\n-                    loser = field.red;\n-                }\n-            }\n-\n-            field.state = MCState.END;\n-            field.endBattle(winner, loser);\n-        }\n-    }\n-\n-    public class WarpEndBattleTask implements Runnable {\n-\n-        private final MCField field;\n-        private final MCParty winner, loser;\n-\n-        public WarpEndBattleTask(MCField field, MCParty winner, MCParty loser) {\n-            this.field = field;\n-            this.winner = winner;\n-            this.loser = loser;\n-        }\n-\n-        @Override\n-        public void run() {\n-            winner.warp(field.getMap(MCMaps.VICTORY));\n-            loser.warp(field.getMap(MCMaps.DEFEAT));\n-        }\n-    } \n-}\n\\ No newline at end of file"}, {"sha": "1de7051526760d51181c828fd87ebd09745ee069", "filename": "docs/mcpq/blob/MCGuardian.java", "status": "removed", "additions": 0, "deletions": 68, "changes": 68, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/blob/MCGuardian.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/blob/MCGuardian.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/blob/MCGuardian.java?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,68 +0,0 @@\n-/*\n-    This program is free software: you can redistribute it and/or modify\n-    it under the terms of the GNU Affero General Public License as\n-    published by the Free Software Foundation version 3 as published by\n-    the Free Software Foundation. You may not use, modify or distribute\n-    this program under any other version of the GNU Affero General Public\n-    License.\n-\n-    This program is distributed in the hope that it will be useful,\n-    but WITHOUT ANY WARRANTY; without even the implied warranty of\n-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-    GNU Affero General Public License for more details.\n-\n-    You should have received a copy of the GNU Affero General Public License\n-    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n-*/\n-\n-package server.partyquest.mcpq;\n-\n-/**\n- * Object representing MCGuardian in Skill.wz/MCGuardian.img.\n- *\n- * @author s4nta\n- */\n-\n-public class MCGuardian {\n-    private final int type, spendCP, mobSkillID, level;\n-    private String name, desc;\n-\n-    public MCGuardian(int type, int spendCP, int mobSkillID, int level) {\n-        this.type = type;\n-        this.mobSkillID = mobSkillID;\n-        this.level = level;\n-        this.spendCP = spendCP;\n-    }\n-\n-    public int getType() {\n-        return type;\n-    }\n-\n-    public int getSpendCP() {\n-        return spendCP;\n-    }\n-\n-    public int getMobSkillID() {\n-        return mobSkillID;\n-    }\n-\n-    public int getLevel() {\n-        return level;\n-    }\n-\n-    public String getName() {\n-        return name;\n-    }\n-\n-    public void setName(String name) {\n-        this.name = name;\n-    }\n-\n-    public String getDesc() {\n-        return desc;\n-    }\n-\n-    public void setDesc(String desc) {\n-        this.desc = desc;\n-    }\n-}  "}, {"sha": "2be28771013d27f3a85713d38e5b9154add03b41", "filename": "docs/mcpq/blob/MCParty.java", "status": "removed", "additions": 0, "deletions": 326, "changes": 326, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/blob/MCParty.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/blob/MCParty.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/blob/MCParty.java?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,326 +0,0 @@\n-/*\n-    This program is free software: you can redistribute it and/or modify\n-    it under the terms of the GNU Affero General Public License as\n-    published by the Free Software Foundation version 3 as published by\n-    the Free Software Foundation. You may not use, modify or distribute\n-    this program under any other version of the GNU Affero General Public\n-    License.\n-\n-    This program is distributed in the hope that it will be useful,\n-    but WITHOUT ANY WARRANTY; without even the implied warranty of\n-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-    GNU Affero General Public License for more details.\n-\n-    You should have received a copy of the GNU Affero General Public License\n-    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n-*/\n-\n-package server.partyquest.mcpq;\n-\n-import community.MapleParty;\n-import community.MaplePartyCharacter;\n-import handling.channel.ChannelServer;\n-import java.util.ArrayList;\n-import java.util.Collection;\n-import java.util.List;\n-import java.util.Random;\n-import packet.creators.CarnivalPackets;\n-import packet.creators.PacketCreator;\n-import packet.transfer.write.OutPacket;\n-import client.player.Player;\n-import client.player.buffs.Disease;\n-import server.life.MobSkill;\n-import server.life.MobSkillFactory;\n-import server.maps.Field;\n-import server.partyquest.mcpq.MCField.MCTeam;\n-\n-\n-\n-/**\n- * \n- * @author Sammy Guergachi <sguergachi at gmail.com>\n- */\n-/**\n- * Provides an interface for Monster Carnival-specific party methods and variables.\n- *\n- * @author s4nta\n- */\n-public class MCParty {\n-\n-    private MapleParty party;\n-    private List<Player> characters = new ArrayList<>();\n-    private int availCP = 0;\n-    private int totalCP = 0;\n-    private MCField.MCTeam team = MCField.MCTeam.NONE;\n-    private MCField field;\n-    private MCParty enemy;\n-\n-    public MCParty(MapleParty party) {\n-        this.party = party;\n-        for (MaplePartyCharacter chr : party.getMembers()) {\n-            if (!chr.isOnline()) continue;\n-            Player c = ChannelServer.getInstance(chr.getChannel()).getPlayerStorage().getCharacterById(chr.getId());\n-\n-            characters.add(c);\n-        }\n-    }\n-\n-    public int getSize() {\n-        return this.characters.size();\n-    }\n-\n-    /**\n-     * Checks if the underlying MapleParty still exists in the same way it did when it was created.\n-     * That is, if there were no players who left the party.\n-     *\n-     * [MENTION=850422]return[/MENTION] True if the underlying MapleParty still exists in its original format.\n-     */\n-    public boolean exists() {\n-        Collection<Player> members = getMembers();\n-        for (Player chr : members) {\n-            if (chr.getParty() == null || chr.getParty() != this.party) {\n-                return false;\n-            }\n-        }\n-        return true;\n-    }\n-\n-    public int getAverageLevel() {\n-        int sum = 0, num = 0;\n-        for (Player chr : getMembers()) {\n-            sum += chr.getLevel();\n-            num += 1;\n-        }\n-        return sum / num;\n-    }\n-\n-    public boolean checkLevels() {\n-        if (MonsterCarnival.DEBUG) {\n-            return true;\n-        }\n-        for (Player chr : getMembers()) {\n-            int lv = chr.getLevel();\n-            if (lv < MonsterCarnival.MIN_LEVEL || lv > MonsterCarnival.MAX_LEVEL) {\n-                return false;\n-            }\n-        }\n-        return true;\n-    }\n-\n-    public boolean checkChannels() {\n-        if (MonsterCarnival.DEBUG) {\n-            return true;\n-        }\n-        for (Player chr : getMembers()) {\n-            if (chr.getClient().getChannel() != party.getLeader().getChannel()) return false;\n-        }\n-        return true;\n-    }\n-\n-    public boolean checkMaps() {\n-        if (MonsterCarnival.DEBUG) {\n-            return true;\n-        }\n-        for (Player chr : getMembers()) {\n-            if (chr.getMapId() != MonsterCarnival.MAP_LOBBY) return false;\n-        }\n-        return true;\n-    }\n-\n-    public void warp(int map) {\n-        for (Player chr : getMembers()) {\n-            chr.changeMap(map);\n-        }\n-    }\n-\n-    public void warp(Field map) {\n-        for (Player chr : getMembers()) {\n-            chr.changeMap(map, map.getPortal(0));\n-        }\n-    }\n-\n-    public void warp(Field map, String portal) {\n-        for (Player chr : getMembers()) {\n-            chr.changeMap(map, map.getPortal(portal));\n-        }\n-    }\n-\n-    public void warp(MCField.MCMaps type) {\n-        Field m = this.field.getMap(type);\n-        for (Player chr : getMembers()) {\n-            chr.changeMap(m, m.getPortal(0));\n-        }\n-    }\n-\n-    public void clock(int secs) {\n-        for (Player chr : getMembers()) {\n-            chr.getClient().announce(PacketCreator.GetClock(secs));\n-        }\n-    }\n-\n-    public void notice(String msg) {\n-        broadcast(PacketCreator.ServerNotice(6, msg));\n-    }\n-\n-    public void broadcast(OutPacket pkt) {\n-        for (Player chr : getMembers()) {\n-            chr.getClient().announce(pkt);\n-        }\n-    }\n-\n-    /**\n-     * Sets MCPQTeam, MCPQParty, and MCPQField for a given character.\n-     * [MENTION=2000183830]para[/MENTION]m chr Character to update.\n-     */\n-    public void updatePlayer(Player chr) {\n-        chr.setMCPQTeam(this.team);\n-        chr.setMCPQParty(this);\n-        chr.setMCPQField(this.field);\n-    }\n-\n-    /**\n-     * Sets MCPQTeam, MCPQParty, and MCPQ field for all characters in the party.\n-     * Unlike deregisterPlayers, this method does NOT warp players to the lobby map.\n-     */\n-    public void updatePlayers() {\n-        for (Player chr : getMembers()) {\n-            this.updatePlayer(chr);\n-        }\n-    }\n-\n-    /**\n-     * Resets MCPQ variables for a given character.\n-     * [MENTION=2000183830]para[/MENTION]m chr Character to reset.\n-     */\n-    public static void deregisterPlayer(Player chr) {\n-        chr.setMCPQTeam(MCTeam.NONE);\n-        chr.setMCPQParty(null);\n-        chr.setMCPQField(null);\n-\n-        chr.setAvailableCP(0);\n-        chr.setTotalCP(0);\n-    }\n-\n-    /**\n-     * Resets MCPQ variables for all characters in the party.\n-     * Unlike updatePlayers, this method DOES warp players to the lobby map.\n-     */\n-    public void deregisterPlayers() {\n-        for (Player chr : getMembers()) {\n-            MCParty.deregisterPlayer(chr);\n-            chr.changeMap(MonsterCarnival.MAP_EXIT);\n-        }\n-    }\n-\n-    public void removePlayer(Player chr) {\n-        characters.remove(chr);\n-        deregisterPlayer(chr);\n-    }\n-\n-    public void startBattle() {\n-        for (Player chr : characters) {\n-            chr.getClient().getSession().write(CarnivalPackets.StartMonsterCarnival(chr));\n-        }\n-    }\n-\n-    /**\n-     * Uses some amount of available CP.\n-     * [MENTION=2000183830]para[/MENTION]m use A positive integer to be subtracted from available CP.\n-     */\n-    public void loseCP(int use) {\n-        // TODO: locks?\n-        if (use < 0) {\n-            System.err.println(\"Attempting to use negative CP.\");\n-        }\n-        this.availCP -= use;\n-    }\n-\n-    public void gainCP(int gain) {\n-        // TODO: locks?\n-        this.availCP += gain;\n-        this.totalCP += gain;\n-    }\n-\n-    public MCParty getEnemy() {\n-        return enemy;\n-    }\n-\n-    public void setEnemy(MCParty enemy) {\n-        this.enemy = enemy;\n-    }\n-\n-    /**\n-     * Applies a MCSkill to the entire team. This is used on the team's own players\n-     * because it is called when the enemy team uses a debuff/cube of darkness.\n-     * [MENTION=2000183830]para[/MENTION]m skill Skill to apply.\n-     * [MENTION=850422]return[/MENTION] True if skill was applied, false otherwise.\n-     */\n-    public boolean applyMCSkill(MCSkill skill) {\n-        MobSkill s = MobSkillFactory.getMobSkill(skill.getMobSkillID(), skill.getLevel());\n-        Disease disease = Disease.getType(skill.getMobSkillID());\n-        if (disease == null) {\n-            disease = Disease.DARKNESS;\n-            s = MobSkillFactory.getMobSkill(121, 6); // HACK: darkness\n-        } else if (disease == Disease.POISON) {\n-            return false;\n-        }\n-\n-        // We only target players on the battlefield map.\n-        if (skill.getTarget() == 2) {\n-            for (Player chr : getMembers()) {\n-                if (MonsterCarnival.isBattlefieldMap(chr.getMapId())) {\n-                    chr.giveDebuff(disease, s);\n-                }\n-            }\n-            return true;\n-        } else {\n-            if (getRandomMember() != null) {\n-                getRandomMember().giveDebuff(disease, 1, 30000L, disease.getDisease(), 1);\n-                return true;\n-            } else {\n-                return false;\n-            }\n-        }\n-    }\n-\n-    public void setField(MCField field) {\n-        this.field = field;\n-    }\n-\n-    public void setTeam(MCTeam newTeam) {\n-        this.team = newTeam;\n-    }\n-\n-    public MCTeam getTeam() {\n-        return team;\n-    }\n-\n-    /**\n-     * Returns a collection of online members in the party.\n-     * [MENTION=850422]return[/MENTION] Online MCParty members.\n-     */\n-    public Collection<Player> getMembers() {\n-        return this.characters;\n-    }\n-\n-    public Player getRandomMember() {\n-        List<Player> chrsOnMap = new ArrayList<>();\n-        for (Player chr : this.characters) {\n-            if (MonsterCarnival.isBattlefieldMap(chr.getMapId())) {\n-                chrsOnMap.add(chr);\n-            }\n-        }\n-        if (chrsOnMap.isEmpty()) {\n-            return null;\n-        }\n-        return chrsOnMap.get(new Random().nextInt(chrsOnMap.size()));\n-    }\n-\n-    public int getAvailableCP() {\n-        return availCP;\n-    }\n-\n-    public int getTotalCP() {\n-        return totalCP;\n-    }\n-}  \n\\ No newline at end of file"}, {"sha": "88de8b1f1d98a53f7f5455390a9eb86ee6a757b8", "filename": "docs/mcpq/blob/MCSkill.java", "status": "removed", "additions": 0, "deletions": 72, "changes": 72, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/blob/MCSkill.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/blob/MCSkill.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/blob/MCSkill.java?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,72 +0,0 @@\n-package server.partyquest.mcpq;\n-\n-/*\n-    This program is free software: you can redistribute it and/or modify\n-    it under the terms of the GNU Affero General Public License as\n-    published by the Free Software Foundation version 3 as published by\n-    the Free Software Foundation. You may not use, modify or distribute\n-    this program under any other version of the GNU Affero General Public\n-    License.\n-\n-    This program is distributed in the hope that it will be useful,\n-    but WITHOUT ANY WARRANTY; without even the implied warranty of\n-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-    GNU Affero General Public License for more details.\n-\n-    You should have received a copy of the GNU Affero General Public License\n-    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n-*/\n-\n-/**\n- * Object representing MCSkill in Skill.wz/MCSkill.img.\n- *\n- * @author s4nta\n- */\n-public class MCSkill {\n-    private final int id, target, mobSkillID, level, spendCP;\n-    private String name, desc;\n-\n-    public MCSkill(int id, int target, int mobSkillID, int level, int spendCP) {\n-        this.id = id;\n-        this.target = target;\n-        this.mobSkillID = mobSkillID;\n-        this.level = level;\n-        this.spendCP = spendCP;\n-    }\n-\n-    public int getId() {\n-        return id;\n-    }\n-\n-    public int getTarget() {\n-        return target;\n-    }\n-\n-    public int getMobSkillID() {\n-        return mobSkillID;\n-    }\n-\n-    public int getLevel() {\n-        return level;\n-    }\n-\n-    public int getSpendCP() {\n-        return spendCP;\n-    }\n-\n-    public String getName() {\n-        return name;\n-    }\n-\n-    public void setName(String name) {\n-        this.name = name;\n-    }\n-\n-    public String getDesc() {\n-        return desc;\n-    }\n-\n-    public void setDesc(String desc) {\n-        this.desc = desc;\n-    }\n-}\n\\ No newline at end of file"}, {"sha": "02c042898333d63248b53b78293391e6de3d7eda", "filename": "docs/mcpq/blob/MCSkillFactory.java", "status": "removed", "additions": 0, "deletions": 118, "changes": 118, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/blob/MCSkillFactory.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/blob/MCSkillFactory.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/blob/MCSkillFactory.java?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,118 +0,0 @@\n-/*\n-    This program is free software: you can redistribute it and/or modify\n-    it under the terms of the GNU Affero General Public License as\n-    published by the Free Software Foundation version 3 as published by\n-    the Free Software Foundation. You may not use, modify or distribute\n-    this program under any other version of the GNU Affero General Public\n-    License.\n-\n-    This program is distributed in the hope that it will be useful,\n-    but WITHOUT ANY WARRANTY; without even the implied warranty of\n-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-    GNU Affero General Public License for more details.\n-\n-    You should have received a copy of the GNU Affero General Public License\n-    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n-*/\n-\n-package server.partyquest.mcpq;\n-\n-import java.io.File;\n-import java.util.HashMap;\n-import java.util.Map;\n-import java.util.concurrent.locks.ReentrantReadWriteLock;\n-import provider.MapleData;\n-import provider.MapleDataProvider;\n-import provider.MapleDataProviderFactory;\n-import provider.MapleDataTool;\n-\n-/**\n- * \n- * @author Sammy Guergachi <sguergachi at gmail.com>\n- */\n-public class MCSkillFactory {\n-\n-    private static Map<Integer, MCSkill> mcSkills = new HashMap<>();\n-    private static Map<Integer, MCGuardian> mcGuardians = new HashMap<>();\n-    private static MapleDataProvider dataSource = MapleDataProviderFactory.getDataProvider(new File(System.getProperty(\"wzpath\") + \"/Skill.wz\"));\n-    private static MapleData mcSkillRoot = dataSource.getData(\"MCSkill.img\");\n-    private static MapleData mcGuardianRoot = dataSource.getData(\"MCGuardian.img\");\n-    private static ReentrantReadWriteLock skillLock = new ReentrantReadWriteLock();\n-    private static ReentrantReadWriteLock guardianLock = new ReentrantReadWriteLock();\n-\n-    public static MCSkill getMCSkill(int skillId) {\n-        skillLock.readLock().lock();\n-        try {\n-            MCSkill ret = mcSkills.get(skillId);\n-            if (ret != null) {\n-                return ret;\n-            }\n-        } finally {\n-            skillLock.readLock().unlock();\n-        }\n-        skillLock.writeLock().lock();\n-        try {\n-            MCSkill ret;\n-            ret = mcSkills.get(skillId);\n-            if (ret == null) {\n-                MapleData skillData = mcSkillRoot.getChildByPath(String.valueOf(skillId));\n-                if (skillData != null) {\n-                    int target = MapleDataTool.getInt(\"target\", skillData, 0);\n-                    int spendCP = MapleDataTool.getInt(\"spendCP\", skillData, 0);\n-                    int mobSkillID = MapleDataTool.getInt(\"mobSkillID\", skillData, 0);\n-                    int level = MapleDataTool.getInt(\"level\", skillData, 0);\n-                    ret = new MCSkill(skillId, target, mobSkillID, level, spendCP);\n-\n-                    if (MonsterCarnival.DEBUG) {\n-                        String name = MapleDataTool.getString(\"name\", skillData, \"\");\n-                        String desc = MapleDataTool.getString(\"desc\", skillData, \"\");\n-                        ret.setName(name);\n-                        ret.setDesc(desc);\n-                    }\n-                    mcSkills.put(skillId, ret);\n-                }\n-            }\n-            return ret;\n-        } finally {\n-            skillLock.writeLock().unlock();\n-        }\n-    }\n-\n-    public static MCGuardian getMCGuardian(int id) {\n-        guardianLock.readLock().lock();\n-        try {\n-            MCGuardian ret = mcGuardians.get(id);\n-            if (ret != null) {\n-                return ret;\n-            }\n-        } finally {\n-            guardianLock.readLock().unlock();\n-        }\n-        guardianLock.writeLock().lock();\n-        try {\n-            MCGuardian ret;\n-            ret = mcGuardians.get(id);\n-            if (ret == null) {\n-                MapleData skillData = mcGuardianRoot.getChildByPath(String.valueOf(id));\n-                if (skillData != null) {\n-                    int type = MapleDataTool.getInt(\"type\", skillData, 0);\n-                    int spendCP = MapleDataTool.getInt(\"spendCP\", skillData, 0);\n-                    int mobSkillID = MapleDataTool.getInt(\"mobSkillID\", skillData, 0);\n-                    int level = MapleDataTool.getInt(\"level\", skillData, 0);\n-                    ret = new MCGuardian(type, spendCP, mobSkillID, level);\n-\n-                    if (MonsterCarnival.DEBUG) {\n-                        String name = MapleDataTool.getString(\"name\", skillData, \"\");\n-                        String desc = MapleDataTool.getString(\"desc\", skillData, \"\");\n-                        ret.setName(name);\n-                        ret.setDesc(desc);\n-                    }\n-                    mcGuardians.put(type, ret);\n-                }\n-            }\n-            return ret;\n-        } finally {\n-            guardianLock.writeLock().unlock();\n-        }\n-    }\n-}  "}, {"sha": "9716055211495ea30c1faa399bd4323034c702d5", "filename": "docs/mcpq/blob/MCTracker.java", "status": "removed", "additions": 0, "deletions": 41, "changes": 41, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/blob/MCTracker.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/blob/MCTracker.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/blob/MCTracker.java?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,41 +0,0 @@\n-/*\n-    This program is free software: you can redistribute it and/or modify\n-    it under the terms of the GNU Affero General Public License as\n-    published by the Free Software Foundation version 3 as published by\n-    the Free Software Foundation. You may not use, modify or distribute\n-    this program under any other version of the GNU Affero General Public\n-    License.\n-\n-    This program is distributed in the hope that it will be useful,\n-    but WITHOUT ANY WARRANTY; without even the implied warranty of\n-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-    GNU Affero General Public License for more details.\n-\n-    You should have received a copy of the GNU Affero General Public License\n-    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n-*/\n-\n-package server.partyquest.mcpq;\n-\n-import org.slf4j.LoggerFactory;\n-\n-/**\n- * Logs various errors and also keeps data on Carnival PQ runs.\n- * @author s4nta\n- */\n-public class MCTracker {\n-\n-    static org.slf4j.Logger log = LoggerFactory.getLogger(MCTracker.class);\n-\n-    // TODO:\n-    // Add field-specific info\n-    // Add methods for calls from different files\n-    // Maybe write own version of FilePrinter?\n-\n-    static final String PATH = \"Reports/MCPQ.txt\";\n-\n-    public static void log(String msg) {\n-        System.out.println(msg);\n-        log.debug(msg);\n-    }\n-}  "}, {"sha": "ff13f57def8b3f371dcc1b93983d89e6c914e71a", "filename": "docs/mcpq/blob/MCWZData.java", "status": "removed", "additions": 0, "deletions": 164, "changes": 164, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/blob/MCWZData.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/blob/MCWZData.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/blob/MCWZData.java?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,164 +0,0 @@\n-/*\n-    This program is free software: you can redistribute it and/or modify\n-    it under the terms of the GNU Affero General Public License as\n-    published by the Free Software Foundation version 3 as published by\n-    the Free Software Foundation. You may not use, modify or distribute\n-    this program under any other version of the GNU Affero General Public\n-    License.\n-\n-    This program is distributed in the hope that it will be useful,\n-    but WITHOUT ANY WARRANTY; without even the implied warranty of\n-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-    GNU Affero General Public License for more details.\n-\n-    You should have received a copy of the GNU Affero General Public License\n-    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n-*/\n-\n-package server.partyquest.mcpq;\n-\n-import java.util.ArrayList;\n-import java.util.HashMap;\n-import java.util.List;\n-import java.util.Map;\n-import provider.MapleData;\n-import provider.MapleDataTool;\n-\n-/**\n- * Representation of the data tree inside of the Map.wz file.\n- *\n- * @author s4nta\n- */\n-public class MCWZData {\n-\n-    public List<MCMobGenPos> mobGenPosList = new ArrayList<>();\n-    public List<MCGuardianGenPos> guardianGenPosList = new ArrayList<>();\n-    public Map<Integer, MCSummonMob> summons = new HashMap<>();\n-    public Map<Integer, Integer> skills = new HashMap<>();\n-    public Map<Integer, Integer> guardians = new HashMap<>();\n-\n-    public String effectWin, effectLose, soundWin, soundLose;\n-    public int rewardMapWin, rewardMapLose;\n-\n-    public int mobGenMax, guardianGenMax;\n-    public boolean mapDivided;\n-    public int deathCP;\n-    public int reactorRed, reactorBlue;\n-\n-    public MCWZData(MapleData src) {\n-        parse(src);\n-    }\n-\n-    public void parse(MapleData src) {\n-        populateMobGenPos(src.getChildByPath(\"mobGenPos\"));\n-        populateSummonMobs(src.getChildByPath(\"mob\"));\n-        effectWin = MapleDataTool.getString(\"effectWin\", src);\n-        effectLose = MapleDataTool.getString(\"effectLose\", src);\n-        soundWin = MapleDataTool.getString(\"soundWin\", src);\n-        soundLose = MapleDataTool.getString(\"soundLose\", src);\n-\n-        rewardMapWin = MapleDataTool.getInt(\"rewardMapWin\", src);\n-        rewardMapLose = MapleDataTool.getInt(\"rewardMapLose\", src);\n-\n-        populateSkills(src.getChildByPath(\"skill\"));\n-        populateGuardianGenPos(src.getChildByPath(\"guardianGenPos\"));\n-        populateGuardians(src.getChildByPath(\"guardian\"));\n-\n-        mobGenMax = MapleDataTool.getInt(\"mobGenMax\", src, 20); // HACK: 20 default\n-        guardianGenMax = MapleDataTool.getInt(\"guardianGenMax\", src, 20); // HACK: 20 default\n-\n-        mapDivided = MapleDataTool.getInt(\"mapDivided\", src) > 0;\n-\n-        deathCP = MapleDataTool.getInt(\"deathCP\", src);\n-        reactorRed = MapleDataTool.getInt(\"reactorRed\", src);\n-        reactorBlue = MapleDataTool.getInt(\"reactorBlue\", src);\n-    }\n-\n-    private void populateMobGenPos(MapleData src) {\n-        for (MapleData n : src) {\n-            MCMobGenPos nn = new MCMobGenPos(MapleDataTool.getInt(\"x\", n, 0),\n-            MapleDataTool.getInt(\"y\", n, 0),\n-            MapleDataTool.getInt(\"fh\", n, 0),\n-            MapleDataTool.getInt(\"cy\", n, 0),\n-            MapleDataTool.getInt(\"team\", n, -1));\n-            mobGenPosList.add(nn);\n-        }\n-    }\n-\n-    private void populateSummonMobs(MapleData src) {\n-        for (MapleData n : src) {\n-            int id = Integer.parseInt(n.getName());\n-            MCSummonMob mcs = new MCSummonMob(\n-            MapleDataTool.getInt(\"id\", n, 0),\n-            MapleDataTool.getInt(\"spendCP\", n, 0),\n-            MapleDataTool.getInt(\"mobTime\", n, 0)\n-            );\n-\n-            this.summons.put(id, mcs);\n-        }\n-    }\n-\n-    private void populateSkills(MapleData src) {\n-        for (MapleData n : src) {\n-            int key = Integer.parseInt(n.getName());\n-            int val = MapleDataTool.getInt(n);\n-\n-            skills.put(key, val);\n-        }\n-    }\n-\n-    private void populateGuardianGenPos(MapleData src) {\n-        for (MapleData n : src) {\n-            MCGuardianGenPos nn = new MCGuardianGenPos(MapleDataTool.getInt(\"x\", n, 0),\n-            MapleDataTool.getInt(\"y\", n, 0),\n-            MapleDataTool.getInt(\"f\", n, 0),\n-            MapleDataTool.getInt(\"team\", n, -1));\n-            guardianGenPosList.add(nn);\n-        }\n-    }\n-\n-    private void populateGuardians(MapleData src) {\n-        for (MapleData n : src) {\n-            int key = Integer.parseInt(n.getName());\n-            int val = MapleDataTool.getInt(n);\n-\n-            guardians.put(key, val);\n-        }\n-    }\n-\n-    public class MCMobGenPos {\n-\n-        public final int x, y, fh, cy, team;\n-\n-        private MCMobGenPos(int x, int y, int fh, int cy, int team) {\n-            this.x = x;\n-            this.y = y;\n-            this.fh = fh;\n-            this.cy = cy;\n-            this.team = team;\n-        }\n-    }\n-\n-    public class MCGuardianGenPos {\n-\n-        public final int x, y, f, team;\n-\n-        private MCGuardianGenPos(int x, int y, int f, int team) {\n-            this.x = x;\n-            this.y = y;\n-            this.f = f;\n-            this.team = team;\n-        }\n-    }\n-\n-    public class MCSummonMob {\n-\n-        public final int id, spendCP, mobTime;\n-\n-        private MCSummonMob(int id, int spendCP, int mobTime) {\n-            this.id = id;\n-            this.spendCP = spendCP;\n-            this.mobTime = mobTime;\n-        }\n-    }\n-}  \n\\ No newline at end of file"}, {"sha": "cdc90fb6ff7c53055f15f571c2f3a5876545c92f", "filename": "docs/mcpq/blob/MonsterCarnival.java", "status": "removed", "additions": 0, "deletions": 371, "changes": 371, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/blob/MonsterCarnival.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/blob/MonsterCarnival.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/blob/MonsterCarnival.java?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,371 +0,0 @@\n-/*\n-    This program is free software: you can redistribute it and/or modify\n-    it under the terms of the GNU Affero General Public License as\n-    published by the Free Software Foundation version 3 as published by\n-    the Free Software Foundation. You may not use, modify or distribute\n-    this program under any other version of the GNU Affero General Public\n-    License.\n-\n-    This program is distributed in the hope that it will be useful,\n-    but WITHOUT ANY WARRANTY; without even the implied warranty of\n-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-    GNU Affero General Public License for more details.\n-\n-    You should have received a copy of the GNU Affero General Public License\n-    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n-*/\n-\n-package server.partyquest.mcpq;\n-\n-import community.MapleParty;\n-import handling.channel.ChannelServer;\n-import java.util.HashMap;\n-import java.util.Map;\n-import java.util.Random;\n-import org.slf4j.LoggerFactory;\n-import client.player.Player;\n-import client.player.buffs.Disease;\n-\n-\n-/**\n- * \n- * @author Sammy Guergachi <sguergachi at gmail.com>\n- */\n-/**\n- * Processes game logic for Monster Carnival PQ.\n- *\n- * TODO: Display IGNs/Jobs/Level in Pending Requests\n- * TODO: fix reactor handling and make it less hacky\n- * TODO: fix cube of darkness and make it less hacky\n- *\n- * @author s4nta\n- */\n-public class MonsterCarnival {\n-\n-    // Logger\n-    static org.slf4j.Logger log = LoggerFactory.getLogger(MonsterCarnival.class);\n-\n-    // Map of channel to a MonsterCarnival instance.\n-    private static final HashMap<Integer, MonsterCarnival> instances = new HashMap<>();\n-\n-    /**\n-     * Returns the MonsterCarnival instance for a channel. Creates a new one and maps it\n-     * if it does not exist.\n-     *  [MENTION=2000183830]para[/MENTION]m channel Channel to check for.\n-     *  [MENTION=850422]return[/MENTION] MonsterCarnival instance for a channel.\n-     * @param channel\n-     * @return \n-     */\n-    public static MonsterCarnival getMonsterCarnival(int channel) {\n-        // TODO: synchronization?\n-        if (channel < 1 || channel > 20) {\n-            log.warn(\"Attempting to get a Monster Carnival instance for invalid channel.\");\n-            return null;\n-        }\n-        if (instances.containsKey(channel)) {\n-            return instances.get(channel);\n-        }\n-        ChannelServer cserv = ChannelServer.getInstance(channel);\n-        if (cserv == null) {\n-            log.error(\"ChannelServer instance for channel \" + channel + \" is null.\");\n-            return null;\n-        }\n-        MonsterCarnival inst = new MonsterCarnival(cserv);\n-        instances.put(channel, inst);\n-        return inst;\n-    }\n-\n-    // Instance variables\n-    private ChannelServer cserv;\n-    private Map<Integer, MCField> fields = new HashMap<>();\n-\n-    /**\n-     * Constructor for a MonsterCarnival instance.\n-     *  [MENTION=2000183830]para[/MENTION]m cserv Channel server for this instance.\n-     */\n-    public MonsterCarnival(ChannelServer cserv) {\n-        this.cserv = cserv;\n-        this.initFields();\n-    }\n-\n-    /**\n-     * Initializes empty fields for the instance.\n-     */\n-    private void initFields() {\n-        for (int i = 1; i <= NUM_FIELDS; i++) {\n-            fields.put(i, new MCField(i, this.cserv, null, null));\n-        }\n-    }\n-\n-    /**\n-     * Gets the field with a specified ID.\n-     *  [MENTION=2000183830]para[/MENTION]m id ID of field to retrieve.\n-     *  [MENTION=850422]return[/MENTION]\n-     */\n-    public MCField getField(int id) {\n-        if (id >= 1 && id <= NUM_FIELDS) {\n-            return fields.get(id);\n-        }\n-        return null;\n-    }\n-\n-    /**\n-     * Checks if a party can join a field or not.\n-     *\n-     *  [MENTION=2000183830]para[/MENTION]m pty Party to register.\n-     *  [MENTION=2000183830]para[/MENTION]m room Room to join.\n-     *  [MENTION=850422]return[/MENTION] Different code based on status. OK if successful.\n-     */\n-    public int registerStatus(MapleParty pty, int room) {\n-        if (!isValidField(room)) {\n-            return STATUS_FIELD_INVALID;\n-        }\n-        MCField field = this.getField(room);\n-        if (field.isFull()) {\n-            return STATUS_FIELD_FULL;\n-        }\n-        MCParty party = new MCParty(pty);\n-        if (!sizeCheck(party.getSize(), room)) {\n-            return STATUS_PARTY_SIZE;\n-        }\n-        boolean levelCheck = party.checkLevels();\n-        if (!levelCheck) {\n-            return STATUS_PARTY_LEVEL;\n-        }\n-        boolean chanCheck = party.checkChannels();\n-        if (!chanCheck) {\n-            return STATUS_PARTY_MISSING;\n-        }\n-        boolean mapCheck = party.checkMaps();\n-        if (!mapCheck) {\n-            return STATUS_PARTY_MISSING;\n-        }\n-        if (field.needsRequest()) {\n-            return STATUS_REQUEST;\n-        }\n-        return STATUS_PROCEED;\n-    }\n-\n-    /**\n-     * Creates a new MCParty based on a regular MapleParty object.\n-     *  [MENTION=2000183830]para[/MENTION]m pty Party to base off of.\n-     *  [MENTION=850422]return[/MENTION] Newly created MCParty.\n-     */\n-    public MCParty createParty(MapleParty pty) {\n-        return new MCParty(pty);\n-    }\n-\n-    public void resetPlayer(Player chr) {\n-        MCParty.deregisterPlayer(chr);\n-        chr.changeMap(MAP_LOBBY);\n-    }\n-\n-    /**\n-     * Returns a String containing information about lobby waiting rooms.\n-     *\n-     *  [MENTION=850422]return[/MENTION] String containing lobby information formatted for NPC.\n-     */\n-    public String getNPCAvailableFields() {\n-        StringBuilder sb = new StringBuilder();\n-        sb.append(\"Welcome to the #bCarnival PQ#k! Rooms 1-4 can hold 2-4 people, and rooms 5-6 can hold 3-6.\\r\\n#b\");\n-        for (int i = 1; i <= NUM_FIELDS; i++) {\n-            MCField field = this.fields.get(i);\n-            sb.append(field.getStatus());\n-        }\n-\n-        return sb.toString();\n-    }\n-\n-    // Reference Information\n-\n-    // Game Constants\n-    public static final int CP_LOSS_ON_DEATH = 10;\n-    public static final int TIME_PREBATTLE = 10;\n-    public static final int TIME_BATTLE = 600;\n-    public static final int TIME_LOBBYWAIT = 180;\n-\n-    public static final int TAB_SPAWNS   = 0;\n-    public static final int TAB_DEBUFF   = 1;\n-    public static final int TAB_GUARDIAN = 2;\n-\n-    /**\n-     * Gets a random debuff for (Mini) Cube of Darkness.\n-     *  [MENTION=850422]return[/MENTION] Random MapleDisease.\n-     */\n-    public static Disease getRandomDebuff() {\n-        return DEBUFFS[new Random().nextInt(DEBUFFS.length)];\n-    }\n-\n-    /**\n-     * Checks party size. Information from hidden-street MCPQ page.\n-     *  [MENTION=2000183830]para[/MENTION]m size Size of the party.\n-     *  [MENTION=2000183830]para[/MENTION]m field Field to check for.\n-     *  [MENTION=850422]return[/MENTION] True if party size is okay, False otherwise.\n-     */\n-    public static final boolean sizeCheck(int size, int field) {\n-        if (DEBUG) {\n-            return true;\n-        }\n-        switch (field) {\n-            case 1:\n-            case 2:\n-            case 3:\n-            case 4:\n-               // return size >= 2 && size <= 4;\n-                return size >= 1 && size <= 4;\n-            case 5:\n-            case 6:\n-               // return size >= 3 && size <= 6;\n-                return size >= 1 && size <= 6;\n-            default:\n-                return false;\n-        }\n-    }\n-\n-    public static final boolean isValidField(int field) {\n-        return field >= 1 && field <= 6;\n-    }\n-\n-    public static final int getLobbyMap(int field) {\n-        if (field < 1 || field > NUM_FIELDS) {\n-            log.warn(\"Attempting to get lobby map for invalid field.\");\n-            return MAP_EXIT;\n-        }\n-        return 980000000 + field * 100;\n-    }\n-\n-    public static final boolean isLobbyMap(int mapid) {\n-        switch (mapid) {\n-            case 980000100:\n-            case 980000200:\n-            case 980000300:\n-            case 980000400:\n-            case 980000500:\n-            case 980000600:\n-                return true;\n-            default:\n-                return false;\n-        }\n-    }\n-\n-    public static final int getBattleFieldMap(int field) {\n-        if (field < 1 || field > NUM_FIELDS) {\n-            log.warn(\"Attempting to get battlefield map for invalid field.\");\n-            return MAP_EXIT;\n-        }\n-        return 980000000 + field * 100 + 1;\n-    }\n-\n-    public static final boolean isBattlefieldMap(int mapid) {\n-        switch (mapid) {\n-            case 980000101:\n-            case 980000201:\n-            case 980000301:\n-            case 980000401:\n-            case 980000501:\n-            case 980000601:\n-                return true;\n-            default:\n-                return false;\n-        }\n-    }\n-\n-    public static final int getResurrectionMap(int field) {\n-        if (field < 1 || field > NUM_FIELDS) {\n-            log.warn(\"Attempting to get resurrection map for invalid field.\");\n-            return MAP_EXIT;\n-        }\n-        return 980000000 + field * 100 + 2;\n-    }\n-\n-    public static final int getVictoriousMap(int field) {\n-        if (field < 1 || field > NUM_FIELDS) {\n-            log.warn(\"Attempting to get victory map for invalid field.\");\n-            return MAP_EXIT;\n-        }\n-        return 980000000 + field * 100 + 3;\n-    }\n-\n-    public static final int getDefeatedMap(int field) {\n-        if (field < 1 || field > NUM_FIELDS) {\n-            log.warn(\"Attempting to get defeat map for invalid field.\");\n-            return MAP_EXIT;\n-        }\n-        return 980000000 + field * 100 + 4;\n-    }\n-\n-    public static final boolean isCPQConsumeItem(int itemid) {\n-        switch (itemid) {\n-            case ITEM_CP_1:\n-            case ITEM_CP_2:\n-            case ITEM_CP_3:\n-            case ITEM_PTY_ELIX:\n-            case ITEM_PTY_PELIX:\n-            case ITEM_PTY_ALLC:\n-            case ITEM_MINICUBE:\n-            case ITEM_DARKCUBE:\n-            case ITEM_STUNNER:\n-            case ITEM_IND_WHITE:\n-            case ITEM_IND_MANA:\n-            case ITEM_IND_ELIX:\n-            case ITEM_IND_PELIX:\n-            case ITEM_IND_ALLC:\n-            case ITEM_PTY_MANA:\n-                return true;\n-        }\n-        return false;\n-    }\n-\n-    // Error Codes\n-    // Note: These would be in an enum, but since these will be used in a NPC, they are not.\n-    public static final int STATUS_FIELD_FULL    = 0;\n-    public static final int STATUS_PARTY_SIZE    = 1;\n-    public static final int STATUS_PARTY_LEVEL   = 2;\n-    public static final int STATUS_PARTY_MISSING = 3;\n-    public static final int STATUS_FIELD_INVALID = 4;\n-    public static final int STATUS_REQUEST       = 98;\n-    public static final int STATUS_PROCEED       = 99;\n-\n-    // Maps\n-    public static final int MAP_LOBBY = 980000000;\n-    public static final int MAP_EXIT  = 980000010;\n-\n-    // NPCs\n-    public static final int NPC_LOBBY     = 2042000;\n-    public static final int NPC_ENTER     = 2042001; // Warp in from outside\n-    public static final int NPC_INFO      = 2042002;\n-    public static final int NPC_ASST_RED  = 2042003;\n-    public static final int NPC_ASST_BLUE = 2042004;\n-\n-    // Items\n-    public static final int ITEM_CP_1      = 2022157;\n-    public static final int ITEM_CP_2      = 2022158;\n-    public static final int ITEM_CP_3      = 2022159;\n-    public static final int ITEM_PTY_MANA  = 2022160;\n-    public static final int ITEM_PTY_ELIX  = 2022161;\n-    public static final int ITEM_PTY_PELIX = 2022162;\n-    public static final int ITEM_PTY_ALLC  = 2022163;\n-    public static final int ITEM_MINICUBE  = 2022164;\n-    public static final int ITEM_DARKCUBE  = 2022165;\n-    public static final int ITEM_STUNNER   = 2022166;\n-    public static final int ITEM_IND_WHITE = 2022174;\n-    public static final int ITEM_IND_ELIX  = 2022175;\n-    public static final int ITEM_IND_PELIX = 2022176;\n-    public static final int ITEM_IND_MANA  = 2022177;\n-    public static final int ITEM_IND_ALLC  = 2022178;\n-\n-    // Guardians\n-    public static final int GUARDIAN_RED = 9980000;\n-    public static final int GUARDIAN_BLUE = 9980001;\n-\n-    // Debuffs\n-    public static final Disease[] DEBUFFS = {Disease.STUN, Disease.DARKNESS, Disease.WEAKEN}; // intentionally leave out a few\n-\n-    // Miscellaneous\n-    public static final int MIN_LEVEL  = 30;\n-    public static final int MAX_LEVEL  = 50;\n-    public static final int NUM_FIELDS = 6;\n-\n-    // Debug\n-    public static final boolean DEBUG = false;\n-}  "}, {"sha": "8b5fcb5a4e70ac7fed1e1f29dceb64d344d2fd03", "filename": "docs/mcpq/readme.txt", "status": "removed", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/readme.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/readme.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/readme.txt?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,3 +0,0 @@\n-Blob contains extra classes for Monster Carnival. Can possibly be used for implementing MCPQ.\n-\n-Scripts and Src contains the code changed on OdinMS to have CPQ working.\n\\ No newline at end of file"}, {"sha": "a081c3f01d96d0fd4484957513544fc4c8677ac3", "filename": "docs/mcpq/scripts/npc/2042000.js", "status": "removed", "additions": 0, "deletions": 82, "changes": 82, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/scripts/npc/2042000.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/scripts/npc/2042000.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/scripts/npc/2042000.js?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,82 +0,0 @@\n-/**  *  [MENTION=19862]id[/MENTION] 2042000\n- *    [MENTION=806871]NPC[/MENTION] Spiegelmann\n- *    [MENTION=836108]Function[/MENTION] Monster Carnival Lobby NPC\n- * @author s4nta\n- */\n-\n-// Relevant Monster Carnival classes\n-var MonsterCarnival = net.sf.odinms.server.partyquest.mcpq.MonsterCarnival;\n-var MCTracker = net.sf.odinms.server.partyquest.mcpq.MCTracker;\n-var MCParty = net.sf.odinms.server.partyquest.mcpq.MCParty;\n-var MCField = net.sf.odinms.server.partyquest.mcpq.MCField;\n-var MCTeam = net.sf.odinms.server.partyquest.mcpq.MCField.MCTeam;\n-\n-// NPC variables\n-var status = -1;\n-var carnival, field;\n-var room = -1;\n-\n-function start() {\n-    if (cm.getMapId() != 980000000) {\n-        MCTracker.log(\"Spiegelmann called on invalid map \" + cm.getMapId() + \" by player \" + cm.getName());\n-        cm.sendOk(\"You are not authorized to do this.\");\n-        cm.dispose();\n-        return;\n-    }\n-    action(1, 0, 0);\n-}\n-\n-function action(mode, type, selection) {\n-    if (mode == -1) {\n-        cm.dispose();\n-        return;\n-    }\n-    if (mode == 1) status++;\n-    else status--;\n-\n-    if (status == 0) {\n-        if (cm.getParty() == null) {\n-            cm.sendOk(\"You are not in a party.\");\n-            cm.dispose();\n-            return;\n-        } else if (!cm.isLeader()) {\n-            cm.sendOk(\"If you want to try Carnival PQ, please tell the #bleader of your party#k to talk to me.\");\n-            cm.dispose();\n-            return;\n-        }\n-        carnival = MonsterCarnival.getMonsterCarnival(cm.getChannel());\n-        cm.sendSimple(carnival.getNPCAvailableFields());\n-    } else if (status == 1) {\n-        room = selection;\n-        if (room < 1 || room > 6) {\n-            cm.sendOk(\"That is not a valid room.\");\n-            cm.dispose();\n-            return;\n-        }\n-        var code = carnival.registerStatus(cm.getParty(), selection);\n-        if (code == MonsterCarnival.STATUS_FIELD_FULL) {\n-            cm.sendOk(\"This room is currently full.\")\n-        } else if (code == MonsterCarnival.STATUS_PARTY_SIZE) {\n-            cm.sendOk(\"Your party is not the right size for this field.\");\n-        } else if (code == MonsterCarnival.STATUS_PARTY_LEVEL) {\n-            cm.sendOk(\"Please check to see that the members in your party are between level 30 and 50.\");\n-        } else if (code == MonsterCarnival.STATUS_PARTY_MISSING) {\n-            cm.sendOk(\"Please make sure everyone in your party is in this lobby.\");\n-        } else if (code == MonsterCarnival.STATUS_FIELD_INVALID) {\n-            cm.sendOk(\"Unauthorized request.\");\n-        }\n-\n-        if (code == MonsterCarnival.STATUS_PROCEED) {\n-            field = carnival.getField(room);\n-            party = carnival.createParty(cm.getParty());\n-            field.register(party, MCTeam.RED);\n-            cm.sendOk(\"You will have 3 minutes to accept challenges from other parties.\");\n-        } else if (code == MonsterCarnival.STATUS_REQUEST) {\n-            cm.sendOk(\"Sending request to room \" + room + \". You will be automatically warped in if they accept your challenge.\");\n-            field = carnival.getField(room);\n-            party = carnival.createParty(cm.getParty());\n-            field.request(party);\n-        }\n-        cm.dispose();\n-    }\n-}\n\\ No newline at end of file"}, {"sha": "c8ec9d2d588a0c2e0e7700273c6a3304368dace8", "filename": "docs/mcpq/scripts/npc/2042002.js", "status": "removed", "additions": 0, "deletions": 326, "changes": 326, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/scripts/npc/2042002.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/scripts/npc/2042002.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/scripts/npc/2042002.js?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,326 +0,0 @@\n-/** * [MENTION=19862]id[/MENTION] 2042002\n- *  [MENTION=806871]NPC[/MENTION] Spiegelmann\n- *  [MENTION=836108]Function[/MENTION] Monster Carnival NPC\n- * @author s4nta\n- *  [MENTION=497496]cred[/MENTION]its xirengfx (for store code, CPQ description)\n- */\n-var DISABLED = false;\n-\n-var SavedLocationType = Packages.net.sf.odinms.server.maps.SavedLocationType;\n-\n-// Relevant Monster Carnival classes\n-var MonsterCarnival = Packages.net.sf.odinms.server.partyquest.mcpq.MonsterCarnival;\n-var MCTracker = Packages.net.sf.odinms.server.partyquest.mcpq.MCTracker;\n-var MCParty = Packages.net.sf.odinms.server.partyquest.mcpq.MCParty;\n-var MCField = Packages.net.sf.odinms.server.partyquest.mcpq.MCField;\n-\n-// NPC variables\n-var status = -1;\n-var store = false;\n-var ctx = -1; //context\n-var storeInfo;\n-var purchaseId;\n-var purchaseCost;\n-\n-// Reference\n-var coinId = 4001129;\n-var coinIcon = \"#i\" + coinId + \"#\";\n-var infoMaps = [220000000, 200000000, 103000000, 540000000]; // ludi, orbis, kerning, singapore\n-var gradeS = 600\n-var gradeA = 500\n-var gradeB = 400\n-var gradeC = 300\n-var gradeD = 200\n-var gradeE = 100\n-\n-var expRewards = [[150000, 100000], // S Winner/Loser\n-                  [100000, 70000], // A Winner/Loser\n-                  [75000, 43250], // B Winner/Loser\n-                  [50000, 25000], // C Winner/Loser\n-                  [25000, 12500], // D Winner/Loser\n-                  [12500, 6250],  // E Winner/Loser\n-                  [5000, 2500]    // F Winner/Loser\n-                  ];\n-\n-// Exchange stores\n-var warrior = [[1302004, 7], [1402006, 7], [1302009, 10], [1402007, 10],\n-               [1302010, 20], [1402003, 20], [1312006, 7], [1412004, 7],\n-               [1312007, 10], [1412005, 10], [1312018, 20], [1412003, 20],\n-               [1322015, 7], [1422008, 7], [1322016, 10], [1422007, 10],\n-               [1322017, 20], [1422005, 20], [1432003, 7], [1442003, 7],\n-               [1432005, 10], [1442009, 10], [1442005, 20], [1432004, 20]];\n-\n-var magician = [[1372001, 7], [1382018, 7], [1372012, 10], [1382019, 10],\n-                [1382001, 20], [1372007, 20]];\n-\n-var archer = [[1452006, 7], [1452007, 10], [1452008, 20], [1462005, 7],\n-              [1462006, 10], [1462007, 20]];\n-\n-var thief = [[1472013, 7], [1472017, 10], [1472021, 20], [1332014, 7],\n-             [1332011, 10], [1332031, 10], [1332016, 20], [1332034, 20]];\n-\n-var pirate = [[1482005, 7], [1482006, 10], [1482007, 20], [1492005, 7],\n-              [1492006, 10], [1492007, 20]];\n-\n-var necklace = [[1122007, 50], [2041211, 40]];\n-\n-// Long Text Descriptions\n-var infoText = \"You wish to know about the Monster Carnival? Very well. The Monster Carnival is a place of trilling battles and exciting competiton against people just as strong and motivated as yourself. You must summon monsters and defeat the monsters summoned by the opposing party. That's the essence of the Monster Carnival. Once you enter the Carnival Field, the task is to earn CP by hunter monsters from the opposing party and use those CP's to distract the opposing party from hunting monsters. There are three ways to distract the other party; Summon a Monster, Skill or Protector. Please remember this though, it's never a good idea to save up CP just for the sake of it. The CP's you've used will also help determine the winner and the loser of the carnival.\";\n-var no = \"You do not have enough Maple Coins for this item. Come back to me when you acquire more!\";\n-\n-function getGrade(cp) {\n-    // Returns index of corresponding expRewards pair.\n-    if (cp >= gradeS) {\n-        return 0;\n-    } else if (cp >= gradeA) {\n-        return 1;\n-    } else if (cp >= gradeB) {\n-        return 2;\n-    } else if (cp >= gradeC) {\n-        return 3;\n-    } else if (cp >= gradeD) {\n-        return 4;\n-    } else if (cp >= gradeE) {\n-        return 5;\n-    } else {\n-        return 6;\n-    }\n-}\n-\n-function isTownMap(map) {\n-    for (var i = 0; i < infoMaps.length; i++) {\n-        if (infoMaps[i] == map) {\n-            return true;\n-        }\n-    }\n-    return false;\n-}\n-\n-function isExitMap(map) {\n-    return map == 980000010;\n-}\n-\n-function isWinnerMap(map) {\n-    return (map >= 980000000 && map <= 980000700 && map % 10 == 3);\n-}\n-\n-function isLoserMap(map) {\n-    return (map >= 980000000 && map <= 980000700 && map % 10 == 4);\n-}\n-\n-var CONTEXT_NONE = -1;\n-var CONTEXT_TOWN = 0;\n-var CONTEXT_EXIT = 1;\n-var CONTEXT_WIN  = 2;\n-var CONTEXT_LOSE = 3;\n-\n-function start() {  \n-    if (DISABLED) {\n-        cm.sendOk(\"CPQ is temporarily unavailable.\");\n-        cm.dispose();\n-        return;\n-    }\n-    m = cm.getMapId();\n-    if (isTownMap(m)) {\n-        ctx = CONTEXT_TOWN;\n-    } else if (isExitMap(m)) {\n-        ctx = CONTEXT_EXIT;\n-    } else if (isWinnerMap(m)) {\n-        ctx = CONTEXT_WIN;\n-    } else if (isLoserMap(m)) {\n-        ctx = CONTEXT_LOSE;\n-    } else {\n-        ctx = CONTEXT_NONE;\n-    }\n-\n-    action(1, 0, 0);\n-}\n-\n-function doLoserMap(mode, type, selection) {\n-    if (cm.getPlayer().getMCPQParty() == null) {\n-        cm.warp(MonsterCarnival.MAP_LOBBY);\n-        cm.dispose();\n-        return;\n-    }\n-\n-    if (mode == -1) {\n-        cm.dispose();\n-    } else {\n-        if (mode == 1) status++;\n-        else status--;\n-\n-        if (status == 0) {\n-            cm.sendNext(\"Unfortunately, you did not manage to win this round. Better luck next time!\");\n-        } else if (status == 1) {\n-            var points = cm.getPlayer().getMCPQParty().getTotalCP();\n-            var grade = getGrade(points);\n-            var letterGrade = \"ABCDF\"[grade];\n-            var expReward = expRewards[grade][1];\n-\n-            cm.sendNext(\"Your grade is: #b\" + letterGrade + \"\\r\\n\\r\\n#kEXP Reward: \" + expReward);\n-            cm.gainExp(expReward);\n-        } else if (status == 2) {\n-            cm.warp(MonsterCarnival.MAP_LOBBY);\n-            cm.dispose();\n-        }\n-    }\n-}\n-\n-function doWinnerMap(mode, type, selection) {\n-    if (cm.getPlayer().getMCPQParty() == null) {\n-        cm.warp(MonsterCarnival.MAP_LOBBY);\n-        cm.dispose();\n-        return;\n-    }\n-\n-    if (mode == -1) {\n-        cm.dispose();\n-    } else {\n-        if (mode == 1) status++;\n-        else status--;\n-\n-        if (status == 0) {\n-            cm.sendNext(\"Congratulations! You managed to defeat the enemy team!\");\n-        } else if (status == 1) {\n-            var points = cm.getPlayer().getMCPQParty().getTotalCP();\n-            var grade = getGrade(points);\n-            var letterGrade = \"ABCDF\"[grade];\n-            var expReward = expRewards[grade][0];\n-\n-            cm.sendNext(\"Your grade is: #b\" + letterGrade + \"\\r\\n\\r\\n#kEXP Reward: \" + expReward);\n-            cm.gainExp(expReward);\n-        } else if (status == 2) {\n-            cm.warp(MonsterCarnival.MAP_LOBBY);\n-            cm.dispose();\n-        }\n-    }\n-}\n-\n-function doTown(mode, type, selection) {\n-    if (mode == -1) {\n-        cm.sendOk(\"Be sure to vote for the server every 24 hours!\");\n-        cm.dispose();\n-    } else {\n-        if (mode == 1) status++;\n-        else status--;\n-\n-        if (status == 0) {\n-            cm.sendSimple(\"What would you like to do? If you have never participated in the Monster Carnival, you'll need to know a thing or two about it before joining.\\r\\n\\r\\n#b#L0#Go to the Monster Carnival Field#l\\r\\n#L1#Learn about the Monster Carnival#l\\r\\n#L2#Trade Maple Coin#l\");\n-        } else if (status == 1) {\n-            if (selection == 0) {\n-                if (cm.getChar().getLevel() < MonsterCarnival.MIN_LEVEL || cm.getChar().getLevel() > MonsterCarnival.MAX_LEVEL) {\n-                    cm.sendOk(\"You must be between level \" + MonsterCarnival.MIN_LEVEL + \" and level \" + MonsterCarnival.MAX_LEVEL + \" to enter.\");\n-                    cm.dispose();\n-                    return;\n-                }\n-                cm.getChar().saveLocation(SavedLocationType.MONSTER_CARNIVAL);\n-                cm.warp(MonsterCarnival.MAP_LOBBY, 4);\n-                cm.dispose();\n-                return;\n-            } else if (selection == 1) {\n-                cm.sendPrev(infoText);\n-                cm.dispose();\n-                return;\n-            } else if (selection == 2) {\n-                store = true;\n-                cm.sendSimple(\"Select a category:\\r\\n\" +\n-                    \"#L101##bTrade Maple Coins for Warrior Weapons\\r\\n\" +\n-                    \"#L102#Trade Maple Coins for Magician Weapons\\r\\n\" +\n-                    \"#L103#Trade Maple Coins for Bowman Weapons\\r\\n\" +\n-                    \"#L104#Trade Maple Coins for Thief Weapons\\r\\n\" +\n-                    \"#L105#Trade Maple Coins for Pirate Weapons\\r\\n\" +\n-                    \"#L106#Trade Maple Coins for a Necklace\");\n-            }\n-        } else if (status == 2) {\n-            if (store) {\n-                switch (selection) {\n-                    case 101:\n-                        storeInfo = warrior;\n-                        break;\n-                    case 102:\n-                        storeInfo = magician;\n-                        break;\n-                    case 103:\n-                        storeInfo = archer;\n-                        break;\n-                    case 104:\n-                        storeInfo = thief;\n-                        break;\n-                    case 105:\n-                        storeInfo = pirate;\n-                        break;\n-                    case 106:\n-                        storeInfo = necklace;\n-                        break;\n-                    default:\n-                        storeInfo = [];\n-                }\n-                if (storeInfo.length == 0) {\n-                    cm.sendOk(\"That store doesn't exist.\");\n-                    cm.dispose();\n-                    return;\n-                }\n-                var storeText = \"\";\n-                for (var i = 0; i < storeInfo.length; ++i) {\n-                    var wepId = storeInfo[i][0];\n-                    var cost = storeInfo[i][1];\n-                    storeText += \"#L\" + i + \"##v\" + wepId + \"# - #z\" + wepId + \"# - \" + cost + \" \" + coinIcon + \"#l\\r\\n\";\n-                }\n-                cm.sendSimple(storeText);\n-            } else {\n-                MCTracker.log(\"[MCPQ_Info] CONTEXT_TOWN: Invalid status 2\");\n-            }\n-        } else if (status == 3) {\n-            if (store) {\n-                purchaseId = storeInfo[selection][0];\n-                purchaseCost = storeInfo[selection][1];\n-\n-                if (cm.haveItem(coinId, purchaseCost)) {\n-                    cm.sendYesNo(\"Are you sure you want to purchase #i\" + purchaseId + \"#? You will have #r#e\" + (cm.itemQuantity(coinId) - purchaseCost) + \" \" + coinIcon + \"##k#n remaining.\");\n-                } else {\n-                    cm.sendOk(\"You don't have enough \" + coinIcon + \".\");\n-                    cm.dispose();\n-                }\n-            } else {\n-                MCTracker.log(\"[MCPQ_Info] CONTEXT_TOWN: Invalid status 3\");\n-            }\n-        } else if (status == 4) {\n-            if (store) {\n-                if (cm.haveItem(coinId, purchaseCost)) {\n-                    cm.gainItem(coinId, -purchaseCost);\n-                    cm.gainItem(purchaseId);\n-                    cm.sendOk(\"Congratulations! Enjoy your new item.\");\n-                    cm.dispose();\n-                }\n-            } else {\n-                MCTracker.log(\"[MCPQ_Info] CONTEXT_TOWN: Invalid status 4\");\n-            }\n-        }\n-    }\n-}\n-\n-function doExit() {\n-    cm.warp(MonsterCarnival.MAP_LOBBY);\n-    cm.sendOk(\"Hope you had fun in the Carnival PQ!\");\n-    cm.dispose();\n-}\n-\n-function action(mode, type, selection) {\n-    switch (ctx) {\n-        case CONTEXT_TOWN:\n-            doTown(mode, type, selection);\n-            break;\n-        case CONTEXT_EXIT:\n-            doExit();\n-            break;\n-        case CONTEXT_LOSE:\n-            doLoserMap(mode, type, selection);\n-            break;\n-        case CONTEXT_WIN:\n-            doWinnerMap(mode, type, selection);\n-            break;\n-        default:\n-            MCTracker.log(\"[MCPQ_INFO] Invalid context (value: \" + ctx + \")\");\n-            cm.dispose();\n-    }\n-}\n\\ No newline at end of file"}, {"sha": "3b55415e3b9d7f5417e1e26b555b2b7055e574e7", "filename": "docs/mcpq/scripts/npc/2042003.js", "status": "removed", "additions": 0, "deletions": 88, "changes": 88, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/scripts/npc/2042003.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/scripts/npc/2042003.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/scripts/npc/2042003.js?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,88 +0,0 @@\n-/** *  [MENTION=19862]id[/MENTION] 2042003\n- *    [MENTION=806871]NPC[/MENTION] Assistant Red\n- *    [MENTION=836108]Function[/MENTION] Monster Carnival Waiting Room NPC\n- * @author s4nta\n- */\n-\n-// Relevant Monster Carnival classes\n-var MonsterCarnival = net.sf.odinms.server.partyquest.mcpq.MonsterCarnival;\n-var MCTracker = net.sf.odinms.server.partyquest.mcpq.MCTracker;\n-var MCParty = net.sf.odinms.server.partyquest.mcpq.MCParty;\n-var MCField = net.sf.odinms.server.partyquest.mcpq.MCField;\n-var MCTeam = net.sf.odinms.server.partyquest.mcpq.MCField.MCTeam;\n-\n-// NPC variables\n-var status = -1;\n-var carnival, field;\n-var room = -1;\n-\n-function start() {\n-    if (!MonsterCarnival.isLobbyMap(cm.getMapId())) {\n-        MCTracker.log(\"Assistant called on invalid map \" + cm.getMapId() + \" by player \" + cm.getName());\n-        cm.sendOk(\"You are not authorized to do this.\");\n-        cm.dispose();\n-        return;\n-    }\n-    action(1, 0, 0);\n-}\n-\n-function action(mode, type, selection) {\n-    if (mode == -1) {\n-        cm.dispose();\n-        return;\n-    }\n-    if (mode == 1) status++;\n-    else status--;\n-\n-    if (status == 0) {\n-        if (cm.getParty() == null) {\n-            cm.warp(MonsterCarnival.MAP_LOBBY);\n-            cm.dispose();\n-            return;\n-        }\n-        options = [\"#L1#Leave the room #r#e(WARNING: Abusing this will block you from future Carnival PQs)#b#n.#l\",\n-                   \"#L2#Close NPC#l\"];\n-        if (cm.isLeader()) {\n-            options.unshift(\"#L0#View pending challenges#l\");\n-        }\n-\n-        text = \"Welcome to Carnival PQ. I am #rAssistant Red#k. What can I do for you?#b\\r\\n\";\n-        for (var i = 0; i < options.length; i++) {\n-            text += options[i];\n-            text += \"\\r\\n\";\n-        }\n-        cm.sendSimple(text);\n-    } else if (status == 1) {\n-        field = cm.getChar().getMCPQField();\n-        if (selection == 0) {\n-            if (!cm.isLeader()) {\n-                cm.sendOk(\"You are not authorized to do this.\");\n-                cm.dispose();\n-                return;\n-            }\n-            if (!field.hasPendingRequests()) {\n-                cm.sendOk(\"There are no pending requests at this time.\");\n-                cm.dispose();\n-                return;\n-            }\n-            cm.sendSimple(field.getNPCRequestString());\n-        } else if (selection == 1) {\n-            if (field != null) {\n-                field.deregister(true);\n-            } else {\n-                cm.warp(MonsterCarnival.MAP_EXIT);\n-            }\n-            cm.dispose();\n-        } else {\n-            cm.dispose();\n-        }\n-    } else if (status == 2) {\n-        var code = field.acceptRequest(selection);\n-        if (code == 1) {\n-            cm.sendOk(\"The challenge was accepted.\");\n-        } else {\n-            cm.sendOk(\"An unknown error occurred.\");\n-        }\n-        cm.dispose();\n-    }\n-}\n\\ No newline at end of file"}, {"sha": "33d074269edfb9e26c83f1a42831da7ea21a9055", "filename": "docs/mcpq/scripts/npc/2042004.js", "status": "removed", "additions": 0, "deletions": 88, "changes": 88, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/scripts/npc/2042004.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/scripts/npc/2042004.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/scripts/npc/2042004.js?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,88 +0,0 @@\n-/** *  [MENTION=19862]id[/MENTION] 2042004\n- *    [MENTION=806871]NPC[/MENTION] Assistant Blue\n- *    [MENTION=836108]Function[/MENTION] Monster Carnival Waiting Room NPC\n- * @author s4nta\n- */\n-\n-// Relevant Monster Carnival classes\n-var MonsterCarnival = net.sf.odinms.server.partyquest.mcpq.MonsterCarnival;\n-var MCTracker = net.sf.odinms.server.partyquest.mcpq.MCTracker;\n-var MCParty = net.sf.odinms.server.partyquest.mcpq.MCParty;\n-var MCField = net.sf.odinms.server.partyquest.mcpq.MCField;\n-var MCTeam = net.sf.odinms.server.partyquest.mcpq.MCField.MCTeam;\n-\n-// NPC variables\n-var status = -1;\n-var carnival, field;\n-var room = -1;\n-\n-function start() {\n-    if (!MonsterCarnival.isLobbyMap(cm.getMapId())) {\n-        MCTracker.log(\"Assistant called on invalid map \" + cm.getMapId() + \" by player \" + cm.getName());\n-        cm.sendOk(\"You are not authorized to do this.\");\n-        cm.dispose();\n-        return;\n-    }\n-    action(1, 0, 0);\n-}\n-\n-function action(mode, type, selection) {\n-    if (mode == -1) {\n-        cm.dispose();\n-        return;\n-    }\n-    if (mode == 1) status++;\n-    else status--;\n-\n-    if (status == 0) {\n-        if (cm.getParty() == null) {\n-            cm.warp(MonsterCarnival.MAP_LOBBY);\n-            cm.dispose();\n-            return;\n-        }\n-        options = [\"#L1#Leave the room #r#e(WARNING: Abusing this will block you from future Carnival PQs)#b#n.#l\",\n-                   \"#L2#Close NPC#l\"];\n-        if (cm.isLeader()) {\n-            options.unshift(\"#L0#View pending challenges#l\");\n-        }\n-\n-        text = \"Welcome to Carnival PQ. I am #bAssistant Blue#k. What can I do for you?#b\\r\\n\";\n-        for (var i = 0; i < options.length; i++) {\n-            text += options[i];\n-            text += \"\\r\\n\";\n-        }\n-        cm.sendSimple(text);\n-    } else if (status == 1) {\n-        field = cm.getChar().getMCPQField();\n-        if (selection == 0) {\n-            if (!cm.isLeader()) {\n-                cm.sendOk(\"You are not authorized to do this.\");\n-                cm.dispose();\n-                return;\n-            }\n-            if (!field.hasPendingRequests()) {\n-                cm.sendOk(\"There are no pending requests at this time.\");\n-                cm.dispose();\n-                return;\n-            }\n-            cm.sendSimple(field.getNPCRequestString());\n-        } else if (selection == 1) {\n-            if (field != null) {\n-                field.deregister(true);\n-            } else {\n-                cm.warp(MonsterCarnival.MAP_EXIT);\n-            }\n-            cm.dispose();\n-        } else {\n-            cm.dispose();\n-        }\n-    } else if (status == 2) {\n-        var code = field.acceptRequest(selection);\n-        if (code == 1) {\n-            cm.sendOk(\"The challenge was accepted.\");\n-        } else {\n-            cm.sendOk(\"An unknown error occurred.\");\n-        }\n-        cm.dispose();\n-    }\n-}\n\\ No newline at end of file"}, {"sha": "bb940cab4c2d5e2c74022187f0b0a84ba70af1a7", "filename": "docs/mcpq/scripts/portal/MCrevive1.js", "status": "removed", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/scripts/portal/MCrevive1.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/scripts/portal/MCrevive1.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/scripts/portal/MCrevive1.js?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,8 +0,0 @@\n-function enter(pi) {   player = pi.getPlayer();\n-   if (player.getMCPQField() != null) {\n-       player.getMCPQField().onRevive(player);\n-   } else {\n-       pi.warp(980000000);\n-   }\n-   return true;\n-}\n\\ No newline at end of file"}, {"sha": "bb940cab4c2d5e2c74022187f0b0a84ba70af1a7", "filename": "docs/mcpq/scripts/portal/MCrevive2.js", "status": "removed", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/scripts/portal/MCrevive2.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/scripts/portal/MCrevive2.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/scripts/portal/MCrevive2.js?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,8 +0,0 @@\n-function enter(pi) {   player = pi.getPlayer();\n-   if (player.getMCPQField() != null) {\n-       player.getMCPQField().onRevive(player);\n-   } else {\n-       pi.warp(980000000);\n-   }\n-   return true;\n-}\n\\ No newline at end of file"}, {"sha": "bb940cab4c2d5e2c74022187f0b0a84ba70af1a7", "filename": "docs/mcpq/scripts/portal/MCrevive3.js", "status": "removed", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/scripts/portal/MCrevive3.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/scripts/portal/MCrevive3.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/scripts/portal/MCrevive3.js?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,8 +0,0 @@\n-function enter(pi) {   player = pi.getPlayer();\n-   if (player.getMCPQField() != null) {\n-       player.getMCPQField().onRevive(player);\n-   } else {\n-       pi.warp(980000000);\n-   }\n-   return true;\n-}\n\\ No newline at end of file"}, {"sha": "bb940cab4c2d5e2c74022187f0b0a84ba70af1a7", "filename": "docs/mcpq/scripts/portal/MCrevive4.js", "status": "removed", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/scripts/portal/MCrevive4.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/scripts/portal/MCrevive4.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/scripts/portal/MCrevive4.js?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,8 +0,0 @@\n-function enter(pi) {   player = pi.getPlayer();\n-   if (player.getMCPQField() != null) {\n-       player.getMCPQField().onRevive(player);\n-   } else {\n-       pi.warp(980000000);\n-   }\n-   return true;\n-}\n\\ No newline at end of file"}, {"sha": "bb940cab4c2d5e2c74022187f0b0a84ba70af1a7", "filename": "docs/mcpq/scripts/portal/MCrevive5.js", "status": "removed", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/scripts/portal/MCrevive5.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/scripts/portal/MCrevive5.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/scripts/portal/MCrevive5.js?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,8 +0,0 @@\n-function enter(pi) {   player = pi.getPlayer();\n-   if (player.getMCPQField() != null) {\n-       player.getMCPQField().onRevive(player);\n-   } else {\n-       pi.warp(980000000);\n-   }\n-   return true;\n-}\n\\ No newline at end of file"}, {"sha": "bb940cab4c2d5e2c74022187f0b0a84ba70af1a7", "filename": "docs/mcpq/scripts/portal/MCrevive6.js", "status": "removed", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/scripts/portal/MCrevive6.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/scripts/portal/MCrevive6.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/scripts/portal/MCrevive6.js?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,8 +0,0 @@\n-function enter(pi) {   player = pi.getPlayer();\n-   if (player.getMCPQField() != null) {\n-       player.getMCPQField().onRevive(player);\n-   } else {\n-       pi.warp(980000000);\n-   }\n-   return true;\n-}\n\\ No newline at end of file"}, {"sha": "728e8ed2f030faea8a578e13387c90d5e252ba93", "filename": "docs/mcpq/scripts/portal/mc_out.js", "status": "removed", "additions": 0, "deletions": 51, "changes": 51, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/scripts/portal/mc_out.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/scripts/portal/mc_out.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/scripts/portal/mc_out.js?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,51 +0,0 @@\n-/*\n-    This file is part of the OdinMS Maple Story Server\n-    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n-                       Matthias Butz <matze@odinms.de>\n-                       Jan Christian Meyer <vimes@odinms.de>\n-\n-    This program is free software: you can redistribute it and/or modify\n-    it under the terms of the GNU Affero General Public License version 3\n-    as published by the Free Software Foundation. You may not use, modify\n-    or distribute this program under any other version of the\n-    GNU Affero General Public License.\n-\n-    This program is distributed in the hope that it will be useful,\n-    but WITHOUT ANY WARRANTY; without even the implied warranty of\n-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-    GNU Affero General Public License for more details.\n-\n-    You should have received a copy of the GNU Affero General Public License\n-    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n-*/\n-\n-importPackage(Packages.net.sf.odinms.server.maps);\n-\n-/*\n-Return from MCPQ map.\n-*/\n-\n-function enter(pi) {\n-    var returnMap = pi.getPlayer().getSavedLocation(SavedLocationType.MONSTER_CARNIVAL);\n-    if (returnMap < 0) {\n-        returnMap = 100000000; // to fix people who entered the fm trough an unconventional way\n-    }\n-    var target = pi.getPlayer().getClient().getChannelServer().getMapFactory().getMap(returnMap);\n-    var targetPortal;\n-\n-    if (returnMap == 230000000) {\n-        targetPortal = target.getPortal(\"market01\");\n-    } else {\n-        targetPortal = target.getPortal(\"market00\");\n-    }\n-\n-    if (targetPortal == null)\n-        targetPortal = target.getPortal(0);\n-\n-    if (pi.getPlayer().getMapId() != target) {\n-        pi.getPlayer().clearSavedLocation(SavedLocationType.MONSTER_CARNIVAL);\n-        pi.getPlayer().changeMap(target, targetPortal);\n-        return true;\n-    }\n-    return false;\n-}\n\\ No newline at end of file"}, {"sha": "ad631236d3c99701a575a375f0261c7e486b86db", "filename": "docs/mcpq/src/ChangeMapHandler.txt", "status": "removed", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/ChangeMapHandler.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/ChangeMapHandler.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/src/ChangeMapHandler.txt?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,5 +0,0 @@\n-Under the respawn map change code (!c.getPlayer().isAlive()), add before executeStandardPath is done:\n-PHP Code:\n-if (player.getMCPQField() != null) {    player.getMCPQField().onPlayerRespawn(player);\n-    return;\n-}\n\\ No newline at end of file"}, {"sha": "949abab24ec2dfe0ff1ece28e2ef963fe737d33d", "filename": "docs/mcpq/src/ItemPickupHandler.txt", "status": "removed", "additions": 0, "deletions": 22, "changes": 22, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/ItemPickupHandler.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/ItemPickupHandler.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/src/ItemPickupHandler.txt?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,22 +0,0 @@\n-Add before items are added to inventory, or after mesos are handled:\n-PHP Code:\n-\n-else if (c.getPlayer().getMCPQField() != null) {   // CPQ Handling    boolean consumed = c.getPlayer().getMCPQField().onItemPickup(c.getPlayer(), mapitem);\n-    if (consumed) {\n-        c.getPlayer().getMap().broadcastMessage(MaplePacketCreator.removeItemFromMap(mapitem.getObjectId(), 2, c.getPlayer().getId()),\n-                mapitem.getPosition());\n-        c.getPlayer().getCheatTracker().pickupComplete();\n-        c.getPlayer().getMap().removeMapObject(ob);\n-    } else {\n-        if (MapleInventoryManipulator.addFromDrop(c, mapitem.getItem(), true)) {\n-            c.getPlayer().getMap().broadcastMessage(\n-                    MaplePacketCreator.removeItemFromMap(mapitem.getObjectId(), 2, c.getPlayer().getId()),\n-                    mapitem.getPosition());\n-            c.getPlayer().getCheatTracker().pickupComplete();\n-            c.getPlayer().getMap().removeMapObject(ob);\n-        } else {\n-            c.getPlayer().getCheatTracker().pickupComplete();\n-            return;\n-        }\n-    }\n-}  \n\\ No newline at end of file"}, {"sha": "87f8ca1b0b3fd41c640076d84e67236c4d3a4745", "filename": "docs/mcpq/src/MapleCharacter.txt", "status": "removed", "additions": 0, "deletions": 73, "changes": 73, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/MapleCharacter.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/MapleCharacter.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/src/MapleCharacter.txt?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,73 +0,0 @@\n-client/MapleCharacter.java\n-Add fields:\n-PHP Code:\n-private MCField.MCTeam MCPQTeam;private MCParty MCPQParty;\n-private MCField MCPQField;\n-private int availableCP = 0;\n-private int totalCP = 0;  \n-under playerDead() method:\n-PHP Code:\n-if (player.getMap().isTown()) {    XPdummy *= 0.01;\n-} else if (MonsterCarnival.isBattlefieldMap(player.getMapId())) {\n-    XPdummy = 0;\n-}  \n-under the giveDebuff() method, add a field that force adds the disease if some variable cpq is set, regardless of buffs.\n-method signature:\n-PHP Code:\n-public void giveDebuff(MapleDisease disease, MobSkill skill, boolean cpq)  \n-Add these methods:\n-PHP Code:\n-public int getTeam() {    if (this.MCPQTeam == null) {\n-        return -1;\n-    }\n-    return this.MCPQTeam.code;\n-}\n-\n-public MCField.MCTeam getMCPQTeam() {\n-    return MCPQTeam;\n-}\n-\n-public void setMCPQTeam(MCField.MCTeam MCPQTeam) {\n-    this.MCPQTeam = MCPQTeam;\n-}\n-\n-public MCParty getMCPQParty() {\n-    return MCPQParty;\n-}\n-\n-public void setMCPQParty(MCParty MCPQParty) {\n-    this.MCPQParty = MCPQParty;\n-}\n-\n-public MCField getMCPQField() {\n-    return MCPQField;\n-}\n-\n-public void setMCPQField(MCField MCPQField) {\n-    this.MCPQField = MCPQField;\n-}\n-\n-public int getAvailableCP() {\n-    return availableCP;\n-}\n-\n-public void setAvailableCP(int availableCP) {\n-    this.availableCP = availableCP;\n-}\n-\n-public int getTotalCP() {\n-    return totalCP;\n-}\n-\n-public void setTotalCP(int totalCP) {\n-    this.totalCP = totalCP;\n-}\n-\n-public void gainCP(int cp) {\n-    this.availableCP += cp;\n-    this.totalCP += cp;\n-}\n-\n-public void loseCP(int cp) {\n-    this.availableCP -= cp;\n-}  "}, {"sha": "12d5d27364fe65425f32671cb0025c729b05e4fe", "filename": "docs/mcpq/src/MapleClient.txt", "status": "removed", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/MapleClient.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/MapleClient.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/src/MapleClient.txt?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,5 +0,0 @@\n-Add this under disconnect() (right after event instance calls onPlayerDisconnect, preferably):\n-PHP Code:\n-if (chr.getMCPQField() != null) {\n-\tchr.getMCPQField().onPlayerDisconnected(player);\n-}\n\\ No newline at end of file"}, {"sha": "bd11eaec18eb6cf9b63a235e45941dbb7e70534e", "filename": "docs/mcpq/src/MapleLifeFactory.txt", "status": "removed", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/MapleLifeFactory.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/MapleLifeFactory.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/src/MapleLifeFactory.txt?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,3 +0,0 @@\n-Add to getMonster(int monsterId):\n-PHP Code:\n-stats.setCp(MapleDataTool.getIntConvert(\"getCP\", monsterInfoData, 0));  \n\\ No newline at end of file"}, {"sha": "bb1fdf1adcbeae5c0b7d5c5ee0f343dfc6bfea22", "filename": "docs/mcpq/src/MapleMap.txt", "status": "removed", "additions": 0, "deletions": 80, "changes": 80, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/MapleMap.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/MapleMap.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/src/MapleMap.txt?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,80 +0,0 @@\n-Add fields:\n-PHP Code:\n-private boolean respawning = true;\n-private MCWZData mcpqData;  \n-Add methods:\n-PHP Code:\n-public final List<MapleMonster> getAllMonsters() {    return getAllMapObjects(MapleMapObjectType.MONSTER);\n-}\n-\n-public void addMonsterSpawn(MapleMonster monster, int mobTime, int team) {\n-    Point newpos = calcPointBelow(monster.getPosition());\n-    newpos.y -= 1;\n-    SpawnPoint sp = new SpawnPoint(monster, newpos, mobTime, team);\n-    monsterSpawn.add(sp);\n-    if (!respawning) return;\n-\n-    if (sp.shouldSpawn() || mobTime == -1) {\n-        sp.spawnMonster(this);\n-    }\n-}\n-\n-public void setReactorState(MapleReactor reactor, byte state) {\n-    synchronized (this.mapobjects) {\n-        reactor.setState(state);\n-        broadcastMessage(MaplePacketCreator.triggerReactor(reactor, state));\n-    }\n-}\n-\n-public <E extends MapleMapObject> List<E> getAllMapObjects(MapleMapObjectType type) {\n-    List<E> ret = new ArrayList<>();\n-    synchronized (mapobjects) {\n-        for (MapleMapObject l : mapobjects.values()) {\n-            if (l.getType() == type) {\n-                ret.add((E) l);\n-            }\n-        }\n-    }\n-    return ret;\n-}\n-\n-public void clearDrops() {\n-    List<MapleMapItem> items = getAllMapObjects(MapleMapObjectType.ITEM);\n-    for (MapleMapItem itemmo : items) {\n-        removeMapObject(itemmo);\n-        broadcastMessage(MaplePacketCreator.removeItemFromMap(itemmo.getObjectId(), 0, 0));\n-    }\n-}\n-\n-public Collection<SpawnPoint> getSpawnPoints() {\n-    return monsterSpawn;\n-}\n-\n-public void respawn() {\n-    for (SpawnPoint sp : this.monsterSpawn) {\n-        if (sp.shouldSpawn()) {\n-            sp.spawnMonster(this);\n-        }\n-    }\n-}\n-\n-public void beginSpawning() {\n-    this.respawning = true;\n-    this.respawn();\n-}\n-\n-public boolean isRespawning() {\n-    return respawning;\n-}\n-\n-public void setRespawning(boolean respawning) {\n-    this.respawning = respawning;\n-}\n-\n-public MCWZData getMCPQData() {\n-    return this.mcpqData;\n-}\n-\n-public void setMCPQData(MCWZData data) {\n-    this.mcpqData = data;\n-}  "}, {"sha": "96869862318984e6bbae19042ce3a71e773cde3d", "filename": "docs/mcpq/src/MapleMapFactory.txt", "status": "removed", "additions": 0, "deletions": 22, "changes": 22, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/MapleMapFactory.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/MapleMapFactory.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/src/MapleMapFactory.txt?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,22 +0,0 @@\n-Add to getMap() method, under where it parses PQ areas:\n-PHP Code:\n-MapleData mcData = mapData.getChildByPath(\"monsterCarnival\");if (mcData != null) {\n-    MCWZData mcpqInfo = new MCWZData(mcData);\n-    map.setMCPQData(mcpqInfo);\n-    map.setRespawning(false);\n-}  \n-Add to getMap() method, under where it parses mobTime:\n-PHP Code:\n-int team = MapleDataTool.getInt(\"team\", life, -1);  \n-Change addMonsterSpawn() method call to the following, using the new SpawnPoint construction we defined in MapleMap:\n-PHP Code:\n-map.addMonsterSpawn(monster, mobTime, team);  \n-Add the method:\n-PHP Code:\n-public MapleMap instanceMap(int mapid, boolean respawns, boolean npcs) {    return instanceMap(mapid, respawns, npcs, true);\n-}  \n-and \n-\n-PHP Code:\n-public MapleMap instanceMap(int mapid, boolean respawns, boolean npcs, boolean reactors)  \n-, where the code is the same as getMap but does not try to load from cache and does not store into cache."}, {"sha": "5adb975020f94582a0f21572b7ebc5c73bb1a344", "filename": "docs/mcpq/src/MapleMonster.txt", "status": "removed", "additions": 0, "deletions": 31, "changes": 31, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/MapleMonster.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/MapleMonster.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/src/MapleMonster.txt?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,31 +0,0 @@\n-Add fields:\n-PHP Code:\n-private int team = -1; \n-\n-Add methods:\n-PHP Code:\n-public int getCP() {    return stats.getCp();\n-}\n-\n-public int getTeam() {\n-    return team;\n-}\n-\n-public void setTeam(int team) {\n-    this.team = team;\n-}\n-\n-public void dispel() {\n-    if (!isAlive()) return;\n-\n-    for (MonsterStatus i : MonsterStatus.values()) {\n-        if (monsterBuffs.contains(i)) {\n-            removeMonsterBuff(i);\n-            MaplePacket packet = MaplePacketCreator.cancelMonsterStatus(getObjectId(), Collections.singletonMap(i, Integer.valueOf(1)));\n-            map.broadcastMessage(packet, getPosition());\n-            if (getController() != null && !getController().isMapObjectVisible(MapleMonster.this)) {\n-                getController().getClient().getSession().write(packet);\n-            }\n-        }\n-    }\n-}  "}, {"sha": "196b71b9ea4d68ad3482efa1d97c472f589a8109", "filename": "docs/mcpq/src/MapleMonsterStats.txt", "status": "removed", "additions": 0, "deletions": 13, "changes": 13, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/MapleMonsterStats.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/MapleMonsterStats.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/src/MapleMonsterStats.txt?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,13 +0,0 @@\n-Add field:\n-PHP Code:\n-private int cp;\n-\n-Add methods:\n-PHP Code:\n-public int getCp() {\n-\treturn cp;\n-}\n-\n-public void setCp(int cp) {\n-    this.cp = cp;\n-}  \n\\ No newline at end of file"}, {"sha": "2ea3c55073ed6c388ef52cf39d95b818fbf95e53", "filename": "docs/mcpq/src/MapleReactor.txt", "status": "removed", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/MapleReactor.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/MapleReactor.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/src/MapleReactor.txt?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,6 +0,0 @@\n-Under hitReactor(), add before standard handling:\n-PHP Code:\n-if (c.getPlayer().getMCPQField() != null) {\n-\tc.getPlayer().getMCPQField().onGuardianHit(c.getPlayer(), this);\n-    return;\n-}\n\\ No newline at end of file"}, {"sha": "041bf661c440db4e1f95135e7ac6c24865bf8f13", "filename": "docs/mcpq/src/MapleStatEffect.txt", "status": "removed", "additions": 0, "deletions": 27, "changes": 27, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/MapleStatEffect.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/MapleStatEffect.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/src/MapleStatEffect.txt?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,27 +0,0 @@\n-Add fields:\n-PHP Code:\n-private boolean consumeOnPickup, party;\n-private int cp, nuffSkill;\n-\n-Add to stat parsing (loadFromData()):\n-PHP Code:\n-\n-ret.cp = MapleDataTool.getInt(\"cp\", source, 0);ret.party = MapleDataTool.getInt(\"party\", source, 0) > 0;\n-ret.consumeOnPickup = MapleDataTool.getInt(\"consumeOnPickup\", source, 0) > 0;\n-ret.nuffSkill = MapleDataTool.getInt(\"nuffSkill\", source, -1);  \n-Add methods:\n-PHP Code:\n-public int getCP() {    return cp;\n-}\n-\n-public boolean isParty() {\n-    return party;\n-}\n-\n-public boolean isConsumeOnPickup() {\n-    return consumeOnPickup;\n-}\n-\n-public int getNuffSkill() {\n-    return nuffSkill;\n-}  \n\\ No newline at end of file"}, {"sha": "c36ef0b9b0cf179775f9addf1f5bcf65b9e2cb5b", "filename": "docs/mcpq/src/MobSkill.txt", "status": "removed", "additions": 0, "deletions": 23, "changes": 23, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/MobSkill.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/MobSkill.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/src/MobSkill.txt?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,23 +0,0 @@\n-Add to applyEffect():\n-\n-PHP Code:\n-case 150:    monStat = MonsterStatus.WEAPON_ATTACK_UP;\n-    break;\n-case 151:\n-    monStat = MonsterStatus.WEAPON_DEFENSE_UP;\n-    break;\n-case 152:\n-    monStat = MonsterStatus.MAGIC_ATTACK_UP;\n-    break;\n-case 153:\n-    monStat = MonsterStatus.MAGIC_DEFENSE_UP;\n-    break;\n-case 154:\n-    monStat = MonsterStatus.ACC;\n-    break;\n-case 155:\n-    monStat = MonsterStatus.AVOID;\n-    break;\n-case 156:\n-    monStat = MonsterStatus.SPEED;\n-    break;  "}, {"sha": "c34ec7fc8daa2595f8ec7f49e3cbda0aea309006", "filename": "docs/mcpq/src/MonterCarnivalHandler.txt", "status": "removed", "additions": 0, "deletions": 41, "changes": 41, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/MonterCarnivalHandler.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/MonterCarnivalHandler.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/src/MonterCarnivalHandler.txt?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,41 +0,0 @@\n-package net.sf.odinms.net.channel.handler;\n-import net.sf.odinms.client.MapleCharacter;\n-import net.sf.odinms.client.MapleClient;\n-import net.sf.odinms.net.AbstractMaplePacketHandler;\n-import net.sf.odinms.server.partyquest.mcpq.MCField;\n-import net.sf.odinms.server.partyquest.mcpq.MCTracker;\n-import net.sf.odinms.server.partyquest.mcpq.MonsterCarnival;\n-import net.sf.odinms.tools.data.input.SeekableLittleEndianAccessor;\n-\n-/**\n- * Packet handler for Monster Carnival.\n- * @author s4nta\n- */\n-public class MonsterCarnivalHandler extends AbstractMaplePacketHandler {\n-\n-    @Override\n-    public void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n-        int tab = slea.readByte();\n-        int num = slea.readByte();\n-        MapleCharacter chr = c.getPlayer();\n-\n-        if (MonsterCarnival.DEBUG) {\n-            MCTracker.log(\"[MCHandler] \" + chr.getName() + \" used tab \"  + tab + \" num \" + num);\n-            System.out.println(\"[MCHandler] \" + chr.getName() + \" used tab \"  + tab + \" num \" + num);\n-        }\n-\n-        if (chr.getMCPQField() == null || chr.getMCPQParty() == null) {\n-            MCTracker.log(\"[MCHandler] \" + chr.getName() + \" attempting to use Monster Carnival handler without being in Monster Carnival\");\n-            return;\n-        }\n-\n-        MCField field = chr.getMCPQField();\n-        if (tab == 0) {\n-            field.onAddSpawn(c.getPlayer(), num);\n-        } else if (tab == 1) {\n-            field.onUseSkill(c.getPlayer(), num);\n-        } else if (tab == 2) { // status\n-            field.onGuardianSummon(c.getPlayer(), num);\n-        }\n-    }\n-}\n\\ No newline at end of file"}, {"sha": "2c1f32caa291330700eb94e341348f132caeaaa3", "filename": "docs/mcpq/src/PetLootHandler.txt", "status": "removed", "additions": 0, "deletions": 20, "changes": 20, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/PetLootHandler.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/PetLootHandler.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/src/PetLootHandler.txt?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,20 +0,0 @@\n-else if (c.getPlayer().getMCPQField() != null) {   // CPQ Handling\n-                    boolean consumed = c.getPlayer().getMCPQField().onItemPickup(c.getPlayer(), mapitem);\n-                    if (consumed) {\n-                        c.getPlayer().getMap().broadcastMessage(MaplePacketCreator.removeItemFromMap(mapitem.getObjectId(), 2, c.getPlayer().getId()),\n-                                mapitem.getPosition());\n-                        c.getPlayer().getCheatTracker().pickupComplete();\n-                        c.getPlayer().getMap().removeMapObject(ob);\n-                    } else {\n-                        if (MapleInventoryManipulator.addFromDrop(c, mapitem.getItem(), true)) {\n-                            c.getPlayer().getMap().broadcastMessage(\n-                                    MaplePacketCreator.removeItemFromMap(mapitem.getObjectId(), 2, c.getPlayer().getId()),\n-                                    mapitem.getPosition());\n-                            c.getPlayer().getCheatTracker().pickupComplete();\n-                            c.getPlayer().getMap().removeMapObject(ob);\n-                        } else {\n-                            c.getPlayer().getCheatTracker().pickupComplete();\n-                            return;\n-                        }\n-                    }\n-                }\n\\ No newline at end of file"}, {"sha": "107be7067df16b07da0244f92fb6b91bc298d651", "filename": "docs/mcpq/src/SpawnPoint.txt", "status": "removed", "additions": 0, "deletions": 35, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/SpawnPoint.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/mcpq/src/SpawnPoint.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mcpq/src/SpawnPoint.txt?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,35 +0,0 @@\n-Add field:\n-PHP Code:\n-private int team = -1;  \n-Add constructor:\n-PHP Code:\n-public SpawnPoint(MapleMonster monster, Point pos, int mobTime, int team) {    super();\n-    this.monster = monster;\n-    this.pos = new Point(pos);\n-    this.mobTime = mobTime;\n-    this.immobile = !monster.isMobile();\n-    this.nextPossibleSpawn = System.currentTimeMillis();\n-    this.team = team;\n-}  \n-Add monster death listener under spawnMonster():\n-PHP Code:\n-if (team > -1) {    final int cp = mob.getCP();\n-    mob.addListener(new MonsterListener() {\n-\n-        @Override\n-        public void monsterKilled(MapleMonster monster, MapleCharacter highestDamageChar) {\n-            if (highestDamageChar == null) {\n-                return;\n-            }\n-\n-            if (highestDamageChar.getMCPQParty() == null) {\n-                MCTracker.log(\"Attempted to give CP to character without assigned MCPQ Party.\");\n-                return;\n-            }\n-\n-            highestDamageChar.getMCPQField().monsterKilled(highestDamageChar, cp);\n-\n-        }\n-    });\n-    mob.setTeam(team);\n-}\n\\ No newline at end of file"}, {"sha": "740d847814bbeb5924902707a5d20205d5b99b50", "filename": "docs/mychanges_ptbr.txt", "status": "modified", "additions": 19, "deletions": 1, "changes": 20, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/docs/mychanges_ptbr.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/docs/mychanges_ptbr.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mychanges_ptbr.txt?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -938,4 +938,22 @@ Corrigido Body Pressure n\u00e3o mostrando valor de dano para outros jogadores.\n Adicionado flag que permite town scrolls atuarem como se fossem \"player banishes\", permitindo ativa\u00e7\u00e3o do antibanish scroll.\n \n 09 Maio 2018,\n-Corrigido autopot handler consumindo mais pots que o necess\u00e1rio para pots com ganhos percentuais.\n\\ No newline at end of file\n+Corrigido autopot handler consumindo mais pots que o necess\u00e1rio para pots com ganhos percentuais.\n+\n+10 - 11 Maio 2018,\n+Adicionado suporte para Kite's.\n+Revisto acesso concorrente com m\u00f3dulos de pet autopot.\n+Tomado medida paliativa pra tentar resolver o problema com players retidos em certos channels do jogo (que leva ao mesmo n\u00e3o conseguir logar num channel).\n+Implementado quest da harpa (questid 3314), al\u00e9m de implementado som na harpa podendo ser ouvido por todos os jogadores no mapa.\n+Adicionado efeito sonoro para destacar a\u00e7\u00e3o de metro (sinaliza chegando/saindo similarmente ao usado pelos outros objetos de viagem).\n+Adicionado suporte para player NPCs e hall da fama.\n+\n+14 - 19 Maio 2018,\n+Resolvido bug com NPC prefeito de NLC, permitindo jogador repetir quiz o quanto quiser.\n+Calibrado sistema de automatiza\u00e7\u00e3o de novas posi\u00e7\u00f5es para player NPCs.\n+Adicionado sistema de ranqueamento para player NPCs.\n+Adicionado flag que define novo requerimento de mobs para questline do Temple of Time.\n+Corrigido pets permanentes expirando com o tempo.\n+Adicionado suporte para Cash Shop Surprise.\n+Revisado sistema de handlers que gerencia login no server.\n+Resolvido um problema com flag ultra three snails.\n\\ No newline at end of file"}, {"sha": "3c7a46166d58635fc60d1df3a8e4ddae6c87eeef", "filename": "docs/wedding/9201002.js", "status": "removed", "additions": 0, "deletions": 206, "changes": 206, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/wedding/9201002.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/wedding/9201002.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/wedding/9201002.js?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,206 +0,0 @@\n-/**\n----------------------------------------------------------------------------------------------------\n-* NPC Name: High Priest John - ID: 9201002.js\n-* @author Vcoc\n-* @author Ronan\n----------------------------------------------------------------------------------------------------\n- **/\n-importPackage(Packages.client);\n-importPackage(Packages.server);\n-importPackage(Packages.tools);\n-\n-var status;\n-var minLevel = 10;\n-var maxLevel = 200;\n-var mySelection = -1;\n-var rings = Array(1112001, 1112002, 1112003, 1112005, 1112006);\n-\n-function start() {\n-    status = -1;\n-    action(1, 0, 0);\n-}\n-\n-function action(mode, type, selection) {\n-    if (mode == 1) {\n-        status++;\n-    } else {\n-        if (type == 1 && mode == 0)\n-            cm.sendOk(\"...\");\n-        cm.dispose();\n-        return;\n-    }\n-\t\n-    if (cm.getPlayer().getMapId() == 680000000) {\n-        if (status == 0) {\n-            cm.sendSimple(\"Ol\ufffd #h #,\\r\\n#bO que voc\ufffd gostaria de fazer hoje?#b\\r\\n#L0#Eu quero me casar!#l\\r\\n#L1#Eu quero ver meus amigos no casamento!#l\\r\\n#L2#Quero trocar um Bilhete Premium de casamento por 5 convites!#l\\r\\n#L3#Eu quero comprar um Bilhete de Casamento!#l\\r\\n#L4#Gostaria de obter uma licen\ufffda de casamento.#l\");\n-        } else if (status == 1) {\n-            if (selection == 0) {\n-                if (cm.getParty() == null) { // no party\n-                    cm.sendOk(\"Para se casar e necessario estar em grupo com a parceira(o)!\");\n-                    cm.dispose();\n-                } else if (!cm.isLeader()) { // not party leader\n-                    cm.sendOk(\"Por favor, fale ao seu parceiro(a) para falar comigo.\");\n-                    cm.dispose();\n-                } else {\n-                    var party = cm.getParty().getMembers();\n-                    var mapId = cm.getPlayer().getMapId();\n-                    var levelValid = 0;\n-                    var genderRight = 0;\n-                    var alreadyMarried = 0;\n-                    for (var i = 0; i < party.size(); i++) {\n-                        var pPlayer = party.get(i);\n-                        if (pPlayer.getLevel() >= minLevel && pPlayer.getLevel() <= maxLevel)\n-                            levelValid += 1;\n-                        if (pPlayer.getGender() == 0) {\n-                            genderRight += 1;\n-                        } else if (pPlayer.getGender() == 1) {\n-                            genderRight += 2;\n-                        }\n-                        if (pPlayer.isMarried() == 1) {\n-                            alreadyMarried += 1;\n-                        }\n-                    }\n-                    if (party.size() == 2) {\n-                        if (party.get(0).getGender() == 0) { // leader.\n-                            if (levelValid == 2 || cm.partyMembersInMap() == 2) {\n-                                if (genderRight == 3) {\n-                                    if (alreadyMarried == 0) {\n-                                        if (cm.haveItem(4031374, 1) && cm.haveItem(5251003, 1)) {\n-                                            // Kick it into action.  Slate says nothing here, just warps you in.\n-                                            var em = cm.getEventManager(\"CathedralWedding\");\n-                                            if (em == null) {\n-                                                cm.sendOk(\"Indisponivel!\");\n-                                            } else {\n-                                                // Begin the Wedding o.O\n-                                                em.startInstance(cm.getParty(), cm.getPlayer().getMap());\n-                                                party = cm.getPlayer().getEventInstance().getPlayers();\n-                                                var hname = party.get(0).getName();\n-                                                var wname = party.get(1).getName();\n-                                                var StringLine = \"[\" + hname + \" & \" + wname + \"] Ir\ufffdo se casar na Catedral, no canal (\" + cm.getC().getChannel() + \").\";\n-                                                cm.worldMessage(5, StringLine);\n-                                                var eim = cm.getChar().getEventInstance();\n-                                                eim.setProperty(\"husband\", party.get(0).getName());\n-                                                eim.setProperty(\"wife\", party.get(1).getName());\n-                                            }\n-                                        } else\n-                                            cm.sendOk(\"Voc\ufffd n\ufffdo tem os itens necess\ufffdrios, desculpe!\");\n-                                    } else\n-                                        cm.sendOk(\"Voc\ufffd j\ufffd est\ufffd casado.\");\n-                                } else\n-                                    cm.sendOk(\"O nosso servidor n\ufffdo suporta este tipo de casamento!\");\n-                            } else\n-                                cm.sendOk(\"Voc\ufffds precisam estar no mesmo mapa e ser pelo menos no n\ufffdvel [\"+minLevel+\" ~ \"+maxLevel+\"]\");\n-                        } else\n-                            cm.sendOk(\"Por favor fa\ufffda o teu marido lider do grupo.\");\n-                    } else\n-                        cm.sendOk(\"Somentos marido e mulher no grupo!\");\n-                    cm.dispose();\n-                }\n-            } else if (selection == 1) {\n-                if (cm.haveItem(5251100, 1)) {\n-                    cm.sendGetText(\"Por favor, insira o nome de um dos membros do casamento .\");\n-                } else {\n-                    cm.sendOk(\"Parece que o casal que voc\ufffd quer assistir n\ufffdo te deu um convite ainda.\");\n-                    cm.dispose();\n-                }\n-            } else if (selection == 2) {\n-                if (cm.haveItem(5251003, 1)) {\n-                    cm.gainItem(5251003, -1);\n-                    cm.gainItem(5251100,5);\n-                } else {\n-                    cm.sendOk(\"Voc\ufffd n\ufffdo tem o Bilhete de Casamento Premium.\");\n-                } \n-                cm.dispose();\n-            } else if (selection == 3) {\n-                    cm.sendOk(\"Voc\ufffd pode comprar um Bilhete de Casamento com a Ria! Localizada no Mercado Livre.\");\n-                \n-                cm.dispose();\n-            } else if (selection == 4) {\n-                if (cm.getPlayer().getMarriageQuestLevel() == 50) {\n-                    cm.sendNext(\"Por favor, v\ufffd visitar a Mom eo Dad em sua casa. Eles vivem em algum lugar Henesys Hunting Ground II.\");\n-                    cm.getPlayer().addMarriageQuestLevel();\n-                } else if (cm.getPlayer().getMarriageQuestLevel() == 53) {\n-                    if (cm.haveItem(4031373, 1)) {\n-                        cm.sendNext(\"Pronto, aqui sua permiss\ufffdo!\");\n-                        cm.removeAll(4031373);\n-                        cm.gainItem(4031374, 1);\n-                        cm.getPlayer().setMarriageQuestLevel(100);\n-                    } else {\n-                        cm.sendNext(\"Voc\ufffd n\ufffdo tem a ben\ufffd\ufffdo de Mom e Dad!\");\n-                    }\n-                } else {\n-                    cm.sendNext(\"Eu n\ufffdo sei o que voc\ufffd est\ufffd falando.\");\n-                }\n-                cm.dispose();\n-            }\n-        } else if (status == 2) {\n-            var chr = cm.getCharByName(cm.getText());\n-            if (chr != null) {\n-                if (chr.getMapId() == 680000200) {\n-                    var eim = chrr.getEventInstance();\n-                    eim.registerPlayer(cm.getPlayer());\n-                } else {\n-                    cm.sendOk(\"O casamento que voc\ufffd gostaria de participar n\ufffdo foi iniciado.\");\n-                }\n-            } else\n-                cm.sendOk(\"Jogador n\ufffdo encontrado.\");\n-            cm.dispose();\n-        }\n-    } else if (cm.getPlayer().getMapId() == 680000210) {\n-        var eim = cm.getPlayer().getEventInstance();\n-\n-        var husbandName = eim.getProperty(\"husband\");\n-        var wifeName = eim.getProperty(\"wife\");\n-\n-        var husband = cm.getCharByName(husbandName);\n-        var wife = cm.getCharByName(wifeName);\n-\t\t\t\n-        var id = cm.getPlayer().getId();\n-            \n-        var hclicked = eim.getProperty(\"hclicked\");\n-        var wclicked = eim.getProperty(\"hclicked\");\n-\n-        var otherChar = husband == cm.getPlayer() ? wife : husband;\n-\t\t\t\n-        if (husband != null && wife != null) {\n-            if (status == 0) {\n-                if (id  != husband.getId() && id  != husband.getId()) {\n-                    cm.sendOk(\"Voc\ufffd n\ufffdo est\ufffd se casando!\");\n-                    cm.dispose();\n-                } else if (cm.getPlayer().isMarried() > 0) {\n-                    cm.sendOk(\"Voc\ufffd j\ufffd foi casado.\");\n-                    cm.dispose();\n-                } else if (hclicked == 1 && husbandName.equals(cm.getPlayer().getName())) {\n-                    cm.sendOk(\"Voc\ufffd j\ufffd aceitou casar-se com sua esposa, pergunte \ufffd sua esposa a aceitar agora\");\n-                    cm.dispose();\n-                } else if (wclicked == 1 && wifeName.equals(cm.getPlayer().getName())) {\n-                    cm.sendOk(\"Voc\ufffd j\ufffd aceitou casar-se com o seu marido , pergunte ao seu marido a aceitar agora\");\n-                    cm.dispose();\n-                } else {\n-                    cm.sendYesNo(\"Voc\ufffd deseja se casar com seu parceiro?\\r\\n\\r\\nIsso ser\ufffd uma decis\ufffdo final.\");\n-                }\n-            } else if (status == 1) {\n-                if (husband == cm.getPlayer())\n-                    eim.setProperty(\"hclicked\", 1);\n-                else if (wife == cm.getPlayer())\n-                    eim.setProperty(\"wclicked\", 1);\n-                else {\n-                    cm.sendOk(\"Como assim?\");\n-                    cm.dispose();\n-                }\n-\n-                if (eim.getProperty(\"hclicked\") == 1 && eim.getProperty(\"hclicked\") == 1) {\n-                    if (!cm.createMarriage(otherChar.getName())) {\n-                        cm.sendOk(\"O sistema n\ufffdo pode encontrar o seu parceiro.\");\n-                        cm.dispose();\n-                        return;\n-                    }\n-                    cm.worldMessage(5, \"Parab\ufffdns a \"+husbandName+\" e \"+wifeName+\". S\ufffdo rec\ufffdm-casados, voc\ufffd pode ench\ufffd-los de spam agora!\");\n-                    cm.removeAll(4031374);\n-                    MapleInventoryManipulator.removeById(otherChar.getClient(), MapleInventoryType.USE, 4031374, otherChar.getItemQuantity(4031374, false), false, false);\n-                    cm.dispose();\n-                }\n-            }\n-        }\n-    }\n-}\n\\ No newline at end of file"}, {"sha": "c88985f6a555053fa185e101fc31a26848065575", "filename": "docs/wedding/9201008.js", "status": "removed", "additions": 0, "deletions": 25, "changes": 25, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/wedding/9201008.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/docs/wedding/9201008.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/wedding/9201008.js?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,25 +0,0 @@\n-var status = 0;\n-\n-function start() {\n-    status = -1;\n-    action(1, 0, 0);\n-}\n-\n-function action(mode, type, selection) {\n-    if (mode == -1) {\n-        cm.dispose();\n-    }else if (mode == 0){\n-        cm.dispose();\n-\t\treturn;\t\t\n-    } else {\n-        if (mode == 1)\n-            status++;\n-        else\n-            status--;\n-        if (status == 0) {\n-\t\t\tcm.sendOk(\"Wow Vickii! You look so beautiful today. Are you ready to move on to the next part of this surprise?\\r\\n I will be giving you a tour for our chapel.\");\n-\t\t\tcm.getPlayer().startWedding();\n-\t\t\n-        }\n-    }\n-}\n\\ No newline at end of file"}, {"sha": "97cff6d4e75129b14ca1da7c09a11388022f22fb", "filename": "handbook/Map.txt", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/handbook/Map.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/handbook/Map.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/handbook/Map.txt?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -4334,6 +4334,7 @@ etc\n 926023400 - Hidden Street - Nett's Pyramid\n 926023500 - Hidden Street - Nett's Pyramid\n 930010000 - Hidden Street - Dangerous Library\n+977777777 - Hidden Street - Developers' Headquarters\n \n singapore\n "}, {"sha": "be7ea355075adf8b6bbfba3cd43208efd8b4e442", "filename": "nbproject/private/private.xml", "status": "modified", "additions": 13, "deletions": 1, "changes": 14, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/nbproject/private/private.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/nbproject/private/private.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/nbproject/private/private.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -2,6 +2,18 @@\n <project-private xmlns=\"http://www.netbeans.org/ns/project-private/1\">\n     <editor-bookmarks xmlns=\"http://www.netbeans.org/ns/editor-bookmarks/2\" lastBookmarkId=\"2\"/>\n     <open-files xmlns=\"http://www.netbeans.org/ns/projectui-open-files/2\">\n-        <group/>\n+        <group>\n+            <file>file:/C:/Nexon/MapleSolaxia/HeavenMS/scripts/reactor/2119006.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/HeavenMS/scripts/reactor/2119002.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/HeavenMS/scripts/reactor/2119003.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/HeavenMS/scripts/reactor/2229009.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/HeavenMS/src/server/maps/MapleMap.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/HeavenMS/scripts/reactor/2119001.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/HeavenMS/scripts/reactor/2119004.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/HeavenMS/scripts/reactor/2119000.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/HeavenMS/scripts/reactor/2119005.js</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/HeavenMS/src/scripting/reactor/ReactorScriptManager.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/HeavenMS/src/scripting/reactor/ReactorActionManager.java</file>\n+        </group>\n     </open-files>\n </project-private>"}, {"sha": "3ffa95d899b8fe6de77430e0ad48072b1c0f0b23", "filename": "scripts/event/AirPlane.js", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/event/AirPlane.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/event/AirPlane.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/AirPlane.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,16 +1,17 @@\n importPackage(Packages.tools);\n \n-//Time Setting is in millisecond\n-var closeTime = 24 * 1000; //The time to close the gate\n-var beginTime = 30 * 1000; //The time to begin the ride\n-var rideTime = 15 * 1000; //The time that require move to destination\n var KC_bfd;\n var Plane_to_CBD;\n var CBD_docked;\n var CBD_bfd;\n var Plane_to_KC;\n var KC_docked;\n \n+//Time Setting is in millisecond\n+var closeTime = 4 * 60 * 1000; //The time to close the gate\n+var beginTime = 5 * 60 * 1000; //The time to begin the ride\n+var  rideTime = 1 * 60 * 1000; //The time that require move to destination\n+\n function init() {\n     KC_bfd = em.getChannelServer().getMapFactory().getMap(540010100);\n     CBD_bfd = em.getChannelServer().getMapFactory().getMap(540010001);"}, {"sha": "74d3b1cce2b3b006b9ce11e3bf2554b1d6ca4b6c", "filename": "scripts/event/Boats.js", "status": "modified", "additions": 8, "deletions": 7, "changes": 15, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/event/Boats.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/event/Boats.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/Boats.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -2,13 +2,6 @@ importPackage(Packages.client);\n importPackage(Packages.tools);\n importPackage(Packages.server.life);\n \n-//Time Setting is in millisecond\n-var closeTime = 50 * 1000; //The time to close the gate\n-var beginTime = 60 * 1000; //The time to begin the ride\n-var rideTime = 120 * 1000; //The time that require move to destination\n-var invasionStartTime = 30 * 1000; //The time to balrog ship approach\n-var invasionDelayTime = 15 * 1000; //The time to balrog ship approach\n-var invasionDelay = 5 * 1000; //The time that spawn balrog\n var Orbis_btf;\n var Boat_to_Orbis;\n var Orbis_Boat_Cabin;\n@@ -17,6 +10,14 @@ var Ellinia_btf;\n var Ellinia_Boat_Cabin;\n var Ellinia_docked;\n \n+//Time Setting is in millisecond\n+var closeTime = 4 * 60 * 1000; //The time to close the gate\n+var beginTime = 5 * 60 * 1000; //The time to begin the ride\n+var rideTime = 10 * 60 * 1000; //The time that require move to destination\n+var invasionStartTime = 3 * 60 * 1000; //The time to balrog ship approach\n+var invasionDelayTime = 1 * 60 * 1000; //The time to balrog ship approach\n+var invasionDelay = 5 * 1000; //The time that spawn balrog\n+\n function init() {\n     Orbis_btf = em.getChannelServer().getMapFactory().getMap(200000112);\n     Ellinia_btf = em.getChannelServer().getMapFactory().getMap(101000301);"}, {"sha": "eeea304ce5cf128eee9cdcbe46d439e1de95d0f6", "filename": "scripts/event/Cabin.js", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/event/Cabin.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/event/Cabin.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/Cabin.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -41,17 +41,18 @@\n \n importPackage(Packages.tools);\n \n-//Time Setting is in millisecond\n-var closeTime = 50 * 1000; //The time to close the gate\n-var beginTime = 60 * 1000; //The time to begin the ride\n-var rideTime = 60 * 1000; //The time that require move to destination\n var Orbis_btf;\n var Leafre_btf;\n var Cabin_to_Orbis;\n var Cabin_to_Leafre;\n var Orbis_docked;\n var Leafre_docked;\n \n+//Time Setting is in millisecond\n+var closeTime = 4 * 60 * 1000; //The time to close the gate\n+var beginTime = 5 * 60 * 1000; //The time to begin the ride\n+var  rideTime = 5 * 60 * 1000; //The time that require move to destination\n+\n function init() {\n     Orbis_btf = em.getChannelServer().getMapFactory().getMap(200000132);\n     Leafre_btf = em.getChannelServer().getMapFactory().getMap(240000111);"}, {"sha": "e6940c617698a376a3feef18a3afff5139ddc2c5", "filename": "scripts/event/Genie.js", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/event/Genie.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/event/Genie.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/Genie.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -21,17 +21,18 @@\n */\n importPackage(Packages.tools);\n \n-//Time Setting is in millisecond\n-var closeTime = 50 * 1000; //The time to close the gate\n-var beginTime = 60 * 1000; //The time to begin the ride\n-var rideTime = 60 * 1000; //The time that require move to destination\n var Orbis_btf;\n var Genie_to_Orbis;\n var Orbis_docked;\n var Ariant_btf;\n var Genie_to_Ariant;\n var Ariant_docked;\n \n+//Time Setting is in millisecond\n+var closeTime = 4 * 60 * 1000; //The time to close the gate\n+var beginTime = 5 * 60 * 1000; //The time to begin the ride\n+var  rideTime = 5 * 60 * 1000; //The time that require move to destination\n+\n function init() {\n     Orbis_btf = em.getChannelServer().getMapFactory().getMap(200000152);\n     Ariant_btf = em.getChannelServer().getMapFactory().getMap(260000110);"}, {"sha": "04fa391948e88b8afa555fc00949cfc8ccfaf868", "filename": "scripts/event/Hak.js", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/event/Hak.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/event/Hak.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/Hak.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -7,9 +7,11 @@ var myRide;\n var returnMap;\n var exitMap;\n var map;\n-var timeOnRide = 60; //Seconds\n var onRide;\n \n+//Time Setting is in millisecond\n+var rideTime = 60 * 1000;\n+\n function init() {}\n \n function setup() {\n@@ -29,8 +31,9 @@ function playerEntry(eim, player) {\n         returnMap = eim.getMapFactory().getMap(returnTo[myRide]);\n         onRide = eim.getMapFactory().getMap(birdRide[myRide]);\n         player.changeMap(onRide, onRide.getPortal(0));\n-        player.getClient().getSession().write(MaplePacketCreator.getClock(timeOnRide));\n-        eim.schedule(\"timeOut\", timeOnRide * 1000);\n+        \n+        player.getClient().getSession().write(MaplePacketCreator.getClock(rideTime / 1000));\n+        eim.schedule(\"timeOut\", rideTime);\n }\n \n function timeOut(eim) {"}, {"sha": "cde2367610104352e9eb5f91cb126bba8f416ec1", "filename": "scripts/event/KerningTrain.js", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/event/KerningTrain.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/event/KerningTrain.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/KerningTrain.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -7,9 +7,11 @@ var myRide;\n var returnMap;\n var exitMap;\n var map;\n-var timeOnRide = 10; //Seconds\n var onRide;\n \n+//Time Setting is in millisecond\n+var rideTime = 10 * 1000;\n+\n function init() {}\n \n function setup() {\n@@ -30,8 +32,10 @@ function playerEntry(eim, player) {\n         returnMap = eim.getMapFactory().getMap(returnTo[myRide]);\n         onRide = eim.getMapFactory().getMap(trainRide[myRide]);\n         player.changeMap(onRide, onRide.getPortal(0));\n-        player.getClient().getSession().write(MaplePacketCreator.getClock(timeOnRide));\n-        eim.schedule(\"timeOut\", timeOnRide * 1000);\n+        \n+        player.getClient().getSession().write(MaplePacketCreator.getClock(rideTime / 1000));\n+        player.getClient().getSession().write(MaplePacketCreator.earnTitleMessage(\"The next stop is at Kerning \" + (myRide == 0 ? \"Square\" : \"Subway\") + \" Station. The exit is to your left.\"));\n+        eim.schedule(\"timeOut\", rideTime);\n }\n \n function timeOut(eim) {"}, {"sha": "b3b81e73fcc307dbd5e7d3682d736a5a0983c880", "filename": "scripts/event/Subway.js", "status": "modified", "additions": 13, "deletions": 4, "changes": 17, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/event/Subway.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/event/Subway.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/Subway.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,14 +1,17 @@\n-//Time Setting is in millisecond\n-var closeTime = 24 * 1000; //[24 seconds] The time to close the gate\n-var beginTime = 30 * 1000; //[30 seconds] The time to begin the ride\n-var rideTime = 30 * 1000; //[30 seconds] The time that require move to destination\n+importPackage(Packages.tools);\n+\n var KC_Waiting;\n var Subway_to_KC;\n var KC_docked;\n var NLC_Waiting;\n var Subway_to_NLC;\n var NLC_docked;\n \n+//Time Setting is in millisecond\n+var closeTime =     50 * 1000; //The time to close the gate\n+var beginTime = 1 * 60 * 1000; //The time to begin the ride\n+var  rideTime = 4 * 60 * 1000; //The time that require move to destination\n+\n function init() {\n     KC_Waiting = em.getChannelServer().getMapFactory().getMap(600010004);\n     NLC_Waiting = em.getChannelServer().getMapFactory().getMap(600010002);\n@@ -31,6 +34,9 @@ function stopEntry() {\n }\n \n function takeoff() {\n+    KC_docked.broadcastMessage(MaplePacketCreator.playSound(\"subway/whistle\"));\n+    NLC_docked.broadcastMessage(MaplePacketCreator.playSound(\"subway/whistle\"));\n+    \n     em.setProperty(\"docked\",\"false\");\n     KC_Waiting.warpEveryone(Subway_to_NLC.getId());\n     NLC_Waiting.warpEveryone(Subway_to_KC.getId());\n@@ -41,6 +47,9 @@ function arrived() {\n     Subway_to_KC.warpEveryone(KC_docked.getId(), 0);\n     Subway_to_NLC.warpEveryone(NLC_docked.getId(), 0);\n     scheduleNew();\n+    \n+    KC_docked.broadcastMessage(MaplePacketCreator.playSound(\"subway/whistle\"));\n+    NLC_docked.broadcastMessage(MaplePacketCreator.playSound(\"subway/whistle\"));\n }\n \n function cancelSchedule() {"}, {"sha": "95f2c748898b33628aa09a4aac85a00fd069ee81", "filename": "scripts/event/Trains.js", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/event/Trains.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/event/Trains.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/Trains.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -10,9 +10,9 @@ var Orbis_Station;\n var Ludibrium_Station;\n \n //Time Setting is in millisecond\n-var closeTime = 50 * 1000; //The time to close the gate\n-var beginTime = 60 * 1000; //The time to begin the ride\n-var rideTime = 60 * 1000; //The time that require move to destination\n+var closeTime = 4 * 60 * 1000; //The time to close the gate\n+var beginTime = 5 * 60 * 1000; //The time to begin the ride\n+var  rideTime = 5 * 60 * 1000; //The time that require move to destination\n \n function init() {\n     Orbis_btf = em.getChannelServer().getMapFactory().getMap(200000122);"}, {"sha": "62d66449a1d61e9e3a2a1c74cbbedd16fc32e43a", "filename": "scripts/event/elevator.js", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/event/elevator.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/event/elevator.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/elevator.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -19,6 +19,11 @@ GNU Affero General Public License for more details.\n You should have received a copy of the GNU Affero General Public License\n along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n+\n+//Time Setting is in millisecond\n+var beginTime = 60 * 1000; //The time to begin the ride\n+var  rideTime = 60 * 1000; //The time that require move to destination\n+\n function init() {\n     em.getChannelServer().getMapFactory().getMap(222020100).resetReactors();\n     em.getChannelServer().getMapFactory().getMap(222020200).resetReactors();\n@@ -32,29 +37,29 @@ function scheduleNew() {\n     \n     em.getChannelServer().getMapFactory().getMap(222020100).resetReactors();\n     em.getChannelServer().getMapFactory().getMap(222020200).setReactorState();\n-    em.schedule(\"goingUpNow\", 50000);\n+    em.schedule(\"goingUpNow\", beginTime);\n }\n \n function goUp() {\n-    em.schedule(\"goingUpNow\", 50000); // might be 60\n+    em.schedule(\"goingUpNow\", beginTime);\n }\n \n function goDown() {\n-    em.schedule(\"goingDownNow\", 50000); // might be 60\n+    em.schedule(\"goingDownNow\", beginTime);\n }\n \n function goingUpNow() {\n     em.getChannelServer().getMapFactory().getMap(222020110).warpEveryone(222020111);\n     em.setProperty(\"goingUp\", \"true\");\n-    em.schedule(\"isUpNow\", 55000);\n+    em.schedule(\"isUpNow\", rideTime);\n     \n     em.getChannelServer().getMapFactory().getMap(222020100).setReactorState();\n }\n \n function goingDownNow() {\n     em.getChannelServer().getMapFactory().getMap(222020210).warpEveryone(222020211);\n     em.setProperty(\"goingDown\", \"true\");\n-    em.schedule(\"isDownNow\", 55000);\n+    em.schedule(\"isDownNow\", rideTime);\n     \n     em.getChannelServer().getMapFactory().getMap(222020200).setReactorState();\n }"}, {"sha": "ae6aa9b7498e33ad09ec20c015e40edfd89dfb2f", "filename": "scripts/npc/1012100.js", "status": "modified", "additions": 73, "deletions": 138, "changes": 211, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/1012100.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/1012100.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1012100.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -29,36 +29,55 @@ status = -1;\n actionx = {\"1stJob\" : false, \"2ndjob\" : false, \"3thJobI\" : false, \"3thJobC\" : false};\n job = 310;\n \n+spawnPnpc = false;\n+spawnPnpcFee = 7000000;\n+jobType = 3;\n+\n+function numberWithCommas(x) {\n+    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n+}\n+\n function start() {\n-    if (cm.getJobId() == 0) {\n-        actionx[\"1stJob\"] = true;\n-        if (cm.getLevel() >= 10)\n-            cm.sendNext(\"So you decided to become a #rBowman#k?\");\n-        else {\n-            cm.sendOk(\"Train a bit more and I can show you the way of the #rBowman#k.\");\n-            cm.dispose();\n+    if (parseInt(cm.getJobId() / 100) == jobType && cm.canSpawnPlayerNpc(Packages.constants.GameConstants.getHallOfFameMapid(cm.getJob()))) {\n+        spawnPnpc = true;\n+        \n+        var sendStr = \"You have walked a long way to reach the power, wisdom and courage you hold today, didn't you? What do you say about having right now #ra NPC on the Hall of Fame holding the current image of your character#k? Do you like it?\";\n+        if(spawnPnpcFee > 0) {\n+            sendStr += \" I can do it for you, for the fee of #b \" + numberWithCommas(spawnPnpcFee) + \" mesos.#k\";\n         }\n-    } else if (cm.getLevel() >= 30 && cm.getJobId() == 300) {\n-        actionx[\"2ndJob\"] = true;\n-        if (cm.haveItem(4031012))\n-            cm.sendNext(\"Haha...I knew you'd breeze through that test. I'll admit, you are a great bowman. I'll make you much stronger than you're right now. before that, however... you;ll need to choose one of two paths given to you. It'll be a difficult decision for you to make, but... if there's any question to ask, please do so.\");\n-        else if (cm.haveItem(4031011)){\n-            cm.sendOk(\"Go and see the #b#p1072002##k.\");\n-            cm.dispose();\n-        } else\n-            cm.sendYesNo(\"Hmmm... you have grown a lot since I last saw you. I don't see the weakling I saw before, and instead, look much more like a bowman now. Well, what do you think? Don't you want to get even more powerful than that? Pass a simple test and I'll do just that for you. Do you want to do it?\");\n-    } else if (actionx[\"3thJobI\"] || (cm.getPlayer().gotPartyQuestItem(\"JB3\") && cm.getLevel() >= 70 && cm.getJobId() % 10 == 0 && parseInt(cm.getJobId() / 100) == 3 && !cm.getPlayer().gotPartyQuestItem(\"JBP\"))){\n-        actionx[\"3thJobI\"] = true;\n-        cm.sendNext(\"There you are. A few days ago, #b#p2020010##k of Ossyria talked to me about you. I see that you are interested in making the leap to the amazing world of the third job advancement for archers. To achieve that goal, I will have to test your strength in order to see whether you are worthy of the advancement. There is an opening in the middle of a deep forest in Victoria Island, where it'll lead you to a secret passage. Once inside, you'll face a clone of myself. Your task is to defeat her and bring #b#t4031059##k back with you.\");\n-    } else if (cm.getPlayer().gotPartyQuestItem(\"JBP\") && !cm.haveItem(4031059)){\n-        cm.sendNext(\"Please, bring me the #b#t4031059##k.\");\n-        cm.dispose();\n-    } else if (cm.haveItem(4031059) && cm.getPlayer().gotPartyQuestItem(\"JBP\")){\n-        actionx[\"3thJobC\"] = true;\n-        cm.sendNext(\"Nice work. You have defeated my clone and brought #b#t4031059##k back safely. You have now proven yourself worthy of the 3rd job advancement from the physical standpoint. Now you should give this necklace to #b#p2020011##k in Ossyria to take on the second part of the test. Good luck. You'll need it.\");\n+        \n+        cm.sendYesNo(sendStr);\n     } else {\n-        cm.sendOk(\"You have chosen wisely.\");\n-        cm.dispose();\n+        if (cm.getJobId() == 0) {\n+            actionx[\"1stJob\"] = true;\n+            if (cm.getLevel() >= 10)\n+                cm.sendNext(\"So you decided to become a #rBowman#k?\");\n+            else {\n+                cm.sendOk(\"Train a bit more and I can show you the way of the #rBowman#k.\");\n+                cm.dispose();\n+            }\n+        } else if (cm.getLevel() >= 30 && cm.getJobId() == 300) {\n+            actionx[\"2ndJob\"] = true;\n+            if (cm.haveItem(4031012))\n+                cm.sendNext(\"Haha...I knew you'd breeze through that test. I'll admit, you are a great bowman. I'll make you much stronger than you're right now. before that, however... you;ll need to choose one of two paths given to you. It'll be a difficult decision for you to make, but... if there's any question to ask, please do so.\");\n+            else if (cm.haveItem(4031011)){\n+                cm.sendOk(\"Go and see the #b#p1072002##k.\");\n+                cm.dispose();\n+            } else\n+                cm.sendYesNo(\"Hmmm... you have grown a lot since I last saw you. I don't see the weakling I saw before, and instead, look much more like a bowman now. Well, what do you think? Don't you want to get even more powerful than that? Pass a simple test and I'll do just that for you. Do you want to do it?\");\n+        } else if (actionx[\"3thJobI\"] || (cm.getPlayer().gotPartyQuestItem(\"JB3\") && cm.getLevel() >= 70 && cm.getJobId() % 10 == 0 && parseInt(cm.getJobId() / 100) == 3 && !cm.getPlayer().gotPartyQuestItem(\"JBP\"))){\n+            actionx[\"3thJobI\"] = true;\n+            cm.sendNext(\"There you are. A few days ago, #b#p2020010##k of Ossyria talked to me about you. I see that you are interested in making the leap to the amazing world of the third job advancement for archers. To achieve that goal, I will have to test your strength in order to see whether you are worthy of the advancement. There is an opening in the middle of a deep forest in Victoria Island, where it'll lead you to a secret passage. Once inside, you'll face a clone of myself. Your task is to defeat her and bring #b#t4031059##k back with you.\");\n+        } else if (cm.getPlayer().gotPartyQuestItem(\"JBP\") && !cm.haveItem(4031059)){\n+            cm.sendNext(\"Please, bring me the #b#t4031059##k.\");\n+            cm.dispose();\n+        } else if (cm.haveItem(4031059) && cm.getPlayer().gotPartyQuestItem(\"JBP\")){\n+            actionx[\"3thJobC\"] = true;\n+            cm.sendNext(\"Nice work. You have defeated my clone and brought #b#t4031059##k back safely. You have now proven yourself worthy of the 3rd job advancement from the physical standpoint. Now you should give this necklace to #b#p2020011##k in Ossyria to take on the second part of the test. Good luck. You'll need it.\");\n+        } else {\n+            cm.sendOk(\"You have chosen wisely.\");\n+            cm.dispose();\n+        }\n     }\n }\n \n@@ -69,14 +88,37 @@ function action(mode, type, selection) {\n     if (status == -1){\n         start();\n         return;\n-    } else if (mode != 1 || status == 7 && type != 1 || (actionx[\"1stJob\"] && status == 4) || (cm.haveItem(4031008) && status == 2) || (actionx[\"3thJobI\"] && status == 1)){\n-        if (mode == 0 && status == 2 && type == 1)\n-            cm.sendOk(\"You know there is no other choice...\");\n-        if (!(mode == 0 && type != 1)){\n+    } else {\n+        if(spawnPnpc) {\n+            if(mode > 0) {\n+                if(cm.getMeso() < spawnPnpcFee) {\n+                    cm.sendOk(\"Sorry, you don't have enough mesos to purchase your place on the Hall of Fame.\");\n+                    cm.dispose();\n+                    return;\n+                }\n+                \n+                if(Packages.server.life.MaplePlayerNPC.spawnPlayerNPC(Packages.constants.GameConstants.getHallOfFameMapid(cm.getJob()), cm.getPlayer())) {\n+                    cm.sendOk(\"There you go! Hope you will like it.\");\n+                    cm.gainMeso(-spawnPnpcFee);\n+                } else {\n+                    cm.sendOk(\"Sorry, the Hall of Fame is currently full...\");\n+                }\n+            }\n+            \n             cm.dispose();\n             return;\n+        } else {\n+            if (mode != 1 || status == 7 && type != 1 || (actionx[\"1stJob\"] && status == 4) || (cm.haveItem(4031008) && status == 2) || (actionx[\"3thJobI\"] && status == 1)){\n+                if (mode == 0 && status == 2 && type == 1)\n+                    cm.sendOk(\"You know there is no other choice...\");\n+                if (!(mode == 0 && type != 1)){\n+                    cm.dispose();\n+                    return;\n+                }\n+            }\n         }\n     }\n+    \n     if (actionx[\"1stJob\"]){\n         if (status == 0)\n             cm.sendNextPrev(\"It is an important and final choice. You will not be able to turn back.\");\n@@ -161,110 +203,3 @@ function action(mode, type, selection) {\n         cm.dispose();\n     }\n }\n-\n-/*\n-function start() {\n-    if (cm.getJobId() == 0) {\n-        actionx[\"1stJob\"] = true;\n-        if (cm.getLevel() >= 10)\n-            \n-        else {\n-            \n-            cm.dispose();\n-        }\n-    } else {\n-        if (cm.getLevel() >= 30 && cm.getJobId() == 300) {\n-            actionx[\"2ndJob\"] = true;\n-            if (cm.haveItem(4031012))\n-                \n-            else if (cm.haveItem(4031010)){\n-                cm.sendOk(\"Go and see the #b#p1072002##k.\");\n-                cm.dispose();\n-            } else\n-                \n-        } else if (cm.isQuestStarted(100100)) {\n-            if (cm.isQuestCompleted(100101))\n-                cm.sendOk(\"Alright, now take this to #bRene#k.\");\n-            else {\n-                \n-                cm.startQuest(100101);\n-            }\n-            cm.dispose();\n-        } else {\n-            cm.sendOk(\"You have chosen wisely.\");\n-            cm.dispose();\n-        }\n-    }\n-}\n-\n-function action(mode, type, selection) {\n-    status++;\n-    if (mode == 0 && type != 1)\n-        status -= 2;\n-    if (status == -1){\n-        start();\n-        return;\n-    } else if (mode != 1 || status == 7 && type != 1 || (cm.haveItem(4031010) && status == 2)){\n-        if (mode == 0 && status == 2)\n-            cm.sendOk(\"Make up your mind and visit me again.\");\n-        if (!(mode == 0 && type != 1)){\n-            cm.dispose();\n-            return;\n-        }\n-    }\n-    if (actionx[\"1stJob\"]){\n-        if (status == 0)\n-            \n-        else if (status == 1)\n-            \n-        else if (status == 2) {\n-            \n-                cm.sendOk(\"So be it! Now go, and go with pride.\");\n-            } else {\n-                cm.sendNext(\"Make some room in your inventory and talk to me again.\");\n-                cm.dispose();\n-            }\n-        }\n-    } else if(actionx[\"2ndJob\"]){\n-        if (status == 0){\n-            if (cm.haveItem(4031012))\n-                cm.sendSimple(\"Alright, when you have made your decision, click on [I'll choose my occupation] at the bottom.#b\\r\\n#L0#Please explain to me what being the Hunter is all about.\\r\\n#L1#Please explain to me what being the Crossbowman is all about.\\r\\n#L2#I'll choose my occupation!\");\n-            else {\n-                cm.sendNext(\"Good decision. You look strong, but I need to see if you really are strong enough to pass the test, it's not a difficult test, so you'll do just fine. Here, take my letter first... make sure you don't lose it!\");\n-\t\tif(!cm.isQuestStarted(100000)) cm.startQuest(100000);\n-\t    }\n-        } else if (status == 1){\n-            if (!cm.haveItem(4031012)){\n-                if (cm.canHold(4031010)){\n-                    if (!cm.haveItem(4031010))\n-                        cm.gainItem(4031010, 1);\n-                    cm.sendNextPrev(\"Please get this letter to #b#p1072002##k who's around #b#m106010000##k near Henesys. She is taking care of the job of an instructor in place of me. Give her the letter and she'll test you in place of me. Best of luck to you.\");\n-                } else {\n-                    cm.sendNext(\"Please, make some space in your inventory.\");\n-                    cm.dispose();\n-                }\n-            } else {\n-                if (selection < 2){\n-                    cm.sendNext(\"Not done.\");\n-                    status -= 2;\n-                } else\n-                    cm.sendSimple(\"Now... have you made up your mind? Please choose the job you'd like to select for your 2nd job advancement. #b\\r\\n#L0#Hunter\\r\\n#L1#Crossbowman\");\n-            }\n-        } else if (status == 2){\n-            job += selection * 10;\n-            cm.sendYesNo(\"So you want to make the second job advancement as the \" + (job == 310 ? \"#bHunter#k\" : \"#bCrossbowman#k\") + \"? You know you won't be able to choose a different job for the 2nd job advancement once you make your desicion here, right?\");\n-        } else if (status == 3){\n-            if (cm.haveItem(4031012))\n-                cm.gainItem(4031012, -1);\n-\t    cm.completeQuest(100002);\n-            cm.sendNext(\"Alright, you're the \" + (job == 310 ? \"#bHunter#k\" : \"#bCrossbowman#k\") + \" from here on out. Hunters are the intelligent bunch with incredible vision, able to pierce the arrow through the heart of the monsters with ease... please train yourself each and everyday. I'll help you become even stronger than you already are.\");\n-            if (cm.getJobId() != job)\n-                cm.changeJobById(job);\n-        } else if (status == 4)\n-            cm.sendNextPrev(\"I have just given you a book that gives you the list of skills you can acquire as a \" + (job == 310 ? \"hunter\" : \"crossbowman\") + \". Also your etc inventory has expanded by adding another row to it. Your max HP and MP have increased, too. Go check and see for it yourself.\");\n-        else if (status == 5)\n-            cm.sendNextPrev(\"I have also given you a little bit of #bSP#k. Open the #bSkill Menu#k located at the bottomleft corner. you'll be able to boost up the newer acquired 2nd level skills. A word of warning, though. You can't boost them up all at once. Some of the skills are only available after you have learned other skills. Make sure yo remember that.\");\n-        else if (status == 6)\n-            cm.sendNextPrev((job == 310 ? \"Hunter\" : \"Crossbowman\") + \" need to be strong. But remember that you can't abuse that power and use it on a weakling. Please use your enormous power the right way, because... for you to use that the right way, that is much harden than just getting stronger. Please find me after you have advanced much further. I'll be waiting for you.\");\n-    }\n-}*/\n\\ No newline at end of file"}, {"sha": "090985a05eb97c37f0c7d8921d3a683be556c24d", "filename": "scripts/npc/1022000.js", "status": "modified", "additions": 73, "deletions": 31, "changes": 104, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/1022000.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/1022000.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1022000.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -30,36 +30,55 @@ status = -1;\n actionx = {\"1stJob\" : false, \"2ndjob\" : false, \"3thJobI\" : false, \"3thJobC\" : false};\n job = 110;\n \n+spawnPnpc = false;\n+spawnPnpcFee = 7000000;\n+jobType = 1;\n+\n+function numberWithCommas(x) {\n+    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n+}\n+\n function start() {\n-    if (cm.getJobId() == 0) {\n-        actionx[\"1stJob\"] = true;\n-        if (cm.getLevel() >= 10)\n-            cm.sendNext(\"Do you want to become a Warrior? You need to meet some criteria in order to do so.#b You should be at least in level 10, with at least 35 in STR#k. Let's see...\");\n-        else {\n-            cm.sendOk(\"Train a bit more and I can show you the way of the #rWarrior#k.\");\n-            cm.dispose();\n+    if (parseInt(cm.getJobId() / 100) == jobType && cm.canSpawnPlayerNpc(Packages.constants.GameConstants.getHallOfFameMapid(cm.getJob()))) {\n+        spawnPnpc = true;\n+        \n+        var sendStr = \"You have walked a long way to reach the power, wisdom and courage you hold today, didn't you? What do you say about having right now #ra NPC on the Hall of Fame holding the current image of your character#k? Do you like it?\";\n+        if(spawnPnpcFee > 0) {\n+            sendStr += \" I can do it for you, for the fee of #b \" + numberWithCommas(spawnPnpcFee) + \" mesos.#k\";\n         }\n-    } else if (cm.getLevel() >= 30 && cm.getJobId() == 100) {\n-        actionx[\"2ndJob\"] = true;\n-        if (cm.haveItem(4031012))\n-            cm.sendNext(\"Oh... you came back safe! I knew you'd breeze through. I'll admit, you are a strong, formidable Warrior! Alright, I'll make you an even stronger Warrior than you already are. But before that, you need to choose one of the three paths that you'll be given. It isn't going to be easy, so if you have and questions, feel free to ask.\");\n-        else if (cm.haveItem(4031008)){\n-            cm.sendOk(\"Go and see the #b#p1072000##k.\");\n-            cm.dispose();\n-        } else\n-            cm.sendNext(\"The progress you have made is astonishing.\");\n-    } else if (actionx[\"3thJobI\"] || (cm.getPlayer().gotPartyQuestItem(\"JB3\") && cm.getLevel() >= 70 && (cm.getJobId() % 10 == 0 && parseInt(cm.getJobId() / 100) == 1 && !cm.getPlayer().gotPartyQuestItem(\"JBP\")))) {\n-        actionx[\"3thJobI\"] = true;\n-        cm.sendNext(\"I was waiting for you. Few days ago, I heard about you from #b#p2020008##k in Ossyria. Well... I'd like to test your strength. There is a secret passage near the ant tunnel. Nobody but you can go into that passage. If you go into the passage, you will meat my the other self. Beat him and bring #b#t4031059##k to me.\");\n-    } else if (cm.getPlayer().gotPartyQuestItem(\"JBP\") && !cm.haveItem(4031059)){\n-        cm.sendNext(\"Please, bring me the #b#t4031059##k.\");\n-        cm.dispose();\n-    } else if (cm.haveItem(4031059) && cm.getPlayer().gotPartyQuestItem(\"JBP\")){\n-        actionx[\"3thJobC\"] = true;\n-        cm.sendNext(\"Wow... You beat my the other self and brought #b#t4031059##k to me. Good! this surely proves your strength. In terms of strength, you are ready to advance to 3th job. As I promised, I will give #b#t4031057##k to you. Give this necklace to #b#p2020008##k in Ossyria and you will be able to take second test of 3rd job advancement. Good Luck~\");\n+        \n+        cm.sendYesNo(sendStr);\n     } else {\n-        cm.sendOk(\"You have chosen wisely.\");\n-        cm.dispose();\n+        if (cm.getJobId() == 0) {\n+            actionx[\"1stJob\"] = true;\n+            if (cm.getLevel() >= 10)\n+                cm.sendNext(\"Do you want to become a Warrior? You need to meet some criteria in order to do so.#b You should be at least in level 10, with at least 35 in STR#k. Let's see...\");\n+            else {\n+                cm.sendOk(\"Train a bit more and I can show you the way of the #rWarrior#k.\");\n+                cm.dispose();\n+            }\n+        } else if (cm.getLevel() >= 30 && cm.getJobId() == 100) {\n+            actionx[\"2ndJob\"] = true;\n+            if (cm.haveItem(4031012))\n+                cm.sendNext(\"Oh... you came back safe! I knew you'd breeze through. I'll admit, you are a strong, formidable Warrior! Alright, I'll make you an even stronger Warrior than you already are. But before that, you need to choose one of the three paths that you'll be given. It isn't going to be easy, so if you have and questions, feel free to ask.\");\n+            else if (cm.haveItem(4031008)){\n+                cm.sendOk(\"Go and see the #b#p1072000##k.\");\n+                cm.dispose();\n+            } else\n+                cm.sendNext(\"The progress you have made is astonishing.\");\n+        } else if (actionx[\"3thJobI\"] || (cm.getPlayer().gotPartyQuestItem(\"JB3\") && cm.getLevel() >= 70 && (cm.getJobId() % 10 == 0 && parseInt(cm.getJobId() / 100) == 1 && !cm.getPlayer().gotPartyQuestItem(\"JBP\")))) {\n+            actionx[\"3thJobI\"] = true;\n+            cm.sendNext(\"I was waiting for you. Few days ago, I heard about you from #b#p2020008##k in Ossyria. Well... I'd like to test your strength. There is a secret passage near the ant tunnel. Nobody but you can go into that passage. If you go into the passage, you will meat my the other self. Beat him and bring #b#t4031059##k to me.\");\n+        } else if (cm.getPlayer().gotPartyQuestItem(\"JBP\") && !cm.haveItem(4031059)){\n+            cm.sendNext(\"Please, bring me the #b#t4031059##k.\");\n+            cm.dispose();\n+        } else if (cm.haveItem(4031059) && cm.getPlayer().gotPartyQuestItem(\"JBP\")){\n+            actionx[\"3thJobC\"] = true;\n+            cm.sendNext(\"Wow... You beat my the other self and brought #b#t4031059##k to me. Good! this surely proves your strength. In terms of strength, you are ready to advance to 3th job. As I promised, I will give #b#t4031057##k to you. Give this necklace to #b#p2020008##k in Ossyria and you will be able to take second test of 3rd job advancement. Good Luck~\");\n+        } else {\n+            cm.sendOk(\"You have chosen wisely.\");\n+            cm.dispose();\n+        }\n     }\n }\n \n@@ -70,14 +89,37 @@ function action(mode, type, selection) {\n     if (status == -1){\n         start();\n         return;\n-    } else if (mode != 1 || status == 7 && type != 1 || (actionx[\"1stJob\"] && status == 4) || (cm.haveItem(4031008) && status == 2) || (actionx[\"3thJob\"] && status == 1)){\n-        if (mode == 0 && status == 2 && type == 1)\n-            cm.sendOk(\"Make up your mind and visit me again.\");\n-        if (!(mode == 0 && type != 1)){\n+    } else {\n+        if(spawnPnpc) {\n+            if(mode > 0) {\n+                if(cm.getMeso() < spawnPnpcFee) {\n+                    cm.sendOk(\"Sorry, you don't have enough mesos to purchase your place on the Hall of Fame.\");\n+                    cm.dispose();\n+                    return;\n+                }\n+                \n+                if(Packages.server.life.MaplePlayerNPC.spawnPlayerNPC(Packages.constants.GameConstants.getHallOfFameMapid(cm.getJob()), cm.getPlayer())) {\n+                    cm.sendOk(\"There you go! Hope you will like it.\");\n+                    cm.gainMeso(-spawnPnpcFee);\n+                } else {\n+                    cm.sendOk(\"Sorry, the Hall of Fame is currently full...\");\n+                }\n+            }\n+            \n             cm.dispose();\n             return;\n+        } else {\n+            if (mode != 1 || status == 7 && type != 1 || (actionx[\"1stJob\"] && status == 4) || (cm.haveItem(4031008) && status == 2) || (actionx[\"3thJob\"] && status == 1)){\n+                if (mode == 0 && status == 2 && type == 1)\n+                    cm.sendOk(\"Make up your mind and visit me again.\");\n+                if (!(mode == 0 && type != 1)){\n+                    cm.dispose();\n+                    return;\n+                }\n+            }\n         }\n     }\n+    \n     if (actionx[\"1stJob\"]){\n         if (status == 0)\n             cm.sendNextPrev(\"It is an important and final choice. You will not be able to turn back.\");"}, {"sha": "63c3d58bd86c15e2fc15134838fb926a220535b2", "filename": "scripts/npc/1032001.js", "status": "modified", "additions": 73, "deletions": 31, "changes": 104, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/1032001.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/1032001.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1032001.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -30,36 +30,55 @@ status = -1;\n actionx = {\"1stJob\" : false, \"2ndjob\" : false, \"3thJobI\" : false, \"3thJobC\" : false};\n job = 210;\n \n+spawnPnpc = false;\n+spawnPnpcFee = 7000000;\n+jobType = 2;\n+\n+function numberWithCommas(x) {\n+    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n+}\n+\n function start() {\n-    if (cm.getJobId() == 0) {\n-        actionx[\"1stJob\"] = true;\n-        if (cm.getLevel() >= 8)\n-            cm.sendNext(\"Want to be a magician? There are some standards to meet. because we can't just accept EVERYONE in... #bYour level should be at least 8#k, with getting INT as your top priority. Let's see.\");\n-        else {\n-            cm.sendOk(\"Train a bit more and I can show you the way of the #rMagician#k.\");\n-            cm.dispose();\n+    if (parseInt(cm.getJobId() / 100) == jobType && cm.canSpawnPlayerNpc(Packages.constants.GameConstants.getHallOfFameMapid(cm.getJob()))) {\n+        spawnPnpc = true;\n+        \n+        var sendStr = \"You have walked a long way to reach the power, wisdom and courage you hold today, didn't you? What do you say about having right now #ra NPC on the Hall of Fame holding the current image of your character#k? Do you like it?\";\n+        if(spawnPnpcFee > 0) {\n+            sendStr += \" I can do it for you, for the fee of #b \" + numberWithCommas(spawnPnpcFee) + \" mesos.#k\";\n         }\n-    } else if (cm.getLevel() >= 30 && cm.getJobId() == 200) {\n-        actionx[\"2ndJob\"] = true;\n-        if (cm.haveItem(4031012))\n-            cm.sendNext(\"I see you have done well. I will allow you to take the next step on your long road.\");\n-        else if (cm.haveItem(4031009)){\n-            cm.sendOk(\"Go and see the #b#p1072001##k.\");\n-            cm.dispose();\n-        } else\n-            cm.sendNext(\"The progress you have made is astonishing.\");\n-    } else if (actionx[\"3thJobI\"] || (cm.getPlayer().gotPartyQuestItem(\"JB3\") && cm.getLevel() >= 70 && cm.getJobId() % 10 == 0 && parseInt(cm.getJobId() / 100) == 2 && !cm.getPlayer().gotPartyQuestItem(\"JBP\"))){\n-        actionx[\"3thJobI\"] = true;\n-        cm.sendNext(\"There you are. A few days ago, #b#p2020009##k of Ossyria talked to me about you. I see that you are interested in making the leap to the enlightened of the third job advancement for magicians. To archieve that goal, I will have to test your strength in order to see whether you are worthy of the advancement. There is an opening in the middle of a deep forest of evil in Victoria Island, where it'll lead you to a secret passage. Once inside, you'll face a clone of myself. Your task is to defeat him and bring #b#t4031059##k back with you.\");\n-    } else if (cm.getPlayer().gotPartyQuestItem(\"JBP\") && !cm.haveItem(4031059)){\n-        cm.sendNext(\"Please, bring me the #b#t4031059##k from my clone. You can find him inside a hole in space which is deep in a forest of evil.\");\n-        cm.dispose();\n-    } else if (cm.haveItem(4031059) && cm.getPlayer().gotPartyQuestItem(\"JBP\")){\n-        actionx[\"3thJobC\"] = true;\n-        cm.sendNext(\"Nice work. You have defeated my clone and brought #b#t4031059##k back safely. You have now proven yourself worthy of the 3rd job advancement from the physical standpoint. Now you should give this necklace to #b#p2020011##k in Ossyria to take on the second part of the test. Good luck. You'll need it.\");\n+        \n+        cm.sendYesNo(sendStr);\n     } else {\n-        cm.sendOk(\"You have chosen wisely.\");\n-        cm.dispose();\n+        if (cm.getJobId() == 0) {\n+            actionx[\"1stJob\"] = true;\n+            if (cm.getLevel() >= 8)\n+                cm.sendNext(\"Want to be a magician? There are some standards to meet. because we can't just accept EVERYONE in... #bYour level should be at least 8#k, with getting INT as your top priority. Let's see.\");\n+            else {\n+                cm.sendOk(\"Train a bit more and I can show you the way of the #rMagician#k.\");\n+                cm.dispose();\n+            }\n+        } else if (cm.getLevel() >= 30 && cm.getJobId() == 200) {\n+            actionx[\"2ndJob\"] = true;\n+            if (cm.haveItem(4031012))\n+                cm.sendNext(\"I see you have done well. I will allow you to take the next step on your long road.\");\n+            else if (cm.haveItem(4031009)){\n+                cm.sendOk(\"Go and see the #b#p1072001##k.\");\n+                cm.dispose();\n+            } else\n+                cm.sendNext(\"The progress you have made is astonishing.\");\n+        } else if (actionx[\"3thJobI\"] || (cm.getPlayer().gotPartyQuestItem(\"JB3\") && cm.getLevel() >= 70 && cm.getJobId() % 10 == 0 && parseInt(cm.getJobId() / 100) == 2 && !cm.getPlayer().gotPartyQuestItem(\"JBP\"))){\n+            actionx[\"3thJobI\"] = true;\n+            cm.sendNext(\"There you are. A few days ago, #b#p2020009##k of Ossyria talked to me about you. I see that you are interested in making the leap to the enlightened of the third job advancement for magicians. To archieve that goal, I will have to test your strength in order to see whether you are worthy of the advancement. There is an opening in the middle of a deep forest of evil in Victoria Island, where it'll lead you to a secret passage. Once inside, you'll face a clone of myself. Your task is to defeat him and bring #b#t4031059##k back with you.\");\n+        } else if (cm.getPlayer().gotPartyQuestItem(\"JBP\") && !cm.haveItem(4031059)){\n+            cm.sendNext(\"Please, bring me the #b#t4031059##k from my clone. You can find him inside a hole in space which is deep in a forest of evil.\");\n+            cm.dispose();\n+        } else if (cm.haveItem(4031059) && cm.getPlayer().gotPartyQuestItem(\"JBP\")){\n+            actionx[\"3thJobC\"] = true;\n+            cm.sendNext(\"Nice work. You have defeated my clone and brought #b#t4031059##k back safely. You have now proven yourself worthy of the 3rd job advancement from the physical standpoint. Now you should give this necklace to #b#p2020011##k in Ossyria to take on the second part of the test. Good luck. You'll need it.\");\n+        } else {\n+            cm.sendOk(\"You have chosen wisely.\");\n+            cm.dispose();\n+        }\n     }\n }\n \n@@ -70,14 +89,37 @@ function action(mode, type, selection) {\n     if (status == -1){\n         start();\n         return;\n-    } else if (mode != 1 || status == 7 || (actionx[\"1stJob\"] && status == 4) || (cm.haveItem(4031008) && status == 2) || (actionx[\"3thJobI\"] && status == 1)){\n-        if (mode == 0 && status == 2 && type == 1)\n-            cm.sendOk(\"You know there is no other choice...\");\n-        if (!(mode == 0 && type == 0)){\n+    } else {\n+        if(spawnPnpc) {\n+            if(mode > 0) {\n+                if(cm.getMeso() < spawnPnpcFee) {\n+                    cm.sendOk(\"Sorry, you don't have enough mesos to purchase your place on the Hall of Fame.\");\n+                    cm.dispose();\n+                    return;\n+                }\n+                \n+                if(Packages.server.life.MaplePlayerNPC.spawnPlayerNPC(Packages.constants.GameConstants.getHallOfFameMapid(cm.getJob()), cm.getPlayer())) {\n+                    cm.sendOk(\"There you go! Hope you will like it.\");\n+                    cm.gainMeso(-spawnPnpcFee);\n+                } else {\n+                    cm.sendOk(\"Sorry, the Hall of Fame is currently full...\");\n+                }\n+            }\n+            \n             cm.dispose();\n             return;\n+        } else {\n+            if (mode != 1 || status == 7 || (actionx[\"1stJob\"] && status == 4) || (cm.haveItem(4031008) && status == 2) || (actionx[\"3thJobI\"] && status == 1)){\n+                if (mode == 0 && status == 2 && type == 1)\n+                    cm.sendOk(\"You know there is no other choice...\");\n+                if (!(mode == 0 && type == 0)){\n+                    cm.dispose();\n+                    return;\n+                }\n+            }\n         }\n     }\n+    \n     if (actionx[\"1stJob\"]){\n         if (status == 0)\n             cm.sendYesNo(\"Oh...! You look like someone that can definitely be a part of us... all you need is a little sinister mind, and... yeah... so, what do you think? Wanna be the Magician?\");"}, {"sha": "1ed8462a201af30b62aede13b5823c51f868b98f", "filename": "scripts/npc/1052001.js", "status": "modified", "additions": 75, "deletions": 33, "changes": 108, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/1052001.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/1052001.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1052001.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -29,38 +29,57 @@ status = -1;\n actionx = {\"1stJob\" : false, \"2ndjob\" : false, \"3thJobI\" : false, \"3thJobC\" : false};\n job = 410;\n \n+spawnPnpc = false;\n+spawnPnpcFee = 7000000;\n+jobType = 4;\n+\n+function numberWithCommas(x) {\n+    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n+}\n+\n function start() {\n-    if (cm.getJobId() == 0) {\n-        actionx[\"1stJob\"] = true;\n-        if (cm.getLevel() >= 10)\n-            cm.sendNext(\"Want to be a thief? There are some standards to meet. because we can't just accept EVERYONE in... #bYour level should be at least 10, with your DEX over 25#k. Let's see.\");\n-        else {\n-            cm.sendOk(\"Train a bit more and I can show you the way of the #rThief#k.\");\n-            cm.dispose();\n+    if (parseInt(cm.getJobId() / 100) == jobType && cm.canSpawnPlayerNpc(Packages.constants.GameConstants.getHallOfFameMapid(cm.getJob()))) {\n+        spawnPnpc = true;\n+        \n+        var sendStr = \"You have walked a long way to reach the power, wisdom and courage you hold today, didn't you? What do you say about having right now #ra NPC on the Hall of Fame holding the current image of your character#k? Do you like it?\";\n+        if(spawnPnpcFee > 0) {\n+            sendStr += \" I can do it for you, for the fee of #b \" + numberWithCommas(spawnPnpcFee) + \" mesos.#k\";\n         }\n-    } else if (cm.getLevel() >= 30 && cm.getJobId() == 400) {\n-        actionx[\"2ndJob\"] = true;\n-        if (cm.haveItem(4031012))\n-            cm.sendNext(\"I see you have done well. I will allow you to take the next step on your long road.\");\n-        else if (cm.haveItem(4031011)){\n-            cm.sendOk(\"Go and see the #b#p1072003##k.\");\n-            cm.dispose();\n-        } else\n-            cm.sendNext(\"The progress you have made is astonishing.\");\n-    } else if (actionx[\"3thJobI\"] || (cm.getPlayer().gotPartyQuestItem(\"JB3\") && cm.getLevel() >= 70 && cm.getJobId() % 10 == 0 && parseInt(cm.getJobId() / 100) == 4 && !cm.getPlayer().gotPartyQuestItem(\"JBP\"))){\n-        actionx[\"3thJobI\"] = true;\n-        cm.sendNext(\"There you are. A few days ago, #b#p2020011##k of Ossyria talked to me about you. I see that you are interested in making the leap to the dark world of the third job advancement for thieves. To archieve that goal, I will have to test your strength in orden to see whether you are worthy of the advancement. There is an opening in the middle of a deep swamp in Victoria Island, where it'll lead you to a secret passage. Once inside, you'll face a clone of myself. Your task is to defeat him and bring #b#t4031059##k back with you.\");\n-    } else if (cm.getPlayer().gotPartyQuestItem(\"JBP\") && !cm.haveItem(4031059)){\n-        cm.sendNext(\"Please, bring me the #b#t4031059##k.\");\n-        cm.dispose();\n-    } else if (cm.haveItem(4031059) && cm.getPlayer().gotPartyQuestItem(\"JBP\")){\n-        actionx[\"3thJobC\"] = true;\n-        cm.sendNext(\"Nice work. You have defeated my clone and brought #b#t4031059##k back safely. You have now proven yourself worthy of the 3rd job advancement from the physical standpoint. Now you should give this necklace to #b#p2020011##k in Ossyria to take on the second part of the test. Good luck. You'll need it.\");\n-    } else if (cm.isQuestStarted(6141)) {\n-        cm.warp(910300000, 3);\n+        \n+        cm.sendYesNo(sendStr);\n     } else {\n-        cm.sendOk(\"You have chosen wisely.\");\n-        cm.dispose();\n+        if (cm.getJobId() == 0) {\n+            actionx[\"1stJob\"] = true;\n+            if (cm.getLevel() >= 10)\n+                cm.sendNext(\"Want to be a thief? There are some standards to meet. because we can't just accept EVERYONE in... #bYour level should be at least 10, with your DEX over 25#k. Let's see.\");\n+            else {\n+                cm.sendOk(\"Train a bit more and I can show you the way of the #rThief#k.\");\n+                cm.dispose();\n+            }\n+        } else if (cm.getLevel() >= 30 && cm.getJobId() == 400) {\n+            actionx[\"2ndJob\"] = true;\n+            if (cm.haveItem(4031012))\n+                cm.sendNext(\"I see you have done well. I will allow you to take the next step on your long road.\");\n+            else if (cm.haveItem(4031011)){\n+                cm.sendOk(\"Go and see the #b#p1072003##k.\");\n+                cm.dispose();\n+            } else\n+                cm.sendNext(\"The progress you have made is astonishing.\");\n+        } else if (actionx[\"3thJobI\"] || (cm.getPlayer().gotPartyQuestItem(\"JB3\") && cm.getLevel() >= 70 && cm.getJobId() % 10 == 0 && parseInt(cm.getJobId() / 100) == 4 && !cm.getPlayer().gotPartyQuestItem(\"JBP\"))){\n+            actionx[\"3thJobI\"] = true;\n+            cm.sendNext(\"There you are. A few days ago, #b#p2020011##k of Ossyria talked to me about you. I see that you are interested in making the leap to the dark world of the third job advancement for thieves. To archieve that goal, I will have to test your strength in orden to see whether you are worthy of the advancement. There is an opening in the middle of a deep swamp in Victoria Island, where it'll lead you to a secret passage. Once inside, you'll face a clone of myself. Your task is to defeat him and bring #b#t4031059##k back with you.\");\n+        } else if (cm.getPlayer().gotPartyQuestItem(\"JBP\") && !cm.haveItem(4031059)){\n+            cm.sendNext(\"Please, bring me the #b#t4031059##k.\");\n+            cm.dispose();\n+        } else if (cm.haveItem(4031059) && cm.getPlayer().gotPartyQuestItem(\"JBP\")){\n+            actionx[\"3thJobC\"] = true;\n+            cm.sendNext(\"Nice work. You have defeated my clone and brought #b#t4031059##k back safely. You have now proven yourself worthy of the 3rd job advancement from the physical standpoint. Now you should give this necklace to #b#p2020011##k in Ossyria to take on the second part of the test. Good luck. You'll need it.\");\n+        } else if (cm.isQuestStarted(6141)) {\n+            cm.warp(910300000, 3);\n+        } else {\n+            cm.sendOk(\"You have chosen wisely.\");\n+            cm.dispose();\n+        }\n     }\n }\n \n@@ -71,14 +90,37 @@ function action(mode, type, selection) {\n     if (status == -1){\n         start();\n         return;\n-    } else if (mode != 1 || status == 7 && type != 1 || (actionx[\"1stJob\"] && status == 4) || (cm.haveItem(4031008) && status == 2) || (actionx[\"3thJobI\"] && status == 1)){\n-        if (mode == 0 && status == 2 && type == 1)\n-            cm.sendOk(\"You know there is no other choice...\");\n-        if (!(mode == 0 && type != 1)){\n+    } else {\n+        if(spawnPnpc) {\n+            if(mode > 0) {\n+                if(cm.getMeso() < spawnPnpcFee) {\n+                    cm.sendOk(\"Sorry, you don't have enough mesos to purchase your place on the Hall of Fame.\");\n+                    cm.dispose();\n+                    return;\n+                }\n+                \n+                if(Packages.server.life.MaplePlayerNPC.spawnPlayerNPC(Packages.constants.GameConstants.getHallOfFameMapid(cm.getJob()), cm.getPlayer())) {\n+                    cm.sendOk(\"There you go! Hope you will like it.\");\n+                    cm.gainMeso(-spawnPnpcFee);\n+                } else {\n+                    cm.sendOk(\"Sorry, the Hall of Fame is currently full...\");\n+                }\n+            }\n+            \n             cm.dispose();\n             return;\n+        } else {\n+            if (mode != 1 || status == 7 && type != 1 || (actionx[\"1stJob\"] && status == 4) || (cm.haveItem(4031008) && status == 2) || (actionx[\"3thJobI\"] && status == 1)){\n+                if (mode == 0 && status == 2 && type == 1)\n+                    cm.sendOk(\"You know there is no other choice...\");\n+                if (!(mode == 0 && type != 1)){\n+                    cm.dispose();\n+                    return;\n+                }\n+            }\n         }\n     }\n+    \n     if (actionx[\"1stJob\"]){\n         if (status == 0)\n             cm.sendYesNo(\"Oh...! You look like someone that can definitely be a part of us... all you need is a little sinister mind, and... yeah... so, what do you think? Wanna be the Rogue?\");"}, {"sha": "8b38574a77a1b4c6faa6c87cc8dfa70cb1cfcc9e", "filename": "scripts/npc/1090000.js", "status": "modified", "additions": 70, "deletions": 28, "changes": 98, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/1090000.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/1090000.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1090000.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -29,33 +29,52 @@ status = -1;\n actionx = {\"1stJob\" : false, \"2ndjob\" : false, \"2ndjobT\" : false, \"3thJobI\" : false, \"3thJobC\" : false};\n job = 510;\n \n+spawnPnpc = false;\n+spawnPnpcFee = 7000000;\n+jobType = 5;\n+\n+function numberWithCommas(x) {\n+    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n+}\n+\n function start() {\n-    if (cm.getJobId() == 0) {\n-        actionx[\"1stJob\"] = true;\n-        if (cm.getLevel() >= 10)\n-            cm.sendNext(\"Want to be a pirate? There are some standards to meet. because we can't just accept EVERYONE in... #bYour level should be at least 10#k. Let's see.\");\n-        else {\n-            cm.sendOk(\"Train a bit more and I can show you the way of the #rPirate#k.\");\n-            cm.dispose();\n+    if (parseInt(cm.getJobId() / 100) == jobType && cm.canSpawnPlayerNpc(Packages.constants.GameConstants.getHallOfFameMapid(cm.getJob()))) {\n+        spawnPnpc = true;\n+        \n+        var sendStr = \"You have walked a long way to reach the power, wisdom and courage you hold today, didn't you? What do you say about having right now #ra NPC on the Hall of Fame holding the current image of your character#k? Do you like it?\";\n+        if(spawnPnpcFee > 0) {\n+            sendStr += \" I can do it for you, for the fee of #b \" + numberWithCommas(spawnPnpcFee) + \" mesos.#k\";\n         }\n-    } else if (cm.getLevel() >= 30 && cm.getJobId() == 500) {\n-        actionx[\"2ndJob\"] = true;\n-        if (cm.isQuestCompleted(2191) || cm.isQuestCompleted(2192))\n-            cm.sendNext(\"I see you have done well. I will allow you to take the next step on your long road.\");\n-        else\n-            cm.sendNext(\"The progress you have made is astonishing.\");\n-    } else if (actionx[\"3thJobI\"] || (cm.getPlayer().gotPartyQuestItem(\"JB3\") && cm.getLevel() >= 70 && cm.getJobId() % 10 == 0 && parseInt(cm.getJobId() / 100) == 5 && !cm.getPlayer().gotPartyQuestItem(\"JBP\"))){\n-        actionx[\"3thJobI\"] = true;\n-        cm.sendNext(\"There you are. A few days ago, #b#p2020013##k of Ossyria talked to me about you. I see that you are interested in making the leap to the world of the third job advancement for pirates. To archieve that goal, I will have to test your strength in order to see whether you are worthy of the advancement. There is an opening in the middle of a cave on Victoria Island, where it'll lead you to a secret passage. Once inside, you'll face a clone of myself. Your task is to defeat him and bring #b#t4031059##k back with you.\");\n-    } else if (cm.getPlayer().gotPartyQuestItem(\"JBP\") && !cm.haveItem(4031059)){\n-        cm.sendNext(\"Please, bring me the #b#t4031059##k.\");\n-        cm.dispose();\n-    } else if (cm.haveItem(4031059) && cm.getPlayer().gotPartyQuestItem(\"JBP\")){\n-        actionx[\"3thJobC\"] = true;\n-        cm.sendNext(\"Nice work. You have defeated my clone and brought #b#t4031059##k back safely. You have now proven yourself worthy of the 3rd job advancement from the physical standpoint. Now you should give this necklace to #b#p2020013##k in Ossyria to take on the second part of the test. Good luck. You'll need it.\");\n+        \n+        cm.sendYesNo(sendStr);\n     } else {\n-        cm.sendOk(\"You have chosen wisely.\");\n-        cm.dispose();\n+        if (cm.getJobId() == 0) {\n+            actionx[\"1stJob\"] = true;\n+            if (cm.getLevel() >= 10)\n+                cm.sendNext(\"Want to be a pirate? There are some standards to meet. because we can't just accept EVERYONE in... #bYour level should be at least 10#k. Let's see.\");\n+            else {\n+                cm.sendOk(\"Train a bit more and I can show you the way of the #rPirate#k.\");\n+                cm.dispose();\n+            }\n+        } else if (cm.getLevel() >= 30 && cm.getJobId() == 500) {\n+            actionx[\"2ndJob\"] = true;\n+            if (cm.isQuestCompleted(2191) || cm.isQuestCompleted(2192))\n+                cm.sendNext(\"I see you have done well. I will allow you to take the next step on your long road.\");\n+            else\n+                cm.sendNext(\"The progress you have made is astonishing.\");\n+        } else if (actionx[\"3thJobI\"] || (cm.getPlayer().gotPartyQuestItem(\"JB3\") && cm.getLevel() >= 70 && cm.getJobId() % 10 == 0 && parseInt(cm.getJobId() / 100) == 5 && !cm.getPlayer().gotPartyQuestItem(\"JBP\"))){\n+            actionx[\"3thJobI\"] = true;\n+            cm.sendNext(\"There you are. A few days ago, #b#p2020013##k of Ossyria talked to me about you. I see that you are interested in making the leap to the world of the third job advancement for pirates. To archieve that goal, I will have to test your strength in order to see whether you are worthy of the advancement. There is an opening in the middle of a cave on Victoria Island, where it'll lead you to a secret passage. Once inside, you'll face a clone of myself. Your task is to defeat him and bring #b#t4031059##k back with you.\");\n+        } else if (cm.getPlayer().gotPartyQuestItem(\"JBP\") && !cm.haveItem(4031059)){\n+            cm.sendNext(\"Please, bring me the #b#t4031059##k.\");\n+            cm.dispose();\n+        } else if (cm.haveItem(4031059) && cm.getPlayer().gotPartyQuestItem(\"JBP\")){\n+            actionx[\"3thJobC\"] = true;\n+            cm.sendNext(\"Nice work. You have defeated my clone and brought #b#t4031059##k back safely. You have now proven yourself worthy of the 3rd job advancement from the physical standpoint. Now you should give this necklace to #b#p2020013##k in Ossyria to take on the second part of the test. Good luck. You'll need it.\");\n+        } else {\n+            cm.sendOk(\"You have chosen wisely.\");\n+            cm.dispose();\n+        }\n     }\n }\n \n@@ -66,14 +85,37 @@ function action(mode, type, selection) {\n     if (status == -1){\n         start();\n         return;\n-    } else if (mode != 1 || status == 7 && type != 1 || (actionx[\"1stJob\"] && status == 4) || (cm.haveItem(4031008) && status == 2) || (actionx[\"3thJobI\"] && status == 1)){\n-        if (mode == 0 && status == 2 && type == 1)\n-            cm.sendOk(\"You know there is no other choice...\");\n-        if (!(mode == 0 && type != 1)){\n+    } else {\n+        if(spawnPnpc) {\n+            if(mode > 0) {\n+                if(cm.getMeso() < spawnPnpcFee) {\n+                    cm.sendOk(\"Sorry, you don't have enough mesos to purchase your place on the Hall of Fame.\");\n+                    cm.dispose();\n+                    return;\n+                }\n+                \n+                if(Packages.server.life.MaplePlayerNPC.spawnPlayerNPC(Packages.constants.GameConstants.getHallOfFameMapid(cm.getJob()), cm.getPlayer())) {\n+                    cm.sendOk(\"There you go! Hope you will like it.\");\n+                    cm.gainMeso(-spawnPnpcFee);\n+                } else {\n+                    cm.sendOk(\"Sorry, the Hall of Fame is currently full...\");\n+                }\n+            }\n+            \n             cm.dispose();\n             return;\n+        } else {\n+            if (mode != 1 || status == 7 && type != 1 || (actionx[\"1stJob\"] && status == 4) || (cm.haveItem(4031008) && status == 2) || (actionx[\"3thJobI\"] && status == 1)){\n+                if (mode == 0 && status == 2 && type == 1)\n+                    cm.sendOk(\"You know there is no other choice...\");\n+                if (!(mode == 0 && type != 1)){\n+                    cm.dispose();\n+                    return;\n+                }\n+            }\n         }\n     }\n+    \n     if (actionx[\"1stJob\"]){\n         if (status == 0)\n             cm.sendYesNo(\"Oh...! You look like someone that can definitely be a part of us... all you need is a little slang, and... yeah... so, what do you think? Wanna be the Pirate?\");"}, {"sha": "2cfeb72b32c5a2f10ec15481dba384dd750586c7", "filename": "scripts/npc/1102003.js", "status": "modified", "additions": 58, "deletions": 3, "changes": 61, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/1102003.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/1102003.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1102003.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -20,9 +20,64 @@\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n /*\n- * @author BubblesDev, Rich for text\n+ * @author BubblesDev, Rich for text, Ronan for PNPCs\n  */\n+\n+var status = 0;\n+var spawnPnpc = false;\n+var spawnPnpcFee = 7000000;\n+var minJobType = 11;\n+var maxJobType = 15;\n+\n+function numberWithCommas(x) {\n+    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n+}\n+\n function start() {\n-    cm.sendOk(\"Welcome to the Knights Chamber.\");\n-    cm.dispose();\n+    var jobType = parseInt(cm.getJobId() / 100);\n+    if (jobType >= minJobType && jobType <= maxJobType && cm.canSpawnPlayerNpc(Packages.constants.GameConstants.getHallOfFameMapid(cm.getJob()))) {\n+        spawnPnpc = true;\n+        \n+        var sendStr = \"You have walked a long way to reach the power, wisdom and courage you hold today, didn't you? What do you say about having right now #ra NPC on the Hall of Fame holding the current image of your character#k? Do you like it?\";\n+        if(spawnPnpcFee > 0) {\n+            sendStr += \" I can do it for you, for the fee of #b \" + numberWithCommas(spawnPnpcFee) + \" mesos.#k\";\n+        }\n+        \n+        cm.sendYesNo(sendStr);\n+    } else {\n+        cm.sendOk(\"Welcome to the Knights Chamber.\");\n+        cm.dispose();\n+    }\n+}\n+\n+function action(mode, type, selection) {\n+    status++;\n+    if (mode == 0 && type != 1)\n+        status -= 2;\n+    if (status == -1){\n+        start();\n+        return;\n+    } else {\n+        if(spawnPnpc) {\n+            if(mode > 0) {\n+                if(cm.getMeso() < spawnPnpcFee) {\n+                    cm.sendOk(\"Sorry, you don't have enough mesos to purchase your place on the Hall of Fame.\");\n+                    cm.dispose();\n+                    return;\n+                }\n+                \n+                if(Packages.server.life.MaplePlayerNPC.spawnPlayerNPC(Packages.constants.GameConstants.getHallOfFameMapid(cm.getJob()), cm.getPlayer())) {\n+                    cm.sendOk(\"There you go! Hope you will like it.\");\n+                    cm.gainMeso(-spawnPnpcFee);\n+                } else {\n+                    cm.sendOk(\"Sorry, the Hall of Fame is currently full...\");\n+                }\n+            }\n+            \n+            cm.dispose();\n+            return;\n+        } else {\n+            // do nothing\n+        }\n+    }\n }\n\\ No newline at end of file"}, {"sha": "369e7f3b7b90da3002cd9a0cf7da23666e1e5b7e", "filename": "scripts/npc/1202010.js", "status": "modified", "additions": 50, "deletions": 4, "changes": 54, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/1202010.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/1202010.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1202010.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,11 +1,57 @@\n var status = 0;\n \n+var spawnPnpc = false;\n+var spawnPnpcFee = 7000000;\n+var jobType = 21;\n+\n+function numberWithCommas(x) {\n+    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n+}\n+\n function start() {\n-    status = -1;\n-    action(1, 0, 0);\n+    if (parseInt(cm.getJobId() / 100) == jobType && cm.canSpawnPlayerNpc(Packages.constants.GameConstants.getHallOfFameMapid(cm.getJob()))) {\n+        spawnPnpc = true;\n+        \n+        var sendStr = \"You have walked a long way to reach the power, wisdom and courage you hold today, didn't you? What do you say about having right now #ra NPC on the Hall of Fame holding the current image of your character#k? Do you like it?\";\n+        if(spawnPnpcFee > 0) {\n+            sendStr += \" I can do it for you, for the fee of #b \" + numberWithCommas(spawnPnpcFee) + \" mesos.#k\";\n+        }\n+        \n+        cm.sendYesNo(sendStr);\n+    } else {\n+        cm.sendOk(\"Behold, the distinguished brave heroes of Rien! Those stout hearts are who have been protecting our people since long ago, our valiant comrades.\");\n+        cm.dispose();\n+    }\n }\n \n function action(mode, type, selection) {\n-    cm.sendOk(\"Behold, the distinguished brave heroes of Rien! Those stout hearts are who have been protecting our people since long ago, our valiant comrades.\");\n-    cm.dispose();\n+    status++;\n+    if (mode == 0 && type != 1)\n+        status -= 2;\n+    if (status == -1){\n+        start();\n+        return;\n+    } else {\n+        if(spawnPnpc) {\n+            if(mode > 0) {\n+                if(cm.getMeso() < spawnPnpcFee) {\n+                    cm.sendOk(\"Sorry, you don't have enough mesos to purchase your place on the Hall of Fame.\");\n+                    cm.dispose();\n+                    return;\n+                }\n+                \n+                if(Packages.server.life.MaplePlayerNPC.spawnPlayerNPC(Packages.constants.GameConstants.getHallOfFameMapid(cm.getJob()), cm.getPlayer())) {\n+                    cm.sendOk(\"There you go! Hope you will like it.\");\n+                    cm.gainMeso(-spawnPnpcFee);\n+                } else {\n+                    cm.sendOk(\"Sorry, the Hall of Fame is currently full...\");\n+                }\n+            }\n+            \n+            cm.dispose();\n+            return;\n+        } else {\n+            // do nothing\n+        }\n+    }\n }\n\\ No newline at end of file"}, {"sha": "a5505258df08f4e00310153acc36f9baa7d86b22", "filename": "scripts/npc/2012027.js", "status": "added", "additions": 99, "deletions": 0, "changes": 99, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/2012027.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/2012027.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2012027.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,99 @@\n+/*\n+    This file is part of the HeavenMS MapleStory Server\n+    Copyleft (L) 2016 - 2018 RonanLana\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+/* Harp String C\n+\tHidden Street - Eliza\u2019s Garden (200010303)\n+ */\n+\n+importPackage(Packages.tools);\n+\n+var status;\n+var harpNote = 'C';\n+var harpSounds = [\"do\", \"la\", \"mi\", \"pa\", \"re\", \"si\", \"sol\"];\n+var harpSong = \"CCGGAAGFFEEDDC|GGFFEED|GGFFEED|CCGGAAGFFEEDDC|\";\n+ \n+function start() {\n+        status = -1;\n+        action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+        if (mode == -1) {\n+                cm.dispose();\n+        } else {\n+                if (mode == 0 && type > 0) {\n+                        cm.dispose();\n+                        return;\n+                }\n+                if (mode == 1)\n+                        status++;\n+                else\n+                        status--;\n+    \n+                if(status == 0) {\n+                        cm.getMap().broadcastMessage(MaplePacketCreator.playSound(\"orbis/\" + harpSounds[cm.getNpc() - 2012027]));\n+                        \n+                        if(cm.isQuestStarted(3114)) {\n+                                var idx = cm.getQuestProgress(3114, 7777);\n+                                \n+                                if(idx != -1) {\n+                                        var nextNote = harpSong[idx];\n+                                        \n+                                        if(harpNote != nextNote) {\n+                                                cm.setQuestProgress(3114, 7777, 0);\n+\n+                                                cm.getPlayer().announce(MaplePacketCreator.showEffect(\"quest/party/wrong_kor\"));\n+                                                cm.getPlayer().announce(MaplePacketCreator.playSound(\"Party1/Failed\"));\n+\n+                                                cm.message(\"You've missed the note... Start over again.\");\n+                                        } else {\n+                                                nextNote = harpSong[idx + 1];\n+\n+                                                if(nextNote == '|') {\n+                                                        idx++;\n+\n+                                                        if(idx == 45) {     // finished lullaby\n+                                                                cm.message(\"Twinkle, twinkle, little star, how I wonder what you are.\");\n+                                                                cm.setQuestProgress(3114, 7777, -1);\n+\n+                                                                cm.getPlayer().announce(MaplePacketCreator.showEffect(\"quest/party/clear\"));\n+                                                                cm.getPlayer().announce(MaplePacketCreator.playSound(\"Party1/Clear\"));\n+                                                                \n+                                                                cm.dispose();\n+                                                                return;\n+                                                        } else {\n+                                                                if(idx == 14) {\n+                                                                        cm.message(\"Twinkle, twinkle, little star, how I wonder what you are!\");\n+                                                                } else if(idx == 22) {\n+                                                                        cm.message(\"Up above the world so high,\");\n+                                                                } else if(idx == 30) {\n+                                                                        cm.message(\"like a diamond in the sky.\");\n+                                                                }\n+                                                        }\n+                                                }\n+\n+                                                cm.setQuestProgress(3114, 7777, idx + 1);\n+                                        }\n+                                }\n+                        }\n+                    \n+                        cm.dispose();\n+                }\n+        }\n+}"}, {"sha": "4c7020b7874c2bb4330137db4d26d5af628977c5", "filename": "scripts/npc/2012028.js", "status": "added", "additions": 99, "deletions": 0, "changes": 99, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/2012028.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/2012028.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2012028.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,99 @@\n+/*\n+    This file is part of the HeavenMS MapleStory Server\n+    Copyleft (L) 2016 - 2018 RonanLana\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+/* Harp String D\n+\tHidden Street - Eliza\u2019s Garden (200010303)\n+ */\n+\n+importPackage(Packages.tools);\n+\n+var status;\n+var harpNote = 'D';\n+var harpSounds = [\"do\", \"la\", \"mi\", \"pa\", \"re\", \"si\", \"sol\"];\n+var harpSong = \"CCGGAAGFFEEDDC|GGFFEED|GGFFEED|CCGGAAGFFEEDDC|\";\n+ \n+function start() {\n+        status = -1;\n+        action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+        if (mode == -1) {\n+                cm.dispose();\n+        } else {\n+                if (mode == 0 && type > 0) {\n+                        cm.dispose();\n+                        return;\n+                }\n+                if (mode == 1)\n+                        status++;\n+                else\n+                        status--;\n+    \n+                if(status == 0) {\n+                        cm.getMap().broadcastMessage(MaplePacketCreator.playSound(\"orbis/\" + harpSounds[cm.getNpc() - 2012027]));\n+                        \n+                        if(cm.isQuestStarted(3114)) {\n+                                var idx = cm.getQuestProgress(3114, 7777);\n+                                \n+                                if(idx != -1) {\n+                                        var nextNote = harpSong[idx];\n+                                        \n+                                        if(harpNote != nextNote) {\n+                                                cm.setQuestProgress(3114, 7777, 0);\n+\n+                                                cm.getPlayer().announce(MaplePacketCreator.showEffect(\"quest/party/wrong_kor\"));\n+                                                cm.getPlayer().announce(MaplePacketCreator.playSound(\"Party1/Failed\"));\n+\n+                                                cm.message(\"You've missed the note... Start over again.\");\n+                                        } else {\n+                                                nextNote = harpSong[idx + 1];\n+\n+                                                if(nextNote == '|') {\n+                                                        idx++;\n+\n+                                                        if(idx == 45) {     // finished lullaby\n+                                                                cm.message(\"Twinkle, twinkle, little star, how I wonder what you are.\");\n+                                                                cm.setQuestProgress(3114, 7777, -1);\n+\n+                                                                cm.getPlayer().announce(MaplePacketCreator.showEffect(\"quest/party/clear\"));\n+                                                                cm.getPlayer().announce(MaplePacketCreator.playSound(\"Party1/Clear\"));\n+                                                                \n+                                                                cm.dispose();\n+                                                                return;\n+                                                        } else {\n+                                                                if(idx == 14) {\n+                                                                        cm.message(\"Twinkle, twinkle, little star, how I wonder what you are!\");\n+                                                                } else if(idx == 22) {\n+                                                                        cm.message(\"Up above the world so high,\");\n+                                                                } else if(idx == 30) {\n+                                                                        cm.message(\"like a diamond in the sky.\");\n+                                                                }\n+                                                        }\n+                                                }\n+\n+                                                cm.setQuestProgress(3114, 7777, idx + 1);\n+                                        }\n+                                }\n+                        }\n+                    \n+                        cm.dispose();\n+                }\n+        }\n+}"}, {"sha": "9ec6dc082c4f828d297f2c39652679ef823e11f3", "filename": "scripts/npc/2012029.js", "status": "added", "additions": 99, "deletions": 0, "changes": 99, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/2012029.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/2012029.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2012029.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,99 @@\n+/*\n+    This file is part of the HeavenMS MapleStory Server\n+    Copyleft (L) 2016 - 2018 RonanLana\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+/* Harp String E\n+\tHidden Street - Eliza\u2019s Garden (200010303)\n+ */\n+\n+importPackage(Packages.tools);\n+\n+var status;\n+var harpNote = 'E';\n+var harpSounds = [\"do\", \"la\", \"mi\", \"pa\", \"re\", \"si\", \"sol\"];\n+var harpSong = \"CCGGAAGFFEEDDC|GGFFEED|GGFFEED|CCGGAAGFFEEDDC|\";\n+ \n+function start() {\n+        status = -1;\n+        action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+        if (mode == -1) {\n+                cm.dispose();\n+        } else {\n+                if (mode == 0 && type > 0) {\n+                        cm.dispose();\n+                        return;\n+                }\n+                if (mode == 1)\n+                        status++;\n+                else\n+                        status--;\n+    \n+                if(status == 0) {\n+                        cm.getMap().broadcastMessage(MaplePacketCreator.playSound(\"orbis/\" + harpSounds[cm.getNpc() - 2012027]));\n+                        \n+                        if(cm.isQuestStarted(3114)) {\n+                                var idx = cm.getQuestProgress(3114, 7777);\n+                                \n+                                if(idx != -1) {\n+                                        var nextNote = harpSong[idx];\n+                                        \n+                                        if(harpNote != nextNote) {\n+                                                cm.setQuestProgress(3114, 7777, 0);\n+\n+                                                cm.getPlayer().announce(MaplePacketCreator.showEffect(\"quest/party/wrong_kor\"));\n+                                                cm.getPlayer().announce(MaplePacketCreator.playSound(\"Party1/Failed\"));\n+\n+                                                cm.message(\"You've missed the note... Start over again.\");\n+                                        } else {\n+                                                nextNote = harpSong[idx + 1];\n+\n+                                                if(nextNote == '|') {\n+                                                        idx++;\n+\n+                                                        if(idx == 45) {     // finished lullaby\n+                                                                cm.message(\"Twinkle, twinkle, little star, how I wonder what you are.\");\n+                                                                cm.setQuestProgress(3114, 7777, -1);\n+\n+                                                                cm.getPlayer().announce(MaplePacketCreator.showEffect(\"quest/party/clear\"));\n+                                                                cm.getPlayer().announce(MaplePacketCreator.playSound(\"Party1/Clear\"));\n+                                                                \n+                                                                cm.dispose();\n+                                                                return;\n+                                                        } else {\n+                                                                if(idx == 14) {\n+                                                                        cm.message(\"Twinkle, twinkle, little star, how I wonder what you are!\");\n+                                                                } else if(idx == 22) {\n+                                                                        cm.message(\"Up above the world so high,\");\n+                                                                } else if(idx == 30) {\n+                                                                        cm.message(\"like a diamond in the sky.\");\n+                                                                }\n+                                                        }\n+                                                }\n+\n+                                                cm.setQuestProgress(3114, 7777, idx + 1);\n+                                        }\n+                                }\n+                        }\n+                    \n+                        cm.dispose();\n+                }\n+        }\n+}"}, {"sha": "a67383e81529f086865093e74df12c9bafe08635", "filename": "scripts/npc/2012030.js", "status": "added", "additions": 99, "deletions": 0, "changes": 99, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/2012030.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/2012030.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2012030.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,99 @@\n+/*\n+    This file is part of the HeavenMS MapleStory Server\n+    Copyleft (L) 2016 - 2018 RonanLana\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+/* Harp String F\n+\tHidden Street - Eliza\u2019s Garden (200010303)\n+ */\n+\n+importPackage(Packages.tools);\n+\n+var status;\n+var harpNote = 'F';\n+var harpSounds = [\"do\", \"la\", \"mi\", \"pa\", \"re\", \"si\", \"sol\"];\n+var harpSong = \"CCGGAAGFFEEDDC|GGFFEED|GGFFEED|CCGGAAGFFEEDDC|\";\n+ \n+function start() {\n+        status = -1;\n+        action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+        if (mode == -1) {\n+                cm.dispose();\n+        } else {\n+                if (mode == 0 && type > 0) {\n+                        cm.dispose();\n+                        return;\n+                }\n+                if (mode == 1)\n+                        status++;\n+                else\n+                        status--;\n+    \n+                if(status == 0) {\n+                        cm.getMap().broadcastMessage(MaplePacketCreator.playSound(\"orbis/\" + harpSounds[cm.getNpc() - 2012027]));\n+                        \n+                        if(cm.isQuestStarted(3114)) {\n+                                var idx = cm.getQuestProgress(3114, 7777);\n+                                \n+                                if(idx != -1) {\n+                                        var nextNote = harpSong[idx];\n+                                        \n+                                        if(harpNote != nextNote) {\n+                                                cm.setQuestProgress(3114, 7777, 0);\n+\n+                                                cm.getPlayer().announce(MaplePacketCreator.showEffect(\"quest/party/wrong_kor\"));\n+                                                cm.getPlayer().announce(MaplePacketCreator.playSound(\"Party1/Failed\"));\n+\n+                                                cm.message(\"You've missed the note... Start over again.\");\n+                                        } else {\n+                                                nextNote = harpSong[idx + 1];\n+\n+                                                if(nextNote == '|') {\n+                                                        idx++;\n+\n+                                                        if(idx == 45) {     // finished lullaby\n+                                                                cm.message(\"Twinkle, twinkle, little star, how I wonder what you are.\");\n+                                                                cm.setQuestProgress(3114, 7777, -1);\n+\n+                                                                cm.getPlayer().announce(MaplePacketCreator.showEffect(\"quest/party/clear\"));\n+                                                                cm.getPlayer().announce(MaplePacketCreator.playSound(\"Party1/Clear\"));\n+                                                                \n+                                                                cm.dispose();\n+                                                                return;\n+                                                        } else {\n+                                                                if(idx == 14) {\n+                                                                        cm.message(\"Twinkle, twinkle, little star, how I wonder what you are!\");\n+                                                                } else if(idx == 22) {\n+                                                                        cm.message(\"Up above the world so high,\");\n+                                                                } else if(idx == 30) {\n+                                                                        cm.message(\"like a diamond in the sky.\");\n+                                                                }\n+                                                        }\n+                                                }\n+\n+                                                cm.setQuestProgress(3114, 7777, idx + 1);\n+                                        }\n+                                }\n+                        }\n+                    \n+                        cm.dispose();\n+                }\n+        }\n+}"}, {"sha": "8e07ad0597bd3aec972959372a8d8509eaf550cb", "filename": "scripts/npc/2012031.js", "status": "added", "additions": 99, "deletions": 0, "changes": 99, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/2012031.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/2012031.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2012031.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,99 @@\n+/*\n+    This file is part of the HeavenMS MapleStory Server\n+    Copyleft (L) 2016 - 2018 RonanLana\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+/* Harp String G\n+\tHidden Street - Eliza\u2019s Garden (200010303)\n+ */\n+\n+importPackage(Packages.tools);\n+\n+var status;\n+var harpNote = 'G';\n+var harpSounds = [\"do\", \"la\", \"mi\", \"pa\", \"re\", \"si\", \"sol\"];\n+var harpSong = \"CCGGAAGFFEEDDC|GGFFEED|GGFFEED|CCGGAAGFFEEDDC|\";\n+ \n+function start() {\n+        status = -1;\n+        action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+        if (mode == -1) {\n+                cm.dispose();\n+        } else {\n+                if (mode == 0 && type > 0) {\n+                        cm.dispose();\n+                        return;\n+                }\n+                if (mode == 1)\n+                        status++;\n+                else\n+                        status--;\n+    \n+                if(status == 0) {\n+                        cm.getMap().broadcastMessage(MaplePacketCreator.playSound(\"orbis/\" + harpSounds[cm.getNpc() - 2012027]));\n+                        \n+                        if(cm.isQuestStarted(3114)) {\n+                                var idx = cm.getQuestProgress(3114, 7777);\n+                                \n+                                if(idx != -1) {\n+                                        var nextNote = harpSong[idx];\n+                                        \n+                                        if(harpNote != nextNote) {\n+                                                cm.setQuestProgress(3114, 7777, 0);\n+\n+                                                cm.getPlayer().announce(MaplePacketCreator.showEffect(\"quest/party/wrong_kor\"));\n+                                                cm.getPlayer().announce(MaplePacketCreator.playSound(\"Party1/Failed\"));\n+\n+                                                cm.message(\"You've missed the note... Start over again.\");\n+                                        } else {\n+                                                nextNote = harpSong[idx + 1];\n+\n+                                                if(nextNote == '|') {\n+                                                        idx++;\n+\n+                                                        if(idx == 45) {     // finished lullaby\n+                                                                cm.message(\"Twinkle, twinkle, little star, how I wonder what you are.\");\n+                                                                cm.setQuestProgress(3114, 7777, -1);\n+\n+                                                                cm.getPlayer().announce(MaplePacketCreator.showEffect(\"quest/party/clear\"));\n+                                                                cm.getPlayer().announce(MaplePacketCreator.playSound(\"Party1/Clear\"));\n+                                                                \n+                                                                cm.dispose();\n+                                                                return;\n+                                                        } else {\n+                                                                if(idx == 14) {\n+                                                                        cm.message(\"Twinkle, twinkle, little star, how I wonder what you are!\");\n+                                                                } else if(idx == 22) {\n+                                                                        cm.message(\"Up above the world so high,\");\n+                                                                } else if(idx == 30) {\n+                                                                        cm.message(\"like a diamond in the sky.\");\n+                                                                }\n+                                                        }\n+                                                }\n+\n+                                                cm.setQuestProgress(3114, 7777, idx + 1);\n+                                        }\n+                                }\n+                        }\n+                    \n+                        cm.dispose();\n+                }\n+        }\n+}"}, {"sha": "237c28658ca2ab8662adb54f0bd5b37dd8daa08e", "filename": "scripts/npc/2012032.js", "status": "added", "additions": 99, "deletions": 0, "changes": 99, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/2012032.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/2012032.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2012032.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,99 @@\n+/*\n+    This file is part of the HeavenMS MapleStory Server\n+    Copyleft (L) 2016 - 2018 RonanLana\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+/* Harp String A\n+\tHidden Street - Eliza\u2019s Garden (200010303)\n+ */\n+\n+importPackage(Packages.tools);\n+\n+var status;\n+var harpNote = 'A';\n+var harpSounds = [\"do\", \"la\", \"mi\", \"pa\", \"re\", \"si\", \"sol\"];\n+var harpSong = \"CCGGAAGFFEEDDC|GGFFEED|GGFFEED|CCGGAAGFFEEDDC|\";\n+ \n+function start() {\n+        status = -1;\n+        action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+        if (mode == -1) {\n+                cm.dispose();\n+        } else {\n+                if (mode == 0 && type > 0) {\n+                        cm.dispose();\n+                        return;\n+                }\n+                if (mode == 1)\n+                        status++;\n+                else\n+                        status--;\n+    \n+                if(status == 0) {\n+                        cm.getMap().broadcastMessage(MaplePacketCreator.playSound(\"orbis/\" + harpSounds[cm.getNpc() - 2012027]));\n+                        \n+                        if(cm.isQuestStarted(3114)) {\n+                                var idx = cm.getQuestProgress(3114, 7777);\n+                                \n+                                if(idx != -1) {\n+                                        var nextNote = harpSong[idx];\n+                                        \n+                                        if(harpNote != nextNote) {\n+                                                cm.setQuestProgress(3114, 7777, 0);\n+\n+                                                cm.getPlayer().announce(MaplePacketCreator.showEffect(\"quest/party/wrong_kor\"));\n+                                                cm.getPlayer().announce(MaplePacketCreator.playSound(\"Party1/Failed\"));\n+\n+                                                cm.message(\"You've missed the note... Start over again.\");\n+                                        } else {\n+                                                nextNote = harpSong[idx + 1];\n+\n+                                                if(nextNote == '|') {\n+                                                        idx++;\n+\n+                                                        if(idx == 45) {     // finished lullaby\n+                                                                cm.message(\"Twinkle, twinkle, little star, how I wonder what you are.\");\n+                                                                cm.setQuestProgress(3114, 7777, -1);\n+\n+                                                                cm.getPlayer().announce(MaplePacketCreator.showEffect(\"quest/party/clear\"));\n+                                                                cm.getPlayer().announce(MaplePacketCreator.playSound(\"Party1/Clear\"));\n+                                                                \n+                                                                cm.dispose();\n+                                                                return;\n+                                                        } else {\n+                                                                if(idx == 14) {\n+                                                                        cm.message(\"Twinkle, twinkle, little star, how I wonder what you are!\");\n+                                                                } else if(idx == 22) {\n+                                                                        cm.message(\"Up above the world so high,\");\n+                                                                } else if(idx == 30) {\n+                                                                        cm.message(\"like a diamond in the sky.\");\n+                                                                }\n+                                                        }\n+                                                }\n+\n+                                                cm.setQuestProgress(3114, 7777, idx + 1);\n+                                        }\n+                                }\n+                        }\n+                    \n+                        cm.dispose();\n+                }\n+        }\n+}"}, {"sha": "6060b3657f6415f6e9e3f6c9a2e6377257439c3e", "filename": "scripts/npc/2012033.js", "status": "added", "additions": 99, "deletions": 0, "changes": 99, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/2012033.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/2012033.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2012033.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,99 @@\n+/*\n+    This file is part of the HeavenMS MapleStory Server\n+    Copyleft (L) 2016 - 2018 RonanLana\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+/* Harp String B\n+\tHidden Street - Eliza\u2019s Garden (200010303)\n+ */\n+\n+importPackage(Packages.tools);\n+\n+var status;\n+var harpNote = 'B';\n+var harpSounds = [\"do\", \"la\", \"mi\", \"pa\", \"re\", \"si\", \"sol\"];\n+var harpSong = \"CCGGAAGFFEEDDC|GGFFEED|GGFFEED|CCGGAAGFFEEDDC|\";\n+ \n+function start() {\n+        status = -1;\n+        action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+        if (mode == -1) {\n+                cm.dispose();\n+        } else {\n+                if (mode == 0 && type > 0) {\n+                        cm.dispose();\n+                        return;\n+                }\n+                if (mode == 1)\n+                        status++;\n+                else\n+                        status--;\n+    \n+                if(status == 0) {\n+                        cm.getMap().broadcastMessage(MaplePacketCreator.playSound(\"orbis/\" + harpSounds[cm.getNpc() - 2012027]));\n+                        \n+                        if(cm.isQuestStarted(3114)) {\n+                                var idx = cm.getQuestProgress(3114, 7777);\n+                                \n+                                if(idx != -1) {\n+                                        var nextNote = harpSong[idx];\n+                                        \n+                                        if(harpNote != nextNote) {\n+                                                cm.setQuestProgress(3114, 7777, 0);\n+\n+                                                cm.getPlayer().announce(MaplePacketCreator.showEffect(\"quest/party/wrong_kor\"));\n+                                                cm.getPlayer().announce(MaplePacketCreator.playSound(\"Party1/Failed\"));\n+\n+                                                cm.message(\"You've missed the note... Start over again.\");\n+                                        } else {\n+                                                nextNote = harpSong[idx + 1];\n+\n+                                                if(nextNote == '|') {\n+                                                        idx++;\n+\n+                                                        if(idx == 45) {     // finished lullaby\n+                                                                cm.message(\"Twinkle, twinkle, little star, how I wonder what you are.\");\n+                                                                cm.setQuestProgress(3114, 7777, -1);\n+\n+                                                                cm.getPlayer().announce(MaplePacketCreator.showEffect(\"quest/party/clear\"));\n+                                                                cm.getPlayer().announce(MaplePacketCreator.playSound(\"Party1/Clear\"));\n+                                                                \n+                                                                cm.dispose();\n+                                                                return;\n+                                                        } else {\n+                                                                if(idx == 14) {\n+                                                                        cm.message(\"Twinkle, twinkle, little star, how I wonder what you are!\");\n+                                                                } else if(idx == 22) {\n+                                                                        cm.message(\"Up above the world so high,\");\n+                                                                } else if(idx == 30) {\n+                                                                        cm.message(\"like a diamond in the sky.\");\n+                                                                }\n+                                                        }\n+                                                }\n+\n+                                                cm.setQuestProgress(3114, 7777, idx + 1);\n+                                        }\n+                                }\n+                        }\n+                    \n+                        cm.dispose();\n+                }\n+        }\n+}"}, {"sha": "0ba84f3e8474df6555e076f27e3e5c202e2e15dd", "filename": "scripts/npc/9201050.js", "status": "modified", "additions": 11, "deletions": 14, "changes": 25, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/9201050.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/9201050.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201050.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -40,24 +40,20 @@ function action(mode, type, selection) {\n         else\n             status--;\n         if (status == 0 && mode == 1) {\n-            if (!cm.isQuestStarted(4900)){\n+            if (cm.isQuestCompleted(4911)) {\n+                cm.sendNext(\"Good job! You've solved all of my questions about NLC. Enjoy your trip!\");\n+                cm.dispose();\n+            } else if (cm.isQuestCompleted(4900) || cm.isQuestStarted(4900)) {  // thanks imbee for pointing out the quiz leak\n+                cm.sendNext(\"Hey, pay attention, I'm trying to quiz you on another question, fam!\");\n+                cm.dispose();\n+            } else {\n                 var selStr = \"What up! Name's Icebyrd Slimm, mayor of New Leaf City! Happy to see you accepted my invite. So, what can I do for you?#b\"\n                 var info = new Array(\"What is this place?\",\"Who is Professor Foxwit?\",\"What's a Foxwit Door?\",\"Where are the MesoGears?\",\"What is the Krakian Jungle?\",\"What's a Gear Portal?\",\"What do the street signs mean?\",\"What's the deal with Jack Masque?\",\"Lita Lawless looks like a tough cookie, what's her story?\",\"When will new boroughs open up in the city?\",\"I want to take the quiz!\");\n                 for (var i = 0; i < info.length; i++)\n                     selStr += \"\\r\\n#L\" + i + \"# \" + info[i] + \"#l\";\n                 cm.sendSimple(selStr);\n             }\n-            else if (!cm.isQuestStarted(4911)){\n-                cm.sendNext(\"Good job! You've solved all of my questions about NLC. Enjoy of your trip!\");\n-                cm.dispose();\n-                return;\n-            }\n-            else {\n-                cm.sendNext(\"Hey, pay attention, I'm trying to quiz you on another question!\");\n-                cm.dispose();\n-                return;\n-            }\n-        } else if(status == 1 && !cm.isQuestStarted(4900)) {\n+        } else if(status == 1) {\n             switch (selection) {\n                 case 0:\n                     cm.sendNext(\"I've always dreamed of building a city. Not just any city, but one where everyone was welcome. I used to live in Kerning City, so I decided to see if I could create a city. As I went along in finding the means to do so, I encountered many people, some of whom I've come to regard as friends. Like Professor Foxwit-he's our resident genius; saved him from a group of man-eating plants. Jack Masque is an old hunting buddy from Amoria-almost too smooth of a talker for his own good. Lita and I are old friends from Kerning City-she's saved me a few times with that weapon of hers; so I figured she was a perfect choice for Town Sheriff. It took a bit of persuasion, but she came to believe her destiny lies here. About our resident explorer, Barricade came searching for something; he agreed to bring whatever he found to the museum. I'd heard stories about him and his brother when I was still in Kerning City. And Elpam...well, let's just say he's not from around here. At all. We've spoken before, and he seems to mean well, so I've allowed him to stay. I just realized that I've rambled quite a bit! What else would you like to know?\");\n@@ -103,9 +99,10 @@ function action(mode, type, selection) {\n                     if (cm.getLevel() >= minlevel) {\n                         cm.sendNext(\"No problem. I'll give you something nice if you answer them correctly!\");\n                         cm.startQuest(4900);\n-                    }\n-                    else\n+                    } else {\n                         cm.sendNext(\"Eager, are we? How about you explore a bit more before I let you take the quiz?\");\n+                    }\n+                    \n                     cm.dispose();\n                     break;\n             }"}, {"sha": "1ccfd578412b48c4cc62bf64a3ff8370839a6082", "filename": "scripts/npc/9977777.js", "status": "added", "additions": 233, "deletions": 0, "changes": 233, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/9977777.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/9977777.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9977777.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,233 @@\n+/*\n+    This file is part of the HeavenMS MapleStory Server\n+    Copyleft (L) 2016 - 2018 RonanLana\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+/* Ronan\n+\tHidden Street - Developers' Headquarters (777777777)\n+\tHeavenMS developer info.\n+ */\n+\n+importPackage(Packages.tools);\n+\n+var status;\n+\n+var anthemSong = \"Field/anthem/brazil\";     // sound src: https://c7.rbxcdn.com/f91060652a6e9fbfbf92cb1418435448\n+var ambientSong = \"Bgm04/Shinin'Harbor\";\n+\n+var feature_tree = [];\n+var feature_cursor;\n+\n+var tabs = [\"PQs\", \"Skills\", \"Quests\", \"Player Social Network\", \"Cash & Items\", \"Monsters, Maps & Reactors\", \"PQ potentials\", \"Player potentials\", \"Server potentials\", \"Admin/GM commands\", \"Project\"];\n+\n+function addFeature(feature) {\n+        feature_cursor.push(feature);\n+}\n+\n+function writeFeatureTab_PQs() {\n+        addFeature(\"HPQ/KPQ/LPQ/LMPQ/OPQ/EllinPQ/PiratePQ.\");\n+        addFeature(\"MagatiaPQ/HorntailPQ/AmoriaPQ/TreasurePQ.\");\n+        addFeature(\"CWKPQ as Expedition-based event.\");\n+        addFeature(\"Scarga/Horntail/Showa/Balrog/Zakum/Pinkbean.\");\n+        addFeature(\"GuildPQ & queue with multi-lobby systems available.\");\n+        addFeature(\"Brand-new PQs: BossRushPQ, CafePQ.\");\n+        addFeature(\"Mu Lung Dojo.\");\n+        addFeature(\"Capt. Latanica with party fighting the boss.\");\n+}\n+\n+function writeFeatureTab_Skills() {\n+        addFeature(\"Reviewed many skills, such as V. Star and M. Door.\");\n+        addFeature(\"Maker skill features properly developed.\");\n+        addFeature(\"Chair Mastery - map chair boosts HP/MP rec.\");\n+}\n+\n+function writeFeatureTab_Quests() {\n+        addFeature(\"Doll house quest functional.\");\n+        addFeature(\"Quests are now rewarding items properly.\");\n+        addFeature(\"Selection of rewards works properly.\");\n+        addFeature(\"Loads of quests have been patched.\");\n+        addFeature(\"Lots of job questlines have been reviewed.\");\n+        addFeature(\"Rewarding system now looks up for item stacking.\");\n+        addFeature(\"3rd job quiz with all 40-question pool available.\");\n+}\n+\n+function writeFeatureTab_PlayerSocialNetwork() {\n+        addFeature(\"Guild and Alliance system fully functional.\");\n+        addFeature(\"Party for novices-only (may still be disabled locally).\");\n+        addFeature(\"Thoroughly reviewed P. Shops and H. Merchants.\");\n+        addFeature(\"Transactions on Merchs instantly announced to owner.\");\n+        addFeature(\"Game minirooms with semi-functional pw system.\");\n+        addFeature(\"Proper item pickup cooldown on non-owned items.\");\n+        addFeature(\"Improved ranking system, with daily movement.\");\n+        addFeature(\"Automated support for Player NPCs and Hall of Fame.\");\n+}\n+\n+function writeFeatureTab_CashItems() {\n+        addFeature(\"EXP/DROP/Cosmetic Coupons.\");\n+        addFeature(\"EXP/DROP Coupon as buff effect during active time.\");\n+        addFeature(\"Great deal of cash items functional.\");\n+        addFeature(\"New town scroll: antibanish. Counters boss banishes.\");\n+        addFeature(\"Inventory system checks for free slot & stack space.\");\n+        addFeature(\"Storage with 'Arrange Items' feature functional.\");\n+        addFeature(\"Vega's spell.\");\n+        addFeature(\"Owl of Minerva.\");\n+        addFeature(\"Pet item ignore.\");\n+        addFeature(\"New Year's card.\");\n+        addFeature(\"Kite.\");\n+        addFeature(\"Cash Shop surprise.\");\n+}\n+\n+function writeFeatureTab_MonstersMapsReactors() {\n+        addFeature(\"Every monsterbook card is now droppable.\");\n+        addFeature(\"Added meso drop data for many missing mobs.\");\n+        addFeature(\"Monsterbook displays updated drop data info.\");\n+        addFeature(\"Every skill/mastery book is now obtainable.\");\n+        addFeature(\"Mobs now can drop more than one of the same equip.\");\n+        addFeature(\"Added Boss HP Bar for dozens of bosses.\");\n+        addFeature(\"Game will favor showing the targeted boss HPbar.\");\n+        addFeature(\"Boats, elevator and other travel mechanics functional.\");\n+        addFeature(\"C. Balrog's boat approaching visual effect functional.\");\n+        addFeature(\"PQs, Taxis and events warps players to random SPs.\");\n+        addFeature(\"PQ boxes sprays items when opened, GMS-like.\");\n+        addFeature(\"Reviewed Masteria, W. Tour, N. Desert and Neo City.\");\n+        addFeature(\"Giant Cake boss drops s. bags and Maple items.\");\n+}\n+\n+function writeFeatureTab_PQpotentials() {\n+        addFeature(\"Lobby system: Same channel, multiple PQ instances.\");\n+        addFeature(\"Exped system: Many parties can join a same instance.\");\n+        addFeature(\"Guild queue: guild registration for the GPQ.\");\n+        addFeature(\"EIM Pool system: optimized instance loadouts.\");\n+}\n+\n+function writeFeatureTab_Playerpotentials() {\n+        addFeature(\"Adventurer Mount quests functional.\");\n+        addFeature(\"All Equipment levels up.\");\n+        addFeature(\"Player level rates.\");\n+        addFeature(\"Gain fame by quests.\");\n+}\n+\n+function writeFeatureTab_Serverpotentials() {\n+        addFeature(\"Multi-worlds.\");\n+        addFeature(\"Inventory auto-gather and auto-sorting feature.\");\n+        addFeature(\"Enhanced auto-pot system: smart pet potion handle.\");\n+        addFeature(\"Enhanced buff system: best buffs effects takes place.\");\n+        addFeature(\"Enhanced AP auto-assigner: focus on eqp demands.\");\n+        addFeature(\"Pet pickup gives preference to player attacks.\");\n+        addFeature(\"Channel capacity bar and worlds with capacity check.\");\n+        addFeature(\"Diseases visible for others, even after changing maps.\");\n+        addFeature(\"Poison damage value visible for other players.\");\n+        addFeature(\"M. book announcer displays info based on demand.\");\n+        addFeature(\"Custom jail system.\");\n+        addFeature(\"Delete Character.\");\n+        addFeature(\"Autosaver (periodically saves player's data on DB).\");\n+        addFeature(\"Fixed and randomized HP/MP growth rate available.\");\n+        addFeature(\"Prevented 'NPC gone after some uptime' issue.\");\n+        addFeature(\"Automatic account registration - thanks shavit!\");\n+}\n+\n+function writeFeatureTab_AdminGMcommands() {\n+        addFeature(\"Server commands layered by GM levels.\");\n+        addFeature(\"Spawn Zakum/Horntail/Pinkbean.\");\n+        addFeature(\"Several new commands.\");\n+}\n+\n+function writeFeatureTab_Project() {\n+        addFeature(\"Organized project code.\");\n+        addFeature(\"Highly updated drop data.\");\n+        addFeature(\"Highly configurable server.\");\n+        addFeature(\"Fixed/added many missing packet opcodes.\");\n+        addFeature(\"Uncovered many opcodes throughout the source.\");\n+        addFeature(\"Reviewed many Java aspects that needed attention.\");\n+        addFeature(\"Protected many flaws with login management system.\");\n+        addFeature(\"ThreadTracker: runtime tool for deadlock detection.\");\n+        addFeature(\"Heavily reviewed future task management, spawning much less threads and relieving task overload on the TimerManager.\");\n+}\n+\n+function writeAllFeatures() {\n+        var re = /[ ,&\\/]+/g;\n+    \n+        for(var i = 0; i < tabs.length; i++) {\n+                feature_cursor = [];\n+\n+                var tabName = (tabs[i]).replace(re, \"\");\n+                eval(\"writeFeatureTab_\" + tabName)();\n+        \n+                feature_tree.push(feature_cursor);\n+        }\n+}\n+\n+function start() {\n+        cm.getPlayer().announce(MaplePacketCreator.musicChange(anthemSong));\n+        status = -1;\n+        writeAllFeatures();\n+        action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+        if (mode == -1) {\n+                cm.getPlayer().announce(MaplePacketCreator.musicChange(ambientSong));\n+                cm.dispose();\n+        } else {\n+                if (mode == 0 && type > 0) {\n+                        cm.getPlayer().announce(MaplePacketCreator.musicChange(ambientSong));\n+                        cm.dispose();\n+                        return;\n+                }\n+                if (mode == 1)\n+                        status++;\n+                else\n+                        status--;\n+    \n+                if (status == 0) {\n+                        var sendStr = \"HeavenMS was developed on the timespan of 3 years, based on where Solaxia left. On the meantime many nice features emerged, development aimed to get back the old GMS experience. Now many of these so-long missing features are gracefully presented to you in the shape of this server. Long live MapleStory!!\\r\\n\\r\\nThese are the features of #bHeavenMS#k:\\r\\n\\r\\n\";\n+                        for(var i = 0; i < tabs.length; i++) {\n+                            sendStr += \"#L\" + i + \"##b\" + tabs[i] + \"#k#l\\r\\n\";\n+                        }\n+\n+                        cm.sendSimple(sendStr);\n+                } else if(status == 1) {\n+                        var tabName;\n+\n+                        for(var i = 0; i < tabs.length; i++) {\n+                            if(selection == i) {\n+                                tabName = feature_tree[i];\n+                                break;\n+                            }\n+                        }\n+\n+                        var sendStr = \"#b\" + tabs[selection] + \"#k:\\r\\n\\r\\n\";\n+                        for(var i = 0; i < tabName.length; i++) {\n+                            sendStr += \"  #L\" + i + \"# \" + tabName[i];\n+                            sendStr += \"#l\\r\\n\";\n+                        }\n+\n+                        cm.sendPrev(sendStr);\n+                } else {\n+                        cm.getPlayer().announce(MaplePacketCreator.musicChange(ambientSong));\n+                        cm.dispose();\n+                }\n+        }\n+}\n+\n+function generateSelectionMenu(array) {\n+        var menu = \"\";\n+        for (var i = 0; i < array.length; i++) {\n+                menu += \"#L\" + i + \"#\" + array[i] + \"#l\\r\\n\";\n+        }\n+        return menu;\n+}\n\\ No newline at end of file"}, {"sha": "b64df4f4bb3d004d423c94e466831cd2f8e37306", "filename": "scripts/npc/commands.js", "status": "modified", "additions": 16, "deletions": 16, "changes": 32, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/commands.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/commands.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/commands.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -41,7 +41,7 @@ function addCommand(comm, desc) {\n         desc_cursor.push(desc);\n }\n \n-function writeSolaxiaCommandsLv6() {    //Admin\n+function writeHeavenMSCommandsLv6() {    //Admin\n         comm_cursor = comm_lv6;\n         desc_cursor = desc_lv6;\n \n@@ -57,7 +57,7 @@ function writeSolaxiaCommandsLv6() {    //Admin\n         addCommand(\"clearquest\", \"\");\n }\n \n-function writeSolaxiaCommandsLv5() {    //Developer\n+function writeHeavenMSCommandsLv5() {    //Developer\n         comm_cursor = comm_lv5;\n         desc_cursor = desc_lv5;\n \n@@ -77,7 +77,7 @@ function writeSolaxiaCommandsLv5() {    //Developer\n         addCommand(\"set\", \"\");\n }\n \n-function writeSolaxiaCommandsLv4() {    //SuperGM\n+function writeHeavenMSCommandsLv4() {    //SuperGM\n         comm_cursor = comm_lv4;\n         desc_cursor = desc_lv4;\n \n@@ -99,7 +99,7 @@ function writeSolaxiaCommandsLv4() {    //SuperGM\n         //addCommand(\"playernpc\", \"\");\n }\n \n-function writeSolaxiaCommandsLv3() {    //GM\n+function writeHeavenMSCommandsLv3() {    //GM\n         comm_cursor = comm_lv3;\n         desc_cursor = desc_lv3;\n \n@@ -154,7 +154,7 @@ function writeSolaxiaCommandsLv3() {    //GM\n         addCommand(\"hair\", \"\");\n }\n \n-function writeSolaxiaCommandsLv2() {    //JrGM\n+function writeHeavenMSCommandsLv2() {    //JrGM\n         comm_cursor = comm_lv2;\n         desc_cursor = desc_lv2;\n \n@@ -191,7 +191,7 @@ function writeSolaxiaCommandsLv2() {    //JrGM\n         addCommand(\"unbug\", \"\");\n }\n \n-function writeSolaxiaCommandsLv1() {    //Donator\n+function writeHeavenMSCommandsLv1() {    //Donator\n         comm_cursor = comm_lv1;\n         desc_cursor = desc_lv1;\n \n@@ -204,7 +204,7 @@ function writeSolaxiaCommandsLv1() {    //Donator\n         addCommand(\"recharge\", \"\");\n }\n \n-function writeSolaxiaCommandsLv0() {    //Common\n+function writeHeavenMSCommandsLv0() {    //Common\n         comm_cursor = comm_lv0;\n         desc_cursor = desc_lv0;\n \n@@ -231,19 +231,19 @@ function writeSolaxiaCommandsLv0() {    //Common\n         addCommand(\"luk\", \"\");\n }\n \n-function writeSolaxiaCommands() {\n-        writeSolaxiaCommandsLv0();  //Common\n-        writeSolaxiaCommandsLv1();  //Donator\n-        writeSolaxiaCommandsLv2();  //JrGM\n-        writeSolaxiaCommandsLv3();  //GM\n-        writeSolaxiaCommandsLv4();  //Developer\n-        writeSolaxiaCommandsLv5();  //SuperGM\n-        writeSolaxiaCommandsLv6();  //Admin\n+function writeHeavenMSCommands() {\n+        writeHeavenMSCommandsLv0();  //Common\n+        writeHeavenMSCommandsLv1();  //Donator\n+        writeHeavenMSCommandsLv2();  //JrGM\n+        writeHeavenMSCommandsLv3();  //GM\n+        writeHeavenMSCommandsLv4();  //Developer\n+        writeHeavenMSCommandsLv5();  //SuperGM\n+        writeHeavenMSCommandsLv6();  //Admin\n }\n \n function start() {\n         status = -1;\n-        writeSolaxiaCommands();\n+        writeHeavenMSCommands();\n         action(1, 0, 0);\n }\n "}, {"sha": "323702e5182c4af477b073fdf25ca2df9dd7c217", "filename": "scripts/npc/rank_user.js", "status": "added", "additions": 65, "deletions": 0, "changes": 65, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/rank_user.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/npc/rank_user.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/rank_user.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,65 @@\n+/*\n+    This file is part of the HeavenMS MapleStory Server\n+    Copyleft (L) 2016 - 2018 RonanLana\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+/* \n+ * @Author Ronan\n+ * Player NPC Ranking System */\n+\n+importPackage(Packages.constants);\n+\n+var status;\n+ \n+function start() {\n+        status = -1;\n+        action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+        if (mode == -1) {\n+                cm.dispose();\n+        } else {\n+                if (mode == 0 && type > 0) {\n+                        cm.dispose();\n+                        return;\n+                }\n+                if (mode == 1)\n+                        status++;\n+                else\n+                        status--;\n+    \n+                if(status == 0) {\n+                        var pnpc = cm.getPlayerNPCByScriptid(cm.getNpc());\n+                        \n+                        if(pnpc != null) {\n+                            var branchJobName = GameConstants.getJobName(pnpc.getJob());\n+                            \n+                            var rankStr = \"Hi, I am #b\" + pnpc.getName() + \"#k, #r\" + GameConstants.ordinal(pnpc.getWorldJobRank()) + \"#k in the #r\" + branchJobName + \"#k class to reach the max level and obtain a statue on \" + GameConstants.WORLD_NAMES[cm.getPlayer().getWorld()] + \".\\r\\n\";\n+                            rankStr += \"\\r\\n    World rank: #e#b\" + GameConstants.ordinal(pnpc.getWorldRank()) + \"#k#n\";\n+                            rankStr += \"\\r\\n    Overall \" + branchJobName + \" rank: #e#b\" + GameConstants.ordinal(pnpc.getOverallJobRank()) + \"#k#n\";\n+                            rankStr += \"\\r\\n    Overall rank: #e#b\" + GameConstants.ordinal(pnpc.getOverallRank()) + \"#k#n\";\n+                            \n+                            cm.sendOk(rankStr);\n+                        } else {\n+                            cm.sendOk(\"Hi, how're you doing?\");\n+                        }\n+                        \n+                        cm.dispose();\n+                }\n+        }\n+}"}, {"sha": "72bddbe0bd42f252e0e26c9510d1733292b47ea3", "filename": "scripts/portal/elevator.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/portal/elevator.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/portal/elevator.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/elevator.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,6 +1,6 @@\n function enter(pi) {\n     try {\n-        var elevator = pi.getEventManager(\"elevator\");\n+        var elevator = pi.getEventManager(\"Elevator\");\n         if (elevator == null) {\n             pi.getPlayer().dropMessage(5, \"The elevator is under maintenance.\");\n         } else if (elevator.getProperty(pi.getMapId() == 222020100 ? (\"goingUp\") : (\"goingDown\")).equals(\"false\")) {"}, {"sha": "da3e8f08275f971ac980b1bee4d8233f5a7befb0", "filename": "scripts/portal/eliza_Garden.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/portal/eliza_Garden.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/portal/eliza_Garden.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/eliza_Garden.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -20,6 +20,6 @@\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n function enter(pi){\n-\tpi.playPortalSound(); pi.warp(920020000, 0);\n+\tpi.playPortalSound(); pi.warp(920020000, 2);\n \treturn true;\n }\n\\ No newline at end of file"}, {"sha": "8cd02265d2152aeddac5fa16d5f685cd820123b2", "filename": "scripts/portal/rankDeveloperRoom.js", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/portal/rankDeveloperRoom.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/portal/rankDeveloperRoom.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/rankDeveloperRoom.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,20 @@\n+function enter(pi) {\n+    if (pi.getPlayer().getMapId() != 777777777) {\n+        if(!Packages.constants.GameConstants.canEnterDeveloperRoom()) {\n+            pi.message(\"The next room is currently unavailable.\");\n+            return false;\n+        }\n+        \n+        pi.getPlayer().saveLocation(\"DEVELOPER\");\n+        pi.playPortalSound(); pi.warp(777777777, \"out00\");\n+    } else {\n+        try {\n+            var toMap = pi.getPlayer().getSavedLocation(\"DEVELOPER\");\n+            pi.playPortalSound(); pi.warp(toMap, \"in00\");\n+        } catch(err) {\n+            pi.playPortalSound(); pi.warp(100000000, 0);\n+        }\n+    }\n+    \n+    return true;\n+}\n\\ No newline at end of file"}, {"sha": "bf69c8675b605b154bad3e99fcd2f30328b18c20", "filename": "scripts/portal/rankRoom.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/portal/rankRoom.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/portal/rankRoom.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/rankRoom.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -21,7 +21,7 @@ function enter(pi) {\n             pi.warp(100000204, 1); //or 100000205\n             break;\n \tdefault:\n-            pi.warp(pi.getMapId() + 1, 0); //or + 2\n+            pi.warp(pi.getMapId() + 1, 1); //or + 2\n             break;\n     }\n \t"}, {"sha": "46883d9ee5e4bc58dd42a64d6f973ef7a99f17bc", "filename": "scripts/quest/3114.js", "status": "added", "additions": 62, "deletions": 0, "changes": 62, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/quest/3114.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/scripts/quest/3114.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/quest/3114.js?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,62 @@\n+/*\n+    This file is part of the HeavenMS MapleStory Server\n+    Copyleft (L) 2016 - 2018 RonanLana\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+\n+var status = -1;\n+\n+function end(mode, type, selection) {\n+    if (mode == -1) {\n+        qm.dispose();\n+    } else {\n+        if(mode == 0 && type > 0) {\n+            qm.dispose();\n+            return;\n+        }\n+        \n+        if (mode == 1)\n+            status++;\n+        else\n+            status--;\n+        \n+        if (status == 0) {\n+            if(qm.getQuestProgress(3114, 7777) != -1) {\n+                if(!qm.haveItem(4161036, 1)) {\n+                    if(qm.canHold(4161036, 1)) {\n+                        qm.gainItem(4161036, 1);\n+                        qm.sendNext(\"Seems you lost a book with the notes to Little Star. Here is another one. Please play it for me.\", 9);\n+                    } else {\n+                        qm.sendNext(\"Seems you lost a book with the notes to Little Star, but you don't have an ETC available. Please free some room.\", 9);\n+                    }\n+                } else {\n+                    qm.sendNext(\".....\", 9);\n+                }\n+                \n+                qm.dispose();\n+                return;\n+            }\n+            \n+            qm.sendNext(\"(Eliza seems to be in deep sleep.)\", 3);\n+        } else if (status == 1) {\n+            qm.gainFame(20);\n+            \n+            qm.forceCompleteQuest();\n+            qm.dispose();\n+        }\n+    }\n+}\n\\ No newline at end of file"}, {"sha": "a20f960dab80577045a33bb87e87df0c99d6c059", "filename": "sql/db_database.sql", "status": "modified", "additions": 20, "deletions": 7, "changes": 27, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/sql/db_database.sql", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/sql/db_database.sql", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/sql/db_database.sql?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -16477,27 +16477,40 @@ CREATE TABLE IF NOT EXISTS `playernpcs` (\n   `hair` int(11) NOT NULL,\n   `face` int(11) NOT NULL,\n   `skin` int(11) NOT NULL,\n+  `gender` int(11) NOT NULL DEFAULT '0',\n   `x` int(11) NOT NULL,\n   `cy` int(11) NOT NULL DEFAULT '0',\n-  `map` int(11) NOT NULL,\n-  `gender` int(11) NOT NULL DEFAULT '0',\n+  `world` int(11) NOT NULL DEFAULT '0',\n+  `map` int(11) NOT NULL DEFAULT '0',\n   `dir` int(11) NOT NULL DEFAULT '0',\n-  `ScriptId` int(10) unsigned NOT NULL DEFAULT '0',\n-  `Foothold` int(11) NOT NULL DEFAULT '0',\n+  `scriptid` int(10) unsigned NOT NULL DEFAULT '0',\n+  `fh` int(11) NOT NULL DEFAULT '0',\n   `rx0` int(11) NOT NULL DEFAULT '0',\n   `rx1` int(11) NOT NULL DEFAULT '0',\n+  `worldrank` int(11) NOT NULL DEFAULT '0',\n+  `overallrank` int(11) NOT NULL DEFAULT '0',\n+  `worldjobrank` int(11) NOT NULL DEFAULT '0',\n+  `job` int(11) NOT NULL DEFAULT '0',\n   PRIMARY KEY (`id`) USING BTREE\n-) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;\n+) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=2147000000 ;\n \n CREATE TABLE IF NOT EXISTS `playernpcs_equip` (\n   `id` int(11) NOT NULL AUTO_INCREMENT,\n-  `NpcId` int(11) NOT NULL DEFAULT '0',\n+  `npcid` int(11) NOT NULL DEFAULT '0',\n   `equipid` int(11) NOT NULL,\n   `type` int(11) NOT NULL DEFAULT '0',\n   `equippos` int(11) NOT NULL,\n   PRIMARY KEY (`id`)\n ) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;\n \n+CREATE TABLE IF NOT EXISTS `playernpcs_field` (\n+  `id` int(11) NOT NULL AUTO_INCREMENT,\n+  `world` int(11) NOT NULL,\n+  `map` int(11) NOT NULL,\n+  `step` tinyint(1) NOT NULL DEFAULT '0',\n+  PRIMARY KEY (`id`)\n+) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;\n+\n CREATE TABLE IF NOT EXISTS `questactions` (\n   `questactionid` int(10) unsigned NOT NULL AUTO_INCREMENT,\n   `questid` int(11) NOT NULL DEFAULT '0',\n@@ -17401,7 +17414,7 @@ CREATE TABLE IF NOT EXISTS `rings` (\n CREATE TABLE IF NOT EXISTS `savedlocations` (\n   `id` int(11) NOT NULL AUTO_INCREMENT,\n   `characterid` int(11) NOT NULL,\n-  `locationtype` enum('FREE_MARKET','WORLDTOUR','FLORINA','INTRO','MIRROR','EVENT','BOSSPQ','HAPPYVILLE') NOT NULL,\n+  `locationtype` enum('FREE_MARKET','WORLDTOUR','FLORINA','INTRO','SUNDAY_MARKET','MIRROR','EVENT','BOSSPQ','HAPPYVILLE','DEVELOPER') NOT NULL,\n   `map` int(11) NOT NULL,\n   `portal` int(11) NOT NULL,\n   PRIMARY KEY (`id`)"}, {"sha": "b072dcd8fc1ecfdb38502e6af0f343f0d29dcd57", "filename": "src/client/MapleCharacter.java", "status": "modified", "additions": 7, "deletions": 65, "changes": 72, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/client/MapleCharacter.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/client/MapleCharacter.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleCharacter.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -94,7 +94,7 @@\n import server.maps.MaplePlayerShop;\n import server.maps.MaplePlayerShopItem;\n import server.maps.MapleSummon;\n-import server.maps.PlayerNPCs;\n+import server.life.MaplePlayerNPC;\n import server.maps.SavedLocation;\n import server.maps.SavedLocationType;\n import server.partyquest.MonsterCarnival;\n@@ -313,7 +313,7 @@\n     private int banishMap = -1;\n     private int banishSp = -1;\n     private long banishTime = 0;\n-\n+    \n     private MapleCharacter() {\n         useCS = false;\n         \n@@ -5111,6 +5111,7 @@ public void levelUp(boolean takeexp) {\n         maxmp = Math.min(30000, maxmp);\n         if (level == 200) {\n             exp.set(0);\n+            if(ServerConstants.PLAYERNPC_AUTODEPLOY) MaplePlayerNPC.spawnPlayerNPC(GameConstants.getHallOfFameMapid(job), this);\n         }\n         recalcLocalStats();\n         hp = localmaxhp;\n@@ -5226,11 +5227,11 @@ private void levelUpMessages() {\n         } else if (level == 80) {\n             yellowMessage(\"You think you are powerful enough? Try facing horntail!\");\n         } else if (level == 85) {\n-            yellowMessage(\"Did you know? The majority of people who hit level 85 in Solaxia don't live to be 85 years old?\");\n+            yellowMessage(\"Did you know? The majority of people who hit level 85 in HeavenMS don't live to be 85 years old?\");\n         } else if (level == 90) {\n             yellowMessage(\"Hey do you like the amusement park? I heard Spooky World is the best theme park around. I heard they sell cute teddy-bears.\");\n         } else if (level == 95) {\n-            yellowMessage(\"100% of people who hit level 95 in Solaxia don't live to be 95 years old.\");\n+            yellowMessage(\"100% of people who hit level 95 in HeavenMS don't live to be 95 years old.\");\n         } else if (level == 100) {\n             yellowMessage(\"Mid-journey so far... You just reached level 100! Now THAT's such a feat, however to manage the 200 you will need even more passion and determination than ever! Good hunting!\");\n         } else if (level == 105) {\n@@ -5923,65 +5924,6 @@ public void mount(int id, int skillid) {\n         maplemount = new MapleMount(this, id, skillid);\n     }\n \n-    public void playerNPC(MapleCharacter v, int scriptId) {\n-        int npcId;\n-        try {\n-            Connection con = DatabaseConnection.getConnection();\n-            PreparedStatement ps = con.prepareStatement(\"SELECT id FROM playernpcs WHERE ScriptId = ?\");\n-            ps.setInt(1, scriptId);\n-            ResultSet rs = ps.executeQuery();\n-            if (!rs.next()) {\n-                rs.close();\n-                ps = con.prepareStatement(\"INSERT INTO playernpcs (name, hair, face, skin, x, cy, map, ScriptId, Foothold, rx0, rx1) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\", Statement.RETURN_GENERATED_KEYS);\n-                ps.setString(1, v.getName());\n-                ps.setInt(2, v.getHair());\n-                ps.setInt(3, v.getFace());\n-                ps.setInt(4, v.getSkinColor().getId());\n-                ps.setInt(5, getPosition().x);\n-                ps.setInt(6, getPosition().y);\n-                ps.setInt(7, getMapId());\n-                ps.setInt(8, scriptId);\n-                ps.setInt(9, getMap().getFootholds().findBelow(getPosition()).getId());\n-                ps.setInt(10, getPosition().x + 50);\n-                ps.setInt(11, getPosition().x - 50);\n-                ps.executeUpdate();\n-                rs = ps.getGeneratedKeys();\n-                rs.next();\n-                npcId = rs.getInt(1);\n-                ps.close();\n-                ps = con.prepareStatement(\"INSERT INTO playernpcs_equip (NpcId, equipid, equippos) VALUES (?, ?, ?)\");\n-                ps.setInt(1, npcId);\n-                for (Item equip : getInventory(MapleInventoryType.EQUIPPED)) {\n-                    int position = Math.abs(equip.getPosition());\n-                    if ((position < 12 && position > 0) || (position > 100 && position < 112)) {\n-                        ps.setInt(2, equip.getItemId());\n-                        ps.setInt(3, equip.getPosition());\n-                        ps.addBatch();\n-                    }\n-                }\n-                ps.executeBatch();\n-                ps.close();\n-                rs.close();\n-                ps = con.prepareStatement(\"SELECT * FROM playernpcs WHERE ScriptId = ?\");\n-                ps.setInt(1, scriptId);\n-                rs = ps.executeQuery();\n-                rs.next();\n-                PlayerNPCs pn = new PlayerNPCs(rs);\n-                for (Channel channel : Server.getInstance().getChannelsFromWorld(world)) {\n-                    MapleMap m = channel.getMapFactory().getMap(getMapId());\n-                    m.broadcastMessage(MaplePacketCreator.spawnPlayerNPC(pn));\n-                    m.broadcastMessage(MaplePacketCreator.getPlayerNPC(pn));\n-                    m.addMapObject(pn);\n-                }\n-            }\n-            ps.close();\n-            rs.close();\n-            con.close();\n-        } catch (SQLException e) {\n-            e.printStackTrace();\n-        }\n-    }\n-\n     private void playerDead() {\n         cancelAllBuffs(false);\n         dispelDebuffs();\n@@ -6840,7 +6782,7 @@ public synchronized void saveToDB(boolean notAutosave) {\n     }\n \n     public void sendPolice(int greason, String reason, int duration) {\n-        announce(MaplePacketCreator.sendPolice(String.format(\"You have been blocked by the#b %s Police for %s.#k\", \"Solaxia\", reason)));\n+        announce(MaplePacketCreator.sendPolice(String.format(\"You have been blocked by the#b %s Police for %s.#k\", \"HeavenMS\", reason)));\n         this.isbanned = true;\n         TimerManager.getInstance().schedule(new Runnable() {\n             @Override\n@@ -7966,7 +7908,7 @@ public String getAreaInfo(int area) {\n \n     public void autoban(String reason) {\n         this.ban(reason);\n-        announce(MaplePacketCreator.sendPolice(String.format(\"You have been blocked by the#b %s Police for HACK reason.#k\", \"Solaxia\")));\n+        announce(MaplePacketCreator.sendPolice(String.format(\"You have been blocked by the#b %s Police for HACK reason.#k\", \"HeavenMS\")));\n         TimerManager.getInstance().schedule(new Runnable() {\n             @Override\n             public void run() {"}, {"sha": "f5950a16bb419262bd56736bc4f6dfd3d0ccdb78", "filename": "src/client/MapleClient.java", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/client/MapleClient.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/client/MapleClient.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleClient.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -112,7 +112,7 @@\n \tprivate long lastNpcClick;\n \tprivate long sessionId;\n \n-\tpublic MapleClient(MapleAESOFB send, MapleAESOFB receive, IoSession session) {\n+        public MapleClient(MapleAESOFB send, MapleAESOFB receive, IoSession session) {\n \t\tthis.send = send;\n \t\tthis.receive = receive;\n \t\tthis.session = session;\n@@ -914,21 +914,21 @@ public final synchronized void disconnect(boolean shutdown, boolean cashshop) {/\n \t\t\t} catch (final Exception e) {\n \t\t\t\tFilePrinter.printError(FilePrinter.ACCOUNT_STUCK, e);\n \t\t\t} finally {\n-\t\t\t\tgetChannelServer().removePlayer(player);\n-                                \n                                 if (!this.serverTransition) {\n \t\t\t\t\tworlda.removePlayer(player);\n+                                        //getChannelServer().removePlayer(player); already being done\n                                         \n                                         player.saveCooldowns();\n                                         player.saveToDB(true);\n \t\t\t\t\tif (player != null) {//no idea, occur :(\n \t\t\t\t\t\tplayer.empty(false);\n \t\t\t\t\t}\n \t\t\t\t\tplayer.logOff();\n-\t\t\t\t}\n-                                else {\n-                                    player.saveCooldowns();\n-                                    player.saveToDB();\n+\t\t\t\t} else {\n+                                        getChannelServer().removePlayer(player);\n+\n+                                        player.saveCooldowns();\n+                                        player.saveToDB();\n                                 }\n                                 player = null;\n \t\t\t}"}, {"sha": "2bbc5ec4a1d468429030c3ad8ea3faec215dab89", "filename": "src/client/MapleJob.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/client/MapleJob.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/client/MapleJob.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleJob.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -64,7 +64,7 @@\n \n     final int jobid;\n     final static int maxId = 22;    // maxId = (EVAN / 100);\n-\n+    \n     private MapleJob(int id) {\n         jobid = id;\n     }"}, {"sha": "a7732c4cf314459cf1c12a886e444831f20a6d6f", "filename": "src/client/MapleQuestStatus.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/client/MapleQuestStatus.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/client/MapleQuestStatus.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleQuestStatus.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -142,7 +142,7 @@ public boolean progress(int id) {\n     }\n \n     public void setProgress(int id, String pr) {\n-        \tprogress.put(id, pr);\n+        progress.put(id, pr);\n     }\n \n     public boolean madeProgress() {"}, {"sha": "69ef6466dd255db8e330d65d1bdd00032c4523c7", "filename": "src/client/command/Commands.java", "status": "modified", "additions": 23, "deletions": 11, "changes": 34, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/client/command/Commands.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/client/command/Commands.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/Commands.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -68,6 +68,7 @@\n import server.life.MapleMonster;\n import server.life.MapleMonsterInformationProvider;\n import server.life.MapleNPC;\n+import server.life.MaplePlayerNPC;\n import server.life.MobSkill;\n import server.life.MobSkillFactory;\n import server.life.MonsterDropEntry;\n@@ -350,6 +351,22 @@ public static boolean executeHeavenMsCommandLv0(Channel cserv, Server srv, Maple\n                 MapleCharacter player = c.getPlayer();\n             \n                 switch(sub[0]) {\n+                    case \"wow\":\n+                        MaplePlayerNPC.multicastSpawnPlayerNPC(player.getMapId(), player.getWorld());\n+                        break;\n+                        \n+                    case \"out\":\n+                        MaplePlayerNPC.removeAllPlayerNPC();\n+                        break;\n+                    \n+                    case \"er\":\n+                        MaplePlayerNPC.spawnPlayerNPC(player.getMapId(), player);\n+                        break;\n+                        \n+                    case \"re\":\n+                        MaplePlayerNPC.removePlayerNPC(player);\n+                        break;\n+                    \n                 case \"help\":\n \t\tcase \"commands\":\n                 case \"playercommands\":\n@@ -369,7 +386,7 @@ public static boolean executeHeavenMsCommandLv0(Channel cserv, Server srv, Maple\n \t\tcase \"time\":\n \t\t\tDateFormat dateFormat = new SimpleDateFormat(\"HH:mm:ss\");\n \t\t\tdateFormat.setTimeZone(TimeZone.getTimeZone(ServerConstants.TIMEZONE));\n-\t\t\tplayer.yellowMessage(\"Solaxia Server Time: \" + dateFormat.format(new Date()));\n+\t\t\tplayer.yellowMessage(\"HeavenMS Server Time: \" + dateFormat.format(new Date()));\n \t\t\tbreak;\n                 \n                 case \"credits\":\n@@ -2069,10 +2086,6 @@ public static boolean executeHeavenMsCommandLv3(Channel cserv, Server srv, Maple\n \t\t\t}\n                     break;\n                 \n-                case \"energy\":\n-                        System.out.println(c.getPlayer().getDojoEnergy());\n-                        break;\n-                    \n                 case \"maxenergy\":\n                         c.getPlayer().setDojoEnergy(10000);\n                         c.announce(MaplePacketCreator.getEnergy(\"energy\", 10000));\n@@ -2599,16 +2612,15 @@ public static boolean executeHeavenMsCommandLv4(Channel cserv, Server srv, Maple\n                         \n                         player.getMap().spawnMonsterOnGroundBelow(monster, player.getPosition());\n                         break;\n-                            \n-                    /*\n+                    \n                     case \"playernpc\":\n                         if (sub.length < 3){\n-                            player.yellowMessage(\"Syntax: !playernpc <playername> <npcid>\");\n+                            player.yellowMessage(\"Syntax: !playernpc <playername>\");\n                             break;\n                         }\n-                        player.playerNPC(c.getChannelServer().getPlayerStorage().getCharacterByName(sub[1]), Integer.parseInt(sub[2]));\n+                        \n+                        MaplePlayerNPC.spawnPlayerNPC(player.getMapId(), player.getPosition(), c.getChannelServer().getPlayerStorage().getCharacterByName(sub[1]));\n \t\t\tbreak;\n-                    */\n                         \n                     default:\n                         return false;\n@@ -2930,7 +2942,7 @@ public static boolean executeHeavenMsCommand(Channel cserv, Server srv, MapleCli\n                 else return true;\n         }\n         \n-        public static boolean executeSolaxiaPlayerCommand(MapleClient c, String[] sub, char heading) {\n+        public static boolean executeHeavenMSPlayerCommand(MapleClient c, String[] sub, char heading) {\n \t\tChannel cserv = c.getChannelServer();\n \t\tServer srv = Server.getInstance();\n                 "}, {"sha": "f830bf7d65a2119d21808d562c33772023de8e01", "filename": "src/client/inventory/Item.java", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/client/inventory/Item.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/client/inventory/Item.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/inventory/Item.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -26,6 +26,7 @@\n import java.util.LinkedList;\n import java.util.List;\n import java.util.Random;\n+import server.MapleItemInformationProvider;\n \n public class Item implements Comparable<Item> {\n \n@@ -153,7 +154,7 @@ public long getExpiration() {\n     }\n \n     public void setExpiration(long expire) {\n-        this.expiration = expire;\n+        this.expiration = !ItemConstants.isPermanentItem(id) ? expire : ItemConstants.isPet(id) ? Long.MAX_VALUE : -1;\n     }\n \n     public int getSN() {"}, {"sha": "25463bacd736dfd158196990ef32f40ce9d77e6c", "filename": "src/client/inventory/MapleInventory.java", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/client/inventory/MapleInventory.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/client/inventory/MapleInventory.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/inventory/MapleInventory.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -550,4 +550,12 @@ public void checked(boolean yes) {\n             lock.unlock();\n         }\n     }\n+    \n+    public void lockInventory() {\n+        lock.lock();\n+    }\n+    \n+    public void unlockInventory() {\n+        lock.unlock();\n+    }\n }\n\\ No newline at end of file"}, {"sha": "0a3647ea0ba89e10e6f16322d9886f24cc4d8dff", "filename": "src/constants/GameConstants.java", "status": "modified", "additions": 143, "deletions": 0, "changes": 143, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/constants/GameConstants.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/constants/GameConstants.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/constants/GameConstants.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,5 +1,7 @@\n package constants;\n \n+import java.util.HashMap;\n+import java.util.Map;\n import client.MapleJob;\n import constants.skills.Aran;\n import server.maps.MapleMap;\n@@ -11,13 +13,26 @@\n  * @author Ronan\n  */\n public class GameConstants {\n+    public static String[] WORLD_NAMES = {\"Scania\", \"Bera\", \"Broa\", \"Windia\", \"Khaini\", \"Bellocan\", \"Mardia\", \"Kradia\", \"Yellonde\", \"Demethos\", \"Galicia\", \"El Nido\", \"Zenith\", \"Arcenia\", \"Kastia\", \"Judis\", \"Plana\", \"Kalluna\", \"Stius\", \"Croa\", \"Medere\"};\n+    \n+    final static Map<Integer, String> jobNames = new HashMap<>();\n     public static final int[] OWL_DATA = new int[]{1082002, 2070005, 2070006, 1022047, 1102041, 2044705, 2340000, 2040017, 1092030, 2040804};\n     \n     // Ronan's rates upgrade system\n     private static final int[] DROP_RATE_GAIN = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14};\n     private static final int[] MESO_RATE_GAIN = {1, 3, 6, 10, 15, 21, 28, 36, 45, 55, 66, 78, 91, 105};\n     private static final int[]  EXP_RATE_GAIN = {1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610};    //fibonacci :3\n     \n+    public static boolean availableDeveloperRoom = false;\n+    \n+    public static void setAvailableDeveloperRoom() {\n+        availableDeveloperRoom = true;\n+    }\n+    \n+    public static boolean canEnterDeveloperRoom() {\n+        return availableDeveloperRoom;\n+    }\n+    \n     public static int getPlayerBonusDropRate(int slot) {\n         return(DROP_RATE_GAIN[slot]);\n     }\n@@ -63,6 +78,130 @@ public static int getPlayerBonusExpRate(int slot) {\n         330000, 340000, 350000, 360000, 370000, 380000, 390000, 400000, 410000, 420000, 430000, 440000, 450000, 460000, 470000, 480000, 490000, 500000, 510000, 520000,\n         530000, 550000, 570000, 590000, 610000, 630000, 650000, 670000, 690000, 710000, 730000, 750000, 770000, 790000, 810000, 830000, 850000, 870000, 890000, 910000};\n     \n+    public static String getJobName(int jobid) {\n+        String name = jobNames.get(jobid);\n+        \n+        if(name == null) {\n+            MapleJob job = MapleJob.getById(jobid);\n+            \n+            if(job != null) {\n+                name = job.name().toLowerCase();\n+                name = name.replaceAll(\"[*0-9]\", \"\");\n+                name = name.substring(0, 1).toUpperCase() + name.substring(1);\n+            } else {\n+                name = \"\";\n+            }\n+        \n+            jobNames.put(jobid, name);\n+        }\n+        \n+        return name;\n+    }\n+    \n+    public static boolean isHallOfFameMap(int mapid) {\n+        switch(mapid) {\n+            case 102000004:     // warrior\n+            case 101000004:     // magician\n+            case 100000204:     // bowman\n+            case 103000008:     // thief\n+            case 120000105:     // pirate\n+            case 130000100:     // cygnus\n+            case 130000101:     // other cygnus\n+            case 130000110:     // cygnus 2nd floor\n+            case 130000120:     // cygnus 3rd floor (beginners)\n+            case 140010110:     // aran\n+                return true;\n+                \n+            default:\n+                return false;\n+        }\n+    }\n+    \n+    public static byte getHallOfFameBranch(MapleJob job, int mapid) {\n+        if(!isHallOfFameMap(mapid)) {\n+            return (byte) (26 + 4 * (mapid / 100000000));   // custom, 400 pnpcs available per continent\n+        }\n+        \n+        if(job.isA(MapleJob.WARRIOR)) {\n+            return 10;\n+        } else if(job.isA(MapleJob.MAGICIAN)) {\n+            return 11;\n+        } else if(job.isA(MapleJob.BOWMAN)) {\n+            return 12;\n+        } else if(job.isA(MapleJob.THIEF)) {\n+            return 13;\n+        } else if(job.isA(MapleJob.PIRATE)) {\n+            return 14;\n+        } else if(job.isA(MapleJob.DAWNWARRIOR1)) {\n+            return 15;\n+        } else if(job.isA(MapleJob.BLAZEWIZARD1)) {\n+            return 16;\n+        } else if(job.isA(MapleJob.WINDARCHER1)) {\n+            return 17;\n+        } else if(job.isA(MapleJob.NIGHTWALKER1)) {\n+            return 18;\n+        } else if(job.isA(MapleJob.THUNDERBREAKER1)) {\n+            return 19;\n+        } else if(job.isA(MapleJob.ARAN1)) {\n+            return 20;\n+        } else if(job.isA(MapleJob.EVAN1)) {\n+            return 21;\n+        } else if(job.isA(MapleJob.BEGINNER)) {\n+            return 22;\n+        } else if(job.isA(MapleJob.NOBLESSE)) {\n+            return 23;\n+        } else if(job.isA(MapleJob.LEGEND)) {\n+            return 24;\n+        } else {\n+            return 25;\n+        }\n+    }\n+    \n+    public static int getOverallJobRankByScriptId(int scriptId) {\n+        int branch = (scriptId / 100) % 100;\n+        \n+        if(branch < 26) {\n+            return (scriptId % 100) + 1;\n+        } else {\n+            return ((scriptId - 2600) % 400) + 1;\n+        }\n+    }\n+    \n+    public static boolean canPnpcBranchUseScriptId(byte branch, int scriptId) {\n+        scriptId /= 100;\n+        scriptId %= 100;\n+        \n+        if(branch < 26) {\n+            return branch == scriptId;\n+        } else {\n+            return scriptId >= branch && scriptId < branch + 4;\n+        }\n+    }\n+    \n+    public static int getHallOfFameMapid(MapleJob job) {\n+        int jobid = job.getId();\n+        \n+        if(isCygnus(jobid)) {\n+            return 130000100;\n+        } else if(isAran(jobid)) {\n+            return 140010110;\n+        } else {\n+            if(job.isA(MapleJob.WARRIOR)) {\n+                return 102000004;\n+            } else if(job.isA(MapleJob.MAGICIAN)) {\n+                return 101000004;\n+            } else if(job.isA(MapleJob.BOWMAN)) {\n+                return 100000204;\n+            } else if(job.isA(MapleJob.THIEF)) {\n+                return 103000008;\n+            } else if(job.isA(MapleJob.PIRATE)) {\n+                return 120000105;\n+            } else {\n+                return 130000110;   // beginner explorers are allotted with the Cygnus, available map lul\n+            }\n+        }\n+    }\n+    \n     public static int getJobBranch(MapleJob job) {\n         int jobid = job.getId();\n         \n@@ -125,6 +264,10 @@ public static boolean isHiddenSkills(final int skill) {\n     \treturn Aran.HIDDEN_FULL_DOUBLE == skill || Aran.HIDDEN_FULL_TRIPLE == skill || Aran.HIDDEN_OVER_DOUBLE == skill || Aran.HIDDEN_OVER_TRIPLE == skill;\n     }\n     \n+    public static boolean isCygnus(final int job) {\n+        return job / 1000 == 1;\n+    }\n+    \n     public static boolean isAran(final int job) {\n         return job == 2000 || (job >= 2100 && job <= 2112);\n     }"}, {"sha": "f965f736008219ccdfbbc7bebf58620f388a1949", "filename": "src/constants/ItemConstants.java", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/constants/ItemConstants.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/constants/ItemConstants.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/constants/ItemConstants.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -22,6 +22,8 @@\n package constants;\n \n import client.inventory.MapleInventoryType;\n+import java.util.HashSet;\n+import java.util.Set;\n import java.util.HashMap;\n import java.util.Map;\n \n@@ -42,7 +44,15 @@\n     public final static int ACCOUNT_SHARING = 0x100;\n \n     public final static boolean EXPIRING_ITEMS = true;\n+    public final static Set<Integer> permanentItemids = new HashSet<>();\n \n+    static {\n+        int[] pi = {5000060, 5000100, 5000101, 5000102};    // i ain't going to open one gigantic itemid cache just for 4 perma itemids, no way!\n+        for(int i : pi) {\n+            permanentItemids.add(i);\n+        }\n+    }\n+    \n     public static int getFlagByInt(int type) {\n         if (type == 128) {\n             return PET_COME;\n@@ -97,6 +107,10 @@ public static boolean isExpirablePet(int itemId) {\n         return ServerConstants.USE_ERASE_PET_ON_EXPIRATION || itemId == 5000054;\n     }\n     \n+    public static boolean isPermanentItem(int itemId) {\n+        return permanentItemids.contains(itemId);\n+    }\n+    \n     public static boolean isNewYearCardEtc(int itemId) { \n         return itemId / 10000 == 430;\n     } "}, {"sha": "a6ffe166488eacddc48a45805e5d4b80219c8aa5", "filename": "src/constants/ServerConstants.java", "status": "modified", "additions": 16, "deletions": 6, "changes": 22, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/constants/ServerConstants.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/constants/ServerConstants.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/constants/ServerConstants.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -13,9 +13,8 @@\n     public static String DB_PASS = \"\";\n     public static final boolean DB_CONNECTION_POOL = true;      //Installs a connection pool to hub DB connections. Set false to default.\n     \n-    //World And Version\n+    //Server Version\n     public static short VERSION = 83;\n-    public static String[] WORLD_NAMES = {\"Scania\", \"Bera\", \"Broa\", \"Windia\", \"Khaini\", \"Bellocan\", \"Mardia\", \"Kradia\", \"Yellonde\", \"Demethos\", \"Galicia\", \"El Nido\", \"Zenith\", \"Arcenia\", \"Kastia\", \"Judis\", \"Plana\", \"Kalluna\", \"Stius\", \"Croa\", \"Medere\"};\n \n     //Login Configuration\n     public static final int CHANNEL_LOAD = 100;                 //Max players per channel (limit actually used to calculate the World server capacity).\n@@ -93,17 +92,19 @@\n     public static final boolean BLOCK_GENERATE_CASH_ITEM = false;   //Prevents creation of cash items with the item/drop command.\n     \n     //Miscellaneous Configuration\n-    public static final byte MIN_UNDERLEVEL_TO_EXP_GAIN = 5;        //Characters are unable to get EXP from a mob if their level are under this threshold, only if \"USE_ENFORCE_MOB_LEVEL_RANGE\" is enabled. For bosses, this attribute is doubled.\n-    public static final byte MAX_MONITORED_BUFFSTATS = 5;           //Limits accounting for \"dormant\" buff effects, that should take place when stronger stat buffs expires.\n+    public static String TIMEZONE = \"-GMT3\";\n+    public static boolean USE_UNITPRICE_WITH_COMMA = true;              //Set this accordingly with the layout of the unitPrices on Item.wz XML's, whether it's using commas or dots to represent fractions.\n+    public static final byte MIN_UNDERLEVEL_TO_EXP_GAIN = 5;            //Characters are unable to get EXP from a mob if their level are under this threshold, only if \"USE_ENFORCE_MOB_LEVEL_RANGE\" is enabled. For bosses, this attribute is doubled.\n+    public static final byte MAX_MONITORED_BUFFSTATS = 5;               //Limits accounting for \"dormant\" buff effects, that should take place when stronger stat buffs expires.\n     public static final int MAX_AP = 32767;                             //Max AP allotted on the auto-assigner.\n     public static final int MAX_EVENT_LEVELS = 8;                       //Event has different levels of rewarding system.\n     public static final long BLOCK_NPC_RACE_CONDT = (long)(0.5 * 1000); //Time the player client must wait before reopening a conversation with an NPC.\n     public static final long PET_LOOT_UPON_ATTACK = (long)(0.7 * 1000); //Time the pet must wait before trying to pick items up.\n-    public static boolean USE_UNITPRICE_WITH_COMMA = true;         //Set this accordingly with the layout of the unitPrices on Item.wz XML's, whether it's using commas or dots to represent fractions.\n-    public static String TIMEZONE = \"-GMT3\";\n+    public static final int TOT_MOB_QUEST_REQUIREMENT = 0;              //Overwrites old 999-mobs requirement for the ToT questline with new requirement value, set 0 for default.\n     \n     //Dangling Items/Locks Configuration\n     public static final int ITEM_EXPIRE_TIME  = 3 * 60 * 1000;  //Time before items start disappearing. Recommended to be set up to 3 minutes.\n+    public static final int KITE_EXPIRE_TIME  = 60 * 60 * 1000; //Time before new year (cash item) kite disappears.\n     public static final int ITEM_MONITOR_TIME = 5 * 60 * 1000;  //Interval between item monitoring tasks on maps, which checks for dangling (null) item objects on the map item history.\n     public static final int LOCK_MONITOR_TIME = 30 * 1000;      //Waiting time for a lock to be released. If it reach timed out, a critical server deadlock has made present.\n     public static final int ITEM_EXPIRE_CHECK = 10 * 1000;      //Interval between item expiring tasks on maps, which checks and makes disappear expired items.\n@@ -145,6 +146,15 @@\n     public static final byte CHAIR_EXTRA_HEAL_HP = 70;          //Each chair extra heal proc increasing HP.\n     public static final byte CHAIR_EXTRA_HEAL_MP = 42;          //Each chair extra heal proc increasing MP.\n     \n+    //Player NPC Configuration\n+    public static final int PLAYERNPC_INITIAL_X = 262;          //Map frame width for putting PlayerNPCs.\n+    public static final int PLAYERNPC_INITIAL_Y = 262;          //Map frame height for putting PlayerNPCs.\n+    public static final int PLAYERNPC_AREA_X = 320;             //Initial width gap between PlayerNPCs.\n+    public static final int PLAYERNPC_AREA_Y = 160;             //Initial height gap between PlayerNPCs.\n+    public static final int PLAYERNPC_AREA_STEPS = 4;           //Max number of times gap is shortened to comport PlayerNPCs\n+    public static final boolean PLAYERNPC_ORGANIZE_AREA = true; //Automatically rearranges PlayerNPCs on the map if there is no space set the new NPC. Current distance gap between NPCs is decreased to solve this issue.\n+    public static final boolean PLAYERNPC_AUTODEPLOY = true;    //Makes PlayerNPC automatically deployed on the Hall of Fame at the instant one reaches max level. If false, eligible players must talk to 1st job instructor to deploy a NPC.\n+    \n     //Pet Auto-Pot Configuration\n     public static final boolean USE_EQUIPS_ON_AUTOPOT = true;   //Player MaxHP and MaxMP check values on autopot handler will be updated by the HP/MP bonuses on equipped items.\n     public static final double PET_AUTOHP_RATIO = 0.99;         //Will automatically consume potions until given ratio of the MaxHP/MaxMP is reached."}, {"sha": "431d1e73c451debcaf0a7f0474e42c47a320fe18", "filename": "src/net/PacketProcessor.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/PacketProcessor.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/PacketProcessor.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/PacketProcessor.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -227,6 +227,7 @@ public void reset(int channel) {\n             registerHandler(RecvOpcode.USE_SOLOMON_ITEM, new UseSolomonHandler());\n             registerHandler(RecvOpcode.USE_GACHA_EXP, new UseGachaExpHandler());\n             registerHandler(RecvOpcode.NEW_YEAR_CARD_REQUEST, new NewYearCardHandler());\n+            registerHandler(RecvOpcode.CASHSHOP_SURPRISE, new CashShopSurpriseHandler());\n             registerHandler(RecvOpcode.USE_ITEM_REWARD, new ItemRewardHandler());\n             registerHandler(RecvOpcode.USE_REMOTE, new RemoteGachaponHandler());\n             registerHandler(RecvOpcode.ACCEPT_FAMILY, new AcceptFamilyHandler());"}, {"sha": "a0c88c0b44f89889ddbe4f94f860e56ccec20e41", "filename": "src/net/RecvOpcode.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/RecvOpcode.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/RecvOpcode.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/RecvOpcode.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -147,6 +147,7 @@\n     USE_SOLOMON_ITEM(0x9D),\n     USE_GACHA_EXP(0x9E),\n     NEW_YEAR_CARD_REQUEST(0x9F),\n+    CASHSHOP_SURPRISE(0xA1),\n     CLICK_GUIDE(0xA2),\n     ARAN_COMBO_COUNTER(0xA3),\n     MOVE_PET(0xA7),"}, {"sha": "0ffd7d685759a73066c06e5b59c7e86b0413f48c", "filename": "src/net/SendOpcode.java", "status": "modified", "additions": 12, "deletions": 2, "changes": 14, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/SendOpcode.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/SendOpcode.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/SendOpcode.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -268,8 +268,9 @@\n     UPDATE_HIRED_MERCHANT(0x10B),\n     DROP_ITEM_FROM_MAPOBJECT(0x10C),\n     REMOVE_ITEM_FROM_MAP(0x10D),\n-    KITE_MESSAGE(0x10E),\n-    KITE(0x10F),\n+    CANNOT_SPAWN_KITE(0x10E),\n+    SPAWN_KITE(0x10F),\n+    REMOVE_KITE(0x110),\n     SPAWN_MIST(0x111),\n     REMOVE_MIST(0x112),\n     SPAWN_DOOR(0x113),\n@@ -326,6 +327,15 @@\n     QUERY_CASH_RESULT(0x144),\n     CASHSHOP_OPERATION(0x145),\n     \n+    //check whether the character's name is ok.(0x146),\n+    //this name can be used, press ok if you wish.(0x147),\n+    //rule for character name change (needed lots of bytes)(0x148),\n+    //rule for character transfer(0x14A),\n+    //cannot receive gacha stamps(0x14B),\n+    CASHSHOP_GACHAPON_STAMP_RESULT(0x14C),\n+    CASHSHOP_CASH_ITEM_GACHAPON_RESULT(0x14D),\n+    CASHSHOP_CASH_GACHAPON_OPEN_RESULT(0x14E),\n+    \n     KEYMAP(0x14F),\n     AUTO_HP_POT(0x150),\n     AUTO_MP_POT(0x151),"}, {"sha": "94c3d5a17481b39d02f19e0c3f8f204519044ec1", "filename": "src/net/server/Server.java", "status": "modified", "additions": 79, "deletions": 12, "changes": 91, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/Server.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/Server.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/Server.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -27,11 +27,13 @@\n import java.io.FileInputStream;\n import java.io.IOException;\n import java.net.InetSocketAddress;\n+import java.security.Security;\n import java.sql.Connection;\n import java.sql.PreparedStatement;\n import java.sql.ResultSet;\n import java.sql.SQLException;\n import java.util.ArrayList;\n+import java.util.Calendar;\n import java.util.HashSet;\n import java.util.Iterator;\n import java.util.HashMap;\n@@ -43,7 +45,6 @@\n import java.util.Set;\n import tools.locks.MonitoredReentrantLock;\n import java.util.concurrent.locks.Lock;\n-\n import net.MapleServerHandler;\n import net.mina.MapleCodecFactory;\n import net.server.channel.Channel;\n@@ -60,23 +61,23 @@\n import org.apache.mina.filter.codec.ProtocolCodecFilter;\n import org.apache.mina.transport.socket.nio.NioSocketAcceptor;\n \n-import server.CashShop.CashItemFactory;\n-import server.TimerManager;\n-import tools.DatabaseConnection;\n-import tools.FilePrinter;\n-import tools.Pair;\n import client.MapleClient;\n import client.MapleCharacter;\n import client.SkillFactory;\n import client.newyear.NewYearCardRecord;\n import constants.ItemConstants;\n+import constants.GameConstants;\n import constants.ServerConstants;\n-import java.security.Security;\n-import java.util.Calendar;\n import net.server.audit.ThreadTracker;\n+import server.CashShop.CashItemFactory;\n+import server.TimerManager;\n+import server.life.MaplePlayerNPCFactory;\n import server.quest.MapleQuest;\n-import tools.locks.MonitoredLockType;\n import tools.AutoJCE;\n+import tools.DatabaseConnection;\n+import tools.FilePrinter;\n+import tools.Pair;\n+import tools.locks.MonitoredLockType;\n \n public class Server {\n     private static final Set<Integer> activeFly = new HashSet<>();\n@@ -89,6 +90,7 @@\n     private final Properties subnetInfo = new Properties();\n     private static Server instance = null;\n     private final Map<Integer, Set<Integer>> accountChars = new HashMap<>();\n+    private final Map<Integer, Integer> worldChars = new HashMap<>();\n     private final Map<String, Integer> transitioningChars = new HashMap<>();\n     private List<Pair<Integer, String>> worldRecommendedList = new LinkedList<>();\n     private final Map<Integer, MapleGuild> guilds = new HashMap<>(100);\n@@ -132,6 +134,25 @@ public NewYearCardRecord removeNewYearCard(int cardid) {\n         return newyears.remove(cardid);\n     }\n \n+    private void loadPlayerNpcMapStepFromDb() {\n+        try {\n+            Connection con = DatabaseConnection.getConnection();\n+            PreparedStatement ps = con.prepareStatement(\"SELECT * FROM playernpcs_field\");\n+                        \n+            ResultSet rs = ps.executeQuery();\n+            while(rs.next()) {\n+                int world = rs.getInt(\"world\"), map = rs.getInt(\"map\"), step = rs.getInt(\"step\");\n+                worlds.get(world).setPlayerNpcMapStep(map, step, true);\n+            }\n+            \n+            rs.close();\n+            ps.close();\n+            con.close();\n+        } catch (SQLException e) {\n+            e.printStackTrace();\n+        }\n+    }\n+    \n     /*\n     public void removeChannel(int worldid, int channel) {   //lol don't!\n         channels.remove(channel);\n@@ -365,7 +386,7 @@ public void init() {\n         if(ServerConstants.USE_THREAD_TRACKER) ThreadTracker.getInstance().registerThreadTrackerTask();\n         \n         try {\n-            Integer worldCount = Math.min(ServerConstants.WORLD_NAMES.length, Integer.parseInt(p.getProperty(\"worlds\")));\n+            Integer worldCount = Math.min(GameConstants.WORLD_NAMES.length, Integer.parseInt(p.getProperty(\"worlds\")));\n             \n             for (int i = 0; i < worldCount; i++) {\n                 System.out.println(\"Starting world \" + i);\n@@ -389,6 +410,9 @@ public void init() {\n                 world.setServerMessage(p.getProperty(\"servermessage\" + i));\n                 System.out.println(\"Finished loading world \" + i + \"\\r\\n\");\n             }\n+            \n+            MaplePlayerNPCFactory.loadFactoryMetadata();\n+            loadPlayerNpcMapStepFromDb();\n         } catch (Exception e) {\n             e.printStackTrace();//For those who get errors\n             System.out.println(\"Error in moople.ini, start CreateINI.bat to re-make the file.\");\n@@ -579,7 +603,7 @@ public MapleGuild getGuild(int id, int world, MapleCharacter mc) {\n             \n             if(mc != null) {\n                 mc.setMGC(g.getMGC(mc.getId()));\n-                if(g.getMGC(mc.getId()) == null) System.out.println(\"null for \" + mc.getName() + \" when loading \" + id);\n+                if(g.getMGC(mc.getId()) == null) System.out.println(\"null for \" + mc.getName() + \" when loading guild \" + id);\n                 g.getMGC(mc.getId()).setCharacter(mc);\n                 g.setOnline(mc.getId(), true, mc.getClient().getChannel());\n             }\n@@ -824,7 +848,7 @@ public boolean haveCharacterid(Integer accountid, Integer chrid) {\n         }\n     }\n     \n-    public void createCharacterid(Integer accountid, Integer chrid) {\n+    public void createCharacterid(Integer accountid, Integer chrid, Integer world) {\n         lgnLock.lock();\n         try {\n             Set<Integer> accChars = accountChars.get(accountid);\n@@ -834,6 +858,7 @@ public void createCharacterid(Integer accountid, Integer chrid) {\n             }\n \n             accChars.add(chrid);\n+            worldChars.put(chrid, world);\n         } finally {\n             lgnLock.unlock();\n         }\n@@ -846,6 +871,48 @@ public void deleteCharacterid(Integer accountid, Integer chrid) {\n             if(accChars != null) {\n                 accChars.remove(chrid);\n             }\n+            \n+            worldChars.remove(chrid);\n+        } finally {\n+            lgnLock.unlock();\n+        }\n+    }\n+    \n+    private static int getCharacterWorldFromDB(int chrid) {\n+        int world = -1;\n+        \n+        try {\n+            Connection con = DatabaseConnection.getConnection();\n+\n+            try (PreparedStatement ps = con.prepareStatement(\"SELECT world FROM characters WHERE id = ?\")) {\n+                ps.setInt(1, chrid);\n+\n+                try (ResultSet rs = ps.executeQuery()) {\n+                    if(rs.next()) {\n+                        world = rs.getInt(\"world\");\n+                    }\n+                }\n+            }\n+\n+            con.close();\n+        } catch (SQLException sqle) {\n+            sqle.printStackTrace();\n+        }\n+        \n+        return world;\n+    }\n+    \n+    public int getCharacterWorld(Integer chrid) {\n+        lgnLock.lock();\n+        try {\n+            Integer worldid = worldChars.get(chrid);\n+            \n+            if(worldid == null) {\n+                worldid = getCharacterWorldFromDB(chrid);\n+                worldChars.put(chrid, worldid);\n+            }\n+            \n+            return worldid;\n         } finally {\n             lgnLock.unlock();\n         }"}, {"sha": "6213488f75a70e99eb5a491474e9193f09fca71f", "filename": "src/net/server/channel/Channel.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/channel/Channel.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/channel/Channel.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/Channel.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -191,8 +191,8 @@ public PlayerStorage getPlayerStorage() {\n         return players;\n     }\n \n-    public void removePlayer(MapleCharacter chr) {\n-        players.removePlayer(chr.getId());\n+    public boolean removePlayer(MapleCharacter chr) {\n+        return players.removePlayer(chr.getId()) != null;\n     }\n     \n     public int getChannelCapacity() {"}, {"sha": "a331393ffcab60f7c6ef8e200d336daebf348b77", "filename": "src/net/server/channel/handlers/AbstractDealDamageHandler.java", "status": "modified", "additions": 31, "deletions": 23, "changes": 54, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/channel/handlers/AbstractDealDamageHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/channel/handlers/AbstractDealDamageHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/AbstractDealDamageHandler.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -445,29 +445,37 @@ public void run() {\n                                 AutobanFactory.FIX_DAMAGE.autoban(player, String.valueOf(totDamageToOneMonster) + \" damage\");\n                             }\n                             \n-                            if(ServerConstants.USE_ULTRA_THREE_SNAILS) {\n-                                AbstractPlayerInteraction api = player.getClient().getAbstractPlayerInteraction();\n-                                \n-                                int shellId;\n-                                switch(totDamageToOneMonster) {\n-                                    case 10:\n-                                        shellId = 4000019;\n-                                        break;\n-                                        \n-                                    case 25:\n-                                        shellId = 4000000;\n-                                        break;\n-                                        \n-                                    default:\n-                                        shellId = 4000016;\n-                                }\n-                                \n-                                if(api.haveItem(shellId, 1)) {\n-                                    api.gainItem(shellId, (short)-1, false);\n-                                    totDamageToOneMonster *= player.getLevel();\n-                                }\n-                                else {\n-                                    player.dropMessage(5, \"You ran out of shells to activate the hidden power of Three Snails.\");\n+                            int threeSnailsId = player.getJobType() * 10000000 + 1000;\n+                            if(attack.skill == threeSnailsId) {\n+                                if(ServerConstants.USE_ULTRA_THREE_SNAILS) {\n+                                    int skillLv = player.getSkillLevel(threeSnailsId);\n+\n+                                    if(skillLv > 0) {\n+                                        AbstractPlayerInteraction api = player.getClient().getAbstractPlayerInteraction();\n+\n+                                        int shellId;\n+                                        switch(skillLv) {\n+                                            case 1:\n+                                                shellId = 4000019;\n+                                                break;\n+\n+                                            case 2:\n+                                                shellId = 4000000;\n+                                                break;\n+\n+                                            default:\n+                                                shellId = 4000016;\n+                                        }\n+\n+                                        if(api.haveItem(shellId, 1)) {\n+                                            api.gainItem(shellId, (short) -1, false);\n+                                            totDamageToOneMonster *= player.getLevel();\n+                                        } else {\n+                                            player.dropMessage(5, \"You have ran out of shells to activate the hidden power of Three Snails.\");\n+                                        }\n+                                    } else {\n+                                        totDamageToOneMonster = 0;\n+                                    }\n                                 }\n                             }\n                         }"}, {"sha": "8e0bdb827da7c1f434c873f66be9d837f76ec92e", "filename": "src/net/server/channel/handlers/CashOperationHandler.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/channel/handlers/CashOperationHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/channel/handlers/CashOperationHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/CashOperationHandler.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -73,7 +73,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             \n             if (action == 0x03) { // Item\n                 Item item = cItem.toItem();\n-                cs.addToInventory(item);               \n+                cs.addToInventory(item);\n                 c.announce(MaplePacketCreator.showBoughtCashItem(item, c.getAccID()));\n             } else { // Package\n                 List<Item> cashPackage = CashItemFactory.getPackage(cItem.getItemId());"}, {"sha": "6de6c73ef0255c484e11ca0ea510d7b15f4d3730", "filename": "src/net/server/channel/handlers/CashShopSurpriseHandler.java", "status": "added", "additions": 48, "deletions": 0, "changes": 48, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/channel/handlers/CashShopSurpriseHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/channel/handlers/CashShopSurpriseHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/CashShopSurpriseHandler.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,48 @@\n+/*\n+    This file is part of the HeavenMS MapleStory Server\n+    Copyleft (L) 2016 - 2018 RonanLana\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package net.server.channel.handlers;\n+\n+import client.MapleClient;\n+import client.inventory.Item;\n+import net.AbstractMaplePacketHandler;\n+import server.CashShop;\n+import tools.data.input.SeekableLittleEndianAccessor;\n+import tools.MaplePacketCreator;\n+\n+/**\n+ *\n+ * @author RonanLana\n+ */\n+public class CashShopSurpriseHandler extends AbstractMaplePacketHandler {\n+    @Override\n+    public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n+        CashShop cs = c.getPlayer().getCashShop();\n+        \n+        if(cs.isOpened()) {\n+            Item cssItem = cs.openCashShopSurprise();\n+            \n+            if(cssItem != null) {\n+                c.announce(MaplePacketCreator.showCashShopMessage((byte) 0xA4));\n+            } else {\n+                c.announce(MaplePacketCreator.showCashShopMessage((byte) 0x00));\n+            }\n+        }\n+    }\n+}"}, {"sha": "6e06e9884ea31bc1d1d6dd85bb735b3ea1ea09c1", "filename": "src/net/server/channel/handlers/GeneralChatHandler.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/channel/handlers/GeneralChatHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/channel/handlers/GeneralChatHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/GeneralChatHandler.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -59,7 +59,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                         String[] sp = s.split(\" \");\n                         sp[0] = sp[0].toLowerCase().substring(1);\n \n-                        if(Commands.executeSolaxiaPlayerCommand(c, sp, heading)) {\n+                        if(Commands.executeHeavenMSPlayerCommand(c, sp, heading)) {\n                             String command = \"\";\n                             for (String used : sp) {\n                                     command += used + \" \";"}, {"sha": "49f5843e2cf425ee0ecbedf704161ff7fb23e3c9", "filename": "src/net/server/channel/handlers/NPCTalkHandler.java", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/channel/handlers/NPCTalkHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/channel/handlers/NPCTalkHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/NPCTalkHandler.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -28,7 +28,7 @@\n import scripting.npc.NPCScriptManager;\n import server.life.MapleNPC;\n import server.maps.MapleMapObject;\n-import server.maps.PlayerNPCs;\n+import server.life.MaplePlayerNPC;\n import tools.FilePrinter;\n import tools.MaplePacketCreator;\n import tools.data.input.SeekableLittleEndianAccessor;\n@@ -78,8 +78,14 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                     }\n                 }\n             }\n-        } else if (obj instanceof PlayerNPCs) {\n-            NPCScriptManager.getInstance().start(c, ((PlayerNPCs) obj).getId(), null);\n+        } else if (obj instanceof MaplePlayerNPC) {\n+            MaplePlayerNPC pnpc = (MaplePlayerNPC) obj;\n+            \n+            if(pnpc.getScriptId() < 9977777) {\n+                NPCScriptManager.getInstance().start(c, pnpc.getScriptId(), \"rank_user\", null);\n+            } else {\n+                NPCScriptManager.getInstance().start(c, pnpc.getScriptId(), null);\n+            }\n         }\n     }\n }\n\\ No newline at end of file"}, {"sha": "04f7ba928eb2af2a26f6e8fadcd1cef9a36d2500", "filename": "src/net/server/channel/handlers/PetAutoPotHandler.java", "status": "modified", "additions": 60, "deletions": 52, "changes": 112, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/channel/handlers/PetAutoPotHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/channel/handlers/PetAutoPotHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/PetAutoPotHandler.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -25,6 +25,7 @@\n import client.MapleCharacter;\n import client.inventory.Equip;\n import client.inventory.Item;\n+import client.inventory.MapleInventory;\n import client.inventory.MapleInventoryType;\n import net.AbstractMaplePacketHandler;\n import server.MapleInventoryManipulator;\n@@ -69,67 +70,74 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n         itemId = slea.readInt();\n         \n         MapleCharacter chr = c.getPlayer();\n-        toUse = chr.getInventory(MapleInventoryType.USE).getItem(slot);\n+        MapleInventory useInv = chr.getInventory(MapleInventoryType.USE);\n         \n-        if(toUse != null) {\n-            if (toUse.getItemId() != itemId) {\n-                c.announce(MaplePacketCreator.enableActions());\n-                return;\n-            }\n-            \n-            toUseList = null;\n-            \n-            // from now on, toUse becomes the \"cursor\" for the current pot being used\n-            if(toUse.getQuantity() <= 0) {\n-                if(!cursorOnNextAvailablePot(chr)) {\n+        useInv.lockInventory();\n+        try {\n+            toUse = useInv.getItem(slot);\n+        \n+            if(toUse != null) {\n+                if (toUse.getItemId() != itemId) {\n                     c.announce(MaplePacketCreator.enableActions());\n                     return;\n                 }\n-            }\n-            \n-            MapleStatEffect stat = MapleItemInformationProvider.getInstance().getItemEffect(toUse.getItemId());\n-            hasHpGain = stat.getHp() > 0 || stat.getHpRate() > 0.0;\n-            hasMpGain = stat.getMp() > 0 || stat.getMpRate() > 0.0;\n-            \n-            // contabilize the HP and MP gains from equipments on one's effective MaxHP/MaxMP\n-            Pair<Short, Short> maxHpMp = calcEffectivePool(chr);\n-            maxHp = maxHpMp.left;\n-            maxMp = maxHpMp.right;\n-            \n-            incHp = stat.getHp();\n-            if(incHp <= 0 && hasHpGain) incHp = (short)(maxHp * stat.getHpRate());\n-            \n-            incMp = stat.getMp();\n-            if(incMp <= 0 && hasMpGain) incMp = (short)(maxMp * stat.getMpRate());\n-            \n-            curHp = chr.getHp();\n-            curMp = chr.getMp();\n-            \n-            //System.out.println(\"\\n-------------------\\n\");\n-            while(true) {\n-                do {\n-                    MapleInventoryManipulator.removeFromSlot(c, MapleInventoryType.USE, slot, (short) 1, false);\n-                    stat.applyTo(chr);\n-                    \n-                    curHp += incHp;\n-                    curMp += incMp;\n-\n-                    //System.out.println();\n-                    //System.out.println(\"hp: \" + hasHpGain + \" hpgain \" + incHp + \" player hp \" + curHp + \" maxhp \" + maxHp);\n-                    //System.out.println(\"mp: \" + hasMpGain + \" mpgain \" + incMp + \" player mp \" + curMp + \" maxmp \" + maxMp);\n-                    //System.out.println(\"redo? \" + (shouldReusePot() && toUse.getQuantity() > 0));\n-                } while(shouldReusePot() && toUse.getQuantity() > 0);\n-\n-                if(toUse.getQuantity() == 0 && shouldReusePot()) {\n-                    // depleted out the current slot, fetch for more\n \n+                toUseList = null;\n+\n+                // from now on, toUse becomes the \"cursor\" for the current pot being used\n+                if(toUse.getQuantity() <= 0) {\n                     if(!cursorOnNextAvailablePot(chr)) {\n-                        break;    // no more pots available\n+                        c.announce(MaplePacketCreator.enableActions());\n+                        return;\n+                    }\n+                }\n+\n+                MapleStatEffect stat = MapleItemInformationProvider.getInstance().getItemEffect(toUse.getItemId());\n+                hasHpGain = stat.getHp() > 0 || stat.getHpRate() > 0.0;\n+                hasMpGain = stat.getMp() > 0 || stat.getMpRate() > 0.0;\n+\n+                // contabilize the HP and MP gains from equipments on one's effective MaxHP/MaxMP\n+                Pair<Short, Short> maxHpMp = calcEffectivePool(chr);\n+                maxHp = maxHpMp.left;\n+                maxMp = maxHpMp.right;\n+\n+                incHp = stat.getHp();\n+                if(incHp <= 0 && hasHpGain) incHp = (short)(maxHp * stat.getHpRate());\n+\n+                incMp = stat.getMp();\n+                if(incMp <= 0 && hasMpGain) incMp = (short)(maxMp * stat.getMpRate());\n+\n+                curHp = chr.getHp();\n+                curMp = chr.getMp();\n+\n+                //System.out.println(\"\\n-------------------\\n\");\n+                while(true) {\n+                    do {\n+                        MapleInventoryManipulator.removeFromSlot(c, MapleInventoryType.USE, slot, (short) 1, false);\n+                        stat.applyTo(chr);\n+\n+                        curHp += incHp;\n+                        curMp += incMp;\n+\n+                        //System.out.println();\n+                        //System.out.println(\"hp: \" + hasHpGain + \" hpgain \" + incHp + \" player hp \" + curHp + \" maxhp \" + maxHp);\n+                        //System.out.println(\"mp: \" + hasMpGain + \" mpgain \" + incMp + \" player mp \" + curMp + \" maxmp \" + maxMp);\n+                        //System.out.println(\"redo? \" + (shouldReusePot() && toUse.getQuantity() > 0));\n+                    } while(shouldReusePot() && toUse.getQuantity() > 0);\n+\n+                    if(toUse.getQuantity() == 0 && shouldReusePot()) {\n+                        // depleted out the current slot, fetch for more\n+\n+                        if(!cursorOnNextAvailablePot(chr)) {\n+                            break;    // no more pots available\n+                        }\n+                    } else {\n+                        break;    // gracefully finished it's job, quit the loop\n                     }\n-                } else {\n-                    break;    // gracefully finished it's job, quit the loop\n                 }\n             }\n+        } finally {\n+            useInv.unlockInventory();\n         }\n     }\n     "}, {"sha": "789863aee0dfc4a5f12d6417d6c36b6e262d1660", "filename": "src/net/server/channel/handlers/UseCashItemHandler.java", "status": "modified", "additions": 54, "deletions": 45, "changes": 99, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/channel/handlers/UseCashItemHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/channel/handlers/UseCashItemHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/UseCashItemHandler.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -33,6 +33,7 @@\n import client.inventory.MapleInventoryType;\n import client.inventory.MaplePet;\n import client.inventory.ModifyInventory;\n+import constants.GameConstants;\n import constants.ItemConstants;\n import constants.ServerConstants;\n \n@@ -51,6 +52,7 @@\n import server.TimerManager;\n import server.maps.AbstractMapleMapObject;\n import server.maps.MaplePlayerShopItem;\n+import server.maps.MapleKite;\n import server.maps.MapleMap;\n import server.maps.MapleTVEffect;\n import tools.MaplePacketCreator;\n@@ -82,7 +84,49 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             c.announce(MaplePacketCreator.enableActions());\n             return;\n         }\n-        if (itemType == 505) { // AP/SP reset\n+        \n+        if (itemType == 504) { // vip teleport rock\n+            String error1 = \"Either the player could not be found or you were trying to teleport to an illegal location.\";\n+            boolean vip = slea.readByte() == 1;\n+            remove(c, itemId);\n+            if (!vip) {\n+                int mapId = slea.readInt();\n+                if (c.getChannelServer().getMapFactory().getMap(mapId).getForcedReturnId() == 999999999) {\n+                \tplayer.changeMap(c.getChannelServer().getMapFactory().getMap(mapId));\n+                } else {\n+                    MapleInventoryManipulator.addById(c, itemId, (short) 1);\n+                    c.getPlayer().dropMessage(1, error1);\n+                    c.announce(MaplePacketCreator.enableActions());\n+                }\n+            } else {\n+                String name = slea.readMapleAsciiString();\n+                MapleCharacter victim = c.getChannelServer().getPlayerStorage().getCharacterByName(name);\n+                boolean success = false;\n+                if (victim != null) {\n+                    MapleMap target = victim.getMap();\n+                    if (c.getChannelServer().getMapFactory().getMap(victim.getMapId()).getForcedReturnId() == 999999999 || victim.getMapId() < 100000000) {\n+                        if (victim.gmLevel() <= player.gmLevel()) {\n+                            if (itemId == 5041000 || victim.getMapId() / player.getMapId() == 1) { //viprock & same continent\n+                                player.changeMap(target, target.findClosestPlayerSpawnpoint(victim.getPosition()));\n+                                success = true;\n+                            } else {\n+                                player.dropMessage(1, \"You cannot teleport between continents with this teleport rock.\");\n+                            }\n+                        } else {\n+                            player.dropMessage(1, error1);\n+                        }\n+                    } else {\n+                        player.dropMessage(1, \"You cannot teleport to this map.\");\n+                    }\n+                } else {\n+                    player.dropMessage(1, \"Player could not be found in this channel.\");\n+                }\n+                if (!success) {\n+                    MapleInventoryManipulator.addById(c, itemId, (short) 1);\n+                    c.announce(MaplePacketCreator.enableActions());\n+                }\n+            }\n+        } else if (itemType == 505) { // AP/SP reset\n             if(!player.isAlive()) {\n                 c.announce(MaplePacketCreator.enableActions());\n                 return;\n@@ -368,9 +412,15 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                     break;\n             }\n             remove(c, itemId);\n-        } else if (itemType == 508) { //graduation banner\n-            slea.readMapleAsciiString(); // message, separated by 0A for lines\n-            c.announce(MaplePacketCreator.enableActions());\n+        } else if (itemType == 508) {   // graduation banner, thanks to tmskdl12\n+            MapleKite kite = new MapleKite(c.getPlayer(), slea.readMapleAsciiString(), itemId);\n+            \n+            if (!GameConstants.isFreeMarketRoom(c.getPlayer().getMapId())) {\n+                c.getPlayer().getMap().spawnKite(kite);\n+                remove(c, itemId);\n+            } else {\n+                c.announce(MaplePacketCreator.sendCannotSpawnKite());\n+            }\n         } else if (itemType == 509) {\n             String sendTo = slea.readMapleAsciiString();\n             String msg = slea.readMapleAsciiString();\n@@ -408,47 +458,6 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             player.getMap().broadcastMessage(player, MaplePacketCreator.changePetName(player, newName, 1), true);\n             c.announce(MaplePacketCreator.enableActions());\n             remove(c, itemId);\n-        } else if (itemType == 504) { // vip teleport rock\n-            String error1 = \"Either the player could not be found or you were trying to teleport to an illegal location.\";\n-            boolean vip = slea.readByte() == 1;\n-            remove(c, itemId);\n-            if (!vip) {\n-                int mapId = slea.readInt();\n-                if (c.getChannelServer().getMapFactory().getMap(mapId).getForcedReturnId() == 999999999) {\n-                \tplayer.changeMap(c.getChannelServer().getMapFactory().getMap(mapId));\n-                } else {\n-                    MapleInventoryManipulator.addById(c, itemId, (short) 1);\n-                    c.getPlayer().dropMessage(1, error1);\n-                    c.announce(MaplePacketCreator.enableActions());\n-                }\n-            } else {\n-                String name = slea.readMapleAsciiString();\n-                MapleCharacter victim = c.getChannelServer().getPlayerStorage().getCharacterByName(name);\n-                boolean success = false;\n-                if (victim != null) {\n-                    MapleMap target = victim.getMap();\n-                    if (c.getChannelServer().getMapFactory().getMap(victim.getMapId()).getForcedReturnId() == 999999999 || victim.getMapId() < 100000000) {\n-                        if (victim.gmLevel() <= player.gmLevel()) {\n-                            if (itemId == 5041000 || victim.getMapId() / player.getMapId() == 1) { //viprock & same continent\n-                                player.changeMap(target, target.findClosestPlayerSpawnpoint(victim.getPosition()));\n-                                success = true;\n-                            } else {\n-                                player.dropMessage(1, \"You cannot teleport between continents with this teleport rock.\");\n-                            }\n-                        } else {\n-                            player.dropMessage(1, error1);\n-                        }\n-                    } else {\n-                        player.dropMessage(1, \"You cannot teleport to this map.\");\n-                    }\n-                } else {\n-                    player.dropMessage(1, \"Player could not be found in this channel.\");\n-                }\n-                if (!success) {\n-                    MapleInventoryManipulator.addById(c, itemId, (short) 1);\n-                    c.announce(MaplePacketCreator.enableActions());\n-                }\n-            }\n         } else if (itemType == 520) {\n             player.gainMeso(ii.getMeso(itemId), true, false, true);\n             remove(c, itemId);"}, {"sha": "86590a893fe717f2de2fd62a293a09cb9db0b2b5", "filename": "src/net/server/handlers/login/CharSelectedHandler.java", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/handlers/login/CharSelectedHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/handlers/login/CharSelectedHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/handlers/login/CharSelectedHandler.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -35,11 +35,11 @@\n     @Override\n     public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n         int charId = slea.readInt();\n+        \n         String macs = slea.readMapleAsciiString();\n         String hwid = slea.readMapleAsciiString();\n         c.updateMacs(macs);\n         c.updateHWID(hwid);\n-        \n         if (c.hasBannedMac() || c.hasBannedHWID()) {\n             c.getSession().close(true);\n             return;\n@@ -51,6 +51,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             return;\n         }\n         \n+        c.setWorld(server.getCharacterWorld(charId));\n         if(c.getWorldServer().isWorldCapacityFull()) {\n             c.announce(MaplePacketCreator.getAfterLoginError(10));\n             return;"}, {"sha": "2034fa44426b3af0e8cb8fa52e1072f35bb159eb", "filename": "src/net/server/handlers/login/CharSelectedWithPicHandler.java", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/handlers/login/CharSelectedWithPicHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/handlers/login/CharSelectedWithPicHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/handlers/login/CharSelectedWithPicHandler.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -16,11 +16,11 @@\n     public void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n         String pic = slea.readMapleAsciiString();\n         int charId = slea.readInt();\n+        \n         String macs = slea.readMapleAsciiString();\n         String hwid = slea.readMapleAsciiString();\n         c.updateMacs(macs);\n         c.updateHWID(hwid);\n-\n         if (c.hasBannedMac() || c.hasBannedHWID()) {\n             c.getSession().close(true);\n             return;\n@@ -33,6 +33,7 @@ public void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n         }\n         \n         if (c.checkPic(pic)) {\n+            c.setWorld(server.getCharacterWorld(charId));\n             if(c.getWorldServer().isWorldCapacityFull()) {\n                 c.announce(MaplePacketCreator.getAfterLoginError(10));\n                 return;"}, {"sha": "dd7320e50d3ed29f04988054571fd04023790834", "filename": "src/net/server/handlers/login/CreateCharHandler.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/handlers/login/CreateCharHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/handlers/login/CreateCharHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/handlers/login/CreateCharHandler.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -136,7 +136,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n \t\t}\n \t\tc.announce(MaplePacketCreator.addNewCharEntry(newchar));\n                 \n-                Server.getInstance().createCharacterid(newchar.getAccountID(), newchar.getId());\n+                Server.getInstance().createCharacterid(newchar.getAccountID(), newchar.getId(), newchar.getWorld());\n                 Server.getInstance().broadcastGMMessage(c.getWorld(), MaplePacketCreator.sendYellowTip(\"[NEW CHAR]: \" + c.getAccountName() + \" has created a new character with IGN \" + name));\n \t}\n }\n\\ No newline at end of file"}, {"sha": "98a76aff19bd006f8281552747ed58014dd4cfd7", "filename": "src/net/server/handlers/login/PickCharHandler.java", "status": "modified", "additions": 22, "deletions": 5, "changes": 27, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/handlers/login/PickCharHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/handlers/login/PickCharHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/handlers/login/PickCharHandler.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -23,6 +23,7 @@\n \n import client.MapleClient;\n import java.net.InetAddress;\n+import java.net.InetSocketAddress;\n import java.net.UnknownHostException;\n import net.AbstractMaplePacketHandler;\n import net.server.Server;\n@@ -35,23 +36,39 @@\n     @Override\n     public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n         int charId = slea.readInt();\n-        int world = slea.readInt();//Wuuu? ):\n-        c.setWorld(world);\n+        slea.readInt(); // please don't let the client choose which world they should login\n+        \n+        Server server = Server.getInstance();\n+        if(!server.haveCharacterid(c.getAccID(), charId)) {\n+            c.getSession().close(true);\n+            return;\n+        }\n+        \n+        c.setWorld(server.getCharacterWorld(charId));\n+        if(c.getWorldServer().isWorldCapacityFull()) {\n+            c.announce(MaplePacketCreator.getAfterLoginError(10));\n+            return;\n+        }\n+        \n         String macs = slea.readMapleAsciiString();\n         c.updateMacs(macs);\n         if (c.hasBannedMac()) {\n             c.getSession().close(true);\n             return;\n         }\n+        \n         try {\n-            c.setChannel(Randomizer.nextInt(Server.getInstance().getWorld(world).getChannels().size()));\n+            c.setChannel(Randomizer.nextInt(c.getWorldServer().getChannels().size()));\n         } catch (Exception e) {\n             e.printStackTrace();\n             c.setChannel(1);\n         }\n-        Server.getInstance().unregisterLoginState(c);\n+        \n+        server.unregisterLoginState(c);\n         c.updateLoginState(MapleClient.LOGIN_SERVER_TRANSITION);\n-        String[] socket = Server.getInstance().getIP(c.getWorld(), c.getChannel()).split(\":\");\n+        server.setCharacteridInTransition((InetSocketAddress) c.getSession().getRemoteAddress(), charId);\n+        \n+        String[] socket = server.getIP(c.getWorld(), c.getChannel()).split(\":\");\n         try {\n             c.announce(MaplePacketCreator.getServerIP(InetAddress.getByName(socket[0]), Integer.parseInt(socket[1]), charId));\n         } catch (UnknownHostException e) {"}, {"sha": "bdef20bf521597b67f87f5132f8142e27a91ce22", "filename": "src/net/server/handlers/login/RegisterPicHandler.java", "status": "modified", "additions": 20, "deletions": 5, "changes": 25, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/handlers/login/RegisterPicHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/handlers/login/RegisterPicHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/handlers/login/RegisterPicHandler.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -8,30 +8,45 @@\n import tools.MaplePacketCreator;\n import tools.data.input.SeekableLittleEndianAccessor;\n import client.MapleClient;\n+import java.net.InetSocketAddress;\n \n public final class RegisterPicHandler extends AbstractMaplePacketHandler {\n \n     @Override\n     public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n         slea.readByte();\n         int charId = slea.readInt();\n+        \n         String macs = slea.readMapleAsciiString();\n-        String hwid = slea.readMapleAsciiString();\n-\t\t\n+        String hwid = slea.readMapleAsciiString();\t\n         c.updateMacs(macs);\n         c.updateHWID(hwid);\n-\t\t\n         if (c.hasBannedMac() || c.hasBannedHWID()) {\n             c.getSession().close(true);\n             return;\n         }\n+        \n+        Server server = Server.getInstance();\n+        if(!server.haveCharacterid(c.getAccID(), charId)) {\n+            c.getSession().close(true);\n+            return;\n+        }\n \t\t\n         String pic = slea.readMapleAsciiString();\n         if (c.getPic() == null || c.getPic().equals(\"\")) {\n             c.setPic(pic);\n-            Server.getInstance().unregisterLoginState(c);\n+            \n+            c.setWorld(server.getCharacterWorld(charId));\n+            if(c.getWorldServer().isWorldCapacityFull()) {\n+                c.announce(MaplePacketCreator.getAfterLoginError(10));\n+                return;\n+            }\n+            \n+            server.unregisterLoginState(c);\n             c.updateLoginState(MapleClient.LOGIN_SERVER_TRANSITION);\n-            String[] socket = Server.getInstance().getIP(c.getWorld(), c.getChannel()).split(\":\");\n+            server.setCharacteridInTransition((InetSocketAddress) c.getSession().getRemoteAddress(), charId);\n+            \n+            String[] socket = server.getIP(c.getWorld(), c.getChannel()).split(\":\");\n             try {\n                 c.announce(MaplePacketCreator.getServerIP(InetAddress.getByName(socket[0]), Integer.parseInt(socket[1]), charId));\n             } catch (UnknownHostException e) {"}, {"sha": "1e18f3a352177afd43818df76675b2a724b549a9", "filename": "src/net/server/handlers/login/ServerlistRequestHandler.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/handlers/login/ServerlistRequestHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/handlers/login/ServerlistRequestHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/handlers/login/ServerlistRequestHandler.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -22,7 +22,7 @@\n package net.server.handlers.login;\n \n import client.MapleClient;\n-import constants.ServerConstants;\n+import constants.GameConstants;\n import net.AbstractMaplePacketHandler;\n import net.server.Server;\n import net.server.world.World;\n@@ -35,7 +35,7 @@\n     public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n     \tServer server = Server.getInstance();\n         for (World world : server.getWorlds()) {\n-            c.announce(MaplePacketCreator.getServerList(world.getId(), ServerConstants.WORLD_NAMES[world.getId()], world.getFlag(), world.getEventMessage(), world.getChannels()));\n+            c.announce(MaplePacketCreator.getServerList(world.getId(), GameConstants.WORLD_NAMES[world.getId()], world.getFlag(), world.getEventMessage(), world.getChannels()));\n         }\n         c.announce(MaplePacketCreator.getEndOfServerList());\n         c.announce(MaplePacketCreator.selectWorld(0));//too lazy to make a check lol"}, {"sha": "6a62a3260ec02341f66e7eb56127cf760be252ea", "filename": "src/net/server/handlers/login/ViewAllCharSelectedWithPicHandler.java", "status": "modified", "additions": 21, "deletions": 6, "changes": 27, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/handlers/login/ViewAllCharSelectedWithPicHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/handlers/login/ViewAllCharSelectedWithPicHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/handlers/login/ViewAllCharSelectedWithPicHandler.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -9,6 +9,7 @@\n import tools.Randomizer;\n import tools.data.input.SeekableLittleEndianAccessor;\n import client.MapleClient;\n+import java.net.InetSocketAddress;\n \n public class ViewAllCharSelectedWithPicHandler extends AbstractMaplePacketHandler {\n \n@@ -17,22 +18,36 @@ public void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n \n         String pic = slea.readMapleAsciiString();\n         int charId = slea.readInt();\n-        int world = slea.readInt();//world\n-        c.setWorld(world);\n-        int channel = Randomizer.rand(0, Server.getInstance().getWorld(world).getChannels().size());\n+        slea.readInt(); // please don't let the client choose which world they should login\n+        \n+        Server server = Server.getInstance();\n+        if(!server.haveCharacterid(c.getAccID(), charId)) {\n+            c.getSession().close(true);\n+            return;\n+        }\n+        \n+        c.setWorld(server.getCharacterWorld(charId));\n+        int channel = Randomizer.rand(0, c.getWorldServer().getChannels().size());\n         c.setChannel(channel);\n+        \n         String macs = slea.readMapleAsciiString();\n         c.updateMacs(macs);\n-\n         if (c.hasBannedMac()) {\n             c.getSession().close(true);\n             return;\n         }\n+        \n         if (c.checkPic(pic)) {\n-            Server.getInstance().unregisterLoginState(c);\n+            if(c.getWorldServer().isWorldCapacityFull()) {\n+                c.announce(MaplePacketCreator.getAfterLoginError(10));\n+                return;\n+            }\n+            \n+            server.unregisterLoginState(c);\n             c.updateLoginState(MapleClient.LOGIN_SERVER_TRANSITION);\n+            server.setCharacteridInTransition((InetSocketAddress) c.getSession().getRemoteAddress(), charId);\n \n-            String[] socket = Server.getInstance().getIP(c.getWorld(), c.getChannel()).split(\":\");\n+            String[] socket = server.getIP(c.getWorld(), c.getChannel()).split(\":\");\n             try {\n                 c.announce(MaplePacketCreator.getServerIP(InetAddress.getByName(socket[0]), Integer.parseInt(socket[1]), charId));\n             } catch (UnknownHostException e) {"}, {"sha": "23e3df91df0d7820f853d36de743af35e023c23e", "filename": "src/net/server/handlers/login/ViewAllPicRegisterHandler.java", "status": "modified", "additions": 23, "deletions": 4, "changes": 27, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/handlers/login/ViewAllPicRegisterHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/handlers/login/ViewAllPicRegisterHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/handlers/login/ViewAllPicRegisterHandler.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -2,6 +2,7 @@\n \n import client.MapleClient;\n import java.net.InetAddress;\n+import java.net.InetSocketAddress;\n import java.net.UnknownHostException;\n import net.AbstractMaplePacketHandler;\n import net.server.Server;\n@@ -16,21 +17,39 @@\n     public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n         slea.readByte();\n         int charId = slea.readInt();\n-        c.setWorld(slea.readInt()); //world\n-        int channel = Randomizer.rand(0, Server.getInstance().getWorld(c.getWorld()).getChannels().size());\n+        slea.readInt(); // please don't let the client choose which world they should login\n+        \n+        Server server = Server.getInstance();\n+        if(!server.haveCharacterid(c.getAccID(), charId)) {\n+            c.getSession().close(true);\n+            return;\n+        }\n+        \n+        c.setWorld(server.getCharacterWorld(charId));\n+        if(c.getWorldServer().isWorldCapacityFull()) {\n+            c.announce(MaplePacketCreator.getAfterLoginError(10));\n+            return;\n+        }\n+        \n+        int channel = Randomizer.rand(0, server.getWorld(c.getWorld()).getChannels().size());\n         c.setChannel(channel);\n+        \n         String mac = slea.readMapleAsciiString();\n         c.updateMacs(mac);\n         if (c.hasBannedMac()) {\n             c.getSession().close(true);\n             return;\n         }\n+        \n         slea.readMapleAsciiString();\n         String pic = slea.readMapleAsciiString();\n         c.setPic(pic);\n-        Server.getInstance().unregisterLoginState(c);\n+        \n+        server.unregisterLoginState(c);\n         c.updateLoginState(MapleClient.LOGIN_SERVER_TRANSITION);\n-        String[] socket = Server.getInstance().getIP(c.getWorld(), channel).split(\":\");\n+        server.setCharacteridInTransition((InetSocketAddress) c.getSession().getRemoteAddress(), charId);\n+        \n+        String[] socket = server.getIP(c.getWorld(), channel).split(\":\");\n         try {\n             c.announce(MaplePacketCreator.getServerIP(InetAddress.getByName(socket[0]), Integer.parseInt(socket[1]), charId));\n         } catch (UnknownHostException e) {"}, {"sha": "9f1576567e2ff6c36fbb51c15fabf5a68abacd06", "filename": "src/net/server/worker/TimedMapObjectWorker.java", "status": "added", "additions": 37, "deletions": 0, "changes": 37, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/worker/TimedMapObjectWorker.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/worker/TimedMapObjectWorker.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/worker/TimedMapObjectWorker.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,37 @@\n+/*\n+    This file is part of the HeavenMS MapleStory Server\n+    Copyleft (L) 2016 - 2018 RonanLana\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package net.server.worker;\n+\n+import net.server.world.World;\n+\n+/**\n+ * @author Ronan\n+ */\n+public class TimedMapObjectWorker extends BaseWorker implements Runnable {\n+    \n+    @Override\n+    public void run() {\n+        wserv.runTimedMapObjectSchedule();\n+    }\n+    \n+    public TimedMapObjectWorker(World world) {\n+        super(world);\n+    }\n+}"}, {"sha": "6d2a273c1cab05e80984a4342e2f054b1aa7e070", "filename": "src/net/server/world/World.java", "status": "modified", "additions": 98, "deletions": 1, "changes": 99, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/world/World.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/net/server/world/World.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/world/World.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -58,6 +58,7 @@\n import net.server.worker.CharacterAutosaverWorker;\n import net.server.worker.MountTirednessWorker;\n import net.server.worker.PetFullnessWorker;\n+import net.server.worker.TimedMapObjectWorker;\n import net.server.PlayerStorage;\n import net.server.Server;\n import net.server.channel.Channel;\n@@ -80,6 +81,7 @@\n     private int id, flag, exprate, droprate, mesorate, questrate;\n     private String eventmsg;\n     private List<Channel> channels = new ArrayList<>();\n+    private Map<Integer, Byte> pnpcStep = new HashMap<>();\n     private Map<Integer, MapleMessenger> messengers = new HashMap<>();\n     private AtomicInteger runningMessengerId = new AtomicInteger();\n     private Map<Integer, MapleFamily> families = new LinkedHashMap<>();\n@@ -112,6 +114,10 @@\n     private Map<Integer, Pair<MapleHiredMerchant, Byte>> activeMerchants = new LinkedHashMap<>();\n     private long merchantUpdate;\n     \n+    private Map<Runnable, Long> registeredTimedMapObjects = new LinkedHashMap<>();\n+    private ScheduledFuture<?> timedMapObjectsSchedule;\n+    private Lock timedMapObjectLock = new MonitoredReentrantLock(MonitoredLockType.MAP_OBJS, true);\n+    \n     private ScheduledFuture<?> charactersSchedule;\n     \n     public World(int world, int flag, String eventmsg, int exprate, int droprate, int mesorate, int questrate) {\n@@ -130,6 +136,7 @@ public World(int world, int flag, String eventmsg, int exprate, int droprate, in\n         \n         petsSchedule = TimerManager.getInstance().register(new PetFullnessWorker(this), 60 * 1000, 60 * 1000);\n         mountsSchedule = TimerManager.getInstance().register(new MountTirednessWorker(this), 60 * 1000, 60 * 1000);\n+        timedMapObjectsSchedule = TimerManager.getInstance().register(new TimedMapObjectWorker(this), 60 * 1000, 60 * 1000);\n         charactersSchedule = TimerManager.getInstance().register(new CharacterAutosaverWorker(this), 60 * 60 * 1000, 60 * 60 * 1000);\n     }\n \n@@ -228,7 +235,18 @@ public PlayerStorage getPlayerStorage() {\n     }\n \n     public void removePlayer(MapleCharacter chr) {\n-        channels.get(chr.getClient().getChannel() - 1).removePlayer(chr);\n+        if(!channels.get(chr.getClient().getChannel() - 1).removePlayer(chr)) {\n+            if(!chr.getClient().getChannelServer().removePlayer(chr)) {\n+                // oy the player is not where it should be, find this mf\n+                \n+                for(Channel ch : channels) {\n+                    if(ch.removePlayer(chr)) {\n+                        break;\n+                    }\n+                }\n+            }\n+        }\n+        \n         players.removePlayer(chr.getId());\n     }\n     \n@@ -1035,6 +1053,80 @@ public MapleHiredMerchant getHiredMerchant(int ownerid) {\n         }\n     }\n     \n+    public void registerTimedMapObject(Runnable r, long duration) {\n+        timedMapObjectLock.lock();\n+        try {\n+            long expirationTime = System.currentTimeMillis() + duration;\n+            registeredTimedMapObjects.put(r, expirationTime);\n+        } finally {\n+            timedMapObjectLock.unlock();\n+        }\n+    }\n+    \n+    public void runTimedMapObjectSchedule() {\n+        List<Runnable> toRemove = new LinkedList<>();\n+        \n+        timedMapObjectLock.lock();\n+        try {\n+            long timeNow = System.currentTimeMillis();\n+            \n+            for(Entry<Runnable, Long> rtmo : registeredTimedMapObjects.entrySet()) {\n+                if(rtmo.getValue() <= timeNow) {\n+                    toRemove.add(rtmo.getKey());\n+                }\n+            }\n+            \n+            for(Runnable r : toRemove) {\n+                registeredTimedMapObjects.remove(r);\n+            }\n+        } finally {\n+            timedMapObjectLock.unlock();\n+        }\n+        \n+        for(Runnable r : toRemove) {\n+            r.run();\n+        }\n+    }\n+    \n+    public void setPlayerNpcMapStep(int mapid, int step) {\n+        setPlayerNpcMapStep(mapid, step, false);\n+    }\n+    \n+    public void setPlayerNpcMapStep(int mapid, int step, boolean silent) {\n+        if(!silent) {\n+            try {\n+                Connection con = DatabaseConnection.getConnection();\n+\n+                PreparedStatement ps;\n+                if(pnpcStep.containsKey(mapid)) {\n+                    ps = con.prepareStatement(\"UPDATE playernpcs_field SET step = ? WHERE world = ? AND map = ?\");\n+                } else {\n+                    ps = con.prepareStatement(\"INSERT INTO playernpcs_field (step, world, map) VALUES (?, ?, ?)\");\n+                }\n+\n+                ps.setInt(1, step);\n+                ps.setInt(2, id);\n+                ps.setInt(3, mapid);\n+                ps.executeUpdate();\n+\n+                ps.close();\n+                con.close();\n+            } catch (SQLException e) {\n+                e.printStackTrace();\n+            }\n+        }\n+        \n+        pnpcStep.put(mapid, (byte) step);\n+    }\n+    \n+    public int getPlayerNpcMapStep(int mapid) {\n+        try {\n+            return pnpcStep.get(mapid);\n+        } catch (NullPointerException npe) {\n+            return 0;\n+        }\n+    }\n+    \n     public void setServerMessage(String msg) {\n         for (Channel ch : channels) {\n             ch.setServerMessage(msg);\n@@ -1092,6 +1184,11 @@ public final void shutdown() {\n             mountsSchedule = null;\n         }\n         \n+        if(timedMapObjectsSchedule != null) {\n+            timedMapObjectsSchedule.cancel(false);\n+            timedMapObjectsSchedule = null;\n+        }\n+        \n         players.disconnectAll();\n     }\n }"}, {"sha": "d99d1a7c02d2fd8a8a91282b86cb837258e99262", "filename": "src/scripting/npc/NPCConversationManager.java", "status": "modified", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/scripting/npc/NPCConversationManager.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/scripting/npc/NPCConversationManager.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/scripting/npc/NPCConversationManager.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -24,6 +24,7 @@\n import java.io.File;\n import java.sql.SQLException;\n \n+import constants.ServerConstants;\n import net.server.Server;\n import net.server.guild.MapleAlliance;\n import net.server.guild.MapleGuild;\n@@ -38,6 +39,7 @@\n import server.events.gm.MapleEvent;\n import server.gachapon.MapleGachapon;\n import server.gachapon.MapleGachapon.MapleGachaponItem;\n+import server.life.MaplePlayerNPC;\n import server.maps.MapleMap;\n import server.maps.MapleMapFactory;\n import server.partyquest.Pyramid;\n@@ -56,6 +58,10 @@\n import client.inventory.ItemFactory;\n import client.inventory.MaplePet;\n import constants.ItemConstants;\n+import java.awt.Point;\n+import java.util.Arrays;\n+import server.maps.MapleMapObject;\n+import server.maps.MapleMapObjectType;\n \n /**\n  *\n@@ -308,6 +314,23 @@ public int itemQuantity(int itemid) {\n \tpublic void displayGuildRanks() {\n \t\tMapleGuild.displayGuildRanks(getClient(), npc);\n \t}\n+        \n+        public boolean canSpawnPlayerNpc(int mapid) {\n+                MapleCharacter chr = getPlayer();\n+                return !ServerConstants.PLAYERNPC_AUTODEPLOY && chr.getLevel() >= chr.getMaxClassLevel() && MaplePlayerNPC.canSpawnPlayerNpc(chr.getName(), mapid);\n+        }\n+        \n+        public MaplePlayerNPC getPlayerNPCByScriptid(int scriptId) {\n+                for(MapleMapObject pnpcObj : getPlayer().getMap().getMapObjectsInRange(new Point(0, 0), Double.POSITIVE_INFINITY, Arrays.asList(MapleMapObjectType.PLAYER_NPC))) {\n+                        MaplePlayerNPC pn = (MaplePlayerNPC) pnpcObj;\n+\n+                        if(pn.getScriptId() == scriptId) {\n+                                return pn;\n+                        }\n+                }\n+                \n+                return null;\n+        }\n \n \t@Override\n \tpublic MapleParty getParty() {"}, {"sha": "25648b70d1d505313f98bf1bd31cc49ce7f14358", "filename": "src/server/CashShop.java", "status": "modified", "additions": 65, "deletions": 3, "changes": 68, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/server/CashShop.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/server/CashShop.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/CashShop.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -30,6 +30,7 @@\n import java.util.HashMap;\n import java.util.List;\n import java.util.Map;\n+import java.util.Map.Entry;\n import java.util.concurrent.locks.Lock;\n import tools.locks.MonitoredReentrantLock;\n \n@@ -92,10 +93,10 @@ public Item toItem() {\n             Item item;\n \n             int petid = -1;\n-\n-            if (ItemConstants.isPet(itemId))\n+            if (ItemConstants.isPet(itemId)) {\n                 petid = MaplePet.createPet(itemId);\n-\n+            }\n+            \n             if (ItemConstants.getInventoryType(itemId).equals(MapleInventoryType.EQUIP)) {\n                 item = MapleItemInformationProvider.getInstance().getEquipById(itemId);\n             } else {\n@@ -119,10 +120,12 @@ public Item toItem() {\n                             item.setExpiration(System.currentTimeMillis() + (1000 * 60 * 60 * 24 * period));\n                     }\n             }\n+            \n             item.setSN(sn);\n             return item;\n         }\n     }\n+    \n     public static class SpecialCashItem {\n         private int sn, modifier;\n         private byte info; //?\n@@ -151,6 +154,7 @@ public byte getInfo() {\n         private static final Map<Integer, CashItem> items = new HashMap<>();\n         private static final Map<Integer, List<Integer>> packages = new HashMap<>();\n         private static final List<SpecialCashItem> specialcashitems = new ArrayList<>();\n+        private static final List<Integer> randomitemids = new ArrayList<>();\n \n         static {\n             MapleDataProvider etc = MapleDataProviderFactory.getDataProvider(new File(\"wz/Etc.wz\"));\n@@ -174,6 +178,13 @@ public byte getInfo() {\n \n                 packages.put(Integer.parseInt(cashPackage.getName()), cPackage);\n             }\n+            \n+            for(Entry<Integer, CashItem> e : items.entrySet()) {\n+                if(e.getValue().isOnSale()) {\n+                    randomitemids.add(e.getKey());\n+                }\n+            }\n+            \n             PreparedStatement ps = null;\n             ResultSet rs = null;\n             Connection con = null;\n@@ -197,6 +208,13 @@ public byte getInfo() {\n             }\n         }\n \n+        public static CashItem getRandomCashItem() {\n+            if(randomitemids.isEmpty()) return null;\n+            \n+            int rnd = (int)(Math.random() * randomitemids.size());\n+            return items.get(randomitemids.get(rnd));\n+        }\n+        \n         public static CashItem getItem(int sn) {\n             return items.get(sn);\n         }\n@@ -508,4 +526,48 @@ public void save(Connection con) throws SQLException {\n \n         ps.close();\n     }\n+    \n+    private Item getCashShopItemByItemid(int itemid) {\n+        lock.lock();\n+        try {\n+            for(Item it : inventory) {\n+                if(it.getItemId() == itemid) {\n+                    return it;\n+                }\n+            }\n+        } finally {\n+            lock.unlock();\n+        }\n+        \n+        return null;\n+    }\n+    \n+    public synchronized Item openCashShopSurprise() {\n+        Item css = getCashShopItemByItemid(5222000);\n+        \n+        if(css != null) {\n+            CashItem cItem = CashItemFactory.getRandomCashItem();\n+            \n+            if(cItem != null) {\n+                if(css.getQuantity() > 1) {\n+                    /* if(NOT ENOUGH SPACE) { looks like we're not dealing with cash inventory limit whatsoever, k then\n+                        return null;\n+                    } */\n+                    \n+                    css.setQuantity((short) (css.getQuantity() - 1));\n+                } else {\n+                    removeFromInventory(css);\n+                }\n+                \n+                Item item = cItem.toItem();\n+                addToInventory(item);\n+\n+                return item;\n+            } else {\n+                return null;\n+            }\n+        } else {\n+            return null;\n+        }\n+    }\n }"}, {"sha": "eaef9ca8d9113994158bc6c0744e57a3bdb3b623", "filename": "src/server/MapleItemInformationProvider.java", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/server/MapleItemInformationProvider.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/server/MapleItemInformationProvider.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/MapleItemInformationProvider.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -118,7 +118,6 @@\n     protected Map<Integer, Pair<String, Integer>> statUpgradeMakerCache = new HashMap<>();\n     protected Map<Integer, MakerItemFactory.MakerItemCreateEntry> makerItemCache = new HashMap<>();\n \n-\n     private MapleItemInformationProvider() {\n         loadCardIdData();\n         itemData = MapleDataProviderFactory.getDataProvider(new File(System.getProperty(\"wzpath\") + \"/Item.wz\"));"}, {"sha": "466c9f8886c2d95f66756abdfa96e2d9c17c0e7f", "filename": "src/server/life/MaplePlayerNPC.java", "status": "added", "additions": 644, "deletions": 0, "changes": 644, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/server/life/MaplePlayerNPC.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/server/life/MaplePlayerNPC.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/life/MaplePlayerNPC.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,644 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package server.life;\n+\n+import java.awt.Point;\n+import java.sql.PreparedStatement;\n+import java.sql.ResultSet;\n+import java.sql.Connection;\n+import java.sql.SQLException;\n+import java.sql.Statement;\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.LinkedList;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.concurrent.atomic.AtomicInteger;\n+import client.MapleCharacter;\n+import client.MapleClient;\n+import client.inventory.Item;\n+import client.inventory.MapleInventoryType;\n+import constants.GameConstants;\n+import net.server.Server;\n+import net.server.channel.Channel;\n+import net.server.world.World;\n+import server.maps.AbstractMapleMapObject;\n+import server.maps.MapleMap;\n+import server.maps.MapleMapObject;\n+import server.maps.MapleMapObjectType;\n+import tools.DatabaseConnection;\n+import tools.MaplePacketCreator;\n+import tools.Pair;\n+\n+/**\n+ *\n+ * @author XoticStory\n+ * @author Ronan\n+ */\n+public class MaplePlayerNPC extends AbstractMapleMapObject {\n+    private static final Map<Byte, AtomicInteger> runningPlayerNpcScriptIds = new HashMap<>();\n+    private static final AtomicInteger runningOverallRank = new AtomicInteger();\n+    private static final List<AtomicInteger> runningWorldRank = new ArrayList<>();\n+    private static final Map<Pair<Integer, Integer>, AtomicInteger> runningWorldJobRank = new HashMap<>();\n+    \n+    private Map<Short, Integer> equips = new HashMap<>();\n+    private int scriptId, face, hair, gender, job;\n+    private byte skin;\n+    private String name = \"\";\n+    private int dir, FH, RX0, RX1, CY;\n+    private int worldRank, overallRank, worldJobRank, overallJobRank;\n+    \n+    static {\n+        getRunningMetadata();\n+    }\n+    \n+    public MaplePlayerNPC(String name, int scriptId, int face, int hair, int gender, byte skin, Map<Short, Integer> equips, int dir, int FH, int RX0, int RX1, int CX, int CY, int oid) {\n+        this.equips = equips;\n+        this.scriptId = scriptId;\n+        this.face = face;\n+        this.hair = hair;\n+        this.gender = gender;\n+        this.skin = skin;\n+        this.name = name;\n+        this.dir = dir;\n+        this.FH = FH;\n+        this.RX0 = RX0;\n+        this.RX1 = RX1;\n+        this.CY = CY;\n+        this.job = 7777;    // supposed to be developer\n+        \n+        setPosition(new Point(CX, CY));\n+        setObjectId(oid);\n+    }\n+    \n+    public MaplePlayerNPC(ResultSet rs) {\n+        try {\n+            CY = rs.getInt(\"cy\");\n+            name = rs.getString(\"name\");\n+            hair = rs.getInt(\"hair\");\n+            face = rs.getInt(\"face\");\n+            skin = rs.getByte(\"skin\");\n+            gender = rs.getInt(\"gender\");\n+            dir = rs.getInt(\"dir\");\n+            FH = rs.getInt(\"fh\");\n+            RX0 = rs.getInt(\"rx0\");\n+            RX1 = rs.getInt(\"rx1\");\n+            scriptId = rs.getInt(\"scriptid\");\n+            \n+            worldRank = rs.getInt(\"worldrank\");\n+            overallRank = rs.getInt(\"overallrank\");\n+            worldJobRank = rs.getInt(\"worldjobrank\");\n+            overallJobRank = GameConstants.getOverallJobRankByScriptId(scriptId);\n+            job = rs.getInt(\"job\");\n+            \n+            setPosition(new Point(rs.getInt(\"x\"), CY));\n+            setObjectId(rs.getInt(\"id\"));\n+            \n+            Connection con = DatabaseConnection.getConnection();\n+            PreparedStatement ps = con.prepareStatement(\"SELECT equippos, equipid FROM playernpcs_equip WHERE npcid = ?\");\n+            ps.setInt(1, rs.getInt(\"id\"));\n+            ResultSet rs2 = ps.executeQuery();\n+            while (rs2.next()) {\n+                equips.put(rs2.getShort(\"equippos\"), rs2.getInt(\"equipid\"));\n+            }\n+            rs2.close();\n+            ps.close();\n+            con.close();\n+        } catch (SQLException e) {\n+            e.printStackTrace();\n+        }\n+    }\n+\n+    public Map<Short, Integer> getEquips() {\n+        return equips;\n+    }\n+\n+    public int getScriptId() {\n+        return scriptId;\n+    }\n+\n+    public int getJob() {\n+        return job;\n+    }\n+    \n+    public int getDirection() {\n+        return dir;\n+    }\n+    \n+    public int getFH() {\n+        return FH;\n+    }\n+\n+    public int getRX0() {\n+        return RX0;\n+    }\n+\n+    public int getRX1() {\n+        return RX1;\n+    }\n+\n+    public int getCY() {\n+        return CY;\n+    }\n+\n+    public byte getSkin() {\n+        return skin;\n+    }\n+\n+    public String getName() {\n+        return name;\n+    }\n+\n+    public int getFace() {\n+        return face;\n+    }\n+\n+    public int getHair() {\n+        return hair;\n+    }\n+    \n+    public int getGender() {\n+        return gender;\n+    }\n+\n+    public int getWorldRank() {\n+        return worldRank;\n+    }\n+    \n+    public int getOverallRank() {\n+        return overallRank;\n+    }\n+    \n+    public int getWorldJobRank() {\n+        return worldJobRank;\n+    }\n+    \n+    public int getOverallJobRank() {\n+        return overallJobRank;\n+    }\n+    \n+    @Override\n+    public MapleMapObjectType getType() {\n+        return MapleMapObjectType.PLAYER_NPC;\n+    }\n+\n+    @Override\n+    public void sendSpawnData(MapleClient client) {\n+        client.announce(MaplePacketCreator.spawnPlayerNPC(this));\n+        client.announce(MaplePacketCreator.getPlayerNPC(this));\n+    }\n+    \n+    @Override\n+    public void sendDestroyData(MapleClient client) {\n+        client.announce(MaplePacketCreator.removeNPCController(this.getObjectId()));\n+        client.announce(MaplePacketCreator.removePlayerNPC(this.getObjectId()));\n+    }\n+    \n+    private static void getRunningMetadata() {\n+        try {\n+            Connection con = DatabaseConnection.getConnection();\n+            \n+            getRunningPlayerNpcScriptIds(con);\n+            getRunningOverallRanks(con);\n+            getRunningWorldRanks(con);\n+            getRunningWorldJobRanks(con);\n+            \n+            con.close();\n+        } catch (SQLException e) {\n+            e.printStackTrace();\n+        }\n+    }\n+    \n+    private static void getRunningPlayerNpcScriptIds(Connection con) throws SQLException {\n+        PreparedStatement ps = con.prepareStatement(\"SELECT floor(scriptid / 100), max(scriptid) FROM playernpcs GROUP BY floor(scriptid / 100) ORDER BY floor(scriptid / 100)\");\n+        ResultSet rs = ps.executeQuery();\n+\n+        while(rs.next()) {\n+            byte branch = (byte) (rs.getInt(1) % 100);\n+            int maxid = rs.getInt(2);\n+\n+            if(branch < 26) {\n+                runningPlayerNpcScriptIds.put(branch, new AtomicInteger(maxid));\n+            } else {\n+                runningPlayerNpcScriptIds.put((byte)(branch - ((branch - 26) % 4)), new AtomicInteger(maxid));\n+            }\n+        }\n+\n+        rs.close();\n+        ps.close();\n+    }\n+    \n+    private static void getRunningOverallRanks(Connection con) throws SQLException {\n+        PreparedStatement ps = con.prepareStatement(\"SELECT max(overallrank) FROM playernpcs\");\n+        ResultSet rs = ps.executeQuery();\n+\n+        if(rs.next()) {\n+            runningOverallRank.set(rs.getInt(1) + 1);\n+        } else {\n+            runningOverallRank.set(1);\n+        }\n+        \n+        rs.close();\n+        ps.close();\n+    }\n+\n+    private static void getRunningWorldRanks(Connection con) throws SQLException {\n+        int numWorlds = Server.getInstance().getWorlds().size();\n+        for(int i = 0; i < numWorlds; i++) {\n+            runningWorldRank.add(new AtomicInteger(1));\n+        }\n+        \n+        PreparedStatement ps = con.prepareStatement(\"SELECT world, max(worldrank) FROM playernpcs GROUP BY world ORDER BY world\");\n+        ResultSet rs = ps.executeQuery();\n+\n+        while(rs.next()) {\n+            int wid = rs.getInt(1);\n+            if(wid < numWorlds) {\n+                runningWorldRank.get(wid).set(rs.getInt(2) + 1);\n+            }\n+        }\n+        \n+        rs.close();\n+        ps.close();\n+    }\n+    \n+    private static void getRunningWorldJobRanks(Connection con) throws SQLException {\n+        PreparedStatement ps = con.prepareStatement(\"SELECT world, job, max(worldjobrank) FROM playernpcs GROUP BY world, job ORDER BY world, job\");\n+        ResultSet rs = ps.executeQuery();\n+\n+        while(rs.next()) {\n+            runningWorldJobRank.put(new Pair<>(rs.getInt(1), rs.getInt(2)), new AtomicInteger(rs.getInt(3) + 1));\n+        }\n+        \n+        rs.close();\n+        ps.close();\n+    }\n+    \n+    private static int getAndIncrementRunningWorldJobRanks(int world, int job) {\n+        AtomicInteger wjr = runningWorldJobRank.get(new Pair<>(world, job));\n+        if(wjr == null) {\n+            wjr = new AtomicInteger(1);\n+            runningWorldJobRank.put(new Pair<>(world, job), wjr);\n+        }\n+        \n+        return wjr.getAndIncrement();\n+    }\n+    \n+    public static boolean canSpawnPlayerNpc(String name, int mapid) {\n+        boolean ret = true;\n+        \n+        try {\n+            Connection con = DatabaseConnection.getConnection();\n+            PreparedStatement ps = con.prepareStatement(\"SELECT name FROM playernpcs WHERE name LIKE ? AND map = ?\");\n+            ps.setString(1, name);\n+            ps.setInt(2, mapid);\n+            \n+            ResultSet rs = ps.executeQuery();\n+            if(rs.next()) {\n+                ret = false;\n+            }\n+            \n+            rs.close();\n+            ps.close();\n+            con.close();\n+        } catch (SQLException e) {\n+            e.printStackTrace();\n+        }\n+        \n+        return ret;\n+    }\n+    \n+    public void updatePlayerNPCPosition(MapleMap map, Point newPos) {\n+        setPosition(newPos);\n+        RX0 = newPos.x + 50;\n+        RX1 = newPos.x - 50;\n+        CY = newPos.y;\n+        FH = map.getFootholds().findBelow(newPos).getId();\n+        \n+        try {\n+            Connection con = DatabaseConnection.getConnection();\n+            \n+            PreparedStatement ps = con.prepareStatement(\"UPDATE playernpcs SET x = ?, cy = ?, fh = ?, rx0 = ?, rx1 = ? WHERE id = ?\");\n+            ps.setInt(1, newPos.x);\n+            ps.setInt(2, CY);\n+            ps.setInt(3, FH);\n+            ps.setInt(4, RX0);\n+            ps.setInt(5, RX1);\n+            ps.setInt(6, getObjectId());\n+            ps.executeUpdate();\n+            \n+            ps.close();\n+            con.close();\n+        } catch (SQLException e) {\n+            e.printStackTrace();\n+        }\n+    }\n+    \n+    private static MaplePlayerNPC createPlayerNPCInternal(MapleMap map, Point pos, MapleCharacter chr) {\n+        if(pos == null) {\n+            pos = map.getNextPlayerNpcPosition();\n+            if(pos == null) {\n+                return null;\n+            }\n+        }\n+\n+        int mapId = map.getId();\n+        int worldId = chr.getWorld();\n+        int jobId = (chr.getJob().getId() / 100) * 100;\n+        \n+        /*\n+        if(!canSpawnPlayerNpc(chr.getName(), mapId)) {\n+            return null;\n+        }\n+        */\n+        \n+        byte branch = GameConstants.getHallOfFameBranch(chr.getJob(), mapId);\n+        \n+        int scriptId;\n+        try {\n+            scriptId = runningPlayerNpcScriptIds.get(branch).getAndIncrement();\n+            \n+            if(!GameConstants.canPnpcBranchUseScriptId(branch, scriptId)) {\n+                return null;\n+            }\n+        } catch (NullPointerException npe) {\n+            scriptId = 9900000 + (branch * 100);\n+            runningPlayerNpcScriptIds.put(branch, new AtomicInteger(scriptId + 1));\n+        }\n+        \n+        MaplePlayerNPC ret;\n+        int npcId;\n+        try {\n+            Connection con = DatabaseConnection.getConnection();\n+            PreparedStatement ps = con.prepareStatement(\"SELECT * FROM playernpcs WHERE scriptid = ?\");\n+            ps.setInt(1, scriptId);\n+            ResultSet rs = ps.executeQuery();\n+            if (!rs.next()) {   // creates new playernpc if scriptid doesn't exist\n+                rs.close();\n+                ps.close();\n+\n+                ps = con.prepareStatement(\"INSERT INTO playernpcs (name, hair, face, skin, gender, x, cy, world, map, scriptid, dir, fh, rx0, rx1, worldrank, overallrank, worldjobrank, job) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\", Statement.RETURN_GENERATED_KEYS);\n+                ps.setString(1, chr.getName());\n+                ps.setInt(2, chr.getHair());\n+                ps.setInt(3, chr.getFace());\n+                ps.setInt(4, chr.getSkinColor().getId());\n+                ps.setInt(5, chr.getGender());\n+                ps.setInt(6, pos.x);\n+                ps.setInt(7, pos.y);\n+                ps.setInt(8, worldId);\n+                ps.setInt(9, mapId);\n+                ps.setInt(10, scriptId);\n+                ps.setInt(11, 1);    // default direction\n+                ps.setInt(12, map.getFootholds().findBelow(pos).getId());\n+                ps.setInt(13, pos.x + 50);\n+                ps.setInt(14, pos.x - 50);                \n+                ps.setInt(15, runningWorldRank.get(worldId).getAndIncrement());\n+                ps.setInt(16, runningOverallRank.getAndIncrement());\n+                ps.setInt(17, getAndIncrementRunningWorldJobRanks(worldId, jobId));\n+                ps.setInt(18, jobId);\n+                \n+                ps.executeUpdate();\n+\n+                rs = ps.getGeneratedKeys();\n+                rs.next();\n+                npcId = rs.getInt(1);\n+                rs.close();\n+                ps.close();\n+\n+                ps = con.prepareStatement(\"INSERT INTO playernpcs_equip (npcid, equipid, equippos) VALUES (?, ?, ?)\");\n+                ps.setInt(1, npcId);\n+                for (Item equip : chr.getInventory(MapleInventoryType.EQUIPPED)) {\n+                    int position = Math.abs(equip.getPosition());\n+                    if ((position < 12 && position > 0) || (position > 100 && position < 112)) {\n+                        ps.setInt(2, equip.getItemId());\n+                        ps.setInt(3, equip.getPosition());\n+                        ps.addBatch();\n+                    }\n+                }\n+                ps.executeBatch();\n+                ps.close();\n+\n+                ps = con.prepareStatement(\"SELECT * FROM playernpcs WHERE id = ?\");\n+                ps.setInt(1, npcId);\n+                rs = ps.executeQuery();\n+\n+                rs.next();\n+                ret = new MaplePlayerNPC(rs);\n+            } else {\n+                ret = null;\n+            }\n+\n+            rs.close();\n+            ps.close();\n+            con.close();\n+\n+            return ret;\n+        } catch (SQLException e) {\n+            e.printStackTrace();\n+            return null;\n+        }\n+    }\n+    \n+    private static List<Integer> removePlayerNPCInternal(MapleMap map, MapleCharacter chr) {\n+        Set<Integer> updateMapids = new HashSet<>();\n+        \n+        List<Integer> mapids = new LinkedList<>();\n+        mapids.add(chr.getWorld());\n+        \n+        try {\n+            Connection con = DatabaseConnection.getConnection();\n+            PreparedStatement ps = con.prepareStatement(\"SELECT id, map FROM playernpcs WHERE name LIKE ?\" + (map != null ? \" AND map = ?\" : \"\"));\n+            ps.setString(1, chr.getName());\n+            if(map != null) ps.setInt(2, map.getId());\n+            \n+            ResultSet rs = ps.executeQuery();\n+            while(rs.next()) {\n+                updateMapids.add(rs.getInt(\"map\"));\n+                int npcId = rs.getInt(\"id\");\n+                \n+                PreparedStatement ps2 = con.prepareStatement(\"DELETE FROM playernpcs WHERE id = ?\");\n+                ps2.setInt(1, npcId);\n+                ps2.executeUpdate();\n+                ps2.close();\n+\n+                ps2 = con.prepareStatement(\"DELETE FROM playernpcs_equip WHERE npcid = ?\");\n+                ps2.setInt(1, npcId);\n+                ps2.executeUpdate();\n+                ps2.close();\n+            }\n+            \n+            rs.close();\n+            ps.close();\n+            con.close();\n+        } catch (SQLException e) {\n+            e.printStackTrace();\n+        }\n+        \n+        for(Integer i : updateMapids) {\n+            mapids.add(i);\n+        }\n+        \n+        return mapids;\n+    }\n+    \n+    private static synchronized Pair<MaplePlayerNPC, List<Integer>> processPlayerNPCInternal(MapleMap map, Point pos, MapleCharacter chr, boolean create) {\n+        if(create) {\n+            return new Pair<>(createPlayerNPCInternal(map, pos, chr), null);\n+        } else {\n+            return new Pair<>(null, removePlayerNPCInternal(map, chr));\n+        }\n+    }\n+    \n+    public static boolean spawnPlayerNPC(int mapid, MapleCharacter chr) {\n+        return spawnPlayerNPC(mapid, null, chr);\n+    }\n+    \n+    public static boolean spawnPlayerNPC(int mapid, Point pos, MapleCharacter chr) {\n+        MaplePlayerNPC pn = processPlayerNPCInternal(chr.getClient().getChannelServer().getMapFactory().getMap(mapid), pos, chr, true).getLeft();\n+        \n+        if(pn != null) {\n+            for (Channel channel : Server.getInstance().getChannelsFromWorld(chr.getWorld())) {\n+                MapleMap m = channel.getMapFactory().getMap(mapid);\n+                \n+                m.addPlayerNPCMapObject(pn);\n+                m.broadcastMessage(MaplePacketCreator.spawnPlayerNPC(pn));\n+                m.broadcastMessage(MaplePacketCreator.getPlayerNPC(pn));\n+            }\n+            \n+            return true;\n+        } else {\n+            return false;\n+        }\n+    }\n+    \n+    private static MaplePlayerNPC getPlayerNPCFromWorldMap(String name, int world, int map) {\n+        World wserv = Server.getInstance().getWorld(world);\n+        for(MapleMapObject pnpcObj : wserv.getChannel(1).getMapFactory().getMap(map).getMapObjectsInRange(new Point(0, 0), Double.POSITIVE_INFINITY, Arrays.asList(MapleMapObjectType.PLAYER_NPC))) {\n+            MaplePlayerNPC pn = (MaplePlayerNPC) pnpcObj;\n+            \n+            if(name.contentEquals(pn.getName()) && pn.getScriptId() < 9977777) {\n+                return pn;\n+            }\n+        }\n+        \n+        return null;\n+    }\n+    \n+    public static void removePlayerNPC(MapleCharacter chr) {\n+        List<Integer> updateMapids = processPlayerNPCInternal(null, null, chr, false).getRight();\n+        int worldid = updateMapids.remove(0);\n+        \n+        for (Integer mapid : updateMapids) {\n+            MaplePlayerNPC pn = getPlayerNPCFromWorldMap(chr.getName(), worldid, mapid);\n+            \n+            if(pn != null) {\n+                for (Channel channel : Server.getInstance().getChannelsFromWorld(worldid)) {\n+                    MapleMap m = channel.getMapFactory().getMap(mapid);\n+                    m.removeMapObject(pn);\n+\n+                    m.broadcastMessage(MaplePacketCreator.removeNPCController(pn.getObjectId()));\n+                    m.broadcastMessage(MaplePacketCreator.removePlayerNPC(pn.getObjectId()));\n+                }\n+            }\n+        }\n+    }\n+    \n+    private static List<Integer> loadCharacteridsFromDB(int world) {\n+        List<Integer> list = new LinkedList<>();\n+        \n+        try {\n+            Connection con = DatabaseConnection.getConnection();\n+            PreparedStatement ps = con.prepareStatement(\"SELECT id FROM characters WHERE world = ?\");\n+            ps.setInt(1, world);\n+            \n+            ResultSet rs = ps.executeQuery();\n+            while(rs.next()) {\n+                list.add(rs.getInt(1));\n+            }\n+            \n+            rs.close();\n+            ps.close();\n+            con.close();\n+        } catch (SQLException e) {\n+            e.printStackTrace();\n+        }\n+        \n+        return list;\n+    }\n+    \n+    public static void multicastSpawnPlayerNPC(int mapid, int world) {\n+        MapleClient mockClient = new MapleClient(null, null, null);\n+        \n+        for(Integer cid : loadCharacteridsFromDB(world)) {\n+            try {\n+                MapleCharacter mc = MapleCharacter.loadCharFromDB(cid, mockClient, false);\n+                spawnPlayerNPC(mapid, mc);\n+            } catch (SQLException sqle) {\n+                sqle.printStackTrace();\n+            }\n+        }\n+    }\n+    \n+    public static void removeAllPlayerNPC() {\n+        try {\n+            Connection con = DatabaseConnection.getConnection();\n+            \n+            PreparedStatement ps = con.prepareStatement(\"SELECT DISTINCT world, map FROM playernpcs\");\n+            ResultSet rs = ps.executeQuery();\n+            \n+            while(rs.next()) {\n+                int world = rs.getInt(\"world\"), map = rs.getInt(\"map\");\n+                \n+                World w = Server.getInstance().getWorld(world);\n+                for (Channel channel : w.getChannels()) {\n+                    MapleMap m = channel.getMapFactory().getMap(map);\n+                    \n+                    for(MapleMapObject pnpcObj : m.getMapObjectsInRange(new Point(0, 0), Double.POSITIVE_INFINITY, Arrays.asList(MapleMapObjectType.PLAYER_NPC))) {\n+                        MaplePlayerNPC pn = (MaplePlayerNPC) pnpcObj;\n+\n+                        m.removeMapObject(pn);\n+                        m.broadcastMessage(MaplePacketCreator.removeNPCController(pn.getObjectId()));\n+                        m.broadcastMessage(MaplePacketCreator.removePlayerNPC(pn.getObjectId()));\n+                    }\n+                }\n+            }\n+            \n+            rs.close();\n+            ps.close();\n+            \n+            ps = con.prepareStatement(\"DELETE FROM playernpcs\");\n+            ps.executeUpdate();\n+            ps.close();\n+\n+            ps = con.prepareStatement(\"DELETE FROM playernpcs_equip\");\n+            ps.executeUpdate();\n+            ps.close();\n+            \n+            con.close();\n+        } catch (SQLException e) {\n+            e.printStackTrace();\n+        }\n+    }\n+}\n\\ No newline at end of file"}, {"sha": "182c66b19cd5e90ca0476487e226042e8b42ec94", "filename": "src/server/life/MaplePlayerNPCFactory.java", "status": "added", "additions": 134, "deletions": 0, "changes": 134, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/server/life/MaplePlayerNPCFactory.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/server/life/MaplePlayerNPCFactory.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/life/MaplePlayerNPCFactory.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,134 @@\n+/*\n+    This file is part of the HeavenMS MapleStory Server\n+    Copyleft (L) 2016 - 2018 RonanLana\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+package server.life;\n+\n+import constants.GameConstants;\n+import java.io.File;\n+import java.util.HashMap;\n+import java.util.Map;\n+import java.util.List;\n+import java.util.LinkedList;\n+import provider.MapleData;\n+import provider.MapleDataProvider;\n+import provider.MapleDataProviderFactory;\n+import provider.MapleDataTool;\n+\n+/**\n+ *\n+ * @author RonanLana\n+ */\n+public class MaplePlayerNPCFactory {\n+    \n+    private static final Map<Integer, List<MaplePlayerNPC>> dnpcMaps = new HashMap<>();\n+    private static Integer runningDeveloperOid = 2147483000;  // 647 slots, long enough\n+    \n+    public static void loadDeveloperRoomMetadata(MapleDataProvider npc) {\n+        MapleData thisData = npc.getData(\"9977777.img\");\n+        if(thisData != null) {\n+            MapleDataProvider map = MapleDataProviderFactory.getDataProvider(new File(\"wz/Map.wz\"));\n+            \n+            thisData = map.getData(\"Map/Map7/777777777.img\");\n+            if(thisData != null) {\n+                MapleDataProvider sound = MapleDataProviderFactory.getDataProvider(new File(\"wz/Sound.wz\"));\n+                \n+                thisData = sound.getData(\"Field.img\");\n+                if(thisData != null) {\n+                    MapleData md = thisData.getChildByPath(\"anthem/brazil\");\n+                    if(md != null) {\n+                        GameConstants.setAvailableDeveloperRoom();\n+                    }\n+                }\n+            }\n+        }\n+    }\n+    \n+    public static void loadFactoryMetadata() {\n+        MapleDataProvider npc = MapleDataProviderFactory.getDataProvider(new File(\"wz/Npc.wz\"));\n+        loadDeveloperRoomMetadata(npc);\n+\n+        MapleDataProvider etc = MapleDataProviderFactory.getDataProvider(new File(\"wz/Etc.wz\"));\n+        MapleData dnpcData = etc.getData(\"DeveloperNpc.img\");\n+        if(dnpcData != null) {\n+            for (MapleData data : dnpcData.getChildren()) {\n+                int scriptId = Integer.parseInt(data.getName());\n+\n+                String name = MapleDataTool.getString(\"name\", data, \"\");\n+                int face = MapleDataTool.getIntConvert(\"face\", data, 20000);\n+                int hair = MapleDataTool.getIntConvert(\"hair\", data, 30000);\n+                int gender = MapleDataTool.getIntConvert(\"gender\", data, 0);\n+                byte skin = (byte) MapleDataTool.getIntConvert(\"skin\", data, 0);\n+                int dir = MapleDataTool.getIntConvert(\"dir\", data, 0);\n+                int mapid = MapleDataTool.getIntConvert(\"map\", data, 0);\n+                int FH = MapleDataTool.getIntConvert(\"fh\", data, 0);\n+                int RX0 = MapleDataTool.getIntConvert(\"rx0\", data, 0);\n+                int RX1 = MapleDataTool.getIntConvert(\"rx1\", data, 0);\n+                int CX = MapleDataTool.getIntConvert(\"cx\", data, 0);\n+                int CY = MapleDataTool.getIntConvert(\"cy\", data, 0);\n+\n+                Map<Short, Integer> equips = new HashMap<>();\n+                for (MapleData edata : data.getChildByPath(\"equips\").getChildren()) {\n+                    short equippos = (short) MapleDataTool.getIntConvert(\"pos\", edata);\n+                    int equipid = MapleDataTool.getIntConvert(\"itemid\", edata);\n+\n+                    equips.put(equippos, equipid);\n+                }\n+\n+                List<MaplePlayerNPC> dnpcSet = dnpcMaps.get(mapid);\n+                if(dnpcSet == null) {\n+                    dnpcSet = new LinkedList<>();\n+                    dnpcMaps.put(mapid, dnpcSet);\n+                }\n+\n+                dnpcSet.add(new MaplePlayerNPC(name, scriptId, face, hair, gender, skin, equips, dir, FH, RX0, RX1, CX, CY, runningDeveloperOid));\n+                runningDeveloperOid++;\n+            }\n+        } else {\n+            MapleData thisData = npc.getData(\"9977777.img\");\n+            \n+            if(thisData != null) {\n+                byte[] encData = {0x52,0x6F,0x6E,0x61,0x6E};\n+                String name = new String(encData);\n+                int face = 20104, hair = 30215, gender = 0, skin = 0, dir = 0, mapid = 777777777;\n+                int FH = 4, RX0 = -143, RX1 = -243, CX = -193, CY = 117, scriptId = 9977777;\n+\n+                Map<Short, Integer> equips = new HashMap<>();\n+                equips.put((short) -1, 1002067);\n+                equips.put((short) -11, 1402046);\n+                equips.put((short) -8, 1082140);\n+                equips.put((short) -6, 1060091);\n+                equips.put((short) -7, 1072154);\n+                equips.put((short) -5, 1040103);\n+\n+                List<MaplePlayerNPC> dnpcSet = dnpcMaps.get(mapid);\n+                if(dnpcSet == null) {\n+                    dnpcSet = new LinkedList<>();\n+                    dnpcMaps.put(mapid, dnpcSet);\n+                }\n+\n+                dnpcSet.add(new MaplePlayerNPC(name, scriptId, face, hair, gender, (byte) skin, equips, dir, FH, RX0, RX1, CX, CY, runningDeveloperOid));\n+                runningDeveloperOid++;\n+            }\n+        }\n+    }\n+    \n+    public static List<MaplePlayerNPC> getDeveloperNpcsFromMapid(int mapid) {\n+        return dnpcMaps.get(mapid);\n+    }\n+}"}, {"sha": "5f210522d88fbb926056d2cb66b2c898658ef5bc", "filename": "src/server/maps/MapleKite.java", "status": "added", "additions": 61, "deletions": 0, "changes": 61, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/server/maps/MapleKite.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/server/maps/MapleKite.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/MapleKite.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,61 @@\n+package server.maps;\n+\n+import java.awt.Point;\n+import client.MapleCharacter;\n+import client.MapleClient;\n+import constants.ServerConstants;\n+import tools.MaplePacketCreator;\n+\n+public class MapleKite extends AbstractMapleMapObject {\n+\n+    private Point pos;\n+    private MapleCharacter owner;\n+    private String text;\n+    private int ft;\n+    private int itemid;\n+\n+    public MapleKite(MapleCharacter owner, String text, int itemid) {\n+        this.owner = owner;\n+        this.pos = owner.getPosition();\n+        this.ft = owner.getFh();\n+        this.text = text;\n+        this.itemid = itemid;\n+    }\n+\n+    @Override\n+    public MapleMapObjectType getType() {\n+        return MapleMapObjectType.KITE;\n+    }\n+\n+    @Override\n+    public Point getPosition() {\n+        return pos.getLocation();\n+    }\n+\n+    public MapleCharacter getOwner() {\n+        return owner;\n+    }\n+\n+    @Override\n+    public void setPosition(Point position) {\n+        throw new UnsupportedOperationException();\n+    }\n+\n+    @Override\n+    public void sendDestroyData(MapleClient client) {\n+        client.getSession().write(makeDestroyData());\n+    }\n+\n+    @Override\n+    public void sendSpawnData(MapleClient client) {\n+        client.getSession().write(makeSpawnData());\n+    }\n+\n+    public final byte[] makeSpawnData() {\n+        return MaplePacketCreator.spawnKite(getObjectId(), itemid, owner.getName(), text, pos, ft);\n+    }\n+\n+    public final byte[] makeDestroyData() {\n+        return MaplePacketCreator.removeKite(getObjectId(), 0);\n+    }\n+}\n\\ No newline at end of file"}, {"sha": "94c75b5fa32b5e43bd7c2944b85453516aad2c37", "filename": "src/server/maps/MapleMap.java", "status": "modified", "additions": 228, "deletions": 10, "changes": 238, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/server/maps/MapleMap.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/server/maps/MapleMap.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/MapleMap.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -59,6 +59,7 @@\n import java.util.concurrent.locks.ReentrantReadWriteLock.ReadLock;\n import java.util.concurrent.locks.ReentrantReadWriteLock.WriteLock;\n import java.lang.ref.WeakReference;\n+import java.util.Comparator;\n import net.server.Server;\n import net.server.channel.Channel;\n import scripting.map.MapScriptManager;\n@@ -83,6 +84,7 @@\n import server.partyquest.MonsterCarnivalParty;\n //import server.partyquest.Pyramid;\n import scripting.event.EventInstanceManager;\n+import server.life.MaplePlayerNPC;\n import server.life.MonsterListener;\n import tools.FilePrinter;\n import tools.MaplePacketCreator;\n@@ -343,6 +345,15 @@ public int getCurrentPartyId() {\n         return -1;\n     }\n \n+    public void addPlayerNPCMapObject(MaplePlayerNPC pnpcobject) {\n+        objectWLock.lock();\n+        try {\n+            this.mapobjects.put(pnpcobject.getObjectId(), pnpcobject);\n+        } finally {\n+            objectWLock.unlock();\n+        }\n+    }\n+    \n     public void addMapObject(MapleMapObject mapobject) {\n         objectWLock.lock();\n         try {\n@@ -353,7 +364,7 @@ public void addMapObject(MapleMapObject mapobject) {\n             objectWLock.unlock();\n         }\n     }\n-\n+    \n     private void spawnAndAddRangedMapObject(MapleMapObject mapobject, DelayedPacketCreation packetbakery) {\n         spawnAndAddRangedMapObject(mapobject, packetbakery, null);\n     }\n@@ -403,7 +414,7 @@ private int getUsableOID() {\n             Integer curOid;\n             \n             do {\n-                if ((curOid = runningOid.incrementAndGet()) < 0) {\n+                if ((curOid = runningOid.incrementAndGet()) < 0) {  // clashes with playernpc on curOid >= 2147000000, developernpc uses >= 2147483000\n                     runningOid.set(curOid = 1000000001);\n                 }\n             } while (mapobjects.containsKey(curOid));\n@@ -1995,6 +2006,21 @@ public void run() {\n         }, duration);\n     }\n     \n+    public void spawnKite(final MapleKite kite) {\n+        addMapObject(kite);\n+        broadcastMessage(kite.makeSpawnData());\n+        \n+        Runnable expireKite = new Runnable() {\n+            @Override\n+            public void run() {\n+                removeMapObject(kite);\n+                broadcastMessage(kite.makeDestroyData());\n+            }\n+        };\n+        \n+        Server.getInstance().getWorld(world).registerTimedMapObject(expireKite, ServerConstants.KITE_EXPIRE_TIME);\n+    }\n+    \n     public final void spawnItemDrop(final MapleMapObject dropper, final MapleCharacter owner, final Item item, Point pos, final boolean ffaDrop, final boolean playerDrop) {\n         spawnItemDrop(dropper, owner, item, pos, (byte)(ffaDrop ? 2 : 0), playerDrop);\n     }\n@@ -2278,7 +2304,7 @@ public void run() {\n                 }\n             }, 60 * 1000);\n         } else if (mapid == 200090030) { // To Ereve (SkyFerry)\n-            chr.getClient().announce(MaplePacketCreator.getClock(60));\n+            chr.getClient().announce(MaplePacketCreator.getClock(2 * 60));\n             TimerManager.getInstance().schedule(new Runnable() {\n \n                 @Override\n@@ -2287,9 +2313,9 @@ public void run() {\n                         chr.changeMap(130000210, 0);\n                     }\n                 }\n-            }, 60 * 1000);\n+            }, 2 * 60 * 1000);\n         } else if (mapid == 200090031) { // To Victoria Island (SkyFerry)\n-            chr.getClient().announce(MaplePacketCreator.getClock(60));\n+            chr.getClient().announce(MaplePacketCreator.getClock(2 * 60));\n             TimerManager.getInstance().schedule(new Runnable() {\n \n                 @Override\n@@ -2298,9 +2324,9 @@ public void run() {\n                         chr.changeMap(101000400, 0);\n                     }\n                 }\n-            }, 60 * 1000);\n+            }, 2 * 60 * 1000);\n         } else if (mapid == 200090021) { // To Orbis (SkyFerry)\n-            chr.getClient().announce(MaplePacketCreator.getClock(60));\n+            chr.getClient().announce(MaplePacketCreator.getClock(8 * 60));\n             TimerManager.getInstance().schedule(new Runnable() {\n \n                 @Override\n@@ -2309,9 +2335,9 @@ public void run() {\n                         chr.changeMap(200000161, 0);\n                     }\n                 }\n-            }, 60 * 1000);\n+            }, 8 * 60 * 1000);\n         } else if (mapid == 200090020) { // To Ereve From Orbis (SkyFerry)\n-            chr.getClient().announce(MaplePacketCreator.getClock(60));\n+            chr.getClient().announce(MaplePacketCreator.getClock(8 * 60));\n             TimerManager.getInstance().schedule(new Runnable() {\n \n                 @Override\n@@ -2320,7 +2346,7 @@ public void run() {\n                         chr.changeMap(130000210, 0);\n                     }\n                 }\n-            }, 60 * 1000);\n+            }, 8 * 60 * 1000);\n         } else if (mapid == 103040400) {\n             if (chr.getEventInstance() != null) {\n                 chr.getEventInstance().movePlayer(chr);\n@@ -2681,6 +2707,7 @@ private boolean isNonRangedType(MapleMapObjectType type) {\n             case PLAYER_NPC:\n             case DRAGON:\n             case MIST:\n+            case KITE:\n                 return true;\n             default:\n                 return false;\n@@ -3762,4 +3789,195 @@ public void monsterHealed(int trueHeal) {\n             spawnMonsterOnGroundBelow(m, targetPoint);\n         }\n     }\n+    \n+    private static boolean isPlayerNpcNearby(List<Point> otherPos, Point searchPos, int xLimit, int yLimit) {\n+        int xLimit2 = xLimit / 2, yLimit2 = yLimit / 2;\n+        \n+        Rectangle searchRect = new Rectangle(searchPos.x - xLimit2, searchPos.y - yLimit2, xLimit, yLimit);\n+        for(Point pos : otherPos) {\n+            Rectangle otherRect = new Rectangle(pos.x - xLimit2, pos.y - yLimit2, xLimit, yLimit);\n+            \n+            if(otherRect.intersects(searchRect)) {\n+                return true;\n+            }\n+        }\n+        \n+        return false;\n+    }\n+    \n+    private static int calcDx(int newStep) {\n+        return ServerConstants.PLAYERNPC_AREA_X / (newStep + 1);\n+    }\n+    \n+    private static int calcDy(int newStep) {\n+        return (ServerConstants.PLAYERNPC_AREA_Y / 2) + (ServerConstants.PLAYERNPC_AREA_Y / (1 << (newStep + 1)));\n+    }\n+    \n+    private List<Point> rearrangePlayerNpcPositions(int newStep, int pnpcsSize) {\n+        int leftPx = mapArea.x + ServerConstants.PLAYERNPC_INITIAL_X, px, py = mapArea.y + ServerConstants.PLAYERNPC_INITIAL_Y;\n+        int outx = mapArea.x + mapArea.width - ServerConstants.PLAYERNPC_INITIAL_X, outy = mapArea.y + mapArea.height;\n+        int cx = calcDx(newStep), cy = calcDy(newStep);\n+        \n+        List<Point> otherPlayerNpcs = new LinkedList<>();\n+        while(py < outy) {\n+            px = leftPx;\n+\n+            while(px < outx) {\n+                Point searchPos = calcPointBelow(new Point(px, py));\n+                if(searchPos != null) {\n+                    if(!isPlayerNpcNearby(otherPlayerNpcs, searchPos, cx, cy)) {\n+                        otherPlayerNpcs.add(searchPos);\n+                        \n+                        if(otherPlayerNpcs.size() == pnpcsSize) {\n+                            return otherPlayerNpcs;\n+                        }\n+                    }\n+                }\n+\n+                px += cx;\n+            }\n+\n+            py += cy;\n+        }\n+        \n+        return null;\n+    }\n+    \n+    private Point rearrangePlayerNpcs(int newStep, List<MaplePlayerNPC> pnpcs) {\n+        int leftPx = mapArea.x + ServerConstants.PLAYERNPC_INITIAL_X, px, py = mapArea.y + ServerConstants.PLAYERNPC_INITIAL_Y;\n+        int outx = mapArea.x + mapArea.width - ServerConstants.PLAYERNPC_INITIAL_X, outy = mapArea.y + mapArea.height;\n+        int cx = calcDx(newStep), cy = calcDy(newStep);\n+        \n+        List<Point> otherPlayerNpcs = new LinkedList<>();\n+        int i = 0;\n+        \n+        while(py < outy) {\n+            px = leftPx;\n+\n+            while(px < outx) {\n+                Point searchPos = calcPointBelow(new Point(px, py));\n+                if(searchPos != null) {\n+                    if(!isPlayerNpcNearby(otherPlayerNpcs, searchPos, cx, cy)) {\n+                        if(i == pnpcs.size()) {\n+                            return searchPos;\n+                        }\n+                        \n+                        MaplePlayerNPC pn = pnpcs.get(i);\n+                        i++;\n+                        \n+                        pn.updatePlayerNPCPosition(this, searchPos);\n+                        otherPlayerNpcs.add(searchPos);\n+                    }\n+                }\n+\n+                px += cx;\n+            }\n+\n+            py += cy;\n+        }\n+        \n+        return null;    // this area should not be reached under any scenario\n+    }\n+    \n+    private Point reorganizePlayerNpcs(int newStep, List<MapleMapObject> mmoList) {\n+        if(!mmoList.isEmpty()) {\n+            List<MaplePlayerNPC> playerNpcs = new ArrayList<>(mmoList.size());\n+            for(MapleMapObject mmo : mmoList) {\n+                playerNpcs.add((MaplePlayerNPC) mmo);\n+            }\n+            \n+            Collections.sort(playerNpcs, new Comparator<MaplePlayerNPC>() {\n+                @Override\n+                public int compare(MaplePlayerNPC p1, MaplePlayerNPC p2) {\n+                    return p1.getScriptId() - p2.getScriptId(); // scriptid as playernpc history\n+                }\n+            });\n+            \n+            for(Channel ch : Server.getInstance().getChannelsFromWorld(world)) {\n+                MapleMap map = ch.getMapFactory().getMap(mapid);\n+                \n+                for(MaplePlayerNPC pn : playerNpcs) {\n+                    map.removeMapObject(pn);\n+                    map.broadcastMessage(MaplePacketCreator.removeNPCController(pn.getObjectId()));\n+                    map.broadcastMessage(MaplePacketCreator.removePlayerNPC(pn.getObjectId()));\n+                }\n+            }\n+            \n+            Point ret = rearrangePlayerNpcs(newStep, playerNpcs);\n+            \n+            for(Channel ch : Server.getInstance().getChannelsFromWorld(world)) {\n+                MapleMap map = ch.getMapFactory().getMap(mapid);\n+                \n+                for(MaplePlayerNPC pn : playerNpcs) {\n+                    map.addPlayerNPCMapObject(pn);\n+                    map.broadcastMessage(MaplePacketCreator.spawnPlayerNPC(pn));\n+                    map.broadcastMessage(MaplePacketCreator.getPlayerNPC(pn));\n+                }\n+            }\n+            \n+            return ret;\n+        }\n+        \n+        return null;\n+    }\n+    \n+    public Point getNextPlayerNpcPosition() {\n+        return getNextPlayerNpcPosition(Server.getInstance().getWorld(world).getPlayerNpcMapStep(mapid));\n+    }\n+    \n+    private Point getNextPlayerNpcPosition(int initStep) {   // automated playernpc position thanks to Ronan\n+        List<MapleMapObject> mmoList = getMapObjectsInRange(new Point(0, 0), Double.POSITIVE_INFINITY, Arrays.asList(MapleMapObjectType.PLAYER_NPC));\n+        List<Point> otherPlayerNpcs = new LinkedList<>();\n+        for(MapleMapObject mmo : mmoList) {\n+            otherPlayerNpcs.add(mmo.getPosition());\n+        }\n+        \n+        int cx = calcDx(initStep), cy = calcDy(initStep);\n+        int outx = mapArea.x + mapArea.width - ServerConstants.PLAYERNPC_INITIAL_X, outy = mapArea.y + mapArea.height;\n+        boolean reorganize = false;\n+        \n+        int i = initStep;\n+        while(i < ServerConstants.PLAYERNPC_AREA_STEPS) {\n+            int leftPx = mapArea.x + ServerConstants.PLAYERNPC_INITIAL_X, px, py = mapArea.y + ServerConstants.PLAYERNPC_INITIAL_Y;\n+            \n+            while(py < outy) {\n+                px = leftPx;\n+                \n+                while(px < outx) {\n+                    Point searchPos = calcPointBelow(new Point(px, py));\n+                    if(searchPos != null) {\n+                        if(!isPlayerNpcNearby(otherPlayerNpcs, searchPos, cx, cy)) {\n+                            if(i > initStep) {\n+                                Server.getInstance().getWorld(world).setPlayerNpcMapStep(mapid, i);\n+                            }\n+                            \n+                            if(reorganize && ServerConstants.PLAYERNPC_ORGANIZE_AREA) {\n+                                return reorganizePlayerNpcs(i, mmoList);\n+                            }\n+                            \n+                            return searchPos;\n+                        }\n+                    }\n+                    \n+                    px += cx;\n+                }\n+                \n+                py += cy;\n+            }\n+            \n+            reorganize = true;\n+            i++;\n+            \n+            cx = calcDx(i);\n+            cy = calcDy(i);\n+            if(ServerConstants.PLAYERNPC_ORGANIZE_AREA) {\n+                otherPlayerNpcs = rearrangePlayerNpcPositions(i, mmoList.size());\n+            }\n+        }\n+        \n+        if(i > initStep) {\n+            Server.getInstance().getWorld(world).setPlayerNpcMapStep(mapid, ServerConstants.PLAYERNPC_AREA_STEPS - 1);\n+        }\n+        return null;\n+    }\n }"}, {"sha": "6e9e308680730f53247fdb6dd042ff54a0458c80", "filename": "src/server/maps/MapleMapFactory.java", "status": "modified", "additions": 23, "deletions": 15, "changes": 38, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/server/maps/MapleMapFactory.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/server/maps/MapleMapFactory.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/MapleMapFactory.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -27,12 +27,12 @@\n import java.sql.PreparedStatement;\n import java.sql.ResultSet;\n import java.sql.SQLException;\n+import java.util.Collection;\n import java.util.Collections;\n import java.util.HashMap;\n import java.util.LinkedList;\n import java.util.List;\n import java.util.Map;\n-import java.util.Collection;\n import tools.locks.MonitoredReentrantReadWriteLock;\n import java.util.concurrent.locks.ReentrantReadWriteLock;\n import java.util.concurrent.locks.ReentrantReadWriteLock.ReadLock;\n@@ -44,6 +44,8 @@\n import server.life.AbstractLoadedMapleLife;\n import server.life.MapleLifeFactory;\n import server.life.MapleMonster;\n+import server.life.MaplePlayerNPC;\n+import server.life.MaplePlayerNPCFactory;\n import scripting.event.EventInstanceManager;\n import tools.DatabaseConnection;\n import tools.StringUtil;\n@@ -198,22 +200,30 @@ private synchronized MapleMap loadMapFromWz(int mapid, Integer omapid) {\n                 map.addMapleArea(new Rectangle(x1, y1, (x2 - x1), (y2 - y1)));\n             }\n         }\n-        try {\n-            Connection con = DatabaseConnection.getConnection();\n-            try (PreparedStatement ps = con.prepareStatement(\"SELECT * FROM playernpcs WHERE map = ?\")) {\n-                ps.setInt(1, omapid);\n-                try (ResultSet rs = ps.executeQuery()) {\n-                    while (rs.next()) {\n-                        map.addMapObject(new PlayerNPCs(rs));\n+        if(event == null) {\n+            try {\n+                Connection con = DatabaseConnection.getConnection();\n+                try (PreparedStatement ps = con.prepareStatement(\"SELECT * FROM playernpcs WHERE map = ? AND world = ?\")) {\n+                    ps.setInt(1, omapid);\n+                    ps.setInt(2, world);\n+                    try (ResultSet rs = ps.executeQuery()) {\n+                        while (rs.next()) {\n+                            map.addPlayerNPCMapObject(new MaplePlayerNPC(rs));\n+                        }\n                     }\n                 }\n+                con.close();\n+            } catch (SQLException e) {\n+                e.printStackTrace();\n+            }\n+            \n+            List<MaplePlayerNPC> dnpcs = MaplePlayerNPCFactory.getDeveloperNpcsFromMapid(mapid);\n+            if(dnpcs != null) {\n+                for(MaplePlayerNPC dnpc : dnpcs) {\n+                    map.addPlayerNPCMapObject(dnpc);\n+                }\n             }\n-\n-            con.close();\n-        } catch (SQLException e) {\n-            e.printStackTrace();\n         }\n-\n         for (MapleData life : mapData.getChildByPath(\"life\")) {\n             String id = MapleDataTool.getString(life.getChildByPath(\"id\"));\n             String type = MapleDataTool.getString(life.getChildByPath(\"type\"));\n@@ -319,8 +329,6 @@ public boolean isMapLoaded(int mapId) {\n \n     private AbstractLoadedMapleLife loadLife(MapleData life, String id, String type) {\n         AbstractLoadedMapleLife myLife = MapleLifeFactory.getLife(Integer.parseInt(id), type);\n-        if(life == null) System.out.println(\"lf null\");\n-        if(myLife == null) System.out.println(\"mlf null\");\n         myLife.setCy(MapleDataTool.getInt(life.getChildByPath(\"cy\")));\n         MapleData dF = life.getChildByPath(\"f\");\n         if (dF != null) {"}, {"sha": "aaec452ce12424c7877115ea1b628962fe86bcdd", "filename": "src/server/maps/MapleMapObjectType.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/server/maps/MapleMapObjectType.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/server/maps/MapleMapObjectType.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/MapleMapObjectType.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -22,5 +22,5 @@\n package server.maps;\n \n public enum MapleMapObjectType {\n-    NPC, MONSTER, ITEM, PLAYER, DOOR, SUMMON, SHOP, MINI_GAME, MIST, REACTOR, HIRED_MERCHANT, PLAYER_NPC, DRAGON;\n+    NPC, MONSTER, ITEM, PLAYER, DOOR, SUMMON, SHOP, MINI_GAME, MIST, REACTOR, HIRED_MERCHANT, PLAYER_NPC, DRAGON, KITE;\n }"}, {"sha": "00bdbcc50929d8024b60028d2ecbc765d181dc31", "filename": "src/server/maps/PlayerNPCs.java", "status": "removed", "additions": 0, "deletions": 129, "changes": 129, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/80b1776ad362f28e5abab52bea073c7dbf4eca54/src/server/maps/PlayerNPCs.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/80b1776ad362f28e5abab52bea073c7dbf4eca54/src/server/maps/PlayerNPCs.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/PlayerNPCs.java?ref=80b1776ad362f28e5abab52bea073c7dbf4eca54", "patch": "@@ -1,129 +0,0 @@\n-/*\n-\tThis file is part of the OdinMS Maple Story Server\n-    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n-\t\t       Matthias Butz <matze@odinms.de>\n-\t\t       Jan Christian Meyer <vimes@odinms.de>\n-\n-    This program is free software: you can redistribute it and/or modify\n-    it under the terms of the GNU Affero General Public License as\n-    published by the Free Software Foundation version 3 as published by\n-    the Free Software Foundation. You may not use, modify or distribute\n-    this program under any other version of the GNU Affero General Public\n-    License.\n-\n-    This program is distributed in the hope that it will be useful,\n-    but WITHOUT ANY WARRANTY; without even the implied warranty of\n-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-    GNU Affero General Public License for more details.\n-\n-    You should have received a copy of the GNU Affero General Public License\n-    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n-*/\n-package server.maps;\n-\n-import java.awt.Point;\n-import java.sql.PreparedStatement;\n-import java.sql.ResultSet;\n-import java.util.HashMap;\n-import java.util.Map;\n-import client.MapleClient;\n-import java.sql.Connection;\n-import java.sql.SQLException;\n-import tools.DatabaseConnection;\n-import tools.MaplePacketCreator;\n-\n-/**\n- *\n- * @author XoticStory\n- */\n-public class PlayerNPCs extends AbstractMapleMapObject {\n-    private Map<Short, Integer> equips = new HashMap<Short, Integer>();\n-    private int npcId, face, hair;\n-    private byte skin;\n-    private String name = \"\";\n-    private int FH, RX0, RX1, CY;\n-\n-    public PlayerNPCs(ResultSet rs) {\n-        try {\n-            CY = rs.getInt(\"cy\");\n-            name = rs.getString(\"name\");\n-            hair = rs.getInt(\"hair\");\n-            face = rs.getInt(\"face\");\n-            skin = rs.getByte(\"skin\");\n-            FH = rs.getInt(\"Foothold\");\n-            RX0 = rs.getInt(\"rx0\");\n-            RX1 = rs.getInt(\"rx1\");\n-            npcId = rs.getInt(\"ScriptId\");\n-            setPosition(new Point(rs.getInt(\"x\"), CY));\n-            \n-            Connection con = DatabaseConnection.getConnection();\n-            PreparedStatement ps = con.prepareStatement(\"SELECT equippos, equipid FROM playernpcs_equip WHERE NpcId = ?\");\n-            ps.setInt(1, rs.getInt(\"id\"));\n-            ResultSet rs2 = ps.executeQuery();\n-            while (rs2.next()) {\n-                equips.put(rs2.getShort(\"equippos\"), rs2.getInt(\"equipid\"));\n-            }\n-            rs2.close();\n-            ps.close();\n-            con.close();\n-        } catch (SQLException e) {\n-            e.printStackTrace();\n-        }\n-    }\n-\n-    public Map<Short, Integer> getEquips() {\n-        return equips;\n-    }\n-\n-    public int getId() {\n-        return npcId;\n-    }\n-\n-    public int getFH() {\n-        return FH;\n-    }\n-\n-    public int getRX0() {\n-        return RX0;\n-    }\n-\n-    public int getRX1() {\n-        return RX1;\n-    }\n-\n-    public int getCY() {\n-        return CY;\n-    }\n-\n-    public byte getSkin() {\n-        return skin;\n-    }\n-\n-    public String getName() {\n-        return name;\n-    }\n-\n-    public int getFace() {\n-        return face;\n-    }\n-\n-    public int getHair() {\n-        return hair;\n-    }\n-\n-    @Override\n-    public void sendDestroyData(MapleClient client) {\n-        return;\n-    }\n-\n-    @Override\n-    public MapleMapObjectType getType() {\n-        return MapleMapObjectType.PLAYER_NPC;\n-    }\n-\n-    @Override\n-    public void sendSpawnData(MapleClient client) {\n-        client.announce(MaplePacketCreator.spawnPlayerNPC(this));\n-        client.announce(MaplePacketCreator.getPlayerNPC(this));\n-    }\n-}\n\\ No newline at end of file"}, {"sha": "238e135873d6b84a731a84a4d674d6534fa5ebb3", "filename": "src/server/maps/SavedLocationType.java", "status": "modified", "additions": 9, "deletions": 8, "changes": 17, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/server/maps/SavedLocationType.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/server/maps/SavedLocationType.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/SavedLocationType.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -22,15 +22,16 @@\n package server.maps;\n \n public enum SavedLocationType {\n-    FREE_MARKET, \n-    EVENT, \n-    WORLDTOUR, \n-    FLORINA, \n-    INTRO, \n-    SUNDAY_MARKET, \n-    MIRROR, \n+    FREE_MARKET,\n+    WORLDTOUR,\n+    FLORINA,\n+    INTRO,\n+    SUNDAY_MARKET,\n+    MIRROR,\n+    EVENT,\n     BOSSPQ,\n-    HAPPYVILLE;\n+    HAPPYVILLE,\n+    DEVELOPER;\n \n     public static SavedLocationType fromString(String Str) {\n         return valueOf(Str);"}, {"sha": "6994c0e48e59e05320c197311e23c380dfa6bdbb", "filename": "src/server/quest/MapleQuest.java", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/server/quest/MapleQuest.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/server/quest/MapleQuest.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/quest/MapleQuest.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -30,6 +30,7 @@\n import client.MapleCharacter;\n import client.MapleQuestStatus;\n import client.MapleQuestStatus.Status;\n+import constants.ServerConstants;\n import java.util.EnumMap;\n import java.util.Set;\n import provider.MapleData;\n@@ -39,6 +40,7 @@\n import server.quest.actions.*;\n import server.quest.requirements.*;\n import tools.MaplePacketCreator;\n+import tools.StringUtil;\n \n /**\n  *\n@@ -323,6 +325,19 @@ public boolean forceStart(MapleCharacter c, int npc) {\n         }\n         \n         c.updateQuest(newStatus);\n+        \n+        if(id / 100 == 35 && ServerConstants.TOT_MOB_QUEST_REQUIREMENT > 0) {\n+            int setProg = 999 - Math.min(999, ServerConstants.TOT_MOB_QUEST_REQUIREMENT);\n+            \n+            for(Integer pid : newStatus.getProgress().keySet()) {\n+                if(pid >= 8200000 && pid <= 8200012) {\n+                    String pr = StringUtil.getLeftPaddedStr(Integer.toString(setProg), '0', 3);\n+                    newStatus.setProgress(pid, pr);\n+                    c.announce(MaplePacketCreator.updateQuest(newStatus, false));\n+                }\n+            }\n+        }\n+        \n         return true;\n     }\n "}, {"sha": "b513eb1fb37339d2c053cee45a0388cd8044b3fc", "filename": "src/tools/MaplePacketCreator.java", "status": "modified", "additions": 140, "deletions": 49, "changes": 189, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/tools/MaplePacketCreator.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/src/tools/MaplePacketCreator.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/tools/MaplePacketCreator.java?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -72,7 +72,7 @@\n import server.maps.MaplePlayerShopItem;\n import server.maps.MapleReactor;\n import server.maps.MapleSummon;\n-import server.maps.PlayerNPCs;\n+import server.life.MaplePlayerNPC;\n import server.movement.LifeMovementFragment;\n import server.partyquest.MonsterCarnivalParty;\n import tools.data.output.LittleEndianWriter;\n@@ -1074,7 +1074,7 @@ public int compare(Pair<MapleStat, Integer> o1, Pair<MapleStat, Integer> o2) {\n                 mplew.writePos(pos);\n                 return mplew.getPacket();\n         }\n-\n+        \n         /**\n          * Gets a packet to remove a door.\n          *\n@@ -1135,6 +1135,32 @@ public int compare(Pair<MapleStat, Integer> o1, Pair<MapleStat, Integer> o2) {\n                 mplew.write(animated ? 4 : 1); // ?\n                 return mplew.getPacket();\n         }\n+        \n+        public static byte[] spawnKite(int oid, int itemid, String name, String msg, Point pos, int ft) {\n+                MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n+                mplew.writeShort(SendOpcode.SPAWN_KITE.getValue());\n+                mplew.writeInt(oid);\n+                mplew.writeInt(itemid);\n+                mplew.writeMapleAsciiString(msg);\n+                mplew.writeMapleAsciiString(name);\n+                mplew.writeShort(pos.x);\n+                mplew.writeShort(ft);\n+                return mplew.getPacket();\n+        }\n+\n+\tpublic static byte[] removeKite(int objectid, int animationType) {    // thanks to Arnah\n+\t\tMaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n+\t\tmplew.writeShort(SendOpcode.REMOVE_KITE.getValue());\n+\t\tmplew.write(animationType); // 0 is 10/10, 1 just vanishes\n+\t\tmplew.writeInt(objectid);\n+\t\treturn mplew.getPacket();\n+\t}\n+        \n+        public static byte[] sendCannotSpawnKite() {\n+                MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n+                mplew.writeShort(SendOpcode.CANNOT_SPAWN_KITE.getValue());\n+                return mplew.getPacket();\n+        }\n \n         /**\n          * Gets the response to a relog request.\n@@ -4754,47 +4780,6 @@ private static void addPetInfo(final MaplePacketLittleEndianWriter mplew, MapleP\n                 return mplew.getPacket();\n         }\n \n-        public static byte[] getPlayerNPC(PlayerNPCs npc) {\n-                final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n-                mplew.writeShort(SendOpcode.IMITATED_NPC_DATA.getValue());\n-                mplew.write(0x01);\n-                mplew.writeInt(npc.getId());\n-                mplew.writeMapleAsciiString(npc.getName());\n-                mplew.write(0); // direction\n-                mplew.write(npc.getSkin());\n-                mplew.writeInt(npc.getFace());\n-                mplew.write(0);\n-                mplew.writeInt(npc.getHair());\n-                Map<Short, Integer> equip = npc.getEquips();\n-                Map<Short, Integer> myEquip = new LinkedHashMap<>();\n-                for (short position : equip.keySet()) {\n-                        short pos = (short) (position * -1);\n-                        if (pos > 100) {\n-                                pos -= 100;\n-                                myEquip.put(pos, equip.get(position));\n-                        } else {\n-                                if (myEquip.get(pos) == null) {\n-                                        myEquip.put(pos, equip.get(position));\n-                                }\n-                        }\n-                }\n-                for (Entry<Short, Integer> entry : myEquip.entrySet()) {\n-                        mplew.write(entry.getKey());\n-                        mplew.writeInt(entry.getValue());\n-                }\n-                mplew.writeShort(-1);\n-                Integer cWeapon = equip.get((byte) -111);\n-                if (cWeapon != null) {\n-                        mplew.writeInt(cWeapon);\n-                } else {\n-                        mplew.writeInt(0);\n-                }\n-                for (int i = 0; i < 12; i++) {\n-                        mplew.write(0);\n-                }\n-                return mplew.getPacket();\n-        }\n-\n         public static byte[] updateAriantPQRanking(String name, int score, boolean empty) {\n                 final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n                 mplew.writeShort(SendOpcode.ARIANT_SCORE.getValue());\n@@ -4871,7 +4856,7 @@ private static void addPetInfo(final MaplePacketLittleEndianWriter mplew, MapleP\n                 mplew.write(0);\n                 return mplew.getPacket();\n         }\n-\n+        \n         public static byte[] getMiniGame(MapleClient c, MapleMiniGame minigame, boolean owner, int piece) {\n                 final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n                 mplew.writeShort(SendOpcode.PLAYER_INTERACTION.getValue());\n@@ -5533,22 +5518,82 @@ private static void addPetInfo(final MaplePacketLittleEndianWriter mplew, MapleP\n                 return mplew.getPacket();\n         }\n \n-        public static byte[] spawnPlayerNPC(PlayerNPCs npc) {\n+        public static byte[] spawnPlayerNPC(MaplePlayerNPC npc) {\n                 final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n                 mplew.writeShort(SendOpcode.SPAWN_NPC_REQUEST_CONTROLLER.getValue());\n                 mplew.write(1);\n                 mplew.writeInt(npc.getObjectId());\n-                mplew.writeInt(npc.getId());\n+                mplew.writeInt(npc.getScriptId());\n                 mplew.writeShort(npc.getPosition().x);\n                 mplew.writeShort(npc.getCY());\n-                mplew.write(1);\n+                mplew.write(npc.getDirection());\n                 mplew.writeShort(npc.getFH());\n                 mplew.writeShort(npc.getRX0());\n                 mplew.writeShort(npc.getRX1());\n                 mplew.write(1);\n                 return mplew.getPacket();\n         }\n-\n+        \n+        public static byte[] getPlayerNPC(MaplePlayerNPC npc) {     // thanks to Arnah\n+                final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n+                mplew.writeShort(SendOpcode.IMITATED_NPC_DATA.getValue());\n+                mplew.write(0x01);\n+                mplew.writeInt(npc.getScriptId());\n+                mplew.writeMapleAsciiString(npc.getName());\n+                mplew.write(npc.getGender());\n+                mplew.write(npc.getSkin());\n+                mplew.writeInt(npc.getFace());\n+                mplew.write(0);\n+                mplew.writeInt(npc.getHair());\n+                Map<Short, Integer> equip = npc.getEquips();\n+\t\tMap<Short, Integer> myEquip = new LinkedHashMap<>();\n+\t\tMap<Short, Integer> maskedEquip = new LinkedHashMap<>();\n+\t\tfor(short position : equip.keySet()){\n+\t\t\tshort pos = (byte) (position * -1);\n+\t\t\tif(pos < 100 && myEquip.get(pos) == null){\n+\t\t\t\tmyEquip.put(pos, equip.get(position));\n+\t\t\t}else if((pos > 100 || pos == -128) && pos != 111){ // don't ask. o.o\n+\t\t\t\tpos -= 100;\n+\t\t\t\tif(myEquip.get(pos) != null){\n+\t\t\t\t\tmaskedEquip.put(pos, myEquip.get(pos));\n+\t\t\t\t}\n+\t\t\t\tmyEquip.put(pos, equip.get(position));\n+\t\t\t}else if(myEquip.get(pos) != null){\n+\t\t\t\tmaskedEquip.put(pos, equip.get(position));\n+\t\t\t}\n+\t\t}\n+\t\tfor(Entry<Short, Integer> entry : myEquip.entrySet()){\n+\t\t\tmplew.write(entry.getKey());\n+\t\t\tmplew.writeInt(entry.getValue());\n+\t\t}\n+\t\tmplew.write(0xFF);\n+\t\tfor(Entry<Short, Integer> entry : maskedEquip.entrySet()){\n+\t\t\tmplew.write(entry.getKey());\n+\t\t\tmplew.writeInt(entry.getValue());\n+\t\t}\n+\t\tmplew.write(0xFF);\n+\t\tInteger cWeapon = equip.get((byte) -111);\n+\t\tif(cWeapon != null){\n+\t\t\tmplew.writeInt(cWeapon);\n+\t\t}else{\n+\t\t\tmplew.writeInt(0);\n+\t\t}\n+\t\tfor(int i = 0; i < 3; i++){\n+\t\t\tmplew.writeInt(0);\n+\t\t}\n+                return mplew.getPacket();\n+        }\n+\n+        public static byte[] removePlayerNPC(int oid) {\n+                final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n+                mplew.writeShort(SendOpcode.IMITATED_NPC_DATA.getValue());\n+                mplew.write(0x00);\n+                mplew.writeInt(oid);\n+                for(int i = 0; i < ServerConstants.DEBUG_VALUES[0]; i++) mplew.writeInt(0);\n+                \n+                return mplew.getPacket();\n+        }\n+        \n         public static byte[] sendYellowTip(String tip) {\n                 final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n                 mplew.writeShort(SendOpcode.SET_WEEK_EVENT_MESSAGE.getValue());\n@@ -7164,15 +7209,44 @@ public static void addCashItemInformation(final MaplePacketLittleEndianWriter mp\n          * A8 = You cannot send a gift to your own account. Log in on the char and purchase\n          * A9 = Please confirm whether the character's name is correct.\n          * AA = Gender restriction!\n+         * AB = gift cannot be sent because recipient inv is full\n+         * AC = exceeded the number of cash items you can have\n+         * AD = check and see if the character name is wrong or there is gender restrictions\n          * //Skipped a few\n          * B0 = Wrong Coupon Code\n          * B1 = Disconnect from CS because of 3 wrong coupon codes < lol\n          * B2 = Expired Coupon\n          * B3 = Coupon has been used already\n          * B4 = Nexon internet cafes? lolfk\n-         *\n          * BB = inv full\n+         * BC = long as shet \"(not?) available to purchase by a use at the premium\" msg\n+         * BD = invalid gift recipient\n+         * BE = invalid receiver name\n+         * BF = item unavailable to purchase at this hour\n+         * C0 = not enough items in stock, therefore not available\n+         * C1 = you have exceeded spending limit of NX\n          * C2 = not enough mesos? Lol not even 1 mesos xD\n+         * C3 = cash shop unavailable during beta phase\n+         * C4 = check birthday code\n+         * C7 = only available to users buying cash item, whatever msg too long\n+         * C8 = already applied for this\n+         * D2 = coupon system currently unavailable\n+         * D3 = item can only be used 15 days after registration\n+         * D4 = not enough gift tokens\n+         * D6 = fresh people cannot gift items lul\n+         * D7 = bad people cannot gift items >:(\n+         * D8 = cannot gift due to limitations\n+         * D9 = cannot gift due to amount of gifted times\n+         * DA = cannot be gifted due to technical difficulties\n+         * DB = cannot transfer to char below level 20\n+         * DC = cannot transfer char to same world\n+         * DD = cannot transfer char to new server world\n+         * DE = cannot transfer char out of this world\n+         * DF = cannot transfer char due to no empty char slots\n+         * E0 = event or free test time ended\n+         * E6 = item cannot be purchased with MaplePoints\n+         * E7 = lol sorry for the inconvenience, eh?\n+         * E8 = cannot be purchased by anyone under 7\n          */\n         public static byte[] showCashShopMessage(byte message) {\n                 final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter(4);\n@@ -7183,6 +7257,23 @@ public static void addCashItemInformation(final MaplePacketLittleEndianWriter mp\n \n                 return mplew.getPacket();\n         }\n+        \n+        public static byte[] showCashShopSurprise(int itemid) {\n+                final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n+                mplew.writeShort(ServerConstants.DEBUG_VALUES[0]);\n+\n+                for(int i = 0; i < ServerConstants.DEBUG_VALUES[1]; i++) {\n+                    mplew.write(0);\n+                }\n+                \n+                mplew.writeInt(itemid);\n+                \n+                for(int i = 0; i < ServerConstants.DEBUG_VALUES[2]; i++) {\n+                    mplew.write(0);\n+                }\n+\n+                return mplew.getPacket();\n+        }\n \n         public static byte[] showCashInventory(MapleClient c) {\n                 final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();"}, {"sha": "394d437c9aff26c4778a95ece84e10f5f26b124d", "filename": "tools/SQL/qstscript_bug_regex.txt", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/tools/SQL/qstscript_bug_regex.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/tools/SQL/qstscript_bug_regex.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/SQL/qstscript_bug_regex.txt?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,8 @@\n+(qm.send).*(^(if\\s?\\(status)).*(qm.dispose)\n+\n+\n+(qm.send)(^((if(\\s)?\\(status)|^((.|\\r\\n|\\n)*)))(qm.dispose)\n+\n+(qm.send)((.|\\r\\n|\\n)*)((status))((.|\\r\\n|\\n)*)(qm.dispose)\n+\n+(qm.send)(((.|\\r\\n|\\n)(?!qm.send)(?!status)(?!qm.dispose))*)(Quest\\()\n\\ No newline at end of file"}, {"sha": "aee593e3c47e02cd1248432b365cf1f36ffd5119", "filename": "wz/Etc.wz/DeveloperNpc.img.xml", "status": "added", "additions": 43, "deletions": 0, "changes": 43, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Etc.wz/DeveloperNpc.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Etc.wz/DeveloperNpc.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Etc.wz/DeveloperNpc.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,43 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"DeveloperNpc.img\">\n+  <imgdir name=\"9977777\">\n+    <string name=\"name\" value=\"Ronan\"/>\n+    <int name=\"face\" value=\"20104\"/>\n+    <int name=\"hair\" value=\"30215\"/>\n+    <int name=\"skin\" value=\"0\"/>\n+    <int name=\"gender\" value=\"0\"/>\n+    <int name=\"dir\" value=\"0\"/>\n+    <int name=\"map\" value=\"777777777\"/>\n+    <int name=\"fh\" value=\"4\"/>\n+    <int name=\"rx0\" value=\"-143\"/>\n+    <int name=\"rx1\" value=\"-243\"/>\n+    <int name=\"cy\" value=\"117\"/>\n+    <int name=\"cx\" value=\"-193\"/>\n+    <imgdir name=\"equips\">\n+      <imgdir name=\"1\">\n+        <int name=\"itemid\" value=\"1402046\"/>\n+        <int name=\"pos\" value=\"-11\"/>\n+      </imgdir>\n+      <imgdir name=\"2\">\n+        <int name=\"itemid\" value=\"1082140\"/>\n+        <int name=\"pos\" value=\"-8\"/>\n+      </imgdir>\n+      <imgdir name=\"4\">\n+        <int name=\"itemid\" value=\"1072154\"/>\n+        <int name=\"pos\" value=\"-7\"/>\n+      </imgdir>\n+      <imgdir name=\"3\">\n+        <int name=\"itemid\" value=\"1060091\"/>\n+        <int name=\"pos\" value=\"-6\"/>\n+      </imgdir>\n+      <imgdir name=\"5\">\n+        <int name=\"itemid\" value=\"1040103\"/>\n+        <int name=\"pos\" value=\"-5\"/>\n+      </imgdir>\n+      <imgdir name=\"0\">\n+        <int name=\"itemid\" value=\"1002067\"/>\n+        <int name=\"pos\" value=\"-1\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "e61625502dcf2b9a9f2045388e98d9f24de5e0fa", "filename": "wz/Map.wz/Map/Map1/100000204.img.xml", "status": "modified", "additions": 91, "deletions": 108, "changes": 199, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Map.wz/Map/Map1/100000204.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Map.wz/Map/Map1/100000204.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map1/100000204.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,219 +1,202 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"100000204.img\">\n   <imgdir name=\"info\">\n-    <int name=\"version\" value=\"10\"/>\n+    <string name=\"bgm\" value=\"Bgm00/FloralLife\"/>\n     <int name=\"cloud\" value=\"0\"/>\n-    <int name=\"town\" value=\"1\"/>\n     <int name=\"swim\" value=\"0\"/>\n-    <int name=\"returnMap\" value=\"100000000\"/>\n     <int name=\"forcedReturn\" value=\"999999999\"/>\n-    <float name=\"mobRate\" value=\"1.0\"/>\n-    <string name=\"bgm\" value=\"Bgm00/FloralLife\"/>\n-    <string name=\"mapMark\" value=\"Henesys\"/>\n-    <int name=\"fly\" value=\"0\"/>\n-    <int name=\"noMapCmd\" value=\"0\"/>\n     <int name=\"hideMinimap\" value=\"0\"/>\n+    <string name=\"mapMark\" value=\"Henesys\"/>\n+    <float name=\"mobRate\" value=\"1.0\"/>\n+    <int name=\"returnMap\" value=\"100000000\"/>\n+    <int name=\"town\" value=\"1\"/>\n+    <int name=\"version\" value=\"10\"/>\n     <int name=\"fieldLimit\" value=\"0\"/>\n     <string name=\"onFirstUserEnter\" value=\"\"/>\n     <string name=\"onUserEnter\" value=\"\"/>\n-    <int name=\"VRTop\" value=\"-300\"/>\n+    <int name=\"fly\" value=\"0\"/>\n+    <int name=\"noMapCmd\" value=\"0\"/>\n     <int name=\"VRLeft\" value=\"-400\"/>\n-    <int name=\"VRBottom\" value=\"300\"/>\n     <int name=\"VRRight\" value=\"400\"/>\n-  </imgdir>\n-  <imgdir name=\"back\">\n-    <imgdir name=\"0\">\n-      <string name=\"bS\" value=\"\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"0\"/>\n-      <int name=\"y\" value=\"0\"/>\n-      <int name=\"rx\" value=\"0\"/>\n-      <int name=\"ry\" value=\"0\"/>\n-      <int name=\"type\" value=\"0\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"life\">\n-    <imgdir name=\"0\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901200\"/>\n-      <int name=\"x\" value=\"7\"/>\n-      <int name=\"y\" value=\"-8\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"1\"/>\n-      <int name=\"cy\" value=\"-2\"/>\n-      <int name=\"rx0\" value=\"-2\"/>\n-      <int name=\"rx1\" value=\"10\"/>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"reactor\">\n+    <int name=\"VRTop\" value=\"-300\"/>\n+    <int name=\"VRBottom\" value=\"300\"/>\n   </imgdir>\n   <imgdir name=\"0\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"1\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n-        <string name=\"oS\" value=\"acc1\"/>\n-        <string name=\"l0\" value=\"lv200\"/>\n-        <string name=\"l1\" value=\"archer\"/>\n-        <string name=\"l2\" value=\"1\"/>\n         <int name=\"x\" value=\"0\"/>\n         <int name=\"y\" value=\"-70\"/>\n         <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"1\"/>\n-      </imgdir>\n-      <imgdir name=\"1\">\n         <string name=\"oS\" value=\"acc1\"/>\n         <string name=\"l0\" value=\"lv200\"/>\n         <string name=\"l1\" value=\"archer\"/>\n-        <string name=\"l2\" value=\"0\"/>\n+        <string name=\"l2\" value=\"1\"/>\n+        <int name=\"r\" value=\"1\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"1\">\n         <int name=\"x\" value=\"1\"/>\n         <int name=\"y\" value=\"0\"/>\n         <int name=\"z\" value=\"0\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"oS\" value=\"acc1\"/>\n+        <string name=\"l0\" value=\"lv200\"/>\n+        <string name=\"l1\" value=\"archer\"/>\n+        <string name=\"l2\" value=\"0\"/>\n         <int name=\"r\" value=\"1\"/>\n+        <int name=\"f\" value=\"0\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"2\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"3\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n-        <string name=\"oS\" value=\"acc1\"/>\n-        <string name=\"l0\" value=\"lv200\"/>\n-        <string name=\"l1\" value=\"archer\"/>\n-        <string name=\"l2\" value=\"2\"/>\n         <int name=\"x\" value=\"0\"/>\n         <int name=\"y\" value=\"225\"/>\n         <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"1\"/>\n+        <string name=\"oS\" value=\"acc1\"/>\n+        <string name=\"l0\" value=\"lv200\"/>\n+        <string name=\"l1\" value=\"archer\"/>\n+        <string name=\"l2\" value=\"2\"/>\n         <int name=\"r\" value=\"1\"/>\n+        <int name=\"f\" value=\"0\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"4\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"5\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"6\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"7\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n-  </imgdir>\n-  <imgdir name=\"foothold\">\n-    <imgdir name=\"1\">\n-      <imgdir name=\"0\">\n-        <imgdir name=\"1\">\n-          <int name=\"x1\" value=\"-22\"/>\n-          <int name=\"y1\" value=\"-2\"/>\n-          <int name=\"x2\" value=\"30\"/>\n-          <int name=\"y2\" value=\"-2\"/>\n-          <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"0\"/>\n-        </imgdir>\n-      </imgdir>\n-    </imgdir>\n-    <imgdir name=\"3\">\n-      <imgdir name=\"1\">\n-        <imgdir name=\"2\">\n-          <int name=\"x1\" value=\"-400\"/>\n-          <int name=\"y1\" value=\"162\"/>\n-          <int name=\"x2\" value=\"400\"/>\n-          <int name=\"y2\" value=\"160\"/>\n-          <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"0\"/>\n-        </imgdir>\n-      </imgdir>\n+    <imgdir name=\"tile\">\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"ladderRope\">\n   </imgdir>\n   <imgdir name=\"portal\">\n     <imgdir name=\"0\">\n-      <string name=\"pn\" value=\"sp\"/>\n-      <int name=\"pt\" value=\"0\"/>\n       <int name=\"x\" value=\"-212\"/>\n       <int name=\"y\" value=\"141\"/>\n+      <int name=\"pt\" value=\"0\"/>\n       <int name=\"tm\" value=\"999999999\"/>\n       <string name=\"tn\" value=\"\"/>\n+      <string name=\"pn\" value=\"sp\"/>\n       <int name=\"horizontalImpact\" value=\"0\"/>\n     </imgdir>\n     <imgdir name=\"1\">\n-      <string name=\"pn\" value=\"sp\"/>\n-      <int name=\"pt\" value=\"0\"/>\n       <int name=\"x\" value=\"-141\"/>\n       <int name=\"y\" value=\"141\"/>\n+      <int name=\"pt\" value=\"0\"/>\n       <int name=\"tm\" value=\"999999999\"/>\n       <string name=\"tn\" value=\"\"/>\n+      <string name=\"pn\" value=\"sp\"/>\n       <int name=\"horizontalImpact\" value=\"0\"/>\n     </imgdir>\n     <imgdir name=\"2\">\n-      <string name=\"pn\" value=\"out00\"/>\n-      <int name=\"pt\" value=\"2\"/>\n       <int name=\"x\" value=\"-332\"/>\n       <int name=\"y\" value=\"157\"/>\n+      <int name=\"pt\" value=\"2\"/>\n       <int name=\"tm\" value=\"100000201\"/>\n       <string name=\"tn\" value=\"rank00\"/>\n-      <int name=\"horizontalImpact\" value=\"0\"/>\n+      <string name=\"pn\" value=\"out00\"/>\n       <string name=\"script\" value=\"\"/>\n+      <int name=\"horizontalImpact\" value=\"0\"/>\n+      <int name=\"delay\" value=\"0\"/>\n       <int name=\"hideTooltip\" value=\"0\"/>\n       <int name=\"onlyOnce\" value=\"0\"/>\n-      <int name=\"delay\" value=\"0\"/>\n     </imgdir>\n+    <imgdir name=\"3\">\n+      <int name=\"x\" value=\"346\"/>\n+      <int name=\"y\" value=\"159\"/>\n+      <int name=\"pt\" value=\"8\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+      <string name=\"pn\" value=\"in00\"/>\n+      <int name=\"hideTooltip\" value=\"0\"/>\n+      <int name=\"onlyOnce\" value=\"0\"/>\n+      <string name=\"script\" value=\"rankDeveloperRoom\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"reactor\">\n+  </imgdir>\n+  <imgdir name=\"back\">\n+  </imgdir>\n+  <imgdir name=\"foothold\">\n+    <imgdir name=\"1\">\n+      <imgdir name=\"0\">\n+        <imgdir name=\"2\">\n+          <int name=\"x1\" value=\"-22\"/>\n+          <int name=\"y1\" value=\"-2\"/>\n+          <int name=\"x2\" value=\"30\"/>\n+          <int name=\"y2\" value=\"-2\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+      </imgdir>\n+    </imgdir>\n+    <imgdir name=\"3\">\n+      <imgdir name=\"1\">\n+        <imgdir name=\"1\">\n+          <int name=\"x1\" value=\"-400\"/>\n+          <int name=\"y1\" value=\"162\"/>\n+          <int name=\"x2\" value=\"400\"/>\n+          <int name=\"y2\" value=\"160\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"life\">\n   </imgdir>\n </imgdir>"}, {"sha": "c79b89114e4215fc9a0e56a95f1756f3257e6ee9", "filename": "wz/Map.wz/Map/Map1/101000004.img.xml", "status": "modified", "additions": 388, "deletions": 496, "changes": 884, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Map.wz/Map/Map1/101000004.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Map.wz/Map/Map1/101000004.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map1/101000004.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,826 +1,718 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"101000004.img\">\n   <imgdir name=\"info\">\n-    <int name=\"version\" value=\"10\"/>\n+    <string name=\"bgm\" value=\"Bgm02/WhenTheMorningComes\"/>\n     <int name=\"cloud\" value=\"0\"/>\n-    <int name=\"town\" value=\"1\"/>\n     <int name=\"swim\" value=\"0\"/>\n-    <int name=\"returnMap\" value=\"101000000\"/>\n     <int name=\"forcedReturn\" value=\"999999999\"/>\n-    <float name=\"mobRate\" value=\"1.0\"/>\n-    <string name=\"bgm\" value=\"Bgm02/WhenTheMorningComes\"/>\n-    <string name=\"mapMark\" value=\"Ellinia\"/>\n-    <int name=\"fly\" value=\"0\"/>\n-    <int name=\"noMapCmd\" value=\"0\"/>\n     <int name=\"hideMinimap\" value=\"0\"/>\n+    <string name=\"mapMark\" value=\"Ellinia\"/>\n+    <float name=\"mobRate\" value=\"1.0\"/>\n+    <int name=\"returnMap\" value=\"101000000\"/>\n+    <int name=\"town\" value=\"1\"/>\n+    <int name=\"version\" value=\"10\"/>\n     <int name=\"fieldLimit\" value=\"0\"/>\n     <string name=\"onFirstUserEnter\" value=\"\"/>\n     <string name=\"onUserEnter\" value=\"\"/>\n-    <int name=\"VRTop\" value=\"-300\"/>\n+    <int name=\"fly\" value=\"0\"/>\n+    <int name=\"noMapCmd\" value=\"0\"/>\n     <int name=\"VRLeft\" value=\"-400\"/>\n-    <int name=\"VRBottom\" value=\"300\"/>\n     <int name=\"VRRight\" value=\"400\"/>\n-  </imgdir>\n-  <imgdir name=\"back\">\n-    <imgdir name=\"0\">\n-      <string name=\"bS\" value=\"\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"0\"/>\n-      <int name=\"y\" value=\"0\"/>\n-      <int name=\"rx\" value=\"0\"/>\n-      <int name=\"ry\" value=\"0\"/>\n-      <int name=\"type\" value=\"0\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"life\">\n-    <imgdir name=\"0\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901100\"/>\n-      <int name=\"x\" value=\"2\"/>\n-      <int name=\"y\" value=\"-40\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"3\"/>\n-      <int name=\"cy\" value=\"-34\"/>\n-      <int name=\"rx0\" value=\"-48\"/>\n-      <int name=\"rx1\" value=\"52\"/>\n-    </imgdir>\n-    <imgdir name=\"1\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901101\"/>\n-      <int name=\"x\" value=\"-108\"/>\n-      <int name=\"y\" value=\"43\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"1\"/>\n-      <int name=\"cy\" value=\"51\"/>\n-      <int name=\"rx0\" value=\"-158\"/>\n-      <int name=\"rx1\" value=\"-58\"/>\n-    </imgdir>\n-    <imgdir name=\"2\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901102\"/>\n-      <int name=\"x\" value=\"116\"/>\n-      <int name=\"y\" value=\"44\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"2\"/>\n-      <int name=\"cy\" value=\"52\"/>\n-      <int name=\"rx0\" value=\"66\"/>\n-      <int name=\"rx1\" value=\"166\"/>\n-    </imgdir>\n-    <imgdir name=\"3\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901103\"/>\n-      <int name=\"x\" value=\"73\"/>\n-      <int name=\"y\" value=\"153\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"27\"/>\n-      <int name=\"cy\" value=\"160\"/>\n-      <int name=\"rx0\" value=\"23\"/>\n-      <int name=\"rx1\" value=\"123\"/>\n-    </imgdir>\n-    <imgdir name=\"4\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901104\"/>\n-      <int name=\"x\" value=\"-304\"/>\n-      <int name=\"y\" value=\"148\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"5\"/>\n-      <int name=\"cy\" value=\"163\"/>\n-      <int name=\"rx0\" value=\"-354\"/>\n-      <int name=\"rx1\" value=\"-254\"/>\n-    </imgdir>\n-    <imgdir name=\"5\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901105\"/>\n-      <int name=\"x\" value=\"-165\"/>\n-      <int name=\"y\" value=\"153\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"14\"/>\n-      <int name=\"cy\" value=\"169\"/>\n-      <int name=\"rx0\" value=\"-215\"/>\n-      <int name=\"rx1\" value=\"-115\"/>\n-    </imgdir>\n-    <imgdir name=\"6\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901106\"/>\n-      <int name=\"x\" value=\"-44\"/>\n-      <int name=\"y\" value=\"159\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"20\"/>\n-      <int name=\"cy\" value=\"174\"/>\n-      <int name=\"rx0\" value=\"-94\"/>\n-      <int name=\"rx1\" value=\"6\"/>\n-    </imgdir>\n-    <imgdir name=\"7\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901107\"/>\n-      <int name=\"x\" value=\"190\"/>\n-      <int name=\"y\" value=\"152\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"33\"/>\n-      <int name=\"cy\" value=\"164\"/>\n-      <int name=\"rx0\" value=\"140\"/>\n-      <int name=\"rx1\" value=\"240\"/>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"reactor\">\n+    <int name=\"VRTop\" value=\"-300\"/>\n+    <int name=\"VRBottom\" value=\"300\"/>\n   </imgdir>\n   <imgdir name=\"0\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"1\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n-        <string name=\"oS\" value=\"acc1\"/>\n-        <string name=\"l0\" value=\"lv200\"/>\n-        <string name=\"l1\" value=\"magician\"/>\n-        <string name=\"l2\" value=\"0\"/>\n         <int name=\"x\" value=\"-1\"/>\n         <int name=\"y\" value=\"-1\"/>\n         <int name=\"z\" value=\"1\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"1\"/>\n-      </imgdir>\n-      <imgdir name=\"1\">\n         <string name=\"oS\" value=\"acc1\"/>\n         <string name=\"l0\" value=\"lv200\"/>\n         <string name=\"l1\" value=\"magician\"/>\n-        <string name=\"l2\" value=\"1\"/>\n+        <string name=\"l2\" value=\"0\"/>\n+        <int name=\"r\" value=\"1\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"1\">\n         <int name=\"x\" value=\"0\"/>\n         <int name=\"y\" value=\"-1\"/>\n         <int name=\"z\" value=\"5\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"1\"/>\n-      </imgdir>\n-      <imgdir name=\"2\">\n         <string name=\"oS\" value=\"acc1\"/>\n         <string name=\"l0\" value=\"lv200\"/>\n         <string name=\"l1\" value=\"magician\"/>\n-        <string name=\"l2\" value=\"2\"/>\n+        <string name=\"l2\" value=\"1\"/>\n+        <int name=\"r\" value=\"1\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"2\">\n         <int name=\"x\" value=\"0\"/>\n         <int name=\"y\" value=\"109\"/>\n         <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"oS\" value=\"acc1\"/>\n+        <string name=\"l0\" value=\"lv200\"/>\n+        <string name=\"l1\" value=\"magician\"/>\n+        <string name=\"l2\" value=\"2\"/>\n         <int name=\"r\" value=\"0\"/>\n+        <int name=\"f\" value=\"0\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"2\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"3\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"4\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"5\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"6\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"7\">\n     <imgdir name=\"info\">\n     </imgdir>\n+    <imgdir name=\"obj\">\n+    </imgdir>\n     <imgdir name=\"tile\">\n     </imgdir>\n-    <imgdir name=\"obj\">\n+  </imgdir>\n+  <imgdir name=\"ladderRope\">\n+  </imgdir>\n+  <imgdir name=\"portal\">\n+    <imgdir name=\"0\">\n+      <int name=\"x\" value=\"220\"/>\n+      <int name=\"y\" value=\"136\"/>\n+      <int name=\"pt\" value=\"0\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+      <string name=\"pn\" value=\"sp\"/>\n+      <int name=\"horizontalImpact\" value=\"0\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <int name=\"x\" value=\"286\"/>\n+      <int name=\"y\" value=\"-34\"/>\n+      <int name=\"pt\" value=\"0\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+      <string name=\"pn\" value=\"sp\"/>\n+      <int name=\"horizontalImpact\" value=\"0\"/>\n+    </imgdir>\n+    <imgdir name=\"2\">\n+      <int name=\"x\" value=\"309\"/>\n+      <int name=\"y\" value=\"158\"/>\n+      <int name=\"pt\" value=\"2\"/>\n+      <int name=\"tm\" value=\"101000003\"/>\n+      <string name=\"tn\" value=\"rank00\"/>\n+      <string name=\"pn\" value=\"out00\"/>\n+      <string name=\"script\" value=\"\"/>\n+      <int name=\"horizontalImpact\" value=\"0\"/>\n+      <int name=\"delay\" value=\"0\"/>\n+      <int name=\"hideTooltip\" value=\"0\"/>\n+      <int name=\"onlyOnce\" value=\"0\"/>\n+    </imgdir>\n+    <imgdir name=\"3\">\n+      <int name=\"x\" value=\"-317\"/>\n+      <int name=\"y\" value=\"160\"/>\n+      <int name=\"pt\" value=\"8\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+      <string name=\"pn\" value=\"in00\"/>\n+      <int name=\"hideTooltip\" value=\"0\"/>\n+      <int name=\"onlyOnce\" value=\"0\"/>\n+      <string name=\"script\" value=\"rankDeveloperRoom\"/>\n     </imgdir>\n   </imgdir>\n+  <imgdir name=\"reactor\">\n+  </imgdir>\n+  <imgdir name=\"back\">\n+  </imgdir>\n   <imgdir name=\"foothold\">\n     <imgdir name=\"1\">\n       <imgdir name=\"0\">\n         <imgdir name=\"1\">\n-          <int name=\"x1\" value=\"-133\"/>\n-          <int name=\"y1\" value=\"51\"/>\n-          <int name=\"x2\" value=\"-76\"/>\n-          <int name=\"y2\" value=\"51\"/>\n+          <int name=\"x1\" value=\"-400\"/>\n+          <int name=\"y1\" value=\"-9\"/>\n+          <int name=\"x2\" value=\"-358\"/>\n+          <int name=\"y2\" value=\"-8\"/>\n           <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"0\"/>\n+          <int name=\"next\" value=\"3\"/>\n         </imgdir>\n         <imgdir name=\"2\">\n-          <int name=\"x1\" value=\"85\"/>\n-          <int name=\"y1\" value=\"52\"/>\n-          <int name=\"x2\" value=\"143\"/>\n-          <int name=\"y2\" value=\"52\"/>\n-          <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"0\"/>\n-        </imgdir>\n-        <imgdir name=\"3\">\n-          <int name=\"x1\" value=\"-11\"/>\n-          <int name=\"y1\" value=\"-34\"/>\n-          <int name=\"x2\" value=\"20\"/>\n-          <int name=\"y2\" value=\"-34\"/>\n-          <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"0\"/>\n-        </imgdir>\n-        <imgdir name=\"4\">\n           <int name=\"x1\" value=\"-400\"/>\n           <int name=\"y1\" value=\"169\"/>\n           <int name=\"x2\" value=\"-334\"/>\n           <int name=\"y2\" value=\"164\"/>\n           <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"4\"/>\n+        </imgdir>\n+        <imgdir name=\"3\">\n+          <int name=\"x1\" value=\"-358\"/>\n+          <int name=\"y1\" value=\"-8\"/>\n+          <int name=\"x2\" value=\"-332\"/>\n+          <int name=\"y2\" value=\"-9\"/>\n+          <int name=\"prev\" value=\"1\"/>\n           <int name=\"next\" value=\"5\"/>\n         </imgdir>\n-        <imgdir name=\"5\">\n+        <imgdir name=\"4\">\n           <int name=\"x1\" value=\"-334\"/>\n           <int name=\"y1\" value=\"164\"/>\n           <int name=\"x2\" value=\"-301\"/>\n           <int name=\"y2\" value=\"162\"/>\n-          <int name=\"prev\" value=\"4\"/>\n+          <int name=\"prev\" value=\"2\"/>\n+          <int name=\"next\" value=\"7\"/>\n+        </imgdir>\n+        <imgdir name=\"5\">\n+          <int name=\"x1\" value=\"-332\"/>\n+          <int name=\"y1\" value=\"-9\"/>\n+          <int name=\"x2\" value=\"-314\"/>\n+          <int name=\"y2\" value=\"-6\"/>\n+          <int name=\"prev\" value=\"3\"/>\n           <int name=\"next\" value=\"6\"/>\n         </imgdir>\n         <imgdir name=\"6\">\n+          <int name=\"x1\" value=\"-314\"/>\n+          <int name=\"y1\" value=\"-6\"/>\n+          <int name=\"x2\" value=\"-296\"/>\n+          <int name=\"y2\" value=\"-4\"/>\n+          <int name=\"prev\" value=\"5\"/>\n+          <int name=\"next\" value=\"8\"/>\n+        </imgdir>\n+        <imgdir name=\"7\">\n           <int name=\"x1\" value=\"-301\"/>\n           <int name=\"y1\" value=\"162\"/>\n           <int name=\"x2\" value=\"-281\"/>\n           <int name=\"y2\" value=\"166\"/>\n-          <int name=\"prev\" value=\"5\"/>\n-          <int name=\"next\" value=\"7\"/>\n+          <int name=\"prev\" value=\"4\"/>\n+          <int name=\"next\" value=\"10\"/>\n         </imgdir>\n-        <imgdir name=\"7\">\n+        <imgdir name=\"8\">\n+          <int name=\"x1\" value=\"-296\"/>\n+          <int name=\"y1\" value=\"-4\"/>\n+          <int name=\"x2\" value=\"-282\"/>\n+          <int name=\"y2\" value=\"2\"/>\n+          <int name=\"prev\" value=\"6\"/>\n+          <int name=\"next\" value=\"9\"/>\n+        </imgdir>\n+        <imgdir name=\"9\">\n+          <int name=\"x1\" value=\"-282\"/>\n+          <int name=\"y1\" value=\"2\"/>\n+          <int name=\"x2\" value=\"-270\"/>\n+          <int name=\"y2\" value=\"6\"/>\n+          <int name=\"prev\" value=\"8\"/>\n+          <int name=\"next\" value=\"11\"/>\n+        </imgdir>\n+        <imgdir name=\"10\">\n           <int name=\"x1\" value=\"-281\"/>\n           <int name=\"y1\" value=\"166\"/>\n           <int name=\"x2\" value=\"-270\"/>\n           <int name=\"y2\" value=\"166\"/>\n-          <int name=\"prev\" value=\"6\"/>\n-          <int name=\"next\" value=\"8\"/>\n+          <int name=\"prev\" value=\"7\"/>\n+          <int name=\"next\" value=\"12\"/>\n         </imgdir>\n-        <imgdir name=\"8\">\n+        <imgdir name=\"11\">\n+          <int name=\"x1\" value=\"-270\"/>\n+          <int name=\"y1\" value=\"6\"/>\n+          <int name=\"x2\" value=\"-250\"/>\n+          <int name=\"y2\" value=\"10\"/>\n+          <int name=\"prev\" value=\"9\"/>\n+          <int name=\"next\" value=\"14\"/>\n+        </imgdir>\n+        <imgdir name=\"12\">\n           <int name=\"x1\" value=\"-270\"/>\n           <int name=\"y1\" value=\"166\"/>\n           <int name=\"x2\" value=\"-254\"/>\n           <int name=\"y2\" value=\"158\"/>\n-          <int name=\"prev\" value=\"7\"/>\n-          <int name=\"next\" value=\"9\"/>\n+          <int name=\"prev\" value=\"10\"/>\n+          <int name=\"next\" value=\"13\"/>\n         </imgdir>\n-        <imgdir name=\"9\">\n+        <imgdir name=\"13\">\n           <int name=\"x1\" value=\"-254\"/>\n           <int name=\"y1\" value=\"158\"/>\n           <int name=\"x2\" value=\"-240\"/>\n           <int name=\"y2\" value=\"158\"/>\n-          <int name=\"prev\" value=\"8\"/>\n-          <int name=\"next\" value=\"10\"/>\n+          <int name=\"prev\" value=\"12\"/>\n+          <int name=\"next\" value=\"15\"/>\n         </imgdir>\n-        <imgdir name=\"10\">\n+        <imgdir name=\"14\">\n+          <int name=\"x1\" value=\"-250\"/>\n+          <int name=\"y1\" value=\"10\"/>\n+          <int name=\"x2\" value=\"-228\"/>\n+          <int name=\"y2\" value=\"17\"/>\n+          <int name=\"prev\" value=\"11\"/>\n+          <int name=\"next\" value=\"16\"/>\n+        </imgdir>\n+        <imgdir name=\"15\">\n           <int name=\"x1\" value=\"-240\"/>\n           <int name=\"y1\" value=\"158\"/>\n           <int name=\"x2\" value=\"-225\"/>\n           <int name=\"y2\" value=\"158\"/>\n-          <int name=\"prev\" value=\"9\"/>\n-          <int name=\"next\" value=\"11\"/>\n+          <int name=\"prev\" value=\"13\"/>\n+          <int name=\"next\" value=\"17\"/>\n         </imgdir>\n-        <imgdir name=\"11\">\n-          <int name=\"x1\" value=\"-225\"/>\n+        <imgdir name=\"16\">\n+          <int name=\"x1\" value=\"-228\"/>\n+          <int name=\"y1\" value=\"17\"/>\n+          <int name=\"x2\" value=\"-174\"/>\n+          <int name=\"y2\" value=\"17\"/>\n+          <int name=\"prev\" value=\"14\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"17\">\n+          <int name=\"x1\" value=\"-225\"/>\n           <int name=\"y1\" value=\"158\"/>\n           <int name=\"x2\" value=\"-201\"/>\n           <int name=\"y2\" value=\"158\"/>\n-          <int name=\"prev\" value=\"10\"/>\n-          <int name=\"next\" value=\"12\"/>\n+          <int name=\"prev\" value=\"15\"/>\n+          <int name=\"next\" value=\"18\"/>\n         </imgdir>\n-        <imgdir name=\"12\">\n+        <imgdir name=\"18\">\n           <int name=\"x1\" value=\"-201\"/>\n           <int name=\"y1\" value=\"158\"/>\n           <int name=\"x2\" value=\"-182\"/>\n           <int name=\"y2\" value=\"161\"/>\n-          <int name=\"prev\" value=\"11\"/>\n-          <int name=\"next\" value=\"13\"/>\n+          <int name=\"prev\" value=\"17\"/>\n+          <int name=\"next\" value=\"19\"/>\n         </imgdir>\n-        <imgdir name=\"13\">\n+        <imgdir name=\"19\">\n           <int name=\"x1\" value=\"-182\"/>\n           <int name=\"y1\" value=\"161\"/>\n           <int name=\"x2\" value=\"-168\"/>\n           <int name=\"y2\" value=\"167\"/>\n-          <int name=\"prev\" value=\"12\"/>\n-          <int name=\"next\" value=\"14\"/>\n+          <int name=\"prev\" value=\"18\"/>\n+          <int name=\"next\" value=\"20\"/>\n         </imgdir>\n-        <imgdir name=\"14\">\n+        <imgdir name=\"20\">\n           <int name=\"x1\" value=\"-168\"/>\n           <int name=\"y1\" value=\"167\"/>\n           <int name=\"x2\" value=\"-160\"/>\n           <int name=\"y2\" value=\"173\"/>\n-          <int name=\"prev\" value=\"13\"/>\n-          <int name=\"next\" value=\"15\"/>\n+          <int name=\"prev\" value=\"19\"/>\n+          <int name=\"next\" value=\"21\"/>\n         </imgdir>\n-        <imgdir name=\"15\">\n+        <imgdir name=\"21\">\n           <int name=\"x1\" value=\"-160\"/>\n           <int name=\"y1\" value=\"173\"/>\n           <int name=\"x2\" value=\"-144\"/>\n           <int name=\"y2\" value=\"173\"/>\n-          <int name=\"prev\" value=\"14\"/>\n-          <int name=\"next\" value=\"16\"/>\n+          <int name=\"prev\" value=\"20\"/>\n+          <int name=\"next\" value=\"22\"/>\n         </imgdir>\n-        <imgdir name=\"16\">\n+        <imgdir name=\"22\">\n           <int name=\"x1\" value=\"-144\"/>\n           <int name=\"y1\" value=\"173\"/>\n           <int name=\"x2\" value=\"-125\"/>\n           <int name=\"y2\" value=\"173\"/>\n-          <int name=\"prev\" value=\"15\"/>\n-          <int name=\"next\" value=\"17\"/>\n+          <int name=\"prev\" value=\"21\"/>\n+          <int name=\"next\" value=\"24\"/>\n         </imgdir>\n-        <imgdir name=\"17\">\n+        <imgdir name=\"23\">\n+          <int name=\"x1\" value=\"-133\"/>\n+          <int name=\"y1\" value=\"51\"/>\n+          <int name=\"x2\" value=\"-76\"/>\n+          <int name=\"y2\" value=\"51\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"24\">\n           <int name=\"x1\" value=\"-125\"/>\n           <int name=\"y1\" value=\"173\"/>\n           <int name=\"x2\" value=\"-106\"/>\n           <int name=\"y2\" value=\"174\"/>\n-          <int name=\"prev\" value=\"16\"/>\n-          <int name=\"next\" value=\"18\"/>\n+          <int name=\"prev\" value=\"22\"/>\n+          <int name=\"next\" value=\"25\"/>\n         </imgdir>\n-        <imgdir name=\"18\">\n+        <imgdir name=\"25\">\n           <int name=\"x1\" value=\"-106\"/>\n           <int name=\"y1\" value=\"174\"/>\n           <int name=\"x2\" value=\"-92\"/>\n           <int name=\"y2\" value=\"174\"/>\n-          <int name=\"prev\" value=\"17\"/>\n-          <int name=\"next\" value=\"19\"/>\n+          <int name=\"prev\" value=\"24\"/>\n+          <int name=\"next\" value=\"26\"/>\n         </imgdir>\n-        <imgdir name=\"19\">\n+        <imgdir name=\"26\">\n           <int name=\"x1\" value=\"-92\"/>\n           <int name=\"y1\" value=\"174\"/>\n           <int name=\"x2\" value=\"-66\"/>\n           <int name=\"y2\" value=\"174\"/>\n-          <int name=\"prev\" value=\"18\"/>\n-          <int name=\"next\" value=\"20\"/>\n+          <int name=\"prev\" value=\"25\"/>\n+          <int name=\"next\" value=\"27\"/>\n         </imgdir>\n-        <imgdir name=\"20\">\n+        <imgdir name=\"27\">\n           <int name=\"x1\" value=\"-66\"/>\n           <int name=\"y1\" value=\"174\"/>\n           <int name=\"x2\" value=\"-38\"/>\n           <int name=\"y2\" value=\"174\"/>\n-          <int name=\"prev\" value=\"19\"/>\n-          <int name=\"next\" value=\"21\"/>\n+          <int name=\"prev\" value=\"26\"/>\n+          <int name=\"next\" value=\"28\"/>\n         </imgdir>\n-        <imgdir name=\"21\">\n+        <imgdir name=\"28\">\n           <int name=\"x1\" value=\"-38\"/>\n           <int name=\"y1\" value=\"174\"/>\n           <int name=\"x2\" value=\"-32\"/>\n           <int name=\"y2\" value=\"171\"/>\n-          <int name=\"prev\" value=\"20\"/>\n-          <int name=\"next\" value=\"22\"/>\n+          <int name=\"prev\" value=\"27\"/>\n+          <int name=\"next\" value=\"29\"/>\n         </imgdir>\n-        <imgdir name=\"22\">\n+        <imgdir name=\"29\">\n           <int name=\"x1\" value=\"-32\"/>\n           <int name=\"y1\" value=\"171\"/>\n           <int name=\"x2\" value=\"-23\"/>\n           <int name=\"y2\" value=\"167\"/>\n-          <int name=\"prev\" value=\"21\"/>\n-          <int name=\"next\" value=\"23\"/>\n+          <int name=\"prev\" value=\"28\"/>\n+          <int name=\"next\" value=\"30\"/>\n         </imgdir>\n-        <imgdir name=\"23\">\n+        <imgdir name=\"30\">\n           <int name=\"x1\" value=\"-23\"/>\n           <int name=\"y1\" value=\"167\"/>\n           <int name=\"x2\" value=\"-3\"/>\n           <int name=\"y2\" value=\"165\"/>\n-          <int name=\"prev\" value=\"22\"/>\n-          <int name=\"next\" value=\"24\"/>\n+          <int name=\"prev\" value=\"29\"/>\n+          <int name=\"next\" value=\"32\"/>\n         </imgdir>\n-        <imgdir name=\"24\">\n+        <imgdir name=\"31\">\n+          <int name=\"x1\" value=\"-11\"/>\n+          <int name=\"y1\" value=\"-34\"/>\n+          <int name=\"x2\" value=\"20\"/>\n+          <int name=\"y2\" value=\"-34\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"32\">\n           <int name=\"x1\" value=\"-3\"/>\n           <int name=\"y1\" value=\"165\"/>\n           <int name=\"x2\" value=\"15\"/>\n           <int name=\"y2\" value=\"165\"/>\n-          <int name=\"prev\" value=\"23\"/>\n-          <int name=\"next\" value=\"25\"/>\n+          <int name=\"prev\" value=\"30\"/>\n+          <int name=\"next\" value=\"33\"/>\n         </imgdir>\n-        <imgdir name=\"25\">\n+        <imgdir name=\"33\">\n           <int name=\"x1\" value=\"15\"/>\n           <int name=\"y1\" value=\"165\"/>\n           <int name=\"x2\" value=\"35\"/>\n           <int name=\"y2\" value=\"163\"/>\n-          <int name=\"prev\" value=\"24\"/>\n-          <int name=\"next\" value=\"26\"/>\n+          <int name=\"prev\" value=\"32\"/>\n+          <int name=\"next\" value=\"34\"/>\n         </imgdir>\n-        <imgdir name=\"26\">\n+        <imgdir name=\"34\">\n           <int name=\"x1\" value=\"35\"/>\n           <int name=\"y1\" value=\"163\"/>\n           <int name=\"x2\" value=\"66\"/>\n           <int name=\"y2\" value=\"160\"/>\n-          <int name=\"prev\" value=\"25\"/>\n-          <int name=\"next\" value=\"27\"/>\n+          <int name=\"prev\" value=\"33\"/>\n+          <int name=\"next\" value=\"35\"/>\n         </imgdir>\n-        <imgdir name=\"27\">\n+        <imgdir name=\"35\">\n           <int name=\"x1\" value=\"66\"/>\n           <int name=\"y1\" value=\"160\"/>\n           <int name=\"x2\" value=\"91\"/>\n           <int name=\"y2\" value=\"160\"/>\n-          <int name=\"prev\" value=\"26\"/>\n-          <int name=\"next\" value=\"28\"/>\n+          <int name=\"prev\" value=\"34\"/>\n+          <int name=\"next\" value=\"37\"/>\n         </imgdir>\n-        <imgdir name=\"28\">\n+        <imgdir name=\"36\">\n+          <int name=\"x1\" value=\"85\"/>\n+          <int name=\"y1\" value=\"52\"/>\n+          <int name=\"x2\" value=\"143\"/>\n+          <int name=\"y2\" value=\"52\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"37\">\n           <int name=\"x1\" value=\"91\"/>\n           <int name=\"y1\" value=\"160\"/>\n           <int name=\"x2\" value=\"112\"/>\n           <int name=\"y2\" value=\"159\"/>\n-          <int name=\"prev\" value=\"27\"/>\n-          <int name=\"next\" value=\"29\"/>\n+          <int name=\"prev\" value=\"35\"/>\n+          <int name=\"next\" value=\"38\"/>\n         </imgdir>\n-        <imgdir name=\"29\">\n+        <imgdir name=\"38\">\n           <int name=\"x1\" value=\"112\"/>\n           <int name=\"y1\" value=\"159\"/>\n           <int name=\"x2\" value=\"128\"/>\n           <int name=\"y2\" value=\"162\"/>\n-          <int name=\"prev\" value=\"28\"/>\n-          <int name=\"next\" value=\"30\"/>\n+          <int name=\"prev\" value=\"37\"/>\n+          <int name=\"next\" value=\"39\"/>\n         </imgdir>\n-        <imgdir name=\"30\">\n+        <imgdir name=\"39\">\n           <int name=\"x1\" value=\"128\"/>\n           <int name=\"y1\" value=\"162\"/>\n           <int name=\"x2\" value=\"141\"/>\n           <int name=\"y2\" value=\"160\"/>\n-          <int name=\"prev\" value=\"29\"/>\n-          <int name=\"next\" value=\"31\"/>\n+          <int name=\"prev\" value=\"38\"/>\n+          <int name=\"next\" value=\"40\"/>\n         </imgdir>\n-        <imgdir name=\"31\">\n+        <imgdir name=\"40\">\n           <int name=\"x1\" value=\"141\"/>\n           <int name=\"y1\" value=\"160\"/>\n           <int name=\"x2\" value=\"160\"/>\n           <int name=\"y2\" value=\"157\"/>\n-          <int name=\"prev\" value=\"30\"/>\n-          <int name=\"next\" value=\"32\"/>\n+          <int name=\"prev\" value=\"39\"/>\n+          <int name=\"next\" value=\"41\"/>\n         </imgdir>\n-        <imgdir name=\"32\">\n+        <imgdir name=\"41\">\n           <int name=\"x1\" value=\"160\"/>\n           <int name=\"y1\" value=\"157\"/>\n           <int name=\"x2\" value=\"174\"/>\n           <int name=\"y2\" value=\"162\"/>\n-          <int name=\"prev\" value=\"31\"/>\n-          <int name=\"next\" value=\"33\"/>\n+          <int name=\"prev\" value=\"40\"/>\n+          <int name=\"next\" value=\"42\"/>\n         </imgdir>\n-        <imgdir name=\"33\">\n+        <imgdir name=\"42\">\n           <int name=\"x1\" value=\"174\"/>\n           <int name=\"y1\" value=\"162\"/>\n           <int name=\"x2\" value=\"190\"/>\n           <int name=\"y2\" value=\"164\"/>\n-          <int name=\"prev\" value=\"32\"/>\n-          <int name=\"next\" value=\"34\"/>\n+          <int name=\"prev\" value=\"41\"/>\n+          <int name=\"next\" value=\"43\"/>\n         </imgdir>\n-        <imgdir name=\"34\">\n+        <imgdir name=\"43\">\n           <int name=\"x1\" value=\"190\"/>\n           <int name=\"y1\" value=\"164\"/>\n           <int name=\"x2\" value=\"206\"/>\n           <int name=\"y2\" value=\"162\"/>\n-          <int name=\"prev\" value=\"33\"/>\n-          <int name=\"next\" value=\"35\"/>\n-        </imgdir>\n-        <imgdir name=\"35\">\n-          <int name=\"x1\" value=\"206\"/>\n-          <int name=\"y1\" value=\"162\"/>\n-          <int name=\"x2\" value=\"222\"/>\n-          <int name=\"y2\" value=\"162\"/>\n-          <int name=\"prev\" value=\"34\"/>\n-          <int name=\"next\" value=\"36\"/>\n-        </imgdir>\n-        <imgdir name=\"36\">\n-          <int name=\"x1\" value=\"222\"/>\n-          <int name=\"y1\" value=\"162\"/>\n-          <int name=\"x2\" value=\"242\"/>\n-          <int name=\"y2\" value=\"165\"/>\n-          <int name=\"prev\" value=\"35\"/>\n-          <int name=\"next\" value=\"37\"/>\n-        </imgdir>\n-        <imgdir name=\"37\">\n-          <int name=\"x1\" value=\"242\"/>\n-          <int name=\"y1\" value=\"165\"/>\n-          <int name=\"x2\" value=\"256\"/>\n-          <int name=\"y2\" value=\"165\"/>\n-          <int name=\"prev\" value=\"36\"/>\n-          <int name=\"next\" value=\"38\"/>\n-        </imgdir>\n-        <imgdir name=\"38\">\n-          <int name=\"x1\" value=\"256\"/>\n-          <int name=\"y1\" value=\"165\"/>\n-          <int name=\"x2\" value=\"279\"/>\n-          <int name=\"y2\" value=\"161\"/>\n-          <int name=\"prev\" value=\"37\"/>\n-          <int name=\"next\" value=\"39\"/>\n-        </imgdir>\n-        <imgdir name=\"39\">\n-          <int name=\"x1\" value=\"279\"/>\n-          <int name=\"y1\" value=\"161\"/>\n-          <int name=\"x2\" value=\"302\"/>\n-          <int name=\"y2\" value=\"162\"/>\n-          <int name=\"prev\" value=\"38\"/>\n-          <int name=\"next\" value=\"40\"/>\n-        </imgdir>\n-        <imgdir name=\"40\">\n-          <int name=\"x1\" value=\"302\"/>\n-          <int name=\"y1\" value=\"162\"/>\n-          <int name=\"x2\" value=\"323\"/>\n-          <int name=\"y2\" value=\"162\"/>\n-          <int name=\"prev\" value=\"39\"/>\n-          <int name=\"next\" value=\"41\"/>\n-        </imgdir>\n-        <imgdir name=\"41\">\n-          <int name=\"x1\" value=\"323\"/>\n-          <int name=\"y1\" value=\"162\"/>\n-          <int name=\"x2\" value=\"342\"/>\n-          <int name=\"y2\" value=\"162\"/>\n-          <int name=\"prev\" value=\"40\"/>\n-          <int name=\"next\" value=\"42\"/>\n-        </imgdir>\n-        <imgdir name=\"42\">\n-          <int name=\"x1\" value=\"342\"/>\n-          <int name=\"y1\" value=\"162\"/>\n-          <int name=\"x2\" value=\"356\"/>\n-          <int name=\"y2\" value=\"162\"/>\n-          <int name=\"prev\" value=\"41\"/>\n-          <int name=\"next\" value=\"43\"/>\n-        </imgdir>\n-        <imgdir name=\"43\">\n-          <int name=\"x1\" value=\"356\"/>\n-          <int name=\"y1\" value=\"162\"/>\n-          <int name=\"x2\" value=\"379\"/>\n-          <int name=\"y2\" value=\"161\"/>\n           <int name=\"prev\" value=\"42\"/>\n-          <int name=\"next\" value=\"44\"/>\n+          <int name=\"next\" value=\"45\"/>\n         </imgdir>\n         <imgdir name=\"44\">\n-          <int name=\"x1\" value=\"379\"/>\n-          <int name=\"y1\" value=\"161\"/>\n-          <int name=\"x2\" value=\"400\"/>\n-          <int name=\"y2\" value=\"159\"/>\n-          <int name=\"prev\" value=\"43\"/>\n-          <int name=\"next\" value=\"0\"/>\n-        </imgdir>\n-        <imgdir name=\"45\">\n-          <int name=\"x1\" value=\"-400\"/>\n-          <int name=\"y1\" value=\"-9\"/>\n-          <int name=\"x2\" value=\"-358\"/>\n-          <int name=\"y2\" value=\"-8\"/>\n-          <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"46\"/>\n-        </imgdir>\n-        <imgdir name=\"46\">\n-          <int name=\"x1\" value=\"-358\"/>\n-          <int name=\"y1\" value=\"-8\"/>\n-          <int name=\"x2\" value=\"-332\"/>\n-          <int name=\"y2\" value=\"-9\"/>\n-          <int name=\"prev\" value=\"45\"/>\n-          <int name=\"next\" value=\"47\"/>\n-        </imgdir>\n-        <imgdir name=\"47\">\n-          <int name=\"x1\" value=\"-332\"/>\n-          <int name=\"y1\" value=\"-9\"/>\n-          <int name=\"x2\" value=\"-314\"/>\n-          <int name=\"y2\" value=\"-6\"/>\n-          <int name=\"prev\" value=\"46\"/>\n-          <int name=\"next\" value=\"48\"/>\n-        </imgdir>\n-        <imgdir name=\"48\">\n-          <int name=\"x1\" value=\"-314\"/>\n-          <int name=\"y1\" value=\"-6\"/>\n-          <int name=\"x2\" value=\"-296\"/>\n-          <int name=\"y2\" value=\"-4\"/>\n-          <int name=\"prev\" value=\"47\"/>\n-          <int name=\"next\" value=\"49\"/>\n-        </imgdir>\n-        <imgdir name=\"49\">\n-          <int name=\"x1\" value=\"-296\"/>\n-          <int name=\"y1\" value=\"-4\"/>\n-          <int name=\"x2\" value=\"-282\"/>\n-          <int name=\"y2\" value=\"2\"/>\n-          <int name=\"prev\" value=\"48\"/>\n-          <int name=\"next\" value=\"50\"/>\n-        </imgdir>\n-        <imgdir name=\"50\">\n-          <int name=\"x1\" value=\"-282\"/>\n-          <int name=\"y1\" value=\"2\"/>\n-          <int name=\"x2\" value=\"-270\"/>\n-          <int name=\"y2\" value=\"6\"/>\n-          <int name=\"prev\" value=\"49\"/>\n-          <int name=\"next\" value=\"51\"/>\n-        </imgdir>\n-        <imgdir name=\"51\">\n-          <int name=\"x1\" value=\"-270\"/>\n-          <int name=\"y1\" value=\"6\"/>\n-          <int name=\"x2\" value=\"-250\"/>\n-          <int name=\"y2\" value=\"10\"/>\n-          <int name=\"prev\" value=\"50\"/>\n-          <int name=\"next\" value=\"52\"/>\n-        </imgdir>\n-        <imgdir name=\"52\">\n-          <int name=\"x1\" value=\"-250\"/>\n-          <int name=\"y1\" value=\"10\"/>\n-          <int name=\"x2\" value=\"-228\"/>\n-          <int name=\"y2\" value=\"17\"/>\n-          <int name=\"prev\" value=\"51\"/>\n-          <int name=\"next\" value=\"53\"/>\n-        </imgdir>\n-        <imgdir name=\"53\">\n-          <int name=\"x1\" value=\"-228\"/>\n-          <int name=\"y1\" value=\"17\"/>\n-          <int name=\"x2\" value=\"-174\"/>\n-          <int name=\"y2\" value=\"17\"/>\n-          <int name=\"prev\" value=\"52\"/>\n-          <int name=\"next\" value=\"0\"/>\n-        </imgdir>\n-        <imgdir name=\"54\">\n           <int name=\"x1\" value=\"191\"/>\n           <int name=\"y1\" value=\"8\"/>\n           <int name=\"x2\" value=\"214\"/>\n           <int name=\"y2\" value=\"5\"/>\n           <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"55\"/>\n+          <int name=\"next\" value=\"46\"/>\n         </imgdir>\n-        <imgdir name=\"55\">\n+        <imgdir name=\"45\">\n+          <int name=\"x1\" value=\"206\"/>\n+          <int name=\"y1\" value=\"162\"/>\n+          <int name=\"x2\" value=\"222\"/>\n+          <int name=\"y2\" value=\"162\"/>\n+          <int name=\"prev\" value=\"43\"/>\n+          <int name=\"next\" value=\"47\"/>\n+        </imgdir>\n+        <imgdir name=\"46\">\n           <int name=\"x1\" value=\"214\"/>\n           <int name=\"y1\" value=\"5\"/>\n           <int name=\"x2\" value=\"229\"/>\n           <int name=\"y2\" value=\"2\"/>\n-          <int name=\"prev\" value=\"54\"/>\n-          <int name=\"next\" value=\"56\"/>\n+          <int name=\"prev\" value=\"44\"/>\n+          <int name=\"next\" value=\"48\"/>\n         </imgdir>\n-        <imgdir name=\"56\">\n+        <imgdir name=\"47\">\n+          <int name=\"x1\" value=\"222\"/>\n+          <int name=\"y1\" value=\"162\"/>\n+          <int name=\"x2\" value=\"242\"/>\n+          <int name=\"y2\" value=\"165\"/>\n+          <int name=\"prev\" value=\"45\"/>\n+          <int name=\"next\" value=\"49\"/>\n+        </imgdir>\n+        <imgdir name=\"48\">\n           <int name=\"x1\" value=\"229\"/>\n           <int name=\"y1\" value=\"2\"/>\n           <int name=\"x2\" value=\"249\"/>\n           <int name=\"y2\" value=\"2\"/>\n-          <int name=\"prev\" value=\"55\"/>\n-          <int name=\"next\" value=\"57\"/>\n+          <int name=\"prev\" value=\"46\"/>\n+          <int name=\"next\" value=\"50\"/>\n         </imgdir>\n-        <imgdir name=\"57\">\n+        <imgdir name=\"49\">\n+          <int name=\"x1\" value=\"242\"/>\n+          <int name=\"y1\" value=\"165\"/>\n+          <int name=\"x2\" value=\"256\"/>\n+          <int name=\"y2\" value=\"165\"/>\n+          <int name=\"prev\" value=\"47\"/>\n+          <int name=\"next\" value=\"51\"/>\n+        </imgdir>\n+        <imgdir name=\"50\">\n           <int name=\"x1\" value=\"249\"/>\n           <int name=\"y1\" value=\"2\"/>\n           <int name=\"x2\" value=\"272\"/>\n           <int name=\"y2\" value=\"3\"/>\n-          <int name=\"prev\" value=\"56\"/>\n-          <int name=\"next\" value=\"58\"/>\n+          <int name=\"prev\" value=\"48\"/>\n+          <int name=\"next\" value=\"52\"/>\n         </imgdir>\n-        <imgdir name=\"58\">\n+        <imgdir name=\"51\">\n+          <int name=\"x1\" value=\"256\"/>\n+          <int name=\"y1\" value=\"165\"/>\n+          <int name=\"x2\" value=\"279\"/>\n+          <int name=\"y2\" value=\"161\"/>\n+          <int name=\"prev\" value=\"49\"/>\n+          <int name=\"next\" value=\"53\"/>\n+        </imgdir>\n+        <imgdir name=\"52\">\n           <int name=\"x1\" value=\"272\"/>\n           <int name=\"y1\" value=\"3\"/>\n           <int name=\"x2\" value=\"283\"/>\n           <int name=\"y2\" value=\"4\"/>\n-          <int name=\"prev\" value=\"57\"/>\n-          <int name=\"next\" value=\"59\"/>\n+          <int name=\"prev\" value=\"50\"/>\n+          <int name=\"next\" value=\"54\"/>\n         </imgdir>\n-        <imgdir name=\"59\">\n+        <imgdir name=\"53\">\n+          <int name=\"x1\" value=\"279\"/>\n+          <int name=\"y1\" value=\"161\"/>\n+          <int name=\"x2\" value=\"302\"/>\n+          <int name=\"y2\" value=\"162\"/>\n+          <int name=\"prev\" value=\"51\"/>\n+          <int name=\"next\" value=\"56\"/>\n+        </imgdir>\n+        <imgdir name=\"54\">\n           <int name=\"x1\" value=\"283\"/>\n           <int name=\"y1\" value=\"4\"/>\n           <int name=\"x2\" value=\"298\"/>\n           <int name=\"y2\" value=\"4\"/>\n-          <int name=\"prev\" value=\"58\"/>\n-          <int name=\"next\" value=\"60\"/>\n+          <int name=\"prev\" value=\"52\"/>\n+          <int name=\"next\" value=\"55\"/>\n         </imgdir>\n-        <imgdir name=\"60\">\n+        <imgdir name=\"55\">\n           <int name=\"x1\" value=\"298\"/>\n           <int name=\"y1\" value=\"4\"/>\n           <int name=\"x2\" value=\"303\"/>\n           <int name=\"y2\" value=\"-5\"/>\n-          <int name=\"prev\" value=\"59\"/>\n-          <int name=\"next\" value=\"61\"/>\n+          <int name=\"prev\" value=\"54\"/>\n+          <int name=\"next\" value=\"57\"/>\n         </imgdir>\n-        <imgdir name=\"61\">\n+        <imgdir name=\"56\">\n+          <int name=\"x1\" value=\"302\"/>\n+          <int name=\"y1\" value=\"162\"/>\n+          <int name=\"x2\" value=\"323\"/>\n+          <int name=\"y2\" value=\"162\"/>\n+          <int name=\"prev\" value=\"53\"/>\n+          <int name=\"next\" value=\"60\"/>\n+        </imgdir>\n+        <imgdir name=\"57\">\n           <int name=\"x1\" value=\"303\"/>\n           <int name=\"y1\" value=\"-5\"/>\n           <int name=\"x2\" value=\"312\"/>\n           <int name=\"y2\" value=\"-9\"/>\n-          <int name=\"prev\" value=\"60\"/>\n-          <int name=\"next\" value=\"62\"/>\n+          <int name=\"prev\" value=\"55\"/>\n+          <int name=\"next\" value=\"58\"/>\n         </imgdir>\n-        <imgdir name=\"62\">\n+        <imgdir name=\"58\">\n           <int name=\"x1\" value=\"312\"/>\n           <int name=\"y1\" value=\"-9\"/>\n           <int name=\"x2\" value=\"322\"/>\n           <int name=\"y2\" value=\"-13\"/>\n-          <int name=\"prev\" value=\"61\"/>\n-          <int name=\"next\" value=\"63\"/>\n+          <int name=\"prev\" value=\"57\"/>\n+          <int name=\"next\" value=\"59\"/>\n         </imgdir>\n-        <imgdir name=\"63\">\n+        <imgdir name=\"59\">\n           <int name=\"x1\" value=\"322\"/>\n           <int name=\"y1\" value=\"-13\"/>\n           <int name=\"x2\" value=\"336\"/>\n           <int name=\"y2\" value=\"-14\"/>\n-          <int name=\"prev\" value=\"62\"/>\n-          <int name=\"next\" value=\"64\"/>\n+          <int name=\"prev\" value=\"58\"/>\n+          <int name=\"next\" value=\"61\"/>\n         </imgdir>\n-        <imgdir name=\"64\">\n+        <imgdir name=\"60\">\n+          <int name=\"x1\" value=\"323\"/>\n+          <int name=\"y1\" value=\"162\"/>\n+          <int name=\"x2\" value=\"342\"/>\n+          <int name=\"y2\" value=\"162\"/>\n+          <int name=\"prev\" value=\"56\"/>\n+          <int name=\"next\" value=\"62\"/>\n+        </imgdir>\n+        <imgdir name=\"61\">\n           <int name=\"x1\" value=\"336\"/>\n           <int name=\"y1\" value=\"-14\"/>\n           <int name=\"x2\" value=\"349\"/>\n           <int name=\"y2\" value=\"-14\"/>\n-          <int name=\"prev\" value=\"63\"/>\n-          <int name=\"next\" value=\"65\"/>\n+          <int name=\"prev\" value=\"59\"/>\n+          <int name=\"next\" value=\"63\"/>\n         </imgdir>\n-        <imgdir name=\"65\">\n+        <imgdir name=\"62\">\n+          <int name=\"x1\" value=\"342\"/>\n+          <int name=\"y1\" value=\"162\"/>\n+          <int name=\"x2\" value=\"356\"/>\n+          <int name=\"y2\" value=\"162\"/>\n+          <int name=\"prev\" value=\"60\"/>\n+          <int name=\"next\" value=\"64\"/>\n+        </imgdir>\n+        <imgdir name=\"63\">\n           <int name=\"x1\" value=\"349\"/>\n           <int name=\"y1\" value=\"-14\"/>\n           <int name=\"x2\" value=\"363\"/>\n           <int name=\"y2\" value=\"-14\"/>\n-          <int name=\"prev\" value=\"64\"/>\n+          <int name=\"prev\" value=\"61\"/>\n+          <int name=\"next\" value=\"65\"/>\n+        </imgdir>\n+        <imgdir name=\"64\">\n+          <int name=\"x1\" value=\"356\"/>\n+          <int name=\"y1\" value=\"162\"/>\n+          <int name=\"x2\" value=\"379\"/>\n+          <int name=\"y2\" value=\"161\"/>\n+          <int name=\"prev\" value=\"62\"/>\n           <int name=\"next\" value=\"66\"/>\n         </imgdir>\n-        <imgdir name=\"66\">\n+        <imgdir name=\"65\">\n           <int name=\"x1\" value=\"363\"/>\n           <int name=\"y1\" value=\"-14\"/>\n           <int name=\"x2\" value=\"385\"/>\n           <int name=\"y2\" value=\"-14\"/>\n-          <int name=\"prev\" value=\"65\"/>\n+          <int name=\"prev\" value=\"63\"/>\n           <int name=\"next\" value=\"67\"/>\n         </imgdir>\n+        <imgdir name=\"66\">\n+          <int name=\"x1\" value=\"379\"/>\n+          <int name=\"y1\" value=\"161\"/>\n+          <int name=\"x2\" value=\"400\"/>\n+          <int name=\"y2\" value=\"159\"/>\n+          <int name=\"prev\" value=\"64\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n         <imgdir name=\"67\">\n           <int name=\"x1\" value=\"385\"/>\n           <int name=\"y1\" value=\"-14\"/>\n           <int name=\"x2\" value=\"400\"/>\n           <int name=\"y2\" value=\"-15\"/>\n-          <int name=\"prev\" value=\"66\"/>\n+          <int name=\"prev\" value=\"65\"/>\n           <int name=\"next\" value=\"0\"/>\n         </imgdir>\n       </imgdir>\n     </imgdir>\n   </imgdir>\n-  <imgdir name=\"ladderRope\">\n-  </imgdir>\n-  <imgdir name=\"portal\">\n-    <imgdir name=\"0\">\n-      <string name=\"pn\" value=\"sp\"/>\n-      <int name=\"pt\" value=\"0\"/>\n-      <int name=\"x\" value=\"220\"/>\n-      <int name=\"y\" value=\"136\"/>\n-      <int name=\"tm\" value=\"999999999\"/>\n-      <string name=\"tn\" value=\"\"/>\n-      <int name=\"horizontalImpact\" value=\"0\"/>\n-    </imgdir>\n-    <imgdir name=\"1\">\n-      <string name=\"pn\" value=\"sp\"/>\n-      <int name=\"pt\" value=\"0\"/>\n-      <int name=\"x\" value=\"286\"/>\n-      <int name=\"y\" value=\"-34\"/>\n-      <int name=\"tm\" value=\"999999999\"/>\n-      <string name=\"tn\" value=\"\"/>\n-      <int name=\"horizontalImpact\" value=\"0\"/>\n-    </imgdir>\n-    <imgdir name=\"2\">\n-      <string name=\"pn\" value=\"out00\"/>\n-      <int name=\"pt\" value=\"2\"/>\n-      <int name=\"x\" value=\"309\"/>\n-      <int name=\"y\" value=\"158\"/>\n-      <int name=\"tm\" value=\"101000003\"/>\n-      <string name=\"tn\" value=\"rank00\"/>\n-      <int name=\"horizontalImpact\" value=\"0\"/>\n-      <string name=\"script\" value=\"\"/>\n-      <int name=\"hideTooltip\" value=\"0\"/>\n-      <int name=\"onlyOnce\" value=\"0\"/>\n-      <int name=\"delay\" value=\"0\"/>\n-    </imgdir>\n+  <imgdir name=\"life\">\n   </imgdir>\n </imgdir>"}, {"sha": "eed42933d6b5f11c6f81c49bc0b34583e3f869c5", "filename": "wz/Map.wz/Map/Map1/102000004.img.xml", "status": "modified", "additions": 109, "deletions": 230, "changes": 339, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Map.wz/Map/Map1/102000004.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Map.wz/Map/Map1/102000004.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map1/102000004.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,315 +1,206 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"102000004.img\">\n   <imgdir name=\"info\">\n-    <int name=\"version\" value=\"10\"/>\n+    <string name=\"bgm\" value=\"Bgm00/Nightmare\"/>\n     <int name=\"cloud\" value=\"0\"/>\n-    <int name=\"town\" value=\"1\"/>\n     <int name=\"swim\" value=\"0\"/>\n-    <int name=\"returnMap\" value=\"102000000\"/>\n     <int name=\"forcedReturn\" value=\"999999999\"/>\n-    <float name=\"mobRate\" value=\"1.0\"/>\n-    <string name=\"bgm\" value=\"Bgm00/Nightmare\"/>\n-    <string name=\"mapMark\" value=\"Perion\"/>\n-    <int name=\"fly\" value=\"0\"/>\n-    <int name=\"noMapCmd\" value=\"0\"/>\n     <int name=\"hideMinimap\" value=\"0\"/>\n+    <string name=\"mapMark\" value=\"Perion\"/>\n+    <float name=\"mobRate\" value=\"1.0\"/>\n+    <int name=\"returnMap\" value=\"102000000\"/>\n+    <int name=\"town\" value=\"1\"/>\n+    <int name=\"version\" value=\"10\"/>\n     <int name=\"fieldLimit\" value=\"0\"/>\n     <string name=\"onFirstUserEnter\" value=\"\"/>\n     <string name=\"onUserEnter\" value=\"\"/>\n-    <int name=\"VRTop\" value=\"-300\"/>\n+    <int name=\"fly\" value=\"0\"/>\n+    <int name=\"noMapCmd\" value=\"0\"/>\n     <int name=\"VRLeft\" value=\"-400\"/>\n-    <int name=\"VRBottom\" value=\"300\"/>\n     <int name=\"VRRight\" value=\"400\"/>\n-  </imgdir>\n-  <imgdir name=\"back\">\n-    <imgdir name=\"0\">\n-      <string name=\"bS\" value=\"\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"0\"/>\n-      <int name=\"y\" value=\"0\"/>\n-      <int name=\"rx\" value=\"0\"/>\n-      <int name=\"ry\" value=\"0\"/>\n-      <int name=\"type\" value=\"0\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"life\">\n-    <imgdir name=\"0\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901000\"/>\n-      <int name=\"x\" value=\"-1\"/>\n-      <int name=\"y\" value=\"30\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"5\"/>\n-      <int name=\"cy\" value=\"35\"/>\n-      <int name=\"rx0\" value=\"-51\"/>\n-      <int name=\"rx1\" value=\"49\"/>\n-    </imgdir>\n-    <imgdir name=\"1\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901001\"/>\n-      <int name=\"x\" value=\"-113\"/>\n-      <int name=\"y\" value=\"61\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"3\"/>\n-      <int name=\"cy\" value=\"70\"/>\n-      <int name=\"rx0\" value=\"-152\"/>\n-      <int name=\"rx1\" value=\"-63\"/>\n-    </imgdir>\n-    <imgdir name=\"2\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901002\"/>\n-      <int name=\"x\" value=\"113\"/>\n-      <int name=\"y\" value=\"61\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"4\"/>\n-      <int name=\"cy\" value=\"70\"/>\n-      <int name=\"rx0\" value=\"63\"/>\n-      <int name=\"rx1\" value=\"163\"/>\n-    </imgdir>\n-    <imgdir name=\"3\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901003\"/>\n-      <int name=\"x\" value=\"62\"/>\n-      <int name=\"y\" value=\"150\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"6\"/>\n-      <int name=\"cy\" value=\"158\"/>\n-      <int name=\"rx0\" value=\"12\"/>\n-      <int name=\"rx1\" value=\"112\"/>\n-    </imgdir>\n-    <imgdir name=\"4\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901004\"/>\n-      <int name=\"x\" value=\"-42\"/>\n-      <int name=\"y\" value=\"148\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"6\"/>\n-      <int name=\"cy\" value=\"158\"/>\n-      <int name=\"rx0\" value=\"-92\"/>\n-      <int name=\"rx1\" value=\"8\"/>\n-    </imgdir>\n-    <imgdir name=\"5\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901005\"/>\n-      <int name=\"x\" value=\"-147\"/>\n-      <int name=\"y\" value=\"149\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"6\"/>\n-      <int name=\"cy\" value=\"158\"/>\n-      <int name=\"rx0\" value=\"-197\"/>\n-      <int name=\"rx1\" value=\"-97\"/>\n-    </imgdir>\n-    <imgdir name=\"6\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901006\"/>\n-      <int name=\"x\" value=\"156\"/>\n-      <int name=\"y\" value=\"147\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"6\"/>\n-      <int name=\"cy\" value=\"158\"/>\n-      <int name=\"rx0\" value=\"106\"/>\n-      <int name=\"rx1\" value=\"206\"/>\n-    </imgdir>\n-    <imgdir name=\"7\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901007\"/>\n-      <int name=\"x\" value=\"259\"/>\n-      <int name=\"y\" value=\"146\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"6\"/>\n-      <int name=\"cy\" value=\"158\"/>\n-      <int name=\"rx0\" value=\"209\"/>\n-      <int name=\"rx1\" value=\"309\"/>\n-    </imgdir>\n-    <imgdir name=\"8\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901008\"/>\n-      <int name=\"x\" value=\"-241\"/>\n-      <int name=\"y\" value=\"150\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"6\"/>\n-      <int name=\"cy\" value=\"158\"/>\n-      <int name=\"rx0\" value=\"-291\"/>\n-      <int name=\"rx1\" value=\"-191\"/>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"reactor\">\n+    <int name=\"VRTop\" value=\"-300\"/>\n+    <int name=\"VRBottom\" value=\"300\"/>\n   </imgdir>\n   <imgdir name=\"0\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"1\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n-        <string name=\"oS\" value=\"acc1\"/>\n-        <string name=\"l0\" value=\"lv200\"/>\n-        <string name=\"l1\" value=\"warrior\"/>\n-        <string name=\"l2\" value=\"0\"/>\n         <int name=\"x\" value=\"0\"/>\n         <int name=\"y\" value=\"-1\"/>\n         <int name=\"z\" value=\"1\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"1\"/>\n-        <int name=\"r\" value=\"1\"/>\n-      </imgdir>\n-      <imgdir name=\"1\">\n         <string name=\"oS\" value=\"acc1\"/>\n         <string name=\"l0\" value=\"lv200\"/>\n         <string name=\"l1\" value=\"warrior\"/>\n-        <string name=\"l2\" value=\"1\"/>\n+        <string name=\"l2\" value=\"0\"/>\n+        <int name=\"r\" value=\"1\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"1\">\n         <int name=\"x\" value=\"0\"/>\n         <int name=\"y\" value=\"-51\"/>\n         <int name=\"z\" value=\"5\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"1\"/>\n+        <string name=\"oS\" value=\"acc1\"/>\n+        <string name=\"l0\" value=\"lv200\"/>\n+        <string name=\"l1\" value=\"warrior\"/>\n+        <string name=\"l2\" value=\"1\"/>\n         <int name=\"r\" value=\"1\"/>\n+        <int name=\"f\" value=\"0\"/>\n       </imgdir>\n       <imgdir name=\"2\">\n-        <string name=\"oS\" value=\"acc1\"/>\n-        <string name=\"l0\" value=\"lv200\"/>\n-        <string name=\"l1\" value=\"light\"/>\n-        <string name=\"l2\" value=\"0\"/>\n         <int name=\"x\" value=\"-14\"/>\n         <int name=\"y\" value=\"0\"/>\n         <int name=\"z\" value=\"4\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"3\">\n         <string name=\"oS\" value=\"acc1\"/>\n         <string name=\"l0\" value=\"lv200\"/>\n         <string name=\"l1\" value=\"light\"/>\n-        <string name=\"l2\" value=\"2\"/>\n+        <string name=\"l2\" value=\"0\"/>\n+        <int name=\"r\" value=\"0\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"3\">\n         <int name=\"x\" value=\"36\"/>\n         <int name=\"y\" value=\"-139\"/>\n         <int name=\"z\" value=\"4\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"oS\" value=\"acc1\"/>\n+        <string name=\"l0\" value=\"lv200\"/>\n+        <string name=\"l1\" value=\"light\"/>\n+        <string name=\"l2\" value=\"2\"/>\n         <int name=\"r\" value=\"0\"/>\n+        <int name=\"f\" value=\"0\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"2\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"3\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n-        <string name=\"oS\" value=\"acc1\"/>\n-        <string name=\"l0\" value=\"lv200\"/>\n-        <string name=\"l1\" value=\"warrior\"/>\n-        <string name=\"l2\" value=\"2\"/>\n         <int name=\"x\" value=\"0\"/>\n         <int name=\"y\" value=\"228\"/>\n         <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"oS\" value=\"acc1\"/>\n+        <string name=\"l0\" value=\"lv200\"/>\n+        <string name=\"l1\" value=\"warrior\"/>\n+        <string name=\"l2\" value=\"2\"/>\n         <int name=\"r\" value=\"0\"/>\n+        <int name=\"f\" value=\"0\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"4\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"5\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"6\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"7\">\n     <imgdir name=\"info\">\n     </imgdir>\n+    <imgdir name=\"obj\">\n+    </imgdir>\n     <imgdir name=\"tile\">\n     </imgdir>\n-    <imgdir name=\"obj\">\n+  </imgdir>\n+  <imgdir name=\"ladderRope\">\n+  </imgdir>\n+  <imgdir name=\"portal\">\n+    <imgdir name=\"0\">\n+      <int name=\"x\" value=\"0\"/>\n+      <int name=\"y\" value=\"0\"/>\n+      <int name=\"pt\" value=\"0\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+      <string name=\"pn\" value=\"sp\"/>\n+      <int name=\"horizontalImpact\" value=\"0\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <int name=\"x\" value=\"341\"/>\n+      <int name=\"y\" value=\"113\"/>\n+      <int name=\"pt\" value=\"2\"/>\n+      <int name=\"tm\" value=\"102000003\"/>\n+      <string name=\"tn\" value=\"rank00\"/>\n+      <string name=\"pn\" value=\"out00\"/>\n+      <int name=\"horizontalImpact\" value=\"0\"/>\n+    </imgdir>\n+    <imgdir name=\"2\">\n+      <int name=\"x\" value=\"-339\"/>\n+      <int name=\"y\" value=\"157\"/>\n+      <int name=\"pt\" value=\"8\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+      <string name=\"pn\" value=\"in00\"/>\n+      <string name=\"script\" value=\"rankDeveloperRoom\"/>\n+      <int name=\"hideTooltip\" value=\"0\"/>\n+      <int name=\"onlyOnce\" value=\"0\"/>\n     </imgdir>\n   </imgdir>\n+  <imgdir name=\"reactor\">\n+  </imgdir>\n+  <imgdir name=\"back\">\n+  </imgdir>\n   <imgdir name=\"foothold\">\n     <imgdir name=\"1\">\n       <imgdir name=\"1\">\n-        <imgdir name=\"1\">\n-          <int name=\"x1\" value=\"300\"/>\n-          <int name=\"y1\" value=\"114\"/>\n-          <int name=\"x2\" value=\"386\"/>\n-          <int name=\"y2\" value=\"114\"/>\n-          <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"0\"/>\n-        </imgdir>\n         <imgdir name=\"2\">\n-          <int name=\"x1\" value=\"282\"/>\n-          <int name=\"y1\" value=\"135\"/>\n-          <int name=\"x2\" value=\"373\"/>\n-          <int name=\"y2\" value=\"135\"/>\n-          <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"0\"/>\n-        </imgdir>\n-        <imgdir name=\"3\">\n           <int name=\"x1\" value=\"-172\"/>\n           <int name=\"y1\" value=\"70\"/>\n           <int name=\"x2\" value=\"-55\"/>\n           <int name=\"y2\" value=\"70\"/>\n           <int name=\"prev\" value=\"0\"/>\n           <int name=\"next\" value=\"0\"/>\n         </imgdir>\n+        <imgdir name=\"3\">\n+          <int name=\"x1\" value=\"-31\"/>\n+          <int name=\"y1\" value=\"35\"/>\n+          <int name=\"x2\" value=\"34\"/>\n+          <int name=\"y2\" value=\"35\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n         <imgdir name=\"4\">\n           <int name=\"x1\" value=\"53\"/>\n           <int name=\"y1\" value=\"70\"/>\n@@ -319,18 +210,26 @@\n           <int name=\"next\" value=\"0\"/>\n         </imgdir>\n         <imgdir name=\"5\">\n-          <int name=\"x1\" value=\"-31\"/>\n-          <int name=\"y1\" value=\"35\"/>\n-          <int name=\"x2\" value=\"34\"/>\n-          <int name=\"y2\" value=\"35\"/>\n+          <int name=\"x1\" value=\"282\"/>\n+          <int name=\"y1\" value=\"135\"/>\n+          <int name=\"x2\" value=\"373\"/>\n+          <int name=\"y2\" value=\"135\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"6\">\n+          <int name=\"x1\" value=\"300\"/>\n+          <int name=\"y1\" value=\"114\"/>\n+          <int name=\"x2\" value=\"386\"/>\n+          <int name=\"y2\" value=\"114\"/>\n           <int name=\"prev\" value=\"0\"/>\n           <int name=\"next\" value=\"0\"/>\n         </imgdir>\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"3\">\n       <imgdir name=\"0\">\n-        <imgdir name=\"6\">\n+        <imgdir name=\"1\">\n           <int name=\"x1\" value=\"-400\"/>\n           <int name=\"y1\" value=\"158\"/>\n           <int name=\"x2\" value=\"400\"/>\n@@ -341,26 +240,6 @@\n       </imgdir>\n     </imgdir>\n   </imgdir>\n-  <imgdir name=\"ladderRope\">\n-  </imgdir>\n-  <imgdir name=\"portal\">\n-    <imgdir name=\"0\">\n-      <string name=\"pn\" value=\"sp\"/>\n-      <int name=\"pt\" value=\"0\"/>\n-      <int name=\"x\" value=\"0\"/>\n-      <int name=\"y\" value=\"0\"/>\n-      <int name=\"tm\" value=\"999999999\"/>\n-      <string name=\"tn\" value=\"\"/>\n-      <int name=\"horizontalImpact\" value=\"0\"/>\n-    </imgdir>\n-    <imgdir name=\"1\">\n-      <string name=\"pn\" value=\"out00\"/>\n-      <int name=\"pt\" value=\"2\"/>\n-      <int name=\"x\" value=\"341\"/>\n-      <int name=\"y\" value=\"113\"/>\n-      <int name=\"tm\" value=\"102000003\"/>\n-      <string name=\"tn\" value=\"rank00\"/>\n-      <int name=\"horizontalImpact\" value=\"0\"/>\n-    </imgdir>\n+  <imgdir name=\"life\">\n   </imgdir>\n </imgdir>"}, {"sha": "e30ffac9d43ed90f2eeacb5b5df6b0a58a5f19dd", "filename": "wz/Map.wz/Map/Map1/103000008.img.xml", "status": "modified", "additions": 92, "deletions": 122, "changes": 214, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Map.wz/Map/Map1/103000008.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Map.wz/Map/Map1/103000008.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map1/103000008.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,196 +1,178 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"103000008.img\">\n   <imgdir name=\"info\">\n-    <int name=\"version\" value=\"10\"/>\n+    <string name=\"bgm\" value=\"Bgm01/BadGuys\"/>\n     <int name=\"cloud\" value=\"0\"/>\n-    <int name=\"town\" value=\"1\"/>\n     <int name=\"swim\" value=\"0\"/>\n-    <int name=\"returnMap\" value=\"103000000\"/>\n     <int name=\"forcedReturn\" value=\"999999999\"/>\n-    <float name=\"mobRate\" value=\"1.0\"/>\n-    <string name=\"bgm\" value=\"Bgm01/BadGuys\"/>\n-    <string name=\"mapMark\" value=\"KerningCity\"/>\n-    <int name=\"fly\" value=\"0\"/>\n-    <int name=\"noMapCmd\" value=\"0\"/>\n     <int name=\"hideMinimap\" value=\"0\"/>\n+    <string name=\"mapMark\" value=\"KerningCity\"/>\n+    <float name=\"mobRate\" value=\"1.0\"/>\n+    <int name=\"returnMap\" value=\"103000000\"/>\n+    <int name=\"town\" value=\"1\"/>\n+    <int name=\"version\" value=\"10\"/>\n     <int name=\"fieldLimit\" value=\"0\"/>\n     <string name=\"onFirstUserEnter\" value=\"\"/>\n     <string name=\"onUserEnter\" value=\"\"/>\n-    <int name=\"VRTop\" value=\"-300\"/>\n+    <int name=\"fly\" value=\"0\"/>\n+    <int name=\"noMapCmd\" value=\"0\"/>\n     <int name=\"VRLeft\" value=\"-400\"/>\n-    <int name=\"VRBottom\" value=\"300\"/>\n     <int name=\"VRRight\" value=\"400\"/>\n-  </imgdir>\n-  <imgdir name=\"back\">\n-    <imgdir name=\"0\">\n-      <string name=\"bS\" value=\"\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"0\"/>\n-      <int name=\"y\" value=\"0\"/>\n-      <int name=\"rx\" value=\"0\"/>\n-      <int name=\"ry\" value=\"0\"/>\n-      <int name=\"type\" value=\"0\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"life\">\n-    <imgdir name=\"0\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901300\"/>\n-      <int name=\"x\" value=\"-1\"/>\n-      <int name=\"y\" value=\"-18\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"1\"/>\n-      <int name=\"cy\" value=\"-6\"/>\n-      <int name=\"rx0\" value=\"-51\"/>\n-      <int name=\"rx1\" value=\"49\"/>\n-    </imgdir>\n-    <imgdir name=\"1\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901301\"/>\n-      <int name=\"x\" value=\"-117\"/>\n-      <int name=\"y\" value=\"56\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"2\"/>\n-      <int name=\"cy\" value=\"72\"/>\n-      <int name=\"rx0\" value=\"-140\"/>\n-      <int name=\"rx1\" value=\"-67\"/>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"reactor\">\n+    <int name=\"VRTop\" value=\"-300\"/>\n+    <int name=\"VRBottom\" value=\"300\"/>\n   </imgdir>\n   <imgdir name=\"0\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"1\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n-        <string name=\"oS\" value=\"acc1\"/>\n-        <string name=\"l0\" value=\"lv200\"/>\n-        <string name=\"l1\" value=\"thief\"/>\n-        <string name=\"l2\" value=\"0\"/>\n         <int name=\"x\" value=\"0\"/>\n         <int name=\"y\" value=\"-1\"/>\n         <int name=\"z\" value=\"1\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"1\"/>\n-        <int name=\"r\" value=\"1\"/>\n-      </imgdir>\n-      <imgdir name=\"1\">\n         <string name=\"oS\" value=\"acc1\"/>\n         <string name=\"l0\" value=\"lv200\"/>\n         <string name=\"l1\" value=\"thief\"/>\n-        <string name=\"l2\" value=\"1\"/>\n+        <string name=\"l2\" value=\"0\"/>\n+        <int name=\"r\" value=\"1\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"1\">\n         <int name=\"x\" value=\"-1\"/>\n         <int name=\"y\" value=\"-24\"/>\n         <int name=\"z\" value=\"5\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"1\"/>\n+        <string name=\"oS\" value=\"acc1\"/>\n+        <string name=\"l0\" value=\"lv200\"/>\n+        <string name=\"l1\" value=\"thief\"/>\n+        <string name=\"l2\" value=\"1\"/>\n         <int name=\"r\" value=\"0\"/>\n+        <int name=\"f\" value=\"0\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"2\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"3\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n-        <string name=\"oS\" value=\"acc1\"/>\n-        <string name=\"l0\" value=\"lv200\"/>\n-        <string name=\"l1\" value=\"thief\"/>\n-        <string name=\"l2\" value=\"2\"/>\n         <int name=\"x\" value=\"0\"/>\n         <int name=\"y\" value=\"227\"/>\n         <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"0\"/>\n-        <int name=\"r\" value=\"1\"/>\n-      </imgdir>\n-      <imgdir name=\"1\">\n         <string name=\"oS\" value=\"acc1\"/>\n         <string name=\"l0\" value=\"lv200\"/>\n         <string name=\"l1\" value=\"thief\"/>\n-        <string name=\"l2\" value=\"3\"/>\n+        <string name=\"l2\" value=\"2\"/>\n+        <int name=\"r\" value=\"1\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"1\">\n         <int name=\"x\" value=\"26\"/>\n         <int name=\"y\" value=\"248\"/>\n         <int name=\"z\" value=\"10\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"oS\" value=\"acc1\"/>\n+        <string name=\"l0\" value=\"lv200\"/>\n+        <string name=\"l1\" value=\"thief\"/>\n+        <string name=\"l2\" value=\"3\"/>\n         <int name=\"r\" value=\"0\"/>\n+        <int name=\"f\" value=\"0\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"4\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"5\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"6\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"7\">\n     <imgdir name=\"info\">\n     </imgdir>\n+    <imgdir name=\"obj\">\n+    </imgdir>\n     <imgdir name=\"tile\">\n     </imgdir>\n-    <imgdir name=\"obj\">\n+  </imgdir>\n+  <imgdir name=\"ladderRope\">\n+  </imgdir>\n+  <imgdir name=\"portal\">\n+    <imgdir name=\"0\">\n+      <int name=\"x\" value=\"-223\"/>\n+      <int name=\"y\" value=\"145\"/>\n+      <int name=\"pt\" value=\"0\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+      <string name=\"pn\" value=\"sp\"/>\n+      <int name=\"horizontalImpact\" value=\"0\"/>\n     </imgdir>\n+    <imgdir name=\"1\">\n+      <int name=\"x\" value=\"310\"/>\n+      <int name=\"y\" value=\"154\"/>\n+      <int name=\"pt\" value=\"2\"/>\n+      <int name=\"tm\" value=\"103000003\"/>\n+      <string name=\"tn\" value=\"rank00\"/>\n+      <string name=\"pn\" value=\"out00\"/>\n+      <int name=\"horizontalImpact\" value=\"0\"/>\n+    </imgdir>\n+    <imgdir name=\"2\">\n+      <int name=\"x\" value=\"-328\"/>\n+      <int name=\"y\" value=\"156\"/>\n+      <int name=\"pt\" value=\"8\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+      <string name=\"pn\" value=\"in00\"/>\n+      <int name=\"hideTooltip\" value=\"0\"/>\n+      <int name=\"onlyOnce\" value=\"0\"/>\n+      <string name=\"script\" value=\"rankDeveloperRoom\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"reactor\">\n+  </imgdir>\n+  <imgdir name=\"back\">\n   </imgdir>\n   <imgdir name=\"foothold\">\n     <imgdir name=\"1\">\n       <imgdir name=\"1\">\n-        <imgdir name=\"1\">\n-          <int name=\"x1\" value=\"-87\"/>\n-          <int name=\"y1\" value=\"-6\"/>\n-          <int name=\"x2\" value=\"93\"/>\n-          <int name=\"y2\" value=\"-6\"/>\n-          <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"0\"/>\n-        </imgdir>\n         <imgdir name=\"2\">\n           <int name=\"x1\" value=\"-160\"/>\n           <int name=\"y1\" value=\"72\"/>\n@@ -199,11 +181,19 @@\n           <int name=\"prev\" value=\"0\"/>\n           <int name=\"next\" value=\"0\"/>\n         </imgdir>\n+        <imgdir name=\"3\">\n+          <int name=\"x1\" value=\"-87\"/>\n+          <int name=\"y1\" value=\"-6\"/>\n+          <int name=\"x2\" value=\"93\"/>\n+          <int name=\"y2\" value=\"-6\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n       </imgdir>\n     </imgdir>\n     <imgdir name=\"3\">\n       <imgdir name=\"0\">\n-        <imgdir name=\"3\">\n+        <imgdir name=\"1\">\n           <int name=\"x1\" value=\"-400\"/>\n           <int name=\"y1\" value=\"157\"/>\n           <int name=\"x2\" value=\"400\"/>\n@@ -214,26 +204,6 @@\n       </imgdir>\n     </imgdir>\n   </imgdir>\n-  <imgdir name=\"ladderRope\">\n-  </imgdir>\n-  <imgdir name=\"portal\">\n-    <imgdir name=\"0\">\n-      <string name=\"pn\" value=\"sp\"/>\n-      <int name=\"pt\" value=\"0\"/>\n-      <int name=\"x\" value=\"-223\"/>\n-      <int name=\"y\" value=\"145\"/>\n-      <int name=\"tm\" value=\"999999999\"/>\n-      <string name=\"tn\" value=\"\"/>\n-      <int name=\"horizontalImpact\" value=\"0\"/>\n-    </imgdir>\n-    <imgdir name=\"1\">\n-      <string name=\"pn\" value=\"out00\"/>\n-      <int name=\"pt\" value=\"2\"/>\n-      <int name=\"x\" value=\"310\"/>\n-      <int name=\"y\" value=\"154\"/>\n-      <int name=\"tm\" value=\"103000003\"/>\n-      <string name=\"tn\" value=\"rank00\"/>\n-      <int name=\"horizontalImpact\" value=\"0\"/>\n-    </imgdir>\n+  <imgdir name=\"life\">\n   </imgdir>\n </imgdir>"}, {"sha": "37f1ec49ed8a9f659045b9f10e934c897b27269c", "filename": "wz/Map.wz/Map/Map1/120000105.img.xml", "status": "modified", "additions": 132, "deletions": 279, "changes": 411, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Map.wz/Map/Map1/120000105.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Map.wz/Map/Map1/120000105.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map1/120000105.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,290 +1,163 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"120000105.img\">\n   <imgdir name=\"info\">\n-    <int name=\"version\" value=\"10\"/>\n+    <string name=\"bgm\" value=\"Bgm15/inNautilus\"/>\n     <int name=\"cloud\" value=\"0\"/>\n-    <int name=\"town\" value=\"0\"/>\n     <int name=\"swim\" value=\"0\"/>\n-    <int name=\"returnMap\" value=\"120000000\"/>\n     <int name=\"forcedReturn\" value=\"999999999\"/>\n-    <float name=\"mobRate\" value=\"1.0\"/>\n-    <string name=\"bgm\" value=\"Bgm15/inNautilus\"/>\n+    <int name=\"hideMinimap\" value=\"0\"/>\n     <string name=\"mapMark\" value=\"Nautilus\"/>\n+    <float name=\"mobRate\" value=\"1.0\"/>\n+    <int name=\"returnMap\" value=\"120000000\"/>\n+    <int name=\"town\" value=\"0\"/>\n+    <int name=\"version\" value=\"10\"/>\n+    <int name=\"fieldLimit\" value=\"0\"/>\n+    <string name=\"onFirstUserEnter\" value=\"\"/>\n+    <string name=\"onUserEnter\" value=\"\"/>\n     <int name=\"fly\" value=\"0\"/>\n     <int name=\"noMapCmd\" value=\"0\"/>\n-    <int name=\"hideMinimap\" value=\"0\"/>\n-    <int name=\"fieldLimit\" value=\"0\"/>\n-    <int name=\"VRTop\" value=\"-300\"/>\n     <int name=\"VRLeft\" value=\"-400\"/>\n-    <int name=\"VRBottom\" value=\"300\"/>\n     <int name=\"VRRight\" value=\"400\"/>\n-    <string name=\"onFirstUserEnter\" value=\"\"/>\n-    <string name=\"onUserEnter\" value=\"\"/>\n-  </imgdir>\n-  <imgdir name=\"back\">\n-    <imgdir name=\"0\">\n-      <string name=\"bS\" value=\"\"/>\n-      <int name=\"front\" value=\"0\"/>\n-      <int name=\"ani\" value=\"0\"/>\n-      <int name=\"no\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"x\" value=\"0\"/>\n-      <int name=\"y\" value=\"0\"/>\n-      <int name=\"rx\" value=\"0\"/>\n-      <int name=\"ry\" value=\"0\"/>\n-      <int name=\"type\" value=\"0\"/>\n-      <int name=\"cx\" value=\"0\"/>\n-      <int name=\"cy\" value=\"0\"/>\n-      <int name=\"a\" value=\"255\"/>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"life\">\n-    <imgdir name=\"0\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901740\"/>\n-      <int name=\"x\" value=\"-68\"/>\n-      <int name=\"y\" value=\"-47\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"2\"/>\n-      <int name=\"cy\" value=\"-40\"/>\n-      <int name=\"rx0\" value=\"-118\"/>\n-      <int name=\"rx1\" value=\"-18\"/>\n-    </imgdir>\n-    <imgdir name=\"1\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901741\"/>\n-      <int name=\"x\" value=\"41\"/>\n-      <int name=\"y\" value=\"-47\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"2\"/>\n-      <int name=\"cy\" value=\"-40\"/>\n-      <int name=\"rx0\" value=\"-9\"/>\n-      <int name=\"rx1\" value=\"91\"/>\n-    </imgdir>\n-    <imgdir name=\"2\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901742\"/>\n-      <int name=\"x\" value=\"150\"/>\n-      <int name=\"y\" value=\"-48\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"2\"/>\n-      <int name=\"cy\" value=\"-40\"/>\n-      <int name=\"rx0\" value=\"100\"/>\n-      <int name=\"rx1\" value=\"200\"/>\n-    </imgdir>\n-    <imgdir name=\"3\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901743\"/>\n-      <int name=\"x\" value=\"-151\"/>\n-      <int name=\"y\" value=\"37\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"3\"/>\n-      <int name=\"cy\" value=\"43\"/>\n-      <int name=\"rx0\" value=\"-201\"/>\n-      <int name=\"rx1\" value=\"-101\"/>\n-    </imgdir>\n-    <imgdir name=\"4\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901744\"/>\n-      <int name=\"x\" value=\"-338\"/>\n-      <int name=\"y\" value=\"-6\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"7\"/>\n-      <int name=\"cy\" value=\"-1\"/>\n-      <int name=\"rx0\" value=\"-381\"/>\n-      <int name=\"rx1\" value=\"-288\"/>\n-    </imgdir>\n-    <imgdir name=\"5\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901745\"/>\n-      <int name=\"x\" value=\"347\"/>\n-      <int name=\"y\" value=\"-9\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"12\"/>\n-      <int name=\"cy\" value=\"-1\"/>\n-      <int name=\"rx0\" value=\"297\"/>\n-      <int name=\"rx1\" value=\"383\"/>\n-    </imgdir>\n-    <imgdir name=\"6\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901746\"/>\n-      <int name=\"x\" value=\"131\"/>\n-      <int name=\"y\" value=\"72\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"4\"/>\n-      <int name=\"cy\" value=\"78\"/>\n-      <int name=\"rx0\" value=\"81\"/>\n-      <int name=\"rx1\" value=\"181\"/>\n-    </imgdir>\n-    <imgdir name=\"7\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901747\"/>\n-      <int name=\"x\" value=\"-341\"/>\n-      <int name=\"y\" value=\"129\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"9\"/>\n-      <int name=\"cy\" value=\"136\"/>\n-      <int name=\"rx0\" value=\"-381\"/>\n-      <int name=\"rx1\" value=\"-291\"/>\n-    </imgdir>\n-    <imgdir name=\"8\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901748\"/>\n-      <int name=\"x\" value=\"-220\"/>\n-      <int name=\"y\" value=\"165\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"1\"/>\n-      <int name=\"cy\" value=\"170\"/>\n-      <int name=\"rx0\" value=\"-270\"/>\n-      <int name=\"rx1\" value=\"-170\"/>\n-    </imgdir>\n-    <imgdir name=\"9\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901749\"/>\n-      <int name=\"x\" value=\"-119\"/>\n-      <int name=\"y\" value=\"166\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"1\"/>\n-      <int name=\"cy\" value=\"170\"/>\n-      <int name=\"rx0\" value=\"-169\"/>\n-      <int name=\"rx1\" value=\"-69\"/>\n-    </imgdir>\n-    <imgdir name=\"10\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9010021\"/>\n-      <int name=\"x\" value=\"109\"/>\n-      <int name=\"y\" value=\"167\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"0\"/>\n-      <int name=\"fh\" value=\"1\"/>\n-      <int name=\"cy\" value=\"170\"/>\n-      <int name=\"rx0\" value=\"59\"/>\n-      <int name=\"rx1\" value=\"159\"/>\n-    </imgdir>\n-  </imgdir>\n-  <imgdir name=\"reactor\">\n+    <int name=\"VRTop\" value=\"-300\"/>\n+    <int name=\"VRBottom\" value=\"300\"/>\n   </imgdir>\n   <imgdir name=\"0\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n-        <string name=\"oS\" value=\"acc1\"/>\n-        <string name=\"l0\" value=\"lv200\"/>\n-        <string name=\"l1\" value=\"pirate\"/>\n-        <string name=\"l2\" value=\"0\"/>\n         <int name=\"x\" value=\"0\"/>\n         <int name=\"y\" value=\"-1\"/>\n         <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"0\"/>\n+        <string name=\"oS\" value=\"acc1\"/>\n+        <string name=\"l0\" value=\"lv200\"/>\n+        <string name=\"l1\" value=\"pirate\"/>\n+        <string name=\"l2\" value=\"0\"/>\n         <int name=\"r\" value=\"0\"/>\n+        <int name=\"f\" value=\"0\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"1\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n       <imgdir name=\"0\">\n-        <string name=\"oS\" value=\"acc1\"/>\n-        <string name=\"l0\" value=\"lv200\"/>\n-        <string name=\"l1\" value=\"pirate\"/>\n-        <string name=\"l2\" value=\"1\"/>\n         <int name=\"x\" value=\"-1\"/>\n         <int name=\"y\" value=\"232\"/>\n         <int name=\"z\" value=\"9\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"1\"/>\n-        <int name=\"r\" value=\"0\"/>\n-      </imgdir>\n-      <imgdir name=\"1\">\n         <string name=\"oS\" value=\"acc1\"/>\n         <string name=\"l0\" value=\"lv200\"/>\n         <string name=\"l1\" value=\"pirate\"/>\n-        <string name=\"l2\" value=\"2\"/>\n+        <string name=\"l2\" value=\"1\"/>\n+        <int name=\"r\" value=\"0\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"1\">\n         <int name=\"x\" value=\"0\"/>\n         <int name=\"y\" value=\"-59\"/>\n         <int name=\"z\" value=\"7\"/>\n-        <int name=\"f\" value=\"0\"/>\n         <int name=\"zM\" value=\"1\"/>\n+        <string name=\"oS\" value=\"acc1\"/>\n+        <string name=\"l0\" value=\"lv200\"/>\n+        <string name=\"l1\" value=\"pirate\"/>\n+        <string name=\"l2\" value=\"2\"/>\n         <int name=\"r\" value=\"0\"/>\n+        <int name=\"f\" value=\"0\"/>\n       </imgdir>\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"2\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"3\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"4\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"5\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"6\">\n     <imgdir name=\"info\">\n     </imgdir>\n-    <imgdir name=\"tile\">\n-    </imgdir>\n     <imgdir name=\"obj\">\n     </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n   </imgdir>\n   <imgdir name=\"7\">\n     <imgdir name=\"info\">\n     </imgdir>\n+    <imgdir name=\"obj\">\n+    </imgdir>\n     <imgdir name=\"tile\">\n     </imgdir>\n-    <imgdir name=\"obj\">\n+  </imgdir>\n+  <imgdir name=\"ladderRope\">\n+  </imgdir>\n+  <imgdir name=\"portal\">\n+    <imgdir name=\"0\">\n+      <int name=\"x\" value=\"0\"/>\n+      <int name=\"y\" value=\"0\"/>\n+      <int name=\"pt\" value=\"0\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+      <string name=\"pn\" value=\"sp\"/>\n+      <int name=\"horizontalImpact\" value=\"0\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <int name=\"x\" value=\"335\"/>\n+      <int name=\"y\" value=\"133\"/>\n+      <int name=\"pt\" value=\"2\"/>\n+      <int name=\"tm\" value=\"120000101\"/>\n+      <string name=\"tn\" value=\"rank00\"/>\n+      <string name=\"pn\" value=\"out00\"/>\n+      <int name=\"horizontalImpact\" value=\"0\"/>\n+    </imgdir>\n+    <imgdir name=\"2\">\n+      <int name=\"x\" value=\"-343\"/>\n+      <int name=\"y\" value=\"135\"/>\n+      <int name=\"pt\" value=\"8\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+      <string name=\"pn\" value=\"in00\"/>\n+      <int name=\"hideTooltip\" value=\"0\"/>\n+      <int name=\"onlyOnce\" value=\"0\"/>\n+      <string name=\"script\" value=\"rankDeveloperRoom\"/>\n     </imgdir>\n   </imgdir>\n+  <imgdir name=\"reactor\">\n+  </imgdir>\n+  <imgdir name=\"back\">\n+  </imgdir>\n   <imgdir name=\"foothold\">\n     <imgdir name=\"1\">\n       <imgdir name=\"1\">\n@@ -297,132 +170,112 @@\n           <int name=\"next\" value=\"0\"/>\n         </imgdir>\n         <imgdir name=\"2\">\n-          <int name=\"x1\" value=\"-97\"/>\n-          <int name=\"y1\" value=\"-40\"/>\n-          <int name=\"x2\" value=\"191\"/>\n-          <int name=\"y2\" value=\"-40\"/>\n+          <int name=\"x1\" value=\"-397\"/>\n+          <int name=\"y1\" value=\"5\"/>\n+          <int name=\"x2\" value=\"-374\"/>\n+          <int name=\"y2\" value=\"0\"/>\n           <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"0\"/>\n+          <int name=\"next\" value=\"4\"/>\n         </imgdir>\n         <imgdir name=\"3\">\n-          <int name=\"x1\" value=\"-218\"/>\n-          <int name=\"y1\" value=\"43\"/>\n-          <int name=\"x2\" value=\"70\"/>\n-          <int name=\"y2\" value=\"43\"/>\n+          <int name=\"x1\" value=\"-397\"/>\n+          <int name=\"y1\" value=\"136\"/>\n+          <int name=\"x2\" value=\"-287\"/>\n+          <int name=\"y2\" value=\"136\"/>\n           <int name=\"prev\" value=\"0\"/>\n           <int name=\"next\" value=\"0\"/>\n         </imgdir>\n         <imgdir name=\"4\">\n-          <int name=\"x1\" value=\"-10\"/>\n-          <int name=\"y1\" value=\"77\"/>\n-          <int name=\"x2\" value=\"203\"/>\n-          <int name=\"y2\" value=\"79\"/>\n-          <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"0\"/>\n-        </imgdir>\n-        <imgdir name=\"5\">\n-          <int name=\"x1\" value=\"-397\"/>\n-          <int name=\"y1\" value=\"5\"/>\n-          <int name=\"x2\" value=\"-374\"/>\n-          <int name=\"y2\" value=\"0\"/>\n-          <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"6\"/>\n-        </imgdir>\n-        <imgdir name=\"6\">\n           <int name=\"x1\" value=\"-374\"/>\n           <int name=\"y1\" value=\"0\"/>\n           <int name=\"x2\" value=\"-344\"/>\n           <int name=\"y2\" value=\"-1\"/>\n-          <int name=\"prev\" value=\"5\"/>\n-          <int name=\"next\" value=\"7\"/>\n+          <int name=\"prev\" value=\"2\"/>\n+          <int name=\"next\" value=\"5\"/>\n         </imgdir>\n-        <imgdir name=\"7\">\n+        <imgdir name=\"5\">\n           <int name=\"x1\" value=\"-344\"/>\n           <int name=\"y1\" value=\"-1\"/>\n           <int name=\"x2\" value=\"-312\"/>\n           <int name=\"y2\" value=\"1\"/>\n-          <int name=\"prev\" value=\"6\"/>\n-          <int name=\"next\" value=\"8\"/>\n+          <int name=\"prev\" value=\"4\"/>\n+          <int name=\"next\" value=\"6\"/>\n         </imgdir>\n-        <imgdir name=\"8\">\n+        <imgdir name=\"6\">\n           <int name=\"x1\" value=\"-312\"/>\n           <int name=\"y1\" value=\"1\"/>\n           <int name=\"x2\" value=\"-292\"/>\n           <int name=\"y2\" value=\"12\"/>\n-          <int name=\"prev\" value=\"7\"/>\n+          <int name=\"prev\" value=\"5\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"7\">\n+          <int name=\"x1\" value=\"-218\"/>\n+          <int name=\"y1\" value=\"43\"/>\n+          <int name=\"x2\" value=\"70\"/>\n+          <int name=\"y2\" value=\"43\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"8\">\n+          <int name=\"x1\" value=\"-97\"/>\n+          <int name=\"y1\" value=\"-40\"/>\n+          <int name=\"x2\" value=\"191\"/>\n+          <int name=\"y2\" value=\"-40\"/>\n+          <int name=\"prev\" value=\"0\"/>\n           <int name=\"next\" value=\"0\"/>\n         </imgdir>\n         <imgdir name=\"9\">\n-          <int name=\"x1\" value=\"-397\"/>\n-          <int name=\"y1\" value=\"136\"/>\n-          <int name=\"x2\" value=\"-287\"/>\n-          <int name=\"y2\" value=\"136\"/>\n+          <int name=\"x1\" value=\"-10\"/>\n+          <int name=\"y1\" value=\"77\"/>\n+          <int name=\"x2\" value=\"203\"/>\n+          <int name=\"y2\" value=\"79\"/>\n           <int name=\"prev\" value=\"0\"/>\n           <int name=\"next\" value=\"0\"/>\n         </imgdir>\n         <imgdir name=\"10\">\n+          <int name=\"x1\" value=\"284\"/>\n+          <int name=\"y1\" value=\"134\"/>\n+          <int name=\"x2\" value=\"394\"/>\n+          <int name=\"y2\" value=\"134\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"11\">\n           <int name=\"x1\" value=\"293\"/>\n           <int name=\"y1\" value=\"12\"/>\n           <int name=\"x2\" value=\"313\"/>\n           <int name=\"y2\" value=\"1\"/>\n           <int name=\"prev\" value=\"0\"/>\n-          <int name=\"next\" value=\"11\"/>\n+          <int name=\"next\" value=\"12\"/>\n         </imgdir>\n-        <imgdir name=\"11\">\n+        <imgdir name=\"12\">\n           <int name=\"x1\" value=\"313\"/>\n           <int name=\"y1\" value=\"1\"/>\n           <int name=\"x2\" value=\"339\"/>\n           <int name=\"y2\" value=\"-1\"/>\n-          <int name=\"prev\" value=\"10\"/>\n-          <int name=\"next\" value=\"12\"/>\n+          <int name=\"prev\" value=\"11\"/>\n+          <int name=\"next\" value=\"13\"/>\n         </imgdir>\n-        <imgdir name=\"12\">\n+        <imgdir name=\"13\">\n           <int name=\"x1\" value=\"339\"/>\n           <int name=\"y1\" value=\"-1\"/>\n           <int name=\"x2\" value=\"371\"/>\n           <int name=\"y2\" value=\"-3\"/>\n-          <int name=\"prev\" value=\"11\"/>\n-          <int name=\"next\" value=\"13\"/>\n+          <int name=\"prev\" value=\"12\"/>\n+          <int name=\"next\" value=\"14\"/>\n         </imgdir>\n-        <imgdir name=\"13\">\n+        <imgdir name=\"14\">\n           <int name=\"x1\" value=\"371\"/>\n           <int name=\"y1\" value=\"-3\"/>\n           <int name=\"x2\" value=\"403\"/>\n           <int name=\"y2\" value=\"6\"/>\n-          <int name=\"prev\" value=\"12\"/>\n-          <int name=\"next\" value=\"0\"/>\n-        </imgdir>\n-        <imgdir name=\"14\">\n-          <int name=\"x1\" value=\"284\"/>\n-          <int name=\"y1\" value=\"134\"/>\n-          <int name=\"x2\" value=\"394\"/>\n-          <int name=\"y2\" value=\"134\"/>\n-          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"prev\" value=\"13\"/>\n           <int name=\"next\" value=\"0\"/>\n         </imgdir>\n       </imgdir>\n     </imgdir>\n   </imgdir>\n-  <imgdir name=\"ladderRope\">\n-  </imgdir>\n-  <imgdir name=\"portal\">\n-    <imgdir name=\"0\">\n-      <string name=\"pn\" value=\"sp\"/>\n-      <int name=\"pt\" value=\"0\"/>\n-      <int name=\"x\" value=\"0\"/>\n-      <int name=\"y\" value=\"0\"/>\n-      <int name=\"tm\" value=\"999999999\"/>\n-      <string name=\"tn\" value=\"\"/>\n-      <int name=\"horizontalImpact\" value=\"0\"/>\n-    </imgdir>\n-    <imgdir name=\"1\">\n-      <string name=\"pn\" value=\"out00\"/>\n-      <int name=\"pt\" value=\"2\"/>\n-      <int name=\"x\" value=\"335\"/>\n-      <int name=\"y\" value=\"133\"/>\n-      <int name=\"tm\" value=\"120000101\"/>\n-      <string name=\"tn\" value=\"rank00\"/>\n-      <int name=\"horizontalImpact\" value=\"0\"/>\n-    </imgdir>\n+  <imgdir name=\"life\">\n   </imgdir>\n </imgdir>"}, {"sha": "83128ad298948a869ad6e51e2d63a16d32f95b65", "filename": "wz/Map.wz/Map/Map1/130000100.img.xml", "status": "modified", "additions": 0, "deletions": 221, "changes": 221, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Map.wz/Map/Map1/130000100.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Map.wz/Map/Map1/130000100.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map1/130000100.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -564,227 +564,6 @@\n   </imgdir>\n   <imgdir name=\"life\">\n     <imgdir name=\"0\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901500\"/>\n-      <int name=\"x\" value=\"-2241\"/>\n-      <int name=\"y\" value=\"-1\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"29\"/>\n-      <int name=\"cy\" value=\"1\"/>\n-      <int name=\"rx0\" value=\"-2291\"/>\n-      <int name=\"rx1\" value=\"-2191\"/>\n-    </imgdir>\n-    <imgdir name=\"1\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901501\"/>\n-      <int name=\"x\" value=\"-2429\"/>\n-      <int name=\"y\" value=\"24\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"28\"/>\n-      <int name=\"cy\" value=\"27\"/>\n-      <int name=\"rx0\" value=\"-2479\"/>\n-      <int name=\"rx1\" value=\"-2379\"/>\n-    </imgdir>\n-    <imgdir name=\"2\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901502\"/>\n-      <int name=\"x\" value=\"-2046\"/>\n-      <int name=\"y\" value=\"41\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"30\"/>\n-      <int name=\"cy\" value=\"43\"/>\n-      <int name=\"rx0\" value=\"-2096\"/>\n-      <int name=\"rx1\" value=\"-1996\"/>\n-    </imgdir>\n-    <imgdir name=\"3\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901503\"/>\n-      <int name=\"x\" value=\"-2595\"/>\n-      <int name=\"y\" value=\"-242\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"32\"/>\n-      <int name=\"cy\" value=\"-241\"/>\n-      <int name=\"rx0\" value=\"-2645\"/>\n-      <int name=\"rx1\" value=\"-2545\"/>\n-    </imgdir>\n-    <imgdir name=\"4\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901504\"/>\n-      <int name=\"x\" value=\"-2474\"/>\n-      <int name=\"y\" value=\"-243\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"32\"/>\n-      <int name=\"cy\" value=\"-241\"/>\n-      <int name=\"rx0\" value=\"-2524\"/>\n-      <int name=\"rx1\" value=\"-2424\"/>\n-    </imgdir>\n-    <imgdir name=\"5\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901505\"/>\n-      <int name=\"x\" value=\"-2353\"/>\n-      <int name=\"y\" value=\"-243\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"32\"/>\n-      <int name=\"cy\" value=\"-241\"/>\n-      <int name=\"rx0\" value=\"-2403\"/>\n-      <int name=\"rx1\" value=\"-2303\"/>\n-    </imgdir>\n-    <imgdir name=\"6\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901506\"/>\n-      <int name=\"x\" value=\"-2232\"/>\n-      <int name=\"y\" value=\"-243\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"32\"/>\n-      <int name=\"cy\" value=\"-241\"/>\n-      <int name=\"rx0\" value=\"-2282\"/>\n-      <int name=\"rx1\" value=\"-2182\"/>\n-    </imgdir>\n-    <imgdir name=\"7\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901507\"/>\n-      <int name=\"x\" value=\"-2111\"/>\n-      <int name=\"y\" value=\"-243\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"32\"/>\n-      <int name=\"cy\" value=\"-241\"/>\n-      <int name=\"rx0\" value=\"-2161\"/>\n-      <int name=\"rx1\" value=\"-2061\"/>\n-    </imgdir>\n-    <imgdir name=\"8\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901508\"/>\n-      <int name=\"x\" value=\"-1990\"/>\n-      <int name=\"y\" value=\"-243\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"32\"/>\n-      <int name=\"cy\" value=\"-241\"/>\n-      <int name=\"rx0\" value=\"-2040\"/>\n-      <int name=\"rx1\" value=\"-1940\"/>\n-    </imgdir>\n-    <imgdir name=\"9\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901509\"/>\n-      <int name=\"x\" value=\"-1869\"/>\n-      <int name=\"y\" value=\"-243\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"32\"/>\n-      <int name=\"cy\" value=\"-241\"/>\n-      <int name=\"rx0\" value=\"-1919\"/>\n-      <int name=\"rx1\" value=\"-1819\"/>\n-    </imgdir>\n-    <imgdir name=\"10\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901510\"/>\n-      <int name=\"x\" value=\"-2595\"/>\n-      <int name=\"y\" value=\"-571\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"34\"/>\n-      <int name=\"cy\" value=\"-569\"/>\n-      <int name=\"rx0\" value=\"-2645\"/>\n-      <int name=\"rx1\" value=\"-2545\"/>\n-    </imgdir>\n-    <imgdir name=\"11\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901511\"/>\n-      <int name=\"x\" value=\"-2474\"/>\n-      <int name=\"y\" value=\"-571\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"34\"/>\n-      <int name=\"cy\" value=\"-569\"/>\n-      <int name=\"rx0\" value=\"-2524\"/>\n-      <int name=\"rx1\" value=\"-2424\"/>\n-    </imgdir>\n-    <imgdir name=\"12\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901512\"/>\n-      <int name=\"x\" value=\"-2353\"/>\n-      <int name=\"y\" value=\"-571\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"34\"/>\n-      <int name=\"cy\" value=\"-569\"/>\n-      <int name=\"rx0\" value=\"-2403\"/>\n-      <int name=\"rx1\" value=\"-2303\"/>\n-    </imgdir>\n-    <imgdir name=\"13\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901513\"/>\n-      <int name=\"x\" value=\"-2232\"/>\n-      <int name=\"y\" value=\"-571\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"34\"/>\n-      <int name=\"cy\" value=\"-569\"/>\n-      <int name=\"rx0\" value=\"-2282\"/>\n-      <int name=\"rx1\" value=\"-2182\"/>\n-    </imgdir>\n-    <imgdir name=\"14\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901514\"/>\n-      <int name=\"x\" value=\"-2111\"/>\n-      <int name=\"y\" value=\"-571\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"34\"/>\n-      <int name=\"cy\" value=\"-569\"/>\n-      <int name=\"rx0\" value=\"-2161\"/>\n-      <int name=\"rx1\" value=\"-2061\"/>\n-    </imgdir>\n-    <imgdir name=\"15\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901515\"/>\n-      <int name=\"x\" value=\"-1990\"/>\n-      <int name=\"y\" value=\"-571\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"34\"/>\n-      <int name=\"cy\" value=\"-569\"/>\n-      <int name=\"rx0\" value=\"-2040\"/>\n-      <int name=\"rx1\" value=\"-1940\"/>\n-    </imgdir>\n-    <imgdir name=\"16\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901516\"/>\n-      <int name=\"x\" value=\"-1869\"/>\n-      <int name=\"y\" value=\"-571\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"34\"/>\n-      <int name=\"cy\" value=\"-569\"/>\n-      <int name=\"rx0\" value=\"-1919\"/>\n-      <int name=\"rx1\" value=\"-1819\"/>\n-    </imgdir>\n-    <imgdir name=\"17\">\n       <string name=\"type\" value=\"n\"/>\n       <string name=\"id\" value=\"1102003\"/>\n       <int name=\"x\" value=\"-1804\"/>"}, {"sha": "0738fc023efbb90b3659b82557b8f8362ba35a3e", "filename": "wz/Map.wz/Map/Map1/130000101.img.xml", "status": "modified", "additions": 1, "deletions": 651, "changes": 652, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Map.wz/Map/Map1/130000101.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Map.wz/Map/Map1/130000101.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map1/130000101.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -564,659 +564,9 @@\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"life\">\n-    <imgdir name=\"1\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901800\"/>\n-      <int name=\"x\" value=\"-2330\"/>\n-      <int name=\"y\" value=\"81\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"1\"/>\n-      <int name=\"cy\" value=\"88\"/>\n-      <int name=\"rx0\" value=\"-2380\"/>\n-      <int name=\"rx1\" value=\"-2280\"/>\n-    </imgdir>\n-    <imgdir name=\"2\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901801\"/>\n-      <int name=\"x\" value=\"-2410\"/>\n-      <int name=\"y\" value=\"-247\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"42\"/>\n-      <int name=\"cy\" value=\"-241\"/>\n-      <int name=\"rx0\" value=\"-2460\"/>\n-      <int name=\"rx1\" value=\"-2360\"/>\n-    </imgdir>\n-    <imgdir name=\"3\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901802\"/>\n-      <int name=\"x\" value=\"-2249\"/>\n-      <int name=\"y\" value=\"-245\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"42\"/>\n-      <int name=\"cy\" value=\"-241\"/>\n-      <int name=\"rx0\" value=\"-2299\"/>\n-      <int name=\"rx1\" value=\"-2199\"/>\n-    </imgdir>\n-    <imgdir name=\"4\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901803\"/>\n-      <int name=\"x\" value=\"-2410\"/>\n-      <int name=\"y\" value=\"-574\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"44\"/>\n-      <int name=\"cy\" value=\"-569\"/>\n-      <int name=\"rx0\" value=\"-2460\"/>\n-      <int name=\"rx1\" value=\"-2360\"/>\n-    </imgdir>\n-    <imgdir name=\"5\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901804\"/>\n-      <int name=\"x\" value=\"-2250\"/>\n-      <int name=\"y\" value=\"-575\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"44\"/>\n-      <int name=\"cy\" value=\"-569\"/>\n-      <int name=\"rx0\" value=\"-2300\"/>\n-      <int name=\"rx1\" value=\"-2200\"/>\n-    </imgdir>\n-    <imgdir name=\"6\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901805\"/>\n-      <int name=\"x\" value=\"-2410\"/>\n-      <int name=\"y\" value=\"-907\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"46\"/>\n-      <int name=\"cy\" value=\"-897\"/>\n-      <int name=\"rx0\" value=\"-2460\"/>\n-      <int name=\"rx1\" value=\"-2360\"/>\n-    </imgdir>\n-    <imgdir name=\"7\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901806\"/>\n-      <int name=\"x\" value=\"-2250\"/>\n-      <int name=\"y\" value=\"-907\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"46\"/>\n-      <int name=\"cy\" value=\"-897\"/>\n-      <int name=\"rx0\" value=\"-2300\"/>\n-      <int name=\"rx1\" value=\"-2200\"/>\n-    </imgdir>\n-    <imgdir name=\"8\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901807\"/>\n-      <int name=\"x\" value=\"-2430\"/>\n-      <int name=\"y\" value=\"-1232\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"48\"/>\n-      <int name=\"cy\" value=\"-1224\"/>\n-      <int name=\"rx0\" value=\"-2480\"/>\n-      <int name=\"rx1\" value=\"-2380\"/>\n-    </imgdir>\n-    <imgdir name=\"9\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901808\"/>\n-      <int name=\"x\" value=\"-2330\"/>\n-      <int name=\"y\" value=\"-1230\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"48\"/>\n-      <int name=\"cy\" value=\"-1224\"/>\n-      <int name=\"rx0\" value=\"-2380\"/>\n-      <int name=\"rx1\" value=\"-2280\"/>\n-    </imgdir>\n-    <imgdir name=\"10\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901809\"/>\n-      <int name=\"x\" value=\"-2230\"/>\n-      <int name=\"y\" value=\"-1230\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"48\"/>\n-      <int name=\"cy\" value=\"-1224\"/>\n-      <int name=\"rx0\" value=\"-2280\"/>\n-      <int name=\"rx1\" value=\"-2180\"/>\n-    </imgdir>\n-    <imgdir name=\"11\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901810\"/>\n-      <int name=\"x\" value=\"-1965\"/>\n-      <int name=\"y\" value=\"78\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"6\"/>\n-      <int name=\"cy\" value=\"88\"/>\n-      <int name=\"rx0\" value=\"-2015\"/>\n-      <int name=\"rx1\" value=\"-1915\"/>\n-    </imgdir>\n-    <imgdir name=\"12\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901811\"/>\n-      <int name=\"x\" value=\"-2045\"/>\n-      <int name=\"y\" value=\"-247\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"42\"/>\n-      <int name=\"cy\" value=\"-241\"/>\n-      <int name=\"rx0\" value=\"-2095\"/>\n-      <int name=\"rx1\" value=\"-1995\"/>\n-    </imgdir>\n-    <imgdir name=\"13\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901812\"/>\n-      <int name=\"x\" value=\"-1885\"/>\n-      <int name=\"y\" value=\"-581\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"44\"/>\n-      <int name=\"cy\" value=\"-569\"/>\n-      <int name=\"rx0\" value=\"-1935\"/>\n-      <int name=\"rx1\" value=\"-1835\"/>\n-    </imgdir>\n-    <imgdir name=\"14\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901813\"/>\n-      <int name=\"x\" value=\"-2045\"/>\n-      <int name=\"y\" value=\"-902\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"46\"/>\n-      <int name=\"cy\" value=\"-897\"/>\n-      <int name=\"rx0\" value=\"-2095\"/>\n-      <int name=\"rx1\" value=\"-1995\"/>\n-    </imgdir>\n-    <imgdir name=\"15\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901814\"/>\n-      <int name=\"x\" value=\"-1885\"/>\n-      <int name=\"y\" value=\"-912\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"46\"/>\n-      <int name=\"cy\" value=\"-897\"/>\n-      <int name=\"rx0\" value=\"-1935\"/>\n-      <int name=\"rx1\" value=\"-1835\"/>\n-    </imgdir>\n-    <imgdir name=\"16\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901815\"/>\n-      <int name=\"x\" value=\"-2045\"/>\n-      <int name=\"y\" value=\"-910\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"46\"/>\n-      <int name=\"cy\" value=\"-897\"/>\n-      <int name=\"rx0\" value=\"-2095\"/>\n-      <int name=\"rx1\" value=\"-1995\"/>\n-    </imgdir>\n-    <imgdir name=\"17\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901816\"/>\n-      <int name=\"x\" value=\"-1885\"/>\n-      <int name=\"y\" value=\"-915\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"46\"/>\n-      <int name=\"cy\" value=\"-897\"/>\n-      <int name=\"rx0\" value=\"-1935\"/>\n-      <int name=\"rx1\" value=\"-1835\"/>\n-    </imgdir>\n-    <imgdir name=\"18\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901817\"/>\n-      <int name=\"x\" value=\"-2065\"/>\n-      <int name=\"y\" value=\"-1232\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"48\"/>\n-      <int name=\"cy\" value=\"-1224\"/>\n-      <int name=\"rx0\" value=\"-2115\"/>\n-      <int name=\"rx1\" value=\"-2015\"/>\n-    </imgdir>\n-    <imgdir name=\"19\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901819\"/>\n-      <int name=\"x\" value=\"-1865\"/>\n-      <int name=\"y\" value=\"-1228\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"48\"/>\n-      <int name=\"cy\" value=\"-1224\"/>\n-      <int name=\"rx0\" value=\"-1915\"/>\n-      <int name=\"rx1\" value=\"-1815\"/>\n-    </imgdir>\n-    <imgdir name=\"20\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901818\"/>\n-      <int name=\"x\" value=\"-1965\"/>\n-      <int name=\"y\" value=\"-1230\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"48\"/>\n-      <int name=\"cy\" value=\"-1224\"/>\n-      <int name=\"rx0\" value=\"-2015\"/>\n-      <int name=\"rx1\" value=\"-1915\"/>\n-    </imgdir>\n-    <imgdir name=\"21\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901820\"/>\n-      <int name=\"x\" value=\"-1610\"/>\n-      <int name=\"y\" value=\"80\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"23\"/>\n-      <int name=\"cy\" value=\"88\"/>\n-      <int name=\"rx0\" value=\"-1660\"/>\n-      <int name=\"rx1\" value=\"-1560\"/>\n-    </imgdir>\n-    <imgdir name=\"22\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901821\"/>\n-      <int name=\"x\" value=\"-1690\"/>\n-      <int name=\"y\" value=\"-220\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"41\"/>\n-      <int name=\"cy\" value=\"-210\"/>\n-      <int name=\"rx0\" value=\"-1740\"/>\n-      <int name=\"rx1\" value=\"-1640\"/>\n-    </imgdir>\n-    <imgdir name=\"23\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901822\"/>\n-      <int name=\"x\" value=\"-1530\"/>\n-      <int name=\"y\" value=\"-219\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"51\"/>\n-      <int name=\"cy\" value=\"-210\"/>\n-      <int name=\"rx0\" value=\"-1555\"/>\n-      <int name=\"rx1\" value=\"-1480\"/>\n-    </imgdir>\n-    <imgdir name=\"24\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901823\"/>\n-      <int name=\"x\" value=\"-1690\"/>\n-      <int name=\"y\" value=\"-546\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"43\"/>\n-      <int name=\"cy\" value=\"-538\"/>\n-      <int name=\"rx0\" value=\"-1740\"/>\n-      <int name=\"rx1\" value=\"-1640\"/>\n-    </imgdir>\n-    <imgdir name=\"25\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901824\"/>\n-      <int name=\"x\" value=\"-1530\"/>\n-      <int name=\"y\" value=\"-545\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"53\"/>\n-      <int name=\"cy\" value=\"-538\"/>\n-      <int name=\"rx0\" value=\"-1555\"/>\n-      <int name=\"rx1\" value=\"-1480\"/>\n-    </imgdir>\n-    <imgdir name=\"26\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901825\"/>\n-      <int name=\"x\" value=\"-1690\"/>\n-      <int name=\"y\" value=\"-880\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"45\"/>\n-      <int name=\"cy\" value=\"-866\"/>\n-      <int name=\"rx0\" value=\"-1740\"/>\n-      <int name=\"rx1\" value=\"-1640\"/>\n-    </imgdir>\n-    <imgdir name=\"27\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901826\"/>\n-      <int name=\"x\" value=\"-1530\"/>\n-      <int name=\"y\" value=\"-874\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"55\"/>\n-      <int name=\"cy\" value=\"-866\"/>\n-      <int name=\"rx0\" value=\"-1556\"/>\n-      <int name=\"rx1\" value=\"-1480\"/>\n-    </imgdir>\n-    <imgdir name=\"28\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901827\"/>\n-      <int name=\"x\" value=\"-1710\"/>\n-      <int name=\"y\" value=\"-1204\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"47\"/>\n-      <int name=\"cy\" value=\"-1193\"/>\n-      <int name=\"rx0\" value=\"-1760\"/>\n-      <int name=\"rx1\" value=\"-1660\"/>\n-    </imgdir>\n-    <imgdir name=\"29\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901828\"/>\n-      <int name=\"x\" value=\"-1610\"/>\n-      <int name=\"y\" value=\"-1205\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"47\"/>\n-      <int name=\"cy\" value=\"-1193\"/>\n-      <int name=\"rx0\" value=\"-1660\"/>\n-      <int name=\"rx1\" value=\"-1596\"/>\n-    </imgdir>\n-    <imgdir name=\"30\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901829\"/>\n-      <int name=\"x\" value=\"-1510\"/>\n-      <int name=\"y\" value=\"-1201\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"57\"/>\n-      <int name=\"cy\" value=\"-1193\"/>\n-      <int name=\"rx0\" value=\"-1556\"/>\n-      <int name=\"rx1\" value=\"-1460\"/>\n-    </imgdir>\n-    <imgdir name=\"31\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901830\"/>\n-      <int name=\"x\" value=\"-1245\"/>\n-      <int name=\"y\" value=\"78\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"25\"/>\n-      <int name=\"cy\" value=\"88\"/>\n-      <int name=\"rx0\" value=\"-1295\"/>\n-      <int name=\"rx1\" value=\"-1195\"/>\n-    </imgdir>\n-    <imgdir name=\"32\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901831\"/>\n-      <int name=\"x\" value=\"-1325\"/>\n-      <int name=\"y\" value=\"-247\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"52\"/>\n-      <int name=\"cy\" value=\"-241\"/>\n-      <int name=\"rx0\" value=\"-1375\"/>\n-      <int name=\"rx1\" value=\"-1275\"/>\n-    </imgdir>\n-    <imgdir name=\"33\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901832\"/>\n-      <int name=\"x\" value=\"-1165\"/>\n-      <int name=\"y\" value=\"-249\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"52\"/>\n-      <int name=\"cy\" value=\"-241\"/>\n-      <int name=\"rx0\" value=\"-1215\"/>\n-      <int name=\"rx1\" value=\"-1115\"/>\n-    </imgdir>\n-    <imgdir name=\"34\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901833\"/>\n-      <int name=\"x\" value=\"-1325\"/>\n-      <int name=\"y\" value=\"-577\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"54\"/>\n-      <int name=\"cy\" value=\"-569\"/>\n-      <int name=\"rx0\" value=\"-1375\"/>\n-      <int name=\"rx1\" value=\"-1275\"/>\n-    </imgdir>\n-    <imgdir name=\"35\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901834\"/>\n-      <int name=\"x\" value=\"-1165\"/>\n-      <int name=\"y\" value=\"-575\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"54\"/>\n-      <int name=\"cy\" value=\"-569\"/>\n-      <int name=\"rx0\" value=\"-1215\"/>\n-      <int name=\"rx1\" value=\"-1115\"/>\n-    </imgdir>\n-    <imgdir name=\"36\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901835\"/>\n-      <int name=\"x\" value=\"-1325\"/>\n-      <int name=\"y\" value=\"-912\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"56\"/>\n-      <int name=\"cy\" value=\"-897\"/>\n-      <int name=\"rx0\" value=\"-1375\"/>\n-      <int name=\"rx1\" value=\"-1275\"/>\n-    </imgdir>\n-    <imgdir name=\"37\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901836\"/>\n-      <int name=\"x\" value=\"-1165\"/>\n-      <int name=\"y\" value=\"-907\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"56\"/>\n-      <int name=\"cy\" value=\"-897\"/>\n-      <int name=\"rx0\" value=\"-1215\"/>\n-      <int name=\"rx1\" value=\"-1115\"/>\n-    </imgdir>\n-    <imgdir name=\"38\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901837\"/>\n-      <int name=\"x\" value=\"-1345\"/>\n-      <int name=\"y\" value=\"-1235\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"58\"/>\n-      <int name=\"cy\" value=\"-1224\"/>\n-      <int name=\"rx0\" value=\"-1395\"/>\n-      <int name=\"rx1\" value=\"-1295\"/>\n-    </imgdir>\n-    <imgdir name=\"39\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901838\"/>\n-      <int name=\"x\" value=\"-1245\"/>\n-      <int name=\"y\" value=\"-1232\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"58\"/>\n-      <int name=\"cy\" value=\"-1224\"/>\n-      <int name=\"rx0\" value=\"-1295\"/>\n-      <int name=\"rx1\" value=\"-1195\"/>\n-    </imgdir>\n-    <imgdir name=\"40\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901839\"/>\n-      <int name=\"x\" value=\"-1145\"/>\n-      <int name=\"y\" value=\"-1228\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"58\"/>\n-      <int name=\"cy\" value=\"-1224\"/>\n-      <int name=\"rx0\" value=\"-1195\"/>\n-      <int name=\"rx1\" value=\"-1095\"/>\n-    </imgdir>\n-    <imgdir name=\"41\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901840\"/>\n-      <int name=\"x\" value=\"-880\"/>\n-      <int name=\"y\" value=\"77\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"27\"/>\n-      <int name=\"cy\" value=\"88\"/>\n-      <int name=\"rx0\" value=\"-930\"/>\n-      <int name=\"rx1\" value=\"-830\"/>\n-    </imgdir>\n-    <imgdir name=\"42\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901841\"/>\n-      <int name=\"x\" value=\"-960\"/>\n-      <int name=\"y\" value=\"-250\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"52\"/>\n-      <int name=\"cy\" value=\"-241\"/>\n-      <int name=\"rx0\" value=\"-1010\"/>\n-      <int name=\"rx1\" value=\"-910\"/>\n-    </imgdir>\n-    <imgdir name=\"43\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901842\"/>\n-      <int name=\"x\" value=\"-800\"/>\n-      <int name=\"y\" value=\"-253\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"52\"/>\n-      <int name=\"cy\" value=\"-241\"/>\n-      <int name=\"rx0\" value=\"-850\"/>\n-      <int name=\"rx1\" value=\"-750\"/>\n-    </imgdir>\n-    <imgdir name=\"44\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901843\"/>\n-      <int name=\"x\" value=\"-960\"/>\n-      <int name=\"y\" value=\"-581\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"54\"/>\n-      <int name=\"cy\" value=\"-569\"/>\n-      <int name=\"rx0\" value=\"-1010\"/>\n-      <int name=\"rx1\" value=\"-910\"/>\n-    </imgdir>\n-    <imgdir name=\"45\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901844\"/>\n-      <int name=\"x\" value=\"-800\"/>\n-      <int name=\"y\" value=\"-576\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"54\"/>\n-      <int name=\"cy\" value=\"-569\"/>\n-      <int name=\"rx0\" value=\"-850\"/>\n-      <int name=\"rx1\" value=\"-750\"/>\n-    </imgdir>\n-    <imgdir name=\"46\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901845\"/>\n-      <int name=\"x\" value=\"-960\"/>\n-      <int name=\"y\" value=\"-907\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"56\"/>\n-      <int name=\"cy\" value=\"-897\"/>\n-      <int name=\"rx0\" value=\"-1010\"/>\n-      <int name=\"rx1\" value=\"-910\"/>\n-    </imgdir>\n-    <imgdir name=\"47\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901846\"/>\n-      <int name=\"x\" value=\"-800\"/>\n-      <int name=\"y\" value=\"-903\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"56\"/>\n-      <int name=\"cy\" value=\"-897\"/>\n-      <int name=\"rx0\" value=\"-850\"/>\n-      <int name=\"rx1\" value=\"-750\"/>\n-    </imgdir>\n-    <imgdir name=\"48\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901847\"/>\n-      <int name=\"x\" value=\"-980\"/>\n-      <int name=\"y\" value=\"-1229\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"58\"/>\n-      <int name=\"cy\" value=\"-1224\"/>\n-      <int name=\"rx0\" value=\"-1030\"/>\n-      <int name=\"rx1\" value=\"-930\"/>\n-    </imgdir>\n-    <imgdir name=\"49\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901848\"/>\n-      <int name=\"x\" value=\"-880\"/>\n-      <int name=\"y\" value=\"-1235\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"58\"/>\n-      <int name=\"cy\" value=\"-1224\"/>\n-      <int name=\"rx0\" value=\"-930\"/>\n-      <int name=\"rx1\" value=\"-830\"/>\n-    </imgdir>\n     <imgdir name=\"0\">\n       <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901849\"/>\n-      <int name=\"x\" value=\"-780\"/>\n-      <int name=\"y\" value=\"-1233\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"58\"/>\n-      <int name=\"cy\" value=\"-1224\"/>\n-      <int name=\"rx0\" value=\"-830\"/>\n-      <int name=\"rx1\" value=\"-730\"/>\n-    </imgdir>\n-    <imgdir name=\"50\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9010021\"/>\n+      <string name=\"id\" value=\"1102003\"/>\n       <int name=\"x\" value=\"-593\"/>\n       <int name=\"y\" value=\"81\"/>\n       <int name=\"mobTime\" value=\"0\"/>"}, {"sha": "e4ea51a0905fb53e2c80138d1216a07e0b574779", "filename": "wz/Map.wz/Map/Map1/130000110.img.xml", "status": "modified", "additions": 0, "deletions": 273, "changes": 273, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Map.wz/Map/Map1/130000110.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Map.wz/Map/Map1/130000110.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map1/130000110.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -563,279 +563,6 @@\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"life\">\n-    <imgdir name=\"17\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901517\"/>\n-      <int name=\"x\" value=\"-2595\"/>\n-      <int name=\"y\" value=\"-900\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"22\"/>\n-      <int name=\"cy\" value=\"-897\"/>\n-      <int name=\"rx0\" value=\"-2645\"/>\n-      <int name=\"rx1\" value=\"-2545\"/>\n-    </imgdir>\n-    <imgdir name=\"18\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901518\"/>\n-      <int name=\"x\" value=\"-2473\"/>\n-      <int name=\"y\" value=\"-899\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"22\"/>\n-      <int name=\"cy\" value=\"-897\"/>\n-      <int name=\"rx0\" value=\"-2523\"/>\n-      <int name=\"rx1\" value=\"-2423\"/>\n-    </imgdir>\n-    <imgdir name=\"19\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901519\"/>\n-      <int name=\"x\" value=\"-2353\"/>\n-      <int name=\"y\" value=\"-899\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"22\"/>\n-      <int name=\"cy\" value=\"-897\"/>\n-      <int name=\"rx0\" value=\"-2403\"/>\n-      <int name=\"rx1\" value=\"-2303\"/>\n-    </imgdir>\n-    <imgdir name=\"20\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901520\"/>\n-      <int name=\"x\" value=\"-2232\"/>\n-      <int name=\"y\" value=\"-899\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"22\"/>\n-      <int name=\"cy\" value=\"-897\"/>\n-      <int name=\"rx0\" value=\"-2282\"/>\n-      <int name=\"rx1\" value=\"-2182\"/>\n-    </imgdir>\n-    <imgdir name=\"15\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901537\"/>\n-      <int name=\"x\" value=\"-1869\"/>\n-      <int name=\"y\" value=\"-1555\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"20\"/>\n-      <int name=\"cy\" value=\"-1552\"/>\n-      <int name=\"rx0\" value=\"-1919\"/>\n-      <int name=\"rx1\" value=\"-1819\"/>\n-    </imgdir>\n-    <imgdir name=\"14\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901536\"/>\n-      <int name=\"x\" value=\"-1990\"/>\n-      <int name=\"y\" value=\"-1555\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"20\"/>\n-      <int name=\"cy\" value=\"-1552\"/>\n-      <int name=\"rx0\" value=\"-2040\"/>\n-      <int name=\"rx1\" value=\"-1940\"/>\n-    </imgdir>\n-    <imgdir name=\"13\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901535\"/>\n-      <int name=\"x\" value=\"-2111\"/>\n-      <int name=\"y\" value=\"-1555\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"20\"/>\n-      <int name=\"cy\" value=\"-1552\"/>\n-      <int name=\"rx0\" value=\"-2161\"/>\n-      <int name=\"rx1\" value=\"-2061\"/>\n-    </imgdir>\n-    <imgdir name=\"5\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901534\"/>\n-      <int name=\"x\" value=\"-2232\"/>\n-      <int name=\"y\" value=\"-1555\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"20\"/>\n-      <int name=\"cy\" value=\"-1552\"/>\n-      <int name=\"rx0\" value=\"-2282\"/>\n-      <int name=\"rx1\" value=\"-2182\"/>\n-    </imgdir>\n-    <imgdir name=\"4\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901533\"/>\n-      <int name=\"x\" value=\"-2353\"/>\n-      <int name=\"y\" value=\"-1555\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"20\"/>\n-      <int name=\"cy\" value=\"-1552\"/>\n-      <int name=\"rx0\" value=\"-2403\"/>\n-      <int name=\"rx1\" value=\"-2303\"/>\n-    </imgdir>\n-    <imgdir name=\"3\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901532\"/>\n-      <int name=\"x\" value=\"-2474\"/>\n-      <int name=\"y\" value=\"-1555\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"20\"/>\n-      <int name=\"cy\" value=\"-1552\"/>\n-      <int name=\"rx0\" value=\"-2524\"/>\n-      <int name=\"rx1\" value=\"-2424\"/>\n-    </imgdir>\n-    <imgdir name=\"6\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901531\"/>\n-      <int name=\"x\" value=\"-2595\"/>\n-      <int name=\"y\" value=\"-1555\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"20\"/>\n-      <int name=\"cy\" value=\"-1552\"/>\n-      <int name=\"rx0\" value=\"-2645\"/>\n-      <int name=\"rx1\" value=\"-2545\"/>\n-    </imgdir>\n-    <imgdir name=\"2\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901530\"/>\n-      <int name=\"x\" value=\"-1869\"/>\n-      <int name=\"y\" value=\"-1228\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"24\"/>\n-      <int name=\"cy\" value=\"-1225\"/>\n-      <int name=\"rx0\" value=\"-1919\"/>\n-      <int name=\"rx1\" value=\"-1819\"/>\n-    </imgdir>\n-    <imgdir name=\"1\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901529\"/>\n-      <int name=\"x\" value=\"-1990\"/>\n-      <int name=\"y\" value=\"-1228\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"24\"/>\n-      <int name=\"cy\" value=\"-1225\"/>\n-      <int name=\"rx0\" value=\"-2040\"/>\n-      <int name=\"rx1\" value=\"-1940\"/>\n-    </imgdir>\n-    <imgdir name=\"0\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901528\"/>\n-      <int name=\"x\" value=\"-2111\"/>\n-      <int name=\"y\" value=\"-1228\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"24\"/>\n-      <int name=\"cy\" value=\"-1225\"/>\n-      <int name=\"rx0\" value=\"-2161\"/>\n-      <int name=\"rx1\" value=\"-2061\"/>\n-    </imgdir>\n-    <imgdir name=\"12\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901527\"/>\n-      <int name=\"x\" value=\"-2232\"/>\n-      <int name=\"y\" value=\"-1228\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"24\"/>\n-      <int name=\"cy\" value=\"-1225\"/>\n-      <int name=\"rx0\" value=\"-2282\"/>\n-      <int name=\"rx1\" value=\"-2182\"/>\n-    </imgdir>\n-    <imgdir name=\"9\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901526\"/>\n-      <int name=\"x\" value=\"-2353\"/>\n-      <int name=\"y\" value=\"-1228\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"24\"/>\n-      <int name=\"cy\" value=\"-1225\"/>\n-      <int name=\"rx0\" value=\"-2403\"/>\n-      <int name=\"rx1\" value=\"-2303\"/>\n-    </imgdir>\n-    <imgdir name=\"8\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901525\"/>\n-      <int name=\"x\" value=\"-2474\"/>\n-      <int name=\"y\" value=\"-1228\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"24\"/>\n-      <int name=\"cy\" value=\"-1225\"/>\n-      <int name=\"rx0\" value=\"-2524\"/>\n-      <int name=\"rx1\" value=\"-2424\"/>\n-    </imgdir>\n-    <imgdir name=\"7\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901524\"/>\n-      <int name=\"x\" value=\"-2595\"/>\n-      <int name=\"y\" value=\"-1228\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"24\"/>\n-      <int name=\"cy\" value=\"-1225\"/>\n-      <int name=\"rx0\" value=\"-2645\"/>\n-      <int name=\"rx1\" value=\"-2545\"/>\n-    </imgdir>\n-    <imgdir name=\"16\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901523\"/>\n-      <int name=\"x\" value=\"-1869\"/>\n-      <int name=\"y\" value=\"-899\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"22\"/>\n-      <int name=\"cy\" value=\"-897\"/>\n-      <int name=\"rx0\" value=\"-1919\"/>\n-      <int name=\"rx1\" value=\"-1819\"/>\n-    </imgdir>\n-    <imgdir name=\"11\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901522\"/>\n-      <int name=\"x\" value=\"-1990\"/>\n-      <int name=\"y\" value=\"-899\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"22\"/>\n-      <int name=\"cy\" value=\"-897\"/>\n-      <int name=\"rx0\" value=\"-2040\"/>\n-      <int name=\"rx1\" value=\"-1940\"/>\n-    </imgdir>\n-    <imgdir name=\"10\">\n-      <string name=\"type\" value=\"n\"/>\n-      <string name=\"id\" value=\"9901521\"/>\n-      <int name=\"x\" value=\"-2111\"/>\n-      <int name=\"y\" value=\"-899\"/>\n-      <int name=\"mobTime\" value=\"0\"/>\n-      <int name=\"f\" value=\"0\"/>\n-      <int name=\"hide\" value=\"1\"/>\n-      <int name=\"fh\" value=\"22\"/>\n-      <int name=\"cy\" value=\"-897\"/>\n-      <int name=\"rx0\" value=\"-2161\"/>\n-      <int name=\"rx1\" value=\"-2061\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"reactor\">\n   </imgdir>"}, {"sha": "19d966508823892b7e17e64e37e9ade63e8f02b3", "filename": "wz/Map.wz/Map/Map1/130000120.img.xml", "status": "modified", "additions": 1295, "deletions": 1467, "changes": 2762, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Map.wz/Map/Map1/130000120.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Map.wz/Map/Map1/130000120.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map1/130000120.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "ed957fbf47db948dc27eccf73648e5bfedd6633e", "filename": "wz/Map.wz/Map/Map1/140010110.img.xml", "status": "modified", "additions": 1212, "deletions": 1416, "changes": 2628, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Map.wz/Map/Map1/140010110.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Map.wz/Map/Map1/140010110.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map1/140010110.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "eb23a0a2237be6a2436b478a028008b194e246fb", "filename": "wz/Map.wz/Map/Map7/777777777.img.xml", "status": "added", "additions": 943, "deletions": 0, "changes": 943, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Map.wz/Map/Map7/777777777.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Map.wz/Map/Map7/777777777.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map7/777777777.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,943 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"777777777.img\">\n+  <imgdir name=\"info\">\n+    <string name=\"bgm\" value=\"Bgm04/Shinin&apos;Harbor\"/>\n+    <int name=\"cloud\" value=\"0\"/>\n+    <int name=\"swim\" value=\"0\"/>\n+    <int name=\"forcedReturn\" value=\"999999999\"/>\n+    <int name=\"hideMinimap\" value=\"0\"/>\n+    <string name=\"mapMark\" value=\"Orbis\"/>\n+    <float name=\"mobRate\" value=\"1.0\"/>\n+    <int name=\"returnMap\" value=\"777777777\"/>\n+    <int name=\"town\" value=\"1\"/>\n+    <int name=\"version\" value=\"10\"/>\n+    <int name=\"fieldLimit\" value=\"20\"/>\n+    <int name=\"VRLeft\" value=\"-403\"/>\n+    <int name=\"VRRight\" value=\"794\"/>\n+    <int name=\"VRTop\" value=\"-415\"/>\n+    <int name=\"VRBottom\" value=\"300\"/>\n+  </imgdir>\n+  <imgdir name=\"miniMap\">\n+    <canvas name=\"canvas\" width=\"81\" height=\"57\">\n+    </canvas>\n+    <int name=\"width\" value=\"1297\"/>\n+    <int name=\"height\" value=\"913\"/>\n+    <int name=\"centerX\" value=\"449\"/>\n+    <int name=\"centerY\" value=\"564\"/>\n+    <int name=\"mag\" value=\"4\"/>\n+  </imgdir>\n+  <imgdir name=\"0\">\n+    <imgdir name=\"info\">\n+    </imgdir>\n+    <imgdir name=\"obj\">\n+      <imgdir name=\"0\">\n+        <int name=\"x\" value=\"-101\"/>\n+        <int name=\"y\" value=\"-120\"/>\n+        <int name=\"z\" value=\"3\"/>\n+        <int name=\"zM\" value=\"2\"/>\n+        <string name=\"oS\" value=\"guild\"/>\n+        <string name=\"l0\" value=\"guild\"/>\n+        <string name=\"l1\" value=\"guildSS\"/>\n+        <string name=\"l2\" value=\"0\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"1\">\n+        <int name=\"x\" value=\"500\"/>\n+        <int name=\"y\" value=\"-120\"/>\n+        <int name=\"z\" value=\"2\"/>\n+        <int name=\"zM\" value=\"3\"/>\n+        <string name=\"oS\" value=\"guild\"/>\n+        <string name=\"l0\" value=\"guild\"/>\n+        <string name=\"l1\" value=\"guildSS\"/>\n+        <string name=\"l2\" value=\"1\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"2\">\n+        <int name=\"x\" value=\"194\"/>\n+        <int name=\"y\" value=\"-254\"/>\n+        <int name=\"z\" value=\"3\"/>\n+        <int name=\"zM\" value=\"2\"/>\n+        <string name=\"oS\" value=\"guild\"/>\n+        <string name=\"l0\" value=\"guild\"/>\n+        <string name=\"l1\" value=\"guildSS\"/>\n+        <string name=\"l2\" value=\"6\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"3\">\n+        <int name=\"x\" value=\"-164\"/>\n+        <int name=\"y\" value=\"-183\"/>\n+        <int name=\"z\" value=\"5\"/>\n+        <int name=\"zM\" value=\"2\"/>\n+        <string name=\"oS\" value=\"guild\"/>\n+        <string name=\"l0\" value=\"guild\"/>\n+        <string name=\"l1\" value=\"guildSS\"/>\n+        <string name=\"l2\" value=\"23\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"4\">\n+        <int name=\"x\" value=\"560\"/>\n+        <int name=\"y\" value=\"-187\"/>\n+        <int name=\"z\" value=\"5\"/>\n+        <int name=\"zM\" value=\"3\"/>\n+        <string name=\"oS\" value=\"guild\"/>\n+        <string name=\"l0\" value=\"guild\"/>\n+        <string name=\"l1\" value=\"guildSS\"/>\n+        <string name=\"l2\" value=\"23\"/>\n+        <int name=\"f\" value=\"1\"/>\n+      </imgdir>\n+      <imgdir name=\"5\">\n+        <int name=\"x\" value=\"563\"/>\n+        <int name=\"y\" value=\"-135\"/>\n+        <int name=\"z\" value=\"6\"/>\n+        <int name=\"zM\" value=\"3\"/>\n+        <string name=\"oS\" value=\"guild\"/>\n+        <string name=\"l0\" value=\"guild\"/>\n+        <string name=\"l1\" value=\"guildSS\"/>\n+        <string name=\"l2\" value=\"24\"/>\n+        <int name=\"f\" value=\"1\"/>\n+      </imgdir>\n+      <imgdir name=\"6\">\n+        <int name=\"x\" value=\"-164\"/>\n+        <int name=\"y\" value=\"-135\"/>\n+        <int name=\"z\" value=\"6\"/>\n+        <int name=\"zM\" value=\"2\"/>\n+        <string name=\"oS\" value=\"guild\"/>\n+        <string name=\"l0\" value=\"guild\"/>\n+        <string name=\"l1\" value=\"guildSS\"/>\n+        <string name=\"l2\" value=\"24\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+    </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"1\">\n+    <imgdir name=\"info\">\n+    </imgdir>\n+    <imgdir name=\"obj\">\n+    </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"2\">\n+    <imgdir name=\"info\">\n+    </imgdir>\n+    <imgdir name=\"obj\">\n+      <imgdir name=\"0\">\n+        <int name=\"x\" value=\"-154\"/>\n+        <int name=\"y\" value=\"145\"/>\n+        <int name=\"z\" value=\"3\"/>\n+        <int name=\"zM\" value=\"0\"/>\n+        <string name=\"oS\" value=\"guild\"/>\n+        <string name=\"l0\" value=\"guild\"/>\n+        <string name=\"l1\" value=\"guildSS\"/>\n+        <string name=\"l2\" value=\"8\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"1\">\n+        <int name=\"x\" value=\"-303\"/>\n+        <int name=\"y\" value=\"-15\"/>\n+        <int name=\"z\" value=\"3\"/>\n+        <int name=\"zM\" value=\"6\"/>\n+        <string name=\"oS\" value=\"guild\"/>\n+        <string name=\"l0\" value=\"guild\"/>\n+        <string name=\"l1\" value=\"guildSS\"/>\n+        <string name=\"l2\" value=\"9\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"2\">\n+        <int name=\"x\" value=\"592\"/>\n+        <int name=\"y\" value=\"12\"/>\n+        <int name=\"z\" value=\"0\"/>\n+        <int name=\"zM\" value=\"7\"/>\n+        <string name=\"oS\" value=\"guild\"/>\n+        <string name=\"l0\" value=\"guild\"/>\n+        <string name=\"l1\" value=\"guildSS\"/>\n+        <string name=\"l2\" value=\"17\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"3\">\n+        <int name=\"x\" value=\"591\"/>\n+        <int name=\"y\" value=\"-3\"/>\n+        <int name=\"z\" value=\"1\"/>\n+        <int name=\"zM\" value=\"7\"/>\n+        <string name=\"oS\" value=\"guild\"/>\n+        <string name=\"l0\" value=\"guild\"/>\n+        <string name=\"l1\" value=\"guildSS\"/>\n+        <string name=\"l2\" value=\"18\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"4\">\n+        <int name=\"x\" value=\"700\"/>\n+        <int name=\"y\" value=\"-40\"/>\n+        <int name=\"z\" value=\"3\"/>\n+        <int name=\"zM\" value=\"8\"/>\n+        <string name=\"oS\" value=\"guild\"/>\n+        <string name=\"l0\" value=\"guild\"/>\n+        <string name=\"l1\" value=\"guildSS\"/>\n+        <string name=\"l2\" value=\"22\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"5\">\n+        <int name=\"x\" value=\"591\"/>\n+        <int name=\"y\" value=\"16\"/>\n+        <int name=\"z\" value=\"4\"/>\n+        <int name=\"zM\" value=\"7\"/>\n+        <string name=\"oS\" value=\"guild\"/>\n+        <string name=\"l0\" value=\"guild\"/>\n+        <string name=\"l1\" value=\"guildSS\"/>\n+        <string name=\"l2\" value=\"21\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"6\">\n+        <int name=\"x\" value=\"593\"/>\n+        <int name=\"y\" value=\"27\"/>\n+        <int name=\"z\" value=\"3\"/>\n+        <int name=\"zM\" value=\"7\"/>\n+        <string name=\"oS\" value=\"guild\"/>\n+        <string name=\"l0\" value=\"guild\"/>\n+        <string name=\"l1\" value=\"guildSS\"/>\n+        <string name=\"l2\" value=\"20\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"7\">\n+        <int name=\"x\" value=\"595\"/>\n+        <int name=\"y\" value=\"11\"/>\n+        <int name=\"z\" value=\"2\"/>\n+        <int name=\"zM\" value=\"7\"/>\n+        <string name=\"oS\" value=\"guild\"/>\n+        <string name=\"l0\" value=\"guild\"/>\n+        <string name=\"l1\" value=\"guildSS\"/>\n+        <string name=\"l2\" value=\"19\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"8\">\n+        <int name=\"x\" value=\"31\"/>\n+        <int name=\"y\" value=\"17\"/>\n+        <int name=\"z\" value=\"4\"/>\n+        <int name=\"zM\" value=\"0\"/>\n+        <string name=\"oS\" value=\"guild\"/>\n+        <string name=\"l0\" value=\"guild\"/>\n+        <string name=\"l1\" value=\"guildSS\"/>\n+        <string name=\"l2\" value=\"3\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"9\">\n+        <int name=\"x\" value=\"367\"/>\n+        <int name=\"y\" value=\"17\"/>\n+        <int name=\"z\" value=\"4\"/>\n+        <int name=\"zM\" value=\"1\"/>\n+        <string name=\"oS\" value=\"guild\"/>\n+        <string name=\"l0\" value=\"guild\"/>\n+        <string name=\"l1\" value=\"guildSS\"/>\n+        <string name=\"l2\" value=\"3\"/>\n+        <int name=\"f\" value=\"1\"/>\n+      </imgdir>\n+      <imgdir name=\"10\">\n+        <int name=\"x\" value=\"199\"/>\n+        <int name=\"y\" value=\"237\"/>\n+        <int name=\"z\" value=\"4\"/>\n+        <int name=\"zM\" value=\"0\"/>\n+        <string name=\"oS\" value=\"guild\"/>\n+        <string name=\"l0\" value=\"guild\"/>\n+        <string name=\"l1\" value=\"guildSS\"/>\n+        <string name=\"l2\" value=\"2\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+    </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"3\">\n+    <imgdir name=\"info\">\n+    </imgdir>\n+    <imgdir name=\"obj\">\n+      <imgdir name=\"0\">\n+        <int name=\"x\" value=\"196\"/>\n+        <int name=\"y\" value=\"-334\"/>\n+        <int name=\"z\" value=\"7\"/>\n+        <int name=\"zM\" value=\"4\"/>\n+        <string name=\"oS\" value=\"guild\"/>\n+        <string name=\"l0\" value=\"guild\"/>\n+        <string name=\"l1\" value=\"guildSS\"/>\n+        <string name=\"l2\" value=\"10\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"1\">\n+        <int name=\"x\" value=\"197\"/>\n+        <int name=\"y\" value=\"-136\"/>\n+        <int name=\"z\" value=\"0\"/>\n+        <int name=\"zM\" value=\"4\"/>\n+        <string name=\"oS\" value=\"guild\"/>\n+        <string name=\"l0\" value=\"guild\"/>\n+        <string name=\"l1\" value=\"guildSS\"/>\n+        <string name=\"l2\" value=\"11\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"2\">\n+        <int name=\"x\" value=\"200\"/>\n+        <int name=\"y\" value=\"-194\"/>\n+        <int name=\"z\" value=\"1\"/>\n+        <int name=\"zM\" value=\"4\"/>\n+        <string name=\"oS\" value=\"guild\"/>\n+        <string name=\"l0\" value=\"guild\"/>\n+        <string name=\"l1\" value=\"guildSS\"/>\n+        <string name=\"l2\" value=\"12\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"3\">\n+        <int name=\"x\" value=\"197\"/>\n+        <int name=\"y\" value=\"-181\"/>\n+        <int name=\"z\" value=\"3\"/>\n+        <int name=\"zM\" value=\"4\"/>\n+        <string name=\"oS\" value=\"guild\"/>\n+        <string name=\"l0\" value=\"guild\"/>\n+        <string name=\"l1\" value=\"guildSS\"/>\n+        <string name=\"l2\" value=\"13\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"4\">\n+        <int name=\"x\" value=\"203\"/>\n+        <int name=\"y\" value=\"-96\"/>\n+        <int name=\"z\" value=\"4\"/>\n+        <int name=\"zM\" value=\"4\"/>\n+        <string name=\"oS\" value=\"guild\"/>\n+        <string name=\"l0\" value=\"guild\"/>\n+        <string name=\"l1\" value=\"guildSS\"/>\n+        <string name=\"l2\" value=\"14\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"5\">\n+        <int name=\"x\" value=\"204\"/>\n+        <int name=\"y\" value=\"-186\"/>\n+        <int name=\"z\" value=\"5\"/>\n+        <int name=\"zM\" value=\"4\"/>\n+        <string name=\"oS\" value=\"guild\"/>\n+        <string name=\"l0\" value=\"guild\"/>\n+        <string name=\"l1\" value=\"guildSS\"/>\n+        <string name=\"l2\" value=\"15\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+      <imgdir name=\"6\">\n+        <int name=\"x\" value=\"193\"/>\n+        <int name=\"y\" value=\"-154\"/>\n+        <int name=\"z\" value=\"6\"/>\n+        <int name=\"zM\" value=\"4\"/>\n+        <string name=\"oS\" value=\"guild\"/>\n+        <string name=\"l0\" value=\"guild\"/>\n+        <string name=\"l1\" value=\"guildSS\"/>\n+        <string name=\"l2\" value=\"16\"/>\n+        <int name=\"f\" value=\"0\"/>\n+      </imgdir>\n+    </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"4\">\n+    <imgdir name=\"info\">\n+    </imgdir>\n+    <imgdir name=\"obj\">\n+    </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"5\">\n+    <imgdir name=\"info\">\n+    </imgdir>\n+    <imgdir name=\"obj\">\n+    </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"6\">\n+    <imgdir name=\"info\">\n+    </imgdir>\n+    <imgdir name=\"obj\">\n+    </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"7\">\n+    <imgdir name=\"info\">\n+    </imgdir>\n+    <imgdir name=\"obj\">\n+    </imgdir>\n+    <imgdir name=\"tile\">\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"ladderRope\">\n+    <imgdir name=\"1\">\n+      <int name=\"x\" value=\"704\"/>\n+      <int name=\"y1\" value=\"-124\"/>\n+      <int name=\"y2\" value=\"86\"/>\n+      <int name=\"uf\" value=\"1\"/>\n+      <int name=\"page\" value=\"2\"/>\n+      <int name=\"l\" value=\"1\"/>\n+    </imgdir>\n+    <imgdir name=\"2\">\n+      <int name=\"x\" value=\"-306\"/>\n+      <int name=\"y1\" value=\"-124\"/>\n+      <int name=\"y2\" value=\"127\"/>\n+      <int name=\"uf\" value=\"1\"/>\n+      <int name=\"page\" value=\"2\"/>\n+      <int name=\"l\" value=\"1\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"seat\">\n+    <vector name=\"0\" x=\"-177\" y=\"-144\"/>\n+    <vector name=\"1\" x=\"-142\" y=\"-144\"/>\n+    <vector name=\"2\" x=\"-106\" y=\"-144\"/>\n+    <vector name=\"3\" x=\"547\" y=\"-148\"/>\n+    <vector name=\"4\" x=\"582\" y=\"-148\"/>\n+    <vector name=\"5\" x=\"618\" y=\"-148\"/>\n+  </imgdir>\n+  <imgdir name=\"portal\">\n+    <imgdir name=\"0\">\n+      <int name=\"x\" value=\"162\"/>\n+      <int name=\"y\" value=\"98\"/>\n+      <int name=\"pt\" value=\"0\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+      <string name=\"pn\" value=\"sp\"/>\n+    </imgdir>\n+    <imgdir name=\"1\">\n+      <int name=\"x\" value=\"239\"/>\n+      <int name=\"y\" value=\"101\"/>\n+      <int name=\"pt\" value=\"0\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+      <string name=\"pn\" value=\"sp\"/>\n+    </imgdir>\n+    <imgdir name=\"2\">\n+      <int name=\"x\" value=\"576\"/>\n+      <int name=\"y\" value=\"145\"/>\n+      <int name=\"pt\" value=\"8\"/>\n+      <int name=\"tm\" value=\"999999999\"/>\n+      <string name=\"tn\" value=\"\"/>\n+      <string name=\"pn\" value=\"out00\"/>\n+      <int name=\"hideTooltip\" value=\"0\"/>\n+      <int name=\"onlyOnce\" value=\"0\"/>\n+      <string name=\"script\" value=\"rankDeveloperRoom\"/>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"reactor\">\n+  </imgdir>\n+  <imgdir name=\"back\">\n+  </imgdir>\n+  <imgdir name=\"foothold\">\n+    <imgdir name=\"0\">\n+      <imgdir name=\"2\">\n+        <imgdir name=\"1\">\n+          <int name=\"x1\" value=\"-401\"/>\n+          <int name=\"y1\" value=\"-126\"/>\n+          <int name=\"x2\" value=\"31\"/>\n+          <int name=\"y2\" value=\"-126\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"3\">\n+          <int name=\"x1\" value=\"-274\"/>\n+          <int name=\"y1\" value=\"-142\"/>\n+          <int name=\"x2\" value=\"-53\"/>\n+          <int name=\"y2\" value=\"-142\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"32\">\n+          <int name=\"x1\" value=\"17\"/>\n+          <int name=\"y1\" value=\"-141\"/>\n+          <int name=\"x2\" value=\"203\"/>\n+          <int name=\"y2\" value=\"-141\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"36\"/>\n+        </imgdir>\n+        <imgdir name=\"33\">\n+          <int name=\"x1\" value=\"57\"/>\n+          <int name=\"y1\" value=\"-126\"/>\n+          <int name=\"x2\" value=\"212\"/>\n+          <int name=\"y2\" value=\"-126\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"37\"/>\n+        </imgdir>\n+        <imgdir name=\"34\">\n+          <int name=\"x1\" value=\"101\"/>\n+          <int name=\"y1\" value=\"-166\"/>\n+          <int name=\"x2\" value=\"288\"/>\n+          <int name=\"y2\" value=\"-166\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"35\">\n+          <int name=\"x1\" value=\"121\"/>\n+          <int name=\"y1\" value=\"-183\"/>\n+          <int name=\"x2\" value=\"264\"/>\n+          <int name=\"y2\" value=\"-183\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"36\">\n+          <int name=\"x1\" value=\"203\"/>\n+          <int name=\"y1\" value=\"-141\"/>\n+          <int name=\"x2\" value=\"384\"/>\n+          <int name=\"y2\" value=\"-141\"/>\n+          <int name=\"prev\" value=\"32\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"37\">\n+          <int name=\"x1\" value=\"212\"/>\n+          <int name=\"y1\" value=\"-126\"/>\n+          <int name=\"x2\" value=\"348\"/>\n+          <int name=\"y2\" value=\"-126\"/>\n+          <int name=\"prev\" value=\"33\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+      </imgdir>\n+      <imgdir name=\"3\">\n+        <imgdir name=\"42\">\n+          <int name=\"x1\" value=\"360\"/>\n+          <int name=\"y1\" value=\"-126\"/>\n+          <int name=\"x2\" value=\"800\"/>\n+          <int name=\"y2\" value=\"-126\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"51\">\n+          <int name=\"x1\" value=\"452\"/>\n+          <int name=\"y1\" value=\"-142\"/>\n+          <int name=\"x2\" value=\"673\"/>\n+          <int name=\"y2\" value=\"-142\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"52\">\n+          <int name=\"x1\" value=\"520\"/>\n+          <int name=\"y1\" value=\"159\"/>\n+          <int name=\"x2\" value=\"600\"/>\n+          <int name=\"y2\" value=\"159\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"53\">\n+          <int name=\"x1\" value=\"532\"/>\n+          <int name=\"y1\" value=\"146\"/>\n+          <int name=\"x2\" value=\"612\"/>\n+          <int name=\"y2\" value=\"146\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"54\">\n+          <int name=\"x1\" value=\"610\"/>\n+          <int name=\"y1\" value=\"160\"/>\n+          <int name=\"x2\" value=\"667\"/>\n+          <int name=\"y2\" value=\"160\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"55\">\n+          <int name=\"x1\" value=\"620\"/>\n+          <int name=\"y1\" value=\"147\"/>\n+          <int name=\"x2\" value=\"677\"/>\n+          <int name=\"y2\" value=\"147\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"56\">\n+          <int name=\"x1\" value=\"633\"/>\n+          <int name=\"y1\" value=\"134\"/>\n+          <int name=\"x2\" value=\"690\"/>\n+          <int name=\"y2\" value=\"134\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"57\">\n+          <int name=\"x1\" value=\"644\"/>\n+          <int name=\"y1\" value=\"121\"/>\n+          <int name=\"x2\" value=\"701\"/>\n+          <int name=\"y2\" value=\"121\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"58\">\n+          <int name=\"x1\" value=\"655\"/>\n+          <int name=\"y1\" value=\"108\"/>\n+          <int name=\"x2\" value=\"712\"/>\n+          <int name=\"y2\" value=\"108\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"59\">\n+          <int name=\"x1\" value=\"665\"/>\n+          <int name=\"y1\" value=\"95\"/>\n+          <int name=\"x2\" value=\"769\"/>\n+          <int name=\"y2\" value=\"95\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"61\"/>\n+        </imgdir>\n+        <imgdir name=\"60\">\n+          <int name=\"x1\" value=\"769\"/>\n+          <int name=\"y1\" value=\"84\"/>\n+          <int name=\"x2\" value=\"800\"/>\n+          <int name=\"y2\" value=\"84\"/>\n+          <int name=\"prev\" value=\"61\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"61\">\n+          <int name=\"x1\" value=\"769\"/>\n+          <int name=\"y1\" value=\"95\"/>\n+          <int name=\"x2\" value=\"769\"/>\n+          <int name=\"y2\" value=\"84\"/>\n+          <int name=\"prev\" value=\"59\"/>\n+          <int name=\"next\" value=\"60\"/>\n+        </imgdir>\n+      </imgdir>\n+    </imgdir>\n+    <imgdir name=\"2\">\n+      <imgdir name=\"0\">\n+        <imgdir name=\"2\">\n+          <int name=\"x1\" value=\"-401\"/>\n+          <int name=\"y1\" value=\"174\"/>\n+          <int name=\"x2\" value=\"799\"/>\n+          <int name=\"y2\" value=\"174\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"4\">\n+          <int name=\"x1\" value=\"-262\"/>\n+          <int name=\"y1\" value=\"117\"/>\n+          <int name=\"x2\" value=\"-72\"/>\n+          <int name=\"y2\" value=\"117\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"5\">\n+          <int name=\"x1\" value=\"-157\"/>\n+          <int name=\"y1\" value=\"130\"/>\n+          <int name=\"x2\" value=\"-134\"/>\n+          <int name=\"y2\" value=\"130\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"8\"/>\n+        </imgdir>\n+        <imgdir name=\"6\">\n+          <int name=\"x1\" value=\"-148\"/>\n+          <int name=\"y1\" value=\"144\"/>\n+          <int name=\"x2\" value=\"-125\"/>\n+          <int name=\"y2\" value=\"144\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"10\"/>\n+        </imgdir>\n+        <imgdir name=\"7\">\n+          <int name=\"x1\" value=\"-139\"/>\n+          <int name=\"y1\" value=\"158\"/>\n+          <int name=\"x2\" value=\"-116\"/>\n+          <int name=\"y2\" value=\"158\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"12\"/>\n+        </imgdir>\n+        <imgdir name=\"8\">\n+          <int name=\"x1\" value=\"-134\"/>\n+          <int name=\"y1\" value=\"130\"/>\n+          <int name=\"x2\" value=\"-129\"/>\n+          <int name=\"y2\" value=\"131\"/>\n+          <int name=\"prev\" value=\"5\"/>\n+          <int name=\"next\" value=\"9\"/>\n+        </imgdir>\n+        <imgdir name=\"9\">\n+          <int name=\"x1\" value=\"-129\"/>\n+          <int name=\"y1\" value=\"131\"/>\n+          <int name=\"x2\" value=\"-82\"/>\n+          <int name=\"y2\" value=\"131\"/>\n+          <int name=\"prev\" value=\"8\"/>\n+          <int name=\"next\" value=\"14\"/>\n+        </imgdir>\n+        <imgdir name=\"10\">\n+          <int name=\"x1\" value=\"-125\"/>\n+          <int name=\"y1\" value=\"144\"/>\n+          <int name=\"x2\" value=\"-120\"/>\n+          <int name=\"y2\" value=\"145\"/>\n+          <int name=\"prev\" value=\"6\"/>\n+          <int name=\"next\" value=\"11\"/>\n+        </imgdir>\n+        <imgdir name=\"11\">\n+          <int name=\"x1\" value=\"-120\"/>\n+          <int name=\"y1\" value=\"145\"/>\n+          <int name=\"x2\" value=\"-73\"/>\n+          <int name=\"y2\" value=\"145\"/>\n+          <int name=\"prev\" value=\"10\"/>\n+          <int name=\"next\" value=\"16\"/>\n+        </imgdir>\n+        <imgdir name=\"12\">\n+          <int name=\"x1\" value=\"-116\"/>\n+          <int name=\"y1\" value=\"158\"/>\n+          <int name=\"x2\" value=\"-111\"/>\n+          <int name=\"y2\" value=\"159\"/>\n+          <int name=\"prev\" value=\"7\"/>\n+          <int name=\"next\" value=\"13\"/>\n+        </imgdir>\n+        <imgdir name=\"13\">\n+          <int name=\"x1\" value=\"-111\"/>\n+          <int name=\"y1\" value=\"159\"/>\n+          <int name=\"x2\" value=\"-64\"/>\n+          <int name=\"y2\" value=\"159\"/>\n+          <int name=\"prev\" value=\"12\"/>\n+          <int name=\"next\" value=\"19\"/>\n+        </imgdir>\n+        <imgdir name=\"14\">\n+          <int name=\"x1\" value=\"-82\"/>\n+          <int name=\"y1\" value=\"131\"/>\n+          <int name=\"x2\" value=\"-76\"/>\n+          <int name=\"y2\" value=\"130\"/>\n+          <int name=\"prev\" value=\"9\"/>\n+          <int name=\"next\" value=\"15\"/>\n+        </imgdir>\n+        <imgdir name=\"15\">\n+          <int name=\"x1\" value=\"-76\"/>\n+          <int name=\"y1\" value=\"130\"/>\n+          <int name=\"x2\" value=\"-63\"/>\n+          <int name=\"y2\" value=\"130\"/>\n+          <int name=\"prev\" value=\"14\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"16\">\n+          <int name=\"x1\" value=\"-73\"/>\n+          <int name=\"y1\" value=\"145\"/>\n+          <int name=\"x2\" value=\"-67\"/>\n+          <int name=\"y2\" value=\"144\"/>\n+          <int name=\"prev\" value=\"11\"/>\n+          <int name=\"next\" value=\"17\"/>\n+        </imgdir>\n+        <imgdir name=\"17\">\n+          <int name=\"x1\" value=\"-67\"/>\n+          <int name=\"y1\" value=\"144\"/>\n+          <int name=\"x2\" value=\"-54\"/>\n+          <int name=\"y2\" value=\"144\"/>\n+          <int name=\"prev\" value=\"16\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"18\">\n+          <int name=\"x1\" value=\"-64\"/>\n+          <int name=\"y1\" value=\"36\"/>\n+          <int name=\"x2\" value=\"3\"/>\n+          <int name=\"y2\" value=\"36\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"19\">\n+          <int name=\"x1\" value=\"-64\"/>\n+          <int name=\"y1\" value=\"159\"/>\n+          <int name=\"x2\" value=\"-58\"/>\n+          <int name=\"y2\" value=\"158\"/>\n+          <int name=\"prev\" value=\"13\"/>\n+          <int name=\"next\" value=\"22\"/>\n+        </imgdir>\n+        <imgdir name=\"20\">\n+          <int name=\"x1\" value=\"-61\"/>\n+          <int name=\"y1\" value=\"13\"/>\n+          <int name=\"x2\" value=\"-10\"/>\n+          <int name=\"y2\" value=\"13\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"21\">\n+          <int name=\"x1\" value=\"-59\"/>\n+          <int name=\"y1\" value=\"59\"/>\n+          <int name=\"x2\" value=\"7\"/>\n+          <int name=\"y2\" value=\"59\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"22\">\n+          <int name=\"x1\" value=\"-58\"/>\n+          <int name=\"y1\" value=\"158\"/>\n+          <int name=\"x2\" value=\"-45\"/>\n+          <int name=\"y2\" value=\"158\"/>\n+          <int name=\"prev\" value=\"19\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"23\">\n+          <int name=\"x1\" value=\"-57\"/>\n+          <int name=\"y1\" value=\"-10\"/>\n+          <int name=\"x2\" value=\"7\"/>\n+          <int name=\"y2\" value=\"-10\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"24\">\n+          <int name=\"x1\" value=\"-47\"/>\n+          <int name=\"y1\" value=\"-33\"/>\n+          <int name=\"x2\" value=\"15\"/>\n+          <int name=\"y2\" value=\"-33\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"25\">\n+          <int name=\"x1\" value=\"-46\"/>\n+          <int name=\"y1\" value=\"82\"/>\n+          <int name=\"x2\" value=\"14\"/>\n+          <int name=\"y2\" value=\"82\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"26\">\n+          <int name=\"x1\" value=\"-34\"/>\n+          <int name=\"y1\" value=\"-56\"/>\n+          <int name=\"x2\" value=\"26\"/>\n+          <int name=\"y2\" value=\"-56\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"27\">\n+          <int name=\"x1\" value=\"-26\"/>\n+          <int name=\"y1\" value=\"105\"/>\n+          <int name=\"x2\" value=\"29\"/>\n+          <int name=\"y2\" value=\"105\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"28\">\n+          <int name=\"x1\" value=\"-15\"/>\n+          <int name=\"y1\" value=\"-79\"/>\n+          <int name=\"x2\" value=\"43\"/>\n+          <int name=\"y2\" value=\"-79\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"29\">\n+          <int name=\"x1\" value=\"4\"/>\n+          <int name=\"y1\" value=\"128\"/>\n+          <int name=\"x2\" value=\"52\"/>\n+          <int name=\"y2\" value=\"128\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"30\">\n+          <int name=\"x1\" value=\"7\"/>\n+          <int name=\"y1\" value=\"150\"/>\n+          <int name=\"x2\" value=\"64\"/>\n+          <int name=\"y2\" value=\"150\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"31\">\n+          <int name=\"x1\" value=\"12\"/>\n+          <int name=\"y1\" value=\"-102\"/>\n+          <int name=\"x2\" value=\"66\"/>\n+          <int name=\"y2\" value=\"-102\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+      </imgdir>\n+      <imgdir name=\"1\">\n+        <imgdir name=\"38\">\n+          <int name=\"x1\" value=\"332\"/>\n+          <int name=\"y1\" value=\"-102\"/>\n+          <int name=\"x2\" value=\"386\"/>\n+          <int name=\"y2\" value=\"-102\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"39\">\n+          <int name=\"x1\" value=\"334\"/>\n+          <int name=\"y1\" value=\"150\"/>\n+          <int name=\"x2\" value=\"391\"/>\n+          <int name=\"y2\" value=\"150\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"40\">\n+          <int name=\"x1\" value=\"346\"/>\n+          <int name=\"y1\" value=\"128\"/>\n+          <int name=\"x2\" value=\"394\"/>\n+          <int name=\"y2\" value=\"128\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"41\">\n+          <int name=\"x1\" value=\"355\"/>\n+          <int name=\"y1\" value=\"-79\"/>\n+          <int name=\"x2\" value=\"413\"/>\n+          <int name=\"y2\" value=\"-79\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"43\">\n+          <int name=\"x1\" value=\"369\"/>\n+          <int name=\"y1\" value=\"105\"/>\n+          <int name=\"x2\" value=\"424\"/>\n+          <int name=\"y2\" value=\"105\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"44\">\n+          <int name=\"x1\" value=\"372\"/>\n+          <int name=\"y1\" value=\"-56\"/>\n+          <int name=\"x2\" value=\"432\"/>\n+          <int name=\"y2\" value=\"-56\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"45\">\n+          <int name=\"x1\" value=\"383\"/>\n+          <int name=\"y1\" value=\"-33\"/>\n+          <int name=\"x2\" value=\"445\"/>\n+          <int name=\"y2\" value=\"-33\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"46\">\n+          <int name=\"x1\" value=\"384\"/>\n+          <int name=\"y1\" value=\"82\"/>\n+          <int name=\"x2\" value=\"444\"/>\n+          <int name=\"y2\" value=\"82\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"47\">\n+          <int name=\"x1\" value=\"391\"/>\n+          <int name=\"y1\" value=\"-10\"/>\n+          <int name=\"x2\" value=\"455\"/>\n+          <int name=\"y2\" value=\"-10\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"48\">\n+          <int name=\"x1\" value=\"391\"/>\n+          <int name=\"y1\" value=\"59\"/>\n+          <int name=\"x2\" value=\"457\"/>\n+          <int name=\"y2\" value=\"59\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"49\">\n+          <int name=\"x1\" value=\"395\"/>\n+          <int name=\"y1\" value=\"36\"/>\n+          <int name=\"x2\" value=\"462\"/>\n+          <int name=\"y2\" value=\"36\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+        <imgdir name=\"50\">\n+          <int name=\"x1\" value=\"408\"/>\n+          <int name=\"y1\" value=\"13\"/>\n+          <int name=\"x2\" value=\"459\"/>\n+          <int name=\"y2\" value=\"13\"/>\n+          <int name=\"prev\" value=\"0\"/>\n+          <int name=\"next\" value=\"0\"/>\n+        </imgdir>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"life\">\n+    <imgdir name=\"0\">\n+      <string name=\"id\" value=\"9200000\"/>\n+      <int name=\"x\" value=\"458\"/>\n+      <int name=\"y\" value=\"-137\"/>\n+      <int name=\"cy\" value=\"-129\"/>\n+      <int name=\"mobTime\" value=\"0\"/>\n+      <int name=\"rx0\" value=\"438\"/>\n+      <int name=\"rx1\" value=\"478\"/>\n+      <int name=\"f\" value=\"0\"/>\n+      <string name=\"type\" value=\"n\"/>\n+      <int name=\"fh\" value=\"42\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "53a1bdaca1438f51cab9a41081ddf1c33212be73", "filename": "wz/Npc.wz/9901001.img.xml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901001.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901001.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901001.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,7 +1,7 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901001.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"2\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>"}, {"sha": "b306fc4746c769e8c990d905e49d1dcfed20fffe", "filename": "wz/Npc.wz/9901002.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901002.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901002.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901002.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901002.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"3\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "ef1cc1969f7fc213365acebe7e37ac0dadc6e895", "filename": "wz/Npc.wz/9901003.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901003.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901003.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901003.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901003.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"4\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "b0c8864575aadc0f0cf36a1c5c9701db28835f8b", "filename": "wz/Npc.wz/9901004.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901004.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901004.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901004.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901004.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"5\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "beed3e48d9e9d1e08b00514dd954f674195f0ce7", "filename": "wz/Npc.wz/9901005.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901005.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901005.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901005.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901005.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"6\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "af241f8f01f0ad8319a379a850270c03cdb6cca5", "filename": "wz/Npc.wz/9901006.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901006.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901006.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901006.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901006.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"7\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "5b433bc731d86448967446103dbefa96c0cafedd", "filename": "wz/Npc.wz/9901007.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901007.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901007.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901007.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901007.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"8\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "d573eb3c7ffb01083a9e5f61bbd86633b9507b62", "filename": "wz/Npc.wz/9901008.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901008.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901008.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901008.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901008.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"9\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "051f4a0acb789d23bc3783d4b108cf02b5e119c9", "filename": "wz/Npc.wz/9901009.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901009.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901009.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901009.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901009.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"10\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "38d88bbf90cfb49c8db1e1b0eded562a99b59f33", "filename": "wz/Npc.wz/9901010.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901010.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901010.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901010.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901010.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"11\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "ec677829aa0c12b32cde8c5e76f9e9a4c9d448e3", "filename": "wz/Npc.wz/9901011.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901011.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901011.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901011.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901011.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"12\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "92f52e5fb18a68e55492b3fb81088594d1351f64", "filename": "wz/Npc.wz/9901012.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901012.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901012.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901012.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901012.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"13\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "0eeb49377ae09478c3da19ad5a631ee15d6f34b0", "filename": "wz/Npc.wz/9901013.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901013.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901013.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901013.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901013.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"14\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "6ad453fcb8e206f99bf85d32f7ae3d0bda240c5c", "filename": "wz/Npc.wz/9901014.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901014.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901014.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901014.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901014.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"15\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "ee51516393a6da4c318aa336fa74248d7d5ec3a9", "filename": "wz/Npc.wz/9901015.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901015.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901015.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901015.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901015.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"16\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "4c0027fa7bd7f12b9a83b91ac3e4fb4f9398f543", "filename": "wz/Npc.wz/9901016.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901016.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901016.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901016.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901016.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"17\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "b6bbd07f293a82061ae8b2a5a33fb51ee997b545", "filename": "wz/Npc.wz/9901017.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901017.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901017.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901017.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901017.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"18\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "639342e663d7a61247e5a0b2c4de6dd344a8ba83", "filename": "wz/Npc.wz/9901018.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901018.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901018.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901018.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901018.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"19\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "d331146dfe6dceb7cd1d743961d4c8ccca6244b8", "filename": "wz/Npc.wz/9901019.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901019.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901019.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901019.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901019.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"20\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "d82bbcf6a9a2466c9d9d09b3e18fb74f55671186", "filename": "wz/Npc.wz/9901020.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901020.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901020.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901020.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901020.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "80f6ffb6dd123607520b421ba84b81acd1e31b6d", "filename": "wz/Npc.wz/9901021.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901021.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901021.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901021.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901021.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "55b8d7454967f6a04e652da633709cfb2e2ecf88", "filename": "wz/Npc.wz/9901022.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901022.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901022.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901022.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901022.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "1792f80e0c9ec603aa6dbd70eaf4f153d48132d7", "filename": "wz/Npc.wz/9901023.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901023.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901023.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901023.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901023.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "356108cfb1c61e1a16bc1ab1aad3991719c823a5", "filename": "wz/Npc.wz/9901024.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901024.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901024.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901024.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901024.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "b61f7e296773559d09388f3413501f2b7ff79b0c", "filename": "wz/Npc.wz/9901025.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901025.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901025.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901025.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901025.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "875b804ea552d17070c1c4022810c85c4e3baa1f", "filename": "wz/Npc.wz/9901026.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901026.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901026.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901026.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901026.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "245b3a9679a292e68384d5e4f2552a112d39cba2", "filename": "wz/Npc.wz/9901027.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901027.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901027.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901027.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901027.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "c0bc2c4b517fdd90b3f4e4c1dbbdea8b19fc8055", "filename": "wz/Npc.wz/9901028.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901028.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901028.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901028.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901028.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "889afd8ebb416beedcf0c26e735b0eade0f190f8", "filename": "wz/Npc.wz/9901029.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901029.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901029.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901029.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901029.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "94e693b52e734b374703e046f5374094cb2c29de", "filename": "wz/Npc.wz/9901030.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901030.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901030.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901030.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901030.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "c97350125d5e68fe46a05810781ed9c8ca112a4a", "filename": "wz/Npc.wz/9901031.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901031.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901031.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901031.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901031.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "5d4c469525b599e9c46fce336f195888261af15d", "filename": "wz/Npc.wz/9901032.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901032.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901032.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901032.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901032.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "e7bf727e5fe1bafed0d82a9238265ee44172fffe", "filename": "wz/Npc.wz/9901033.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901033.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901033.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901033.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901033.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "f49d97fb4cbf81cb45c45274bfb2be9b0ce6377b", "filename": "wz/Npc.wz/9901034.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901034.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901034.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901034.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901034.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "d69b2371a1873abf30692a3f3cf7d6e35bbb1945", "filename": "wz/Npc.wz/9901035.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901035.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901035.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901035.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901035.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "fec35ed1a998ee95c72e5cadebe90a743b9b6921", "filename": "wz/Npc.wz/9901036.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901036.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901036.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901036.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901036.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "47a3b0f76c60e0f8ebd148f50f6404dfd9668a54", "filename": "wz/Npc.wz/9901037.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901037.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901037.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901037.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901037.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "fbb6172de88cb753f8d2e3f9603efd0b4236dcf5", "filename": "wz/Npc.wz/9901038.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901038.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901038.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901038.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901038.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "50effdb2975940fdaffb70f31d4f5765825e3102", "filename": "wz/Npc.wz/9901039.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901039.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901039.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901039.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901039.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "eb50d06f1ca3108b37d16619ff0906d25edf4617", "filename": "wz/Npc.wz/9901040.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901040.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901040.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901040.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901040.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "45eab47e6e831c774118c8e4744aaad9dd637f5d", "filename": "wz/Npc.wz/9901041.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901041.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901041.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901041.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901041.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "e2543e9c80f2cb39590a85983229b9290832c6f2", "filename": "wz/Npc.wz/9901042.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901042.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901042.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901042.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901042.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "7241a0e79e0548abb911f0258281dc13fd461124", "filename": "wz/Npc.wz/9901043.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901043.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901043.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901043.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901043.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "f93542b85b724122795672dd818bf704871dcbf7", "filename": "wz/Npc.wz/9901044.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901044.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901044.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901044.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901044.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "09ac99cf9350f7af022afec776fe6c8872b8d4f2", "filename": "wz/Npc.wz/9901045.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901045.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901045.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901045.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901045.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "bc2375f770fb279cae6aa1f32d441e5159a99f4d", "filename": "wz/Npc.wz/9901046.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901046.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901046.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901046.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901046.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "d56c2cd754e57196a5540a484a0df1b80657b501", "filename": "wz/Npc.wz/9901047.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901047.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901047.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901047.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901047.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "c4c617b9bb223992f51a451d619b32dce5ccd386", "filename": "wz/Npc.wz/9901048.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901048.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901048.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901048.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901048.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "a2e9e9b323efcabf1536eb9977f387073b61c6d1", "filename": "wz/Npc.wz/9901049.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901049.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901049.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901049.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901049.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "9970227778615f7cf8e2c0c32a3c353bff9228ce", "filename": "wz/Npc.wz/9901050.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901050.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901050.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901050.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901050.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "8ec8dd5647ab68e1e2ffc99fb5185e6e3e0bb6f9", "filename": "wz/Npc.wz/9901051.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901051.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901051.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901051.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901051.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "8ba244d6425fceb8c3caf3bba816652929b7faf8", "filename": "wz/Npc.wz/9901052.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901052.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901052.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901052.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901052.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "34a33c44dc418722d072936faf6a3846ff7e9b3e", "filename": "wz/Npc.wz/9901053.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901053.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901053.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901053.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901053.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "56e13201a3bd2032a9d0736f24363b64016e5df2", "filename": "wz/Npc.wz/9901054.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901054.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901054.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901054.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901054.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "47b24d5096a7c9b219474f89b91ae9d4fdafc143", "filename": "wz/Npc.wz/9901055.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901055.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901055.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901055.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901055.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "73f863f95c7fe4a993fe578c58ce913def623ae3", "filename": "wz/Npc.wz/9901056.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901056.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901056.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901056.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901056.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "38e0c18c6ed141ce7d381cb00c238cffe725ddad", "filename": "wz/Npc.wz/9901057.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901057.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901057.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901057.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901057.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "8bf02a7d932d707b372c35bcf30f9342e531d0e6", "filename": "wz/Npc.wz/9901058.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901058.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901058.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901058.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901058.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "686be9000753b5c2111e32aee670c957c2631dc9", "filename": "wz/Npc.wz/9901059.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901059.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901059.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901059.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901059.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "392dc2dd48cec86f9b10d6d530bc27d3f495e4f4", "filename": "wz/Npc.wz/9901060.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901060.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901060.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901060.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901060.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "299d914eba2a4b3f9757bdd5d44aff562decdc98", "filename": "wz/Npc.wz/9901061.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901061.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901061.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901061.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901061.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "e1ee29e22edebbd1bee64643988b5f1e7ceba73d", "filename": "wz/Npc.wz/9901062.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901062.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901062.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901062.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901062.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "676bfb93323ef5f49b487b861c2fffa635225b27", "filename": "wz/Npc.wz/9901063.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901063.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901063.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901063.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901063.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "144d3fe63a8ee347f66deff96e39cc9cb45b42d3", "filename": "wz/Npc.wz/9901064.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901064.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901064.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901064.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901064.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "c14781e3b3507b572aad5375ee60f0a436a1e543", "filename": "wz/Npc.wz/9901065.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901065.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901065.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901065.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901065.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "9dd115e34efd79b33354fcdbda49f5374492f399", "filename": "wz/Npc.wz/9901066.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901066.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901066.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901066.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901066.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "9932ce9861e6b7d96d59e7b997f1fd3f071fb92e", "filename": "wz/Npc.wz/9901067.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901067.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901067.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901067.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901067.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "f7f4781f80536409a639535de0d617ce868f318b", "filename": "wz/Npc.wz/9901068.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901068.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901068.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901068.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901068.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "301238f629f84f930e16098d29a44dca4c292a11", "filename": "wz/Npc.wz/9901069.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901069.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901069.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901069.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901069.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "a417ffd74be15fcc47c2c29bdcb040770cef977a", "filename": "wz/Npc.wz/9901070.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901070.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901070.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901070.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901070.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "5d015c04a8708b481cca63f6af3992daca3d48b4", "filename": "wz/Npc.wz/9901071.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901071.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901071.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901071.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901071.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "ce732ae306fc9d8eb04047133bc091cebca18517", "filename": "wz/Npc.wz/9901072.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901072.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901072.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901072.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901072.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "97ef8a4be265d4b4c88eb07a7b56f6a1717684ea", "filename": "wz/Npc.wz/9901073.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901073.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901073.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901073.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901073.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "910a30391cf1151ad3127f853080d62947d31d71", "filename": "wz/Npc.wz/9901074.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901074.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901074.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901074.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901074.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "5078fe2dbcfb9edc5c2004843c6425e1273f0bd0", "filename": "wz/Npc.wz/9901075.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901075.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901075.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901075.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901075.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "0e73df083abb13c613e7aa921db30a5a4289d73e", "filename": "wz/Npc.wz/9901076.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901076.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901076.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901076.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901076.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "2505a78b7778dde103a2d90c7ff89a6aacf28e7f", "filename": "wz/Npc.wz/9901077.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901077.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901077.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901077.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901077.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "f515417549d79919cd01dab45a516dc8647dd776", "filename": "wz/Npc.wz/9901078.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901078.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901078.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901078.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901078.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "4ab6087fdea7415000db891e0b87dbacf21634ee", "filename": "wz/Npc.wz/9901079.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901079.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901079.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901079.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901079.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "f04453232ff955ea20d34e6187647ecdc24fa201", "filename": "wz/Npc.wz/9901080.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901080.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901080.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901080.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901080.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "b9d7685cae459897b08cfd4a7fea785400c84099", "filename": "wz/Npc.wz/9901081.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901081.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901081.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901081.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901081.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "9e6ec6496960a5161b64161f8f38dd66ccfe43f0", "filename": "wz/Npc.wz/9901082.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901082.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901082.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901082.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901082.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "58db15c65d285e0c63336207f6f8b3b2a6d9eb4a", "filename": "wz/Npc.wz/9901083.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901083.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901083.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901083.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901083.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "03ec9b94952d7bbd49d45eabf3cbadfa1a7eac2c", "filename": "wz/Npc.wz/9901084.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901084.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901084.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901084.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901084.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "0f208c1fd76cbed9eb23489e804bcf091d7f509b", "filename": "wz/Npc.wz/9901085.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901085.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901085.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901085.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901085.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "7bfbf6bf66d39d7e2e546dd38bad8b2871a22027", "filename": "wz/Npc.wz/9901086.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901086.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901086.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901086.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901086.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "ed297b6acb7cc26185a84cff825adfd48a538d43", "filename": "wz/Npc.wz/9901087.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901087.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901087.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901087.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901087.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "5be8445410c7c8ecdd09809023aba2d88e60610c", "filename": "wz/Npc.wz/9901088.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901088.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901088.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901088.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901088.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "45eb9d9c7df4297f49bc7b23616ad7db7b955b6c", "filename": "wz/Npc.wz/9901089.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901089.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901089.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901089.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901089.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "527425fe8f43e929002b909e0f083900b11d8fb8", "filename": "wz/Npc.wz/9901090.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901090.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901090.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901090.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901090.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "0a8c43192fefbaef610318503c58f5afe8c6548b", "filename": "wz/Npc.wz/9901091.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901091.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901091.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901091.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901091.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "1fbeb7acff44ceb432e1615e7d66c8c44c0c0a2a", "filename": "wz/Npc.wz/9901092.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901092.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901092.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901092.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901092.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "0bb7cb9c7c9efaed631846afd55feaa738599d3a", "filename": "wz/Npc.wz/9901093.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901093.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901093.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901093.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901093.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "ff2f77e07c8a5833411d73f66d09f6697af61cae", "filename": "wz/Npc.wz/9901094.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901094.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901094.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901094.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901094.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "559652c2d5c15a5906d3c6033fa36fa29331bf8e", "filename": "wz/Npc.wz/9901095.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901095.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901095.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901095.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901095.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "e304a94715230fcbcdda2dbd4a5e00d5dec5329f", "filename": "wz/Npc.wz/9901096.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901096.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901096.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901096.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901096.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "18aa97d633770417993b900c38c2b838a65c8b40", "filename": "wz/Npc.wz/9901097.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901097.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901097.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901097.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901097.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "e90e65359cfea8389c37f3a1dbac05b64c0ed850", "filename": "wz/Npc.wz/9901098.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901098.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901098.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901098.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901098.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "15a673c64228c6664fb195d5cd54086082b7fa70", "filename": "wz/Npc.wz/9901099.img.xml", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901099.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901099.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901099.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n+<imgdir name=\"9901099.img\">\n+  <imgdir name=\"info\">\n+    <int name=\"imitate\" value=\"1\"/>\n+    <int name=\"hideName\" value=\"1\"/>\n+    <int name=\"dcLeft\" value=\"-30\"/>\n+    <int name=\"dcRight\" value=\"30\"/>\n+    <int name=\"dcTop\" value=\"-60\"/>\n+    <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+    <imgdir name=\"script\">\n+      <imgdir name=\"0\">\n+        <string name=\"script\" value=\"rank_user\"/>\n+      </imgdir>\n+    </imgdir>\n+  </imgdir>\n+  <imgdir name=\"stand\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n+  </imgdir>\n+  <imgdir name=\"say\">\n+    <canvas name=\"0\" width=\"1\" height=\"1\">\n+      <vector name=\"origin\" x=\"0\" y=\"0\"/>\n+    </canvas>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n+  </imgdir>\n+</imgdir>"}, {"sha": "e56fed72d787a3cf7eb283163ba1dd29434f78f1", "filename": "wz/Npc.wz/9901100.img.xml", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901100.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901100.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901100.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -7,20 +7,21 @@\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "5a0ae11d7c1945dbc8f38df8227d92bf59d77a81", "filename": "wz/Npc.wz/9901101.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901101.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901101.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901101.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901101.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"2\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "e9df91cdc8622163a5d826e80bc6fba642937255", "filename": "wz/Npc.wz/9901102.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901102.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901102.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901102.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901102.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"3\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "6b9d34a35ad0fd37d6fad49519ef26d292a53eaf", "filename": "wz/Npc.wz/9901103.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901103.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901103.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901103.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901103.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"4\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "4f95496a04fd9df8a974987ac7c552438824dbab", "filename": "wz/Npc.wz/9901104.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901104.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901104.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901104.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901104.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"5\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "70402083ca42ef312c360815bfe3de1a6bcc4b80", "filename": "wz/Npc.wz/9901105.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901105.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901105.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901105.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901105.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"6\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "a5a5950556d676642f7c0b11e0b34ef518c71c11", "filename": "wz/Npc.wz/9901106.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901106.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901106.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901106.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901106.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"7\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "ad58b826ef0d32de0e3f2b9fc4c34e068f8b3fc0", "filename": "wz/Npc.wz/9901107.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901107.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901107.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901107.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901107.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"8\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "c4699718c7e1768bc7c2fd85f67a51f2aab11d94", "filename": "wz/Npc.wz/9901108.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901108.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901108.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901108.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901108.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"9\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "abf4c25fc52b3095fe48c6023dc2e46e12b3279b", "filename": "wz/Npc.wz/9901109.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901109.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901109.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901109.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901109.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"10\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "61eab1f95ff997d658e27864c59472591dfdbf39", "filename": "wz/Npc.wz/9901110.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901110.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901110.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901110.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901110.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"11\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "74458234c53011046b789dac167c72f81bbb0b56", "filename": "wz/Npc.wz/9901111.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901111.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901111.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901111.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901111.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"12\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "7bc191d8c26c38c61ff80c7822c1fb0f4e29f725", "filename": "wz/Npc.wz/9901112.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901112.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901112.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901112.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901112.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"13\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "56de564c8f348be692463df51d2aa11ea10d90f1", "filename": "wz/Npc.wz/9901113.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901113.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901113.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901113.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901113.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"14\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "c000b96e8632eda460a1136009d892999d57d5f6", "filename": "wz/Npc.wz/9901114.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901114.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901114.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901114.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901114.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"15\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "f8d1f7bffa7b5adf383bab0069b8dc40b84d9d53", "filename": "wz/Npc.wz/9901115.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901115.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901115.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901115.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901115.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"16\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "3220d90c7c23cbc290e78f7c964f03dab813ce5a", "filename": "wz/Npc.wz/9901116.img.xml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901116.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901116.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901116.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31", "patch": "@@ -1,26 +1,27 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n <imgdir name=\"9901116.img\">\n   <imgdir name=\"info\">\n-    <int name=\"imitate\" value=\"17\"/>\n+    <int name=\"imitate\" value=\"1\"/>\n     <int name=\"hideName\" value=\"1\"/>\n     <int name=\"dcLeft\" value=\"-30\"/>\n     <int name=\"dcRight\" value=\"30\"/>\n     <int name=\"dcTop\" value=\"-60\"/>\n     <int name=\"dcBottom\" value=\"0\"/>\n+    <imgdir name=\"speak\">\n+      <string name=\"0\" value=\"n0\"/>\n+      <string name=\"1\" value=\"n1\"/>\n+    </imgdir>\n     <imgdir name=\"script\">\n       <imgdir name=\"0\">\n         <string name=\"script\" value=\"rank_user\"/>\n       </imgdir>\n     </imgdir>\n-    <imgdir name=\"speak\">\n-      <string name=\"0\" value=\"n0\"/>\n-      <string name=\"1\" value=\"n1\"/>\n-    </imgdir>\n   </imgdir>\n   <imgdir name=\"stand\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">\n       <vector name=\"origin\" x=\"0\" y=\"0\"/>\n     </canvas>\n+    <int name=\"delay\" value=\"7000\"/>\n   </imgdir>\n   <imgdir name=\"say\">\n     <canvas name=\"0\" width=\"1\" height=\"1\">"}, {"sha": "04bff38aa12c7a5844906e9ad9fdff21c149f714", "filename": "wz/Npc.wz/9901117.img.xml", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901117.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901117.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901117.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "f21ab5a7bde8b6c0703192a8c47a58377faaaa17", "filename": "wz/Npc.wz/9901118.img.xml", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901118.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901118.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901118.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "6eeafbdea55baa73f475b715d0603cf6478524da", "filename": "wz/Npc.wz/9901119.img.xml", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901119.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901119.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901119.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "3349c2f9025a4ee15583cd9ae2d6c8e06cc421b6", "filename": "wz/Npc.wz/9901120.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901120.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901120.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901120.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "13d8c2039af2ee1eb62be383b280046cb146b337", "filename": "wz/Npc.wz/9901121.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901121.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901121.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901121.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "fedea27205a0d8bb2676bdc6887615cebd1f88df", "filename": "wz/Npc.wz/9901122.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901122.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901122.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901122.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "0dba03e401db61eed36a3c5b255d8bc1f20c1e4a", "filename": "wz/Npc.wz/9901123.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901123.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901123.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901123.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "0a9fb59db8bb092c8ad0a22a4fcb7a251e7383b6", "filename": "wz/Npc.wz/9901124.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901124.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901124.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901124.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "7c1fd82de882fb3ff2fb2cd9055a1252c2a08692", "filename": "wz/Npc.wz/9901125.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901125.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901125.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901125.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "dfc5b57be3fa39d67426e8fd9a5c5ecf5e54315c", "filename": "wz/Npc.wz/9901126.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901126.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901126.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901126.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "b87b480930530c2b588c286cc0ccd1fe157ee899", "filename": "wz/Npc.wz/9901127.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901127.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901127.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901127.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "c536f9296ac2f6f170ea515c1ced94d779039e39", "filename": "wz/Npc.wz/9901128.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901128.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901128.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901128.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "2d2750ae67cdf995b6fad702719ec7130903d436", "filename": "wz/Npc.wz/9901129.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901129.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901129.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901129.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "079398b73f0530d0b66659faded3639744cdb0c6", "filename": "wz/Npc.wz/9901130.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901130.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901130.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901130.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "f9a5de915166030638d600735eaa2b51be674b60", "filename": "wz/Npc.wz/9901131.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901131.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901131.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901131.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "f23ec4ec59df591fc4f86ba9c3280c124ecea029", "filename": "wz/Npc.wz/9901132.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901132.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901132.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901132.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "b0b8467967816bb2f35bf6619307d70ad6b0a51e", "filename": "wz/Npc.wz/9901133.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901133.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901133.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901133.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "8ed843b7dbd9ab1b1c262f38b1f63c50e9059aa6", "filename": "wz/Npc.wz/9901134.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901134.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901134.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901134.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "2a87e6a17fb564842f0507942e416b6bc767b02a", "filename": "wz/Npc.wz/9901135.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901135.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901135.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901135.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "139f06bbe9c498985b8cc1d4922b47fc59e3b357", "filename": "wz/Npc.wz/9901136.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901136.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901136.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901136.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "ccc3fbb306db4ae59b8bec01a8f998e32a79c436", "filename": "wz/Npc.wz/9901137.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901137.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901137.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901137.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "e3a625bc1680996aa8eb6566a998e38267c98b0f", "filename": "wz/Npc.wz/9901138.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901138.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901138.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901138.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "2e40e547b01b89defa71103054d163c779967aaf", "filename": "wz/Npc.wz/9901139.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901139.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901139.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901139.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "2b0a7c71519e61a420a63f0489a2acc085f3456d", "filename": "wz/Npc.wz/9901140.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901140.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901140.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901140.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "239dfb9eb443dd400c0d5eaaeb360adc7b03065a", "filename": "wz/Npc.wz/9901141.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901141.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901141.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901141.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "87de7ad9ef834c4b58accf1eab59ecc22ec71091", "filename": "wz/Npc.wz/9901142.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901142.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901142.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901142.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "673c82eb597ed94f86e57c3ad0dffc7e07be9c84", "filename": "wz/Npc.wz/9901143.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901143.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901143.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901143.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "a5adb971d572644c3bcee5f7a5a278d6007f98aa", "filename": "wz/Npc.wz/9901144.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901144.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901144.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901144.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "1944fbff74259cbdeb377fd0ba5f9aac34702ee2", "filename": "wz/Npc.wz/9901145.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901145.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901145.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901145.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "f206bde55e9f0166222540ef1c80c6a87ddae234", "filename": "wz/Npc.wz/9901146.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901146.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901146.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901146.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "3c09b4fbd50c7258cf149876dd80fe37eb17853d", "filename": "wz/Npc.wz/9901147.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901147.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901147.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901147.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "96d888e981542c555ce3e06cf787e9f7a81fa104", "filename": "wz/Npc.wz/9901148.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901148.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901148.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901148.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "4e77528c080d86bd1489987583031eb482c3fd52", "filename": "wz/Npc.wz/9901149.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901149.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901149.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901149.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "0e00e3b9fc68da2f9d58756ef97d86420df9143f", "filename": "wz/Npc.wz/9901150.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901150.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901150.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901150.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "a5ae668670769c7bb88eeac78b07e2f5aaeb2082", "filename": "wz/Npc.wz/9901151.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901151.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901151.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901151.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "d72d0b427512fa77c6c422f634be5990f902b386", "filename": "wz/Npc.wz/9901152.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901152.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901152.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901152.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "dba67e4c7b8587cabdce2a997849f6ec5ab63260", "filename": "wz/Npc.wz/9901153.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901153.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901153.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901153.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "c124d17f74867e8ea2b2a4cf415fb92aa5c33efb", "filename": "wz/Npc.wz/9901154.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901154.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901154.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901154.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "40c358f786f188b98346e6baa3422faff7b77fc5", "filename": "wz/Npc.wz/9901155.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901155.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901155.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901155.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "8ec1e69599d5c680e9a0a529a508481d94da1f4d", "filename": "wz/Npc.wz/9901156.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901156.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901156.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901156.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "c141b6d5882160de2ccbe0635e0f95fc1aac231a", "filename": "wz/Npc.wz/9901157.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901157.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901157.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901157.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}, {"sha": "a6af86322f07620330cb7c8e6cb39c6d48d9c3a1", "filename": "wz/Npc.wz/9901158.img.xml", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901158.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/fca7b2adaace7548209b8e5e1cdaff83b00f3c31/wz/Npc.wz/9901158.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Npc.wz/9901158.img.xml?ref=fca7b2adaace7548209b8e5e1cdaff83b00f3c31"}]}]},
