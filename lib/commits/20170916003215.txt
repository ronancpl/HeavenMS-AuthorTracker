{"fetchDate": "2019-12-19", "content": [{"sha": "1ffcf47f797554e7571daf965be7bcea9aee2f8e", "node_id": "MDY6Q29tbWl0NDUwODIwMjM6MWZmY2Y0N2Y3OTc1NTRlNzU3MWRhZjk2NWJlN2JjZWE5YWVlMmY4ZQ==", "commit": {"author": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2017-09-16T00:32:15Z"}, "committer": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2017-09-16T00:32:15Z"}, "message": "AmoriaPQ + ItemSort fix + revamped GMShop\n\nImplemented AmoriaPQ. Fixed an issue with ItemIdSortHandler where empty\nvectors given to the sorting module would cause an exception thrown,\nwiping players inventory items. Thanks to Vcoc, revamped shop data for\nGMShop (shop id 1337). Mount quest for explorers now uses event script.", "tree": {"sha": "e87b422600641bbf533afaa1139ce1feb8cc1e1e", "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/trees/e87b422600641bbf533afaa1139ce1feb8cc1e1e"}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/commits/1ffcf47f797554e7571daf965be7bcea9aee2f8e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/1ffcf47f797554e7571daf965be7bcea9aee2f8e", "html_url": "https://github.com/ronancpl/HeavenMS/commit/1ffcf47f797554e7571daf965be7bcea9aee2f8e", "comments_url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/1ffcf47f797554e7571daf965be7bcea9aee2f8e/comments", "author": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6abbc2947e6129b666e50655379b5c05e2293b9e", "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/6abbc2947e6129b666e50655379b5c05e2293b9e", "html_url": "https://github.com/ronancpl/HeavenMS/commit/6abbc2947e6129b666e50655379b5c05e2293b9e"}], "stats": {"total": 90922, "additions": 46811, "deletions": 44111}, "files": [{"sha": "7aac02946fa071acda945b5cc4309b93979c09b7", "filename": "build/built-jar.properties", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/built-jar.properties", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/built-jar.properties", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/built-jar.properties?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -1,4 +1,4 @@\n-#Mon, 11 Sep 2017 16:18:43 -0300\n+#Fri, 15 Sep 2017 16:29:27 -0300\n \n \n C\\:\\\\Nexon\\\\MapleSolaxia\\\\MapleSolaxiaV2="}, {"sha": "caf87a4cd0788f99728fb6dc5cee94b9a15fa504", "filename": "build/classes/client/MapleCharacter$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$1.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "8c32c62936c4ce3e6e65cc0f03918551fad4bff4", "filename": "build/classes/client/MapleCharacter$10.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$10.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$10.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$10.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "7266dde9ae767e72d69ea9e9077ba272902b7b19", "filename": "build/classes/client/MapleCharacter$11.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$11.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$11.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$11.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "a46244c6f8bacacbe45e23e0e7081d2926794f55", "filename": "build/classes/client/MapleCharacter$12.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$12.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$12.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$12.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "d1adf7cdfe56bbbcfb5aa7a7d97f963d064d9d8e", "filename": "build/classes/client/MapleCharacter$13.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$13.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$13.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$13.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "874a61d71013d942e87906c062b3d53e7722f5f9", "filename": "build/classes/client/MapleCharacter$14.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$14.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$14.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$14.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "96b29cacec815239e3fbea74ae632cf2176ac9e0", "filename": "build/classes/client/MapleCharacter$15.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$15.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$15.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$15.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "170c84834c7fc57751c6c38ad50c64d27ac62868", "filename": "build/classes/client/MapleCharacter$16.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$16.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$16.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$16.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "7d4ae145029b4a30ec6aec9d0209bd7b613cb3ba", "filename": "build/classes/client/MapleCharacter$17.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$17.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$17.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$17.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "42db08cbac8ed1658e6b69c3af4395f668d3c7bd", "filename": "build/classes/client/MapleCharacter$18.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$18.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$18.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$18.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "bd776086cce57be1b8aa426539d79e67c452fdce", "filename": "build/classes/client/MapleCharacter$19.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$19.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$19.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$19.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "d5dfbb8d00fde5371298b221a6fdb996bfa59375", "filename": "build/classes/client/MapleCharacter$2.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$2.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$2.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$2.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "ff78325b7954810619d6fe37a83b523cd4610a35", "filename": "build/classes/client/MapleCharacter$3.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$3.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$3.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$3.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "cf9617d27bb887dec10107587a0ce4796e0a3444", "filename": "build/classes/client/MapleCharacter$4.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$4.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$4.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$4.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "0b4717dcd1e9143f85a5072f2a7bf447fcadc13a", "filename": "build/classes/client/MapleCharacter$5.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$5.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$5.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$5.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "8a47bae1460857f6b2a56543a1629fc59f760e92", "filename": "build/classes/client/MapleCharacter$6.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$6.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$6.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$6.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "73c3c5bc009d2a0c8a7163078fc67b6596b77d42", "filename": "build/classes/client/MapleCharacter$7.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$7.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$7.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$7.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "0ef2e678ffc1264e99b900edab434d97bfd22f1e", "filename": "build/classes/client/MapleCharacter$8.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$8.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$8.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$8.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "91c2d5d19b35832b9a1e98c36caea814f619be6d", "filename": "build/classes/client/MapleCharacter$9.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$9.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$9.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$9.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "4c50e4828dd9af35902e25f5ec6645fddde4300e", "filename": "build/classes/client/MapleCharacter$CancelCooldownAction.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$CancelCooldownAction.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$CancelCooldownAction.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$CancelCooldownAction.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "1497a01a750670bf7428aadea4366bae9a6afd31", "filename": "build/classes/client/MapleCharacter$FameStatus.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$FameStatus.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$FameStatus.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$FameStatus.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "0d38713385b2b741796dba7e92c348fa45a63974", "filename": "build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "b046e52048ecaf4bb27749056dc026532266a2a2", "filename": "build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "68cd2a2e25a76efdbd66e0a28c5def9696b98f88", "filename": "build/classes/client/MapleCharacter$SkillEntry.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$SkillEntry.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter$SkillEntry.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$SkillEntry.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "30fd6aeac2924925cf040b0ae04ddf7f8dee04e4", "filename": "build/classes/client/MapleCharacter.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleCharacter.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "393e6c9339e0c90980daaa7368be64572f14d1d0", "filename": "build/classes/client/MapleClient.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleClient.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/MapleClient.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleClient.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "5edc72f238dcdffeec36e6fea441eed35ee69c5a", "filename": "build/classes/client/command/Commands$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/command/Commands$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/command/Commands$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/command/Commands$1.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "06c37163dd2e901a7d59970bb1630e079e885dc3", "filename": "build/classes/client/command/Commands.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/command/Commands.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/client/command/Commands.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/command/Commands.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "a5be0a3d27792046c89136731fcc0fc0d544b50f", "filename": "build/classes/constants/ServerConstants.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/constants/ServerConstants.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/constants/ServerConstants.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/constants/ServerConstants.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "4e156fea022c0d94be98729f17eeec0876f34e38", "filename": "build/classes/constants/skills/Aran.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/constants/skills/Aran.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/constants/skills/Aran.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/constants/skills/Aran.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "7a133f264957001c5b3b08818620c9ff620c1c34", "filename": "build/classes/net/server/channel/Channel$respawnMaps.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/net/server/channel/Channel$respawnMaps.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/net/server/channel/Channel$respawnMaps.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/Channel$respawnMaps.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "d9423de1c8685cfd72338a908297eabb91be91aa", "filename": "build/classes/net/server/channel/handlers/AutoAssignHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/net/server/channel/handlers/AutoAssignHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/net/server/channel/handlers/AutoAssignHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/AutoAssignHandler.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "700eb42c05bd8c73ba464176bdda294f571a81c2", "filename": "build/classes/net/server/channel/handlers/MobDamageMobFriendlyHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/net/server/channel/handlers/MobDamageMobFriendlyHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/net/server/channel/handlers/MobDamageMobFriendlyHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/MobDamageMobFriendlyHandler.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "22af6e471ef8eecf69556b8caf07213d35da1f1e", "filename": "build/classes/net/server/channel/handlers/PairedQuicksort.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/net/server/channel/handlers/PairedQuicksort.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/net/server/channel/handlers/PairedQuicksort.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/PairedQuicksort.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "07cb375fe2837f1bbfa9ec67df03e688ef1d124a", "filename": "build/classes/net/server/channel/handlers/SpecialMoveHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/net/server/channel/handlers/SpecialMoveHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/net/server/channel/handlers/SpecialMoveHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/SpecialMoveHandler.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "a928864109c23022145aa3657da94ba200417ebd", "filename": "build/classes/scripting/event/EventInstanceManager.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/scripting/event/EventInstanceManager.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/scripting/event/EventInstanceManager.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/scripting/event/EventInstanceManager.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "f3a4d99ac84dd3e69e60bc9dd32bbf1ba20be142", "filename": "build/classes/server/MapleItemInformationProvider$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/server/MapleItemInformationProvider$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/server/MapleItemInformationProvider$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleItemInformationProvider$1.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "dfa17dd5b4a4d257435ff39c634dfbab3bc0e2b6", "filename": "build/classes/server/MapleItemInformationProvider$RewardItem.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/server/MapleItemInformationProvider$RewardItem.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/server/MapleItemInformationProvider$RewardItem.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleItemInformationProvider$RewardItem.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "278b10a825e4e4f4359e8894b3d116dd28036ff1", "filename": "build/classes/server/MapleItemInformationProvider$scriptedItem.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/server/MapleItemInformationProvider$scriptedItem.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/server/MapleItemInformationProvider$scriptedItem.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleItemInformationProvider$scriptedItem.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "6f8ffb34117d5d0660d13598ffcec637378e2dd5", "filename": "build/classes/server/MapleItemInformationProvider.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/server/MapleItemInformationProvider.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/server/MapleItemInformationProvider.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleItemInformationProvider.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "bf69df514920ad463b9da2361af5780db22cc000", "filename": "build/classes/server/maps/MapleMap$5.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/server/maps/MapleMap$5.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/server/maps/MapleMap$5.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap$5.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "3c91a897397a9749ee6b6744b5aa4d0501ff3586", "filename": "build/classes/server/maps/MapleMap.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/server/maps/MapleMap.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/build/classes/server/maps/MapleMap.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/MapleMap.class?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "0a64f0f73a75d2cd21bcfe009cc228b8c6fd9650", "filename": "dist/MapleSolaxia.jar", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/dist/MapleSolaxia.jar", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/dist/MapleSolaxia.jar", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/dist/MapleSolaxia.jar?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "556078e9dfa8cea3143e9afa8620a64ea8f1f0dd", "filename": "docs/feature_list.txt", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/docs/feature_list.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/docs/feature_list.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/feature_list.txt?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -6,6 +6,7 @@ Vcoc - Freelance Developer\n ---------------------------\n DISCLAIMER:\n ---------------------------\n+\n This is NOT intended to be a PURE v83 MapleStory server emulator (acting\n under the clean WZ files, provided by Nexon/Wizet). There has been provided\n a whole array of edited WZ on the Drive to be used for this server. Although\n@@ -17,7 +18,7 @@ Feature list:\n ---------------------------\n \n PQs:\n-* HPQ/KPQ/LPQ/LMPQ/OPQ/EllinPQ/PiratePQ/MagatiaPQ/HorntailPQ 100%.\n+* HPQ/KPQ/LPQ/LMPQ/OPQ/EllinPQ/PiratePQ/MagatiaPQ/HorntailPQ/AmoriaPQ 100%.\n * CWKPQ as Expedition-based event 100%.\n * Expeditions: Scarga/Horntail/Showa/Zakum/Pinkbean 100%.\n * GuildPQ 100% + Guild queue with multi-lobby systems available.\n@@ -46,6 +47,7 @@ PQ potentials:\n * Lobby system - Multiple PQ instances on same channel.\n * Expedition system - Multiples parties can attempt on a same instance (lobbies and expeds are mutually-exclusive).\n * Guild queue system - Guilds can register themselves on a queue for the GPQ.\n+* EIM Pool system - After the first instance setup, next event instances are loaded beforehand and set on a pooling queue, optimizing future loadouts.\n \n Server potentials:\n * Multi-worlds 100%.\n@@ -64,6 +66,9 @@ Server potentials:\n * Custom jail system (needs provided custom wz).\n * Delete Character 100% (requires ENABLE_PIC activated).\n * Boats, elevator and other travelling mechanics fully working.\n+* Vega's spell.\n+* Pet item ignore.\n+* Autosaver (periodically saves on DB current state of every player in-game).\n \n Admin/GM commands:\n * Server commands layered by GM levels."}, {"sha": "bec6bce3bf44d7b7366cd2194b945b451099a94d", "filename": "docs/mychanges_ptbr.txt", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/docs/mychanges_ptbr.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/docs/mychanges_ptbr.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mychanges_ptbr.txt?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -527,4 +527,11 @@ Protegido contra acesso concorrente classes MonsterBook e MapleInventory.\n Nova feature: autosaver.\n \n 11 Setembro 2017,\n-Consertado pet ignore n\ufffdo recuperando dados dos pets em alguns casos.\n\\ No newline at end of file\n+Consertado pet ignore n\ufffdo recuperando dados dos pets em alguns casos.\n+\n+12 Setembro 2017,\n+Explorer mount quest como evento, com timeout e expulsa o player se o hog morre.\n+\n+14 - 15 Setembro 2017,\n+Adicionado AmoriaPQ.\n+Consertado um problema em Inventory Sort que lan\ufffdava exce\ufffd\ufffdo caso tivesse que ordenar vetores vazios.\n\\ No newline at end of file"}, {"sha": "2847e1a4b3d1c3473dbe9ae74730a7c41a5e1c1e", "filename": "handbook/Skill.txt", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/handbook/Skill.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/handbook/Skill.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/handbook/Skill.txt?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -374,36 +374,36 @@\n 13101003 - Soul Arrow - [Master Level : 20]\\nTemporarily allows the character to fire crossbow arrows without using up the arrows. It  only applies when the crossbow is equipped in hand.\\nRequired Skill : #c At least Level 5 on Bow Booster  #\n 13100004 - Thrust - [Master Level : 20]\\nEnhances Speed.\n 13101005 - Storm Break - [Master Level : 20]\\nCast Damage to monsters in a close distance and Knock-back to far away.\n-13101006 - Wind Walk - [Master Level : 10]\\nTemporarily hides one\ufffds self from the monsters. Attacking an opponent in the state of Wind Walk can inflict additional damage. \n+13101006 - Wind Walk - [Master Level : 10]\\nTemporarily hides one\ufffds self from the monsters. Attacking an opponent in the state of Wind Walk can inflict additional damage. \n 13111000 - Arrow Rain - [Master Level : 20]\\nFires a number of arrows into the sky, attacking up to 6 monsters at once. It can only be applied when the character is equipped with a bow. \n 13111002 - Hurricane - [Master Level : 20]\\nLaunches arrows at a tremendous speed like a catastrophic rainstorm. Pressing the skill key will launch the arrows continuously.\n 13110003 - Bow Expert - [Master Level : 20]\\nEnhances Mastery and Attack Rate of bow-type weapons. It can only be applied when the character is equipped with a bow. \\nRequired Skill:  #c Bow Mastery level 20 #\n 13111004 - Puppet - [Master Level : 20]\\nSummons a Puppet (a doppelganger) for a given duration. When the Puppet is summoned, the monsters will attack the Puppet instead of the actual character.\n 13111005 - Eagle Eye - [Master Level : 10]\\nTransforms into Eagle Eye, a heroic figure who was able to use his bow more freely and skillfully than anyone else for 120 sec. This will enhance the character's Speed and Jump stats and allow the character to use the exclusive skills of Eagle Eye.\n-13111006 - Wind Piercing - [Master Level : 20]\\nInflicts a significant damage on multiple monsters at once with a single powerful blow. Available only during the character\ufffds transformed state of Eagle Eye. \\nRequired skill : #cEagle Eye over level 1#\n-13111007 - Wind Shot - [Master Level : 20]\\nFires 3 arrows to inflict damage on monsters. Available only during the character\ufffds transformed state of Eagle Eye. \\nRequired skill : #cEagle Eye over level 1#\n+13111006 - Wind Piercing - [Master Level : 20]\\nInflicts a significant damage on multiple monsters at once with a single powerful blow. Available only during the character\ufffds transformed state of Eagle Eye. \\nRequired skill : #cEagle Eye over level 1#\n+13111007 - Wind Shot - [Master Level : 20]\\nFires 3 arrows to inflict damage on monsters. Available only during the character\ufffds transformed state of Eagle Eye. \\nRequired skill : #cEagle Eye over level 1#\n 14000000 - Nimble Body - [Master Level : 10]\\nIncreases accuracy and avoidability.\n 14000001 - Keen Eyes - [Master Level : 8]\\nIncreases the range of attack for throwing weapons such as the Throwing Stars and Knives.\\nRequired Skill : #cAt least Level 3 on Nimble Body#\n-14001002 - Disorder - [Master Level : 10]\\nTemporarily decreases the enemy\ufffds Weapon Attack and Defense, eventually disabling the monster\ufffds attack.  It cannot be used on the same monster repeatedly.\n+14001002 - Disorder - [Master Level : 10]\\nTemporarily decreases the enemy\ufffds Weapon Attack and Defense, eventually disabling the monster\ufffds attack.  It cannot be used on the same monster repeatedly.\n 14001003 - Dark Sight - [Master Level : 10]\\nUses MP  to hide behind the shadows. With this skill activated, the character can neither attack nor be attacked.\\nRequired Skill : #c At least Level 3 on Disorder # \n 14001004 - Lucky Seven - [Master Level : 20]\\nUses MP to throw 2 Throwing Stars and inflict damage according to the LUK stats regardless of the character's level of Claw Mastery.\n 14001005 - Darkness - [Master Level : 20]\\nSummons the Guardian Fairy to attack monsters nearby.\n-14100000 - Claw Mastery - [Master Level : 20]\\nIncreases the character\ufffds skill in using the Throwing Stars, and enhances the max number of charges. It only applies when the character is equipped with Throwing Stars.\n+14100000 - Claw Mastery - [Master Level : 20]\\nIncreases the character\ufffds skill in using the Throwing Stars, and enhances the max number of charges. It only applies when the character is equipped with Throwing Stars.\n 14100001 - Critical Throw - [Master Level : 30]\\nEnables Critical Attack with Throwing Stars at a pre-established success rate.\\nRequired Skill: #c At least Level 3 on Claw Mastery # \n 14101002 - Claw Booster - [Master Level : 20]\\nUse HP and MP to temporarily boost up the attack speed of the claw. It only applies when the character is equipped with a claw Throwing Stars.\\nRequired Skill : \\n#cAt least Level 5 on Claw Mastery#\n 14101003 - Haste - [Master Level : 20]\\nTemporarily enhances Speed and Jump stats of every member in the party.\n-14101004 - Flash Jump - [Master Level : 20]\\nAllows a second Jump toward the direction which the character was headed when used while the character is in the air. The distance of the Jump increases in accordance with the advancement of the character\ufffds skill level.\n+14101004 - Flash Jump - [Master Level : 20]\\nAllows a second Jump toward the direction which the character was headed when used while the character is in the air. The distance of the Jump increases in accordance with the advancement of the character\ufffds skill level.\n 14100005 - Vanish - [Master Level : 10]\\nInflicts additional damage on monsters when used while Dark Sight is activated. Dark Sight deactivates as soon as this skill is applied. \\nRequired skill : #cDark Sight over level 10#\n-14101006 - Vampire - [Master Level : 20]\\nCan attack multiple monsters 4 times and partially consumes the damage to recover HP. No more than \ufffd of the character\ufffds max HP and the Monster\ufffds max HP can be consumed.\n-14111000 - Shadow Partner - [Master Level : 30]\\nSummons a shadow, which repeats the character\ufffds every move, for a given duration. It has no special strength.\n-14111001 - Shadow Web - [Master Level : 20]\\nMakes a spider web of the character\ufffds shadow, and holds up to 6 enemies in one spot at once. Mobility of the monsters caught in the spider web will be disabled.\n+14101006 - Vampire - [Master Level : 20]\\nCan attack multiple monsters 4 times and partially consumes the damage to recover HP. No more than \ufffd of the character\ufffds max HP and the Monster\ufffds max HP can be consumed.\n+14111000 - Shadow Partner - [Master Level : 30]\\nSummons a shadow, which repeats the character\ufffds every move, for a given duration. It has no special strength.\n+14111001 - Shadow Web - [Master Level : 20]\\nMakes a spider web of the character\ufffds shadow, and holds up to 6 enemies in one spot at once. Mobility of the monsters caught in the spider web will be disabled.\n 14111002 - Avenger - [Master Level : 30]\\nUses MP to make an enormous Throwing Star for attack. The Throwing Star will penetrate the enemy, and attack the ones behind it, too.\n 14110003 - Alchemist - [Master Level : 20]\\nEnhances the effects of recovery items including potions or lengthens the duration of items applied to the status of the character, with an exception of recovery items such as the Elixir that provide recovery based on %. \n 14110004 - Venom - [Master Level : 20]\\nThrows a poisonous Throwing Star. Monsters that have been struck will be poisoned according to the pre-established success rate. It can be used against one monster up to 3 times during which the monster's HP will not go any lower than 1.\n 11101004 - Soul Blade - [Master Level : 30]\\nTransforms invisible Soul into visible form and inflicts damage on an enemy.\n 11101005 - Soul Rush - [Master Level : 10]\\nReceives the power of Soul, which allows the character to instantaneously move at a fast speed.\n 11110000 - MP Recovery Rate Enhancement - [Master Level : 20]\\nCan recover more MP every 10 sec. \n-11111001 - Combo Attack - [Master Level : 20]\\nCan build up one\ufffds Comb Attack. The Finish Attack is enabled when the Combo Counter increases every time the attack is used. The Max Combo Counter is 5 and the standard Damage inflicted is when the Combo Counter is at 3. \n+11111001 - Combo Attack - [Master Level : 20]\\nCan build up one\ufffds Comb Attack. The Finish Attack is enabled when the Combo Counter increases every time the attack is used. The Max Combo Counter is 5 and the standard Damage inflicted is when the Combo Counter is at 3. \n 11111002 - Panic - [Master Level : 20]\\nAttacks a single enemy. It is only available when the Sword is equipped and the Combo Counter is activated.\\nRequired Skill: #cCombo Attack higher than level 1.#\n 11111003 - Coma - [Master Level : 20]\\nPut monsters nearby in coma. Only available when the Sword is equipped and Combo Counter is activated : #cCombo Attack higher than level 1 required.#\n 11111004 - Brandish - [Master Level : 30]\\nEnables two attacks on multiple monsters nearby.\n@@ -492,15 +492,15 @@\n 21101003 - Body Pressure - [Master Level : 20]\\nAllows one to feel very powerful for a small period of time, by being able to body-check monsters, and completely render the monster useless.\n 21110000 - Combo Critical - [Master Level : 20]\\nEvery time the combo count reaches 10, that's when the critical rate and the damage increases.\\nRequired Skill : #cCombo Ability Level 10#\n 21111001 - Smart Knockback - [Master Level : 20]\\nUtilizes efficiency over power, in that it dishes out less damage than a regular knockback, yet still manages to knock back an enemy.\n-21110004 - Combo Penril - [Master Level : 30]\\nShoots a wave of concentrated energy, mixing with the spirit of wolves. Can only be used when the #cCombo Count reaches at least 100.#\\nRequired Skill : #cCombo Smash Level 10#\\n[Command : #cArrow Key : Down + Right + attack key#]\n+21110004 - Combo Fenrir - [Master Level : 30]\\nShoots a wave of concentrated energy, mixing with the spirit of wolves. Can only be used when the #cCombo Count reaches at least 100.#\\nRequired Skill : #cCombo Smash Level 10#\\n[Command : #cArrow Key : Down + Right + attack key#]\n 21111005 - Snow Charge - [Master Level : 20]\\nFor a set period of time, add the element of ice on the Pole Arm. The skill cancels itself when the time is up, while the attacked monsters become much slower.\n 21110007 - (hidden) Full Swing - Double Swing - [Master Level : 20]\n 21110008 - (hidden) Full Swing - Triple Swing - [Master Level : 20]\n 21121000 - Maple Warrior - Temporarily boosts the stats of everyone in the party.\n 21120001 - High Mastery - Improves the overall mastery of Polearm-related weapons and attack.\\nRequired Skill : #cPolearm Mastery Level 20#\n 21121003 - Freeze Standing - Stand heavy like a frozen block of ice and back down from no one.\n 21120004 - High Defense - A new level of defense, in that it permanently decreases the damage suffering from the same attacks.\n-21120006 - Combo Tempest - Creates an ice that is so deadly that even a slight collision would kill the monster, while incurring significant damage to boss monsters as well. #cOnly avilable when the combo count reaches 200 or more#.\\nRequired Skill : #cCombo Penril Level 10#\\n[command : #cArrow Key : Down + Right + attck\\#]\n+21120006 - Combo Tempest - Creates an ice that is so deadly that even a slight collision would kill the monster, while incurring significant damage to boss monsters as well. #cOnly avilable when the combo count reaches 200 or more#.\\nRequired Skill : #cCombo Fenrir Level 10#\\n[command : #cArrow Key : Down + Right + attck\\#]\n 21120007 - Combo Barrier - A buff that decreases the amount of damage received over a set time. A welcome skill in party formats a la cleric. Only available once the #ccombo count reaches 200#.\\nRequired Skill : #cCombo Drain Level 10#\\n[Command : #cArrow key : Down + Down + attack#]\n 21121008 - Hero's Will - Allows one to snap out of abnormal conditions. The higher the character's level, the less the character has to wait.\n 21120009 - (hidden) Over Swing - Double Swing - [Master Level : 30]"}, {"sha": "8bc6fd8a0e29ad630aeeaddfbaf9f43e07f0eefa", "filename": "handbook/Use.txt", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/handbook/Use.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/handbook/Use.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/handbook/Use.txt?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -221,7 +221,7 @@\n 2022142 - Mind & Heart Medicine - A hot, soup-like medicine made out of bear paws. Drinking this will revitalize the brain to the tune of Accuracy +10 for 15 minutes.\n 2022143 - Mastery Medicine - A hot, soup-like medicine that allegedly turns students into bona-fide Masters. Magic Attack +10 for 15 minutes.\n 2022144 - Body & Physics Medicine - A hot, soup-like medicine made out of snake tails. Drinking this will revitalize the body to the tune of Attack +8 for 15 minutes.\n-2022145 - Canned Peach - Homemade canned peach made by the weird pharmacist in Mu Lung, Dr. Do.\\nRecovers around 1000 nHP.\n+2022145 - Canned Peach - Homemade canned peach made by the weird pharmacist in Mu Lung, Dr. Do.\\nRecovers around 1000 HP.\n 2022146 - Peach Juice - Peace juice made by the weird pharmacist in Mu Lung, Dr. DonRecovers around 500 MP.\n 2022147 - Bellflower Medicine Soup - A herb medicine made from bellflowers and snake.nAttack + 6 for 10 minutes.\n 2022148 - Pill of Tunnel Vision - A pill of acorn powder.  The marksman's liquid medicine.  Increases +12 accuracy for 10 minutes.\n@@ -1668,8 +1668,8 @@\n 2022554 - Independence Day Firecracker 1 - This firecracker has been specially made to celebrate July 4th, 1776, our Independence Day. For 10 minutes, Speed and Jump increase by 5.\n 2022555 - Independence Day Firecracker 2 - This firecracker has been specially made to celebrate July 4th, 1776, our Independence Day. For 10 minutes, Attack and Magic increase by 5.\n 2022556 - Independence Day Firecracker 3 - This firecracker has been specially made to celebrate July 4th, 1776, our Independence Day. For 10 minutes, Def. and Magic Def. increase by 10.\n-2000020 - Red Potion for Noblesse - A special potion made out of herbs that exclusively grow in Ereve. Made specifically for Noblesss. nHP +50.\n-2000021 - Blue Potion for Noblesse - A special potion made out of herbs that exclusively grow in Ereve. Made specifically for Noblesss. nMP +100.\n+2000020 - Red Potion for Noblesse - A special potion made out of herbs that exclusively grow in Ereve. Made specifically for Noblesss. HP +50.\n+2000021 - Blue Potion for Noblesse - A special potion made out of herbs that exclusively grow in Ereve. Made specifically for Noblesss. MP +100.\n 2022323 - Fish Net with a Catch - The fish net seems to have caught something. Let's double-click it to check its content.\n 2022324 - Big Belly Fish - A fish that apparently swallowed something. Let's double-click on the fish to check its content.\n 2022326 - Blessing of the Forest - With the purified forest raining gold rain, all affected will receive a temporary boost on speed and jump."}, {"sha": "5af0ed1acce427edd53bc66d6b2b5f2bf3272c28", "filename": "nbproject/private/private.xml", "status": "modified", "additions": 1, "deletions": 24, "changes": 25, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/nbproject/private/private.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/nbproject/private/private.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/nbproject/private/private.xml?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -2,29 +2,6 @@\n <project-private xmlns=\"http://www.netbeans.org/ns/project-private/1\">\n     <editor-bookmarks xmlns=\"http://www.netbeans.org/ns/editor-bookmarks/2\" lastBookmarkId=\"1\"/>\n     <open-files xmlns=\"http://www.netbeans.org/ns/projectui-open-files/2\">\n-        <group>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/inventory/MaplePet.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/channel/handlers/EnterMTSHandler.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/channel/handlers/PlayerLoggedinHandler.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/MonsterBook.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/constants/ItemConstants.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/MapleStorage.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/world/World.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/constants/ServerConstants.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/MapleItemInformationProvider.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/inventory/MapleInventory.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/tools/MaplePacketCreator.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/channel/handlers/PetExcludeItemsHandler.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/inventory/ItemFactory.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/tools/FilePrinter.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/PlayerStorage.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/Server.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/CouponWorker.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/MapleInventoryManipulator.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/MapleCharacter.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/CharacterAutosaverWorker.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/CashShop.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/scripting/event/EventManager.java</file>\n-        </group>\n+        <group/>\n     </open-files>\n </project-private>"}, {"sha": "047c9032294d388a466a3042bb5204b7ece85093", "filename": "scripts/event/3rdJob_bowman.js", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/event/3rdJob_bowman.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/event/3rdJob_bowman.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/3rdJob_bowman.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -20,7 +20,8 @@\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n /**\n- *3rd Job Event - Bowman\n+ * @Author Ronan\n+ * 3rd Job Event - Bowman\n **/\n importPackage(Packages.tools);\n "}, {"sha": "1f6ac4569c1b1b1f1e2933f47187f6a0de1e2eec", "filename": "scripts/event/3rdJob_magician.js", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/event/3rdJob_magician.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/event/3rdJob_magician.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/3rdJob_magician.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -20,7 +20,8 @@\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n /**\n- *3rd Job Event - Magician\n+ * @Author Ronan\n+ * 3rd Job Event - Magician\n **/\n importPackage(Packages.tools);\n "}, {"sha": "84c4c3bdae6ffff98df9b9ea2e7141119607117d", "filename": "scripts/event/3rdJob_mount.js", "status": "added", "additions": 127, "deletions": 0, "changes": 127, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/event/3rdJob_mount.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/event/3rdJob_mount.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/3rdJob_mount.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -0,0 +1,127 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t\t\t\t   Matthias Butz <matze@odinms.de>\n+\t\t\t\t\t   Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+/**\n+ * @Author Ronan\n+ * 3rd Job Event - Kenta's Mount Quest\n+**/\n+importPackage(Packages.tools);\n+\n+var entryMap = 923010000;\n+var exitMap = 923010100;\n+\n+var minMapId = 923010000;\n+var maxMapId = 923010000;\n+\n+var eventMaps = [923010000];\n+\n+var eventTime = 5; //5 minutes\n+\n+var lobbyRange = [0, 0];\n+\n+function setLobbyRange() {\n+    return lobbyRange;\n+}\n+\n+function init() {\n+    em.setProperty(\"noEntry\",\"false\");\n+}\n+\n+function respawnStages(eim) {\n+    var i;\n+    for (i = 0; i < eventMaps.length; i++) {\n+        eim.getInstanceMap(eventMaps[i]).instanceMapRespawn();\n+    }\n+\n+    eim.schedule(\"respawnStages\", 10 * 1000);\n+}\n+\n+function playerEntry(eim, player) {\n+    var mapObj = eim.getInstanceMap(entryMap);\n+    \n+    mapObj.resetPQ(1);\n+    mapObj.instanceMapForceRespawn();\n+    respawnStages(eim);\n+    \n+    player.changeMap(entryMap, 0);\n+    em.setProperty(\"noEntry\",\"true\");\n+    \n+    player.getClient().getSession().write(MaplePacketCreator.getClock(eventTime * 60));\n+    eim.startEventTimer(eventTime * 60000);\n+}\n+\n+function playerUnregistered(eim, player) {}\n+\n+function playerExit(eim, player) {\n+    var api = player.getClient().getAbstractPlayerInteraction();\n+    api.removeAll(4031507);\n+    api.removeAll(4031508);\n+    \n+    eim.unregisterPlayer(player);\n+    eim.dispose();\n+    em.setProperty(\"noEntry\",\"false\");\n+}\n+\n+function scheduledTimeout(eim) {\n+    var player = eim.getPlayers().get(0);\n+    playerExit(eim, player);\n+    player.changeMap(exitMap);\n+}\n+\n+function playerDisconnected(eim, player) {\n+    playerExit(eim, player);\n+}\n+\n+function changedMap(eim, chr, mapid) {\n+    if(mapid < minMapId || mapid > maxMapId) playerExit(eim, chr);\n+}\n+\n+function clearPQ(eim) {\n+    eim.stopEventTimer();\n+    eim.setEventCleared();\n+    \n+    var player = eim.getPlayers().get(0);\n+    eim.unregisterPlayer(player);\n+    player.changeMap(exitMap);\n+    \n+    eim.dispose();\n+    em.setProperty(\"noEntry\",\"false\");\n+}\n+\n+function monsterKilled(mob, eim) {}\n+\n+function monsterValue(eim, mobId) {\n+        return 1;\n+}\n+\n+function friendlyKilled(mob, eim) {\n+    if(em.getProperty(\"noEntry\") != \"false\") {\n+        var player = eim.getPlayers().get(0);\n+        playerExit(eim, player);\n+        player.changeMap(exitMap);\n+    }\n+}\n+\n+function allMonstersDead(eim) {}\n+\n+function cancelSchedule() {}\n+\n+function dispose() {}"}, {"sha": "3bb21596cd005968112af4637382fe249b654908", "filename": "scripts/event/3rdJob_pirate.js", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/event/3rdJob_pirate.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/event/3rdJob_pirate.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/3rdJob_pirate.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -20,7 +20,8 @@\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n /**\n- *3rd Job Event - Pirate\n+ * @Author Ronan\n+ * 3rd Job Event - Pirate\n **/\n importPackage(Packages.tools);\n "}, {"sha": "effa7249d89db37b8740be7eb2a5daf7dc05ec67", "filename": "scripts/event/3rdJob_thief.js", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/event/3rdJob_thief.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/event/3rdJob_thief.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/3rdJob_thief.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -20,7 +20,8 @@\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n /**\n- *3rd Job Event - Thief\n+ * @Author Ronan\n+ * 3rd Job Event - Thief\n **/\n importPackage(Packages.tools);\n "}, {"sha": "26e30513f9178c6aa0be46b79289e30c54824705", "filename": "scripts/event/3rdJob_warrior.js", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/event/3rdJob_warrior.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/event/3rdJob_warrior.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/3rdJob_warrior.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -20,7 +20,8 @@\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n /**\n- *3rd Job Event - Warrior\n+ * @Author Ronan\n+ * 3rd Job Event - Warrior\n **/\n importPackage(Packages.tools);\n "}, {"sha": "c961df97cae8d249ecd2ddd2ad6514141369bed8", "filename": "scripts/event/AmoriaPQ.js", "status": "added", "additions": 249, "deletions": 0, "changes": 249, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/event/AmoriaPQ.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/event/AmoriaPQ.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/event/AmoriaPQ.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -0,0 +1,249 @@\n+/**\n+ * @author: Ronan\n+ * @event: Amoria PQ\n+*/\n+\n+var isPq = true;\n+var minPlayers = 6, maxPlayers = 6;\n+var minLevel = 40, maxLevel = 255;\n+var entryMap = 670010200;\n+var exitMap = 670011000;\n+var recruitMap = 670010100;\n+var clearMap = 670010800;\n+\n+var minMapId = 670010200;\n+var maxMapId = 670010800;\n+\n+var eventTime = 75;     // 75 minutes\n+\n+var lobbyRange = [0, 0];\n+\n+function init() {\n+        setEventRequirements();\n+}\n+\n+function setLobbyRange() {\n+        return lobbyRange;\n+}\n+\n+function setEventRequirements() {\n+        var reqStr = \"\";\n+        \n+        reqStr += \"\\r\\n    Number of players: \";\n+        if(maxPlayers - minPlayers >= 1) reqStr += minPlayers + \" ~ \" + maxPlayers;\n+        else reqStr += minPlayers;\n+        \n+        reqStr += \"\\r\\n    Level range: \";\n+        if(maxLevel - minLevel >= 1) reqStr += minLevel + \" ~ \" + maxLevel;\n+        else reqStr += minLevel;\n+        \n+        reqStr += \"\\r\\n    At least 1 of both genders\";\n+        \n+        reqStr += \"\\r\\n    Time limit: \";\n+        reqStr += eventTime + \" minutes\";\n+        \n+        em.setProperty(\"party\", reqStr);\n+}\n+\n+function setEventExclusives(eim) {\n+        var itemSet = [4031594, 4031595, 4031596, 4031597];\n+        eim.setExclusiveItems(itemSet);\n+}\n+\n+function setEventRewards(eim) {\n+        var itemSet, itemQty, evLevel, expStages;\n+\n+        evLevel = 1;    //Rewards at clear PQ\n+        itemSet = [];\n+        itemQty = [];\n+        eim.setEventRewards(evLevel, itemSet, itemQty);\n+        \n+        expStages = [2000, 4000, 6000, 8000, 9000, 11000];    //bonus exp given on CLEAR stage signal\n+        eim.setEventClearStageExp(expStages);\n+}\n+\n+function getEligibleParty(party) {      //selects, from the given party, the team that is allowed to attempt this event\n+        var eligible = [];\n+        var hasLeader = false;\n+        var mask = 0;\n+        \n+        if(party.size() > 0) {\n+                var partyList = party.toArray();\n+\n+                for(var i = 0; i < party.size(); i++) {\n+                        var ch = partyList[i];\n+\n+                        if(ch.getMapId() == recruitMap && ch.getLevel() >= minLevel && ch.getLevel() <= maxLevel) {\n+                                if(ch.isLeader()) hasLeader = true;\n+                                eligible.push(ch);\n+                                \n+                                mask |= (1 << ch.getPlayer().getGender());\n+                        }\n+                }\n+        }\n+        \n+        if(!(hasLeader && eligible.length >= minPlayers && eligible.length <= maxPlayers && mask == 3)) eligible = [];\n+        return eligible;\n+}\n+\n+function setup(level, lobbyid) {\n+        var eim = em.newInstance(\"Amoria\" + lobbyid);\n+        eim.setProperty(\"level\", level);\n+        \n+        eim.setProperty(\"marriedGroup\", 0);\n+        eim.setProperty(\"missCount\", 0);\n+        eim.setProperty(\"statusStg1\", -1);\n+        eim.setProperty(\"statusStg2\", -1);\n+        eim.setProperty(\"statusStg3\", -1);\n+        eim.setProperty(\"statusStg4\", -1);\n+        eim.setProperty(\"statusStg5\", -1);\n+        eim.setProperty(\"statusStg6\", -1);\n+        eim.setProperty(\"statusStgBonus\", 0);\n+        \n+        eim.getInstanceMap(670010200).resetPQ(level);\n+        eim.getInstanceMap(670010300).resetPQ(level);\n+        eim.getInstanceMap(670010301).resetPQ(level);\n+        eim.getInstanceMap(670010302).resetPQ(level);\n+        eim.getInstanceMap(670010400).resetPQ(level);\n+        eim.getInstanceMap(670010500).resetPQ(level);\n+        eim.getInstanceMap(670010600).resetPQ(level);\n+        eim.getInstanceMap(670010700).resetPQ(level);\n+        eim.getInstanceMap(670010750).resetPQ(level);\n+        eim.getInstanceMap(670010800).resetPQ(level);\n+        \n+        eim.getInstanceMap(670010200).toggleDrops();\n+        eim.getInstanceMap(670010300).toggleDrops();\n+        eim.getInstanceMap(670010301).toggleDrops();\n+        eim.getInstanceMap(670010302).toggleDrops();\n+        \n+        eim.getInstanceMap(670010200).instanceMapForceRespawn();\n+        eim.getInstanceMap(670010500).instanceMapForceRespawn();\n+        \n+        eim.getInstanceMap(670010750).shuffleReactors();\n+        eim.getInstanceMap(670010800).shuffleReactors();\n+        \n+        var mapObj = eim.getInstanceMap(670010700);\n+        var mobObj = Packages.server.life.MapleLifeFactory.getMonster(9400536);\n+        mapObj.spawnMonsterOnGroundBelow(mobObj, new Packages.java.awt.Point(942, 478));\n+        \n+        respawnStages(eim);\n+        \n+        eim.startEventTimer(eventTime * 60000);\n+        setEventRewards(eim);\n+        setEventExclusives(eim);\n+        \n+        return eim;\n+}\n+\n+function isTeamAllCouple(eim) {   // all players married each other, not implemented\n+        return false;\n+}\n+\n+function afterSetup(eim) {\n+        if(isTeamAllCouple(eim)) {\n+                eim.setIntProperty(\"marriedGroup\", 1);\n+        }\n+}\n+\n+function respawnStages(eim) {}\n+\n+function playerEntry(eim, player) {\n+        var map = eim.getMapInstance(entryMap);\n+        player.changeMap(map, map.getPortal(0));\n+}\n+\n+function scheduledTimeout(eim) {\n+        if(eim.getIntProperty(\"statusStg6\") == 1) {\n+                eim.warpEventTeam(exitMap);\n+        }\n+        else {\n+                end(eim);\n+        }\n+}\n+\n+function playerUnregistered(eim, player) {}\n+\n+function playerExit(eim, player) {\n+        eim.unregisterPlayer(player);\n+        player.changeMap(exitMap, 0);\n+}\n+\n+function changedMap(eim, player, mapid) {\n+        if (mapid < minMapId || mapid > maxMapId) {\n+                if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                        eim.unregisterPlayer(player);\n+                        end(eim);\n+                }\n+                else\n+                        eim.unregisterPlayer(player);\n+        }\n+}\n+\n+function changedLeader(eim, leader) {\n+        var mapid = leader.getMapId();\n+        if (!eim.isEventCleared() && (mapid < minMapId || mapid > maxMapId)) {\n+                end(eim);\n+        }\n+}\n+\n+function playerDead(eim, player) {}\n+\n+function playerRevive(eim, player) { // player presses ok on the death pop up.\n+        if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                eim.unregisterPlayer(player);\n+                end(eim);\n+        }\n+        else\n+                eim.unregisterPlayer(player);\n+}\n+\n+function playerDisconnected(eim, player) {\n+        if (eim.isEventTeamLackingNow(true, minPlayers, player)) {\n+                eim.unregisterPlayer(player);\n+                end(eim);\n+        }\n+        else\n+                eim.unregisterPlayer(player);\n+}\n+\n+function leftParty(eim, player) {\n+        if (eim.isEventTeamLackingNow(false, minPlayers, player)) {\n+                eim.unregisterPlayer(player);\n+                end(eim);\n+        }\n+        else\n+                eim.unregisterPlayer(player);\n+}\n+\n+function disbandParty(eim) {\n+        end(eim);\n+}\n+\n+function monsterValue(eim, mobId) {\n+        return 1;\n+}\n+\n+function end(eim) {\n+        var party = eim.getPlayers();\n+        for (var i = 0; i < party.size(); i++) {\n+                playerExit(eim, party.get(i));\n+        }\n+        eim.dispose();\n+}\n+\n+function giveRandomEventReward(eim, player) {\n+        eim.giveEventReward(player);\n+}\n+\n+function clearPQ(eim) {\n+        eim.stopEventTimer();\n+        eim.setEventCleared();\n+}\n+\n+function monsterKilled(mob, eim) {}\n+\n+function allMonstersDead(eim) {}\n+\n+function cancelSchedule() {}\n+\n+function dispose(eim) {}"}, {"sha": "8c03fb6da322baa28b775cee624dfa4a796805e8", "filename": "scripts/npc/1052012.js", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/1052012.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/1052012.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1052012.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -52,6 +52,7 @@ function action(mode, type, selection) {\n                         if(cm.getMeso() < 5000) {\n                                 cm.sendOk(\"Oh, you don't have the money, right? Sorry, I can't let you in.\");\n                         } else {\n+                                cm.gainMeso(-5000);\n                                 cm.warp(193000000);\n                         }\n                     "}, {"sha": "95eec074d8bbffe0632ee055874c9902c0deea40", "filename": "scripts/npc/1052014.js", "status": "modified", "additions": 27, "deletions": 6, "changes": 33, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/1052014.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/1052014.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1052014.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -50,6 +50,10 @@ var itemQty_lv1 = [1, 1, 1, 1, 1, 30, 30, 30, 30, 30, 40, 40, 40, 80, 80, 20, 1,\n var levels = [\"Tier 1\", \"Tier 2\", \"Tier 3\", \"Tier 4\", \"Tier 5\", \"Tier 6\"];\n \n var tickets = [0, 0, 0, 0, 0, 0];\n+var coinId = 4001158;\n+var coins = 0;\n+\n+var hasCoin = false;\n var currentTier;\n var curItemQty;\n var curItemSel;\n@@ -76,12 +80,13 @@ function action(mode, type, selection) {\n                 advance = true;\n                     \n                 if(status == 0) {\n-                        cm.sendNext(\"This is the vending machine of the Internet Cafe. Place your erasers earned throughout the quests to redeem a prize. You can place #bany amount of erasers#k, however take note that bigger shots improves the reward possibilities!\");\n+                        hasCoin = cm.haveItem(coinId);\n+                        cm.sendNext(\"This is the vending machine of the Internet Cafe. Place your erasers or #t\" + coinId + \"# earned throughout the quests to redeem a prize. You can place #bany amount of erasers#k, however take note that bigger shots improves the reward possibilities!\");\n                 } else if(status == 1) {\n                         var sendStr;\n                         currentTier = getRewardTier();\n                         \n-                        if(currentTier >= 0) sendStr = \"With the erasers you have currently placed, you can retrieve a #r\" + levels[currentTier] + \"#k prize. Place erasers:\";\n+                        if(currentTier >= 0) sendStr = \"With the items you have currently placed, you can retrieve a #r\" + levels[currentTier] + \"#k prize. Place erasers:\";\n                         else sendStr = \"You have placed no erasers yet. Place erasers:\";\n                         \n                         var listStr = \"\";\n@@ -90,11 +95,16 @@ function action(mode, type, selection) {\n                             if(tickets[i] > 0) listStr += \" - \" + tickets[i] + \" erasers\";\n                             listStr += \"#l\\r\\n\";\n                         }\n+                        if(hasCoin) {\n+                            listStr += \"#b#L\" + tickets.length + \"##t\" + coinId + \"##k\";\n+                            if(coins > 0) listStr += \" - \" + coins + \" feathers\";\n+                            listStr += \"#l\\r\\n\";\n+                        }\n                         \n-                        cm.sendSimple(sendStr + \"\\r\\n\\r\\n\" + listStr + \"#r#L6#Retrieve a prize!#l#k\\r\\n\");\n+                        cm.sendSimple(sendStr + \"\\r\\n\\r\\n\" + listStr + \"#r#L\" + getRewardIndex(hasCoin) + \"#Retrieve a prize!#l#k\\r\\n\");\n                         \n                 } else if(status == 2) {\n-                        if(selection == 6) {\n+                        if(selection == getRewardIndex(hasCoin)) {\n                                 if(currentTier < 0) {\n                                         cm.sendPrev(\"You have set no erasers. Insert at least one to claim a prize.\");\n                                         advance = false;\n@@ -103,7 +113,10 @@ function action(mode, type, selection) {\n                                         cm.dispose();\n                                 }\n                         } else {\n-                                var tickSel = 4001009 + selection;\n+                                var tickSel;\n+                                if(selection < tickets.length) tickSel = 4001009 + selection;\n+                                else tickSel = coinId;\n+                                \n                                 curItemQty = cm.getItemQuantity(tickSel);\n                                 curItemSel = selection;\n                             \n@@ -125,7 +138,8 @@ function action(mode, type, selection) {\n                                         cm.sendPrev(\"You cannot insert the given amount of erasers (#r\" + curItemQty + \"#k available). Click '#rBack#k' to return to the main interface.\");\n                                         advance = false;\n                                 } else {\n-                                        tickets[curItemSel] = placedQty;\n+                                        if(curItemSel < tickets.length) tickets[curItemSel] = placedQty;\n+                                        else coins = placedQty;\n                                     \n                                         cm.sendPrev(\"Operation succeeded. Click '#rBack#k' to return to the main interface.\");\n                                         advance = false;\n@@ -142,6 +156,10 @@ function action(mode, type, selection) {\n         }\n }\n \n+function getRewardIndex(hasCoin) {\n+    return (!hasCoin) ? tickets.length : tickets.length + 1;\n+}\n+\n function getRewardTier() {\n     var points = getPoints();\n     \n@@ -162,6 +180,7 @@ function getPoints() {\n         \n         points += (6 + ((tickets[i] - 1) * getTicketMultiplier(i)));    //6 from uniques + rest from each ticket difficulty\n     }\n+    points += Math.ceil(0.46 * coins);  // 100 coins for a LV6 tier item.\n     \n     return points;\n }\n@@ -202,6 +221,8 @@ function givePrize() {\n                 for(var i = 0; i < tickets.length; i++) {\n                         cm.gainItem(4001009 + i, -1 * tickets[i]);\n                 }\n+                cm.gainItem(coinId, -1 * coins);\n+                \n                 cm.gainItem(lvTarget[rnd], lvQty[rnd]);\n         }\n }"}, {"sha": "f74d6097841f94cadfd2c5f9b0b9d00e2465b76c", "filename": "scripts/npc/1061009.js", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/1061009.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/1061009.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1061009.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -19,7 +19,10 @@\n     You should have received a copy of the GNU Affero General Public License\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n-/* 1061009 - Door of Dimension\n+/*\n+        @Author Ronan\n+\n+        1061009 - Door of Dimension\n \tEnter 3rd job event\n */\n "}, {"sha": "d901e7674aa354ac53e42df96c9920910cb8a3ba", "filename": "scripts/npc/1102002.js", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/1102002.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/1102002.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1102002.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -0,0 +1,35 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc> \n+                       Matthias Butz <matze@odinms.de>\n+                       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License version 3\n+    as published by the Free Software Foundation. You may not use, modify\n+    or distribute this program under any other version of the\n+    GNU Affero General Public License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+\n+/**\n+-- Odin JavaScript --------------------------------------------------------------------------------\n+\tKiridu - Cygnus\n+-- By ---------------------------------------------------------------------------------------------\n+\tRonan\n+-- Version Info -----------------------------------------------------------------------------------\n+\t1.0 - First Version by Ronan\n+---------------------------------------------------------------------------------------------------\n+**/\n+\n+function start() {\n+    cm.sendOk(\"Yo. I am #p1102002#, in charge of mount raising and training for the Cygnus Knights' of Ereve!\");\n+    cm.dispose();\n+}\n\\ No newline at end of file"}, {"sha": "13016ac132880a06dc88d0d3943ade908224b873", "filename": "scripts/npc/2020008.js", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/2020008.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/2020008.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2020008.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -78,11 +78,11 @@ function action(mode, type, selection){\n                 cm.getPlayer().removePartyQuestItem(\"JBQ\");\n             }\n \n-            if(cm.getJobId() / 10 == 11) cm.sendNext(\"You have just become the #bCrusader#k. A number of new attacking skills such as #bShout#k and #bCombo Attack#k are devastating, while #bArmor Crash#k will put a dent on the monsters' defensive abilities. It'll be best to concentrate on acquiring skills with the weapon you mastered during the days as a Fighter.\");\n-            else if(cm.getJobId() / 10 == 12) cm.sendNext(\"You have just become the #bWhite Knight#k. You'll be introduced to a new skill book featuring various new attacking skills as well as element-based attacks. It's recommended that the type of weapon complementary to the Page, whether it be a sword or a blunt weapon, should be continued as the White Knight. There's a skill called #bCharge#k, which adds an element of ice, fire and lightning to the weapon, making White Knight the only warrior that can perform element-based attacks. Charge up your weapon with an element that weakens the monster, and then apply massive damage with the #bCharged Blow#k. This will definitely make you a devastating force around here.\");\n+            if(Math.floor(cm.getJobId() / 10) == 11) cm.sendNext(\"You have just become the #bCrusader#k. A number of new attacking skills such as #bShout#k and #bCombo Attack#k are devastating, while #bArmor Crash#k will put a dent on the monsters' defensive abilities. It'll be best to concentrate on acquiring skills with the weapon you mastered during the days as a Fighter.\");\n+            else if(Math.floor(cm.getJobId() / 10) == 12) cm.sendNext(\"You have just become the #bWhite Knight#k. You'll be introduced to a new skill book featuring various new attacking skills as well as element-based attacks. It's recommended that the type of weapon complementary to the Page, whether it be a sword or a blunt weapon, should be continued as the White Knight. There's a skill called #bCharge#k, which adds an element of ice, fire and lightning to the weapon, making White Knight the only warrior that can perform element-based attacks. Charge up your weapon with an element that weakens the monster, and then apply massive damage with the #bCharged Blow#k. This will definitely make you a devastating force around here.\");\n             else cm.sendNext(\"You're #bDragon Knight#k from here on out. You'll be introduced to a range of new attacking skills for spears and pole arms, and whatever weapon was chosen as the Spearman should be continued as the Dragon Knigth. Skills such as #bCrusher#k (maximum damage to one monster) and #bDragon Fury#k (damage to multiple monsters) are recommended as main attacking skills of choice, while a skill called #bDragon Roar#k will damage everything on screen with devasting force. The downside is the fact that the skill uses up over half of the available HP.\");\n         } else if (status == 3) {\n-            cm.sendNextPrev(\"I've also given you some SP and AP, which will help you get started. You have now become a powerful, powerful warrior, indeed. Remember, though, that the real world will be awaiting your arrival with even tougher obstavles to overcome. Once you feel like you cannot train yourself to reach a higher place, then, and only then, come see me. I'll be here waiting.\");\n+            cm.sendNextPrev(\"I've also given you some SP and AP, which will help you get started. You have now become a powerful, powerful warrior, indeed. Remember, though, that the real world will be awaiting your arrival with even tougher obstacles to overcome. Once you feel like you cannot train yourself to reach a higher place, then, and only then, come see me. I'll be here waiting.\");\n         }\n     }else if (actionx[\"Physical\"]){\n         if (status == 0)"}, {"sha": "a7855aba826b2d0444e6a2b082f977f0aa6fbaf5", "filename": "scripts/npc/2020009.js", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/2020009.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/2020009.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2020009.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -66,8 +66,8 @@ function action(mode, type, selection){\n \t\t\t\tcm.getPlayer().removePartyQuestItem(\"JBQ\");\n \t\t\t}\n                         \n-\t\t\tif(cm.getJobId() / 10 == 21) cm.sendNext(\"You're the #bMage of Fire and Poison#k from here on out. The new skill book features new and improved fire and poison based spells, and skills such as #bElement Amplification#k (improved element-based spells) and #bSpell Booster#k (improves the overall speed of your attacking spells) will enable you to attack the monsters quickly and effectively. Defensive spells such as #bPartial Resistance#k (allows you to become stronger against certain elemental-based attacks) and #bSeal#k (seals up the monster) will help negate the one weakness Mages possess: lack of HP.\");\n-                        else if(cm.getJobId() / 10 == 22) cm.sendNext(\"You're the #bMage of Ice and Lightning#k from here on out. The new skill book features new and improved ice and lightning based spells, and skills such as #bElement Amplification#k (improved element-based spells) and #bSpell Booster#k (improves the overall speed of your attacking spells) will enable you to attack the monsters quickly and effectively. Defensive spells such as #bPartial Resistance#k (allows you to become stronger against certain elemental-based attacks) and #bSeal#k (seals up the monster) will help negate the one weakness Mages possess: lack of HP.\");\n+\t\t\tif(Math.floor(cm.getJobId() / 10) == 21) cm.sendNext(\"You're the #bMage of Fire and Poison#k from here on out. The new skill book features new and improved fire and poison based spells, and skills such as #bElement Amplification#k (improved element-based spells) and #bSpell Booster#k (improves the overall speed of your attacking spells) will enable you to attack the monsters quickly and effectively. Defensive spells such as #bPartial Resistance#k (allows you to become stronger against certain elemental-based attacks) and #bSeal#k (seals up the monster) will help negate the one weakness Mages possess: lack of HP.\");\n+                        else if(Math.floor(cm.getJobId() / 10) == 22) cm.sendNext(\"You're the #bMage of Ice and Lightning#k from here on out. The new skill book features new and improved ice and lightning based spells, and skills such as #bElement Amplification#k (improved element-based spells) and #bSpell Booster#k (improves the overall speed of your attacking spells) will enable you to attack the monsters quickly and effectively. Defensive spells such as #bPartial Resistance#k (allows you to become stronger against certain elemental-based attacks) and #bSeal#k (seals up the monster) will help negate the one weakness Mages possess: lack of HP.\");\n                         else cm.sendNext(\"You're #bPriest#k from here on out. The new skill book features new and improved holy spells such as #bShining Ray#k and #bSummon Dragon#k, and skills such as #bMystic Door#k (creates a door for the exit to the nearest town) and #bHoly Symbol#k (improves the EXP gained) can be vital to the party play. Off-beat spells such as #bDoom#k (turn monsters into snails) separates Priests from other jobs as the most different of all.\");\n \t\t} else if (status == 3) {\n \t\t    cm.sendNextPrev(\"I've also given you some SP and AP, which will help you get started. You have now become a powerful, powerful warrior, indeed. Remember, though, that the real world will be awaiting your arrival with even tougher obstacles to overcome. Once you feel like you cannot train yourself to reach a higher place, then, and only then, come see me. I'll be here waiting.\");"}, {"sha": "5481ba5a1d8bfdf8f4b03566e94075564ab97e55", "filename": "scripts/npc/2020010.js", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/2020010.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/2020010.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2020010.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -68,10 +68,10 @@ function action(mode, type, selection){\n \t\t\t\tcm.getPlayer().removePartyQuestItem(\"JBQ\");\n \t\t\t}\n                         \n-\t\t\tif(cm.getJobId() / 10 == 31) cm.sendNext(\"You have officially become the #bRanger#k. One of the skills that you'll truly embrace is a skill called #bMortal Blow#k that allows Rangers to fire arrows from close-range. #bInferno#k allows Rangers to temporarily perform fire-based attacks on monsters, while skills like #bPuppet#k (summons a scarecrow which attracts the monsters' attention) and #bSilver Hawk#k (summons a Silver Hawk that attacks monsters) solidify the Bowman's status as a long-range attack extraordinaire.\");\n+\t\t\tif(Math.floor(cm.getJobId() / 10) == 31) cm.sendNext(\"You have officially become the #bRanger#k. One of the skills that you'll truly embrace is a skill called #bMortal Blow#k that allows Rangers to fire arrows from close-range. #bInferno#k allows Rangers to temporarily perform fire-based attacks on monsters, while skills like #bPuppet#k (summons a scarecrow which attracts the monsters' attention) and #bSilver Hawk#k (summons a Silver Hawk that attacks monsters) solidify the Bowman's status as a long-range attack extraordinaire.\");\n                         else cm.sendNext(\"You have officially become the #bSniper#k. One of the skills that you'll truly embrace is a skill called #bMortal Blow#k that allows Snipers to fire arrows from close-range. #bBlizzard#k allows Snipers to temporarily perform ice-based attacks on monsters, while skills like #bPuppet#k (summons a scarecrow which attracts the monsters' attention) and #bGolden Eagle#k (summons a Golden Eagle that attacks monsters) solidify the Bowman's status as a long-range attack extraordinaire.\");\n \t\t} else if (status == 3) {\n-\t\t    cm.sendNextPrev(\"I've also given you some SP and AP, which will help you get started. You have now become a powerful, powerful warrior, indeed. Remember, though, that the real world will be awaiting your arrival with even tougher obstavles to overcome. Once you feel like you cannot train yourself to reach a higher place, then, and only then, come see me. I'll be here waiting.\");\n+\t\t    cm.sendNextPrev(\"I've also given you some SP and AP, which will help you get started. You have now become a powerful, powerful warrior, indeed. Remember, though, that the real world will be awaiting your arrival with even tougher obstacles to overcome. Once you feel like you cannot train yourself to reach a higher place, then, and only then, come see me. I'll be here waiting.\");\n \t\t}\n \t}else if (actionx[\"Physical\"]){\n \t    if (status == 0)"}, {"sha": "0787818cab23e1e0267d5cf62693587833be7640", "filename": "scripts/npc/2020011.js", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/2020011.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/2020011.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2020011.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -66,11 +66,11 @@ function action(mode, type, selection){\n                 cm.getPlayer().removePartyQuestItem(\"JBQ\");\n             }\n \n-            if(cm.getJobId() / 10 == 41) cm.sendNext(\"You have officially been anointed as a #bHermit#k from here on out. The skill book introduces a slew of new attacking skills for Hermits using shadows as a way of duplication and replacement, including such skills as #bShadow Meso#k (replacing MP with mesos and attack monsters with the damage based on the amount of mesos thrown) and #bCopy cat#k (creating a shadow that mimics every move, enabling a Hermit to attack a monster as if two Hermits are there). Use those skills to take on the monsters that may have been difficult to conquer before.\");\n+            if(Math.floor(cm.getJobId() / 10) == 41) cm.sendNext(\"You have officially been anointed as a #bHermit#k from here on out. The skill book introduces a slew of new attacking skills for Hermits using shadows as a way of duplication and replacement, including such skills as #bShadow Meso#k (replacing MP with mesos and attack monsters with the damage based on the amount of mesos thrown) and #bCopy cat#k (creating a shadow that mimics every move, enabling a Hermit to attack a monster as if two Hermits are there). Use those skills to take on the monsters that may have been difficult to conquer before.\");\n \t    else cm.sendNext(\"You have officially been anointed as a #bChief Bandit#k from here on out. One of the new additions to the skill book is a skill called #bBand of Thieves#k, in which you can summon fellow Bandits to attack multiple monsters at once. Chief Bandits can also utilize mesos in numerous ways, from attacking monsters (#bMeso Explosion#k, which explodes the mesos on the ground), to defending yourself (#bMeso Guard#k, which decreases the weapon damage).\");\n \t\n         } else if (status == 3) {\n-            cm.sendNextPrev(\"I've also given you some SP and AP; this should get you started. You have now become a powerful, powerful thief, indeed. Remember, though, that the real world will be awaiting your arrival with even tougher obstavles to overcome. Once you feel like you cannot train yourself to reach a higher place, then, and only then, come see me. I'll be here waiting.\");\n+            cm.sendNextPrev(\"I've also given you some SP and AP; this should get you started. You have now become a powerful, powerful thief, indeed. Remember, though, that the real world will be awaiting your arrival with even tougher obstacles to overcome. Once you feel like you cannot train yourself to reach a higher place, then, and only then, come see me. I'll be here waiting.\");\n         }\n     }else if (actionx[\"Physical\"]){\n         if (status == 0)"}, {"sha": "ee61e8e2569ef149d5ce0726877ad24d8ec3f836", "filename": "scripts/npc/2020013.js", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/2020013.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/2020013.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2020013.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -66,10 +66,10 @@ function action(mode, type, selection){\n                 cm.getPlayer().removePartyQuestItem(\"JBQ\");\n             }\n             \n-            if(cm.getJobId() / 10 == 51) cm.sendNext(\"Great! You are now a #bMarauder#k. As a Marauder, you will learn some of the most sophisticated skills related to melee-based attacks. #bEnergy Charge#k is a skill that allows you to store your power and the damage you receive into a special form of energy. Once this ball of energy is charged, you may use #bEnergy Blast#k to apply maximum damage against your enemies, and also use #bEnergy Drain#k to steal your enemy's HP to recover your own. #bTransformation#k will allow you to transform into a superhuman being with devastating melee attacks, and while transformed, you can use #bShockwave#k to cause a mini-earthquake and inflict massive damage to your enemies.\");\n+            if(Math.floor(cm.getJobId() / 10) == 51) cm.sendNext(\"Great! You are now a #bMarauder#k. As a Marauder, you will learn some of the most sophisticated skills related to melee-based attacks. #bEnergy Charge#k is a skill that allows you to store your power and the damage you receive into a special form of energy. Once this ball of energy is charged, you may use #bEnergy Blast#k to apply maximum damage against your enemies, and also use #bEnergy Drain#k to steal your enemy's HP to recover your own. #bTransformation#k will allow you to transform into a superhuman being with devastating melee attacks, and while transformed, you can use #bShockwave#k to cause a mini-earthquake and inflict massive damage to your enemies.\");\n             else cm.sendNext(\"Great! You have now become an #bOutlaw#k. As an Outlaw, you will become a true pistolero, a master of every known Gun attack, as well as a few other skills to help you vanquish evil. #bBurst Fire#k is a more powerful version of Double Shot, shooting more bullets and causing more damage at the same time. You also now have the ability to summon a loyal #bOctopus#k and the swooping #bGaviota#k as your trusty allies, while attacking your enemies using #bBullseye#k. You can also use element-based attacks using #bFlamethrower#k and #bIce Splitter#k.\");\n         } else if (status == 3) {\n-            cm.sendNextPrev(\"I've also given you some SP and AP, which will help you get started. You have now become a powerful, powerful pirate, indeed. Remember, though, that the real world will be awaiting your arrival with even tougher obstavles to overcome. Once you feel like you cannot train yourself to reach a higher place, then, and only then, come see me. I'll be here waiting.\");\n+            cm.sendNextPrev(\"I've also given you some SP and AP, which will help you get started. You have now become a powerful, powerful pirate, indeed. Remember, though, that the real world will be awaiting your arrival with even tougher obstacles to overcome. Once you feel like you cannot train yourself to reach a higher place, then, and only then, come see me. I'll be here waiting.\");\n         }\n     }else if (actionx[\"Physical\"]){\n         if (status == 0)"}, {"sha": "13937b4b4c9067c6485e9decc3b6d4ce13e30436", "filename": "scripts/npc/2060005.js", "status": "modified", "additions": 26, "deletions": 7, "changes": 33, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/2060005.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/2060005.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2060005.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -19,16 +19,35 @@\n     You should have received a copy of the GNU Affero General Public License\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n+\n+/**\n+        @Author Ronan\n+\n+        2060005 - Kenta\n+\tEnter 3rd job mount event\n+**/\n+\n function start() {\n-    if(cm.isQuestCompleted(6002))\n+    if(cm.isQuestCompleted(6002)) {\n         cm.sendOk(\"Thanks for saving the pork.\");\n-    else if(cm.getWarpMap(923010000).getCharacters().size() > 0)\n-        cm.sendOk(\"There is currently someone in this map, come back later.\");\n+    }\n     else if(cm.isQuestStarted(6002)) {\n-        cm.resetMapObjects(923010000);\n-        cm.warp(923010000);\n+        var em = cm.getEventManager(\"3rdJob_mount\");\n+        if (em == null)\n+            cm.sendOk(\"Sorry, but 3rd job advancement (mount) is closed.\");\n+        else {\n+            if (em.getProperty(\"noEntry\") == \"false\") {\n+                var eim = em.newInstance(\"3rdjob_mount\");\n+                eim.registerPlayer(cm.getPlayer());\n+            }\n+            else {\n+                cm.sendOk(\"There is currently someone in this map, come back later.\");\n+            }\n+        }\n+    }\n+    else {\n+        cm.sendSimple(\"Only few adventurers, from a selected public, are eligible to protect the Watch Hog.\");\n     }\n-        \n-    else cm.sendSimple(\"Only few adventurers, from a selected public, are eligible to protect the Watch Hog.\");\n+    \n     cm.dispose();\n }\n\\ No newline at end of file"}, {"sha": "4fd4d80f48848375979a7ecb6ea2dce557c61d3c", "filename": "scripts/npc/2060009.js", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/2060009.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/2060009.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2060009.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -34,10 +34,10 @@ function action(mode, type, selection) {\n                     cm.gainMeso(-1000);\n             } else\n                 cm.gainItem(4031242,-1);\n-            cm.warp(230030200);\n+            cm.warp(230030200, 2);\n             cm.dispose();\n             return;\n-        }else if(selection == 1){\n+        } else if (selection == 1) {\n \t\t\t if (cm.getPlayer().getMeso() < 10000) {\n \t\t\t\tcm.sendOk(\"I don't think you have enough money...\");\n \t\t\t\tcm.dispose();"}, {"sha": "c5b72ccb4387ccc8ccfdd1dacf25fe1d65aab1cc", "filename": "scripts/npc/2081100.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/2081100.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/2081100.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2081100.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -46,7 +46,7 @@ function action(mode, type, selection) {\n                         status--;\n     \n                 if(status == 0) {\n-                        if(cm.getLevel() < 120 || Math.round(cm.getJobId() / 100) != 1) {\n+                        if(cm.getLevel() < 120 || Math.floor(cm.getJobId() / 100) != 1) {\n                                 cm.sendOk(\"Please don't bother me right now, I am trying to concentrate.\");\n                                 cm.dispose();\n                         } else if (!cm.isQuestCompleted(6904)) {"}, {"sha": "b8a451a52bf5c1c29e0cdd143ceda9b526e37de2", "filename": "scripts/npc/2081200.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/2081200.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/2081200.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2081200.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -46,7 +46,7 @@ function action(mode, type, selection) {\n                         status--;\n     \n                 if(status == 0) {\n-                        if(cm.getLevel() < 120 || Math.round(cm.getJobId() / 100) != 2) {\n+                        if(cm.getLevel() < 120 || Math.floor(cm.getJobId() / 100) != 2) {\n                                 cm.sendOk(\"Please don't bother me right now, I am trying to concentrate.\");\n                                 cm.dispose();\n                         } else if (!cm.isQuestCompleted(6914)) {"}, {"sha": "1cfa61a43f0bb571fed8199eaa47cd2412f32af3", "filename": "scripts/npc/2081300.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/2081300.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/2081300.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2081300.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -46,7 +46,7 @@ function action(mode, type, selection) {\n                         status--;\n     \n                 if(status == 0) {\n-                        if(cm.getLevel() < 120 || Math.round(cm.getJobId() / 100) != 3) {\n+                        if(cm.getLevel() < 120 || Math.floor(cm.getJobId() / 100) != 3) {\n                                 cm.sendOk(\"Please don't bother me right now, I am trying to concentrate.\");\n                                 cm.dispose();\n                         } else if (!cm.isQuestCompleted(6924)) { "}, {"sha": "21590f4a40d499b623948cd59ca6c5fe1080f764", "filename": "scripts/npc/2081400.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/2081400.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/2081400.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2081400.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -46,7 +46,7 @@ function action(mode, type, selection) {\n                         status--;\n     \n                 if(status == 0) {\n-                        if(cm.getLevel() < 120 || Math.round(cm.getJobId() / 100) != 4) {\n+                        if(cm.getLevel() < 120 || Math.floor(cm.getJobId() / 100) != 4) {\n                                 cm.sendOk(\"Please don't bother me right now, I am trying to concentrate.\");\n                                 cm.dispose();\n                         } else if (!cm.isQuestCompleted(6934)) {"}, {"sha": "65283e11266e43e68d78bf8a1fba3d9f7bd1f5ab", "filename": "scripts/npc/2081500.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/2081500.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/2081500.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2081500.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -46,7 +46,7 @@ function action(mode, type, selection) {\n                         status--;\n     \n                 if(status == 0) {\n-                        if(cm.getLevel() < 120 || Math.round(cm.getJobId() / 100) != 5) {\n+                        if(cm.getLevel() < 120 || Math.floor(cm.getJobId() / 100) != 5) {\n                                 cm.sendOk(\"Please don't bother me right now, I am trying to concentrate.\");\n                                 cm.dispose();\n                         } else if (!cm.isQuestCompleted(6944)) {"}, {"sha": "552e9c968d009cad5894694cc22d7bc09ef8a760", "filename": "scripts/npc/2112000.js", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/2112000.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/2112000.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/2112000.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -97,7 +97,8 @@ function action(mode, type, selection) {\n                                                 var mapobj = eim.getMapInstance(926100401);\n                                                 var bossobj = MapleLifeFactory.getMonster(9300139);\n                                                 \n-                                                mapobj.spawnMonsterWithEffect(bossobj, 13, new Packages.java.awt.Point(250, 100));\n+                                                //mapobj.spawnMonsterWithEffect(bossobj, 13, new Packages.java.awt.Point(250, 100));\n+                                                mapobj.spawnMonsterOnGroundBelow(bossobj, new Packages.java.awt.Point(250, 100));\n \n                                                 eim.setIntProperty(\"statusStg7\", 1);\n                                                 eim.setIntProperty(\"yuletePassed\", -1);\n@@ -108,7 +109,8 @@ function action(mode, type, selection) {\n                                                 var mapobj = eim.getMapInstance(926100401);\n                                                 var bossobj = MapleLifeFactory.getMonster(9300140);\n                                                 \n-                                                mapobj.spawnMonsterWithEffect(bossobj, 14, new Packages.java.awt.Point(250, 100));\n+                                                //mapobj.spawnMonsterWithEffect(bossobj, 14, new Packages.java.awt.Point(250, 100));\n+                                                mapobj.spawnMonsterOnGroundBelow(bossobj, new Packages.java.awt.Point(250, 100));\n \n                                                 eim.setIntProperty(\"statusStg7\", 2);\n                                                 eim.setIntProperty(\"yuletePassed\", -1);"}, {"sha": "6120d47d68a0aebfb3c86e6a6a5b6661de90be9a", "filename": "scripts/npc/9060000.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/9060000.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/9060000.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9060000.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -38,7 +38,7 @@ function action(mode, type, selection){\n     \n     if(status == 0) cm.sendOk(\"Well okay, I will send you back.\");\n     else {\n-        cm.warp(923010100);\n+        cm.getEventInstance().clearPQ();\n         cm.dispose();\n     }\n }\n\\ No newline at end of file"}, {"sha": "a2731e4415598e70e64870a579160dcee4617bcf", "filename": "scripts/npc/9201043.js", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/9201043.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/9201043.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201043.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -45,15 +45,19 @@ function action(mode, type, selection) {\n         else\n             status--;\n         if (status == 1 && selection == 0) {\n-            if (cm.haveItem(4031592, 1) && cm.isMarried()==1) {\n+            if (cm.haveItem(4031592, 1)/* && cm.isMarried()==1*/) {\n                 cm.sendYesNo(\"So you would like to enter the #bEntrance#k?\");\n                 MySelection = selection;\n             } else {\n                 cm.sendOk(\"You must have an Entrance Ticket to enter, and you have to be married.\");\n                 cm.dispose();\n             }\n         } else if (status == 1 && selection == 1) {\n-            if (cm.haveItem(4031593, 10)) {\n+            if (cm.haveItem(4031592)) {\n+                cm.sendOk(\"You already have an Entrance Ticket!\");\n+                cm.dispose();\n+            }\n+            else if (cm.haveItem(4031593, 10)) {\n                 cm.sendYesNo(\"So you would like a Ticket?\");\n                 MySelection = selection;\n             } else {"}, {"sha": "13a402420c7dabc9f34ff0e0fe94b0ecca38b6a1", "filename": "scripts/npc/9201044.js", "status": "added", "additions": 291, "deletions": 0, "changes": 291, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/9201044.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/9201044.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201044.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -0,0 +1,291 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+/*\n+@       Author : Ronan\n+@\n+@\tNPC = Amos (PQ)\n+@\tMap = AmoriaPQ maps\n+@\tFunction = AmoriaPQ Host\n+@\n+@\tDescription: Used to find the combo to unlock the next door. Players stand on 5 different crates to guess the combo.\n+*/\n+\n+importPackage(Packages.server.life);\n+\n+var debug = false;\n+var autopass = false;\n+\n+function spawnMobs(maxSpawn) {\n+    var spawnPosX;\n+    var spawnPosY;\n+\n+    var mapObj = cm.getMap();\n+    if (stage == 2) {\n+        spawnPosX = [619, 299, 47, -140, -471];\n+        spawnPosY = [-840, -840, -840, -840, -840];\n+\n+        for(var i = 0; i < 5; i++) {\n+            for(var j = 0; j < 2; j++) {\n+                var mobObj1 = MapleLifeFactory.getMonster(9400515);\n+                var mobObj2 = MapleLifeFactory.getMonster(9400516);\n+                var mobObj3 = MapleLifeFactory.getMonster(9400517);\n+\n+                mapObj.spawnMonsterOnGroundBelow(mobObj1, new Packages.java.awt.Point(spawnPosX[i], spawnPosY[i]));\n+                mapObj.spawnMonsterOnGroundBelow(mobObj2, new Packages.java.awt.Point(spawnPosX[i], spawnPosY[i]));\n+                mapObj.spawnMonsterOnGroundBelow(mobObj3, new Packages.java.awt.Point(spawnPosX[i], spawnPosY[i]));\n+            }\n+        }\n+    } else {\n+        spawnPosX = [2303, 1832, 1656, 1379, 1171];\n+        spawnPosY = [240, 150, 300, 150, 240];\n+\n+        for(var i = 0; i < maxSpawn; i++) {\n+            var rndMob = 9400519 + Math.floor(Math.random() * 4);\n+            var rndPos = Math.floor(Math.random() * 5);\n+\n+            var mobObj = MapleLifeFactory.getMonster(rndMob);\n+            mapObj.spawnMonsterOnGroundBelow(mobObj, new Packages.java.awt.Point(spawnPosX[rndPos], spawnPosY[rndPos]));\n+        }\n+    }\n+}\n+\n+function generateCombo1() {\n+\tvar positions = Array(0,0,0,0,0,0,0,0,0);\n+        var rndPicked = Math.floor(Math.random() * Math.pow(3, 5));\n+        \n+        while(rndPicked > 0) {\n+            (positions[rndPicked % 3])++;\n+            \n+            rndPicked = Math.floor(rndPicked / 3);\n+        }\n+\t\n+\tvar returnString = \"\";\n+\tfor(var i = 0; i < positions.length; i++) {\n+\t\treturnString += positions[i];\n+\t\tif(i != positions.length - 1)\n+                        returnString += \",\";\n+\t}\n+\t\n+\treturn returnString;\n+}\n+\n+function generateCombo2() {\n+\tvar toPick = 5, rndPicked;\n+\tvar positions = Array(0,0,0,0,0,0,0,0,0);\n+\twhile(toPick > 0) {\n+\t\trndPicked = Math.floor(Math.random() * 9);\n+                \n+                if(positions[rndPicked] == 0) {\n+                        positions[rndPicked] = 1;\n+                        toPick--;\n+                }\n+\t}\n+\t\n+\tvar returnString = \"\";\n+\tfor(var i = 0; i < positions.length; i++) {\n+\t\treturnString += positions[i];\n+\t\tif(i != positions.length - 1)\n+                        returnString += \",\";\n+\t}\n+\t\n+\treturn returnString;\n+}\n+\n+var status = 0;\n+var curMap, stage;\n+\n+function clearStage(stage, eim, curMap) {\n+    eim.setProperty(stage + \"stageclear\", \"true\");\n+    if(stage > 1) {\n+        eim.showClearEffect(true);\n+        eim.linkToNextStage(stage, \"apq\", curMap);  //opens the portal to the next map\n+    }\n+    else {\n+        cm.getMap().getPortal(\"go01\").setPortalState(false);\n+        \n+        var val = Math.floor(Math.random() * 3);\n+        eim.showClearEffect(670010200, \"gate\" + val, 2);\n+        \n+        cm.getMap().getPortal(\"go0\" + val).setPortalState(true);\n+        eim.linkPortalToScript(stage, \"go0\" + val, \"apq0\" + val, curMap);\n+    }\n+}\n+\n+function start() {\n+    curMap = cm.getMapId();\n+    stage = Math.floor((curMap - 670010200) / 100) + 1;\n+    \n+    status = -1;\n+    action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+        if (mode == -1) {\n+            cm.dispose();\n+        } else if (mode == 0){\n+            cm.dispose();\n+        } else {\n+                if (mode == 1)\n+                        status++;\n+                else\n+                        status--;\n+                    \n+                var eim = cm.getPlayer().getEventInstance();\n+                \n+                if(eim.getProperty(stage.toString() + \"stageclear\") != null) {\n+                        cm.sendNext(\"The portal is already open, advance for the trials that awaits you there.\");\n+                }\n+                else {\n+                        if (eim.isEventLeader(cm.getPlayer())) {\n+                                var state = eim.getIntProperty(\"statusStg\" + stage);\n+\n+                                if(state == -1) {           // preamble\n+                                        if(stage == 1) cm.sendOk(\"Hi. Welcome to the #bstage \" + stage + \"#k of the Amorian Challenge. In this stage, talk to #p9201047#, he will pass to you further details of the mission. After shattering the Magik Mirror down there, return the shard to #p9201047# and come here to gain access to the next stage.\");\n+                                        else if(stage == 2) cm.sendOk(\"Hi. Welcome to the #bstage \" + stage + \"#k of the Amorian Challenge. In this stage, let 5 of your party members climb up the platforms in such a way to try for a combination to unlock the portal to the next level. When you feel ready, talk to me and I'll let you know the situation. However, be prepared, as in the case the portal does not get unlocked after a few tries, monsters will spawn.\");\n+                                        else if(stage == 3) cm.sendOk(\"Hi. Welcome to the #bstage \" + stage + \"#k of the Amorian Challenge. In this stage, let 5 of your party members climb up the platforms, one on each, in such a way to try for a combination to unlock the portal to the next level. When you feel ready, talk to me and I'll let you know the situation. Take hint: upon failing, count the number of slimes appearing on the scene, that will tell how many of you had their position right.\");\n+\n+                                        var st = (autopass) ? 2 : 0;\n+                                        eim.setProperty(\"statusStg\" + stage, st);\n+                                }\n+                                else {       // check stage completion\n+                                        if(state == 2) {\n+                                                eim.setProperty(\"statusStg\" + stage, 1);\n+                                                clearStage(stage, eim, curMap);\n+                                                cm.dispose();\n+                                                return;\n+                                        }\n+\n+                                        var map = cm.getPlayer().getMap();\n+                                        if(stage == 1) {\n+                                                if(eim.getIntProperty(\"statusStg\" + stage) == 1) {\n+                                                    clearStage(stage, eim, curMap);\n+                                                } else {\n+                                                    cm.sendOk(\"Talk with #p9201047# for more info on this stage.\");\n+                                                }\n+                                        } else if(stage == 2 || stage == 3) {\n+                                                if(map.countMonsters() == 0) {\n+                                                        objset = [0,0,0,0,0,0,0,0,0];\n+                                                        var playersOnCombo = 0;\n+                                                        var party = cm.getEventInstance().getPlayers();\n+                                                        for (var i = 0; i < party.size(); i++) {\n+                                                            for (var y = 0; y < map.getAreas().size(); y++) {\n+                                                                if (map.getArea(y).contains(party.get(i).getPosition())) {\n+                                                                    playersOnCombo++;\n+                                                                    objset[y] += 1;\n+                                                                    break;\n+                                                                }\n+                                                            }\n+                                                        }\n+\n+                                                        if (playersOnCombo == 5/* || cm.getPlayer().gmLevel() > 1*/ || debug) {\n+                                                            var comboStr = eim.getProperty(\"stage\" + stage + \"combo\");\n+                                                            if (comboStr == null || comboStr == \"\") {\n+                                                                if (stage == 2) {\n+                                                                    comboStr = generateCombo1();\n+                                                                } else {\n+                                                                    comboStr = generateCombo2();\n+                                                                }\n+\n+                                                                eim.setProperty(\"stage\" + stage + \"combo\", comboStr);\n+                                                                if(debug) print(\"generated \" + comboStr + \" for stg\" + stage + \"\\n\");\n+                                                            }\n+\n+                                                            var combo = comboStr.split(',');\n+                                                            var correctCombo = true;\n+                                                            var guessedRight = objset.length;\n+                                                            var playersRight = 0;\n+\n+                                                            if(!debug) {\n+                                                                for (i = 0; i < objset.length; i++) {\n+                                                                    if (parseInt(combo[i]) != objset[i]) {\n+                                                                        correctCombo = false;\n+                                                                        guessedRight--;\n+                                                                    } else {\n+                                                                        if(objset[i] > 0) playersRight++;\n+                                                                    }\n+                                                                }\n+                                                            } else {\n+                                                                for (i = 0; i < objset.length; i++) {\n+                                                                    var ci = cm.getPlayer().countItem(4000000 + i);\n+\n+                                                                    if (ci != parseInt(combo[i])) {\n+                                                                        correctCombo = false;\n+                                                                        guessedRight--;\n+                                                                    } else {\n+                                                                        if(ci > 0) playersRight++;\n+                                                                    }\n+                                                                }\n+                                                            }\n+\n+\n+                                                            if (correctCombo/* || cm.getPlayer().gmLevel() > 1*/) {\n+                                                                eim.setProperty(\"statusStg\" + stage, 1);\n+                                                                clearStage(stage, eim, curMap);\n+                                                                cm.dispose();\n+                                                            } else {\n+                                                                var miss = eim.getIntProperty(\"missCount\") + 1;\n+                                                                var maxMiss = (stage == 2) ? 7 : 1;\n+\n+                                                                if (miss < maxMiss) {   //already implies stage 2\n+                                                                    eim.setIntProperty(\"missCount\", miss);\n+\n+                                                                    if(guessedRight == 6) { //6 unused slots on this stage\n+                                                                        cm.sendNext(\"All ropes weigh differently. Think your next course of action, then try again.\");\n+                                                                        cm.mapMessage(5, \"Amos: Hmm... All ropes weigh differently.\");\n+                                                                    }\n+                                                                    else {\n+                                                                        cm.sendNext(\"One rope weigh the same. Think your next course of action, then try again.\");\n+                                                                        cm.mapMessage(5, \"Amos: Hmm... One rope weigh the same.\");\n+                                                                    }\n+                                                                } else {\n+                                                                    spawnMobs(playersRight);\n+                                                                    eim.setIntProperty(\"missCount\", 0);\n+                                                                    if(stage == 2) {\n+                                                                        eim.setProperty(\"stage2combo\", \"\");\n+\n+                                                                        cm.sendNext(\"You have failed to discover the right combination, now it shall be reset. Start over again!\");\n+                                                                        cm.mapMessage(5, \"Amos: You have failed to discover the right combination, now it shall be reset. Start over again!\");\n+                                                                    }\n+                                                                }\n+\n+                                                                eim.showWrongEffect();\n+                                                                cm.dispose();\n+                                                            }\n+                                                        } else {\n+                                                            if(stage == 2) cm.sendNext(\"It looks like you guys haven't found the ways of this trial yet. Think on an arrangement of 5 members on the platforms. Remember, exactly 5 are allowed to stand on the platforms, and if you move it may not count as an answer, so please keep that in mind. Keep going!\");\n+                                                            else cm.sendNext(\"It looks like you guys haven't found the ways of this trial yet. Think on an arrangement of party members on different platforms. Remember, exactly 5 are allowed to stand on the platforms, and if you move it may not count as an answer, so please keep that in mind. Keep going!\");\n+\n+                                                            cm.dispose();\n+                                                        }\n+                                                } else {\n+                                                        cm.sendNext(\"Defeat all mobs before trying for a combination.\");\n+                                                }\n+                                        }\n+                                }\n+                        } else {\n+                                cm.sendNext(\"Please tell your #bParty-Leader#k to come talk to me.\");\n+                        }\n+                }\n+                \n+                cm.dispose();\n+        }\n+}\n\\ No newline at end of file"}, {"sha": "05abaf6b9f8ccc42212f0c07d143b01e25fcd17b", "filename": "scripts/npc/9201045.js", "status": "added", "additions": 197, "deletions": 0, "changes": 197, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/9201045.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/9201045.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201045.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -0,0 +1,197 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+/*\n+@       Author : Ronan\n+@\n+@\tNPC = Amos (PQ)\n+@\tMap = AmoriaPQ maps\n+@\tFunction = AmoriaPQ Host\n+@\n+@\tDescription: Last stages of the Amorian Challenge\n+*/\n+\n+var debug = false;\n+var status = 0;\n+var curMap, stage;\n+\n+function isAllGatesOpen() {\n+    var map = cm.getPlayer().getMap();\n+    \n+    for(var i = 0; i < 7; i++) {\n+        var gate = map.getReactorByName(\"gate0\" + i);\n+        if(gate.getState() != 4) {\n+            return false;\n+        }\n+    }\n+    \n+    return true;\n+}\n+\n+function clearStage(stage, eim, curMap) {\n+    eim.setProperty(stage + \"stageclear\", \"true\");\n+    \n+    eim.showClearEffect(true);\n+    eim.linkToNextStage(stage, \"apq\", curMap);  //opens the portal to the next map\n+}\n+\n+function start() {\n+    curMap = cm.getMapId();\n+    stage = Math.floor((curMap - 670010200) / 100) + 1;\n+    \n+    status = -1;\n+    action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+        if (mode == -1) {\n+            cm.dispose();\n+        } else if (mode == 0){\n+            cm.dispose();\n+        } else {\n+                if (mode == 1)\n+                        status++;\n+                else\n+                        status--;\n+                    \n+                var eim = cm.getPlayer().getEventInstance();\n+                if(eim.getProperty(stage.toString() + \"stageclear\") != null) {\n+                        if(stage < 5) cm.sendNext(\"The portal is already open, advance for the trials that awaits you there.\");\n+                        else if(stage == 5) eim.warpEventTeamToMapSpawnPoint(670010700, 0);\n+                        else {\n+                                if(cm.isEventLeader()) {\n+                                        if(eim.getIntProperty(\"marriedGroup\") == 0) {\n+                                                eim.restartEventTimer(1 * 60 * 1000);\n+                                                eim.warpEventTeam(670010800);\n+                                        } else {\n+                                                eim.setIntProperty(\"marriedGroup\", 0);\n+\n+                                                eim.restartEventTimer(2 * 60 * 1000);\n+                                                eim.warpEventTeamToMapSpawnPoint(670010750, 1);\n+                                        }\n+                                } else {\n+                                        cm.sendNext(\"Wait for the leader's command to start the bonus phase.\");\n+                                }\n+                        }\n+                }\n+                else {\n+                        if(stage != 6) {\n+                                if (eim.isEventLeader(cm.getPlayer())) {\n+                                        var state = eim.getIntProperty(\"statusStg\" + stage);\n+\n+                                        if(state == -1) {           // preamble\n+                                                if(stage == 4) cm.sendOk(\"Hi. Welcome to the #bstage \" + stage + \"#k of the Amorian Challenge. In this stage, collect me #b50 #t4031597##k from the mobs around here.\");\n+                                                else if(stage == 5) cm.sendOk(\"Hi. Welcome to the #bstage \" + stage + \"#k of the Amorian Challenge. That was quite the run to reach here, eh? Well, that was your task this stage here, anyway: survival! Firstly, have anyone alive gathered here before challenging the boss.\");\n+\n+                                                var st = (debug) ? 2 : 0;\n+                                                eim.setProperty(\"statusStg\" + stage, st);\n+                                        }\n+                                        else {       // check stage completion\n+                                                if(stage == 4) {\n+                                                        if(cm.haveItem(4031597, 50)) {\n+                                                            cm.gainItem(4031597, -50);\n+\n+                                                            var tl = eim.getTimeLeft();\n+                                                            if(tl >= 5 * 60 * 1000) {\n+                                                                eim.setProperty(\"timeLeft\", tl);\n+                                                                eim.restartEventTimer(4 * 60 * 1000);\n+                                                            }\n+\n+                                                            cm.sendNext(\"Well done! Let me open the gate for you now.\");\n+                                                            cm.mapMessage(5, \"Amos: The time runs short now. Your objective is to open the gates and gather together on the other side of the next map. Good luck!\");\n+                                                            clearStage(stage, eim, curMap);\n+                                                        } else {\n+                                                            cm.sendNext(\"Hey, didn't you pay heed? I demand #r50 #t4031597##k for the success of this trial.\");\n+                                                        }\n+\n+                                                } else if(stage == 5) {\n+                                                        var pass = true;\n+\n+                                                        if(eim.isEventTeamTogether()) {\n+                                                            var party = cm.getEventInstance().getPlayers();\n+                                                            var area = cm.getMap().getArea(2);\n+\n+                                                            for (var i = 0; i < party.size(); i++) {\n+                                                                    var chr = party.get(i);\n+\n+                                                                    if (chr.isAlive() && !area.contains(chr.getPosition())) {\n+                                                                        pass = false;\n+                                                                        break;\n+                                                                    }\n+                                                            }\n+                                                        } else {\n+                                                            pass = false;\n+                                                        }\n+\n+                                                        if(pass) {\n+                                                                if(isAllGatesOpen()) {\n+                                                                    var tl = eim.getProperty(\"timeLeft\");\n+                                                                    if(tl != null) {\n+                                                                        var tr = eim.getTimeLeft();\n+\n+                                                                        var tl = parseFloat(tl);\n+                                                                        eim.restartEventTimer(tl - (4 * 60 * 1000 - tr));\n+                                                                    }\n+\n+                                                                    cm.sendNext(\"Okay, your team is already gathered. Talk to me when you guys feel ready to fight the #rGeist Balrog#k.\");\n+\n+                                                                    cm.mapMessage(5, \"Amos: Now only the boss fight remains! Once inside, talk to me only if you want to join the boss fight, you will be transported to action immediately.\");\n+                                                                    clearStage(stage, eim, curMap);\n+                                                                } else {\n+                                                                    cm.sendNext(\"You guys reached here by teleporting, eh? I can tell it. This is a shame, all gates needs to be open to fulfill this stage. If you still have the time, backtrack your steps and take down those gates.\");\n+                                                                }\n+                                                        } else {\n+                                                                cm.sendNext(\"Your team has not gathered nearby yet. Give them some time to reach here.\");\n+                                                        }\n+                                                }\n+                                        }\n+                                } else {\n+                                        cm.sendNext(\"Please tell your #bParty-Leader#k to come talk to me.\");\n+                                }\n+                        } else {\n+                                var area = cm.getMap().getArea(0);\n+                                if (area.contains(cm.getPlayer().getPosition())) {\n+                                        if(cm.getPlayer().isAlive()) {\n+                                                cm.warp(670010700, \"st01\");\n+                                        } else {\n+                                                cm.sendNext(\"Oy stand back... You are already dead.\");\n+                                        }\n+                                } else {\n+                                        if(cm.isEventLeader()) {\n+                                                if(cm.haveItem(4031594, 1)) {\n+                                                        cm.gainItem(4031594, -1);\n+                                                        cm.sendNext(\"Congratulations! Your party defeated the Geist Balrog, thus #bcompleting the Amorian Challenge#k! Talk to me again to start the bonus stage.\");\n+\n+                                                        clearStage(stage, eim, curMap);\n+                                                        eim.clearPQ();\n+                                                } else {\n+                                                        cm.sendNext(\"How is it? Are you going to retrieve me the #b#t4031594##k? That's your last trial, hold on!\")\n+                                                }\n+                                        } else {\n+                                                cm.sendNext(\"Please tell your #bParty-Leader#k to come talk to me.\");\n+                                        }\n+                                }\n+                        }\n+                }\n+                \n+                cm.dispose();\n+        }\n+}\n\\ No newline at end of file"}, {"sha": "5c6cbe2a9ddcc0494143962b46c81f11d828e683", "filename": "scripts/npc/9201046.js", "status": "added", "additions": 84, "deletions": 0, "changes": 84, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/9201046.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/9201046.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201046.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -0,0 +1,84 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+/*\n+@       Author : Ronan\n+@\n+@\tNPC = Amos (PQ)\n+@\tMap = AmoriaPQ maps\n+@\tFunction = AmoriaPQ Host\n+@\n+@\tDescription: Bonus stages of the Amorian Challenge\n+*/\n+\n+var debug = false;\n+var status = 0;\n+var curMap, stage;\n+\n+function start() {\n+    curMap = cm.getMapId();\n+    stage = Math.floor((curMap - 670010200) / 100) + 1;\n+    \n+    status = -1;\n+    action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+        if (mode == -1) {\n+            cm.dispose();\n+        } else if (mode == 0){\n+            cm.dispose();\n+        } else {\n+                if (mode == 1)\n+                        status++;\n+                else\n+                        status--;\n+                    \n+                var eim = cm.getPlayer().getEventInstance();\n+                if(curMap == 670010750) {\n+                        if(cm.haveItem(4031597, 35)) {\n+                                if(cm.canHold(1102101) && eim.getIntProperty(\"marriedGroup\") == 0) {\n+                                        eim.setIntProperty(\"marriedGroup\", 1);\n+\n+                                        var baseId = (cm.getPlayer().getGender() == 0) ? 1102101 : 1102104;\n+                                        var rnd = Math.floor(Math.random() * 3);\n+                                        cm.gainItem(baseId + rnd);\n+\n+                                        cm.sendNext(\"Bravo! You are the first to claim the prize for fetching 35 #t4031597#. Take this cape as merit for your feat.\");\n+                                        cm.gainItem(4031597, -35);\n+                                        cm.gainExp(4000 * cm.getPlayer().getExpRate());\n+                                } else if(eim.getIntProperty(\"marriedGroup\") == 0) {\n+                                        cm.sendNext(\"Check if you have a slot available before talking about receiving prizes!\");\n+                                } else {\n+                                        cm.sendNext(\"35 #t4031597#. Nicely done, too bad someone took the prize first. Hurry up to get the last moments of the bonus stage!\");\n+                                        cm.gainItem(4031597, -35);\n+                                        cm.gainExp(4000 * cm.getPlayer().getExpRate());\n+                                }\n+                        } else {\n+                                cm.sendNext(\"To claim a prize here, get to me 35 #t4031597# from the mobs spawned from the boxes. Only the #rfirst player can claim the big prize#k, although others can still claim an EXP boost from this feat. Alternatively, one can choose to #bskip this bonus stage#k and go for the usual one by passing #bthrough the portals#k.\");\n+                        }\n+                } else {\n+                        cm.sendNext(\"Hurry up to get the last moments of the bonus stage!\");\n+                }\n+                \n+                cm.dispose();\n+        }\n+}\n\\ No newline at end of file"}, {"sha": "1c28526bee47a677e84a9b160f6bfd9a8de1f81a", "filename": "scripts/npc/9201047.js", "status": "added", "additions": 88, "deletions": 0, "changes": 88, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/9201047.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/9201047.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201047.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -0,0 +1,88 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+/* The Glimmer Man\n+\tAmoria PQ Stg1/exit\n+ */\n+\n+var status;\n+var curMap, stage;\n+ \n+function start() {\n+        curMap = cm.getMapId();\n+        stage = Math.floor((curMap - 670010200) / 100) + 1; \n+    \n+        status = -1;\n+        action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {        \n+        if (mode == -1) {\n+                cm.dispose();\n+        } else {\n+                if (mode == 0 && type > 0) {\n+                        cm.dispose();\n+                        return;\n+                }\n+                if (mode == 1)\n+                        status++;\n+                else\n+                        status--;\n+    \n+                if(status == 0) {\n+                        if(cm.getMapId() != 670010200) {\n+                            cm.sendYesNo(\"So, are you going to leave this place?\");\n+                        } else {\n+                            if(cm.isEventLeader()) {\n+                                var eim = cm.getEventInstance();\n+                                var st = eim.getIntProperty(\"statusStg\" + stage);\n+                                \n+                                if(cm.haveItem(4031595, 1)) {\n+                                    cm.gainItem(4031595, -1);\n+                                    eim.setIntProperty(\"statusStg\" + stage, 1);\n+\n+                                    cm.sendOk(\"You retrieved the #t4031595#, splendid! You may report to Amos about your success on this task.\");\n+                                } else if(st < 1 && cm.getMap().countMonsters() == 0) {\n+                                    eim.setIntProperty(\"statusStg\" + stage, 1);\n+                                    \n+                                    var mapObj = cm.getMap();\n+                                    mapObj.toggleDrops();\n+                                    \n+                                    var mobObj = Packages.server.life.MapleLifeFactory.getMonster(9400518);\n+                                    mapObj.spawnMonsterOnGroundBelow(mobObj, new Packages.java.awt.Point(-245, 810));\n+                                    \n+                                    cm.sendOk(\"The fierry appeared! Defeat it to get the #b#t4031596##k!\");\n+                                } else {\n+                                    if(st < 1) cm.sendOk(\"Your task is to recover a shard of the Magik Mirror. To do so, you will need a #b#t4031596##k, that drops on a fierry that appears when all other mobs are killed. To access the rooms the mobs are, pick the portal corresponding to your gender and kill all mobs there. Ladies take the left side, gentlemen the right side.\");\n+                                    else cm.sendOk(\"Your task is to recover a shard of the Magik Mirror. Defeat the fierry to get the #b#t4031596##k.\");\n+                                }\n+                            } else {\n+                                cm.sendOk(\"Your task is to recover a shard of the Magik Mirror. To do so, you will need a #b#t4031596##k, that drops on a fierry that appears when all other mobs are killed. To access the rooms the mobs are, pick the portal corresponding to your gender and kill all mobs there. Ladies take the left side, gentlemen the right side. #bYour leader#k must bring the #b#t4031595##k to have my pass.\");\n+                            }\n+                            \n+                            cm.dispose();\n+                        }\n+                } else if(status == 1) {\n+                    cm.warp(670010000, \"st00\");\n+                    cm.dispose();\n+                }\n+        }\n+}\n\\ No newline at end of file"}, {"sha": "954eab922782c9f6393c72efc4c8fb73f8ccd7e0", "filename": "scripts/npc/9201048.js", "status": "modified", "additions": 61, "deletions": 69, "changes": 130, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/9201048.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/9201048.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201048.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -1,76 +1,68 @@\n-/*\n-\tThis file is part of the OdinMS Maple Story Server\n-    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n-\t\t       Matthias Butz <matze@odinms.de>\n-\t\t       Jan Christian Meyer <vimes@odinms.de>\n-\n-    This program is free software: you can redistribute it and/or modify\n-    it under the terms of the GNU Affero General Public License as\n-    published by the Free Software Foundation version 3 as published by\n-    the Free Software Foundation. You may not use, modify or distribute\n-    this program under any other version of the GNU Affero General Public\n-    License.\n-\n-    This program is distributed in the hope that it will be useful,\n-    but WITHOUT ANY WARRANTY; without even the implied warranty of\n-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-    GNU Affero General Public License for more details.\n-\n-    You should have received a copy of the GNU Affero General Public License\n-    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+/**\n+ * @author: Ronan\n+ * @npc: Amos\n+ * @map: Entrance of Amorian Challenge (670010100)\n+ * @func: Amoria PQ\n */\n-/* @Author Jvlaple */\n \n-var minLevel = 40;\n-var maxLevel = 255;\n-var minPlayers = 0;\n-var maxPlayers = 6;\n-//var minMarried = 6;\n-//var minGirls = 1;\n-//var minBoys = 1;\n+var status = 0;\n+var em = null;\n \n function start() {\n-    if (cm.getParty() == null) {\n-        cm.sendOk(\"Please come back to me after you've formed a party.\");\n-        cm.dispose();\n-        return;\n-    }\n-    if (!cm.isLeader()) {\n-        cm.sendOk(\"You are not the party leader.\");\n-        cm.dispose();\n-    } else {\n-        var party = cm.getParty().getMembers();\n-        var next = true;\n-        var levelValid = 0;\n-        var inMap = 0;\n-        if (party.size() < minPlayers || party.size() > maxPlayers)\n-            next = false;\n-        else {\n-            for (var i = 0; i < party.size() && next; i++) {\n-                if ((party.get(i).getLevel() >= minLevel) && (party.get(i).getLevel() <= maxLevel))\n-                    levelValid++;\n-                if (party.get(i).getMapid() == cm.getPlayer().getMapId())\n-                    inMap++;\n-            }\n-            if (levelValid < minPlayers || inMap < minPlayers)\n-                next = false;\n-        }\n-        if (next) {\n-            var em = cm.getEventManager(\"AmoriaPQ\");\n-            if (em == null)\n+\tstatus = -1;\n+\taction(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+        if (mode == -1) {\n                 cm.dispose();\n-            else {\n-                if(!em.startInstance(cm.getParty(),cm.getPlayer().getMap())) {\n-                    cm.sendOk(\"A party in your name is already registered in this event.\");\n-                    cm.dispose();\n-                    return;\n+        } else {\n+                if (mode == 0 && status == 0) {\n+                        cm.dispose();\n+                        return;\n+                }\n+                if (mode == 1)\n+                        status++;\n+                else\n+                        status--;\n+                \n+                if (status == 0) {\n+                        em = cm.getEventManager(\"AmoriaPQ\");\n+                        if(em == null) {\n+                                cm.sendOk(\"The Amoria PQ has encountered an error.\");\n+                                cm.dispose();\n+                                return;\n+                        }\n+                    \n+                        cm.sendSimple(\"#e#b<Party Quest: Amorian Challenge>\\r\\n#k#n\" + em.getProperty(\"party\") + \"\\r\\n\\r\\nIf you're brave enough to attempt the Amorian Challenge, join with others like you and let your #bparty leader#k talk to me. If a party filled with whole married couples register to the challenge, better prizes awaits there.#b\\r\\n#L0#I want to participate in the party quest.\\r\\n#L1#I want to find party members.\\r\\n#L2#I would like to hear more details.\");\n+                } else if (status == 1) {\n+                        if (selection == 0) {\n+                                if (cm.getParty() == null) {\n+                                        cm.sendOk(\"You can participate in the party quest only if you are in a party.\");\n+                                        cm.dispose();\n+                                } else if(!cm.isLeader()) {\n+                                        cm.sendOk(\"Your party leader must talk to me to start this party quest.\");\n+                                        cm.dispose();\n+                                } else {\n+                                        var eli = em.getEligibleParty(cm.getParty());\n+                                        if(eli.size() > 0) {\n+                                                if(!em.startInstance(cm.getParty(), cm.getPlayer().getMap(), 1)) {\n+                                                        cm.sendOk(\"Another party has already entered the #rParty Quest#k in this channel. Please try another channel, or wait for the current party to finish.\");\n+                                                }\n+                                        }\n+                                        else {\n+                                                cm.sendOk(\"You cannot start this party quest yet, because either your party is not in the range size, some of your party members are not eligible to attempt it or they are not in this map. If you're having trouble finding party members, try Party Search.\");\n+                                        }\n+                                        \n+                                        cm.dispose();\n+                                }\n+                        } else if (selection == 1) {\n+                                cm.sendOk(\"Try using a Super Megaphone or asking your buddies or guild to join!\");\n+                                cm.dispose();\n+                        } else {\n+                                cm.sendOk(\"#e#b<Party Quest: Amorian Challenge>#k#n\\r\\nI am Amos, hoster of the well-round famed Amorian Challenge. The event consist of many team puzzles, where cooperation is the fundamental key for progress. Team up with other players to attempt for the bonus stage, where many goodies can be obtained at the end of the event. If an all-couple party is formed, they can get even better prizes on the extra bonus stage.\");\n+                                cm.dispose();\n+                        }\n                 }\n-            }\n-            cm.dispose();\n-        }\n-        else {\n-            cm.sendOk(\"Your party is not a party of six.  Make sure all your members are present and qualified to participate in this quest.  I see #b\" + levelValid.toString() + \" #kmembers are in the right level range, and #b\" + inMap.toString() + \"#k are in my map. If this seems wrong, #blog out and log back in,#k or reform the party.\");\n-            cm.dispose();\n         }\n-    }\n-}\n\\ No newline at end of file\n+}"}, {"sha": "2af2be1c5b53110b8ca07d23d638d797f5e73d49", "filename": "scripts/npc/commands.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/commands.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/npc/commands.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/commands.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -129,7 +129,7 @@ function writeSolaxiaCommandsLv3() {    //GM\n         addCommand(\"notice\", \"\");\n         addCommand(\"rip\", \"\");\n         addCommand(\"openportal\", \"\");\n-        addCommand(\"closeportals\", \"\");\n+        addCommand(\"closeportal\", \"\");\n         addCommand(\"pe\", \"\");\n         addCommand(\"startevent\", \"\");\n         addCommand(\"endevent\", \"\");"}, {"sha": "8d11825f35e4a203998f17ebc4b834a8398e8864", "filename": "scripts/portal/apq00.js", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/portal/apq00.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/portal/apq00.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/apq00.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -0,0 +1,25 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+function enter(pi) {\n+        pi.warp(670010300, 0);\n+        return true;\n+}\n\\ No newline at end of file"}, {"sha": "d43c6d900925528b6bde1a557ed4456dc7b4674d", "filename": "scripts/portal/apq01.js", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/portal/apq01.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/portal/apq01.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/apq01.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -0,0 +1,25 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+function enter(pi) {\n+        pi.warp(670010301, 0);\n+        return true;\n+}\n\\ No newline at end of file"}, {"sha": "93ddaf2667bc597a19d378215d43a854a460e3dd", "filename": "scripts/portal/apq02.js", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/portal/apq02.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/portal/apq02.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/apq02.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -0,0 +1,25 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+function enter(pi) {\n+        pi.warp(670010302, 0);\n+        return true;\n+}\n\\ No newline at end of file"}, {"sha": "421f828725708f991bc0f90344869ab1f0d82e1a", "filename": "scripts/portal/apq1.js", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/portal/apq1.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/portal/apq1.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/apq1.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -0,0 +1,25 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+function enter(pi) {\n+        pi.warp(670010400, 0);\n+        return true;\n+}\n\\ No newline at end of file"}, {"sha": "f50b6981e7b5b1ca92bbaefdcac54c0258c4211b", "filename": "scripts/portal/apq2.js", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/portal/apq2.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/portal/apq2.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/apq2.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -0,0 +1,25 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+function enter(pi) {\n+        pi.warp(670010500, 0);\n+        return true;\n+}\n\\ No newline at end of file"}, {"sha": "6896f7215c3fc61f3f00bdec3e96c25c5392478b", "filename": "scripts/portal/apq3.js", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/portal/apq3.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/portal/apq3.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/apq3.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -0,0 +1,25 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+function enter(pi) {\n+        pi.warp(670010600, 0);\n+        return true;\n+}\n\\ No newline at end of file"}, {"sha": "796929dece23821bb929777ba1454b8e5fc71eb9", "filename": "scripts/portal/apqClosed.js", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/portal/apqClosed.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/portal/apqClosed.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/apqClosed.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -0,0 +1,25 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+function enter(pi) {\n+        pi.message(\"The gate is not opened yet.\");\n+        return false;\n+}\n\\ No newline at end of file"}, {"sha": "1318ef8b598815703b3bf3ec9d3c193911cf9243", "filename": "scripts/portal/apqDoor.js", "status": "renamed", "additions": 12, "deletions": 15, "changes": 27, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/portal/apqDoor.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/portal/apqDoor.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/apqDoor.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -20,19 +20,16 @@\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n /**\n- *6702001.js - Door of APQ\n- *@author Jvlaple\n+ * @Author Ronan\n  */\n-\n-function act() {\n-\tvar eim = rm.getPlayer().getEventInstance();\n-\tvar party = eim.getPlayers();\n-\tvar numOpen = Integer.parseInt(eim.getProperty(\"openedDoors\"));\n-\tvar mf = eim.getMapFactory();\n-\tvar map = mf.getMap(670010600);\n-\teim.setProperty(\"openedDoors\", numOpen + 1);\n-\tfor (var i = 0; i < party.size(); i++) {\n-\t\tparty.get(i).changeMap(map, map.getPortal((numOpen + 1) * 2));\n-\t}\n-}\n-\t\n\\ No newline at end of file\n+function enter(pi) {\n+        var name = pi.getPortal().getName().substring(2, 4);\n+        var gate = pi.getPlayer().getMap().getReactorByName(\"gate\" + name);\n+        if(gate != null && gate.getState() == 4) {\n+            pi.warp(670010600, \"gt\" + name + \"PIB\");\n+            return true;\n+        } else {\n+            pi.message(\"The gate is not opened yet.\");\n+            return false;\n+        }\n+}\n\\ No newline at end of file", "previous_filename": "scripts/reactor/6702001.js"}, {"sha": "9d62fc2f4b40d3738158664226ed67150295ea7d", "filename": "scripts/portal/gendergo.js", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/portal/gendergo.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/portal/gendergo.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/gendergo.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -0,0 +1,20 @@\n+function enter(pi) {\n+    var map = pi.getPlayer().getMap();\n+    if(pi.getPortal().getName() == \"female00\") {\n+        if (pi.getPlayer().getGender() == 1) {\n+            pi.warp(map.getId(), \"female01\");\n+            return true;\n+        } else {\n+            pi.message(\"This portal leads to the girls' area, try the portal at the other side.\");\n+            return false;\n+        }\n+    } else {\n+        if (pi.getPlayer().getGender() == 0) {\n+            pi.warp(map.getId(), \"male01\");\n+            return true;\n+        } else {\n+            pi.message(\"This portal leads to the boys' area, try the portal at the other side.\");\n+            return false;\n+        }\n+    }\n+}\n\\ No newline at end of file"}, {"sha": "fca6c9dc02c981ed360672c6eaa99d9985a335a8", "filename": "scripts/portal/stageBogo.js", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/portal/stageBogo.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/portal/stageBogo.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/stageBogo.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -0,0 +1,29 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+/*\n+    Stage Bonus - Amoria PQ\n+    @Author Ronan\n+*/\n+function enter(pi) {\n+    pi.warp(670010800);\n+    return true;\n+}\n\\ No newline at end of file"}, {"sha": "8c1579c3a6c9a5386afb8a292f80d679cd09ed67", "filename": "scripts/portal/tamepig_out2.js", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/portal/tamepig_out2.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/portal/tamepig_out2.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/tamepig_out2.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -25,10 +25,12 @@ function enter(pi) {\n         pi.removeAll(4031508);\n     }\n     \n-    pi.warp(230000003, \"out00\");\n-    if (pi.getClient().getChannelServer().getMapFactory().getMap(923010000).getCharacters().size() == 0) {\n-        pi.getClient().getChannelServer().getMapFactory().getMap(923010000).clearMapObjects();\n-    }\n+    var pCount = pi.getPlayer().countItem(4031507);\n+    var rCount = pi.getPlayer().countItem(4031508);\n+\n+    if(pCount > 5) pi.gainItem(4031507, -1 * (pCount - 5));\n+    if(rCount > 5) pi.gainItem(4031508, -1 * (rCount - 5));\n     \n+    pi.warp(230000003, \"out00\");\n     return true;\n }\n\\ No newline at end of file"}, {"sha": "2b06a930dc8ea03c4ed11c45c3e12d0e7b85e1a2", "filename": "scripts/quest/20526.js", "status": "added", "additions": 93, "deletions": 0, "changes": 93, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/quest/20526.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/quest/20526.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/quest/20526.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -0,0 +1,93 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+/*\t\n+\tAuthor : Ronan Lana\n+*/\n+var status = -1;\n+\n+function start(mode, type, selection) {\n+    if (mode == -1) {\n+\tqm.dispose();\n+\treturn;\n+    }\n+    \n+    else if (status >= 2 && mode == 0) {\n+        qm.dispose();\n+        return;\n+    }\n+    \n+    if(mode == 1) status++;\n+    else status--;\n+    \n+    if (status == 0) {\n+\tqm.sendNext(\"You lost your Mimiana?! Geez, you have to be zealous for them, as they are a gift of the Empress to us! You have to be teached once again: The riding for Knights are a bit different from the rides available for regular folks. The takes place through a creature that is of the Mimi race that can be found on this island; they are called #bMimianas#k. Instead of riding monsters, the Knights ride Mimiana. There's one thing that you should never, ever forget.\");\n+    } else if (status == 1) {\n+\tqm.sendNextPrev(\"Dont't think of this as just a form of mount or transportation. These mounts can be your friend, your comrade, your colleague... all of the above. Even a friend close enough to entrust your life! That's why the Knights of Ereve actually grow their own mounts.\");\n+    } else if (status == 2) {\n+\tqm.sendAcceptDecline(\"Now, here's a Mimiana egg. Are you ready to raise a Mimiana and have it as your traveling companion for the rest of its life?\");\n+    } else if (status == 3) {\n+\tif(!qm.haveItem(4220137) && !qm.canHold(4220137)) {\n+            qm.sendOk(\"Make up a room on your ETC tab so I can give you the Mimiana egg.\");\n+            qm.dispose();\n+            return;\n+        }\n+        \n+        qm.forceStartQuest();\n+        \n+        if(!qm.haveItem(4220137)) qm.gainItem(4220137);\n+\tqm.sendOk(\"Mimiana's egg can be raised by #bsharing your daily experiences with it#k. Once Mimiana fully grows up, please come see me. One more thing, I talked with #p2060005# beforehand and retrieved the #b#t4032117##k for you. The price to charge remains the same: #r10,000,000 mesos#k.\");\n+\tqm.dispose();\n+    }\n+}\n+\n+function end(mode, type, selection) {\n+    if (mode != 1) {\n+\tqm.dispose();\n+\treturn;\n+    }\n+    \n+    status++;\n+    if (status == 0) {\n+\tqm.sendNext(\"Hey there! How's Mimiana's egg?\");\n+    } else if (status == 1) {   //pretty sure there would need to have an egg EXP condition... Whatever.\n+        if(!qm.haveItem(4220137)) {\n+            qm.sendOk(\"I see, you lost your egg... You need to be more careful when raising a baby Mimiana!\");\n+            qm.dispose();\n+            return;\n+        }\n+        if(!qm.canHold(1902005)) {\n+            qm.sendOk(\"Please, make a space on your EQUIP tab for your Mimiana!\");\n+            qm.dispose();\n+            return;\n+        }\n+        \n+\tqm.sendOk(\"Okay, you now may mount Mimiana again. Take good care of it this time.\");\n+        \n+        qm.gainItem(1902005, 1);\n+        qm.gainItem(4220137, -1);\n+        qm.gainMeso(-10000000);\n+        \n+        qm.forceCompleteQuest();\n+\tqm.dispose();\n+    }\n+}\n+"}, {"sha": "a6b44d559eda8757b81af3c59d1d854dd8e01726", "filename": "scripts/reactor/6701000.js", "status": "added", "additions": 39, "deletions": 0, "changes": 39, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/reactor/6701000.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/reactor/6701000.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/reactor/6701000.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -0,0 +1,39 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc> \n+\t\t\t\t\t   Matthias Butz <matze@odinms.de>\n+\t\t\t\t\t   Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+\n+/* @Author Ronan\n+ * \n+ * Box - bonus for couples\n+ * \n+*/\n+\n+importPackage(Packages.server.life);\n+\n+function act(){\n+\tvar startId = 9400523;\n+        var mobObj, mapObj = rm.getMap();\n+        \n+        for(var i = 0; i < 7; i++) {\n+                mobObj = MapleLifeFactory.getMonster(startId + Math.floor(Math.random() * 3));\n+                mapObj.spawnMonsterOnGroundBelow(mobObj, rm.getReactor().getPosition());\n+        }\n+}\n\\ No newline at end of file"}, {"sha": "a6b44d559eda8757b81af3c59d1d854dd8e01726", "filename": "scripts/reactor/6701001.js", "status": "added", "additions": 39, "deletions": 0, "changes": 39, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/reactor/6701001.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/reactor/6701001.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/reactor/6701001.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -0,0 +1,39 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc> \n+\t\t\t\t\t   Matthias Butz <matze@odinms.de>\n+\t\t\t\t\t   Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+\n+/* @Author Ronan\n+ * \n+ * Box - bonus for couples\n+ * \n+*/\n+\n+importPackage(Packages.server.life);\n+\n+function act(){\n+\tvar startId = 9400523;\n+        var mobObj, mapObj = rm.getMap();\n+        \n+        for(var i = 0; i < 7; i++) {\n+                mobObj = MapleLifeFactory.getMonster(startId + Math.floor(Math.random() * 3));\n+                mapObj.spawnMonsterOnGroundBelow(mobObj, rm.getReactor().getPosition());\n+        }\n+}\n\\ No newline at end of file"}, {"sha": "a6b44d559eda8757b81af3c59d1d854dd8e01726", "filename": "scripts/reactor/6701002.js", "status": "added", "additions": 39, "deletions": 0, "changes": 39, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/reactor/6701002.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/scripts/reactor/6701002.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/reactor/6701002.js?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -0,0 +1,39 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc> \n+\t\t\t\t\t   Matthias Butz <matze@odinms.de>\n+\t\t\t\t\t   Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+\n+/* @Author Ronan\n+ * \n+ * Box - bonus for couples\n+ * \n+*/\n+\n+importPackage(Packages.server.life);\n+\n+function act(){\n+\tvar startId = 9400523;\n+        var mobObj, mapObj = rm.getMap();\n+        \n+        for(var i = 0; i < 7; i++) {\n+                mobObj = MapleLifeFactory.getMonster(startId + Math.floor(Math.random() * 3));\n+                mapObj.spawnMonsterOnGroundBelow(mobObj, rm.getReactor().getPosition());\n+        }\n+}\n\\ No newline at end of file"}, {"sha": "855063d158ca6e83ea3bf4141c66ca52e41cc80e", "filename": "sql/db_database.sql", "status": "modified", "additions": 32, "deletions": 22, "changes": 54, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/sql/db_database.sql", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/sql/db_database.sql", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/sql/db_database.sql?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -20689,27 +20689,27 @@ INSERT INTO `shopitems` (`shopitemid`, `shopid`, `itemid`, `price`, `pitch`, `po\n (6510, 1337, 1902001, 1, 0, 32),\n (6511, 1337, 1902002, 1, 0, 33),\n (6512, 1337, 2044503, 1, 0, 34),\n-(6513, 1337, 2044703, 1, 0, 35),\n-(6514, 1337, 2044603, 1, 0, 36),\n-(6515, 1337, 2043303, 1, 0, 37),\n-(6516, 1337, 2043103, 1, 0, 38),\n-(6517, 1337, 2043203, 1, 0, 39),\n-(6518, 1337, 2043003, 1, 0, 40),\n-(6519, 1337, 2044403, 1, 0, 41),\n-(6520, 1337, 2044303, 1, 0, 42),\n-(6521, 1337, 2043803, 1, 0, 43),\n-(6522, 1337, 2044103, 1, 0, 44),\n-(6523, 1337, 2044203, 1, 0, 45),\n-(6524, 1337, 2044003, 1, 0, 46),\n-(6525, 1337, 2043703, 1, 0, 47),\n-(6526, 1337, 2040807, 1, 0, 48),\n-(6527, 1337, 2040806, 1, 0, 49),\n-(6528, 1337, 2040007, 1, 0, 50),\n-(6529, 1337, 2040506, 1, 0, 51),\n-(6530, 1337, 2040710, 1, 0, 52),\n-(6531, 1337, 2040711, 1, 0, 53),\n-(6532, 1337, 2340000, 1, 0, 54),\n-(20020, 1337, 1082149, 1, 0, 54),\n+(6513, 1337, 2044703, 1, 0, 44),\n+(6514, 1337, 2044603, 1, 0, 45),\n+(6515, 1337, 2043303, 1, 0, 46),\n+(6516, 1337, 2043103, 1, 0, 47),\n+(6517, 1337, 2043203, 1, 0, 48),\n+(6518, 1337, 2043003, 1, 0, 49),\n+(6519, 1337, 2044403, 1, 0, 50),\n+(6520, 1337, 2044303, 1, 0, 51),\n+(6521, 1337, 2043803, 1, 0, 52),\n+(6522, 1337, 2044103, 1, 0, 53),\n+(6523, 1337, 2044203, 1, 0, 54),\n+(6524, 1337, 2044003, 1, 0, 55),\n+(6525, 1337, 2043703, 1, 0, 56),\n+(6526, 1337, 2040807, 1, 0, 57),\n+(6527, 1337, 2040806, 1, 0, 58),\n+(6528, 1337, 2040007, 1, 0, 59),\n+(6529, 1337, 2040506, 1, 0, 60),\n+(6530, 1337, 2040710, 1, 0, 61),\n+(6531, 1337, 2040711, 1, 0, 62),\n+(6532, 1337, 2340000, 1, 0, 63),\n+(20020, 1337, 1082149, 1, 0, 64),\n (6533, 9000069, 2022503, 0, 5, 1),\n (6534, 9000069, 2000004, 0, 5, 2),\n (6535, 9000069, 2022514, 0, 10, 3),\n@@ -21222,7 +21222,17 @@ INSERT INTO `shopitems` ( `shopid`, `itemid`, `price`, `position`) VALUES\n (1052116, 2000002, 320, 212),\n (1052116, 2000001, 160, 216),\n (1052116, 2000000, 50, 220),\n-(9120002, 2061003, 40, 100);\n+(9120002, 2061003, 40, 100),\n+(2030009, 2022001, 700, 100),\n+(1337, 1912005, 1, 35),\n+(1337, 1902005, 1, 36),\n+(1337, 1902006, 1, 37),\n+(1337, 1902007, 1, 38),\n+(1337, 1912011, 1, 39),\n+(1337, 1902015, 1, 40),\n+(1337, 1902016, 1, 41),\n+(1337, 1902017, 1, 42),\n+(1337, 1902018, 1, 43);\n \n CREATE TABLE IF NOT EXISTS `skillmacros` (\n   `id` int(11) NOT NULL AUTO_INCREMENT,"}, {"sha": "0dc030637c054b15b40ce979bd871bb33ad8e96a", "filename": "sql/db_drops.sql", "status": "modified", "additions": 304, "deletions": 4, "changes": 308, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/sql/db_drops.sql", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/sql/db_drops.sql", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/sql/db_drops.sql?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -4527,7 +4527,7 @@ USE `maplesolaxia`;\n (9410020, 1002177, 1, 1, 0, 700), \n (3230405, 1082192, 1, 1, 0, 700), \n (9410020, 1082192, 1, 1, 0, 700), \n-(9400515, 4031593, 1, 1, 0, 7000), \n+(9400515, 4031593, 1, 1, 0, 40000), \n (3110303, 4000356, 1, 1, 0, 200000), \n (3110303, 2000002, 1, 1, 0, 40000), \n (3110303, 2000003, 1, 1, 0, 40000), \n@@ -5205,7 +5205,7 @@ USE `maplesolaxia`;\n (4230201, 1051037, 1, 1, 0, 700), \n (4230201, 1041074, 1, 1, 0, 700), \n (4230201, 1061077, 1, 1, 0, 700),\n-(9400516, 4031593, 1, 1, 0, 7000), \n+(9400516, 4031593, 1, 1, 0, 40000), \n (4230500, 4000276, 1, 1, 0, 200000), \n (4230500, 4000021, 1, 1, 0, 200000), \n (4230500, 4130014, 1, 1, 0, 3000), \n@@ -19820,8 +19820,10 @@ USE `maplesolaxia`;\n   DELETE FROM temp_data WHERE dropperid=4220001;\n   DELETE FROM temp_data WHERE dropperid=5220001;\n \n-  # delete item drops from summoned Slimes\n+  # delete item drops from summoned mobs\n   DELETE FROM temp_data WHERE dropperid=9500100;\n+  DELETE FROM temp_data WHERE dropperid=9300103;\n+  DELETE FROM temp_data WHERE dropperid=9300104;\n \n # delete item drops from Dojo summoned mobs\n   DELETE FROM temp_data WHERE dropperid>=9300217 AND dropperid<=9300270;\n@@ -20513,7 +20515,21 @@ USE `maplesolaxia`;\n (4300012, 2049200, 1, 1, 0, 8000),\n (4300012, 2049202, 1, 1, 0, 8000),\n (4300012, 2049204, 1, 1, 0, 8000),\n-(4300012, 2049206, 1, 1, 0, 8000);\n+(4300012, 2049206, 1, 1, 0, 8000),\n+(9400514, 4031594, 1, 1, 0, 999999),\n+(9400518, 4031596, 1, 1, 0, 999999),\n+(9400523, 4031597, 1, 1, 0, 999999),\n+(9400524, 4031597, 1, 1, 0, 999999),\n+(9400525, 4031597, 1, 1, 0, 999999),\n+(9400526, 4031597, 1, 1, 0, 999999),\n+(9400527, 4031597, 1, 1, 0, 999999),\n+(9400528, 4031597, 1, 1, 0, 999999),\n+(9400529, 4031597, 1, 1, 0, 999999),\n+(9400530, 4031597, 1, 1, 0, 999999),\n+(9400531, 4031597, 1, 1, 0, 999999),\n+(9400532, 4031597, 1, 1, 0, 999999),\n+(9400533, 4031597, 1, 1, 0, 999999),\n+(9400534, 4031597, 1, 1, 0, 999999);\n \n   # update quest reactor items\n   UPDATE reactordrops SET questid=2086 WHERE itemid=4031165;\n@@ -20529,6 +20545,290 @@ USE `maplesolaxia`;\n   UPDATE reactordrops SET questid=1008 WHERE itemid=4031161;\n   UPDATE reactordrops SET questid=1008 WHERE itemid=4031162;\n \n+  # update Amoria PQ reward boxes\n+  DELETE FROM `reactordrops` WHERE `reactorid` >= 6702003 AND `reactorid` <= 6702012;\n+  INSERT INTO `reactordrops` (`reactorid`, `itemid`, `chance`, `questid`) VALUES\n+(6702003, 1032043, 25, -1),\n+(6702003, 1032044, 25, -1),\n+(6702003, 1032045, 25, -1),\n+(6702003, 1102099, 30, -1),\n+(6702003, 1102100, 30, -1),\n+(6702003, 4021007, 20, -1),\n+(6702003, 4021008, 20, -1),\n+(6702003, 4020007, 5, -1),\n+(6702003, 4020007, 5, -1),\n+(6702003, 4011006, 20, -1),\n+(6702003, 2040759, 50, -1),\n+(6702003, 2041035, 20, -1),\n+(6702003, 2041037, 20, -1),\n+(6702003, 2041039, 20, -1),\n+(6702003, 2041041, 20, -1),\n+(6702003, 2040005, 20, -1),\n+(6702003, 2000005, 5, -1),\n+(6702003, 2022179, 15, -1),\n+(6702003, 2022180, 5, -1),\n+(6702003, 2022181, 10, -1),\n+(6702003, 2022182, 10, -1),\n+(6702003, 2020020, 5, -1),\n+(6702003, 2000005, 5, -1),\n+(6702003, 2020010, 5, -1),\n+(6702003, 2020013, 5, -1),\n+(6702003, 2022015, 5, -1),\n+(6702003, 3010011, 50, -1),\n+(6702003, 3012005, 100, -1),\n+(6702004, 1032043, 25, -1),\n+(6702004, 1032044, 25, -1),\n+(6702004, 1032045, 25, -1),\n+(6702004, 1102099, 30, -1),\n+(6702004, 1102100, 30, -1),\n+(6702004, 4021007, 20, -1),\n+(6702004, 4021008, 20, -1),\n+(6702004, 4020007, 5, -1),\n+(6702004, 4020007, 5, -1),\n+(6702004, 4011006, 20, -1),\n+(6702004, 2040759, 50, -1),\n+(6702004, 2041035, 20, -1),\n+(6702004, 2041037, 20, -1),\n+(6702004, 2041039, 20, -1),\n+(6702004, 2041041, 20, -1),\n+(6702004, 2040005, 20, -1),\n+(6702004, 2000005, 5, -1),\n+(6702004, 2022179, 15, -1),\n+(6702004, 2022180, 5, -1),\n+(6702004, 2022181, 10, -1),\n+(6702004, 2022182, 10, -1),\n+(6702004, 2020020, 5, -1),\n+(6702004, 2000005, 5, -1),\n+(6702004, 2020010, 5, -1),\n+(6702004, 2020013, 5, -1),\n+(6702004, 2022015, 5, -1),\n+(6702004, 3010011, 50, -1),\n+(6702004, 3012005, 100, -1),\n+(6702005, 1032043, 25, -1),\n+(6702005, 1032044, 25, -1),\n+(6702005, 1032045, 25, -1),\n+(6702005, 1102099, 30, -1),\n+(6702005, 1102100, 30, -1),\n+(6702005, 4021007, 20, -1),\n+(6702005, 4021008, 20, -1),\n+(6702005, 4020007, 5, -1),\n+(6702005, 4020007, 5, -1),\n+(6702005, 4011006, 20, -1),\n+(6702005, 2040759, 50, -1),\n+(6702005, 2041035, 20, -1),\n+(6702005, 2041037, 20, -1),\n+(6702005, 2041039, 20, -1),\n+(6702005, 2041041, 20, -1),\n+(6702005, 2040005, 20, -1),\n+(6702005, 2000005, 5, -1),\n+(6702005, 2022179, 15, -1),\n+(6702005, 2022180, 5, -1),\n+(6702005, 2022181, 10, -1),\n+(6702005, 2022182, 10, -1),\n+(6702005, 2020020, 5, -1),\n+(6702005, 2000005, 5, -1),\n+(6702005, 2020010, 5, -1),\n+(6702005, 2020013, 5, -1),\n+(6702005, 2022015, 5, -1),\n+(6702005, 3010011, 50, -1),\n+(6702005, 3012005, 100, -1),\n+(6702006, 1032043, 25, -1),\n+(6702006, 1032044, 25, -1),\n+(6702006, 1032045, 25, -1),\n+(6702006, 1102099, 30, -1),\n+(6702006, 1102100, 30, -1),\n+(6702006, 4021007, 20, -1),\n+(6702006, 4021008, 20, -1),\n+(6702006, 4020007, 5, -1),\n+(6702006, 4020007, 5, -1),\n+(6702006, 4011006, 20, -1),\n+(6702006, 2040759, 50, -1),\n+(6702006, 2041035, 20, -1),\n+(6702006, 2041037, 20, -1),\n+(6702006, 2041039, 20, -1),\n+(6702006, 2041041, 20, -1),\n+(6702006, 2040005, 20, -1),\n+(6702006, 2000005, 5, -1),\n+(6702006, 2022179, 15, -1),\n+(6702006, 2022180, 5, -1),\n+(6702006, 2022181, 10, -1),\n+(6702006, 2022182, 10, -1),\n+(6702006, 2020020, 5, -1),\n+(6702006, 2000005, 5, -1),\n+(6702006, 2020010, 5, -1),\n+(6702006, 2020013, 5, -1),\n+(6702006, 2022015, 5, -1),\n+(6702006, 3010011, 50, -1),\n+(6702006, 3012005, 100, -1),\n+(6702007, 1032043, 25, -1),\n+(6702007, 1032044, 25, -1),\n+(6702007, 1032045, 25, -1),\n+(6702007, 1102099, 30, -1),\n+(6702007, 1102100, 30, -1),\n+(6702007, 4021007, 20, -1),\n+(6702007, 4021008, 20, -1),\n+(6702007, 4020007, 5, -1),\n+(6702007, 4020007, 5, -1),\n+(6702007, 4011006, 20, -1),\n+(6702007, 2040759, 50, -1),\n+(6702007, 2041035, 20, -1),\n+(6702007, 2041037, 20, -1),\n+(6702007, 2041039, 20, -1),\n+(6702007, 2041041, 20, -1),\n+(6702007, 2040005, 20, -1),\n+(6702007, 2000005, 5, -1),\n+(6702007, 2022179, 15, -1),\n+(6702007, 2022180, 5, -1),\n+(6702007, 2022181, 10, -1),\n+(6702007, 2022182, 10, -1),\n+(6702007, 2020020, 5, -1),\n+(6702007, 2000005, 5, -1),\n+(6702007, 2020010, 5, -1),\n+(6702007, 2020013, 5, -1),\n+(6702007, 2022015, 5, -1),\n+(6702007, 3010011, 50, -1),\n+(6702007, 3012005, 100, -1),\n+(6702008, 1032043, 25, -1),\n+(6702008, 1032044, 25, -1),\n+(6702008, 1032045, 25, -1),\n+(6702008, 1102099, 30, -1),\n+(6702008, 1102100, 30, -1),\n+(6702008, 4021007, 20, -1),\n+(6702008, 4021008, 20, -1),\n+(6702008, 4020007, 5, -1),\n+(6702008, 4020007, 5, -1),\n+(6702008, 4011006, 20, -1),\n+(6702008, 2040759, 50, -1),\n+(6702008, 2041035, 20, -1),\n+(6702008, 2041037, 20, -1),\n+(6702008, 2041039, 20, -1),\n+(6702008, 2041041, 20, -1),\n+(6702008, 2040005, 20, -1),\n+(6702008, 2000005, 5, -1),\n+(6702008, 2022179, 15, -1),\n+(6702008, 2022180, 5, -1),\n+(6702008, 2022181, 10, -1),\n+(6702008, 2022182, 10, -1),\n+(6702008, 2020020, 5, -1),\n+(6702008, 2000005, 5, -1),\n+(6702008, 2020010, 5, -1),\n+(6702008, 2020013, 5, -1),\n+(6702008, 2022015, 5, -1),\n+(6702008, 3010011, 50, -1),\n+(6702008, 3012005, 100, -1),\n+(6702009, 1032043, 25, -1),\n+(6702009, 1032044, 25, -1),\n+(6702009, 1032045, 25, -1),\n+(6702009, 1102099, 30, -1),\n+(6702009, 1102100, 30, -1),\n+(6702009, 4021007, 20, -1),\n+(6702009, 4021008, 20, -1),\n+(6702009, 4020007, 5, -1),\n+(6702009, 4020007, 5, -1),\n+(6702009, 4011006, 20, -1),\n+(6702009, 2040759, 50, -1),\n+(6702009, 2041035, 20, -1),\n+(6702009, 2041037, 20, -1),\n+(6702009, 2041039, 20, -1),\n+(6702009, 2041041, 20, -1),\n+(6702009, 2040005, 20, -1),\n+(6702009, 2000005, 5, -1),\n+(6702009, 2022179, 15, -1),\n+(6702009, 2022180, 5, -1),\n+(6702009, 2022181, 10, -1),\n+(6702009, 2022182, 10, -1),\n+(6702009, 2020020, 5, -1),\n+(6702009, 2000005, 5, -1),\n+(6702009, 2020010, 5, -1),\n+(6702009, 2020013, 5, -1),\n+(6702009, 2022015, 5, -1),\n+(6702009, 3010011, 50, -1),\n+(6702009, 3012005, 100, -1),\n+(6702010, 1032043, 25, -1),\n+(6702010, 1032044, 25, -1),\n+(6702010, 1032045, 25, -1),\n+(6702010, 1102099, 30, -1),\n+(6702010, 1102100, 30, -1),\n+(6702010, 4021007, 20, -1),\n+(6702010, 4021008, 20, -1),\n+(6702010, 4020007, 5, -1),\n+(6702010, 4020007, 5, -1),\n+(6702010, 4011006, 20, -1),\n+(6702010, 2040759, 50, -1),\n+(6702010, 2041035, 20, -1),\n+(6702010, 2041037, 20, -1),\n+(6702010, 2041039, 20, -1),\n+(6702010, 2041041, 20, -1),\n+(6702010, 2040005, 20, -1),\n+(6702010, 2000005, 5, -1),\n+(6702010, 2022179, 15, -1),\n+(6702010, 2022180, 5, -1),\n+(6702010, 2022181, 10, -1),\n+(6702010, 2022182, 10, -1),\n+(6702010, 2020020, 5, -1),\n+(6702010, 2000005, 5, -1),\n+(6702010, 2020010, 5, -1),\n+(6702010, 2020013, 5, -1),\n+(6702010, 2022015, 5, -1),\n+(6702010, 3010011, 50, -1),\n+(6702010, 3012005, 100, -1),\n+(6702011, 1032043, 25, -1),\n+(6702011, 1032044, 25, -1),\n+(6702011, 1032045, 25, -1),\n+(6702011, 1102099, 30, -1),\n+(6702011, 1102100, 30, -1),\n+(6702011, 4021007, 20, -1),\n+(6702011, 4021008, 20, -1),\n+(6702011, 4020007, 5, -1),\n+(6702011, 4020007, 5, -1),\n+(6702011, 4011006, 20, -1),\n+(6702011, 2040759, 50, -1),\n+(6702011, 2041035, 20, -1),\n+(6702011, 2041037, 20, -1),\n+(6702011, 2041039, 20, -1),\n+(6702011, 2041041, 20, -1),\n+(6702011, 2040005, 20, -1),\n+(6702011, 2000005, 5, -1),\n+(6702011, 2022179, 15, -1),\n+(6702011, 2022180, 5, -1),\n+(6702011, 2022181, 10, -1),\n+(6702011, 2022182, 10, -1),\n+(6702011, 2020020, 5, -1),\n+(6702011, 2000005, 5, -1),\n+(6702011, 2020010, 5, -1),\n+(6702011, 2020013, 5, -1),\n+(6702011, 2022015, 5, -1),\n+(6702011, 3010011, 50, -1),\n+(6702011, 3012005, 100, -1),\n+(6702012, 1032043, 25, -1),\n+(6702012, 1032044, 25, -1),\n+(6702012, 1032045, 25, -1),\n+(6702012, 1102099, 30, -1),\n+(6702012, 1102100, 30, -1),\n+(6702012, 4021007, 20, -1),\n+(6702012, 4021008, 20, -1),\n+(6702012, 4020007, 5, -1),\n+(6702012, 4020007, 5, -1),\n+(6702012, 4011006, 20, -1),\n+(6702012, 2040759, 50, -1),\n+(6702012, 2041035, 20, -1),\n+(6702012, 2041037, 20, -1),\n+(6702012, 2041039, 20, -1),\n+(6702012, 2041041, 20, -1),\n+(6702012, 2040005, 20, -1),\n+(6702012, 2000005, 5, -1),\n+(6702012, 2022179, 15, -1),\n+(6702012, 2022180, 5, -1),\n+(6702012, 2022181, 10, -1),\n+(6702012, 2022182, 10, -1),\n+(6702012, 2020020, 5, -1),\n+(6702012, 2000005, 5, -1),\n+(6702012, 2020010, 5, -1),\n+(6702012, 2020013, 5, -1),\n+(6702012, 2022015, 5, -1),\n+(6702012, 3010011, 50, -1),\n+(6702012, 3012005, 100, -1);\n+\n   INSERT INTO `reactordrops` (`reactorid`, `itemid`, `chance`, `questid`) VALUES\n     (9102000, 4031157, 1, 2074),\n     (9102001, 4031158, 1, 2074),"}, {"sha": "31b9ea153d01ea3310e1d6c6c74dd9730c9417f8", "filename": "sql/db_shopupdate.sql", "status": "modified", "additions": 92, "deletions": 2, "changes": 94, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/sql/db_shopupdate.sql", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/sql/db_shopupdate.sql", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/sql/db_shopupdate.sql?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -94,7 +94,6 @@ INSERT IGNORE INTO `shopitems` (`shopid`, `itemid`, `price`, `pitch`, `position`\n (9110002, 3010019, 7700000, 0, 92),\n (9110002, 3010008, 10000000, 0, 96),\n (9110002, 3010007, 10000000, 0, 100),\n-(9201020, 3010011, 12000000, 0, 92),\n (9201020, 3010009, 4200000, 0, 96),\n (9201020, 3010014, 7000000, 0, 100),\n (1081000, 3010013, 4000000, 0, 100);\n@@ -131,4 +130,95 @@ INSERT IGNORE INTO `shopitems` (`shopid`, `itemid`, `price`, `pitch`, `position`\n (1338, 2030100, 450, 0, 114),\n (9270057, 2030100, 450, 0, 4),\n (9270065, 2030100, 450, 0, 3),\n-(9270022, 2030100, 450, 0, 118);\n\\ No newline at end of file\n+(9270022, 2030100, 450, 0, 118);\n+\n+# Thanks to Vcoc\n+# GMShop: Sacks, GmEquip, Cheese & Onix, Utils, \n+#         Arrows, Bullets, Throwings and Capsules,\n+#         Others, Equips, Mounts, Scrolls.\n+\n+DELETE FROM `shopitems` WHERE `shopid`=1337;\n+INSERT INTO `shopitems` ( `shopid`, `itemid`, `price`, `position`) VALUES\n+(1337, 2100036, 1, 1),\n+(1337, 2100035, 1, 2),\n+(1337, 2100034, 1, 3),\n+(1337, 2100033, 1, 4),\n+(1337, 2100007, 1, 5),\n+(1337, 2100006, 1, 6),\n+(1337, 2100005, 1, 7),\n+(1337, 2100004, 1, 8),\n+(1337, 2100003, 1, 9),\n+(1337, 2100002, 1, 10),\n+(1337, 2100001, 1, 11),\n+(1337, 1002140, 1, 12),\n+(1337, 1042003, 1, 13),\n+(1337, 1062007, 1, 14),\n+(1337, 1322013, 1, 15),\n+(1337, 1072010, 1, 16),\n+(1337, 2022179, 1, 17),\n+(1337, 2022273, 1, 18),\n+(1337, 2041200, 1, 19),\n+(1337, 4006001, 1, 20),\n+(1337, 4001017, 1, 21),\n+(1337, 4031179, 1, 22),\n+(1337, 2070018, 1, 23),\n+(1337, 2060004, 1, 24),\n+(1337, 2061004, 1, 25),\n+(1337, 2330005, 1, 26),\n+(1337, 2332000, 1, 27),\n+(1337, 2331000, 1, 28),\n+(1337, 5072000, 1, 29),\n+(1337, 5390000, 1, 30),\n+(1337, 5390001, 1, 31),\n+(1337, 5390002, 1, 32),\n+(1337, 5390005, 1, 33),\n+(1337, 5390006, 1, 34),\n+(1337, 1492013, 1, 35),\n+(1337, 1482013, 1, 36),\n+(1337, 1452044, 1, 37),\n+(1337, 1472052, 1, 38),\n+(1337, 1462039, 1, 39),\n+(1337, 1332050, 1, 40),\n+(1337, 1312031, 1, 41),\n+(1337, 1322052, 1, 42),\n+(1337, 1302059, 1, 43),\n+(1337, 1442045, 1, 44),\n+(1337, 1432038, 1, 45),\n+(1337, 1382036, 1, 46),\n+(1337, 1412026, 1, 47),\n+(1337, 1422028, 1, 48),\n+(1337, 1402036, 1, 49),\n+(1337, 1372032, 1, 50),\n+(1337, 1122000, 1, 51),\n+(1337, 1082149, 1, 52),\n+(1337, 1912000, 1, 53),\n+(1337, 1902000, 1, 54),\n+(1337, 1902001, 1, 55),\n+(1337, 1902002, 1, 56),\n+(1337, 1912005, 1, 57),\n+(1337, 1902005, 1, 58),\n+(1337, 1902006, 1, 59),\n+(1337, 1902007, 1, 60),\n+(1337, 1912011, 1, 61),\n+(1337, 1902015, 1, 62),\n+(1337, 1902016, 1, 63),\n+(1337, 1902017, 1, 64),\n+(1337, 1902018, 1, 65),\n+(1337, 2044908, 1, 66),\n+(1337, 2044815, 1, 67),\n+(1337, 2044512, 1, 68),\n+(1337, 2044712, 1, 69),\n+(1337, 2044612, 1, 70),\n+(1337, 2043312, 1, 71),\n+(1337, 2043117, 1, 72),\n+(1337, 2043217, 1, 73),\n+(1337, 2043023, 1, 74),\n+(1337, 2044417, 1, 75),\n+(1337, 2044317, 1, 76),\n+(1337, 2043812, 1, 77),\n+(1337, 2044117, 1, 78),\n+(1337, 2044217, 1, 79),\n+(1337, 2044025, 1, 80),\n+(1337, 2043712, 1, 81),\n+(1337, 2340000, 1, 82),\n+(1337, 2040807, 1, 83);\n\\ No newline at end of file"}, {"sha": "4487caf21e1d50294e3d73ec2d98e09fbb1a3fe1", "filename": "src/client/MapleCharacter.java", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/client/MapleCharacter.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/client/MapleCharacter.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleCharacter.java?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -196,7 +196,7 @@\n     private boolean hidden, canDoor = true, Berserk, hasMerchant, whiteChat = false;\n     private int linkedLevel = 0;\n     private String linkedName = null;\n-    private boolean finishedDojoTutorial, dojoParty;\n+    private boolean finishedDojoTutorial;\n     private String name;\n     private String chalktext;\n     private String dataString;\n@@ -245,7 +245,6 @@\n     private EnumMap<MapleDisease, MapleDiseaseValueHolder> diseases = new EnumMap<>(MapleDisease.class);\n     private Map<Integer, MapleDoor> doors = new LinkedHashMap<>();\n     private ScheduledFuture<?> dragonBloodSchedule;\n-    private ScheduledFuture<?>[] fullnessSchedule = new ScheduledFuture<?>[3];\n     private ScheduledFuture<?> hpDecreaseTask;\n     private ScheduledFuture<?> beholderHealingSchedule, beholderBuffSchedule, BerserkSchedule;\n     private ScheduledFuture<?> expiretask;\n@@ -4082,8 +4081,8 @@ public void levelUp(boolean takeexp) {\n         statup.add(new Pair<>(MapleStat.LEVEL, level));\n         statup.add(new Pair<>(MapleStat.MAXHP, maxhp));\n         statup.add(new Pair<>(MapleStat.MAXMP, maxmp));\n-        statup.add(new Pair<>(MapleStat.STR, str));\n-        statup.add(new Pair<>(MapleStat.DEX, dex));\n+        statup.add(new Pair<>(MapleStat.STR, Math.min(str, Short.MAX_VALUE)));\n+        statup.add(new Pair<>(MapleStat.DEX, Math.min(dex, Short.MAX_VALUE)));\n         if (job.getId() % 1000 > 0) {\n         \tremainingSp[GameConstants.getSkillBook(job.getId())] += 3;\n         \tstatup.add(new Pair<>(MapleStat.AVAILABLESP, remainingSp[GameConstants.getSkillBook(job.getId())]));"}, {"sha": "9a2c6c12dad0e33a28627cb4518fe6b378b5aae9", "filename": "src/client/MapleClient.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/client/MapleClient.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/client/MapleClient.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleClient.java?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -812,7 +812,7 @@ private void removePlayer() {\n \t\t}\n \t}\n \n-\tpublic final void disconnect(boolean shutdown, boolean cashshop) {//once per MapleClient instance\n+\tpublic final synchronized void disconnect(boolean shutdown, boolean cashshop) {//once per MapleClient instance\n                 if (disconnecting) {\n \t\t\treturn;\n \t\t}"}, {"sha": "740a1c40b87857caa9a895a070269d84b1d26466", "filename": "src/client/command/Commands.java", "status": "modified", "additions": 14, "deletions": 8, "changes": 22, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/client/command/Commands.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/client/command/Commands.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/Commands.java?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -98,7 +98,6 @@\n import client.inventory.MapleInventory;\n import client.inventory.MapleInventoryType;\n import client.inventory.MaplePet;\n-import constants.GameConstants;\n import constants.ItemConstants;\n import constants.ServerConstants;\n import java.util.ArrayList;\n@@ -1252,6 +1251,12 @@ else if (type.equals(\"cash\")) {\n \t\t\t\t\tcontinue;\n \t\t\t\t}\n \t\t\t}\n+                        \n+                        if(player.getJob().isA(MapleJob.ARAN1)) {\n+                                skill = SkillFactory.getSkill(5001005);\n+                                player.changeSkillLevel(skill, (byte) -1, -1, -1);\n+                        }\n+                        \n                         player.yellowMessage(\"Skills maxed out.\");\n                     break;\n                     \n@@ -1659,7 +1664,7 @@ public static boolean executeSolaxiaCommandLv3(Channel cserv, Server srv, MapleC\n                 \n                 case \"givems\":\n                         if (sub.length < 3){\n-\t\t\t\tplayer.yellowMessage(\"Syntax: !givemx <playername> <gainmx>\");\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !givems <playername> <gainmx>\");\n \t\t\t\tbreak;\n \t\t\t}\n                         \n@@ -1783,7 +1788,7 @@ public static boolean executeSolaxiaCommandLv3(Channel cserv, Server srv, MapleC\n \t\t\tplayer.getMap().getPortal(sub[1]).setPortalState(true);\n                     break;\n                     \n-                case \"closeportals\":\n+                case \"closeportal\":\n                         if (sub.length < 2){\n                             player.yellowMessage(\"Syntax: !closeportal <portalid>\");\n                             break;\n@@ -1844,10 +1849,11 @@ public static boolean executeSolaxiaCommandLv3(Channel cserv, Server srv, MapleC\n \t\t\t\t\tfor (MapleCharacter chr : ch.getPlayerStorage().getAllCharacters()) {\n \t\t\t\t\t\ts += MapleCharacter.makeMapleReadable(chr.getName()) + \", \";\n \t\t\t\t\t}\n-\t\t\t\t\tplayer.dropMessage(s.substring(0, s.length() - 2));\n+\t\t\t\t\tplayer.dropMessage(6, s.substring(0, s.length() - 2));\n \t\t\t\t}\n \t\t\t}\n-\t\t\tplayer.dropMessage(\"There are a total of \" + total + \" players online.\");\n+\t\t\tplayer.dropMessage(6, \"There are a total of \" + total + \" players online.\");\n+                        player.showHint(\"Players online: #e#r\" + total + \"#k#n.\");\n                     break;\n        \n \t\tcase \"warpsnowball\":\n@@ -2273,14 +2279,14 @@ public static boolean executeSolaxiaCommandLv4(Channel cserv, Server srv, MapleC\n                         break;\n                             \n                     case \"playernpc\":\n-                            if (sub.length < 3){\n+                        if (sub.length < 3){\n                             player.yellowMessage(\"Syntax: !playernpc <playername> <npcid>\");\n                             break;\n                         }\n-                            player.playerNPC(c.getChannelServer().getPlayerStorage().getCharacterByName(sub[1]), Integer.parseInt(sub[2]));\n+                        player.playerNPC(c.getChannelServer().getPlayerStorage().getCharacterByName(sub[1]), Integer.parseInt(sub[2]));\n \t\t\tbreak;\n                         \n-                default:\n+                    default:\n                         return false;\n                 }\n                 "}, {"sha": "e4e824b946b2e4c684cf0cae85ecae0104c214f8", "filename": "src/client/inventory/Equip.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/client/inventory/Equip.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/client/inventory/Equip.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/inventory/Equip.java?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -287,7 +287,7 @@ private int getStatModifier(boolean isAttribute) {\n     }\n     \n     private int randomizeStatUpgrade(int top) {\n-        int limit = Math.min(top, ServerConstants.MAX_EQUIPMNT_LVLUP_STAT_GAIN);\n+        int limit = Math.min(top, ServerConstants.MAX_EQUIPMNT_LVLUP_STAT_UP);\n         \n         int poolCount = (limit * (limit + 1) / 2) + limit;\n         int rnd = Randomizer.rand(0, poolCount);"}, {"sha": "40a63710f3c161e600e7383df4bf6fa823b05281", "filename": "src/constants/GameConstants.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/constants/GameConstants.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/constants/GameConstants.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/constants/GameConstants.java?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -79,7 +79,7 @@ public static int getSkillBook(final int job) {\n     \n     \n     public static boolean isAranSkills(final int skill) {\n-    \treturn Aran.FULL_SWING == skill || Aran.OVER_SWING == skill || Aran.COMBO_TEMPEST == skill || Aran.COMBO_PENRIL == skill || Aran.COMBO_DRAIN == skill \n+    \treturn Aran.FULL_SWING == skill || Aran.OVER_SWING == skill || Aran.COMBO_TEMPEST == skill || Aran.COMBO_FENRIR == skill || Aran.COMBO_DRAIN == skill \n     \t\t\t|| Aran.HIDDEN_FULL_DOUBLE == skill || Aran.HIDDEN_FULL_TRIPLE == skill || Aran.HIDDEN_OVER_DOUBLE == skill || Aran.HIDDEN_OVER_TRIPLE == skill\n     \t\t\t|| Aran.COMBO_SMASH == skill || Aran.DOUBLE_SWING  == skill || Aran.TRIPLE_SWING == skill;\n     }"}, {"sha": "4e35cea56ef638d5a217ce187f216eaf477a7a04", "filename": "src/constants/ServerConstants.java", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/constants/ServerConstants.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/constants/ServerConstants.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/constants/ServerConstants.java?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -71,6 +71,7 @@\n     \n     //Some Gameplay Enhancing Configurations\n     //Scroll Configuration\n+    public static final boolean USE_PERFECT_GM_SCROLL = true;   //Scrolls from GMs never uses up slots nor fails.\n     public static final boolean USE_PERFECT_SCROLLING = true;   //Scrolls doesn't use slots upon failure.\n     public static final boolean USE_ENHANCED_CHSCROLL = true;   //Equips even more powerful with chaos upgrade.\n     public static final boolean USE_ENHANCED_CRAFTING = true;   //Applys chaos scroll on every equip crafted.\n@@ -93,8 +94,8 @@\n     public static final boolean USE_EQUIPMNT_LVLUP_POWER = true;//Enable more powerful stats upgrades at equip level up.\n     public static final boolean USE_SPIKES_AVOID_BANISH = true; //Shoes equipped with spikes prevents mobs from banishing wearer.\n     public static final boolean USE_CHAIR_EXTRAHEAL = true;     //Enable map chairs to further recover player's HP and MP.\n-    public static final int MAX_EQUIPMNT_LVLUP_STAT_GAIN = 10000; //Max stat upgrade an equipment can have on a levelup.\n-    public static final int MAX_EQUIPMNT_STAT = 32767;            //Max stat on an equipment by leveling up.\n+    public static final int MAX_EQUIPMNT_LVLUP_STAT_UP = 10000; //Max stat upgrade an equipment can have on a levelup.\n+    public static final int MAX_EQUIPMNT_STAT = 32767;          //Max stat on an equipment by leveling up.\n     public static final int USE_EQUIPMNT_LVLUP = 7;             //All equips lvlup at max level of N, set 1 to disable.\n     public static final byte CHAIR_EXTRA_HEAL_HP = 70;          //Each chair extra heal proc increasing HP.\n     public static final byte CHAIR_EXTRA_HEAL_MP = 42;          //Each chair extra heal proc increasing MP."}, {"sha": "75a857c2bbba4afe86c8dda301566d582bce421f", "filename": "src/constants/skills/Aran.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/constants/skills/Aran.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/constants/skills/Aran.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/constants/skills/Aran.java?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -37,7 +37,7 @@\n     public static final int BODY_PRESSURE = 21101003;\n     public static final int COMBO_DRAIN = 21100005;\n     public static final int COMBO_SMASH = 21100004;\n-    public static final int COMBO_PENRIL = 21110004;\n+    public static final int COMBO_FENRIR = 21110004;\n     public static final int COMBO_CRITICAL = 21110000;\n     public static final int FULL_SWING = 21110002;\n     public static final int ROLLING_SPIN = 21110006;"}, {"sha": "00fc7cd1f8d57b359aab22a52da83b28f1c2aabd", "filename": "src/net/server/channel/Channel.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/net/server/channel/Channel.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/net/server/channel/Channel.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/Channel.java?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -240,8 +240,8 @@ public void broadcastGMPacket(final byte[] data) {\n \n         @Override\n         public void run() {\n-            for (Entry<Integer, MapleMap> map : mapFactory.getMaps().entrySet()) {\n-                map.getValue().respawn();\n+            for (MapleMap map : mapFactory.getMaps().values()) {\n+                map.respawn();\n             }\n         }\n     }"}, {"sha": "cbec85894a5d6628ab8b2fbe84a7e6e1fc2ffbe8", "filename": "src/net/server/channel/handlers/AbstractDealDamageHandler.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/net/server/channel/handlers/AbstractDealDamageHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/net/server/channel/handlers/AbstractDealDamageHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/AbstractDealDamageHandler.java?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -193,7 +193,7 @@ protected synchronized void applyAttack(AttackInfo attack, final MapleCharacter\n             }\n \n             //WTF IS THIS F3,1\n-            /*if (attackCount != attack.numDamage && attack.skill != ChiefBandit.MESO_EXPLOSION && attack.skill != NightWalker.VAMPIRE && attack.skill != WindArcher.WIND_SHOT && attack.skill != Aran.COMBO_SMASH && attack.skill != Aran.COMBO_PENRIL && attack.skill != Aran.COMBO_TEMPEST && attack.skill != NightLord.NINJA_AMBUSH && attack.skill != Shadower.NINJA_AMBUSH) {\n+            /*if (attackCount != attack.numDamage && attack.skill != ChiefBandit.MESO_EXPLOSION && attack.skill != NightWalker.VAMPIRE && attack.skill != WindArcher.WIND_SHOT && attack.skill != Aran.COMBO_SMASH && attack.skill != Aran.COMBO_FENRIR && attack.skill != Aran.COMBO_TEMPEST && attack.skill != NightLord.NINJA_AMBUSH && attack.skill != Shadower.NINJA_AMBUSH) {\n                 return;\n             }*/\n             "}, {"sha": "2931031c609e0752c6c2514595520ab80cd33d59", "filename": "src/net/server/channel/handlers/AutoAssignHandler.java", "status": "modified", "additions": 21, "deletions": 21, "changes": 42, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/net/server/channel/handlers/AutoAssignHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/net/server/channel/handlers/AutoAssignHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/AutoAssignHandler.java?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -303,15 +303,15 @@ public void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n             \n             int extras = 0;\n             \n-            extras = gainStatByType(chr, primary, statGain, statEqpd, prStat + extras);\n-            extras = gainStatByType(chr, secondary, statGain, statEqpd, scStat + extras);\n-            extras = gainStatByType(chr, tertiary, statGain, statEqpd, trStat + extras);\n+            extras = gainStatByType(chr, primary, statGain, prStat + extras);\n+            extras = gainStatByType(chr, secondary, statGain, scStat + extras);\n+            extras = gainStatByType(chr, tertiary, statGain, trStat + extras);\n                         \n             if(extras > 0) {    //redistribute surplus in priority order\n-                extras = gainStatByType(chr, primary, statGain, statEqpd, extras);\n-                extras = gainStatByType(chr, secondary, statGain, statEqpd, extras);\n-                extras = gainStatByType(chr, tertiary, statGain, statEqpd, extras);\n-                gainStatByType(chr, getQuaternaryStat(stance), statGain, statEqpd, extras);\n+                extras = gainStatByType(chr, primary, statGain, extras);\n+                extras = gainStatByType(chr, secondary, statGain, extras);\n+                extras = gainStatByType(chr, tertiary, statGain, extras);\n+                gainStatByType(chr, getQuaternaryStat(stance), statGain, extras);\n             }\n             \n             int remainingAp = (chr.getRemainingAp() - getAccumulatedStatGain(statGain));\n@@ -350,7 +350,7 @@ public void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n                     return;\n                 }\n                 total += tempVal;\n-                extras += gainStatByType(chr, MapleStat.getBy5ByteEncoding(type), statGain, statEqpd, tempVal);\n+                extras += gainStatByType(chr, MapleStat.getBy5ByteEncoding(type), statGain, tempVal);\n             }\n             int remainingAp = (chr.getRemainingAp() - total) + extras;\n             chr.setRemainingAp(remainingAp);\n@@ -359,42 +359,42 @@ public void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n         }\n     }\n \n-    private int gainStatByType(MapleCharacter chr, MapleStat type, int[] statGain, int[] statEqpd, int gain) {\n+    private int gainStatByType(MapleCharacter chr, MapleStat type, int[] statGain, int gain) {\n         if(gain <= 0) return 0;\n         \n         int newVal = 0;\n         if (type.equals(MapleStat.STR)) {\n-            newVal = chr.getStr() + statEqpd[0] + gain;\n+            newVal = chr.getStr() + gain;\n             if (newVal > ServerConstants.MAX_AP) {\n-                statGain[0] += gain - (newVal - ServerConstants.MAX_AP);\n-                chr.setStr(ServerConstants.MAX_AP - statEqpd[0]);\n+                statGain[0] += (gain - (newVal - ServerConstants.MAX_AP));\n+                chr.setStr(ServerConstants.MAX_AP);\n             } else {\n                 statGain[0] += gain;\n                 chr.setStr(newVal);\n             }\n         } else if (type.equals(MapleStat.INT)) {\n-            newVal = chr.getInt() + statEqpd[3] + gain;\n+            newVal = chr.getInt() + gain;\n             if (newVal > ServerConstants.MAX_AP) {\n-                statGain[3] += gain - (newVal - ServerConstants.MAX_AP);\n-                chr.setInt(ServerConstants.MAX_AP - statEqpd[3]);\n+                statGain[3] += (gain - (newVal - ServerConstants.MAX_AP));\n+                chr.setInt(ServerConstants.MAX_AP);\n             } else {\n                 statGain[3] += gain;\n                 chr.setInt(newVal);\n             }\n         } else if (type.equals(MapleStat.LUK)) {\n-            newVal = chr.getLuk() + statEqpd[2] + gain;\n+            newVal = chr.getLuk() + gain;\n             if (newVal > ServerConstants.MAX_AP) {\n-                statGain[2] += gain - (newVal - ServerConstants.MAX_AP);\n-                chr.setLuk(ServerConstants.MAX_AP - statEqpd[2]);\n+                statGain[2] += (gain - (newVal - ServerConstants.MAX_AP));\n+                chr.setLuk(ServerConstants.MAX_AP);\n             } else {\n                 statGain[2] += gain;\n                 chr.setLuk(newVal);\n             }\n         } else if (type.equals(MapleStat.DEX)) {\n-            newVal = chr.getDex() + statEqpd[1] + gain;\n+            newVal = chr.getDex() + gain;\n             if (newVal > ServerConstants.MAX_AP) {\n-                statGain[1] += gain - (newVal - ServerConstants.MAX_AP);\n-                chr.setDex(ServerConstants.MAX_AP - statEqpd[1]);\n+                statGain[1] += (gain - (newVal - ServerConstants.MAX_AP));\n+                chr.setDex(ServerConstants.MAX_AP);\n             } else {\n                 statGain[1] += gain;\n                 chr.setDex(newVal);"}, {"sha": "af7fa6c747682027e3b9221adc2f222c5baa220e", "filename": "src/net/server/channel/handlers/ItemIdSortHandler.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/net/server/channel/handlers/ItemIdSortHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/net/server/channel/handlers/ItemIdSortHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/ItemIdSortHandler.java?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -167,7 +167,7 @@ void MapleQuicksort(int Esq, int Dir, ArrayList<Item> A, int sort) {\n     public PairedQuicksort(ArrayList<Item> A, int primarySort, int secondarySort) {\n         intersect = new ArrayList<>();\n         \n-        MapleQuicksort(0, A.size() - 1, A, primarySort);\n+        if(A.size() > 0) MapleQuicksort(0, A.size() - 1, A, primarySort);\n         \n         intersect.add(0);\n         for(int ind = 1; ind < A.size(); ind++) {\n@@ -178,7 +178,7 @@ public PairedQuicksort(ArrayList<Item> A, int primarySort, int secondarySort) {\n         intersect.add(A.size());\n         \n         for(int ind = 0; ind < intersect.size() - 1; ind++) {\n-            MapleQuicksort(intersect.get(ind), intersect.get(ind + 1) - 1, A, secondarySort);\n+            if(intersect.get(ind + 1) > intersect.get(ind)) MapleQuicksort(intersect.get(ind), intersect.get(ind + 1) - 1, A, secondarySort);\n         }\n     }\n }"}, {"sha": "a47db3a2546b2b405644cbab5daa513a4e2b3c91", "filename": "src/net/server/channel/handlers/MobDamageMobFriendlyHandler.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/net/server/channel/handlers/MobDamageMobFriendlyHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/net/server/channel/handlers/MobDamageMobFriendlyHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/MobDamageMobFriendlyHandler.java?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -56,7 +56,7 @@ else if (monster.getId() == 9300061) {  //moon bunny\n                                 monster.getMap().broadcastMessage(MaplePacketCreator.serverNotice(6, \"The Moon Bunny went home because he was sick.\"));\n                         }\n                         else if(monster.getId() == 9300093) {   //tylus\n-                                monster.getMap().broadcastMessage(MaplePacketCreator.serverNotice(6, \"Tylus has fallen by the overwhelming forces of this ambush.\"));\n+                                monster.getMap().broadcastMessage(MaplePacketCreator.serverNotice(6, \"Tylus has fallen by the overwhelming forces of the ambush.\"));\n                         }\n                         else if(monster.getId() == 9300137) {   //juliet\n                                 monster.getMap().broadcastMessage(MaplePacketCreator.serverNotice(6, \"Juliet has fainted on the middle of the combat.\"));"}, {"sha": "f931d6fa40ea8b875014f39128cfa443d800a6a1", "filename": "src/net/server/channel/handlers/RangedAttackHandler.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/net/server/channel/handlers/RangedAttackHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/net/server/channel/handlers/RangedAttackHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/RangedAttackHandler.java?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -79,12 +79,12 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n         if (attack.skill == Buccaneer.ENERGY_ORB || attack.skill == ThunderBreaker.SPARK || attack.skill == Shadower.TAUNT || attack.skill == NightLord.TAUNT) {\n             player.getMap().broadcastMessage(player, MaplePacketCreator.rangedAttack(player, attack.skill, attack.skilllevel, attack.stance, attack.numAttackedAndDamage, 0, attack.allDamage, attack.speed, attack.direction, attack.display), false);\n             applyAttack(attack, player, 1);\n-        } else if (attack.skill == Aran.COMBO_SMASH || attack.skill == Aran.COMBO_PENRIL || attack.skill == Aran.COMBO_TEMPEST) {\n+        } else if (attack.skill == Aran.COMBO_SMASH || attack.skill == Aran.COMBO_FENRIR || attack.skill == Aran.COMBO_TEMPEST) {\n             player.getMap().broadcastMessage(player, MaplePacketCreator.rangedAttack(player, attack.skill, attack.skilllevel, attack.stance, attack.numAttackedAndDamage, 0, attack.allDamage, attack.speed, attack.direction, attack.display), false);\n             if (attack.skill == Aran.COMBO_SMASH && player.getCombo() >= 30) {\n             \tplayer.setCombo((short) 0);\n             \tapplyAttack(attack, player, 1);\n-            } else if (attack.skill == Aran.COMBO_PENRIL && player.getCombo() >= 100) {\n+            } else if (attack.skill == Aran.COMBO_FENRIR && player.getCombo() >= 100) {\n             \tplayer.setCombo((short) 0);\n             \tapplyAttack(attack, player, 2);\n             } else if (attack.skill == Aran.COMBO_TEMPEST && player.getCombo() >= 200) {"}, {"sha": "537f05b2aa55e039a83c8e5741853efce1ecd18a", "filename": "src/net/server/channel/handlers/SpecialMoveHandler.java", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/net/server/channel/handlers/SpecialMoveHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/net/server/channel/handlers/SpecialMoveHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/SpecialMoveHandler.java?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -45,7 +45,6 @@\n import constants.skills.Hero;\n import constants.skills.Paladin;\n import constants.skills.Priest;\n-import constants.skills.Hermit;\n import constants.skills.SuperGM;\n \n "}, {"sha": "5ed7979e6e63d5e64c307ff11c38226515d8d497", "filename": "src/scripting/event/EventInstanceManager.java", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/scripting/event/EventInstanceManager.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/scripting/event/EventInstanceManager.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/scripting/event/EventInstanceManager.java?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -1084,6 +1084,17 @@ public final void linkToNextStage(int thisStage, String eventFamily, int thisMap\n                 }\n         }\n         \n+        public final void linkPortalToScript(int thisStage, String portalName, String scriptName, int thisMapId) {\n+                giveEventPlayersStageReward(thisStage);\n+                thisStage--;    //stages counts from ONE, scripts from ZERO\n+            \n+                MapleMap nextStage = getMapInstance(thisMapId);\n+                MaplePortal portal = nextStage.getPortal(portalName);\n+                if (portal != null) {\n+                        portal.setScriptName(scriptName);\n+                }\n+        }\n+        \n         // registers a player status in an event\n         public final void gridInsert(MapleCharacter chr, int newStatus) {\n                 wL.lock();"}, {"sha": "d2c8f3fc7d2b17c77d6d615c35122a95f84f4312", "filename": "src/server/MapleItemInformationProvider.java", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/server/MapleItemInformationProvider.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/server/MapleItemInformationProvider.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/MapleItemInformationProvider.java?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -560,21 +560,23 @@ private static short getShortMaxIfOverflow(int value) {\n     }\n     \n     public Item scrollEquipWithId(Item equip, int scrollId, boolean usingWhiteScroll, int vegaItemId, boolean isGM) {\n+        boolean assertGM = (isGM && ServerConstants.USE_PERFECT_GM_SCROLL);\n+        \n         if (equip instanceof Equip) {\n             Equip nEquip = (Equip) equip;\n             \n             Map<String, Integer> stats = this.getEquipStats(scrollId);\n             Map<String, Integer> eqstats = this.getEquipStats(equip.getItemId());\n             \n-            if (((nEquip.getUpgradeSlots() > 0 || ItemConstants.isCleanSlate(scrollId))) || isGM) {\n+            if (((nEquip.getUpgradeSlots() > 0 || ItemConstants.isCleanSlate(scrollId))) || assertGM) {\n                 double prop = (double)stats.get(\"success\");\n                 if (vegaItemId == 5610000) {\n                     prop = 30.0;\n                 } else if (vegaItemId == 5610001) {\n                     prop = 90.0;\n                 }\n                 \n-                if(isGM || rollSuccessChance(prop)) {\n+                if(assertGM || rollSuccessChance(prop)) {\n                     short flag = nEquip.getFlag();\n                     switch (scrollId) {\n                         case 2040727:\n@@ -900,21 +902,21 @@ public Item scrollEquipWithId(Item equip, int scrollId, boolean usingWhiteScroll\n                             break;\n                     }\n                     if (!ItemConstants.isCleanSlate(scrollId)) {\n-                        if (ServerConstants.USE_PERFECT_SCROLLING == true && !isGM && !usingWhiteScroll) {\n+                        if (ServerConstants.USE_PERFECT_SCROLLING == true && !assertGM && !usingWhiteScroll) {\n                             nEquip.setUpgradeSlots((byte) (nEquip.getUpgradeSlots() - 1));\n                         }\n                         nEquip.setLevel((byte) (nEquip.getLevel() + 1));\n                     }\n                 }\n                 \n                 if (ServerConstants.USE_PERFECT_SCROLLING == false && !ItemConstants.isCleanSlate(scrollId)) {\n-                    if (!isGM && !usingWhiteScroll) {\n+                    if (!assertGM && !usingWhiteScroll) {\n                         nEquip.setUpgradeSlots((byte) (nEquip.getUpgradeSlots() - 1));\n                     }\n                     //nEquip.setLevel((byte) (nEquip.getLevel() + 1));\n                 }\n             } else {\n-                if (!usingWhiteScroll && !ItemConstants.isCleanSlate(scrollId) && !isGM) {\n+                if (!usingWhiteScroll && !ItemConstants.isCleanSlate(scrollId) && !assertGM) {\n                     nEquip.setUpgradeSlots((byte) (nEquip.getUpgradeSlots() - 1));\n                 }\n                 if (Randomizer.nextInt(101) < stats.get(\"cursed\")) {"}, {"sha": "2c269fe0e341c873158eeac64f297d97ec3f7014", "filename": "src/server/maps/MapleMap.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/server/maps/MapleMap.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/src/server/maps/MapleMap.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/MapleMap.java?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -1386,7 +1386,7 @@ private void monsterItemDrop(final MapleMonster m, final Item item, long delay)\n         final ScheduledFuture<?> monsterItemDrop = TimerManager.getInstance().register(new Runnable() {\n             @Override\n             public void run() {\n-                if (MapleMap.this.getMonsterById(m.getId()) != null && !MapleMap.this.getPlayers().isEmpty()) {\n+                if (m.isAlive() && !MapleMap.this.getPlayers().isEmpty()) {\n                     if (item.getItemId() == 4001101) {\n                         MapleMap.this.riceCakes++;\n                         MapleMap.this.broadcastMessage(MaplePacketCreator.serverNotice(6, \"The Moon Bunny made rice cake number \" + (MapleMap.this.riceCakes)));\n@@ -1395,7 +1395,7 @@ public void run() {\n                 }\n             }\n         }, delay, delay);\n-        if (getMonsterById(m.getId()) == null) {\n+        if (!m.isAlive()) {\n             monsterItemDrop.cancel(true);\n         }\n     }"}, {"sha": "bec0e116e39c8eaa97377eeb4c408ff6eb4e7aa3", "filename": "tools/MapleIdRetriever/handbook/Skill.txt", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/tools/MapleIdRetriever/handbook/Skill.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/tools/MapleIdRetriever/handbook/Skill.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleIdRetriever/handbook/Skill.txt?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -374,36 +374,36 @@\n 13101003 - Soul Arrow - [Master Level : 20]\\nTemporarily allows the character to fire crossbow arrows without using up the arrows. It  only applies when the crossbow is equipped in hand.\\nRequired Skill : #c At least Level 5 on Bow Booster  #\n 13100004 - Thrust - [Master Level : 20]\\nEnhances Speed.\n 13101005 - Storm Break - [Master Level : 20]\\nCast Damage to monsters in a close distance and Knock-back to far away.\n-13101006 - Wind Walk - [Master Level : 10]\\nTemporarily hides one\ufffds self from the monsters. Attacking an opponent in the state of Wind Walk can inflict additional damage. \n+13101006 - Wind Walk - [Master Level : 10]\\nTemporarily hides one\ufffds self from the monsters. Attacking an opponent in the state of Wind Walk can inflict additional damage. \n 13111000 - Arrow Rain - [Master Level : 20]\\nFires a number of arrows into the sky, attacking up to 6 monsters at once. It can only be applied when the character is equipped with a bow. \n 13111002 - Hurricane - [Master Level : 20]\\nLaunches arrows at a tremendous speed like a catastrophic rainstorm. Pressing the skill key will launch the arrows continuously.\n 13110003 - Bow Expert - [Master Level : 20]\\nEnhances Mastery and Attack Rate of bow-type weapons. It can only be applied when the character is equipped with a bow. \\nRequired Skill:  #c Bow Mastery level 20 #\n 13111004 - Puppet - [Master Level : 20]\\nSummons a Puppet (a doppelganger) for a given duration. When the Puppet is summoned, the monsters will attack the Puppet instead of the actual character.\n 13111005 - Eagle Eye - [Master Level : 10]\\nTransforms into Eagle Eye, a heroic figure who was able to use his bow more freely and skillfully than anyone else for 120 sec. This will enhance the character's Speed and Jump stats and allow the character to use the exclusive skills of Eagle Eye.\n-13111006 - Wind Piercing - [Master Level : 20]\\nInflicts a significant damage on multiple monsters at once with a single powerful blow. Available only during the character\ufffds transformed state of Eagle Eye. \\nRequired skill : #cEagle Eye over level 1#\n-13111007 - Wind Shot - [Master Level : 20]\\nFires 3 arrows to inflict damage on monsters. Available only during the character\ufffds transformed state of Eagle Eye. \\nRequired skill : #cEagle Eye over level 1#\n+13111006 - Wind Piercing - [Master Level : 20]\\nInflicts a significant damage on multiple monsters at once with a single powerful blow. Available only during the character\ufffds transformed state of Eagle Eye. \\nRequired skill : #cEagle Eye over level 1#\n+13111007 - Wind Shot - [Master Level : 20]\\nFires 3 arrows to inflict damage on monsters. Available only during the character\ufffds transformed state of Eagle Eye. \\nRequired skill : #cEagle Eye over level 1#\n 14000000 - Nimble Body - [Master Level : 10]\\nIncreases accuracy and avoidability.\n 14000001 - Keen Eyes - [Master Level : 8]\\nIncreases the range of attack for throwing weapons such as the Throwing Stars and Knives.\\nRequired Skill : #cAt least Level 3 on Nimble Body#\n-14001002 - Disorder - [Master Level : 10]\\nTemporarily decreases the enemy\ufffds Weapon Attack and Defense, eventually disabling the monster\ufffds attack.  It cannot be used on the same monster repeatedly.\n+14001002 - Disorder - [Master Level : 10]\\nTemporarily decreases the enemy\ufffds Weapon Attack and Defense, eventually disabling the monster\ufffds attack.  It cannot be used on the same monster repeatedly.\n 14001003 - Dark Sight - [Master Level : 10]\\nUses MP  to hide behind the shadows. With this skill activated, the character can neither attack nor be attacked.\\nRequired Skill : #c At least Level 3 on Disorder # \n 14001004 - Lucky Seven - [Master Level : 20]\\nUses MP to throw 2 Throwing Stars and inflict damage according to the LUK stats regardless of the character's level of Claw Mastery.\n 14001005 - Darkness - [Master Level : 20]\\nSummons the Guardian Fairy to attack monsters nearby.\n-14100000 - Claw Mastery - [Master Level : 20]\\nIncreases the character\ufffds skill in using the Throwing Stars, and enhances the max number of charges. It only applies when the character is equipped with Throwing Stars.\n+14100000 - Claw Mastery - [Master Level : 20]\\nIncreases the character\ufffds skill in using the Throwing Stars, and enhances the max number of charges. It only applies when the character is equipped with Throwing Stars.\n 14100001 - Critical Throw - [Master Level : 30]\\nEnables Critical Attack with Throwing Stars at a pre-established success rate.\\nRequired Skill: #c At least Level 3 on Claw Mastery # \n 14101002 - Claw Booster - [Master Level : 20]\\nUse HP and MP to temporarily boost up the attack speed of the claw. It only applies when the character is equipped with a claw Throwing Stars.\\nRequired Skill : \\n#cAt least Level 5 on Claw Mastery#\n 14101003 - Haste - [Master Level : 20]\\nTemporarily enhances Speed and Jump stats of every member in the party.\n-14101004 - Flash Jump - [Master Level : 20]\\n[Master Level : 20]\\nAllows a second Jump toward the direction which the character was headed when used while the character is in the air. The distance of the Jump increases in accordance with the advancement of the character\ufffds skill level.\n+14101004 - Flash Jump - [Master Level : 20]\\n[Master Level : 20]\\nAllows a second Jump toward the direction which the character was headed when used while the character is in the air. The distance of the Jump increases in accordance with the advancement of the character\ufffds skill level.\n 14100005 - Vanish - [Master Level : 10]\\nInflicts additional damage on monsters when used while Dark Sight is activated. Dark Sight deactivates as soon as this skill is applied. \\nRequired skill : #cDark Sight over level 10#\n-14101006 - Vampire - [Master Level : 20]\\nCan attack multiple monsters 4 times and partially consumes the damage to recover HP. No more than \ufffd of the character\ufffds max HP and the Monster\ufffds max HP can be consumed.\n-14111000 - Shadow Partner - [Master Level : 30]\\nSummons a shadow, which repeats the character\ufffds every move, for a given duration. It has no special strength.\n-14111001 - Shadow Web - [Master Level : 20]\\nMakes a spider web of the character\ufffds shadow, and holds up to 6 enemies in one spot at once. Mobility of the monsters caught in the spider web will be disabled.\n+14101006 - Vampire - [Master Level : 20]\\nCan attack multiple monsters 4 times and partially consumes the damage to recover HP. No more than \ufffd of the character\ufffds max HP and the Monster\ufffds max HP can be consumed.\n+14111000 - Shadow Partner - [Master Level : 30]\\nSummons a shadow, which repeats the character\ufffds every move, for a given duration. It has no special strength.\n+14111001 - Shadow Web - [Master Level : 20]\\nMakes a spider web of the character\ufffds shadow, and holds up to 6 enemies in one spot at once. Mobility of the monsters caught in the spider web will be disabled.\n 14111002 - Avenger - [Master Level : 30]\\nUses MP to make an enormous Throwing Star for attack. The Throwing Star will penetrate the enemy, and attack the ones behind it, too.\n 14110003 - Alchemist - [Master Level : 20]\\nEnhances the effects of recovery items including potions or lengthens the duration of items applied to the status of the character, with an exception of recovery items such as the Elixir that provide recovery based on %. \n 14110004 - Venom - [Master Level : 20]\\nThrows a poisonous Throwing Star. Monsters that have been struck will be poisoned according to the pre-established success rate. It can be used against one monster up to 3 times during which the monster's HP will not go any lower than 1.\n 11101004 - Soul Blade - [Master Level : 30]\\nTransforms invisible Soul into visible form and inflicts damage on an enemy.\n 11101005 - Soul Rush - [Master Level : 10]\\nReceives the power of Soul, which allows the character to instantaneously move at a fast speed.\n 11110000 - MP Recovery Rate Enhancement - [Master Level : 20]\\nCan recover more MP every 10 sec. \n-11111001 - Combo Attack - [Master Level : 20]\\nCan build up one\ufffds Comb Attack. The Finish Attack is enabled when the Combo Counter increases every time the attack is used. The Max Combo Counter is 5 and the standard Damage inflicted is when the Combo Counter is at 3. \n+11111001 - Combo Attack - [Master Level : 20]\\nCan build up one\ufffds Comb Attack. The Finish Attack is enabled when the Combo Counter increases every time the attack is used. The Max Combo Counter is 5 and the standard Damage inflicted is when the Combo Counter is at 3. \n 11111002 - Panic - [Master Level : 20]\\nAttacks a single enemy. It is only available when the Sword is equipped and the Combo Counter is activated.\\nRequired Skill: #cCombo Attack higher than level 1.#\n 11111003 - Coma - [Master Level : 20]\\nPut monsters nearby in coma. Only available when the Sword is equipped and Combo Counter is activated : #cCombo Attack higher than level 1 required.#\n 11111004 - Brandish - [Master Level : 30]\\nEnables two attacks on multiple monsters nearby.\n@@ -492,15 +492,15 @@\n 21101003 - Body Pressure - [Master Level : 20]\\nAllows one to feel very powerful for a small period of time, by being able to body-check monsters, and completely render the monster useless.\n 21110000 - Combo Critical - [Master Level : 20]\\nEvery time the combo count reaches 10, that's when the critical rate and the damage increases.\\nRequired Skill : #cCombo Ability Level 10#\n 21111001 - Smart Knockback - [Master Level : 20]\\nUtilizes efficiency over power, in that it dishes out less damage than a regular knockback, yet still manages to knock back an enemy.\n-21110004 - Combo Penril - [Master Level : 30]\\nShoots a wave of concentrated energy, mixing with the spirit of wolves. Can only be used when the #cCombo Count reaches at least 100.#\\nRequired Skill : #cCombo Smash Level 10#\\n[Command : #cArrow Key : Down + Right + attack key#]\n+21110004 - Combo Fenrir - [Master Level : 30]\\nShoots a wave of concentrated energy, mixing with the spirit of wolves. Can only be used when the #cCombo Count reaches at least 100.#\\nRequired Skill : #cCombo Smash Level 10#\\n[Command : #cArrow Key : Down + Right + attack key#]\n 21111005 - Snow Charge - [Master Level : 20]\\nFor a set period of time, add the element of ice on the Pole Arm. The skill cancels itself when the time is up, while the attacked monsters become much slower.\n 21110007 - (hidden) Full Swing - Double Swing - [Master Level : 20]\n 21110008 - (hidden) Full Swing - Triple Swing - [Master Level : 20]\n 21121000 - Maple Warrior - Temporarily boosts the stats of everyone in the party.\n 21120001 - High Mastery - Improves the overall mastery of Polearm-related weapons and attack.\\nRequired Skill : #cPolearm Mastery Level 20#\n 21121003 - Freeze Standing - Stand heavy like a frozen block of ice and back down from no one.\n 21120004 - High Defense - A new level of defense, in that it permanently decreases the damage suffering from the same attacks.\n-21120006 - Combo Tempest - Creates an ice that is so deadly that even a slight collision would kill the monster, while incurring significant damage to boss monsters as well. #cOnly avilable when the combo count reaches 200 or more#.\\nRequired Skill : #cCombo Penril Level 10#\\n[command : #cArrow Key : Down + Right + attck\\#]\n+21120006 - Combo Tempest - Creates an ice that is so deadly that even a slight collision would kill the monster, while incurring significant damage to boss monsters as well. #cOnly avilable when the combo count reaches 200 or more#.\\nRequired Skill : #cCombo Fenrir Level 10#\\n[command : #cArrow Key : Down + Right + attck\\#]\n 21120007 - Combo Barrier - A buff that decreases the amount of damage received over a set time. A welcome skill in party formats a la cleric. Only available once the #ccombo count reaches 200#.\\nRequired Skill : #cCombo Drain Level 10#\\n[Command : #cArrow key : Down + Down + attack#]\n 21121008 - Hero's Will - Allows one to snap out of abnormal conditions. The higher the character's level, the less the character has to wait.\n 21120009 - (hidden) Over Swing - Double Swing - [Master Level : 30]"}, {"sha": "6de4c11e800c567936187e7f1cf1f6a2e0e4ccd0", "filename": "wz/Item.wz/Etc/0403.img.xml", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/Item.wz/Etc/0403.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/Item.wz/Etc/0403.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Item.wz/Etc/0403.img.xml?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -6911,6 +6911,7 @@\n       <int name=\"price\" value=\"1\"/>\n       <int name=\"slotMax\" value=\"1\"/>\n       <int name=\"notSale\" value=\"1\"/>\n+      <int name=\"pquest\" value=\"1\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"04031595\">\n@@ -6924,6 +6925,7 @@\n       <int name=\"price\" value=\"1\"/>\n       <int name=\"slotMax\" value=\"10\"/>\n       <int name=\"notSale\" value=\"1\"/>\n+      <int name=\"pquest\" value=\"1\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"04031596\">\n@@ -6936,6 +6938,7 @@\n       </canvas>\n       <int name=\"price\" value=\"1\"/>\n       <int name=\"notSale\" value=\"1\"/>\n+      <int name=\"pquest\" value=\"1\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"04031597\">\n@@ -6949,6 +6952,7 @@\n       <int name=\"price\" value=\"1\"/>\n       <int name=\"slotMax\" value=\"150\"/>\n       <int name=\"notSale\" value=\"1\"/>\n+      <int name=\"pquest\" value=\"1\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"04031606\">\n@@ -11579,8 +11583,7 @@\n       <canvas name=\"iconRaw\" width=\"32\" height=\"29\">\n         <vector name=\"origin\" x=\"0\" y=\"32\"/>\n       </canvas>\n-      <int name=\"price\" value=\"1\"/>\n-      <int name=\"tradeBlock\" value=\"1\"/>\n+      <int name=\"price\" value=\"10000\"/>\n       <int name=\"notSale\" value=\"1\"/>\n       <int name=\"slotMax\" value=\"1\"/>\n     </imgdir>"}, {"sha": "3b4d9d637785f845aa36e0f30b670001a50d49b9", "filename": "wz/Map.wz/Map/Map6/670010100.img.xml", "status": "modified", "additions": 1763, "deletions": 1755, "changes": 3518, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/Map.wz/Map/Map6/670010100.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/Map.wz/Map/Map6/670010100.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map6/670010100.img.xml?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "9a45154849126d4f410a725742068911d055f897", "filename": "wz/Map.wz/Map/Map6/670010200.img.xml", "status": "modified", "additions": 11591, "deletions": 11373, "changes": 22964, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/Map.wz/Map/Map6/670010200.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/Map.wz/Map/Map6/670010200.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map6/670010200.img.xml?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "5dfe25617a9242de7a31978aed6bf44830e64358", "filename": "wz/Map.wz/Map/Map6/670010300.img.xml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/Map.wz/Map/Map6/670010300.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/Map.wz/Map/Map6/670010300.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map6/670010300.img.xml?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -2128,6 +2128,7 @@\n       <int name=\"y\" value=\"-843\"/>\n       <int name=\"tm\" value=\"670010400\"/>\n       <string name=\"tn\" value=\"st00\"/>\n+      <string name=\"script\" value=\"apqClosed\"/>\n     </imgdir>\n     <imgdir name=\"9\">\n       <string name=\"pn\" value=\"door00\"/>"}, {"sha": "2ca3d8e22b9bb436a76297b8ede7e2321b9fdb5e", "filename": "wz/Map.wz/Map/Map6/670010301.img.xml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/Map.wz/Map/Map6/670010301.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/Map.wz/Map/Map6/670010301.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map6/670010301.img.xml?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -2023,6 +2023,7 @@\n       <int name=\"y\" value=\"-841\"/>\n       <int name=\"tm\" value=\"670010400\"/>\n       <string name=\"tn\" value=\"st00\"/>\n+      <string name=\"script\" value=\"apqClosed\"/>\n     </imgdir>\n   </imgdir>\n </imgdir>"}, {"sha": "3ccb774c1dc6579104ad864a121820115df3cd2d", "filename": "wz/Map.wz/Map/Map6/670010302.img.xml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/Map.wz/Map/Map6/670010302.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/Map.wz/Map/Map6/670010302.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map6/670010302.img.xml?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -2111,6 +2111,7 @@\n       <int name=\"y\" value=\"-843\"/>\n       <int name=\"tm\" value=\"670010400\"/>\n       <string name=\"tn\" value=\"st00\"/>\n+      <string name=\"script\" value=\"apqClosed\"/>\n     </imgdir>\n     <imgdir name=\"9\">\n       <string name=\"pn\" value=\"door00\"/>"}, {"sha": "692341d2539e43e29938859f19aa239fa4534ff5", "filename": "wz/Map.wz/Map/Map6/670010400.img.xml", "status": "modified", "additions": 2157, "deletions": 2124, "changes": 4281, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/Map.wz/Map/Map6/670010400.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/Map.wz/Map/Map6/670010400.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map6/670010400.img.xml?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "8a88d9c02df5dd4b08750a03d986bc239519c60d", "filename": "wz/Map.wz/Map/Map6/670010500.img.xml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/Map.wz/Map/Map6/670010500.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/Map.wz/Map/Map6/670010500.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map6/670010500.img.xml?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -4154,6 +4154,7 @@\n       <int name=\"y\" value=\"-178\"/>\n       <int name=\"tm\" value=\"670010600\"/>\n       <string name=\"tn\" value=\"st00\"/>\n+      <string name=\"script\" value=\"apqClosed\"/>\n     </imgdir>\n   </imgdir>\n </imgdir>"}, {"sha": "1a24d2d21c9facb6feafc225cc6dac22545230e1", "filename": "wz/Map.wz/Map/Map6/670010600.img.xml", "status": "modified", "additions": 17170, "deletions": 16700, "changes": 33870, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/Map.wz/Map/Map6/670010600.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/Map.wz/Map/Map6/670010600.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map6/670010600.img.xml?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "d86590c060bf964d296ed0c8d87aa07de28371f5", "filename": "wz/Map.wz/Map/Map6/670010750.img.xml", "status": "modified", "additions": 11883, "deletions": 11880, "changes": 23763, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/Map.wz/Map/Map6/670010750.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/Map.wz/Map/Map6/670010750.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map6/670010750.img.xml?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e"}, {"sha": "baabb01dbc5f272b847241ce2e02c4eac9d14c5b", "filename": "wz/Quest.wz/Act.img.xml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/Quest.wz/Act.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/Quest.wz/Act.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Quest.wz/Act.img.xml?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -55827,7 +55827,7 @@\n         </imgdir>\n         <imgdir name=\"4\">\n           <int name=\"count\" value=\"-30\"/>\n-          <int name=\"id\" value=\"4000440\"/>\n+          <int name=\"id\" value=\"4031871\"/>\n         </imgdir>\n         <imgdir name=\"5\">\n           <int name=\"count\" value=\"-10\"/>"}, {"sha": "878404440d3be60a0f7a38962d64453400b9e4da", "filename": "wz/Quest.wz/Check.img.xml", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/Quest.wz/Check.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/Quest.wz/Check.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Quest.wz/Check.img.xml?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -15288,6 +15288,7 @@\n     </imgdir>\n     <imgdir name=\"1\">\n       <int name=\"npc\" value=\"2060005\"/>\n+      <int name=\"endmeso\" value=\"10000000\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"20525\">\n@@ -15352,6 +15353,7 @@\n           <int name=\"count\" value=\"200\"/>\n         </imgdir>\n       </imgdir>\n+      <int name=\"endmeso\" value=\"5000000\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"20526\">\n@@ -15410,6 +15412,7 @@\n     <imgdir name=\"1\">\n       <int name=\"npc\" value=\"1102002\"/>\n       <string name=\"endscript\" value=\"q20526e\"/>\n+      <int name=\"endmeso\" value=\"10000000\"/>\n     </imgdir>\n   </imgdir>\n   <imgdir name=\"20527\">\n@@ -76694,7 +76697,7 @@\n         </imgdir>\n         <imgdir name=\"4\">\n           <int name=\"count\" value=\"30\"/>\n-          <int name=\"id\" value=\"4000440\"/>\n+          <int name=\"id\" value=\"4031871\"/>\n         </imgdir>\n         <imgdir name=\"5\">\n           <int name=\"id\" value=\"4032475\"/>"}, {"sha": "68c243bd6c4dada66777dfa7d33885e62d2ee52f", "filename": "wz/Quest.wz/QuestInfo.img.xml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/Quest.wz/QuestInfo.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/Quest.wz/QuestInfo.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Quest.wz/QuestInfo.img.xml?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -10317,7 +10317,7 @@ Able to proceed to &apos;For the peace of Victoria Island...&apos; as next quest\n     <string name=\"name\" value=\"Hunter&apos;s Profission\"/>\n     <int name=\"area\" value=\"50\"/>\n     <string name=\"0\" value=\"Scadur seems up to something big this time. I should move to El Nath and see what he is looking for...\"/>\n-    <string name=\"1\" value=\"So Scadur is going to set-up a &quot;Leather Festival&quot; on El Nath... I&apos;m out to find and collect all these items for him. Hope the reward of this mission is really worth it...\\n\\n#i4000021# #t4000021# #c4000021# / #r50#k\\n#i4000264# #t4000264# #c4000264# / #r10#k\\n#i4000281# #t4000281# #c4000281# / #r10#k\\n#i4000295# #t4000295# #c4000295# / #r10#k\\n#i4000440# #t4000440# #c4000440# / #r10#k\\n#i4031871# #t4031871# #c4031871# / #r10#k\\n#i4032475# #t4032475# #c4032475# / #r5#k\"/>\n+    <string name=\"1\" value=\"So Scadur is going to set-up a &quot;Leather Festival&quot; on El Nath... I&apos;m out to find and collect all these items for him. Hope the reward of this mission is really worth it...\\n\\n#i4000021# #t4000021# #c4000021# / #r50#k\\n#i4000264# #t4000264# #c4000264# / #r10#k\\n#i4000281# #t4000281# #c4000281# / #r10#k\\n#i4000295# #t4000295# #c4000295# / #r10#k\\n#i4031871# #t4031871# #c4031871# / #r10#k\\n#i4032475# #t4032475# #c4032475# / #r5#k\"/>\n     <string name=\"2\" value=\"I helped Scadur in his &quot;Leather Festival&quot;, held on El Nath.\"/>\n   </imgdir>\n   <imgdir name=\"29000\">"}, {"sha": "5451f266ce77a228a1b9b53a7431278d32bd8aa7", "filename": "wz/Quest.wz/Say.img.xml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/Quest.wz/Say.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/Quest.wz/Say.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Quest.wz/Say.img.xml?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -64786,7 +64786,7 @@\n       <string name=\"0\" value=\"The new hunting season has begun! I am planning to set-up a stand here at the El-Nath Market, selling #rleathers#k of the most fine quality. And for this, I am counting on you to bring all these leathers here, obviously for a #bvery nice reward#k. If you miss that season, you&apos;re not a serious hunter. It&apos;s that important. You know, I can give you a special tip on how to hunt effectively. Are you interested?\"/>\n       <imgdir name=\"yes\">\n         <string name=\"0\" value=\"Oh hoho... Surely you do. As a hunter in training, you should get accostumed with the uncertainties that surround us. So, take this list of leathers I want you to bring, and bring them here, ok? If you pass this test, you will not regret it!\"/>\n-        <string name=\"1\" value=\"You will need firstly regular #b#t4000021##k in a bunch of 60. In #rLeafre#k, hunt for some #b#t4000264##k. In #rMu Lung#k, hunt for some #b#t4000281##k and #b#t4000295##k, these are famous from around here, and quite rare to find. This one will be tricky: #b#t4000440##k... Well, these are found from Primitive Boars, you will need to go to Ludibrium somewhere and find a portal to jump back in the time. Hey, don&apos;t look to me like that, word has it that they in Ludibrium can do something about this sort of thing!\"/>\n+        <string name=\"1\" value=\"You will need firstly regular #b#t4000021##k in a bunch of 60. In #rLeafre#k, hunt for some #b#t4000264##k. In #rMu Lung#k, hunt for some #b#t4000281##k and #b#t4000295##k, these are widely appreciated around here, and quite rare to find.\"/>\n         <string name=\"2\" value=\"Finally, #b#t4032475##k. Normally their leather are not very consistent. However, once we are in open hunt season, they have some utility for adorning things. Said all that, good luck on your hunt and be safe.\"/>\n       </imgdir>\n       <imgdir name=\"no\">"}, {"sha": "0e006365e013c2244b83736f6deed586da74dbe4", "filename": "wz/String.wz/Consume.img.xml", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/String.wz/Consume.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/String.wz/Consume.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/String.wz/Consume.img.xml?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -894,7 +894,7 @@\n   </imgdir>\n   <imgdir name=\"2022145\">\n     <string name=\"name\" value=\"Canned Peach\"/>\n-    <string name=\"desc\" value=\"Homemade canned peach made by the weird pharmacist in Mu Lung, Dr. Do.\\nRecovers around 1000 nHP.\"/>\n+    <string name=\"desc\" value=\"Homemade canned peach made by the weird pharmacist in Mu Lung, Dr. Do.\\nRecovers around 1000 HP.\"/>\n   </imgdir>\n   <imgdir name=\"2022146\">\n     <string name=\"name\" value=\"Peach Juice\"/>\n@@ -6686,11 +6686,11 @@\n   </imgdir>\n   <imgdir name=\"2000020\">\n     <string name=\"name\" value=\"Red Potion for Noblesse\"/>\n-    <string name=\"desc\" value=\"A special potion made out of herbs that exclusively grow in Ereve. Made specifically for Noblesss. nHP +50.\"/>\n+    <string name=\"desc\" value=\"A special potion made out of herbs that exclusively grow in Ereve. Made specifically for Noblesss. HP +50.\"/>\n   </imgdir>\n   <imgdir name=\"2000021\">\n     <string name=\"name\" value=\"Blue Potion for Noblesse\"/>\n-    <string name=\"desc\" value=\"A special potion made out of herbs that exclusively grow in Ereve. Made specifically for Noblesss. nMP +100.\"/>\n+    <string name=\"desc\" value=\"A special potion made out of herbs that exclusively grow in Ereve. Made specifically for Noblesss. MP +100.\"/>\n   </imgdir>\n   <imgdir name=\"2022323\">\n     <string name=\"name\" value=\"Fish Net with a Catch\"/>"}, {"sha": "8c1f5ca5ead5d8282acf3f76047252d2a8c353ef", "filename": "wz/String.wz/Skill.img.xml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/String.wz/Skill.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/1ffcf47f797554e7571daf965be7bcea9aee2f8e/wz/String.wz/Skill.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/String.wz/Skill.img.xml?ref=1ffcf47f797554e7571daf965be7bcea9aee2f8e", "patch": "@@ -12063,7 +12063,7 @@\n     <string name=\"h20\" value=\"MP -30; Available for 120 sec, applies only 10% of Monster Knock-Back damage.\"/>\n   </imgdir>\n   <imgdir name=\"21110004\">\n-    <string name=\"name\" value=\"Combo Penril\"/>\n+    <string name=\"name\" value=\"Combo Fenrir\"/>\n     <string name=\"desc\" value=\"[Master Level : 30]\\nShoots a wave of concentrated energy, mixing with the spirit of wolves. Can only be used when the #cCombo Count reaches at least 100.#\\nRequired Skill : #cCombo Smash Level 10#\\n[Command : #cArrow Key : Down + Right + attack key#]\"/>\n     <string name=\"h1\" value=\"Damage 510%, attacks up to 4 monsters at once\"/>\n     <string name=\"h2\" value=\"Damage 520%, attacks up to 4 monsters at once\"/>\n@@ -12269,7 +12269,7 @@\n   </imgdir>\n   <imgdir name=\"21120006\">\n     <string name=\"name\" value=\"Combo Tempest\"/>\n-    <string name=\"desc\" value=\"Creates an ice that is so deadly that even a slight collision would kill the monster, while incurring significant damage to boss monsters as well. #cOnly avilable when the combo count reaches 200 or more#.\\nRequired Skill : #cCombo Penril Level 10#\\n[command : #cArrow Key : Down + Right + attck\\#]\"/>\n+    <string name=\"desc\" value=\"Creates an ice that is so deadly that even a slight collision would kill the monster, while incurring significant damage to boss monsters as well. #cOnly avilable when the combo count reaches 200 or more#.\\nRequired Skill : #cCombo Fenrir Level 10#\\n[command : #cArrow Key : Down + Right + attck\\#]\"/>\n     <string name=\"h1\" value=\"1210% in damage against boss monsters, with ice available for 10 sec\"/>\n     <string name=\"h2\" value=\"1220% in damage against boss monsters, with ice available for 11 sec\"/>\n     <string name=\"h3\" value=\"1230% in damage against boss monsters, with ice available for 12 sec\"/>"}]}]},
