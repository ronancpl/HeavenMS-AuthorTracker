{"fetchDate": "2019-12-19", "content": [{"sha": "de22d2b3eb4bb7a6f6659ae550e75280f4832cba", "node_id": "MDY6Q29tbWl0NDUwODIwMjM6ZGUyMmQyYjNlYjRiYjdhNmY2NjU5YWU1NTBlNzUyODBmNDgzMmNiYQ==", "commit": {"author": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2017-05-18T19:52:08Z"}, "committer": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2017-05-18T19:52:08Z"}, "message": "Small patch with commands\n\nAdded usage info for some commands in the game.", "tree": {"sha": "336d7e4178d893b48a2b05ac9c4882caf0db2b45", "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/trees/336d7e4178d893b48a2b05ac9c4882caf0db2b45"}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/commits/de22d2b3eb4bb7a6f6659ae550e75280f4832cba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/de22d2b3eb4bb7a6f6659ae550e75280f4832cba", "html_url": "https://github.com/ronancpl/HeavenMS/commit/de22d2b3eb4bb7a6f6659ae550e75280f4832cba", "comments_url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/de22d2b3eb4bb7a6f6659ae550e75280f4832cba/comments", "author": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "66a19d6fa6d0e134fb6aa501039630f88e853ab7", "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/66a19d6fa6d0e134fb6aa501039630f88e853ab7", "html_url": "https://github.com/ronancpl/HeavenMS/commit/66a19d6fa6d0e134fb6aa501039630f88e853ab7"}], "stats": {"total": 232, "additions": 171, "deletions": 61}, "files": [{"sha": "0c80212829ec1938a0784545afbd78578456f2ec", "filename": "src/client/command/Commands.java", "status": "modified", "additions": 171, "deletions": 61, "changes": 232, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/de22d2b3eb4bb7a6f6659ae550e75280f4832cba/src/client/command/Commands.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/de22d2b3eb4bb7a6f6659ae550e75280f4832cba/src/client/command/Commands.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/Commands.java?ref=de22d2b3eb4bb7a6f6659ae550e75280f4832cba", "patch": "@@ -700,6 +700,11 @@ public static boolean executeGMCommand(MapleClient c, String[] sub, char heading\n \t\t\t\tSkillFactory.getSkill(i).getEffect(SkillFactory.getSkill(i).getMaxLevel()).applyTo(player);\n \t\t\t}\n \t\t} else if (sub[0].equals(\"spawn\")) {\n+                        if (sub.length < 2) {\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !spawn <mobid>\");\n+\t\t\t\treturn false;\n+\t\t\t}\n+                    \n \t\t\tMapleMonster monster = MapleLifeFactory.getMonster(Integer.parseInt(sub[1]));\n \t\t\tif (monster == null) {\n \t\t\t\treturn true;\n@@ -749,6 +754,11 @@ public static boolean executeGMCommand(MapleClient c, String[] sub, char heading\n \t\t} else if (sub[0].equals(\"cleardrops\")) {\n \t\t\tplayer.getMap().clearDrops(player);\n \t\t} else if (sub[0].equals(\"go\")) {\n+                        if (sub.length < 2){\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !spawn <mobid>\");\n+\t\t\t\treturn false;\n+\t\t\t}\n+                    \n \t\t\tif (gotomaps.containsKey(sub[1])) {\n \t\t\t\tMapleMap target = c.getChannelServer().getMapFactory().getMap(gotomaps.get(sub[1]));\n \t\t\t\tMaplePortal targetPortal = target.getPortal(0);\n@@ -794,6 +804,11 @@ public static boolean executeGMCommand(MapleClient c, String[] sub, char heading\n \t\t\t\t}\n \t\t\t}\n \t\t} else if (sub[0].equals(\"warp\")) {\n+                        if (sub.length < 2){\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !warp <mapid>\");\n+\t\t\t\treturn false;\n+\t\t\t}\n+                    \n \t\t\ttry {\n \t\t\t\tMapleMap target = c.getChannelServer().getMapFactory().getMap(Integer.parseInt(sub[1]));\n \t\t\t\tif (target == null) {\n@@ -890,6 +905,11 @@ public static boolean executeGMCommand(MapleClient c, String[] sub, char heading\n \t\t\tplayer.dropMessage(\"Position: (\" + xpos + \", \" + ypos + \")\");\n \t\t\tplayer.dropMessage(\"Foothold ID: \" + fh);\n \t\t} else if (sub[0].equals(\"dc\")) {\n+                        if (sub.length < 2){\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !dc <playername>\");\n+\t\t\t\treturn false;\n+\t\t\t}\n+                    \n \t\t\tMapleCharacter victim = c.getWorldServer().getPlayerStorage().getCharacterByName(sub[1]);\n \t\t\tif (victim == null) {\n \t\t\t\tvictim = c.getChannelServer().getPlayerStorage().getCharacterByName(sub[1]);\n@@ -912,11 +932,20 @@ public static boolean executeGMCommand(MapleClient c, String[] sub, char heading\n \t\t\t}\n \t\t\tvictim.getClient().disconnect(false, false);\n \t\t} else if (sub[0].equals(\"exprate\")) {\n+                        if (sub.length < 2){\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !exprate <newrate>\");\n+\t\t\t\treturn false;\n+\t\t\t}\n \t\t\tc.getWorldServer().setExpRate(Integer.parseInt(sub[1]));\n \t\t} else if (sub[0].equals(\"chat\")) {\n \t\t\tplayer.toggleWhiteChat();\n \t\t\tplayer.message(\"Your chat is now \" + (player.getWhiteChat() ? \" white\" : \"normal\") + \".\");\n \t\t} else if (sub[0].equals(\"warpto\")) {\n+                        if (sub.length < 2){\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !warpto <mapid>\");\n+\t\t\t\treturn false;\n+\t\t\t}\n+                    \n \t\t\tMapleCharacter victim = cserv.getPlayerStorage().getCharacterByName(sub[1]);\n \t\t\tif (victim == null) {//If victim isn't on current channel or isnt a character try and find him by loop all channels on current world.\n \t\t\t\tfor (Channel ch : srv.getChannelsFromWorld(c.getWorld())) {\n@@ -950,6 +979,11 @@ public static boolean executeGMCommand(MapleClient c, String[] sub, char heading\n \t\t\t\tplayer.dropMessage(\"Unknown player.\");\n \t\t\t}\n \t\t} else if (sub[0].equals(\"warphere\")) {\n+                        if (sub.length < 2){\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !warphere <playername>\");\n+\t\t\t\treturn false;\n+\t\t\t}\n+                    \n \t\t\tMapleCharacter victim = cserv.getPlayerStorage().getCharacterByName(sub[1]);\n \t\t\tif (victim == null) {//If victim isn't on current channel, loop all channels on current world.\n \t\t\t\tfor (Channel ch : srv.getChannelsFromWorld(c.getWorld())) {\n@@ -982,19 +1016,36 @@ public static boolean executeGMCommand(MapleClient c, String[] sub, char heading\n \t\t\t\tplayer.dropMessage(\"Unknown player.\");\n \t\t\t}\n \t\t} else if (sub[0].equals(\"fame\")) {\n+                        if (sub.length < 3){\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !fame <playername> <gainfame>\");\n+\t\t\t\treturn false;\n+\t\t\t}\n+                        \n \t\t\tMapleCharacter victim = cserv.getPlayerStorage().getCharacterByName(sub[1]);\n \t\t\tvictim.setFame(Integer.parseInt(sub[2]));\n \t\t\tvictim.updateSingleStat(MapleStat.FAME, victim.getFame());\n \t\t} else if (sub[0].equals(\"giftnx\")) {\n+                        if (sub.length < 3){\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !giftnx <playername> <gainnx>\");\n+\t\t\t\treturn false;\n+\t\t\t}\n \t\t\tcserv.getPlayerStorage().getCharacterByName(sub[1]).getCashShop().gainCash(1, Integer.parseInt(sub[2]));\n \t\t\tplayer.message(\"Done\");\n \t\t} else if (sub[0].equals(\"gmshop\")) {\n \t\t\tMapleShopFactory.getInstance().getShop(1337).sendShop(c);\n \t\t} else if (sub[0].equals(\"heal\")) {\n \t\t\tplayer.setHpMp(30000);\n \t\t} else if (sub[0].equals(\"vp\")) {\n+                        if (sub.length < 2){\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !vp <gainvotepoint>\");\n+\t\t\t\treturn false;\n+\t\t\t}\n \t\t\tc.addVotePoints(Integer.parseInt(sub[1]));\n \t\t} else if (sub[0].equals(\"id\")) {\n+                        if (sub.length < 2){\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !id <id>\");\n+\t\t\t\treturn false;\n+\t\t\t}\n \t\t\ttry {\n \t\t\t\ttry (BufferedReader dis = new BufferedReader(new InputStreamReader(new URL(\"http://www.mapletip.com/search_java.php?search_value=\" + sub[1] + \"&check=true\").openConnection().getInputStream()))) {\n \t\t\t\t\tString s;\n@@ -1006,13 +1057,16 @@ public static boolean executeGMCommand(MapleClient c, String[] sub, char heading\n                                 e.printStackTrace();\n \t\t\t}\n \t\t} else if (sub[0].equals(\"item\") || sub[0].equals(\"drop\")) {\n+                        if (sub.length < 2){\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !item <itemid> <quantity>\");\n+\t\t\t\treturn false;\n+\t\t\t}\n+                        \n \t\t\tint itemId = Integer.parseInt(sub[1]);\n+                        \n \t\t\tshort quantity = 1;\n-\t\t\ttry {\n-\t\t\t\tquantity = Short.parseShort(sub[2]);\n-\t\t\t} catch (Exception e) {\n-                                e.printStackTrace();\n-\t\t\t}\n+                        if(sub.length >= 3) quantity = Short.parseShort(sub[2]);\n+\t\t\t\n \t\t\tif (sub[0].equals(\"item\")) {\n \t\t\t\tint petid = -1;\n \t\t\t\tif (ItemConstants.isPet(itemId)) {\n@@ -1054,11 +1108,14 @@ public static boolean executeGMCommand(MapleClient c, String[] sub, char heading\n \t\t\t\t}\n \t\t\t}\n \t\t} else if (sub[0].equals(\"kill\")) {\n-\t\t\tif (sub.length >= 2) {\n-\t\t\t\tMapleCharacter victim = cserv.getPlayerStorage().getCharacterByName(sub[1]);\n-\t\t\t\tvictim.setHpMp(0);\n-\t\t\t\tServer.getInstance().broadcastGMMessage(MaplePacketCreator.serverNotice(5, player.getName() + \" used !kill on \" + victim.getName()));\n+                        if (sub.length < 2){\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !kill <playername>\");\n+\t\t\t\treturn false;\n \t\t\t}\n+\t\t\t\n+                        MapleCharacter victim = cserv.getPlayerStorage().getCharacterByName(sub[1]);\n+                        victim.setHpMp(0);\n+                        Server.getInstance().broadcastGMMessage(MaplePacketCreator.serverNotice(5, player.getName() + \" used !kill on \" + victim.getName()));\n \t\t} else if (sub[0].equals(\"seed\")) {\n \t\t\tif (player.getMapId() != 910010000) {\n \t\t\t\tplayer.yellowMessage(\"This command can only be used in HPQ.\");\n@@ -1095,10 +1152,20 @@ public static boolean executeGMCommand(MapleClient c, String[] sub, char heading\n \t\t} else if (sub[0].equals(\"unbug\")) {\n \t\t\tc.getPlayer().getMap().broadcastMessage(MaplePacketCreator.enableActions());\n \t\t} else if (sub[0].equals(\"level\")) {\n+                        if (sub.length < 2){\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !level <newlevel>\");\n+\t\t\t\treturn false;\n+\t\t\t}\n+                    \n \t\t\tplayer.setLevel(Integer.parseInt(sub[1]) - 1);\n \t\t\tplayer.gainExp(-player.getExp(), false, false);\n \t\t\tplayer.levelUp(false);\n \t\t} else if (sub[0].equals(\"levelpro\")) {\n+                        if (sub.length < 2){\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !levelpro <newlevel>\");\n+\t\t\t\treturn false;\n+\t\t\t}\n+                    \n \t\t\twhile (player.getLevel() < Math.min(255, Integer.parseInt(sub[1]))) {\n \t\t\t\tplayer.levelUp(false);\n \t\t\t}\n@@ -1129,12 +1196,18 @@ public static boolean executeGMCommand(MapleClient c, String[] sub, char heading\n \t\t\t\t}\n \t\t\t}\n \t\t} else if (sub[0].equals(\"mesos\")) {\n-\t\t\tplayer.gainMeso(Integer.parseInt(sub[1]), true);\n+                        if (sub.length >= 2) {\n+                                player.gainMeso(Integer.parseInt(sub[1]), true);\n+                        }\n \t\t} else if (sub[0].equals(\"notice\")) {\n \t\t\tServer.getInstance().broadcastMessage(MaplePacketCreator.serverNotice(6, \"[Notice] \" + joinStringFrom(sub, 1)));\n \t\t} else if (sub[0].equals(\"rip\")) {\n \t\t\tServer.getInstance().broadcastMessage(MaplePacketCreator.serverNotice(6, \"[RIP]: \" + joinStringFrom(sub, 1)));\n \t\t} else if (sub[0].equals(\"openportal\")) {\n+                        if (sub.length < 2){\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !openportal <portalid>\");\n+\t\t\t\treturn false;\n+\t\t\t}\n \t\t\tplayer.getMap().getPortal(sub[1]).setPortalState(true);\n \t\t} else if (sub[0].equals(\"pe\")) {\n \t\t\tString packet = \"\";\n@@ -1164,6 +1237,10 @@ public static boolean executeGMCommand(MapleClient c, String[] sub, char heading\n \t\t\t\t}\n \t\t\t}\n \t\t} else if (sub[0].equals(\"closeportal\")) {\n+                        if (sub.length < 2){\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !closeportal <portalid>\");\n+\t\t\t\treturn false;\n+\t\t\t}\n \t\t\tplayer.getMap().getPortal(sub[1]).setPortalState(false);\n \t\t} else if (sub[0].equals(\"startevent\")) {\n \t\t\tfor (MapleCharacter chr : player.getMap().getCharacters()) {\n@@ -1199,53 +1276,56 @@ public static boolean executeGMCommand(MapleClient c, String[] sub, char heading\n \t\t} else if (sub[0].equals(\"pianus\")) {\n \t\t\tplayer.getMap().spawnMonsterOnGroundBelow(MapleLifeFactory.getMonster(8510000), player.getPosition());\n \t\t} else if (sub[0].equalsIgnoreCase(\"search\")) {\n-\t\t\tStringBuilder sb = new StringBuilder();\n-\t\t\tif (sub.length > 2) {\n-\t\t\t\tString search = joinStringFrom(sub, 2);\n-\t\t\t\tlong start = System.currentTimeMillis();//for the lulz\n-\t\t\t\tMapleData data = null;\n-\t\t\t\tMapleDataProvider dataProvider = MapleDataProviderFactory.getDataProvider(new File(\"wz/String.wz\"));\n-\t\t\t\tif (!sub[1].equalsIgnoreCase(\"ITEM\")) {\n-\t\t\t\t\tif (sub[1].equalsIgnoreCase(\"NPC\")) {\n-\t\t\t\t\t\tdata = dataProvider.getData(\"Npc.img\");\n-\t\t\t\t\t} else if (sub[1].equalsIgnoreCase(\"MOB\") || sub[1].equalsIgnoreCase(\"MONSTER\")) {\n-\t\t\t\t\t\tdata = dataProvider.getData(\"Mob.img\");\n-\t\t\t\t\t} else if (sub[1].equalsIgnoreCase(\"SKILL\")) {\n-\t\t\t\t\t\tdata = dataProvider.getData(\"Skill.img\");\n-\t\t\t\t\t} else if (sub[1].equalsIgnoreCase(\"MAP\")) {\n-\t\t\t\t\t\tsb.append(\"#bUse the '/m' command to find a map. If it finds a map with the same name, it will warp you to it.\");\n-\t\t\t\t\t} else {\n-\t\t\t\t\t\tsb.append(\"#bInvalid search.\\r\\nSyntax: '/search [type] [name]', where [type] is NPC, ITEM, MOB, or SKILL.\");\n-\t\t\t\t\t}\n-\t\t\t\t\tif (data != null) {\n-\t\t\t\t\t\tString name;\n-\t\t\t\t\t\tfor (MapleData searchData : data.getChildren()) {\n-\t\t\t\t\t\t\tname = MapleDataTool.getString(searchData.getChildByPath(\"name\"), \"NO-NAME\");\n-\t\t\t\t\t\t\tif (name.toLowerCase().contains(search.toLowerCase())) {\n-\t\t\t\t\t\t\t\tsb.append(\"#b\").append(Integer.parseInt(searchData.getName())).append(\"#k - #r\").append(name).append(\"\\r\\n\");\n-\t\t\t\t\t\t\t}\n-\t\t\t\t\t\t}\n-\t\t\t\t\t}\n-\t\t\t\t} else {\n-\t\t\t\t\tfor (Pair<Integer, String> itemPair : MapleItemInformationProvider.getInstance().getAllItems()) {\n-\t\t\t\t\t\tif (sb.length() < 32654) {//ohlol\n-\t\t\t\t\t\t\tif (itemPair.getRight().toLowerCase().contains(search.toLowerCase())) {\n-\t\t\t\t\t\t\t\t//#v\").append(id).append(\"# #k- \n-\t\t\t\t\t\t\t\tsb.append(\"#b\").append(itemPair.getLeft()).append(\"#k - #r\").append(itemPair.getRight()).append(\"\\r\\n\");\n-\t\t\t\t\t\t\t}\n-\t\t\t\t\t\t} else {\n-\t\t\t\t\t\t\tsb.append(\"#bCouldn't load all items, there are too many results.\\r\\n\");\n-\t\t\t\t\t\t\tbreak;\n-\t\t\t\t\t\t}\n-\t\t\t\t\t}\n-\t\t\t\t}\n-\t\t\t\tif (sb.length() == 0) {\n-\t\t\t\t\tsb.append(\"#bNo \").append(sub[1].toLowerCase()).append(\"s found.\\r\\n\");\n-\t\t\t\t}\n-\t\t\t\tsb.append(\"\\r\\n#kLoaded within \").append((double) (System.currentTimeMillis() - start) / 1000).append(\" seconds.\");//because I can, and it's free\n-\t\t\t} else {\n-\t\t\t\tsb.append(\"#bInvalid search.\\r\\nSyntax: '/search [type] [name]', where [type] is NPC, ITEM, MOB, or SKILL.\");\n+                        if (sub.length < 3){\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !search <type> <name>\");\n+\t\t\t\treturn false;\n \t\t\t}\n+                    \n+\t\t\tStringBuilder sb = new StringBuilder();\n+\t\t\t\n+                        String search = joinStringFrom(sub, 2);\n+                        long start = System.currentTimeMillis();//for the lulz\n+                        MapleData data = null;\n+                        MapleDataProvider dataProvider = MapleDataProviderFactory.getDataProvider(new File(\"wz/String.wz\"));\n+                        if (!sub[1].equalsIgnoreCase(\"ITEM\")) {\n+                                if (sub[1].equalsIgnoreCase(\"NPC\")) {\n+                                        data = dataProvider.getData(\"Npc.img\");\n+                                } else if (sub[1].equalsIgnoreCase(\"MOB\") || sub[1].equalsIgnoreCase(\"MONSTER\")) {\n+                                        data = dataProvider.getData(\"Mob.img\");\n+                                } else if (sub[1].equalsIgnoreCase(\"SKILL\")) {\n+                                        data = dataProvider.getData(\"Skill.img\");\n+                                } else if (sub[1].equalsIgnoreCase(\"MAP\")) {\n+                                        sb.append(\"#bUse the '/m' command to find a map. If it finds a map with the same name, it will warp you to it.\");\n+                                } else {\n+                                        sb.append(\"#bInvalid search.\\r\\nSyntax: '/search [type] [name]', where [type] is NPC, ITEM, MOB, or SKILL.\");\n+                                }\n+                                if (data != null) {\n+                                        String name;\n+                                        for (MapleData searchData : data.getChildren()) {\n+                                                name = MapleDataTool.getString(searchData.getChildByPath(\"name\"), \"NO-NAME\");\n+                                                if (name.toLowerCase().contains(search.toLowerCase())) {\n+                                                        sb.append(\"#b\").append(Integer.parseInt(searchData.getName())).append(\"#k - #r\").append(name).append(\"\\r\\n\");\n+                                                }\n+                                        }\n+                                }\n+                        } else {\n+                                for (Pair<Integer, String> itemPair : MapleItemInformationProvider.getInstance().getAllItems()) {\n+                                        if (sb.length() < 32654) {//ohlol\n+                                                if (itemPair.getRight().toLowerCase().contains(search.toLowerCase())) {\n+                                                        //#v\").append(id).append(\"# #k- \n+                                                        sb.append(\"#b\").append(itemPair.getLeft()).append(\"#k - #r\").append(itemPair.getRight()).append(\"\\r\\n\");\n+                                                }\n+                                        } else {\n+                                                sb.append(\"#bCouldn't load all items, there are too many results.\\r\\n\");\n+                                                break;\n+                                        }\n+                                }\n+                        }\n+                        if (sb.length() == 0) {\n+                                sb.append(\"#bNo \").append(sub[1].toLowerCase()).append(\"s found.\\r\\n\");\n+                        }\n+                        sb.append(\"\\r\\n#kLoaded within \").append((double) (System.currentTimeMillis() - start) / 1000).append(\" seconds.\");//because I can, and it's free\n+\t\t\t\n \t\t\tc.announce(MaplePacketCreator.getNPCTalk(9010000, (byte) 0, sb.toString(), \"00 00\", (byte) 0));\n \t\t} else if (sub[0].equals(\"servermessage\")) {\n \t\t\tc.getWorldServer().setServerMessage(joinStringFrom(sub, 1));\n@@ -1265,6 +1345,11 @@ public static boolean executeGMCommand(MapleClient c, String[] sub, char heading\n \t\t\tplayer.updateSingleStat(MapleStat.INT, x);\n \t\t\tplayer.updateSingleStat(MapleStat.LUK, x);\n \t\t} else if (sub[0].equals(\"unban\")) {\n+                        if (sub.length < 2){\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !unban <playername>\");\n+\t\t\t\treturn false;\n+\t\t\t}\n+                    \n \t\t\ttry {\n                                 Connection con = DatabaseConnection.getConnection();\n                                 int aid = MapleCharacter.getAccountIdByName(sub[1]);\n@@ -1344,6 +1429,11 @@ public static void executeAdminCommand(MapleClient c, String[] sub, char heading\n \t\tMapleCharacter player = c.getPlayer();\n \t\tswitch (sub[0]) {\n \t\tcase \"sp\":  //Changed to support giving sp /a\n+                        if (sub.length < 2){\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !sp <newsp>\");\n+\t\t\t\treturn;\n+\t\t\t}\n+                        \n \t\t\tif (sub.length == 2) {\n \t\t\t\tplayer.setRemainingSp(Integer.parseInt(sub[1]));\n \t\t\t\tplayer.updateSingleStat(MapleStat.AVAILABLESP, player.getRemainingSp());\n@@ -1364,6 +1454,11 @@ public static void executeAdminCommand(MapleClient c, String[] sub, char heading\n \t\t\tplayer.dropMessage(6, \"Total Task: \" + tMan.getTaskCount() + \" Current Task: \" + tMan.getQueuedTasks() + \" Active Task: \" + tMan.getActiveCount() + \" Completed Task: \" + tMan.getCompletedTaskCount());\n \t\t\tbreak;\n \t\tcase \"warpworld\":\n+                        if (sub.length < 2){\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !warpworld <worldid>\");\n+\t\t\t\treturn;\n+\t\t\t}\n+                    \n \t\t\tServer server = Server.getInstance();\n \t\t\tbyte worldb = Byte.parseByte(sub[1]);\n \t\t\tif (worldb <= (server.getWorlds().size() - 1)) {\n@@ -1422,16 +1517,17 @@ public static void executeAdminCommand(MapleClient c, String[] sub, char heading\n \t\t\tplayer.message(\"These b lurkin: \" + names);\n \t\t\tbreak;\n \t\tcase \"getacc\":\n-\t\t\tif (sub.length < 1) {\n-\t\t\t\tplayer.message(\"Please provide an IGN.\");\n-\t\t\t\tbreak;\n+\t\t\tif (sub.length < 2){\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !getacc <playername>\");\n+\t\t\t\treturn;\n \t\t\t}\n \t\t\tMapleCharacter victim = c.getChannelServer().getPlayerStorage().getCharacterByName(sub[1]);\n \t\t\tplayer.message(victim.getName() + \"'s account name is \" + victim.getClient().getAccountName() + \".\");\n \t\t\tbreak;\n \t\tcase \"npc\":\n-\t\t\tif (sub.length < 1) {\n-\t\t\t\tbreak;\n+\t\t\tif (sub.length < 2){\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !npc <npcid>\");\n+\t\t\t\treturn;\n \t\t\t}\n \t\t\tMapleNPC npc = MapleLifeFactory.getNPC(Integer.parseInt(sub[1]));\n \t\t\tif (npc != null) {\n@@ -1459,6 +1555,10 @@ public static void executeAdminCommand(MapleClient c, String[] sub, char heading\n \t\t\tbreak;\n \t\t}\n \t\tcase \"playernpc\":\n+                        if (sub.length < 3){\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !playernpc <playername> <npcid>\");\n+\t\t\t\treturn;\n+\t\t\t}\n \t\t\tplayer.playerNPC(c.getChannelServer().getPlayerStorage().getCharacterByName(sub[1]), Integer.parseInt(sub[2]));\n \t\t\tbreak;\n \t\tcase \"shutdown\":\n@@ -1472,6 +1572,11 @@ public static void executeAdminCommand(MapleClient c, String[] sub, char heading\n \t\t\tTimerManager.getInstance().schedule(Server.getInstance().shutdown(false), time);\n \t\t\tbreak;\n \t\tcase \"face\":\n+                        if (sub.length < 2){\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !face <faceid>\");\n+\t\t\t\treturn;\n+\t\t\t}\n+                    \n \t\t\tif (sub.length == 2) {\n \t\t\t\tplayer.setFace(Integer.parseInt(sub[1]));\n \t\t\t\tplayer.equipChanged();\n@@ -1482,6 +1587,11 @@ public static void executeAdminCommand(MapleClient c, String[] sub, char heading\n \t\t\t}\n \t\t\tbreak;\n \t\tcase \"hair\":\n+                        if (sub.length < 2){\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !hair <hairid>\");\n+\t\t\t\treturn;\n+\t\t\t}\n+                    \n \t\t\tif (sub.length == 2) {\n \t\t\t\tplayer.setHair(Integer.parseInt(sub[1]));\n \t\t\t\tplayer.equipChanged();"}]}]},
