{"fetchDate": "2019-12-19", "content": [{"sha": "ddbd679f884f7a3172e7114edee8dec5a1180471", "node_id": "MDY6Q29tbWl0NDUwODIwMjM6ZGRiZDY3OWY4ODRmN2EzMTcyZTcxMTRlZGVlOGRlYzVhMTE4MDQ3MQ==", "commit": {"author": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2017-09-29T21:35:42Z"}, "committer": {"name": "ronancpl", "email": "rcpl2010@gmail.com", "date": "2017-09-29T21:35:42Z"}, "message": "Hired Merchant & Player shop fixes + Owl of Minerva\n\nThanks to BenjixD DietStory's dev team, many bugs found by them have\nbeen patched (pirate quests, missing drop data, fly command, etc).\nImplemented Owl of Minerva. Fixed many issues with Hired Merchant and\nPlayer Shops. Fixed an error with the slot checking system. Added Wish\nTickets (circa-2006 GMS event) to be dropped on AmoriaPQ.", "tree": {"sha": "9e09779b3c00bfc807563e60e55168515c89d667", "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/trees/9e09779b3c00bfc807563e60e55168515c89d667"}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/git/commits/ddbd679f884f7a3172e7114edee8dec5a1180471", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/ddbd679f884f7a3172e7114edee8dec5a1180471", "html_url": "https://github.com/ronancpl/HeavenMS/commit/ddbd679f884f7a3172e7114edee8dec5a1180471", "comments_url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/ddbd679f884f7a3172e7114edee8dec5a1180471/comments", "author": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ronancpl", "id": 9257761, "node_id": "MDQ6VXNlcjkyNTc3NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9257761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronancpl", "html_url": "https://github.com/ronancpl", "followers_url": "https://api.github.com/users/ronancpl/followers", "following_url": "https://api.github.com/users/ronancpl/following{/other_user}", "gists_url": "https://api.github.com/users/ronancpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronancpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronancpl/subscriptions", "organizations_url": "https://api.github.com/users/ronancpl/orgs", "repos_url": "https://api.github.com/users/ronancpl/repos", "events_url": "https://api.github.com/users/ronancpl/events{/privacy}", "received_events_url": "https://api.github.com/users/ronancpl/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "de7e686a92be172de4df8974b3139d12e0a46dac", "url": "https://api.github.com/repos/ronancpl/HeavenMS/commits/de7e686a92be172de4df8974b3139d12e0a46dac", "html_url": "https://github.com/ronancpl/HeavenMS/commit/de7e686a92be172de4df8974b3139d12e0a46dac"}], "stats": {"total": 4962, "additions": 4563, "deletions": 399}, "files": [{"sha": "c2de03689d962e056539cbe6ebb1967cd984ba99", "filename": ".gitignore", "status": "modified", "additions": 11, "deletions": 10, "changes": 21, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/.gitignore", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/.gitignore", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/.gitignore?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -2,15 +2,16 @@\n .idea/\n \n # Netbeans project files\n-/nbproject/\n-/tools/MapleCouponInstaller/nbproject/\n-/tools/MapleIdRetriever/nbproject/\n-/tools/MobBookIndexer/nbproject/\n-/tools/MobBookUpdate/nbproject/\n+nbproject/\n+tools/MapleCouponInstaller/nbproject/\n+tools/MapleIdRetriever/nbproject/\n+tools/MobBookIndexer/nbproject/\n+tools/MobBookUpdate/nbproject/\n \n # build files\n-/build/\n-/tools/MapleCouponInstaller/build/\n-/tools/MapleIdRetriever/build/\n-/tools/MobBookIndexer/build/\n-/tools/MobBookUpdate/build/\n+build/\n+tools/MapleCouponInstaller/build/\n+tools/MapleIdRetriever/build/\n+tools/MobBookIndexer/build/\n+tools/MobBookUpdate/build/\n+dist/\n\\ No newline at end of file"}, {"sha": "1e32cde5734b38d94f09cd8fffdf26a9c1e1dc48", "filename": "README.md", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/README.md", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/README.md", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/README.md?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -23,7 +23,8 @@ Client files & general tools: https://drive.google.com/drive/folders/0BzDsHSr-0V\n ---\n ### Donation\n \n-If you liked what you have seen on the project, donate a little something as a helping hand for my contributions towards Maple development. Paypal: https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=3K8KVTWRLFBQ4\n+If you liked what you have seen on the project, donate a little something as a helping hand for my contributions towards Maple development.\n+Paypal: https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=3K8KVTWRLFBQ4\n \n ---\n ### Preparing the ambient "}, {"sha": "5e42a873ed4511fa2c556b76276c9c7e48a46270", "filename": "build/built-jar.properties", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/built-jar.properties", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/built-jar.properties", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/built-jar.properties?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -1,4 +1,4 @@\n-#Tue, 26 Sep 2017 00:15:28 -0300\n+#Fri, 29 Sep 2017 17:49:16 -0300\n \n \n C\\:\\\\Nexon\\\\MapleSolaxia\\\\MapleSolaxiaV2="}, {"sha": "b26efa68c3b608831c25f5a168ac9bd0d396b461", "filename": "build/classes/client/MapleCharacter$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$1.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "db098ae8c2d177e052919b7ea95f014c53169d12", "filename": "build/classes/client/MapleCharacter$10.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$10.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$10.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$10.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "4f3667e5fe808195758b31c23b43f421a1633a0b", "filename": "build/classes/client/MapleCharacter$11.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$11.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$11.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$11.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "f9ba251f0f6fc6ab9c8b47edade52e20ebc347e0", "filename": "build/classes/client/MapleCharacter$12.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$12.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$12.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$12.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "9d404e4ebe8ccc28ed990f77b81c73d2df500690", "filename": "build/classes/client/MapleCharacter$13.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$13.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$13.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$13.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "be350f1f1ed90badf8d79926fce1eda31def985e", "filename": "build/classes/client/MapleCharacter$14.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$14.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$14.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$14.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "257f322e9278d79a20d1d3cc0ca773b34c38f48e", "filename": "build/classes/client/MapleCharacter$15.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$15.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$15.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$15.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "006fafebcde94015c71ce3c31bb5062293398b7f", "filename": "build/classes/client/MapleCharacter$16.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$16.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$16.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$16.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "aaef8453a442a3e8b94877dd1978f2dc95b21bd8", "filename": "build/classes/client/MapleCharacter$17.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$17.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$17.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$17.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "f87b4848e5593227df3d2cb5d023638fc51b0107", "filename": "build/classes/client/MapleCharacter$18.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$18.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$18.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$18.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "6f769f5371ccd9d47f9036d77c078412786d60e3", "filename": "build/classes/client/MapleCharacter$19.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$19.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$19.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$19.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "4429e2e258d634d140cadeebf87cfe8be18f766f", "filename": "build/classes/client/MapleCharacter$2.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$2.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$2.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$2.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "c3c5666d8fdc8afeecf60d2ad5fa41c36968f48a", "filename": "build/classes/client/MapleCharacter$3.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$3.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$3.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$3.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "d3992c0b8cb805634dae9ad2d5ffc9b9363b91e8", "filename": "build/classes/client/MapleCharacter$4.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$4.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$4.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$4.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "7f59b8295919fc8762e5776c24651b2cbcfb2a24", "filename": "build/classes/client/MapleCharacter$5.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$5.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$5.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$5.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "c94e935a6a826e3f75f1e87de331c96767de23d3", "filename": "build/classes/client/MapleCharacter$6.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$6.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$6.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$6.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "df470b62376fe168ab1bd1b6c9574abae108ea5b", "filename": "build/classes/client/MapleCharacter$7.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$7.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$7.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$7.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "77092d280b3babc6fcd7d584221e719fad99db26", "filename": "build/classes/client/MapleCharacter$8.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$8.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$8.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$8.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "2ebee461299d8217471711900c740aeff32d807a", "filename": "build/classes/client/MapleCharacter$9.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$9.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$9.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$9.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "260e6e461a165e88d1e6280ee479dcd264ccf1c1", "filename": "build/classes/client/MapleCharacter$FameStatus.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$FameStatus.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$FameStatus.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$FameStatus.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "0c296f4973cb67b127c607cd88064d72b7222167", "filename": "build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$MapleBuffStatValueHolder.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "3d4a4254efb13ec58017cfdd4860eb4f8909cede", "filename": "build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$MapleCoolDownValueHolder.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "a3fa9642f04c2802342ad7e86744993d59341547", "filename": "build/classes/client/MapleCharacter$SkillEntry.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$SkillEntry.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter$SkillEntry.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter$SkillEntry.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "acdcd0f204bd7e5a76190362fd26a60027b91a3e", "filename": "build/classes/client/MapleCharacter.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleCharacter.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleCharacter.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "306f6e24207758fafd70cb6ecaf9ebfd4fb4e3c7", "filename": "build/classes/client/MapleClient$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleClient$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleClient$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleClient$1.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "65e75ff13ba561b7d6443572dd727a3e150b1c10", "filename": "build/classes/client/MapleClient$CharNameAndId.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleClient$CharNameAndId.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleClient$CharNameAndId.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleClient$CharNameAndId.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "f6d0077b02178fbbff014d9a1ba3139fa089d066", "filename": "build/classes/client/MapleClient.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleClient.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/MapleClient.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/MapleClient.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "1a4a52db6c2215e3c01078adf40e374e0bbc6042", "filename": "build/classes/client/command/Commands$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/command/Commands$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/command/Commands$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/command/Commands$1.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "2aa0dfe49e0bb9cd24d38882cc44d4e816c883f3", "filename": "build/classes/client/command/Commands.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/command/Commands.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/command/Commands.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/command/Commands.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "ff65d92e67d6fb331bb86c8c79d10c81abe99082", "filename": "build/classes/client/inventory/MapleInventory.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/inventory/MapleInventory.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/client/inventory/MapleInventory.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/client/inventory/MapleInventory.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "40631c68393f07522a746a69f10b29f4dc0cc89f", "filename": "build/classes/constants/GameConstants$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/constants/GameConstants$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/constants/GameConstants$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/constants/GameConstants$1.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "a9b18c893cfb45ef372ecb63baa295899e7fd0c7", "filename": "build/classes/constants/GameConstants.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/constants/GameConstants.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/constants/GameConstants.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/constants/GameConstants.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "ee42fd9fed2de821f8f76a818afd6d2a1b1eb2a1", "filename": "build/classes/constants/ServerConstants.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/constants/ServerConstants.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/constants/ServerConstants.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/constants/ServerConstants.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "d120086d804d1f4e17e3de37966400d39fdcc1c1", "filename": "build/classes/net/PacketProcessor.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/PacketProcessor.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/PacketProcessor.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/PacketProcessor.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "bf0e90f1403f790eadd9d5b1b3b430b6a17264dc", "filename": "build/classes/net/RecvOpcode.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/RecvOpcode.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/RecvOpcode.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/RecvOpcode.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "1eb28d35d5e548a0a8699c2d10bbbc2990d179fe", "filename": "build/classes/net/server/Server$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/server/Server$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/server/Server$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/Server$1.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "737e589587ee2a9bbc3979d361189658d7ea8159", "filename": "build/classes/net/server/Server.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/server/Server.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/server/Server.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/Server.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "62b5466fb1be5da2cbfa3325deed56897674db1e", "filename": "build/classes/net/server/channel/Channel.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/server/channel/Channel.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/server/channel/Channel.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/Channel.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "43f2b6c529266bd89c37f55d693bb0f510450f30", "filename": "build/classes/net/server/channel/handlers/FredrickHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/server/channel/handlers/FredrickHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/server/channel/handlers/FredrickHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/FredrickHandler.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "b07f3437cd62f7164ab75b7649c90dea2fde7bf0", "filename": "build/classes/net/server/channel/handlers/HiredMerchantRequest.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/server/channel/handlers/HiredMerchantRequest.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/server/channel/handlers/HiredMerchantRequest.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/HiredMerchantRequest.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "41ca82048fbc0d72b95f0dc3b171ee5cf65693b1", "filename": "build/classes/net/server/channel/handlers/NPCAnimation.class", "status": "removed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/de7e686a92be172de4df8974b3139d12e0a46dac/build/classes/net/server/channel/handlers/NPCAnimation.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/de7e686a92be172de4df8974b3139d12e0a46dac/build/classes/net/server/channel/handlers/NPCAnimation.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/NPCAnimation.class?ref=de7e686a92be172de4df8974b3139d12e0a46dac"}, {"sha": "651f198286a84edf9bcf2836da4af32a9b0bf5dc", "filename": "build/classes/net/server/channel/handlers/PlayerInteractionHandler$Action.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/server/channel/handlers/PlayerInteractionHandler$Action.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/server/channel/handlers/PlayerInteractionHandler$Action.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/PlayerInteractionHandler$Action.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "cf9e1443fd93bddb08352b243a52d2c44933cfa8", "filename": "build/classes/net/server/channel/handlers/PlayerInteractionHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/server/channel/handlers/PlayerInteractionHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/server/channel/handlers/PlayerInteractionHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/PlayerInteractionHandler.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "a66fe6e5f23e9089336c02ba11d77cde650e6bdd", "filename": "build/classes/net/server/channel/handlers/PlayerLoggedinHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/server/channel/handlers/PlayerLoggedinHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/server/channel/handlers/PlayerLoggedinHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/PlayerLoggedinHandler.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "71f4d42d590750ac50d44098e775b9868526836f", "filename": "build/classes/net/server/channel/handlers/RemoteStoreHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/server/channel/handlers/RemoteStoreHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/server/channel/handlers/RemoteStoreHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/RemoteStoreHandler.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "dd32ed840d95b40a8223735076f9606e4bb69e8d", "filename": "build/classes/net/server/channel/handlers/UseCashItemHandler$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/server/channel/handlers/UseCashItemHandler$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/server/channel/handlers/UseCashItemHandler$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/UseCashItemHandler$1.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "b56eb8f79ce77942d363879f11374cc32acec8cd", "filename": "build/classes/net/server/channel/handlers/UseCashItemHandler.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/server/channel/handlers/UseCashItemHandler.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/server/channel/handlers/UseCashItemHandler.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/UseCashItemHandler.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "0fced9f3d846b3ac69cb0ee58e9e9e526ba7787c", "filename": "build/classes/net/server/channel/handlers/UseSummonBag.class", "status": "removed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/de7e686a92be172de4df8974b3139d12e0a46dac/build/classes/net/server/channel/handlers/UseSummonBag.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/de7e686a92be172de4df8974b3139d12e0a46dac/build/classes/net/server/channel/handlers/UseSummonBag.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/channel/handlers/UseSummonBag.class?ref=de7e686a92be172de4df8974b3139d12e0a46dac"}, {"sha": "994daaa62262305a086b9b88509e10e872b1f670", "filename": "build/classes/net/server/world/World$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/server/world/World$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/server/world/World$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/world/World$1.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "1c43e8c72197ee598ad7d4a46bef256575daa608", "filename": "build/classes/net/server/world/World.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/server/world/World.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/net/server/world/World.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/net/server/world/World.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "37b279bc50a7abf0054aaa9ac30f6ab95da0e05e", "filename": "build/classes/server/MapleInventoryManipulator.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/server/MapleInventoryManipulator.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/server/MapleInventoryManipulator.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleInventoryManipulator.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "7d3a14d0fbd6456970c2197f9a7b29a38a924cad", "filename": "build/classes/server/MapleItemInformationProvider$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/server/MapleItemInformationProvider$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/server/MapleItemInformationProvider$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleItemInformationProvider$1.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "c36cd1ad94d148502c35f71b5dfc264565ddd7e9", "filename": "build/classes/server/MapleItemInformationProvider$RewardItem.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/server/MapleItemInformationProvider$RewardItem.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/server/MapleItemInformationProvider$RewardItem.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleItemInformationProvider$RewardItem.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "b84ff88cc6e53bb896de7f088657092f407d4fe0", "filename": "build/classes/server/MapleItemInformationProvider$scriptedItem.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/server/MapleItemInformationProvider$scriptedItem.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/server/MapleItemInformationProvider$scriptedItem.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleItemInformationProvider$scriptedItem.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "2cee15cbb8870067128b5ff60714978efe7d26ae", "filename": "build/classes/server/MapleItemInformationProvider.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/server/MapleItemInformationProvider.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/server/MapleItemInformationProvider.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MapleItemInformationProvider.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "fa5eb45d6e32b333b8c06f422dae81fdf79f674e", "filename": "build/classes/server/MaplePlayerShop.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/server/MaplePlayerShop.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/server/MaplePlayerShop.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/MaplePlayerShop.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "0f41d3e8e13753e180b2d6dc05ff77e42f98f8b9", "filename": "build/classes/server/maps/HiredMerchant$SoldItem.class", "status": "removed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/de7e686a92be172de4df8974b3139d12e0a46dac/build/classes/server/maps/HiredMerchant$SoldItem.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/de7e686a92be172de4df8974b3139d12e0a46dac/build/classes/server/maps/HiredMerchant$SoldItem.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/HiredMerchant$SoldItem.class?ref=de7e686a92be172de4df8974b3139d12e0a46dac"}, {"sha": "177d1481fb7b8af9675bb8436f47b24bd815314c", "filename": "build/classes/server/maps/HiredMerchant.class", "status": "removed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/de7e686a92be172de4df8974b3139d12e0a46dac/build/classes/server/maps/HiredMerchant.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/de7e686a92be172de4df8974b3139d12e0a46dac/build/classes/server/maps/HiredMerchant.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/server/maps/HiredMerchant.class?ref=de7e686a92be172de4df8974b3139d12e0a46dac"}, {"sha": "a421a4f62272010fbcb6f17c8860a94846a6d5f4", "filename": "build/classes/tools/MaplePacketCreator$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/tools/MaplePacketCreator$1.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/tools/MaplePacketCreator$1.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/tools/MaplePacketCreator$1.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "766057277ef28ae66397e004e4fab91c9882b8ae", "filename": "build/classes/tools/MaplePacketCreator$2.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/tools/MaplePacketCreator$2.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/tools/MaplePacketCreator$2.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/tools/MaplePacketCreator$2.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "80cc3a333b20585eb0f4405494c13cec87f965fc", "filename": "build/classes/tools/MaplePacketCreator.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/tools/MaplePacketCreator.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/build/classes/tools/MaplePacketCreator.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/build/classes/tools/MaplePacketCreator.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "5fccb629ef18e004fd421fa484be66d9c023b08f", "filename": "dist/MapleSolaxia.jar", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/dist/MapleSolaxia.jar", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/dist/MapleSolaxia.jar", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/dist/MapleSolaxia.jar?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "dbd5d0f9b2459409958657e4d187479d18c68f80", "filename": "docs/feature_list.txt", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/docs/feature_list.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/docs/feature_list.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/feature_list.txt?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -60,15 +60,17 @@ Server potentials:\n * Mastery book announcer displays droppers of needed books of a player, by reading underlying DB.\n * Every skill/mastery book is now droppable by mobs.\n * Inventory auto-gather and auto-sorting feature.\n+* Enhanced auto-pot system: pet uses as many potions as necessary to reach the desired threshold.\n * Enhanced buff system: smartly checks for the best available buff effects to be active on the player.\n * Enhanced AP auto-assigner: exactly matches AP with the needed for the player's current level, surplus assigned to the primary attribute.\n * Added Boss HP Bar for dozens of bosses (needs provided custom wz).\n * If multiple bosses are on the same area, client will prioritize Boss HP bar of the target of the player.\n * Custom jail system (needs provided custom wz).\n * Delete Character 100% (requires ENABLE_PIC activated).\n * Boats, elevator and other travelling mechanics fully working.\n-* Eanbled Hired Merchant can be used anywhere but FM Entrance.\n+* Enabled Hired Merchant being able to be used anywhere but FM Entrance and other few places.\n * Vega's spell.\n+* Owl of Minerva.\n * Pet item ignore.\n * Autosaver (periodically saves on DB current state of every player in-game).\n "}, {"sha": "f096866b4f95c39267c768ac6ed6a533c383434c", "filename": "docs/mychanges_ptbr.txt", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/docs/mychanges_ptbr.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/docs/mychanges_ptbr.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/mychanges_ptbr.txt?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -551,6 +551,11 @@ Consertado GPQ n\n Adicionado Water of Life.\n Consertado bug com sistema novo de buffs ao entrar no cash shop e em outros cen\ufffdrios onde n\ufffdo se detectava o melhor buff corretamente.\n \n-25 Setembro 2017,\n-Adicionado prote\ufffd\ufffdo de acesso concorrente a a\ufffd\ufffdes de Hired Merchant.\n-Corrigido alguns problemas com Hired Merchant n\ufffdo retornando a quantidade correta de itens.\n\\ No newline at end of file\n+25 - 27 Setembro 2017,\n+Adicionado prote\ufffd\ufffdo de acesso concorrente a a\ufffd\ufffdes de Hired Merchant e Player Shop.\n+Corrigido alguns problemas com Hired Merchant n\ufffdo retornando a quantidade correta de itens.\n+Adicionado Owl of Minerva.\n+Corrigido um bug no sistema de checagem de slots.\n+\n+28 Setembro 2017,\n+Adidionado wish tickets \ufffd AmoriaPQ.\n\\ No newline at end of file"}, {"sha": "ae81dec973d55d46a1c1e338add98576c0cadc8e", "filename": "docs/todo.txt", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/docs/todo.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/docs/todo.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/todo.txt?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -21,7 +21,6 @@ ToDo / Missing features list:\n \n ---------------------------\n ** Basic PQs **\n-- Amoria Party Quest\n ---------------------------\n \n "}, {"sha": "3c7a46166d58635fc60d1df3a8e4ddae6c87eeef", "filename": "docs/wedding/9201002.js", "status": "added", "additions": 206, "deletions": 0, "changes": 206, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/docs/wedding/9201002.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/docs/wedding/9201002.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/wedding/9201002.js?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -0,0 +1,206 @@\n+/**\n+---------------------------------------------------------------------------------------------------\n+* NPC Name: High Priest John - ID: 9201002.js\n+* @author Vcoc\n+* @author Ronan\n+---------------------------------------------------------------------------------------------------\n+ **/\n+importPackage(Packages.client);\n+importPackage(Packages.server);\n+importPackage(Packages.tools);\n+\n+var status;\n+var minLevel = 10;\n+var maxLevel = 200;\n+var mySelection = -1;\n+var rings = Array(1112001, 1112002, 1112003, 1112005, 1112006);\n+\n+function start() {\n+    status = -1;\n+    action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+    if (mode == 1) {\n+        status++;\n+    } else {\n+        if (type == 1 && mode == 0)\n+            cm.sendOk(\"...\");\n+        cm.dispose();\n+        return;\n+    }\n+\t\n+    if (cm.getPlayer().getMapId() == 680000000) {\n+        if (status == 0) {\n+            cm.sendSimple(\"Ol\ufffd #h #,\\r\\n#bO que voc\ufffd gostaria de fazer hoje?#b\\r\\n#L0#Eu quero me casar!#l\\r\\n#L1#Eu quero ver meus amigos no casamento!#l\\r\\n#L2#Quero trocar um Bilhete Premium de casamento por 5 convites!#l\\r\\n#L3#Eu quero comprar um Bilhete de Casamento!#l\\r\\n#L4#Gostaria de obter uma licen\ufffda de casamento.#l\");\n+        } else if (status == 1) {\n+            if (selection == 0) {\n+                if (cm.getParty() == null) { // no party\n+                    cm.sendOk(\"Para se casar e necessario estar em grupo com a parceira(o)!\");\n+                    cm.dispose();\n+                } else if (!cm.isLeader()) { // not party leader\n+                    cm.sendOk(\"Por favor, fale ao seu parceiro(a) para falar comigo.\");\n+                    cm.dispose();\n+                } else {\n+                    var party = cm.getParty().getMembers();\n+                    var mapId = cm.getPlayer().getMapId();\n+                    var levelValid = 0;\n+                    var genderRight = 0;\n+                    var alreadyMarried = 0;\n+                    for (var i = 0; i < party.size(); i++) {\n+                        var pPlayer = party.get(i);\n+                        if (pPlayer.getLevel() >= minLevel && pPlayer.getLevel() <= maxLevel)\n+                            levelValid += 1;\n+                        if (pPlayer.getGender() == 0) {\n+                            genderRight += 1;\n+                        } else if (pPlayer.getGender() == 1) {\n+                            genderRight += 2;\n+                        }\n+                        if (pPlayer.isMarried() == 1) {\n+                            alreadyMarried += 1;\n+                        }\n+                    }\n+                    if (party.size() == 2) {\n+                        if (party.get(0).getGender() == 0) { // leader.\n+                            if (levelValid == 2 || cm.partyMembersInMap() == 2) {\n+                                if (genderRight == 3) {\n+                                    if (alreadyMarried == 0) {\n+                                        if (cm.haveItem(4031374, 1) && cm.haveItem(5251003, 1)) {\n+                                            // Kick it into action.  Slate says nothing here, just warps you in.\n+                                            var em = cm.getEventManager(\"CathedralWedding\");\n+                                            if (em == null) {\n+                                                cm.sendOk(\"Indisponivel!\");\n+                                            } else {\n+                                                // Begin the Wedding o.O\n+                                                em.startInstance(cm.getParty(), cm.getPlayer().getMap());\n+                                                party = cm.getPlayer().getEventInstance().getPlayers();\n+                                                var hname = party.get(0).getName();\n+                                                var wname = party.get(1).getName();\n+                                                var StringLine = \"[\" + hname + \" & \" + wname + \"] Ir\ufffdo se casar na Catedral, no canal (\" + cm.getC().getChannel() + \").\";\n+                                                cm.worldMessage(5, StringLine);\n+                                                var eim = cm.getChar().getEventInstance();\n+                                                eim.setProperty(\"husband\", party.get(0).getName());\n+                                                eim.setProperty(\"wife\", party.get(1).getName());\n+                                            }\n+                                        } else\n+                                            cm.sendOk(\"Voc\ufffd n\ufffdo tem os itens necess\ufffdrios, desculpe!\");\n+                                    } else\n+                                        cm.sendOk(\"Voc\ufffd j\ufffd est\ufffd casado.\");\n+                                } else\n+                                    cm.sendOk(\"O nosso servidor n\ufffdo suporta este tipo de casamento!\");\n+                            } else\n+                                cm.sendOk(\"Voc\ufffds precisam estar no mesmo mapa e ser pelo menos no n\ufffdvel [\"+minLevel+\" ~ \"+maxLevel+\"]\");\n+                        } else\n+                            cm.sendOk(\"Por favor fa\ufffda o teu marido lider do grupo.\");\n+                    } else\n+                        cm.sendOk(\"Somentos marido e mulher no grupo!\");\n+                    cm.dispose();\n+                }\n+            } else if (selection == 1) {\n+                if (cm.haveItem(5251100, 1)) {\n+                    cm.sendGetText(\"Por favor, insira o nome de um dos membros do casamento .\");\n+                } else {\n+                    cm.sendOk(\"Parece que o casal que voc\ufffd quer assistir n\ufffdo te deu um convite ainda.\");\n+                    cm.dispose();\n+                }\n+            } else if (selection == 2) {\n+                if (cm.haveItem(5251003, 1)) {\n+                    cm.gainItem(5251003, -1);\n+                    cm.gainItem(5251100,5);\n+                } else {\n+                    cm.sendOk(\"Voc\ufffd n\ufffdo tem o Bilhete de Casamento Premium.\");\n+                } \n+                cm.dispose();\n+            } else if (selection == 3) {\n+                    cm.sendOk(\"Voc\ufffd pode comprar um Bilhete de Casamento com a Ria! Localizada no Mercado Livre.\");\n+                \n+                cm.dispose();\n+            } else if (selection == 4) {\n+                if (cm.getPlayer().getMarriageQuestLevel() == 50) {\n+                    cm.sendNext(\"Por favor, v\ufffd visitar a Mom eo Dad em sua casa. Eles vivem em algum lugar Henesys Hunting Ground II.\");\n+                    cm.getPlayer().addMarriageQuestLevel();\n+                } else if (cm.getPlayer().getMarriageQuestLevel() == 53) {\n+                    if (cm.haveItem(4031373, 1)) {\n+                        cm.sendNext(\"Pronto, aqui sua permiss\ufffdo!\");\n+                        cm.removeAll(4031373);\n+                        cm.gainItem(4031374, 1);\n+                        cm.getPlayer().setMarriageQuestLevel(100);\n+                    } else {\n+                        cm.sendNext(\"Voc\ufffd n\ufffdo tem a ben\ufffd\ufffdo de Mom e Dad!\");\n+                    }\n+                } else {\n+                    cm.sendNext(\"Eu n\ufffdo sei o que voc\ufffd est\ufffd falando.\");\n+                }\n+                cm.dispose();\n+            }\n+        } else if (status == 2) {\n+            var chr = cm.getCharByName(cm.getText());\n+            if (chr != null) {\n+                if (chr.getMapId() == 680000200) {\n+                    var eim = chrr.getEventInstance();\n+                    eim.registerPlayer(cm.getPlayer());\n+                } else {\n+                    cm.sendOk(\"O casamento que voc\ufffd gostaria de participar n\ufffdo foi iniciado.\");\n+                }\n+            } else\n+                cm.sendOk(\"Jogador n\ufffdo encontrado.\");\n+            cm.dispose();\n+        }\n+    } else if (cm.getPlayer().getMapId() == 680000210) {\n+        var eim = cm.getPlayer().getEventInstance();\n+\n+        var husbandName = eim.getProperty(\"husband\");\n+        var wifeName = eim.getProperty(\"wife\");\n+\n+        var husband = cm.getCharByName(husbandName);\n+        var wife = cm.getCharByName(wifeName);\n+\t\t\t\n+        var id = cm.getPlayer().getId();\n+            \n+        var hclicked = eim.getProperty(\"hclicked\");\n+        var wclicked = eim.getProperty(\"hclicked\");\n+\n+        var otherChar = husband == cm.getPlayer() ? wife : husband;\n+\t\t\t\n+        if (husband != null && wife != null) {\n+            if (status == 0) {\n+                if (id  != husband.getId() && id  != husband.getId()) {\n+                    cm.sendOk(\"Voc\ufffd n\ufffdo est\ufffd se casando!\");\n+                    cm.dispose();\n+                } else if (cm.getPlayer().isMarried() > 0) {\n+                    cm.sendOk(\"Voc\ufffd j\ufffd foi casado.\");\n+                    cm.dispose();\n+                } else if (hclicked == 1 && husbandName.equals(cm.getPlayer().getName())) {\n+                    cm.sendOk(\"Voc\ufffd j\ufffd aceitou casar-se com sua esposa, pergunte \ufffd sua esposa a aceitar agora\");\n+                    cm.dispose();\n+                } else if (wclicked == 1 && wifeName.equals(cm.getPlayer().getName())) {\n+                    cm.sendOk(\"Voc\ufffd j\ufffd aceitou casar-se com o seu marido , pergunte ao seu marido a aceitar agora\");\n+                    cm.dispose();\n+                } else {\n+                    cm.sendYesNo(\"Voc\ufffd deseja se casar com seu parceiro?\\r\\n\\r\\nIsso ser\ufffd uma decis\ufffdo final.\");\n+                }\n+            } else if (status == 1) {\n+                if (husband == cm.getPlayer())\n+                    eim.setProperty(\"hclicked\", 1);\n+                else if (wife == cm.getPlayer())\n+                    eim.setProperty(\"wclicked\", 1);\n+                else {\n+                    cm.sendOk(\"Como assim?\");\n+                    cm.dispose();\n+                }\n+\n+                if (eim.getProperty(\"hclicked\") == 1 && eim.getProperty(\"hclicked\") == 1) {\n+                    if (!cm.createMarriage(otherChar.getName())) {\n+                        cm.sendOk(\"O sistema n\ufffdo pode encontrar o seu parceiro.\");\n+                        cm.dispose();\n+                        return;\n+                    }\n+                    cm.worldMessage(5, \"Parab\ufffdns a \"+husbandName+\" e \"+wifeName+\". S\ufffdo rec\ufffdm-casados, voc\ufffd pode ench\ufffd-los de spam agora!\");\n+                    cm.removeAll(4031374);\n+                    MapleInventoryManipulator.removeById(otherChar.getClient(), MapleInventoryType.USE, 4031374, otherChar.getItemQuantity(4031374, false), false, false);\n+                    cm.dispose();\n+                }\n+            }\n+        }\n+    }\n+}\n\\ No newline at end of file"}, {"sha": "c88985f6a555053fa185e101fc31a26848065575", "filename": "docs/wedding/9201008.js", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/docs/wedding/9201008.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/docs/wedding/9201008.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/docs/wedding/9201008.js?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -0,0 +1,25 @@\n+var status = 0;\n+\n+function start() {\n+    status = -1;\n+    action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+    if (mode == -1) {\n+        cm.dispose();\n+    }else if (mode == 0){\n+        cm.dispose();\n+\t\treturn;\t\t\n+    } else {\n+        if (mode == 1)\n+            status++;\n+        else\n+            status--;\n+        if (status == 0) {\n+\t\t\tcm.sendOk(\"Wow Vickii! You look so beautiful today. Are you ready to move on to the next part of this surprise?\\r\\n I will be giving you a tour for our chapel.\");\n+\t\t\tcm.getPlayer().startWedding();\n+\t\t\n+        }\n+    }\n+}\n\\ No newline at end of file"}, {"sha": "2e4979391cd7764d8d6bf21b3627ca0c29894703", "filename": "handbook/Quest.txt", "status": "added", "additions": 2817, "deletions": 0, "changes": 2817, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/handbook/Quest.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/handbook/Quest.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/handbook/Quest.txt?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -0,0 +1,2817 @@\n+Borrowing Sera's Mirror - 1000\n+Suspicious Offer?! - 10000\n+Co-op with Special Agent O - 10001\n+Number of Special Agent Badges  - 10002\n+Agent W's Watermelon Investigation - 10005\n+Agent C's Intelligence Activity - 10007\n+Information on Master M - 10008\n+Bringing a Mirror to Heena - 1001\n+Special Order: Find Master M's Orders! - 10010\n+Special Order: Find Master M's Orders! - 10011\n+Special Order: Find Master M's Orders! - 10012\n+Today's Mission! - 10014\n+Obtain the Special Agent Badge! - 10015\n+??????? ????! - 10016\n+??????????? ????! - 10017\n+Earn 50 points on the Speed Quiz! - 10018\n+Invade the Watermelon Field! - 10019\n+Help Agent E! - 10020\n+You are a True Special Agent! - 10021\n+Long and Dangerous Road of an Agent - 10023\n+What Sen wants to eat - 1003\n+??? ?? ?? ?? I - 10030\n+??? ?? ?? ?? II - 10031\n+??? ?? ?? ?? I - 10032\n+??? ?? ?? ?? II - 10033\n+???? ??? ?? - 10034\n+The Great Maple Book Drive - 10035\n+?? ??? ???? - 10036\n+????? ?? - 10037\n+Surprise Event : Special Alphabets - 10039\n+Returning to Nina - 1004\n+??? ?? - 10043\n+???? ??? - 10046\n+? ?? ??? - 10048\n+Letter for Lucas - 1005\n+???? ?? - 10050\n+????? ?? - 10051\n+??? 2000?? ??? - 10052\n+??? ??? - 10053\n+??? ??? - 10054\n+???? ??? - 10055\n+????? ??? ??? - 10056\n+Gaga's Favorite Song - 10059\n+Lucas' Reply - 1006\n+????? ??? ?? - 10060\n+????? ??1 - 10062\n+???? ???1 - 10063\n+????? ??? - 10064\n+???? ??? - 10065\n+??? ?? - 10066\n+????? ??2 - 10067\n+??? ??? - 10068\n+?? T? ????? - 10069\n+Bigg's Collection of Items - 1007\n+??? ??- ??? ?? - 10070\n+??? ?? - 10071\n+???? ??? - 10072\n+?? ?? ?? - 10073\n+?? ?? - 10074\n+???? ??? - 10075\n+????? ??? - 10076\n+????? ??? - 10077\n+??? ??? - 10078\n+??? ??? - 10079\n+Pio's Collecting Recycled Goods - 1008\n+??? ?? - 10080\n+????? ????! - 10081\n+?????? ?? ??? - 10082\n+????? ?? - 10083\n+??? ?? - 10084\n+???? ?? - 10085\n+?? ?? ?? - 10086\n+??? ?? - 10087\n+????? ?? - 10088\n+??? ?? - 10089\n+Rain's Maple Quiz 1 - 1009\n+??? ?? ??? ?? - 10090\n+??? ?? - 10091\n+??? ?? - 10092\n+???? ?? ?? ?? - 10093\n+????? ?? - 10094\n+????? ?? - 10095\n+??? ?? - 10096\n+??? ?? - 10097\n+???? ?? - 10098\n+??? ?? - 10099\n+Rain's Maple Quiz 2 - 1010\n+??? ?? - 10100\n+???? ?? - 10101\n+?? ???? ?? - 10102\n+??? ?? - 10103\n+Book of Cygnus Vol. 1 - 10104\n+Book of Cygnus Vol. 2 - 10105\n+Book of Cygnus Vol. 3 - 10106\n+???? ?? ?? - 10107\n+?? ??? ?? ??? - 10108\n+???? ?? - 10109\n+Rain's Maple Quiz 3 - 1011\n+????? ?? - 10110\n+??? ?? ?? ?? I - 10111\n+??? ?? ?? ?? II - 10112\n+??? ?? ?? ?? I - 10113\n+??? ?? ?? ?? II - 10114\n+Rain's Maple Quiz 4 - 1012\n+Rain's Maple Quiz 5 - 1013\n+Rain's Maple Quiz 6 - 1014\n+Rain's Maple Quiz 7 - 1015\n+Mai's Training - 1016\n+Mai's Final Training - 1017\n+Todd's How-to-Hunt - 1018\n+Sam's Suggestion - 1019\n+Pio and the Recycling - 1020\n+Richie Gold is Here - 10200\n+Pendant of the Spirit - 10205\n+Remnants of Black Mage - 10206\n+Remnants of Black Mage - 10207\n+Remnants of Black Mage - 10208\n+Remnants of Black Mage - 10209\n+Roger's Apple - 1021\n+Gaga's Analysis - 10210\n+Gaga's Analysis - 10211\n+Gaga's Analysis - 10212\n+Gaga's Analysis - 10213\n+Cassandra's Analysis - 10214\n+Gaga's Analysis - 10215\n+Gaga's Analysis - 10216\n+Gaga's Analysis - 10217\n+??? ????? ?? - 10218\n+????? ??? ???? - 10219\n+Lucas' Cute Daughter - 1022\n+??? ?? - 10220\n+???? ???!???? ?? ?! - 10222\n+Starlight Festival - 10224\n+Here little Piggy... - 1023\n+Gold Richie's Compass - 10230\n+Golden Pig's Egg - 10231\n+Love Counseling ?! - 1024\n+????? ???? - 10240\n+????? ???? - 10241\n+??? ????1 - 10242\n+??? ????2 - 10243\n+??? ????3 - 10244\n+??? ????1 - 10245\n+??? ????2 - 10246\n+??? ????3 - 10247\n+??? ????1 - 10248\n+??? ????2 - 10249\n+Maria's Nutritious Juice - 1025\n+??? ????3 - 10250\n+??? ????1 - 10251\n+??? ????2 - 10252\n+??? ????3 - 10253\n+?? ???? ????1 - 10254\n+?? ???? ????2 - 10255\n+?? ???? ????3 - 10256\n+Delivering Nutritious Juice to Shanks - 1026\n+??? ?? ???1 - 10260\n+??? ?? ???2 - 10261\n+??? ?? ???3 - 10262\n+??? ?? ???4 - 10263\n+???? ??? ?? - 10264\n+???? ??? ?? - 10265\n+???? ??? ?? - 10266\n+???? ??? ?? - 10267\n+??? ?? ??1 - 10268\n+Mai's Request - 1027\n+??? ?? ??2 - 10270\n+??? ?? ??3 - 10271\n+??? ?? ??4 - 10272\n+??? ??? ??? - 10273\n+??? 6?? ???? - 10274\n+??? 6?? ????! - 10275\n+??? 6?? ????!! - 10276\n+??? 6?? ????!!! - 10277\n+??? 6?? ??? - 10278\n+??? 6?? ???! - 10279\n+To Lith Harbor! - 1028\n+??? 6?? ???!! - 10280\n+??? 6?? ???!!! - 10281\n+?? ???? ??? : ???? - 10282\n+?? ???? ??? : ???? - 10283\n+?? ???? ??? : ?? - 10284\n+You are a True Maple Lover ? - 10285\n+Cassandra's Gift - 10286\n+???? ?? ??? - 10287\n+Sam's Advice - 1029\n+Maria's Map Reading - 1030\n+Making the Witch's Secure Broomstick - 10300\n+Making the Witch's Solid Broomstick - 10301\n+Making the Witch's Sturdy Broomstick - 10302\n+The Witch's Treasure Chest - 10303\n+Heena and Sera - 1031\n+A Petrified Mouse - 10311\n+Gaga's Glasses - 10312\n+Cassandra's Crystal Ball - 10313\n+A Shiny Watch - 10314\n+A Nice Cleat - 10315\n+Quest Completion Book - 10316\n+A Pretty Hair-Tie - 10317\n+An Old Shoe - 10318\n+Artifact Hunt 1000 points acquired! - 10319\n+Nina's Brother Sen - 1032\n+Artifact Hunt 2500 points acquired! - 10320\n+Artifact Hunt 4000 points acquired! - 10321\n+Artifact Hunt Participation Prize - 10322\n+Vaughn Lee's Cleat - 10324\n+Stan's Cleat - 10325\n+Louie's Cleat - 10326\n+Corba's Watch - 10327\n+8 Mystical Treasures - 10328\n+Start the Artifact Hunt - 10329\n+What Sen Wants - 1033\n+Challenge! Honorable Mesoranger - 10330\n+Special Order! Find Agent E! - 10331\n+Special Order! Find Agent S! - 10332\n+Special Order! Find Agent O! - 10333\n+Tasty Mushroom Candy - 1034\n+The Return! - 10340\n+Aran's Revival - 10341\n+Vague Aran Memories - 10342\n+Cassandra's Album - 10343\n+Dim Aran Memories - 10344\n+Signs of the Revival - 10345\n+Faint Aran Memories - 10346\n+The Wolf In Waiting - 10347\n+Cloudy Aran Memories - 10348\n+Preparing for the Arrival - 10349\n+Todd's Hunting Method - 1035\n+Lingering Aran Memories - 10350\n+The Hero's Memory - 10351\n+Flickering Aran Memories - 10352\n+The Truth About Memory Fragments - 10353\n+To Whom Should Cassandra's Album Go? - 10354\n+Delivering Cassandra's Album - 10355\n+Delivering Cassandra's Album - 10356\n+Robin the Walking Encyclopedia - 1036\n+Aran Welcome Celebration - 10360\n+Help Hunt the Snails - 1037\n+Find the Master of Combos - 10370\n+Maria's Letter - 1038\n+Aran's Return - 10380\n+Lilin's Present 3 - 10381\n+Helping Out Yoona - 1039\n+Teo's Nostaligic Reminiscing I - 10390\n+Teo's Nostalgic Reminscing II - 10391\n+Teo's Nostalgic Reminscing I - 10392\n+Teo's Nostalgic Reminscing II - 10393\n+Perfect Pitch - Level Up Event - 10394\n+??? ??? - 10395\n+??? ??? - 10396\n+??? ??? - 10397\n+??? ??? - 10398\n+Chief's Introduction - 1040\n+The 2010 Winter King / Winter Queen Event! - 10400\n+The True Winter King / Winter Queen Event of 2010! - 10401\n+2009 Pink Flower Floatie! - 10405\n+Mai's First Training - 1041\n+Hunter's Luck - Week 1 - 10410\n+Hunter's Luck - Week 2 - 10411\n+Hunter's Luck - Week 3 - 10412\n+Hunter's Luck - Week 4 - 10413\n+Hunter's Luck - Week 5 - 10414\n+Winter Bingo - 10415\n+Winter Bingo - 10417\n+Winter Bingo - 10418\n+Winter Bingo - 10419\n+Mai's Second Training - 1042\n+Winter Bingo - 10420\n+?? ??? ???? - 10425\n+?????? ????. - 10426\n+Mai's Third Training - 1043\n+???? ?? ?? - 10430\n+??? ?? ???? - 10431\n+??? ??? ???? - 10432\n+??? ??? ???? - 10433\n+??? ??? ???? - 10434\n+??? ??? ???? - 10435\n+??? ??? ???? - 10436\n+??? ??? ???? - 10437\n+??? ?? ???? - 10438\n+??? ??? ???? - 10439\n+Mai's Last Training - 1044\n+??? ??? ???? - 10440\n+??? ??? ???? - 10441\n+??? ??? ???? - 10442\n+??? ??? ???? - 10443\n+??? ??? ???? - 10444\n+??? ???? - 10445\n+Bari's Test - 1045\n+???? ??:???? ?? - 10450\n+???? ??:???? ?? - 10451\n+???? ??:???? ?? - 10452\n+???? ??:???? ?? - 10453\n+???? ??:???? ?? - 10454\n+???? ??:???? ?? - 10455\n+???? ??:???? ?? - 10456\n+???? ??:???? ?? - 10457\n+????? ??? - 10458\n+????? ??? - 10459\n+Biggs's Story on Victoria Island. - 1046\n+Designated Monster Effect - 1047\n+?? ???? - 10470\n+Job Recommendation - 1048\n+Becoming a Warrior - 1049\n+Becoming a Magician - 1050\n+Becoming a Bowman - 1051\n+Becoming a Thief - 1052\n+Becoming a Pirate - 1053\n+Cygnus Knights - 1054\n+??? ??? ?? - 1115\n+??? ??? ?? - 1116\n+??? ??? ?? - 1117\n+??? ??? ?? - 1118\n+???? ??? ?? - 1119\n+??? ??? ?? - 1120\n+??? ??? ?? - 1121\n+?? ??? ?? - 1122\n+???? ??? ?? - 1123\n+???? ??? ?? - 1124\n+Moon Bunny's Rice Cake - 1200\n+First Time Together - 1201\n+The Crack of Dimension - 1202\n+Remnants of Goddess - 1203\n+Lord Pirate - 1204\n+Romeo and Juliet - 1205\n+Forest of Poison Haze - 1206\n+Ariant Hunting Competition - 1300\n+Monster Carnival - 1301\n+The 2nd Monster Carnival - 1302\n+Honorable Mesoranger - 19000\n+Maple Nut - 19001\n+The 2nd Honorable Mesoranger - 19002\n+Top 10 in Artifact Hunt - 19005\n+Mystical Artifact Discoverer - 19006\n+Combo Maniac - 19007\n+Combo Master - 19008\n+Combo King - 19009\n+?? ??? - 19010\n+Fixing Blackbull's House - 2000\n+Greetings from the Young Empress. - 20000\n+Neinheart the Tactician - 20001\n+Kiku the Training Instructor - 20002\n+Kiku's First Training Session - 20003\n+Kiku's Second Training Session - 20004\n+Kiku's Third Training Session - 20005\n+Kiku's Fourth Training Session - 20006\n+Kiku's Last Training Session - 20007\n+The Path of a Knight - 20008\n+Building a New House For \"Blackbull\" - 2001\n+Welcome to Ereve - 20010\n+I'll Show You How to Hunt - 20011\n+How Well Do You Know Your Skills? - 20012\n+A Box with Goodies Inside - 20013\n+The Empress is Waiting - 20014\n+Greetings From the Young Empress - 20015\n+Do You Know the Black Mage? - 20016\n+The First Knight Training - 20017\n+The Second Knight Training - 20018\n+The Last Knight Training - 20019\n+Maya of Henesys - 2002\n+5 Different Paths of Cygnus Knights - 20020\n+Finding Sophia - 2003\n+Making a Sparkling Rock - 2004\n+Arcon's Blood? - 2005\n+Getting Arcon's Blood - 2006\n+Making Sparkling Rock - 2007\n+Delivering the Weird Medicine - 2008\n+Pia and the Blue Mushroom - 2009\n+Jane and the Wild Boar - 2010\n+Time to Choose - 20100\n+Path of a Dawn Warrior - 20101\n+Path of a Blaze Wizard - 20102\n+Path of a Wind Archer - 20103\n+Path of a Night Walker - 20104\n+Path of a Thunder Breaker - 20105\n+Jane's First Challenge - 2011\n+Jane's Second Challenge - 2012\n+Jane's Final Challenge - 2013\n+Alex's Request - 2014\n+Talking to Stan - 2015\n+Mother's Gold Watch - 2016\n+Arwen and the Glass Shoe - 2017\n+Luke the Security Guy - 2018\n+A Clue to the Secret Book - 2019\n+Hungry Ronnie - 2020\n+The End of Knight-in-Training - 20200\n+Knighthood Exam: Dawn Warrior - 20201\n+Knighthood Exam: Blaze Wizard - 20202\n+Knighthood Exam: Wind Archer - 20203\n+Knighthood Exam: Night Walker - 20204\n+Knighthood Exam: Thunder Breaker - 20205\n+Secret to Unagi Special - 2021\n+Cold Milk - 2022\n+Returned Secret Book - 2023\n+Collecting 100 Cursed Dolls - 2024\n+Collecting 200 Cursed Dolls - 2025\n+Collecting 400 Cursed Dolls - 2026\n+Collecting 600 Cursed Dolls - 2027\n+Collecting 1000 Cursed Dolls - 2028\n+Don Hwang's Request - 2029\n+Shumi's Request - 2030\n+The Lost Treasure - 20300\n+The Master of Disguise - 20301\n+The Master of Disguise - 20302\n+The Master of Disguise - 20303\n+The Master of Disguise - 20304\n+The Master of Disguise - 20305\n+Ereve Investigation Permit - 20306\n+Ereve Investigation Permit - 20307\n+Ereve Investigation Permit - 20308\n+Ereve Investigation Permit - 20309\n+Andre's Request - 2031\n+Ereve Investigation Permit - 20310\n+Shinsoo's Teardrop - 20311\n+Shinsoo's Teardrop - 20312\n+Shinsoo's Teardrop - 20313\n+Shinsoo's Teardrop - 20314\n+Shinsoo's Teardrop - 20315\n+Dr. Faymus's Request - 2032\n+Chris's Request - 2033\n+Cutthroat Manny's Request - 2034\n+Luke the Security Man's Wish to Travel - 2035\n+First Material for Building a New House - 2036\n+Second Material for Building a New House - 2037\n+Third Material for Building a New House - 2038\n+Last Material for Building a New House - 2039\n+Maya's First Collection - 2040\n+Chasing the Knight's Target - 20400\n+Hunting the Zombies - 20401\n+Black Scale - 20402\n+Dragon Outcasts - 20403\n+The Stolen Egg - 20404\n+The Cave of the Black Witch - 20405\n+The Knight That Disappeared - 20406\n+The Curse of the Black Witch - 20407\n+Chief Knight of the Empress - 20408\n+Maya's Second Collection - 2041\n+Maya's Third Collection - 2042\n+Maya's Last Collection - 2043\n+Looking for the Red Cape - 2044\n+What Pia has Borrowed - 2045\n+Pia's Present For a Friend - 2046\n+Hero's Gladius - 2047\n+Rewakening the Gladius - 2048\n+\"Mar\" the Fairy and the Water of Life - 2049\n+Sabitrama and the Diet Medicine - 2050\n+??? ?? - 20500\n+????? ??? - 20501\n+????? ? - 20502\n+???? ??? - 20503\n+?? ??? - 20504\n+??? ??? - 20505\n+????? ??????! - 20506\n+??? ?? - 20507\n+????? ?? - 20508\n+???? ??? - 20509\n+Sabitrama's Anti-Aging Medicine - 2051\n+???? ?? - 20510\n+??? ??? - 20511\n+????? ????? ???! - 20512\n+John's Pink Flower Basket - 2052\n+Knight's Dignity - 20520\n+Mounts for Knights - 20521\n+Raising Mimiana - 20522\n+Riding Mimiana - 20523\n+Supplements for Mimiana - 20524\n+Making a Saddle - 20525\n+Re-raising Mimiana - 20526\n+A Knight's Pride - 20527\n+Raising Mimio - 20528\n+John's Present - 2053\n+Kiridu's Calling - 20531\n+The Mount in Danger - 20532\n+The Birth of Shinjo - 20533\n+The Rebirth of Shinjo - 20534\n+John's Last Present - 2054\n+Shumi's Lost Coin - 2055\n+Shumi's Lost Bundle of Money - 2056\n+Shumi's Lost Bundle of Money - 2057\n+Special Taste of Florina Beach - 2058\n+Special Taste of Florina Beach II - 2059\n+Special Taste of Florina Beach III - 2060\n+Training Never Ends  - 20600\n+A New Skill for Dawn Warriors - 20601\n+A New Skill for Blaze Wizards - 20602\n+A New Skill for Wind Archer - 20603\n+A New Skill for Night Walkers - 20604\n+A New Skill for Thunder Breaker - 20605\n+Special Taste of Florina Beach - 2061\n+Training Still Never Ends  - 20610\n+Another New Skill for Dawn Warriors - 20611\n+Another New Skill for Blaze Wizards - 20612\n+Another New Skill for Wind Archers - 20613\n+Another New Skill for Night Walker - 20614\n+Another New Skill for Thunder Breakers - 20615\n+Mrs. Ming Ming's First Worry - 2062\n+Mrs. Ming Ming's Second Worry - 2063\n+Estelle's Request - 2064\n+Searching for Fossils - 2065\n+Delivering a Box of Fossil - 2066\n+Research on Plant Fossils - 2067\n+Research on Animal Fossils - 2068\n+Transporting Drake's Skull - 2069\n+Progress on Fossil Research - 2070\n+Are You Sure You Can Leave? - 20700\n+1st Acclimation Training - 20701\n+2nd Acclimation Training - 20702\n+3rd Acclimation Training - 20703\n+A Mission in Henesys - 20704\n+A Cynical Orange Mushroom - 20705\n+A Black Shadow in the Pig Farm - 20706\n+Revolt of the Pigs - 20707\n+Mission in Henesys Complete - 20708\n+Mission in Kerning City - 20709\n+Stranger's Request - 2071\n+Hidden Inside the Trash Can - 20710\n+Fake Doll - 20711\n+I Shall Pick 'Em All! - 20712\n+A Deal With Mr. Pickall - 20713\n+Mission in Kerning City Complete - 20714\n+Mission in Ellinia - 20715\n+Maybe it's Arwen! - 20716\n+The Plants are Suspicious! - 20717\n+Maybe it's Grendel! - 20718\n+Mission in Ellinia Complete - 20719\n+Stranger's Identity - 2072\n+Before the Mission in Perion Begins - 20720\n+Mission in Perion - 20721\n+Wooden Mask - 20722\n+Stone Mask - 20723\n+Mission in Perion Complete - 20724\n+Mission in Sleepywood - 20725\n+Information From Those Who Remember - 20726\n+Sabitrama's Information - 20727\n+Chrishrama's Information - 20728\n+Mysterious Statue's Information - 20729\n+Camila's Gem - 2073\n+Find the Puppeteer! - 20730\n+Find the Maple History Book - 2074\n+Find the Maple History Book 2 - 2075\n+Estelle's Special Sauce - 2076\n+The Path of a Warrior - 2077\n+The Path of a Bowman - 2078\n+The Path of a Thief - 2079\n+The Path of a Magician - 2080\n+A Lesson on Job Advancement - 2081\n+The Stump Horror Story - 2082\n+Icarus's Hang Glider - 2083\n+Icarus and the Balloon - 2084\n+In search of Wing the Fairy - 2085\n+The Ingredients for the Flying Pill - 2086\n+Delivering the Flying Pill - 2087\n+The Reason Behind the Mushroom Studies - 2088\n+I Need Help on My Homework! - 2089\n+I'm Bored 1 - 2090\n+I'm Bored 2 - 2091\n+I Need to Find My Daughter 1 - 2092\n+I Need to Find My Daughter 2 - 2093\n+Taking Out the Alligators 1 - 2094\n+Taking Out the Alligators 2 - 2095\n+A Spell that Seals Up a Critical Danger I - 2096\n+A Spell that Seals Up a Critical Danger II - 2097\n+Camila's Lost Letter - 2099\n+Two Ways to Get to Korean Folk Town - 2100\n+Find the Missing Kid 1 - 21000\n+Find the Missing Kid 2 - 21001\n+Korean Folk Town : Through the Sky - 2101\n+The Return of the Hero - 21010\n+The Missing Weapon - 21011\n+Abilities Lost - 21012\n+A Gift for the Hero - 21013\n+Lilin's Account - 21014\n+Basic Fitness Training 1 - 21015\n+Basic Fitness Training 2 - 21016\n+Basic Fitness Training 3 - 21017\n+Basic Fitness Test - 21018\n+Korean Folk Town : Through the Ocean - 2102\n+Nella's Dream - 2103\n+Fanzy's Red Furball - 2104\n+DANGER! <1-G. Mushroom> - 2105\n+DANGER! <2-H. Mushroom> - 2106\n+DANGER! <3-Z. Mushroom> - 2107\n+POLLUTED! <1-Evil Eye> - 2108\n+POLLUTED! <2-Curse Eye> - 2109\n+POLLUTED! <3-Jr. Boogie> - 2110\n+The Five Heroes - 21100\n+The Polearm-Wielding Hero - 21101\n+DANGER! <1-G. Mushroom> - 2111\n+DANGER! <2-H. Mushroom> - 2112\n+DANGER! <3-Z. Mushroom> - 2113\n+POLLUTED! <1-Evil Eye> - 2114\n+POLLUTED! <2-Curse Eye> - 2115\n+Planting Trees - 2116\n+Shawn the Excavator's Request - 2117\n+Eliminate Monsters from the Site - 2118\n+Notice from the Excavation Team - 2119\n+The Messenger of the Fairy Forest 1 - 2120\n+In Search of Its Rightful Owner - 21200\n+The Mirror of Desire - 21201\n+In Search of the Ultimate Weapon - 21202\n+The Messenger of the Fairy Forest 2 - 2121\n+Manji and the Secret Group - 2122\n+A Special Assignment - 2123\n+A Supply from the Sand Crew - 2124\n+A Special Assignment! - 2125\n+A Supply from the Sand Crew! - 2126\n+To the Desert... - 2127\n+Beginner Warrior's First Training Session - 2128\n+Beginner Warrior's Second Training Session - 2129\n+Beginner Warrior's Third Training Session - 2130\n+A Weapon Never Leaves Its Owner - 21300\n+Catch that Thief! - 21301\n+Making Red Jade - 21302\n+Friendship with Yeti - 21303\n+Beginner Warrior's Last Training Session - 2131\n+Beginner Magician's First Training Session - 2132\n+Beginner Magician's Second Training Session - 2133\n+Beginner Magician's Third Training Session - 2134\n+Beginner Magician's Last Training Session - 2135\n+Beginner Bowman's First Training Session - 2136\n+Beginner Bowman's Second Training Session - 2137\n+Beginner Bowman's Third Training Session - 2138\n+Beginner Bowman's Last Training Session - 2139\n+Beginner Thief's First Training Session - 2140\n+Weapon Starts a Fight? with His Owner? - 21400\n+Taming the Polearm - 21401\n+Beginner Thief's Second Training Session - 2141\n+Beginner Thief's Third Training Session - 2142\n+Beginner Thief's Last Training Session - 2143\n+Truth of the Rumor - 2144\n+Stump Research - 2145\n+Monstrous Tree Stumpy - 2146\n+???? ?? ??? - 2147\n+Truth of the Rumor-Blackbull - 2148\n+Truth of the Rumor-Manji - 2149\n+Truth of the Rumor-Ayan - 2150\n+Weapon Acknowledges Its Owner - 21500\n+Truth of the Rumor- Dances with Balrog - 2151\n+Truth of the Rumor-Betty - 2152\n+The Old Snail - 2153\n+Hero of the Story - 2154\n+Snail Hunt - 2155\n+A rainbow snail shell that makes wishes come true!? - 2156\n+Sacrifice to King Clang - 2157\n+Helping Riel - 2158\n+Helping Roel - 2159\n+Helping Rael - 2160\n+Pucci's Request - 21600\n+Formula for Your Wolf Pup - 21601\n+Kenta's Wolf Pup Formula - 21602\n+Ryko the Wolf Pup - 21603\n+Wolf Mount - 21604\n+The Missing Wolf - 21605\n+The Missing Saddle - 21606\n+The Adolescent Wolf - 21607\n+Nanuke's Advice - 21608\n+Kenta's Adolescent Wolf Vitamins - 21609\n+A brave Warrior to defeat King Clang appears! - 2161\n+Scadur's Advice - 21610\n+Rebellious Wolf - 21611\n+A Visit from the Wolf Herd - 21612\n+The Wolves' Test - 21613\n+A Wolf's Heart - 21614\n+Gathering Ingredients for the Wolf's Life Water - 21615\n+The Chief Wolf's Rage - 21616\n+Reacquiring the Life Water Ingredients - 21617\n+The Wolf's Evolution - 21618\n+The Half-written Letter - 2162\n+Athena Pierce's Smile - 2163\n+Athena Pierce's Gift - 2164\n+The Prince's Request - 2165\n+Shining Stone - 2166\n+Sea Firefly1 - 2167\n+Sea Firefly2 - 2168\n+The Large Pearl - 2169\n+Information for Dr. Kim - 2170\n+New Beginnings - 21700\n+Train or Die! 1 - 21701\n+Train or Die! 2 - 21702\n+Train or Die! 3 - 21703\n+Baby Steps - 21704\n+To Victoria Island - 21705\n+An Information Dealer's Work - 21706\n+Teo's Information - 21707\n+Your First Informant Assignment - 21708\n+Check Out the Orange Mushroom - 21709\n+Can you please give Baine a helping hand? - 2171\n+A Monster War? - 21710\n+Enter the Cynical Orange Mushrooms! - 21711\n+First Assignment, Completed! - 21712\n+Your Second Informant Assignment - 21713\n+Green Mushrooms - 21714\n+Tree Witness - 21715\n+Second Assignment, Completed! - 21716\n+Rowen's Request 1 - 21717\n+Rowen's Request 2 - 21718\n+The Puppeteer's Invitation - 21719\n+What is it that Bart saw? - 2172\n+The Puppeteer's Warning - 21720\n+Your Third Informant Assignment - 21721\n+Ghost Stumps - 21722\n+Find the Puppet - 21723\n+Third Assignment, Completed! - 21724\n+10 Boogies's Request - 21725\n+Your Fourth Informant Assignment - 21726\n+Zombie Mushrooms - 21727\n+The Puppeteer's Cave - 21728\n+4th Assignment Completed - 21729\n+The Truth Behind the Black Shadow - 2173\n+The Cave's Password - 21730\n+Eliminate the Puppeteer! - 21731\n+The Black Wings' Conspiracy - 21732\n+Gathering Some Strange Information - 21733\n+Traces of the Puppeteer - 21734\n+The Seal Stone of Victoria Island - 21735\n+Orbis - 21736\n+The Giant Nependeaths Appear - 21737\n+Sealed Garden - 21738\n+To the Sealed Garden - 21739\n+Report to Muirhat - 2174\n+The Stolen Seal Stone of Orbis - 21740\n+Investigating Mu Lung - 21741\n+The Black Scroll - 21742\n+The Special Ink - 21743\n+The Shadow Knight's Letter - 21744\n+How to Meet Mu Gong - 21745\n+Mu Gong's Test - 21746\n+Catch the Shadow Knight! - 21747\n+The Stolen Seal Stone of Mu Lung - 21748\n+Back to the Past - 21749\n+Disciples of the Black Magician - 2175\n+She Remembers Me - 21750\n+Seal Stone of Ellin Forest - 21751\n+Find the Key - 21752\n+The Lost Seal Stone of Ellin Forest - 21753\n+Info on Another Seal Stone - 21754\n+Decoding the Letter - 21755\n+A Letter to the Queen - 21756\n+Neinheart the Strategist - 21757\n+Neinheart's Thanks - 21758\n+Cleaning The Nautilus 1 - 2176\n+Suspicious John - 21766\n+Secrets of the Wooden Box - 21767\n+Cleaning The Nautilus 2 - 2177\n+Cleaning The Nautilus 3 - 2178\n+Protect The Nautilus' Emergency Food Supply - 2179\n+Find Fresh Milk - 2180\n+Porchay's Letter - 2181\n+Ingredients to Get for the Banquet - 2182\n+A Banquet for the Whalians - 2183\n+Black Bark's Worry - 2184\n+Dress for Kyrin - 2185\n+Help Me Find My Glasses - 2186\n+A Hole in The Nautilus - 2187\n+Unidentified Strangers - 2190\n+How to become a Brawler - 2191\n+How to Become a Gunslinger - 2192\n+The Beginner Pirate's First Training Session - 2193\n+The Beginner Pirate's Second Training Session - 2194\n+Beginner Pirate's Third Training Session - 2195\n+Beginner Pirate's Fourth Training Session - 2196\n+Tienk, the Monster Book Salesman - 2197\n+Eliminate the Stone Golems - 2198\n+Eliminate the Dark Stone Golems - 2199\n+Eliminate the Mixed Golems - 2200\n+Eliminate the Skeletons - 2201\n+Eliminate the Drakes - 2202\n+Eliminate the Tauromacis - 2203\n+Strange Dish 1 - 2204\n+Strange Dish 2 - 2205\n+Strange Dish 3 - 2206\n+Lazy Little Calico - 2207\n+Bartol's Requests - 2208\n+Bring a Lemon for Shulynch - 2209\n+Take the Gold Pouch to Muirhat - 2210\n+Deliver the Tattered Map to Black Bark - 2211\n+The Path of Pirate - 2212\n+JM's Request - 2213\n+The Run-down Huts in the Swamp - 2214\n+Find the Crumpled Piece of Paper Again - 2215\n+Information from Mr. Pickall - 2216\n+Information from Shumi - 2217\n+Information from Nella - 2218\n+Information from Jake - 2219\n+Gathering Information Completed - 2220\n+Conclusion - 2221\n+The Forest of Evil - 2222\n+The Name He Calls - 2223\n+Rage, Resentment, and Revenge - 2224\n+The Cause and Effect - 2225\n+Arwen's Apology - 2226\n+Defeat Faust - 2227\n+Reef's Gratitude - 2228\n+A Way to Fight Off Sleep - 2229\n+A Mysterious Small Egg - 2230\n+Captain Al, Who Are You? - 2231\n+Find a Junior! - 2232\n+Raise the Rep! - 2233\n+Enjoy the Entitlement! - 2234\n+Manji's Request - 2235\n+How to Shoo Away the Evil - 2236\n+The Owner of the Mysterious Note - 2237\n+Who is the Owner of the Mysterious Note? - 2238\n+Balrog and the Seal - 2239\n+A Letter to the Master - 2240\n+A Request to His Apprentice - 2241\n+Stay Away From Strangers - 2242\n+This is something you can make with Balrog Skin. - 2243\n+Tristan's Successor - 2244\n+To Tristan's Tomb - 2245\n+Horny Mushroom Caps Research - 2246\n+Raging Horny Mushrooms - 2247\n+Understanding the Horny Mushroom Signals - 2248\n+Zombie Mushroom Signal 1 - 2249\n+Zombie Mushroom Signal 2 - 2250\n+Zombie Mushroom Signal 3 - 2251\n+Studying the Mushroom Signals 1 (Repeatable) - 2252\n+Studying the Mushroom Signals 2 (Repeatable) - 2253\n+Karcasa of the Desert - 2254\n+Karcasa's Memory - 2255\n+Karcasa's Memory 2 - 2256\n+Karcasa Relents - 2257\n+Meerkats Listen During the Day - 2258\n+Scorpions Can't Listen at Night - 2259\n+To the Mushroom Castle! - 2260\n+Camel's Training Session 1 (Repeatable) - 2261\n+Camel's Training Session 2 (Repeatable) - 2262\n+Camel's Training Session 3 (Repeatable) - 2263\n+Mr. Lim and the Subway - 2264\n+My dream is to... - 2270\n+Lana's Decision - 2271\n+Convince Robby Fray - 2272\n+The Secret Recipe - 2273\n+Reception Party Preparation, Done! - 2274\n+Tina's Proposition - 2275\n+Makeup Artist, Booked! - 2276\n+Marshall's Refusal - 2277\n+Legendary Scissors - 2278\n+Hair Stylist, Booked! - 2279\n+Costume Preparation - 2280\n+Costume Preparation, Done! - 2281\n+Rose Scent - 2282\n+Freesia Scent - 2283\n+Lavender Scent - 2284\n+Music Preparation - 2285\n+Request for a New Song - 2286\n+Composition Fee - 2287\n+Say \"NO\" to Plagiarism - 2288\n+The New Song - 2289\n+Debut Preparations Completed - 2290\n+Admission to the VIP Zone - 2291\n+Blake's Dream - 2292\n+The Last Song - 2293\n+Endangered Mushking Empire - 2300\n+Endangered Mushking Empire - 2301\n+Endangered Mushking Empire - 2302\n+Endangered Mushking Empire - 2303\n+Endangered Mushking Empire - 2304\n+Endangered Mushking Empire - 2305\n+Endangered Mushking Empire - 2306\n+Endangered Mushking Empire - 2307\n+Endangered Mushking Empire - 2308\n+Endangered Mushking Empire - 2309\n+Endangered Mushking Empire - 2310\n+The Test - 2312\n+The Story Behind the Case - 2313\n+Exploring Mushroom Forest (1) - 2314\n+Exploring Mushroom Forest (2) - 2315\n+Exploring Mushroom Forest (3) - 2316\n+Killer Mushroom Spores (1) - 2317\n+Killer Mushroom Spores (2) - 2318\n+Killer Mushroom Spores (3) - 2319\n+Friendship with Bruce - 2320\n+Over the Castle Walls (1) - 2321\n+Over the Castle Walls (2) - 2322\n+Over the Castle Walls (3) - 2323\n+Over the Castle Walls (4) - 2324\n+James's Whereabouts (1) - 2325\n+James's Whereabouts (2) - 2326\n+James's Whereabouts (3) - 2327\n+Sending Provisions (1) - 2328\n+Sending Provisions (2) - 2329\n+Stop the Wedding - 2330\n+The Seal of the Empire - 2331\n+Where's Violetta? - 2332\n+The Story of Betrayal - 2333\n+The Identity of the Princess - 2334\n+Eliminating the Rest - 2335\n+Truth Revealed - 2336\n+King Pepe's Scroll - 2337\n+Killer Mushroom Spores, Again - 2338\n+The Recovered Royal Seal - 2342\n+Training Center for Beginner Warriors - 2400\n+Training Center for Beginner Magicians - 2401\n+Training Center for Beginner Thieves - 2402\n+Training Center for Beginner Bowmen - 2403\n+Training Center for Beginner Pirates - 2404\n+The Lost Letter of Commendation - 2405\n+The Lost Letter of Commendation - 2406\n+The Lost Letter of Commendation - 2407\n+The Lost Letter of Commendation - 2408\n+The Lost Letter of Commendation - 2409\n+Regaining Confidence - 2410\n+Regaining Confidence - 2411\n+Regaining Confidence - 2412\n+Regaining Confidence - 2413\n+Regaining Confidence - 2414\n+Using Power Strike - 2415\n+Using Magic Claw - 2416\n+Using Arrow Blow - 2417\n+Using Double Stab - 2418\n+Using Flash Fist - 2419\n+Using Lucky Seven - 2420\n+Using Double Shot - 2421\n+Stump's Weakness - 2422\n+Slime's Weakness - 2423\n+Slime's Weakness - 2424\n+Stump's Weakness - 2425\n+Pig's Weakness - 2426\n+Team Training is Fun! (Party) - 2427\n+Team Training is Fun! (Party) - 2428\n+Team Training is Fun! (Party) - 2429\n+Team Training is Fun! (Party) - 2430\n+Team Training is Fun! (Party) - 2431\n+Maplemas Surprise Party! - 28000\n+In Preparation for the Party - 28001\n+A Secret Note - 28002\n+Alcaster's Reply - 28003\n+Save the Snowman! - 28004\n+Amoria : Red Dahlia - Pirate - 28102\n+Amoria : Cupid's Courier - Pirate - 28103\n+Amoria : Cupid's Courier - Pirate - 28104\n+Cleaning Up The Streets  - 28105\n+Cleaning Up The Streets   - 28106\n+Discovering Secrets - 28107\n+Demise of a Madman - 28108\n+MV's Treasure - 28109\n+A Headache for Treasure Hunters - 28110\n+Cool as Ice - 28114\n+Urban Warrior - 28115\n+Urban Warrior - 28116\n+4 Candles - 28117\n+4 Year Anniversary Cake - 28118\n+Preparing for Cody's 4 Year Anniversary Party! - 28120\n+Preparing for Cody's 4 Year Anniversary Party! - 28121\n+Preparing for Cody's 4 Year Anniversary Party! - 28122\n+Cleaning Up The Streets - Continued  - 28124\n+Cleaning Up The Streets - Continued   - 28125\n+In Search of the Miwok Artifact - 28128\n+The Legendary Tribal Ring: Circle of Ancient Thought - 28129\n+The Legendary Tribal Ring: Circle of Ancient Strength - 28130\n+Soft and Cozy Chief's Chair - 28131\n+The Wandering Alchemist Eurek's New Skill - 28136\n+Spirit Week Event - September 29th - 28137\n+Spirit Week Event - October 6th - 28138\n+Spirit Week Event - October 13th - 28139\n+Spirit Week Event - October 20th - 28140\n+Spirit Week Event - Cassandra's Candle  - 28141\n+Spirit Week Event - Cassandra's Candle  - 28142\n+Spirit Week Event - Cassandra's Candle  - 28143\n+Spirit Week Event - Cassandra's Candle  - 28144\n+Spirit Week Event - September 24th - 28145\n+Spirit Week Event - October 1st - 28146\n+Spirit Week Event - October 8th - 28147\n+Spirit Week Event - October 15th - 28148\n+Spirit Week Event - Cassandra's Candle  - 28149\n+Spirit Week Event - Cassandra's Candle  - 28150\n+Spirit Week Event - Cassandra's Candle  - 28151\n+Spirit Week Event - Cassandra's Candle  - 28152\n+Spirit Week Event - October 27th - 28153\n+Spirit Week Event - Cassandra's Candle  - 28154\n+Spirit Week Event - October 22nd - 28155\n+Spirit Week Event - Cassandra's Candle  - 28156\n+Spirit Week Event - September 28th - 28157\n+Spirit Week Event - October 5th - 28158\n+Spirit Week Event - October 12th - 28159\n+Spirit Week Event - October 19th - 28160\n+Spirit Week Event - October 26th - 28161\n+Meeting the Training Instructor - 28162\n+Advanced Training-1 - 28163\n+Advanced Training-2 - 28164\n+Reporting the Training Results - 28165\n+Meeting Ervine - 28166\n+Inspecting the Water Pipe - 28167\n+Sticky Slimes! - 28168\n+Visiting Henesys - 28169\n+What Does Chief Stan Like? - 28170\n+The Reason Why Chief Stan is Livid - 28171\n+Searching for Clues - 28172\n+Heading Over to The Nautilus! - 28173\n+Investigation in Progress - 28174\n+A Special Wine - 28175\n+Solving the Mystery - 28176\n+Catching the Suspect - 28177\n+Who Changed Him? - 28178\n+Dances with Andras! - 28179\n+The First Encounter with Lucci - 28180\n+Rigorous Training-1 - 28181\n+Rigorous Training-2 - 28182\n+Rigorous Training-3 - 28183\n+Rigorous Training-4 - 28184\n+Reporting the Training Results to Grendel the Really Old - 28185\n+The Journey of the Nautilus - 28186\n+Show Kyrin What You've Got! - 28187\n+Finding Chief Stan in Henesys - 28188\n+Ingredients for the Cold Medicine - 28189\n+Delivering the Cold Medicine - 28190\n+The Coughing Dark Lord - 28191\n+Virus Sample Research - 28192\n+Virus is Spreading Via the Water? - 28193\n+Find the Clues! - 28194\n+To Perion! - 28195\n+The Demon Behind It All - 28196\n+Returning to Ellinia - 28197\n+Marbas the Demon! - 28198\n+First Encounter with Ervine - 28199\n+Even More Challenging Training-1 - 28200\n+Even More Challenging Training-2 - 28201\n+Reporting the Training Results to Dark Lord - 28202\n+Meeting Jay - 28203\n+Find the Lost Book - 28204\n+Searching for the Lost Book - 28205\n+Returning the Book to Jay - 28206\n+Meeting Kyrin of The Nautilus - 28207\n+Kyrin's Request - 28208\n+Baine Likes... - 28209\n+Commotion on the Ship, No More! - 28210\n+Next Stop, Ellinia - 28211\n+The Clue to Ellinia's Burglary Case - 28212\n+This Feather, For Some Reason, Seems To Be Related to Perion... - 28213\n+The Secret of the Golden Feather - 28214\n+A Burglar Demon - 28215\n+Returning to Kerning City - 28216\n+The Demon Likes... - 28217\n+Shumi, the Coin Mania - 28218\n+Catch Valefor! - 28219\n+Encounter with Hill, the Antique Collector - 28220\n+Show Me What You're Made Of-1 - 28221\n+Show Me What You're Made Of-2 - 28222\n+Reporting the Training Results to Athena Pierce - 28223\n+Delivering the Antique - 28224\n+Antique Search - 28225\n+Back to Hill - 28226\n+The Cost of Delivery - 28227\n+The Legend Has It That... - 28228\n+The Fairies Like... - 28229\n+Solomon's Bow - 28230\n+Restoring the Memory of the Ancient Bow - 28231\n+Another Storyteller - 28232\n+Putting the Legend to a Test - 28233\n+Revival of the Demon - 28234\n+So the Demons Like Noise? - 28235\n+Catching the Demon - 28236\n+The Legendary Revival - 28237\n+The Final Battle with Amdusias - 28238\n+Finding Muirhat - 28239\n+Rigorous Training!-1 - 28240\n+Rigorous Training!-2 - 28241\n+Reporting the Training Results to Kyrin - 28242\n+The Mystery of the Green Portion - 28243\n+Grendel the Really Tipsy - 28244\n+You Can't Teach an Old Dog New Tricks - 28245\n+The Mystery of the Red Portion - 28246\n+Something's Lacking - 28247\n+Calming the Soul with Music - 28248\n+To Kerning City - 28249\n+The Mystery of the White Portion - 28250\n+The Completed Treasure Map - 28251\n+Searching for the Treasures - 28252\n+Where Are the Treasures? - 28253\n+There Are No Treasures?! - 28254\n+Searching for the Demon - 28255\n+Treasure, and Crocell the Demon - 28256\n+Who Broke the Seal of Andras? - 28257\n+Who Broke the Seal of Valefor? - 28258\n+Who Broke the Seal of Amdusias? - 28259\n+Who Broke the Seal of Crocell? - 28260\n+Who Broke the Seal of Marbas? - 28261\n+Revealed Identity - 28262\n+The Rememberer's Training-1 - 28263\n+The Rememberer's Training-2 - 28264\n+The Rememberer's Training-3 - 28265\n+Secret of Astaroth - 28266\n+[Collect] I Need an Umbrella! - 28267\n+[Hunt] The Pigs Are Ruining the Produce! - 28268\n+[Hunt] The Terrorizing Red Ribbon Pigs - 28269\n+[Hunt] Pigs at the Corner - 28270\n+[Hunt] That Red Isn't For Everyone! - 28271\n+[Hunt] Intimidating Octopuses - 28272\n+[Collect] Eww, It's Slimy! - 28273\n+[Hunt] Why Are Dark Stumps So Dark? - 28274\n+[Hunt] You Were Bitten by a Green Mushroom? - 28275\n+[Hunt] Drowsiness from the Orange Mushrooms? - 28276\n+[Hunt] Camouflaging Slimes - 28277\n+[Hunt] Destructively Strong Pigs - 28278\n+[Collect] Red Ribbons Around the Pig's Neck - 28279\n+[Hunt] Sweep the Snails! - 28280\n+[Collect] Preparations for the Traditional Ceremony - 28281\n+How to Avoid the Stink - 28282\n+For the peace of Victoria Island... - 28283\n+Cassandra's Trick or Treat - 28284\n+Cassandra's Trick or Treat - 28285\n+Cassandra's Trick or Treat - 28286\n+Witch Malady's Secret Mission - 28287\n+Stinky Seasoned Cursed Frog Eggs and Mushrooms - 28288\n+Dreamy Bloody Mushroom Wine - 28289\n+The Highlight of a Witch Party! Slimy Canape - 28290\n+Really Zingy Kabab - 28291\n+Stinky Swamp Wrap - 28292\n+Chew on it if you can! Rough Leather Steak - 28293\n+Witch's Special Stew - 28294\n+Witch's Dark Token - 28295\n+Butler: \"The Trap\" - 28296\n+Butler: \"The Trap\" - 28297\n+Butler: \"The Trap\" - 28298\n+Olivia: \"Help Me\" - 28302\n+Olivia: \"Find My Daddy\" - 28303\n+Olivia: \"Bring My Daddy\" - 28304\n+Joe: \"Clear the Way\" - 28305\n+Father: \"Dirty House\" - 28306\n+Steward: \"I'm a Butler, Not a Maid!\" - 28307\n+Jonas: \"Jonas' Presence\" 1 - 28308\n+Olivia: \"Help Me\" - 28309\n+Olivia: \"Find My Daddy\" - 28310\n+Olivia: \"Bring My Daddy\" - 28311\n+Joe: \"Clear the Way\" - 28312\n+Father: \"Dirty House\" - 28313\n+Steward: \"I'm a Butler, Not a Maid!\" - 28314\n+Jonas: \"Jonas' Presence\" 2 - 28315\n+Olivia: \"Help Me\" - 28316\n+Olivia: \"Find My Daddy\" - 28317\n+Olivia: \"Bring My Daddy\" - 28318\n+Joe: \"Clear the Way\" - 28319\n+Father: \"Dirty House\" - 28320\n+Steward: \"I'm a Butler, Not a Maid!\" - 28321\n+Jonas: \"Jonas' Presence\" 3 - 28322\n+Dirty Treasure Map - 28325\n+Yellow Turkey Egg Hunt - 28326\n+Green Turkey Egg Hunt - 28327\n+Blue Turkey Egg Hunt - 28328\n+The Object of Professor Foxwit's Interest - 28329\n+Festival of Lights - Building the Altar - 28331\n+New Year's Presents from Cassandra - 28333\n+Lilin's Present 1 - 28335\n+Lilin's Present 2 - 28336\n+Cupid's Lost Arrows - 28337\n+Mardi Gras Throws - 28338\n+Mardi Gras Green Masks - 28339\n+Mardi Gras Purple Masks - 28340\n+Mardi Gras Red Masks - 28341\n+Hunter's Luck - Week 6 - 28344\n+Title Challenge - PQ Mania - 29000\n+Title Challenge - Quest Specialist - 29001\n+Title Challenge - Celebrity! - 29002\n+Title Challenge - Diligent Explorer - 29003\n+One Who's Touched the Sky - 29004\n+Beginner Explorer - 29005\n+El Nath Mts. Explorer - 29006\n+Ludus Lake Explorer - 29007\n+Undersea Explorer - 29008\n+Mu Lung Explorer - 29009\n+Nihal Desert Explorer - 29010\n+Minar Forest Explorer - 29011\n+Ossyria Explorer - 29012\n+Maple Explorer - 29013\n+Sleepywood Explorer - 29014\n+Victoria Explorer - 29015\n+Title - Spirit Diviner - 29016\n+Title - Soul Conjurer - 29017\n+Title - Soul Guardian - 29018\n+Title - Saint Exorcist - 29019\n+Title - Dynamic Hair - 29020\n+Title Challenge - Ultimate Warrior - 29300\n+Title Challenge - Ultimate Magician - 29301\n+Title Challenge - Ultimate Archer - 29302\n+Title Challenge - Ultimate Thief - 29303\n+Title Challenge - Ultimate Pirate - 29304\n+Title Challenge - Veteran Hunter - 29400\n+Title Challenge - Maple Idol Star - 29500\n+Title Challenge - Horned Tail Slayer - 29501\n+Title Challenge - Pink Bean Slayer - 29502\n+Title Challenge - Donation King - 29503\n+The Carnivalian of Absolute Victory - 29505\n+The Gifted Carnivalian - 29506\n+Wonderful Pet Owner - 29507\n+Outstanding Citizen - 29508\n+Persevering Challenger - 29509\n+Endless Journey Medal - 29510\n+Monster Expert - 29512\n+Beginner Adventurer - 29900\n+Junior Adventurer - 29901\n+Veteran Adventurer - 29902\n+Master Adventurer - 29903\n+Noblesse - 29904\n+Noblesse - 29905\n+Knight-in-Training - 29906\n+Official Knight - 29907\n+Advanced Knight - 29908\n+Chief Knight - 29909\n+Gallant Warrior - 29910\n+Wiseman - 29911\n+Lord Sniper - 29912\n+Legendary Thief - 29913\n+King Pirate - 29914\n+Mu Lung Dojo Vanquisher - 29915\n+Henesys Donor Medal - 29916\n+Ellinia Donor Medal - 29917\n+Perion Donor Medal - 29918\n+Kerning City Donor Medal - 29919\n+Sleepywood Donor Medal - 29920\n+Nautilus Donor Medal - 29921\n+Veteran Hunter - 29922\n+Legendary Hunter - 29923\n+The Revived Aran - 29924\n+Aran and Memory - 29925\n+Aran in Agony - 29926\n+Aran of Hope - 29927\n+Aran the Hero - 29928\n+2010 Winter King - 29929\n+2010 Winter Queen - 29930\n+Honorary Subway Worker - 29931\n+Protector of Pharaoh - 29932\n+Lith Harbor Donor - 29933\n+Missing Staff Sergeant Charlie - 3000\n+Missing Sergeant Bravo - 3001\n+Missing Corporal Easy - 3002\n+Returning to Master Sergeant Fox - 3003\n+The Descendent of the Author of the Book of Ancient - 3004\n+Hella's Missing - 3005\n+Where's Hella? - 3006\n+One Clue - 3007\n+Looking For the Old Lady - 3008\n+Spiruna's Black Crystal - 3009\n+The Cracked Black Crystal - 3010\n+To Restore the Crystal - 3011\n+A Word from the Assistant - 3012\n+To Acquire the Fairy Dust - 3013\n+Acquiring the Fairy Dust - 3014\n+The Truth Comes Out... - 3015\n+Hella is Found! - 3016\n+The Small Grave That's Hidden - 3017\n+An Old Ring - 3018\n+The Secrets Behind the Ring? - 3019\n+Collecting Wolf Skin - 3020\n+Looking for the Wiseman in Perion - 3021\n+Dances with Balrog and His Recovery - 3022\n+Looking for the Wiseman in Ellinia - 3023\n+Grendel the Really Old and His Recovery - 3024\n+Looking for the Wiseman in Henesys - 3025\n+Athena Pierce and Her Recovery - 3026\n+Looking for the Wiseman in Kerning City - 3027\n+Dark Lord and His Recovery - 3028\n+All the Map Pieces in One Place - 3029\n+Restoring the Map - 3030\n+Acquiring the Memory Powder - 3031\n+The Map is in One Piece - 3032\n+The Secrets Behind the Statue - 3033\n+The Book of Ancient is Back! - 3034\n+Alcaster and the Dark Crystal - 3035\n+Traces of Nick - 3036\n+Nick's Ring - 3037\n+Collecting Huckle's Magic Ingredients - 3038\n+A Request from Staff Sergeant Charlie - 3039\n+A Request from Sergeant Bravo - 3040\n+A Request from Corporal Easy - 3041\n+Delivering a Mysterious Item - 3042\n+Helping Kriel Out - 3043\n+The Nependeath Juice - 3044\n+Ericsson Loves Cats - 3045\n+A Present for Nero - 3046\n+Ericsson's Reward - 3047\n+Elma's Nependeath Juice - 3048\n+Estelle and the Syrup - 3049\n+Alfonse's Smile - 3050\n+Lisa's Letter of Recommendation - 3051\n+Acquiring Materials for the Fur Coat - 3052\n+Moppie the Lone Dawg - 3053\n+Fairy's Horn Flute - 3054\n+Fairy's Horn Flute II - 3055\n+Lisa's Special Medicine - 3056\n+Lisa's Special Medicine II - 3057\n+Lisa's Special Medicine III - 3058\n+A Request from Moppie - 3059\n+Food-Hunting for Moppie - 3060\n+Food-Hunting for Moppie II - 3061\n+Food-Hunting for Moppie III - 3062\n+Nero's Necklace - 3063\n+Protect Nero! - 3064\n+Hughes's Hobby - 3065\n+Hughes's Weird Invention - 3066\n+A Healthy Snack for the Huskies - 3067\n+Hughes's Research Material - 3068\n+The Lost Sap of Nependeath - 3069\n+Shammos's Request - 3070\n+The Secrets Behind the Contract of Darkness - 3071\n+The Bottled-up Letter - 3072\n+Robinson's ID - 3073\n+Sending Relief - 3074\n+Carta the Sea Witch - 3075\n+Carta's Demand - 3076\n+Carta's Fortune-Telling - 3077\n+The Blocked Path of the Ocean - 3078\n+The Lost Nependeath Juice - 3079\n+Kenta's Research 1 - 3080\n+Kenta's Research 2 - 3081\n+Kenta's Research 3 - 3082\n+Kenta's Advice - 3083\n+Nanuke's Ingredients - 3084\n+Muse is Cooking - 3085\n+Spiruna's Prophecy - 3086\n+Lightening Up Orbis - 3087\n+Pixies' Cloud Pieces - 3088\n+The Sprayer Elma Borrowed 1 - 3089\n+The Sprayer Elma Borrowed 2 - 3090\n+The Ocean View : Kriel's Offer - 3091\n+Aqua Road Photo Album - 3092\n+Snow Crystal 1 - 3093\n+Snow Crystal 2 - 3094\n+The Lost Photo Album - 3095\n+Kenta's Advice - 3096\n+Spiruna's concern - 3097\n+The legend of Papa Pixie - 3098\n+The record of Goddess Minerva - 3099\n+Delivering Food to Spiruna - 3100\n+Hughes's New Experiement - 3101\n+Master Sergeant Fox's Secret - 3102\n+Alcaster's Cape - 3103\n+Finding Horn Flute - 3104\n+Huge Creature of the Snowfield - 3105\n+Snowman Legend - 3106\n+Snowman's Rage - 3107\n+Snowman's Rage-Found a clue - 3108\n+Holding Back the Snowman - 3109\n+Restoring the Spirit of the Snow Sculpture - 3110\n+Eliza's Rage - 3111\n+Eliza's Garden - 3112\n+Talk with Eliza - 3113\n+Eliza's Eternal Sleep - 3114\n+A Strange Development - 3115\n+Cleaning up Eos Tower - 3200\n+Cleaning Up the Inner Parts of Eos Tower - 3201\n+Cleaning Up the Outer Parts of Eos Tower - 3202\n+Eos Tower Threatened! - 3203\n+Peace at Eos Tower - 3204\n+The Lost Guard - 3205\n+Nemi's Lunchbox Delivery - 3206\n+Nemi's First Ingredient - 3207\n+Nemi's Second Ingredient - 3208\n+Nemi's Dilemma - 3209\n+Just Another Day at Work - 3210\n+Roly-Poly 1 - 3211\n+Roly-Poly 2 - 3212\n+Roly-Poly 3 - 3213\n+Roly-Poly 4 - 3214\n+Roly-Poly 5 - 3215\n+Roly-Poly 6 - 3216\n+Roly-Poly 7 - 3217\n+Roly-Poly 8 - 3218\n+Roly-Poly 9 - 3219\n+Roly-Poly 10 - 3220\n+The Drumming Bunny - 3221\n+Eliminating the Drumming Bunny - 3222\n+Roly-Poly 6's Tool - 3223\n+Helping Fix Eos Tower - 3224\n+Fixing Eos Tower - 3225\n+The Girl Who Lost Her Memory - 3226\n+The Man in the Black Suit - 3227\n+The Recovered Memory - 3228\n+Toy Soldier's Walnut - 3229\n+Dollhouse - 3230\n+The Broken Clocktower - 3231\n+Grandpa Clock's Crisis - 3232\n+Delivering the #t4031094# - 3233\n+The Clocktower Headache - 3234\n+The Clock Workers' Batteries - 3235\n+Assembling a Toy - 3236\n+Rocky's Parts - 3237\n+Mac the Mechanic's Maintenance Manual - 3238\n+The Missing Mechanical Parts - 3239\n+Scroll of Life - 3240\n+Cleaning Up Helios Tower - 3241\n+The Messenger of the Toy Palace  1 - 3242\n+The Messenger of the Toy Palace  2 - 3243\n+Disgruntled Roly-Poly Worker - 3244\n+Spider's Out at Eos Tower - 3245\n+A Mysterious Letter - 3246\n+Rightful Donation Culture - 3247\n+Operation Strategy 1 : Collect All the Eggs - 3248\n+Operation Strategy 2 : Defeat the Monsters - 3249\n+Operation Strategy 3: A Cute Baby Bird - 3250\n+A Deal with the Broker - 3300\n+Test from the Head of Zenumist Society - 3301\n+Zenumist Cape - 3302\n+Test from the Head of Alcadno Society - 3303\n+Alcadno Cape - 3304\n+Re-acquiring Zenumist Cape - 3305\n+Re-acquiring Alcadno Cape - 3306\n+Helping Out Bedin - 3307\n+Getting in the Way of Alcadno - 3308\n+An Incident, and the Missing Alchemist - 3309\n+Carson's Experiment - 3310\n+Clue - 3311\n+Russellon's Items for Experiment - 3312\n+Destroy the Roid - 3313\n+Life Alchemy, and the Missing Alchemist - 3314\n+Maed's Experiment - 3315\n+Han the Broker's Info - 3316\n+Dr. De Lang's Friend - 3317\n+Parwen the Ghost - 3318\n+Parwen's Lab - 3319\n+What Parwen Knows - 3320\n+Dr. De Lang, the Missing Alchemist - 3321\n+Phyllia's Pendant - 3322\n+Phyllia's Concern - 3323\n+Ericsson's Ingredients - 3324\n+A Sip of the Moon - 3325\n+Keeny's Secret - 3326\n+Ericsson's Ingredients for Medicine 2 - 3327\n+A Sip of the Sun - 3328\n+Keeny's Research on Roid - 3329\n+Keeny's Research on Neo Huroid! - 3330\n+Keeny's Research on D.Roid!! - 3331\n+Keeny's Pal Humanoid A - 3332\n+A Present for Keeny - 3333\n+Humanoid A - 3334\n+A Rose from the Snowfield - 3335\n+Acquiring the Seed for the Snowfield Rose - 3336\n+The Importance of Life Alchemy - 3337\n+The Problems with Life Alchemy - 3338\n+Dr. De Lang's Underground Study - 3339\n+The Key to the Secret Book - 3340\n+Dr. De Lang's Secret Notes - 3341\n+The Truth About Dr. De Lang - 3342\n+The Hidden Words - 3343\n+The Secrets of Magatia - 3344\n+The Black Magician's Magic Pentagram - 3345\n+The Brutal Truth - 3346\n+For Zenumist - 3347\n+For Alcadno - 3348\n+For Phyllia - 3349\n+Re-acquiring Dr. De Lang's Notes - 3350\n+Re-acquiring Dr. De Lang's Notes  - 3351\n+Re-acquiring Dr. De Lang's Notes   - 3352\n+What De Lang Wants - 3353\n+De Lang's Potion - 3354\n+The Memories of Humanoid A - 3355\n+Who is De Lang? - 3356\n+De Lang and Humanoid A - 3357\n+Parwen's Pass - 3358\n+Searching for the Master Key - 3359\n+Verifying the Password - 3360\n+Zenumist and the Ostracized Research - 3361\n+Alcadno and the Ostracized Research - 3362\n+Studying Frankenroid 1 - 3363\n+Studying Frankenroid 2 - 3364\n+Yulete's Request - 3365\n+Making the Reagent - 3366\n+Organizing the Lab Report - 3367\n+Eliminating Obstacles - 3368\n+Romeo's Present - 3369\n+Romeo's Flowers - 3370\n+Juliet's Feelings - 3371\n+Sirin's Tailoring Methods - 3372\n+Juliet's Response - 3373\n+Writing Romeo's Letter - 3374\n+Romeo's Love Letter - 3375\n+Juliet is Impressed - 3376\n+Han the Broker's Recipe - 3377\n+Juliet's Lunchbox - 3378\n+Romeo Proposes - 3379\n+Allegro, the Master of the Rings - 3380\n+The Unidentified Group - 3381\n+Yulete's Reward - 3382\n+Moren's Upset - 3383\n+Gordon's Magic Iron - 3384\n+Gordon's Warm Heart - 3385\n+Chief Stan's Letter - 3400\n+Dr. Kim's Comments : Blueprint for New Robot - 3401\n+Dr. Kim's Comments : A Meeting with Chury - 3402\n+Dr. Kim's Comments : A Meeting with Hoony - 3403\n+Dr. Kim's Comments : A Meeting with Gunny - 3404\n+An Important Robotic Part - 3405\n+Delivering the Robotic Parts - 3406\n+Retrieving the Robotic Parts - 3407\n+Eliminating Aliens - 3408\n+Where is Dogon's HQ? - 3409\n+Hoony's Toothache - 3410\n+Chief Gray's Sign - 3411\n+Eliminating Grays - 3412\n+Eliminating Chief Gray - 3413\n+The History of Zeta Leticulan - 3414\n+The Alarm Clock - 3415\n+Assembling the Alarm Clock - 3416\n+A Sleeping Monster - 3417\n+The Completion of the Alarm Clock - 3418\n+Trading with Alien Gray - 3419\n+The Effort to Make-up - 3420\n+Collecting Meteorite Samples - 3421\n+Fuel for MT-09 - 3422\n+The New Control Program - 3423\n+Porter the Undependable - 3424\n+Porter's Mistake - 3425\n+The Brilliant Assistant - 3426\n+Porter's Secret Letter - 3427\n+Where is the Dropship? - 3428\n+The Pilot's Whereabouts... - 3429\n+Collecting 100 Mateon Tentacles - 3430\n+Collecting 200 Mateon Tentacles - 3431\n+Collecting 300 Mateon Tentacles - 3432\n+Collecting 400 Mateon Tentacles - 3433\n+Collecting 500 Mateon Tentacles - 3434\n+Eliminating Mateon - 3435\n+Eliminating Plateon - 3436\n+Eliminating Plateon and Mecateon - 3437\n+The Ore of Dark Crystal - 3438\n+Where's the Power of Origin? - 3439\n+Terminating the Dark Force. - 3440\n+Help Kevin the Soldier's Vacation Plans - 3441\n+A Chat with Nara the Tour Guide - 3442\n+Recovering VIP Ticket to Florina Beach - 3443\n+The Binding - 3444\n+Free Spirit - 3445\n+The Soul Collector - 3446\n+Destroying the Power of Evil - 3447\n+Mason the Collector - 3448\n+Mason the Collector ? - 3449\n+The Lost Piece of the VIP Ticket - 3450\n+The Lost Piece of the VIP Ticket - 3451\n+Blocktopus is an Alien? - 3452\n+Zeno, the Formidable Enemy - 3453\n+Wave Translator - 3454\n+The Endangered Lives of Grays - 3455\n+The Endangered Lives of Grays - 3456\n+The Battle Against Zeno - 3457\n+Revolutionary Defensive Wall Construction Plan - 3458\n+Path to the Past - 3500\n+The One Who Walks Down Memory Lane1 - 3501\n+The One Who Walks Down Memory Lane2 - 3502\n+The One Who Walks Down Memory Lane3 - 3503\n+The One Who Walks Down Memory Lane4 - 3504\n+The One Who Walks Down Memory Lane5 - 3505\n+Lost Memory - 3506\n+Memory Keeper - 3507\n+The One Who Walks Down the Road of Regrets1 - 3508\n+The One Who Walks Down the Road of Regrets2 - 3509\n+The One Who Walks Down the Road of Regrets3 - 3510\n+The One Who Walks Down the Road of Regrets4 - 3511\n+The One Who Walks Down the Road of Regrets5 - 3512\n+Frozen Emotions - 3513\n+The Sorcerer Who Sells Emotions - 3514\n+The One Who Walks Through the Road to Oblivion1 - 3515\n+The One Who Walks Through the Road to Oblivion2 - 3516\n+The One Who Walks Through the Road to Oblivion3 - 3517\n+The One Who Walks Through the Road to Oblivion4 - 3518\n+The One Who Walks Through the Road to Oblivion5 - 3519\n+The Goddess' Blessing - 3520\n+Force Field - 3521\n+Beyond the Ruins - 3522\n+In Search for the Lost Memory - 3523\n+In Search for the Lost Memory - 3524\n+In Search for the Lost Memory - 3525\n+In Search for the Lost Memory - 3526\n+In Search for the Lost Memory - 3527\n+Breaking the Force Field - 3528\n+In Search for the Lost Memory - 3529\n+The One Who Walks Through the Road to Oblivion1 - 3530\n+The One Who Walks Through the Road to Oblivion2 - 3531\n+The One Who Walks Through the Road to Oblivion3 - 3532\n+The One Who Walks Through the Road to Oblivion4 - 3533\n+There's no reason to believe that yet, but we should check just in case.  Go visit #b#p2140003##k and ask what happened to the Goddess' promise.  He is the Record Keeper of everything, so he is the only one who would be able to tell you. - 3534\n+The Goddess' Blessing - 3535\n+Force Field - 3536\n+Breaking the Force Field - 3537\n+Beyond the Ruins - 3538\n+Searching for Lost Memories - 3539\n+Tae Gong's Love For His Wife - 3600\n+The Brothers' Stack of Rice 1 - 3601\n+The Brothers' Stack of Rice 2 - 3602\n+The Brothers' Stack of Rice 3 - 3603\n+The Brothers' Stack of Rice 4 - 3604\n+Brotherly Love - 3605\n+The Lost Seed - 3606\n+Opening Nolbu's Gourd - 3607\n+Opening Hongbu's Gourd - 3608\n+The Seed That Swallow Lost - 3609\n+Preparing to Eliminate Goblins - 3610\n+Eliminate Goblins - 3611\n+Chil Sung's Roasted Pork - 3612\n+Chil Nam's Buckwheat Paste - 3613\n+Kong Ji's Rice Wine - 3614\n+Retrieving the Storybook : Hongbu and Nolbu - 3615\n+Retrieving the Storybook : Kong Ji and Pat Ji - 3616\n+Retrieving the Storybook : Brotherly Love - 3617\n+Retrieving the Storybook : The Goblin Tale - 3618\n+Pot with a Hole - 3619\n+Extracting Artemesia - 3620\n+The Wooden Hoe That Snapped - 3621\n+Tiger-Hunting - 3622\n+Grandma Yeon's Pot - 3623\n+The Storybook on Brotherly Love - 3624\n+The Storybook on Kong Ji and Pat Ji - 3625\n+The Storybook on Hongbu and Nolbu (Hongbu) - 3626\n+The Storybook on Hongbu and Nolbu (Nolbu) - 3627\n+The Storybook on the Goblin Story - 3628\n+The Kids That Became the Sun and the Moon - 3629\n+Retrieving the Storybook : The Kids That Became the Sun and the Moon - 3630\n+The Storybook on The Kids That Became the Sun and the Moon storybook - 3631\n+Mr. Shim's Request - 3632\n+Retrieving the Storybook : Shim Chung - 3633\n+The Storybook on Shim Chung - 3634\n+The Fox Hunt - 3635\n+The Story of Axes - 3636\n+Judging the Axe - 3637\n+Retrieving the Storybook : The Story of Axes - 3639\n+The Storybook on the Story of Axes - 3640\n+Young Man Possessed by a Fox - 3641\n+Chil Sung's Request - 3642\n+Fox's Threat - 3643\n+What the Blue King Goblin Wants - 3644\n+What the Yellow King Goblin Wants - 3645\n+What the Green King Goblin Wants - 3646\n+Retrieve a Soul - 3647\n+Secret Love Affair with Seal Meat - 3648\n+Ito's Request - 3700\n+Kumo's Request - 3701\n+Yaku's Request - 3702\n+Pam's Request - 3703\n+Recipe for the Medicine - 3704\n+Hero's Mark - 3705\n+Dragon Squad's Mission - 3706\n+ The Last Hour of Horntail - 3707\n+Red Tree - 3708\n+Getting Advice from Grendel the Really Old  1 - 3709\n+Getting Advice from Grendel the Really Old 2 - 3710\n+Wyvern's Sudden Attack - 3711\n+Recovering the Black Spirit - 3712\n+A New Force Emerging - 3713\n+The Remnants of Horned Tail... - 3714\n+The Suspicious Wanderer - 3715\n+The Wanderer's Whereabouts 1 - 3716\n+The Wanderer's Whereabouts 2 - 3717\n+Andy the Time Traveler - 3718\n+Nex the Time Guard - 3719\n+The First Clue - 3720\n+Dangerous Slimes - 3721\n+The Crying Girl's Sketchbook - 3722\n+The Boy and the Girl - 3723\n+Nex the Time Guard - 3724\n+The Hidden Truth about the Past - 3725\n+Policeman in Danger - 3726\n+The Shelter Key - 3727\n+Temporary Relief - 3728\n+Nex the Time Guard - 3730\n+Identity of the Missile - 3731\n+Rambunctious Robots - 3732\n+Survivor Search - 3733\n+The Dangerous Android - 3734\n+The Wreckage of the Missile - 3735\n+Nex the Time Guard - 3736\n+Central Robot Aufheben - 3737\n+Disturbing the Army of Robots - 3738\n+Isabella's Search - 3739\n+What Was That I Saw? - 3740\n+Nex the Time Guard - 3742\n+The New and Improved, Oberon - 3743\n+Defeat the Mavericks - 3744\n+Nex the Time Guard - 3748\n+Nibelung's Song - 3749\n+No Gong's Teaching 1 - 3800\n+No Gong's Teaching2 - 3801\n+No Gong's Teaching3 - 3802\n+The Lost Document - 3803\n+Eliminating the Spirited Cats - 3804\n+Eliminating the Spirited Monkeys - 3805\n+Collecting Peach Seeds - 3806\n+Intruder - The Herb Farm 1 - 3807\n+Intruder - The Herb Farm 2 - 3808\n+The Legendary Being's Scroll 1 - 3809\n+The Legendary Being's Scroll 2 - 3810\n+The Legendary Being's Scroll 3 - 3811\n+Eliminating the Pirates - 3812\n+The Outlaw in the Sea - 3813\n+Pirate's Map - 3814\n+Finding the Ingredients for Tae Sang - 3815\n+Making the Body & Physics Medicine 1 - 3816\n+Making Body & Physics Medicine2 - 3817\n+Making Mind & Heart Medicine1 - 3818\n+Making Mind & Heart Medicine2 - 3819\n+Making Mastery Medicine - 3820\n+Tae Soo Protecting the Peach Tree - 3821\n+Do Gong's Swallow - 3822\n+Swallow's Memory - 3823\n+Tell Do Gong I Said Hi - 3824\n+Swallow's Medicine - 3825\n+Swallow Isn't Alone - 3826\n+Tae Sang's Request - 3827\n+An Evidence of Slaying the Captain - 3828\n+Captain Lord Pirate - 3829\n+Mr. Do's Book on Herbal Medicine - 3830\n+No Gong's Test - 3831\n+Do Gong's Test - 3832\n+Gathering Up the Lacking Ingredients - 3833\n+Eliminating the Escaped Pot - 3834\n+Tae Soo's Account - 3835\n+No Gong's Student - 3836\n+Do Gong's Spell - 3837\n+Defeat Tae Roon - 3838\n+Tae Soo's Reward - 3839\n+Weakening King Sage Cat - 3840\n+Master Goblin's Call - 3841\n+Do Gong's in Trouble - 3842\n+Master Goblin's Questions - 3843\n+Eliminating King Sage Cat - 3844\n+The Rumor in the Sea of Fog - 3845\n+Learning the Culture of Ariant - 3900\n+Tigun the Guard at the Palace - 3901\n+Queen's Make-up Kit - 3902\n+Queen's Tea 1 - 3903\n+Queen's Tea 2 - 3904\n+Queen's Tea 3 - 3905\n+Jiyur's Sister - 3906\n+A Letter From the Sister - 3907\n+A Present for His Sister - 3908\n+Dancer's Ringing - 3909\n+Sword Dance - 3910\n+Making the Fancy Sword - 3911\n+Deliver the Fancy Sword - 3912\n+Schegerazade's Fear - 3913\n+Borrowing the Book from Wiz - 3914\n+Schegerazade's Storybook - 3915\n+Schegerazade the Storyteller - 3916\n+The Little Prince that Loves Roses - 3917\n+The Little Prince that Loves the Stars - 3918\n+Recovering the Book The Little Prince 1 - 3919\n+Recovering the Book The Little Prince 2 - 3920\n+A Request from a Member of the Sand Bandits?! 1 - 3921\n+A Request from a Member of the Sand Bandits?! 2 - 3922\n+A Request from a Member of the Sand Bandits?! 3 - 3923\n+Sirin Speaks - 3924\n+True or False - 3925\n+Screwing the Red Scorpions - 3926\n+The Existence of the Secret Organization - 3927\n+The Man with a Bow - 3928\n+Sejan's Test - 3929\n+Sejan's Sand Bandits - 3930\n+The Man with the Iron Hammer - 3931\n+Ardin's Test - 3932\n+Ardin's Sand Bandits - 3933\n+The Lady with the Dagger - 3934\n+Eleska's Test - 3935\n+Eleska's Sand Bandits - 3936\n+The True Identity of Sand Bandits - 3937\n+First Mission - 3938\n+Tigun's Hair - 3939\n+Mission Complete! - 3940\n+Stealing Queen's Order of Silk - 3941\n+Byron's Recommendation Letter - 3942\n+Byron's Recommendation Letter! - 3943\n+Byron's Recommendation Letter!! - 3944\n+Byron's Recommendation Letter!!! - 3945\n+A Proper Reward for a Good Deed - 3946\n+Byron's Recommendation! - 3947\n+Sejan's Good Habit - 3948\n+Jiyur's Palace Entry Pass - 3949\n+Dealing with Tigun - 3950\n+The Tree Cutter's Test - 3951\n+The Bounty Hunt - 3952\n+Convince Muhamad - 3953\n+Defeat Deo - 3954\n+In Search of the Long Lost Pyramid - 3955\n+??? ???? 1 - 4000\n+??? ???? 2 - 4001\n+???? ??? - 4002\n+??? ??? ?? - 4003\n+? ?? ?? - 4004\n+??? ??? ???? - 4005\n+??? ???? - 4006\n+??? ?? - 4007\n+???? ?? - 4008\n+??? ? - 4009\n+??? ?? - 4010\n+???? ???? - 4011\n+???? ??? 1 - 4012\n+???? ??? 2 - 4013\n+??? ?? - 4014\n+???? ?? - 4100\n+?? ???? ?? - 4101\n+??? ?? - 4102\n+???? - 4103\n+???? ??? ?? - 4104\n+?? ???? ??? ?? - 4105\n+???? ???? ??? - 4106\n+??? ?? ??? ???? 1 - 4107\n+??? ?? ??? ???? 2 - 4108\n+???? ?? - 4109\n+??? ?? - 4200\n+??? ?? - 4201\n+??? ?? ??? ???? - 4202\n+??? ??? ?? - 4203\n+??? ?? ??? ??? - 4204\n+??? ???? ???? - 4205\n+??? ?? - 4206\n+??? ???? ???? - 4207\n+?? ?? ?? ??? I - 4208\n+?? ?? ?? ??? I I - 4209\n+?? ????? ?? ??? - 4210\n+????? ??? ????1 - 4211\n+????? ??? ????2 - 4212\n+????? ??? ????3 - 4213\n+????? ??? ????4 - 4214\n+????? ??? ????5 - 4215\n+????? ??? ???? - 4216\n+???? ? ?? ?? - 4217\n+???? ? ?? ?? - 4218\n+Kino Konoko's Concern - 4300\n+Kino Konoko vs Fire Raccoon - 4301\n+Hanako's Foxtail Muffler 1 - 4302\n+Hanako's Foxtail Muffler 2 - 4303\n+Hanako's Foxtail Coat - 4304\n+Eliminating Dark Cloud Fox - 4305\n+The Lantern at Mushroom Shrine - 4306\n+Eliminating Ghosts - 4307\n+Water Goblin's Cucumber - 4308\n+Eliminating Blue Mushmom - 4309\n+Rooney's Breaking News - 4437\n+News Special Report - 4477\n+Disappeared Santa Encyclopedia   - 4478\n+Santa Grandmother Finding - 4479\n+Common Sense Of Santa  - 4480\n+Socks Creation Recipes - 4481\n+Socks Actual Creation Action - 4482\n+Socks Hanging - 4483\n+Cliff's Request - 4484\n+Torr's Whereabouts - 4485\n+Santa Cat's request - 4486\n+Delivery of Rina cleaning device - 4487\n+Warm Milk Delivery - 4488\n+Delivery the word Thank  - 4489\n+Bicho's snowman - 4490\n+Clear the Rubbish - 4503\n+Stop'em! - 4504\n+Stop the Speeder! - 4505\n+Technical Assignment - 4506\n+Angie's Beloved Costume 1 - 4507\n+Angie's Beloved Costume 2 - 4508\n+Angie's Beloved Costume 3 - 4509\n+The secret of the past - 4510\n+Making the path to the sea - 4511\n+The great secret reveals - 4512\n+Fight for the future - 4513\n+The Lost White Essence - 4522\n+Return of Capt. Latanica - 4523\n+A Bright and Sunny Day - 4541\n+Too Hot! - 4542\n+I am Bored! - 4543\n+All taken away! - 4544\n+Poor Blondie - 4545\n+Running out of Wigs! - 4546\n+Tires are missing! - 4547\n+Oly Oly is back! - 4548\n+Hunger calls - 4549\n+I need Vitamin C - 4550\n+My Lovely Scarf - 4551\n+My Scarfs are Stolen! - 4552\n+Gift for Dear Daddy - 4553\n+Daddy's Birthday Party - 4554\n+Unexpected Guest - 4555\n+Grand Finale - 4556\n+Lam wants to see the world - 4557\n+Off to the City - 4558\n+Gift for Brother - 4559\n+Merry-go-round in Kampung - 4560\n+Off to the Fantasy Theme Park - 4576\n+Pet Instructor Test - 4646\n+The Secret Method - 4647\n+Robo Upgrade! - 4659\n+Educating Smart Pets (Pet Summon) - 4660\n+Educating Smart Pets (Speech by Itself) - 4661\n+Naomi's Invitation 1 - 4675\n+Naomi's Invitation 2 - 4676\n+Welcome to New Leaf City Quiz 1 - 4900\n+Welcome to New Leaf City Quiz 2 - 4901\n+Welcome to New Leaf City Quiz 3 - 4902\n+Welcome to New Leaf City Quiz 4 - 4903\n+Welcome to New Leaf City Quiz 5 - 4904\n+Welcome to New Leaf City Quiz 6 - 4905\n+Welcome to New Leaf City Quiz 7 - 4906\n+Welcome to New Leaf City Quiz 8 - 4907\n+Welcome to New Leaf City Quiz 9 - 4908\n+Welcome to New Leaf City Quiz 10 - 4909\n+Welcome to New Leaf City Quiz 11 - 4910\n+Welcome to New Leaf City Quiz 12 - 4911\n+Urban Jungle  - 4912\n+Subani's Legacy - Discovery - 4913\n+Subani's Legacy - Transgression - 4914\n+Subani's Legacy - Deliverance - 4915\n+Lost! - 4916\n+ReVersal - 4917\n+Featherweights - 4918\n+Cleaning Up The Streets  - 4919\n+Urban Warrior - 4920\n+Urban Jungle - Continued - 4921\n+Cleaning Up The Streets - Continued - 4922\n+Welcome to New Leaf City Quiz - END - 4923\n+Brand Materia - 4924\n+Brand Materia Continued - 4925\n+Interstellar Relics - 4926\n+Ancient Artifacts - 4927\n+Jay's Curiosity - 4928\n+Gwin's Thanks - 4929\n+The Rememberer's Passion Part 1 - 4930\n+The Rememberer's Passion Part 2 - 4931\n+Grendel The Really Old's Glorious Days - 4932\n+Cody's Confession - 4933\n+Manji's Approval - 4934\n+Blackbull's Mistake - 4935\n+Bruce's Research - 4936\n+Dances with Balrog's Barbarism Part 1 - 4937\n+Dances with Balrog's Barbarism Part 2 - 4938\n+Winston's Scheme Part 1 - 4939\n+Winston's Scheme Part 2 - 4940\n+A Word to the Wise - 4941\n+The Past in the Present - 4942\n+A Cold Hearth - 4943\n+Eat This! - 4944\n+Special Delivery - 4945\n+Family Jewels - 4946\n+A Lost Girl - 4947\n+A Father's Love - 4948\n+The M-Files - 4949\n+File Under Incomplete - 4950\n+The File Thickens Part 1 - 4951\n+The Infernal Toy Machine - 4952\n+In Her Likeness - 4953\n+Reparations - 4954\n+Psycho Jack - 4955\n+Sophilia Doll - 4956\n+Nightmare - 4957\n+Halloween : Entering the house - 4958\n+The File Thickens Part 2 - 4959\n+Eat This! - 4960\n+Smores No More - 4962\n+Dinner Fixins' - 4963\n+Game On! <CVS> - 4964\n+Game On! <Target> - 4965\n+Game On! <Duane Reade> - 4966\n+Game On! <7-Eleven> - 4967\n+Game On! <Rite Aid> - 4968\n+Game On! <Best Buy> - 4969\n+Game On! <CVS> 2 - 4970\n+Game On! <CVS> 3 - 4971\n+Game On! <CVS> 4 - 4972\n+Game On! <CVS> 5 - 4973\n+Game On! <Target> 2 - 4974\n+Game On! <Target> 3 - 4975\n+Game On! <Target> 4 - 4976\n+Game On! <Target> 5 - 4977\n+Game On! <7-Eleven> 2 - 4978\n+Game On! <7-Eleven> 3 - 4979\n+Game On! <7-Eleven> 4 - 4980\n+Game On! <7-Eleven> 5 - 4981\n+Game On! <Rite Aid> 2 - 4982\n+Game On! <Rite Aid> 3 - 4983\n+Game On! <Rite Aid> 4 - 4984\n+Game On! <Rite Aid> 5 - 4985\n+Game On! <Best Buy> 2 - 4986\n+Game On! <Best Buy> 3 - 4987\n+Game On! <Best Buy> 4 - 4988\n+Game On! <Best Buy> 5 - 4989\n+Game On! <Duane Reade> 2 - 4990\n+Game On! <Duane Reade> 3 - 4991\n+Game On! <Duane Reade> 4 - 4992\n+Game On! <Duane Reade> 5 - 4993\n+Little Suzy's X-Mas Dilemma - 4994\n+The Spirit of Maplemas - 4995\n+A Versal Tradition - 4996\n+A Very Merry Maplemas - 4997\n+Happy Versalmas to You - 4998\n+Elpam's Gift - 4999\n+Giant Swowman's Purple box - 5009\n+Giant Snowman's Blue Box - 5010\n+Giant Snowman's Red Box - 5011\n+Giant Snowman's White Box - 5012\n+Easter : Mad Bunny's Easter(Red) - 5069\n+The Wandering Alchemist Eurek's New Skill - 6000\n+Monster Riding - 6002\n+Pheromone Perfume - 6003\n+Lost Saddle - 6004\n+Lost Perfume - 6005\n+Silver Mane - 6006\n+Dragon's Perfume Bottle - 6007\n+Dragon Rider - 6008\n+Dragon Rider - 6009\n+Dragon Rider - 6010\n+Dragon Rider - 6011\n+Kyrin's Teaching - 6012\n+Dragon Rider - 6013\n+Ramain's Amazing Skills - 6014\n+Keol's Order #1 - 6015\n+Keol's Order #2 - 6016\n+Keol's Order #3 - 6017\n+Keol's Order #4 - 6018\n+Keol's Order #5 - 6019\n+Keol's Order #6 - 6020\n+Keol's Order #7 - 6021\n+Keol's Order #8 - 6022\n+Keol's Order #9 - 6023\n+Keol's Order #10 - 6024\n+Keol's Order #11 - 6025\n+Keol's Order #12 - 6026\n+Keol's Special Order - 6027\n+Abdullah VIII's Statement - 6028\n+Meren's New Discovery - 6029\n+Carson's Fundamentals of Alchemy - 6030\n+Hughes the Fuse's Basic Theory of Science - 6031\n+Meren's Class on the Actual Practice - 6032\n+Meren's Second Round of Teaching - 6033\n+What Meren Dropped - 6034\n+The Owner of the Note - 6035\n+A Surprise Outcome - 6036\n+The Book of Invisible Ink - 6100\n+The Ancient Book - 6101\n+The Bowman's Ultimate Skill - 6102\n+Shammos's Advice - 6103\n+New Guess - 6104\n+The One Who Remembers... - 6105\n+ Insignificant Being - 6106\n+Spiritual Stone of Darkness - 6107\n+Junior Balrog in a Different World - 6108\n+Manji's Test - 6110\n+The Dragon's Guardian - 6120\n+Bahamut's Power 1 - 6121\n+Bahamut's Power 2 - 6122\n+Bahamut's Power 3 - 6123\n+Bahamut's Completion - 6124\n+Black Book - 6130\n+Method of Contradiction - 6131\n+Cold Flame - 6132\n+Caron's Note - 6133\n+Resurrection - 6134\n+Return of the Dark Lord - 6140\n+ The Night Warrior - 6141\n+The Great Warrior, Sayram - 6150\n+Griffey's Necklace - 6151\n+Singing Shield - 6152\n+Sayram's Skill - 6153\n+Robeira's Book - 6160\n+A Magician's Story - 6161\n+ Another Crazy Genius?! - 6162\n+Shammos! - 6163\n+Grendel the Really Old's Apology - 6164\n+Robeira's Intentions - 6165\n+Robeira and Shammos - 6166\n+Meteo Shower - 6167\n+Blizzard - 6168\n+Genesis - 6169\n+A Shield's True Power - 6180\n+The Plot to Kidnap Tylus! - 6190\n+Spiruna's advice - 6191\n+Protecting Tylus - 6192\n+A Peculiar Request - 6200\n+Shawn's  fear - 6201\n+Arec and Shadower - 6202\n+Black Clouds... - 6210\n+ Building a Ventilation Fan - 6211\n+Porter's Durable Battery - 6212\n+The End of Attributes...? - 6220\n+ Inverse Attributes - 6221\n+Theory on Inverse Attributes of Summoned Beings (Familiars) - 6222\n+ The Summoned Being's Structure - 6223\n+Huckle's Spirit Pouch - 6224\n+ Switching Attributes - 6225\n+Key to a Different World - 6226\n+Maple marble - 6230\n+Three winds - 6231\n+Flame Bird - 6240\n+Phoenix - 6241\n+Frostprey - 6242\n+Frostprey - 6243\n+The Bowman's Inner Eye - 6250\n+The Bowman's Inner Eye - 6251\n+The Book of Ice - 6260\n+A Mysterious Sentence - 6261\n+The Snow Mountain's Ice Stone - 6262\n+ The Ultimate Icepick - 6263\n+A Book of Fire - 6270\n+ A Mysterious Sentence - 6271\n+ Lava of the Abandoned Mine - 6272\n+The Lava Mug - 6273\n+ The Holy Knight's Sword - 6280\n+Whereabouts of the Grail - 6281\n+The Forgotten Healing Power - 6290\n+Magic of the Spirit - 6291\n+Black Spirit's Healing Power1 - 6292\n+Black Spirit's Healing Power2 - 6293\n+The Forgotten Blessing Power - 6294\n+ Contract of the Spirit - 6295\n+The Black Spirit's Blessing Power 1 - 6296\n+The Black Spirit's Blessing Power 2 - 6297\n+Carta's sin - 6300\n+ A Piece of Will - 6301\n+Carta's Worn Bracelet - 6302\n+Making a Mithril Bracelet - 6303\n+Regained Will Power - 6304\n+End of Attributes - 6310\n+Inverse Attributes - 6311\n+Theory on Inverse Attributes of Summoned Beings (Familiars) - 6312\n+ The Summoned Being's Structure - 6313\n+Huckle's Spirit Pouch - 6314\n+Switching Attributes - 6315\n+Key to a Different World - 6316\n+ Maple Warrior Skill Book - 6320\n+Maple Warrior Skill Book - 6321\n+Maple Warrior Skill Book - 6322\n+ Maple Warrior Skill Book - 6323\n+Maple Warrior Skill Book - 6324\n+Maple Warrior Skill Book - 6325\n+How to Improve Your Strength - 6330\n+Presence of Mind - 6340\n+Body of Steel - 6350\n+The Study of Space-Time Transformation - 6360\n+Papulatus' Key - 6361\n+Papulatus in the Past - 6362\n+A New Revelation - 6363\n+How to Improve Your Strength - 6370\n+Observe the Spirit Vikings - 6380\n+Observe the Gigantic Spirit Vikings - 6390\n+Jonathan's Court - 6400\n+Mission Free the Monsters - 6410\n+The Bowman's Road - 6700\n+An Arrangement from the Goddess. - 6800\n+Tylus' introduction letter - 6900\n+Harmonia's first story - 6901\n+Harmonia's second truth - 6902\n+Harmonia's third story - 6903\n+ Hero's Quality - 6904\n+Tatamo's Suggestion - 6905\n+Robeira's introduction letter - 6910\n+Gritto's first story - 6911\n+ Gritto's Second Story - 6912\n+Gritto's Third Story - 6913\n+A Hero's Quality - 6914\n+Tatamo's Suggestion - 6915\n+ Rene's Introduction Letter - 6920\n+Legor's First Story - 6921\n+Legor's Second Truth - 6922\n+Legor's Third Story - 6923\n+Hero's Quality - 6924\n+Tatamo's Suggestion - 6925\n+Arec's Letter of Introduction - 6930\n+Helin's First Story - 6931\n+ Helin's Second Truth - 6932\n+Hellin's Third Story - 6933\n+ Hero's Quality - 6934\n+Tatamo's Suggestion - 6935\n+Pedro's Introduction - 6940\n+Samuel's Revelation of the First Truth - 6941\n+Samuel's Revelation of the Second Truth - 6942\n+Samuel's Revelation of the Third Truth - 6943\n+Attributes of a Hero - 6944\n+Tatamo's Suggestion - 6945\n+Protect Ludibrium - 7100\n+The Replacement Time Energy - 7101\n+The Time Sphere - 7102\n+Papulatus - 7103\n+A Piece of Crack - 7104\n+The Lost Piece of Crack - 7105\n+The Lost Medal - 7106\n+The Lost Piece of Crack - 7107\n+Papulatus's counterattack - 7109\n+Moira's Whereabouts - 7300\n+Secret Medicine for Transformation - 7301\n+ Badge of a Squad Member - 7302\n+Making the Secret Medicine for Transformation - 7303\n+New Life - 8000\n+Grako's Request - 8002\n+Grako's Request 2 - 8003\n+Mariwaka's Request - 8004\n+Mariwaka's Purse - 8005\n+The Scarred Kitty - 8007\n+Sakura's Request - 8008\n+Learning to Speak the Kitty Language - 8009\n+Dealing with Boss Kitty - 8010\n+Sakura, the Kitty, and the Orange Marble - 8012\n+Upgrading Zakum Armor - 8013\n+Sakura's Crying - 8018\n+I should talk to the Boss Kitty in kitty language. - 8019\n+Yoona's Quiz on Shopping : Start - 8020\n+Yoona's Quiz on Shopping 1 - 8021\n+Yoona's Quiz on Shopping 2 - 8022\n+Yoona's Quiz on Shopping 3 - 8023\n+Yoona's Quiz on Shopping 4 - 8024\n+Yoona's Quiz on Shopping 5 - 8025\n+Read the Newspaper! - 8027\n+Veggies are Awesome - 8028\n+Actor Training - 8029\n+Movie Star - 8030\n+Protect Lucas's Farm - 8031\n+War of Pang Pang - 8032\n+Youthful Mariwaka - 8033\n+Maya's Concerns 1 - 8034\n+Maya's Concerns 2 - 8035\n+Maya's Concerns 3 - 8036\n+Lionel's Necklace 1 - 8037\n+Lionel's Necklace 2 - 8038\n+Lionel's Necklace 3 - 8039\n+Lionel's Journey - 8040\n+Monster Rumor Mill - 8041\n+Fox So Foxy - 8042\n+Lycanthrope - 8043\n+Tsuri & the Gourmet Dish - 8047\n+Arwen and Ellinia - 8048\n+Sakura and the Seal - 8049\n+Today's Schedule - 8050\n+An Unknown Love - 8051\n+Umi's Spiced Veggies - 8052\n+Traveling Around Maple 1 - 8053\n+Traveling Around Maple 2 - 8054\n+Traveling Around Maple 3 - 8055\n+Traveling Around Maple 4 - 8056\n+Traveling Around Maple 5 - 8057\n+Traveling Around Maple 6 - 8058\n+Traveling Around Maple 7 - 8059\n+Sakura and the Teddy Bear - 8060\n+Doll in the Dark 1 - 8061\n+Doll in the Dark 2 - 8062\n+Soul in the Dark - 8064\n+The Ghost Whereabout - 8065\n+A Puppet - 8066\n+The Man of Convention - 8067\n+Ray of Light - 8068\n+Tsuri's Special Seafood 1 - 8069\n+Tsuri's Special Seafood 2 - 8070\n+An Old Code - 8072\n+2nd Code - 8073\n+The Meaning of the Code - 8074\n+Sabitrama's Life Work - 8075\n+The Committee Challenges - 8076\n+The Father of Modern Science - 8077\n+Open Sesami - 8078\n+Umi Needs Money - 8079\n+Lazy Alien Grey - 8080\n+The Arrogant Alien Gray - 8081\n+Good Luck - 8082\n+Porter's Challenge - 8083\n+Sophia's Snack - 8084\n+Todd's How-to-Hunt - 8142\n+Pet's Evolution1 - 8184\n+Pet's Evolution2 - 8185\n+Pet's Re-Evolution - 8189\n+Valentine's Day : Heart Chocolate - 8206\n+Valentine's Day : Chocolate Basket - 8207\n+Ancient Artifacts - 8213\n+Summer Break: Cody's BBQ - Start - 8218\n+Finding Jack - 8219\n+Translated Communique - 8220\n+The Mark of Heroism - 8221\n+The Brewing Storm - 8222\n+Storming the Castle - 8223\n+The Fallen Woods - 8224\n+The Right Path - 8225\n+The Fallen Warriors - 8226\n+Lost in Translation 1 - 8227\n+Lost in Translation 2 - 8228\n+Lost in Translation 3 - 8229\n+Stemming the Tide - 8230\n+Fool's Gold - 8231\n+Fool's Gold. - 8232\n+Rags to Riches - 8233\n+Rags to Riches. - 8234\n+One Step A-Head - 8235\n+One Step A-Head. - 8236\n+Catch a Bigfoot by the Toe - 8237\n+Catch a Bigfoot by the Toe. - 8238\n+Bounty Master - 8239\n+Attendance Check - 8245\n+Attendance Check - 8246\n+Donate Your Notebook - 8247\n+Maple 7th Day Market opens tomorrow! - 8248\n+Maple 7th Day Market - 8249\n+Helping the daughter of the poultry farm owner, Lazy Daisy - 8251\n+Hatch the egg - 8254\n+Lost Spirits - 8255\n+Lost Spirits. - 8256\n+Dinner Fixins' - 8257\n+Game On! <CVS> - 8258\n+Game On! <Target> - 8259\n+Game On! <Duane Reade> - 8260\n+Game On! <7-Eleven> - 8261\n+Game On! <Rite Aid> - 8262\n+Game On! <Best Buy> - 8263\n+Game On! <CVS> 2 - 8264\n+Game On! <CVS> 3 - 8265\n+Game On! <CVS> 4 - 8266\n+Game On! <CVS> 5 - 8267\n+Game On! <Target> 2 - 8268\n+Game On! <Target> 3 - 8269\n+Game On! <Target> 4 - 8270\n+Game On! <Target> 5 - 8271\n+Game On! <7-Eleven> 2 - 8272\n+Game On! <7-Eleven> 3 - 8273\n+Game On! <7-Eleven> 4 - 8274\n+Game On! <7-Eleven> 5 - 8275\n+Game On! <Rite Aid> 2 - 8276\n+Game On! <Rite Aid> 3 - 8277\n+Game On! <Rite Aid> 4 - 8278\n+Game On! <Rite Aid> 5 - 8279\n+Game On! <Best Buy> 2 - 8280\n+Game On! <Best Buy> 3 - 8281\n+Game On! <Best Buy> 4 - 8282\n+Game On! <Best Buy> 5 - 8283\n+Game On! <Duane Reade> 2 - 8284\n+Game On! <Duane Reade> 3 - 8285\n+Game On! <Duane Reade> 4 - 8286\n+Game On! <Duane Reade> 5 - 8287\n+Little Suzy's X-Mas Dilemma - 8289\n+The Spirit of Maplemas - 8290\n+A Versal Tradition - 8291\n+A Very Merry Maplemas - 8292\n+Happy Versalmas to You - 8293\n+Festival of Lights - Building the Altar - 8295\n+A secret that Mr. Moneybags knows. - 8297\n+In search of the Mind of Maple - 8298\n+Chief Stan's Piece of Mind of Maple - 8299\n+Find the Ghost-scaring Chinese Firecrackers - 8569\n+Finding the Ghost - 8570\n+2006 Easter : Easter Basket - 8700\n+2006 Easter : Mad Bunny's Easter(Yellow) - 8701\n+2006 Easter : Mad Bunny's Easter(Green) - 8713\n+Anniversary : Birthday Present (Red) - 8800\n+Anniversary : Cody's Quest - 8801\n+Anniversary : Birthday Present (Blue) - 8802\n+Independence Day : Cody's Barbecue Party - 8804\n+Independence Day : Alien Invasion - 8805\n+Nanuke and the Chair - 8806\n+Thanksgiving : Turkey Yellow Egg hunt - 8821\n+Thanksgiving : Turkey Green Egg hunt - 8822\n+Thanksgiving : Pumpkin Pie - 8823\n+Festival of Lights - Building the Altar - 8829\n+Festival of Lights - Blessing the Festival  - 8830\n+Graham Cracked - 8832\n+New Year's Wishes 1 - 8833\n+New Year's Wishes 2 - 8834\n+Festival of Lights - Blessing the Festival reward - 8843\n+Amoria : The Sakura Garden 1 - 8848\n+Amoria : The Sakura Garden 2 - Finishing Touches - 8849\n+Amoria : Cupid's Courier - Beginner - 8850\n+Amoria : Cupid's Courier - Warrior - 8851\n+Amoria : Cupid's Courier - Magician - 8852\n+Amoria : Cupid's Courier - Bowman - 8853\n+Amoria : Cupid's Courier - Thief - 8854\n+Amoria : Cupid's Courier  - Beginner - 8855\n+Amoria : Cupid's Courier - Warrior - 8856\n+Amoria : Cupid's Courier - Magician - 8857\n+Amoria : Cupid's Courier - Bowman - 8858\n+Amoria : Cupid's Courier - Thief - 8859\n+Amoria : Beauty or Beast! - 8860\n+Amoria : Marriage - 8862\n+Amoria : Red Dahlia - Warrior - 8863\n+Amoria : Red Dahlia - Magician - 8864\n+Amoria : Red Dahlia - Bowman - 8865\n+Amoria : Red Dahlia -  Thief - 8866\n+Amoria : Circle of Trust 1 (The Unmarried Couple) - 8867\n+Amoria : Circle of Trust 2 (A Bond is Forged) - 8868\n+Spot On : An Interesting Chore - 8869\n+Spot On : Go See Mr. Spot - 8870\n+Circle of Trust - Repaired Ring - 8871\n+Easter : Easter Basket - 8873\n+Easter : Mad Bunny's Easter(Yellow) - 8874\n+Easter : Mad Bunny's Easter(Green) - 8875\n+2nd Anniversary : Birthday Present (Red) - 8879\n+2nd Anniversary : Birthday Present (Blue) - 8880\n+2nd Anniversary : Cody's Quest - 8881\n+About the Amorian Challenge! - 8882\n+Summer Break: Cody's BBQ - Start - 8885\n+Summer Break: Cody's BBQ. - 8886\n+Summer Break: Cody's BBQ.. - 8887\n+Summer Break: Cody's BBQ... - 8888\n+Deciphering the Scroll of Secrets - 9004\n+Teo's reminiscence - 9011\n+??? ?? ?? ?? - 9012\n+Beat the Heat <Easy> - 1st Stage - 9051\n+Beat the Heat <Easy> - 2nd Stage - 9052\n+Beat the Heat <Easy> - 3rd Stage - 9053\n+Beat the Heat <Medium>-1st Stage - 9054\n+Beat the Heat <Medium> - 2nd Stage - 9055\n+Beat the Heat <Medium> - 3rd Stage - 9056\n+Beat the Heat <Hard>-1st Stage - 9057\n+Beat the Heat <Hard> - 2nd Stage - 9058\n+Beat the Heat <Hard> - 3rd Stage - 9059\n+????? : MapleStory - 9100\n+Back to School Event : MapleStory  - 9101\n+????? : Wizet - 9110\n+Back to School Event : Wizet  - 9111\n+????? : Nexon - 9120\n+Back to School Event : Nexon  - 9121\n+????? : ??? ???? - 9130\n+?? ?? ??? - 9140\n+?? ??? ??? - 9141\n+???? ?? - 9142\n+??? ???? ???? ?? - 9143\n+?? ??(??) ??? - 9150\n+?? ???? ??? - 9151\n+???? ??? - 9152\n+??? ???? ???? ??? - 9153\n+?? ??? ??? - 9154\n+?? ??? ? ?? ??? - 9155\n+??? ???? ???? ?? - 9156\n+?? ?? 1. ??? ?? ?? - 9160\n+?? ?? 2. ?? ?? ?? ?? - 9161\n+?? ?? 3. ??? ?? - 9162\n+?? ?? 4. ????? ?? - 9163\n+?? ?? 5. ?? ?? - 9164\n+?? ?? 6. ??? ?? ??? - 9165\n+?? ?? 7. ?? ?? ?? - 9166\n+?? ?? 8. ???? - 9167\n+?? ?? 9. ??? ? - 9168\n+?? ?? 10. ??? - 9169\n+??? ?? - 9170\n+??? ?? - 9171\n+??? ? ?? - 9172\n+??? ??? - 9173\n+??? ?? - 9180\n+???? ?? ???.. - 9181\n+??? ? ?? - 9182\n+??? ??? - 9183\n+??? ?? - 9190\n+??? ?? - 9191\n+??? ? ?? - 9192\n+??? ??? - 9193\n+??? ???? - 9210\n+?? ?! ?? ??! - 9220\n+?? ?! ?? ??!! - 9230\n+?? ?! ?? ??!!! - 9240\n+Torr's Horn - 9260\n+?? ?? - 9261\n+???? ?? ?? - 9262\n+??? ?? ?? - 9263\n+???? ? ?? ?? - 9264\n+??? ??? ?? ?? - 9265\n+????? : HappyNewYear - 9270\n+??? ?? : ??? ???? - 9280\n+??? ?? : ?? ???? - 9281\n+??? ?? : ?? - 9282\n+??? ?? : ???? - 9283\n+??? ?? : 4? ?? - 9284\n+??? ???? - 9290\n+??? ?? - 9291\n+?? ???? ??? - 9292\n+'???? ???'?? ????? - 9300\n+'???'?? ????? - 9301\n+'???'?? ????? - 9302\n+'????'?? ????? - 9303\n+???? ?? - 9304\n+??? ???? ???? - 9305\n+'???'?? ????? - 9306\n+Valentine's Day : Heart Chocolate - 9310\n+Valentine's Day : Chocolate Basket - 9311\n+??? ??? ??? - 9320\n+?? ?? - 9321\n+??? ?? - 9322\n+?????? 1000? ?? ?? - 9323\n+?? ?? ?? - 9324\n+???? ??? ??? - 9325\n+????? ??? - 9330\n+????? ?????? - 9331\n+???? ??? - 9332\n+??????? ?????? - 9333\n+?????:???? - 9340\n+?????:????? - 9341\n+??? ??? - 9350\n+??? ???! - 9351\n+??? ???!! - 9352\n+??? ? ??? - 9360\n+???? ?? - 9370\n+?? ?? ?? - 9371\n+???? ?? ?? ???... - 9372\n+???? ???? - 9380\n+????? ??? ?? - 9381\n+???? ??? ?? - 9382\n+???? ??? ???? - 9383\n+???? ??? ???? - 9384\n+???? ???? - 9385\n+MapleStory 3rd Anniversary Bonanza - 9386\n+Jane's Permission - 9387\n+Jane's Errands - 9388\n+Party with Jane - 9389\n+The Lost Maple Hat - 9390\n+????? ???? ??? - 9391\n+??? ???? ??? - 9392\n+????? ?? ??? ?? - 9393\n+??? ?? - 9394\n+???? ?? ?? - 9395\n+????? ???? - 9396\n+????? ??? - 9397\n+The Secrets Behind the Mundane Statue - 9398\n+The Mysterious Monster Crystal Statue - 9399\n+Maple GM's Congrats on the 3 year Anniversary - 9400\n+???? ??? ?? - 9401\n+???? ??? ?? - 9402\n+???? ??? ?? - 9403\n+???? ??? ?? - 9404\n+???? ???? ?? - 9405\n+???? ???? ?? - 9406\n+???? ???? ?? - 9407\n+???? ???? ?? - 9408\n+???? ???? ?? - 9409\n+???? ??? ?? - 9410\n+???? ??? ?? - 9411\n+Hughes Needs the Eraser - 9412\n+A Revenge on Gray the Alien - 9413\n+An Immovable Sword - 9414\n+Hectagon Crystal Necklace and the Seal Cushion - 9415\n+??? ?? ??? ?? - 9416\n+??? ??-?? ????? - 9421\n+??? ??-?? - 9422\n+??? ??? ???? ? - 9423\n+??? ??? ?? ?? - 9424\n+??? ??? ??? ?? ??? 1 - 9425\n+??? ??? ??? ?? ??? 2 - 9426\n+??? ??? ?? ??? - 9427\n+??? ??? ??? ?? - 9428\n+??? ??? ??? ?? - 9429\n+??? ??? ?? - 9430\n+??? ??? ??-?? - 9431\n+??? ??? ?? - 9432\n+?? ?? ???? ?? 1?? - 9440\n+?? ?? ???? ?? 2?? - 9441\n+?? ?? ???? ?? 1?? - 9442\n+?? ?? ???? ?? 2?? - 9443\n+?? ?? ???? ?? 1?? - 9444\n+?? ?? ???? ?? 2?? - 9445\n+??? ?? ?? ?? 1 - 9450\n+??? ?? ?? ?? 2 - 9451\n+?? ??? ?? ???! - 9470\n+?? ??? ?? ???!! - 9471\n+??? ??? - 9472\n+??? ???  - 9473\n+????? ?? ?? - 9474\n+????? ?? ??  - 9475\n+??? ??? ?? - 9476\n+??? ??? ??  - 9477\n+??? ???? - 9490\n+??? ?? - 9491\n+??? ??(??) - 9492\n+??? ?? - 9493\n+?????? ??? ?? - 9494\n+??? ?? ??? ? ?? - 9495\n+???? ??? ?? ?? - 9496\n+?? ???? ?? ?? - 9497\n+?? ???? ?? - 9498\n+???? ???? - 9499\n+??? ?? ???! - 9503\n+??? ?? ???!! - 9504\n+??? ? ?? 1 - 9505\n+??? ? ?? 2 - 9506\n+??? ? ?? 3 - 9507\n+??? ? ?? 4 - 9508\n+??? ? ?? 5 - 9509\n+??? ???? - 9510\n+???? ???? - 9511\n+???? ??? ??  - 9512\n+??? ??? ?? - 9513\n+??? ??? ??? ?? - 9514\n+??? ?? ????! - 9520\n+??? ?? ????!! - 9521\n+?? ? ???! - 9522\n+?? ? ???!! - 9523\n+?? ?? ???! - 9524\n+?? ?? ???!! - 9525\n+??? ????!  - 9526\n+??? ?? ??!! - 9527\n+??? ????!!! - 9528\n+???? (11? 23?) - 9600\n+???? (11? 24?) - 9601\n+???? (11? 25?) - 9602\n+???? (11? 26?) - 9603\n+???? (11? 27?) - 9604\n+???? (11? 28?) - 9605\n+???? (11? 29?) - 9606\n+???? (11? 30?) - 9607\n+???? (12? 1?) - 9608\n+???? (12? 2?) - 9609\n+???? (12? 3?) - 9610\n+???? (12? 4?) - 9611\n+???? (12? 5?) - 9612\n+???? (12? 6?) - 9613\n+???? (12? 7?) - 9614\n+???? (12? 8?) - 9615\n+???? (12? 9?) - 9616\n+???? (12? 10?) - 9617\n+???? (12? 11?) - 9618\n+???? (12? 12?) - 9619\n+???? (12? 13?) - 9620\n+???? (12? 14?) - 9621\n+???? (12? 15?) - 9622\n+???? (12? 16?) - 9623\n+???? (12? 17?) - 9624\n+???? - 9625\n+??? ?? ?? ?? I - 9630\n+??? ?? ?? ?? II - 9631\n+??? ?? ?? ?? I - 9632\n+??? ?? ?? ?? II - 9633\n+??? ?? ?? ?? I - 9635\n+??? ?? ?? ?? II - 9636\n+??? ?? ?? ?? I - 9637\n+??? ?? ?? ?? II - 9638\n+?? ???? ???? - 9640\n+?? ????? ??? - 9641\n+????? ????? - 9642\n+??? ??? ?? ????? - 9650\n+??? ??? ?? ????? - 9651\n+???? ????? - 9652\n+?? ??? ?:??? ? - 9660\n+???? ?:??? ?? - 9661\n+???? ??:??? ?? - 9662\n+??? ??? ??? ?:??? ?? - 9663\n+????? ??:?? ???  - 9664\n+Cody's Valentine - 9670\n+??? ??? - 9671\n+??? ?? - 9672\n+????? ?? - 9680\n+???? ??? 3? 5? - 9682\n+???? ??? 3? 12? - 9683\n+???? ??? 3? 19? - 9684\n+???? ??? 3? 26? - 9685\n+???? 2? 13? - 9690\n+???? 2? 14? - 9691\n+???? 2? 15? - 9692\n+???? 2? 16? - 9693\n+???? 2? 17? - 9694\n+???? 2? 18? - 9695\n+???? 2? 19? - 9696\n+???? 2? 20? - 9697\n+???? 2? 21? - 9698\n+???? 2? 22? - 9699\n+???? 2? 23? - 9700\n+???? 2? 24? - 9701\n+???? 2? 25? - 9702\n+???? 2? 26? - 9703\n+????? ???! - 9704\n+????? ???? - 9705\n+????? ???? - 9706\n+????? ??? - 9710\n+???? ????? - 9711\n+????? ????? - 9712\n+???? ????? - 9713\n+???? ????? - 9714\n+???? ??? 3? 6? - 9720\n+???? ??? 3? 13? - 9721\n+???? ??? 3? 20? - 9722\n+???? ??? 3? 27? - 9723\n+???? ??? 3? 1? - 9724\n+???? ??? 3? 8? - 9725\n+???? ??? 3? 15? - 9726\n+???? ??? 3? 22? - 9727\n+???? ??? 3? 29? - 9728\n+To Fool a Liar - 9730\n+To Fool a Liar - 9731\n+To Fool a Liar - 9732\n+Help out Gordon! - 9733\n+Help out Gordon!! - 9734\n+Help out Gordon!!! - 9735\n+????? ??? - 9740\n+????? ?? ??? - 9741\n+????? ??? ?? ??? - 9742\n+??? ?? - 9743\n+???? ?? - 9744\n+??? ?? ?? ??? - 9745\n+??? ?? ?? ???! - 9746\n+??? ?? ?? ???!! - 9747\n+??? ?? - 9748\n+4?? ?? ??? ???  - 9800\n+?? ?? ??? - 9801\n+?? ?? ??? - 9802\n+???? ??? - 9803\n+???? ???  - 9804\n+???? ???    - 9805\n+??? ??? ??? - 9806\n+??? ??? ???  - 9807\n+??? ??? ???    - 9808\n+????? ??? - 9809\n+???? ??? 4? 27? - 9810\n+???? ??? 4? 29? - 9811\n+???? ??? 5? 4? - 9812\n+???? ??? 5? 6? - 9813\n+???? ??? 5? 11? - 9814\n+???? ??? 5? 13? - 9815\n+???? ??? 5? 18? - 9816\n+???? ??? 5? 20? - 9817\n+???? ??? ??? ?? - 9818\n+???? ??? ? - 9819\n+????? ???? ?? - 9820\n+????? ?? ??? ?? - 9821\n+??? ?? - 9822\n+???? ?? ?? - 9823\n+????? ???? - 9824\n+????? ??? - 9825\n+????? ??? ??! - 9830\n+????? ??? ??! - 9831\n+????? ??? ??! - 9832\n+????? ??? ??! - 9833\n+????? ???? ??!  - 9834\n+????? ???? ??! - 9835\n+????? ???? ??! - 9836\n+????? ???? ??! - 9837\n+????? ???? ??! - 9838\n+????? ??? ??! - 9839\n+Dr. Winston's Research - 9840\n+Violent Monkeys - 9841\n+Icarus's Mushroom Bites - 9842\n+Garden of Three Shades - 9843\n+Regulate the Star Pixies - 9844\n+The Wailing White Fang - 9845\n+The Clocktower - 9846\n+Guard the Omega Sector - 9847\n+A Small Pond - 9848\n+No Gong's Test - 9849\n+Do Gong's Test - 9850\n+Snake Pit in the Swamp - 9851\n+???? ??? - 9852\n+Cassandra's Magic - 9860\n+??? ??? ?? ? - 9861\n+?? ?? ? ??? ?? - 9862\n+??? ??? ?? ?  - 9863\n+?? ?? ? ??? ??  - 9864\n+??? ?? - 9865\n+??? ?? ?? - 9866\n+??? ?? - 9867\n+????? ??? - 9868\n+??? ??? ?? - 9869\n+???? 1500? ???? - 9870\n+??? ?? - 9871\n+???? ?? ??? - 9872\n+??? ?? ?? ???? - 9873\n+Growing a Sprout - 9875\n+Magatia, the City of Alchemy - 9878\n+??? ?? - 9879\n+???? : ?? - 9880\n+???? : ??? - 9881\n+???? : ??? - 9882\n+???? : ?? - 9883\n+???? : ??? - 9884\n+???? : ???? - 9885\n+????? ?? - 9887\n+??? ??? - 9889\n+????? ?? - 9890\n+????? ?? - 9891\n+????? ?? - 9892\n+????? ?? - 9893\n+??? ??? - 9900\n+???? ???? - 9901\n+?? ???? - 9902\n+??? ???? - 9903\n+??? ???? - 9904\n+??? ???? - 9905\n+?? ???? - 9906\n+???? ???? - 9907\n+??? ???? - 9908\n+???? ???? - 9909\n+????? ?? - 9920\n+??? ?? ?? - 9921\n+???? ?? - 9922\n+Collect Pumpkin Pieces - 9923\n+???? ??? ??? ??! - 9924\n+???? ??? ??? ??!! - 9925\n+???? ??? ??? ??!!! - 9926\n+?????? ?? - 9927\n+??? ?? - 9928\n+???? ??? - 9929\n+??? ?? - 9930\n+????? ??? - 9931\n+????? ??? - 9932\n+?? ?? - 9933\n+???? ?? - 9934\n+????? ?? - 9935\n+??? ?? - 9936\n+?? ??? ?? ???? - 9937\n+??? ???? ??  - 9938\n+?? ??? ? ?? - 9939\n+??? ? - 9940\n+??? ?? - 9941\n+???? - 9942\n+??? ?? - 9943\n+??? ?? - 9944\n+???? - 9945\n+???? ??? - 9946\n+??? ???????. - 9947\n+?? ??? ???  - 9950\n+...Pirates!? - 9951\n+?? ???? ?? - 9952\n+???? ???? - 9953\n+????? ??? - 9954\n+???? ???? - 9955\n+????? ???? - 9960\n+?? ???? - 9961\n+??? ??? ??? - 9962\n+??? ??? ?? - 9963\n+??? ?? - 9965\n+???? ???? - 9970\n+????? ?????? - 9975\n+Tienk's Monster Card - 9980\n+4 Year Anniversary Level Up event - 9981\n+5?? ?? - 9982\n+5?? ?? ??? - 9983\n+Putting the Maple Leaf in my mouth... - 9984\n+Making Maple Syrup - 9985\n+Cassandra's Latest Information - 9986\n+Materials for the Mysterious Fabric - 9987\n+Francois' Latest Work - 9988\n+Gaga's Maple Leaf - 9990\n+??? ?? - 9991\n+Vanished Mysterious Fabric - 9992\n+Repairing the Maple Cape - 9994\n+Alcaster's Advice - 9996\n+???MS-07 - 9997\n+?????? - 9999\n\\ No newline at end of file"}, {"sha": "6bd1c4fef3ac36447068ef94c2b518fc2c1114c9", "filename": "nbproject/private/private.xml", "status": "modified", "additions": 15, "deletions": 16, "changes": 31, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/nbproject/private/private.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/nbproject/private/private.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/nbproject/private/private.xml?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -3,29 +3,28 @@\n     <editor-bookmarks xmlns=\"http://www.netbeans.org/ns/editor-bookmarks/2\" lastBookmarkId=\"1\"/>\n     <open-files xmlns=\"http://www.netbeans.org/ns/projectui-open-files/2\">\n         <group>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/channel/handlers/PlayerLoggedinHandler.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/channel/handlers/TakeDamageHandler.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/command/Commands.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/maps/HiredMerchant.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/MapleStatEffect.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/inventory/Item.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/scripts/npc/9030000.js</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/maps/MapleMapObject.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/constants/ExpTable.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/RecvOpcode.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/tools/data/input/GenericLittleEndianAccessor.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/maps/MapleHiredMerchant.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/PacketProcessor.java</file>\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/constants/ServerConstants.java</file>\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/world/World.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/worker/HiredMerchantWorker.java</file>\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/channel/handlers/FredrickHandler.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/channel/handlers/OwlWarpHandler.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/channel/handlers/RemoteStoreHandler.java</file>\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/channel/handlers/PlayerInteractionHandler.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/inventory/MapleInventory.java</file>\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/tools/MaplePacketCreator.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/channel/handlers/HiredMerchantRequest.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/channel/handlers/AutoAssignHandler.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/inventory/ItemFactory.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/Server.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/scripting/npc/NPCConversationManager.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/channel/handlers/UseCashItemHandler.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/channel/handlers/UseOwlOfMinervaHandler.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/MapleTrade.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/MapleInventoryManipulator.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/MapleMiniGame.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/MaplePlayerShop.java</file>\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/MapleCharacter.java</file>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/server/maps/MapleMap.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/client/MapleClient.java</file>\n             <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/net/server/channel/Channel.java</file>\n+            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/src/tools/data/input/LittleEndianAccessor.java</file>\n         </group>\n     </open-files>\n </project-private>"}, {"sha": "0c7e9cb35573a36e301708bc22e01cb5745bf67b", "filename": "scripts/map/onUserEnter/100000006.js", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/map/onUserEnter/100000006.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/map/onUserEnter/100000006.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/map/onUserEnter/100000006.js?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -0,0 +1,16 @@\n+importPackage(Packages.server.life);\n+\n+function start(ms){\n+\n+\tif(ms.getQuestStatus(2175) == 1){\n+\t\tvar mobId = 9300156;\n+\t\tvar player = ms.getPlayer();\n+\t\tvar map = player.getMap();\n+\n+\t\tif(map.getMonsterById(mobId) != null){\n+\t\t\treturn;   \t       \n+\t\t}\n+\n+\t\tmap.spawnMonsterOnGroundBelow(MapleLifeFactory.getMonster(mobId), new java.awt.Point(-1027, 216));\n+\t}\n+}\n\\ No newline at end of file"}, {"sha": "0c5832a3e625f198a8c4e576006dda934ed43c9c", "filename": "scripts/map/onUserEnter/677000001.js", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/map/onUserEnter/677000001.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/map/onUserEnter/677000001.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/map/onUserEnter/677000001.js?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -0,0 +1,15 @@\n+importPackage(Packages.server.life);\n+\n+function start(ms) {\n+\n+\tvar mobId = 9400612;\n+\tvar player = ms.getPlayer();\n+\tvar map = player.getMap();\n+\n+\tif(map.getMonsterById(mobId) != null){\n+\t\treturn;   \t       \n+\t}\n+\n+\tmap.spawnMonsterOnGroundBelow(MapleLifeFactory.getMonster(mobId), new java.awt.Point(461, 61));\n+\tplayer.message(\"Marbas has appeared!\");\n+}\n\\ No newline at end of file"}, {"sha": "b2b9ec63b92a66254df0cff710c9e0973927af71", "filename": "scripts/npc/1092007.js", "status": "modified", "additions": 44, "deletions": 24, "changes": 68, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/npc/1092007.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/npc/1092007.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1092007.js?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -1,31 +1,51 @@\n /*\n-\tThis file is part of the OdinMS Maple Story Server\n-    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc> \n-                       Matthias Butz <matze@odinms.de>\n-                       Jan Christian Meyer <vimes@odinms.de>\n+NPC:        Muirhat - Nautilus' Port\n+Created By: Kevin\n+Function:   When on the quest, he warps player to Black Magician's Disciple\n+*/\n \n-    This program is free software: you can redistribute it and/or modify\n-    it under the terms of the GNU Affero General Public License version 3\n-    as published by the Free Software Foundation. You may not use, modify\n-    or distribute this program under any other version of the\n-    GNU Affero General Public License.\n+var status;\n \n-    This program is distributed in the hope that it will be useful,\n-    but WITHOUT ANY WARRANTY; without even the implied warranty of\n-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-    GNU Affero General Public License for more details.\n+function start() {\n+    \n+    status = -1;\n+    action(1, 0, 0);\n+}\n \n-    You should have received a copy of the GNU Affero General Public License\n-    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n-*/\n+function action(mode, type, selection){\n+    if (mode == -1){\n+        cm.dispose();\n+    }\n+    else{\n+        if (mode == 0 && status == 0){\n+            cm.dispose();\n+            return;\n+        }\n \n-/*\n-NPC:        Muirhat - Nautilus' Port\n-Created By: Cyndicate, shortened by Moogra\n-Function:   No specific function, useless text.\n-*/\n+        if (mode == 1)\n+            status++;\n+        else\n+            status--;\n \n-function start() {\n-    cm.sendOk(\"The Black Magician and his followers. Kyrin and the Crew of Nautilus. \\n They'll be chasing one another until one of them doesn't exist, that's for sure.\");\n-    cm.dispose();\n+        if (status == 0){\n+            if (cm.getQuestStatus(2175) == 1){\n+                if (cm.getPlayer().canHold(2030019)){\n+                    cm.sendOk(\"Please take this #b#t2030019##k, it will make your life a lot easier.  #i2030019#\");\n+                    cm.gainItem(2030019, 1);\n+                }\n+                else{\n+                    cm.sendOk(\"No free inventory spot available. Please make room in your USE inventory first.\");\n+                    cm.dipose();\n+                }\n+            }\n+            else{\n+                cm.sendOk(\"The Black Magician and his followers. Kyrin and the Crew of Nautilus. \\n They'll be chasing one another until one of them doesn't exist, that's for sure.\");\n+                cm.dispose();\n+            }\n+        }\n+        else if (status == 1){\n+            cm.warp(100000006);\n+            cm.dispose();\n+        }\n+    }\n }\n\\ No newline at end of file"}, {"sha": "e924dc8ca5cf1cfb5099e4e4ff4f4db98db6d186", "filename": "scripts/npc/1094002.js", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/npc/1094002.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/npc/1094002.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1094002.js?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -19,14 +19,13 @@\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n /*\n-    Author: XxOsirisxX \uff08BubblesDev 0.75)\n+    Author: Kevin (DietStory v1.02)\n     NPC: Bush - Abel Glasses Quest\n */\n \n var rolled = 0;\n \n function start(mode, type, selection){\n-    //cm.sendGetText(\"Do you want to obtain a glasses?\");\n     if(!cm.isQuestStarted(2186)) {\n         cm.sendOk(\"Just a pile of boxes, nothing special...\");\n         cm.dispose();\n@@ -46,6 +45,5 @@ function action(mode, type, selection) {\n     }\n     else cm.sendOk(\"You #balready have#k the glasses that was here!\");\n     \n-    //cm.saveSquadMembers(cm.getText());\n     cm.dispose();\n }\n\\ No newline at end of file"}, {"sha": "e924dc8ca5cf1cfb5099e4e4ff4f4db98db6d186", "filename": "scripts/npc/1094003.js", "status": "modified", "additions": 19, "deletions": 5, "changes": 24, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/npc/1094003.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/npc/1094003.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1094003.js?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -19,17 +19,31 @@\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n /*\n-    Author: XxOsirisxX \uff08BubblesDev 0.75)\n+    Author: Kevin (DietStory v1.02)\n     NPC: Bush - Abel Glasses Quest\n */\n \n+var rolled = 0;\n+\n function start(mode, type, selection){\n-    cm.sendGetText(\"Do you want to obtain a glasses?\");\n+    if(!cm.isQuestStarted(2186)) {\n+        cm.sendOk(\"Just a pile of boxes, nothing special...\");\n+        cm.dispose();\n+        return;\n+    }\n+    \n+    cm.sendNext(\"Do you want to obtain a glasses?\");\n }\n \n function action(mode, type, selection) {\n-    if(!(cm.haveItem(4031853) || cm.haveItem(4031854) || cm.haveItem(4031855)))\n-        cm.gainItem(4031854, 1);\n-    cm.saveSquadMembers(cm.getText());\n+    if(!(cm.haveItem(4031853) || cm.haveItem(4031854) || cm.haveItem(4031855))) {\n+        rolled = Math.floor(Math.random() * 3);\n+        \n+        if(rolled == 0) cm.gainItem(4031853, 1);\n+        else if(rolled == 1) cm.gainItem(4031854, 1);\n+        else cm.gainItem(4031855, 1);\n+    }\n+    else cm.sendOk(\"You #balready have#k the glasses that was here!\");\n+    \n     cm.dispose();\n }\n\\ No newline at end of file"}, {"sha": "e924dc8ca5cf1cfb5099e4e4ff4f4db98db6d186", "filename": "scripts/npc/1094004.js", "status": "modified", "additions": 19, "deletions": 5, "changes": 24, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/npc/1094004.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/npc/1094004.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1094004.js?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -19,17 +19,31 @@\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n /*\n-    Author: XxOsirisxX \uff08BubblesDev 0.75)\n+    Author: Kevin (DietStory v1.02)\n     NPC: Bush - Abel Glasses Quest\n */\n \n+var rolled = 0;\n+\n function start(mode, type, selection){\n-    cm.sendGetText(\"Do you want to obtain a glasses?\");\n+    if(!cm.isQuestStarted(2186)) {\n+        cm.sendOk(\"Just a pile of boxes, nothing special...\");\n+        cm.dispose();\n+        return;\n+    }\n+    \n+    cm.sendNext(\"Do you want to obtain a glasses?\");\n }\n \n function action(mode, type, selection) {\n-    if(!(cm.haveItem(4031853) || cm.haveItem(4031854) || cm.haveItem(4031855)))\n-        cm.gainItem(4031854, 1);\n-    cm.saveSquadMembers(cm.getText());\n+    if(!(cm.haveItem(4031853) || cm.haveItem(4031854) || cm.haveItem(4031855))) {\n+        rolled = Math.floor(Math.random() * 3);\n+        \n+        if(rolled == 0) cm.gainItem(4031853, 1);\n+        else if(rolled == 1) cm.gainItem(4031854, 1);\n+        else cm.gainItem(4031855, 1);\n+    }\n+    else cm.sendOk(\"You #balready have#k the glasses that was here!\");\n+    \n     cm.dispose();\n }\n\\ No newline at end of file"}, {"sha": "e924dc8ca5cf1cfb5099e4e4ff4f4db98db6d186", "filename": "scripts/npc/1094005.js", "status": "modified", "additions": 19, "deletions": 5, "changes": 24, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/npc/1094005.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/npc/1094005.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1094005.js?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -19,17 +19,31 @@\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n /*\n-    Author: XxOsirisxX \uff08BubblesDev 0.75)\n+    Author: Kevin (DietStory v1.02)\n     NPC: Bush - Abel Glasses Quest\n */\n \n+var rolled = 0;\n+\n function start(mode, type, selection){\n-    cm.sendGetText(\"Do you want to obtain a glasses?\");\n+    if(!cm.isQuestStarted(2186)) {\n+        cm.sendOk(\"Just a pile of boxes, nothing special...\");\n+        cm.dispose();\n+        return;\n+    }\n+    \n+    cm.sendNext(\"Do you want to obtain a glasses?\");\n }\n \n function action(mode, type, selection) {\n-    if(!(cm.haveItem(4031853) || cm.haveItem(4031854) || cm.haveItem(4031855)))\n-        cm.gainItem(4031854, 1);\n-    cm.saveSquadMembers(cm.getText());\n+    if(!(cm.haveItem(4031853) || cm.haveItem(4031854) || cm.haveItem(4031855))) {\n+        rolled = Math.floor(Math.random() * 3);\n+        \n+        if(rolled == 0) cm.gainItem(4031853, 1);\n+        else if(rolled == 1) cm.gainItem(4031854, 1);\n+        else cm.gainItem(4031855, 1);\n+    }\n+    else cm.sendOk(\"You #balready have#k the glasses that was here!\");\n+    \n     cm.dispose();\n }\n\\ No newline at end of file"}, {"sha": "e924dc8ca5cf1cfb5099e4e4ff4f4db98db6d186", "filename": "scripts/npc/1094006.js", "status": "modified", "additions": 19, "deletions": 5, "changes": 24, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/npc/1094006.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/npc/1094006.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/1094006.js?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -19,17 +19,31 @@\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n /*\n-    Author: XxOsirisxX \uff08BubblesDev 0.75)\n+    Author: Kevin (DietStory v1.02)\n     NPC: Bush - Abel Glasses Quest\n */\n \n+var rolled = 0;\n+\n function start(mode, type, selection){\n-    cm.sendGetText(\"Do you want to obtain a glasses?\");\n+    if(!cm.isQuestStarted(2186)) {\n+        cm.sendOk(\"Just a pile of boxes, nothing special...\");\n+        cm.dispose();\n+        return;\n+    }\n+    \n+    cm.sendNext(\"Do you want to obtain a glasses?\");\n }\n \n function action(mode, type, selection) {\n-    if(!(cm.haveItem(4031853) || cm.haveItem(4031854) || cm.haveItem(4031855)))\n-        cm.gainItem(4031854, 1);\n-    cm.saveSquadMembers(cm.getText());\n+    if(!(cm.haveItem(4031853) || cm.haveItem(4031854) || cm.haveItem(4031855))) {\n+        rolled = Math.floor(Math.random() * 3);\n+        \n+        if(rolled == 0) cm.gainItem(4031853, 1);\n+        else if(rolled == 1) cm.gainItem(4031854, 1);\n+        else cm.gainItem(4031855, 1);\n+    }\n+    else cm.sendOk(\"You #balready have#k the glasses that was here!\");\n+    \n     cm.dispose();\n }\n\\ No newline at end of file"}, {"sha": "2ebeae654ae3f97c8c3d5f4e0f2aebd0cb129250", "filename": "scripts/npc/9201002.js", "status": "modified", "additions": 29, "deletions": 2, "changes": 31, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/npc/9201002.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/npc/9201002.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201002.js?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -19,7 +19,34 @@\n     You should have received a copy of the GNU Affero General Public License\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n+/* NPC Base\n+\tMap Name (Map ID)\n+\tExtra NPC info.\n+ */\n+\n+var status;\n+ \n function start() {\n-\tcm.warp(109030001, 0);\n-\tcm.dispose();\n+        status = -1;\n+        action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+        if (mode == -1) {\n+                cm.dispose();\n+        } else {\n+                if (mode == 0 && type > 0) {\n+                        cm.dispose();\n+                        return;\n+                }\n+                if (mode == 1)\n+                        status++;\n+                else\n+                        status--;\n+    \n+                if(status == 0) {\n+                        cm.sendOk(\"Wedding is currently closed.\");\n+                        cm.dispose();\n+                }\n+        }\n }\n\\ No newline at end of file"}, {"sha": "2ebeae654ae3f97c8c3d5f4e0f2aebd0cb129250", "filename": "scripts/npc/9201008.js", "status": "added", "additions": 52, "deletions": 0, "changes": 52, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/npc/9201008.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/npc/9201008.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201008.js?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -0,0 +1,52 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+/* NPC Base\n+\tMap Name (Map ID)\n+\tExtra NPC info.\n+ */\n+\n+var status;\n+ \n+function start() {\n+        status = -1;\n+        action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+        if (mode == -1) {\n+                cm.dispose();\n+        } else {\n+                if (mode == 0 && type > 0) {\n+                        cm.dispose();\n+                        return;\n+                }\n+                if (mode == 1)\n+                        status++;\n+                else\n+                        status--;\n+    \n+                if(status == 0) {\n+                        cm.sendOk(\"Wedding is currently closed.\");\n+                        cm.dispose();\n+                }\n+        }\n+}\n\\ No newline at end of file"}, {"sha": "2ebeae654ae3f97c8c3d5f4e0f2aebd0cb129250", "filename": "scripts/npc/9201012.js", "status": "added", "additions": 52, "deletions": 0, "changes": 52, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/npc/9201012.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/npc/9201012.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201012.js?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -0,0 +1,52 @@\n+/*\n+\tThis file is part of the OdinMS Maple Story Server\n+    Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+\t\t       Matthias Butz <matze@odinms.de>\n+\t\t       Jan Christian Meyer <vimes@odinms.de>\n+\n+    This program is free software: you can redistribute it and/or modify\n+    it under the terms of the GNU Affero General Public License as\n+    published by the Free Software Foundation version 3 as published by\n+    the Free Software Foundation. You may not use, modify or distribute\n+    this program under any other version of the GNU Affero General Public\n+    License.\n+\n+    This program is distributed in the hope that it will be useful,\n+    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+    GNU Affero General Public License for more details.\n+\n+    You should have received a copy of the GNU Affero General Public License\n+    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+*/\n+/* NPC Base\n+\tMap Name (Map ID)\n+\tExtra NPC info.\n+ */\n+\n+var status;\n+ \n+function start() {\n+        status = -1;\n+        action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+        if (mode == -1) {\n+                cm.dispose();\n+        } else {\n+                if (mode == 0 && type > 0) {\n+                        cm.dispose();\n+                        return;\n+                }\n+                if (mode == 1)\n+                        status++;\n+                else\n+                        status--;\n+    \n+                if(status == 0) {\n+                        cm.sendOk(\"Wedding is currently closed.\");\n+                        cm.dispose();\n+                }\n+        }\n+}\n\\ No newline at end of file"}, {"sha": "e2c8d7d993bdf599988b86c1833afab0731ee246", "filename": "scripts/npc/9201042.js", "status": "modified", "additions": 86, "deletions": 2, "changes": 88, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/npc/9201042.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/npc/9201042.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201042.js?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -19,7 +19,91 @@\n     You should have received a copy of the GNU Affero General Public License\n     along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n+/* Mr. Sandman\n+\tAmoria - Amoria (680000000)\n+\tAmoriaPQ Extras (get wish tickets in AmoriaPQ bonus stage)\n+\n+        Yellow Wish Ticket - Lv1 ~ 49\n+         Green Wish Ticket - Lv50 ~ 119\n+          Blue Wish Ticket - Lv120+\n+ */\n+\n+var wishPrizes = [2000000, 2010004, 2020011, 2000004, 2000006, 2022015, 2000005, 1082174, 1002579, 1032039, 1002578, 1002580, 1002577, 1102078];\n+var wishPrizesQty = [10, 10, 5, 5, 5, 5, 10, 1, 1, 1, 1, 1, 1, 1];\n+var wishPrizesCst = [10, 15, 20, 30, 30, 50, 100, 400, 450, 500, 500, 530, 550, 600];\n+\n+var slctTicket;\n+var amntTicket;\n+\n+var sel;\n+var advance = true;\n+\n+var status;\n+\n+function getTierTicket(level) {\n+        if(level < 50) {\n+                return 4031543;\n+        } else if(level < 120) {\n+                return 4031544;\n+        } else {\n+                return 4031545;\n+        }\n+}\n+\n function start() {\n-    cm.getPlayer().getStorage().sendStorage(cm.getClient(), 9201042);\n-    cm.dispose();\n+        slctTicket = getTierTicket(cm.getPlayer().getLevel());\n+        amntTicket = cm.getItemQuantity(slctTicket);\n+    \n+        status = -1;\n+        action(1, 0, 0);\n+}\n+\n+function action(mode, type, selection) {\n+        if (mode == -1) {\n+                cm.dispose();\n+        } else {\n+                if (mode == 0 && type > 0) {\n+                        cm.dispose();\n+                        return;\n+                }\n+                if (mode == 1 && advance)\n+                        status++;\n+                else\n+                        status--;\n+                    \n+                advance = true;\n+    \n+                if(status == 0) {\n+                        cm.sendNext(\"Hi there, how is it going? Since you're passing by Amoria, have you heard about the event my brother Amos is hosting? It is the #bAmorian Challenge#k, an event for everyone above level 40.\\r\\n\\r\\nThere, you may find the #i4031543# #i4031544# #i4031545# #bWish Tickets#k that can be brought here to redeem prizes.\");\n+                } else if(status == 1) {\n+                        var listStr = \"\";\n+                        for(var i = 0; i < wishPrizes.length; i++) {\n+                                listStr += \"#b#L\" + i + \"#\" + wishPrizesQty[i] + \" #z\" + wishPrizes[i] + \"##k\";\n+                                listStr += \" - \" + wishPrizesCst[i] + \" wish tickets\";\n+                                listStr += \"#l\\r\\n\";\n+                        }\n+                    \n+                        cm.sendSimple(\"You currently have #b\" + amntTicket + \" #i\" + slctTicket + \"# #t\" + slctTicket + \"##k.\\r\\n\\r\\nPurchase a prize:\\r\\n\\r\\n\" + listStr);\n+                } else if(status == 2) {\n+                        sel = selection;\n+                        \n+                        if(amntTicket < wishPrizesCst[selection]) {\n+                                cm.sendPrev(\"You will need #b\" + wishPrizesCst[selection] + \" #t\" + slctTicket + \"##k to purchase that! If you want this, come back another time when you have all the tickets at hand.\");\n+                                advance = false;\n+                        } else {\n+                                cm.sendYesNo(\"You have selected #b\" + wishPrizesQty[selection] + \" #z\" + wishPrizes[selection] + \"##k, that will require #b\" + wishPrizesCst[selection] + \" #t\" + slctTicket + \"##k. Will you purchase it?\");\n+                        }\n+                } else {\n+                        if(cm.canHold(wishPrizes[sel], wishPrizesQty[sel])) {\n+                                cm.gainItem(wishPrizes[sel], wishPrizesQty[sel]);\n+                                cm.gainItem(slctTicket, -wishPrizesCst[sel]);\n+                                \n+                                cm.sendOk(\"There you go, have a good day!\");\n+                        } else {\n+                                cm.sendOk(\"Please have a slot available on your inventory before claiming the item.\");\n+                        }\n+                    \n+                        cm.dispose();\n+                }\n+        }\n }\n\\ No newline at end of file"}, {"sha": "9503c827ef257b66c5d4809ec007365fed325e5d", "filename": "scripts/npc/9201129.js", "status": "added", "additions": 61, "deletions": 0, "changes": 61, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/npc/9201129.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/npc/9201129.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/9201129.js?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -0,0 +1,61 @@\n+/*\n+\tDemon's Doorway\n+\tMarbas the Demon! Quest\n+\tVictoria Road: The Tree That Grew III\n+*/\n+\n+var status;\n+\n+function start(){\n+\tstatus = -1;\n+\taction(1, 0, 0);\n+}\n+\n+function action(mode, type, selection){\n+\tif (mode == -1){\n+\t\tcm.dispose();\n+\t}\n+\telse{\n+\t\tif (mode == 0 && status ==0){\n+\t\t\tcm.dispose();\n+\t\t\treturn;\n+\t\t}\n+\t\t\n+\t\tif (mode == 1)\n+\t\t\tstatus++;\n+\t\telse\n+\t\t\tstatus--;\n+\n+\t\tif (status == 0){\n+\t\t\tcm.sendNext(\"#r\\t[Requirements to Enter]\\r\\n\\r\\n\\t\\t1.#k Job must be Magician or Blaze Wizard.\\r\\n\\t\\t#r2.#k Must be under level 40.\\r\\n\\t\\t#r3.#k Must have #b#t4032495##k.\");\n+\t\t}\n+\t\telse if (status == 1){\n+\t\t\tvar jobId = cm.getJobId();\n+\n+\t\t\tif ((jobId >= 200 && jobId <= 232) || (jobId >= 1100 && jobId <= 1112)){\n+\t\t\t\tif (cm.getLevel() < 40){\n+\t\t\t\t\tif (cm.hasItem(4032495)){\n+\t\t\t\t\t\tcm.sendYesNo(\"#kAll conditions have been satisfied. Do you wish to enter?\");\n+\t\t\t\t\t}\n+\t\t\t\t\telse{\n+\t\t\t\t\t\tcm.sendOk(\"\\t\\tYou do not have #b#t4032495# #i4032495#\");\n+\t\t\t\t\t\tcm.dispose();\n+\t\t\t\t\t}\n+\t\t\t\t}\n+\t\t\t\telse{\n+\t\t\t\t\tcm.sendOk(\"\\tYour #blevel#k is too high.\");\n+\t\t\t\t\tcm.dispose();\n+\t\t\t\t}\n+\t\t\t}\n+\t\t\telse{\n+\t\t\t\tcm.sendOk(\"\\tThis is not for you! #rBegone#k you fool!\");\n+\t\t\t\tcm.dispose();\n+\t\t\t}\n+\t\t}\n+\t\telse if (status == 2){\n+\t\t\tcm.warp(677000000, 2);\n+\n+\t\t\tcm.dispose();\n+\t\t}\n+\t}\n+}\n\\ No newline at end of file"}, {"sha": "99b71c950277884c5dec8adc813a7390dec60cdc", "filename": "scripts/npc/commands.js", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/npc/commands.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/npc/commands.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/npc/commands.js?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -99,6 +99,7 @@ function writeSolaxiaCommandsLv3() {    //GM\n         comm_cursor = comm_lv3;\n         desc_cursor = desc_lv3;\n \n+        addCommand(\"fly\", \"\");\n         addCommand(\"spawn\", \"\");\n         addCommand(\"mutemap\", \"\");\n         addCommand(\"checkdmg\", \"\");"}, {"sha": "e645218d0b00bf4c08ba4cddfd7347d80ed2907f", "filename": "scripts/portal/gotocastle.js", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/portal/gotocastle.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/portal/gotocastle.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/gotocastle.js?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -1,5 +1,8 @@\n function enter(pi) {\n \tif (pi.isQuestActive(2324)) {\n+            var player = pi.getPlayer();\n+            player.gainExp(3300 * player.getExpRate());\n+            \n \t    pi.forceCompleteQuest(2324);\n \t    pi.removeAll(2430015);\n \t    pi.playerMessage(5, \"Quest complete.\");"}, {"sha": "133c27ce8ee5fbd3861e6518908145ed156e489f", "filename": "scripts/portal/obstacle.js", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/portal/obstacle.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/portal/obstacle.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/portal/obstacle.js?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -0,0 +1,18 @@\n+/*\n+ \tAuthor: Kevin\n+ \tMap: Mushroom Castle - Deep Inside Mushroom Forest (106020300)\n+ \tRight Portal\n+ */\n+ \n+ function enter(pi){\n+ \tif (pi.isQuestCompleted(2316)){\n+ \t\tif (pi.hasItem(2430014)){\n+ \t\t\tpi.gainItem(2430014, -1 * pi.getPlayer().getItemQuantity(2430014, false));\n+ \t\t}\n+ \n+ \t\tpi.warp(106020400, 2);\n+ \t\treturn true;\n+ \t}\n+ \n+ \treturn false;\n+ } \n\\ No newline at end of file"}, {"sha": "37272f856b45b7dbf199fec341d9aac52c089bb1", "filename": "scripts/quest/2251.js", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/quest/2251.js", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/scripts/quest/2251.js", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/scripts/quest/2251.js?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -0,0 +1,21 @@\n+/*\n+\tAuthor: Kevin\n+\tQuest: Zombie Mushroom Signal 3 (2251)\n+\tNPC: The Rememberer (1061011)\n+\tItem: Recording Charm (4032399)\n+*/\n+\n+function end(mode, type, selection) {\n+    \n+    if(!qm.haveItem(4032399, 20)) {\n+        qm.sendOk(\"Please bring me 20 #b#t4032399##k...  #i4032399#\");\n+    }\n+    else {\n+        qm.gainItem(4032399, -20);\n+        qm.sendOk(\"Oh, you brought 20 #b#t4032399##k! Thank you.\");\n+        qm.gainExp(8000 * qm.getPlayer().getExpRate());\n+        qm.forceCompleteQuest();\n+    }\n+    \n+    qm.dispose();\n+}\n\\ No newline at end of file"}, {"sha": "a7cced04999081176de291142eb7713765236210", "filename": "sql/db_drops.sql", "status": "modified", "additions": 30, "deletions": 2, "changes": 32, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/sql/db_drops.sql", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/sql/db_drops.sql", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/sql/db_drops.sql?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -19773,8 +19773,13 @@ USE `maplesolaxia`;\n (9400300, 2290045, 1, 1, 0, 10000),\n (9400121, 2290081, 1, 1, 0, 10000),\n (9400014, 2290087, 1, 1, 0, 10000),\n-(9400120, 2290109, 1, 1, 0, 10000);\n-\n+(9400120, 2290109, 1, 1, 0, 10000),\n+(3210100, 4001000, 1, 1, 2017, 20000),\n+(4300013, 4000538, 1, 1, 2288, 400000),\n+(2130100, 4001367, 1, 1, 28257, 10000),\n+(1110100, 4001369, 1, 1, 28259, 10000),\n+(1210101, 4001370, 1, 1, 28260, 10000),\n+(1110101, 4001371, 1, 1, 28261, 10000);\n # (dropperid, itemid, minqty, maxqty, questid, chance)\n \n   # delete item drops from other mobs named Freezer\n@@ -21078,6 +21083,29 @@ USE `maplesolaxia`;\n     (9102001, 2020002, 2, -1),\n     (2002018, 4161014, 1, 3099);\n \n+  # adding wish tickets on APQ boxes\n+  INSERT INTO `reactordrops` (`reactorid`, `itemid`, `chance`, `questid`) VALUES\n+    (6702003, 4031543, 1, -1),\n+    (6702003, 4031544, 2, -1),\n+    (6702004, 4031544, 1, -1),\n+    (6702004, 4031545, 2, -1),\n+    (6702005, 4031543, 2, -1),\n+    (6702005, 4031545, 1, -1),\n+    (6702006, 4031543, 1, -1),\n+    (6702006, 4031544, 2, -1),\n+    (6702007, 4031544, 1, -1),\n+    (6702007, 4031545, 2, -1),\n+    (6702008, 4031543, 2, -1),\n+    (6702008, 4031545, 1, -1),\n+    (6702009, 4031543, 1, -1),\n+    (6702009, 4031544, 2, -1),\n+    (6702010, 4031544, 1, -1),\n+    (6702010, 4031545, 2, -1),\n+    (6702011, 4031543, 1, -1),\n+    (6702011, 4031545, 2, -1),\n+    (6702012, 4031543, 2, -1),\n+    (6702012, 4031544, 1, -1);\n+\n   # updates info for all cards on monster book\n   DROP TABLE `monstercarddata`;\n   CREATE TABLE IF NOT EXISTS `monstercarddata` ("}, {"sha": "834413118c91e534e4b8035beded06f74aa35b10", "filename": "sql/db_shopupdate.sql", "status": "modified", "additions": 62, "deletions": 1, "changes": 63, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/sql/db_shopupdate.sql", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/sql/db_shopupdate.sql", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/sql/db_shopupdate.sql?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -222,4 +222,65 @@ INSERT INTO `shopitems` ( `shopid`, `itemid`, `price`, `position`) VALUES\n (1337, 2043712, 1, 81),\n (1337, 2340000, 1, 82),\n (1337, 2040807, 1, 83),\n-(1337, 2210032, 1, 84);\n\\ No newline at end of file\n+(1337, 2210032, 1, 84);\n+\n+# Thanks to DietStory dev team\n+INSERT INTO `shopitems` ( `shopid`, `itemid`, `price`, `position`) VALUES\n+ (1200001, 3010001, 1000, 0, 1),\n+ (1200001, 1092003, 2000, 0, 2),\n+ (1200001, 1072063, 10000, 0, 3),\n+ (1200001, 1072062, 10000, 0, 4),\n+ (1200001, 1072017, 10000, 0, 5).\n+ (1200001, 1072049, 5000, 0, 6),\n+ (1200001, 1072048, 5000, 0, 7),\n+ (1200001, 1072008, 5000, 0, 8),\n+ (1200001, 1072005, 50, 0, 9),\n+ (1200001, 1072038, 50, 0, 10),\n+ (1200001, 1072037, 50, 0, 11),\n+ (1200001, 1072001, 50, 0, 12),\n+ (1200001, 1062001, 4800, 0, 13),\n+ (1200001, 1062000, 4800, 0, 14),\n+ (1200001, 1060004, 2800, 0, 15),\n+ (1200001, 1060007, 1000, 0, 16),\n+ (1200001, 1041012, 3000, 0, 17),\n+ (1200001, 1041004, 3000, 0, 18),\n+ (1200001, 1040014, 3000, 0, 19),\n+ (1200001, 1040013, 3000, 0, 20),\n+ (1200001, 1002001, 3000, 0, 21),\n+ (1200001, 1002019, 2000, 0, 22),\n+ (1200001, 1002134, 800, 0, 23),\n+ (1200001, 1002133, 800, 0, 24),\n+ (1200001, 1002132, 800, 0, 25),\n+ (1200001, 1002069, 450, 0, 26),\n+ (1200001, 1002068, 450, 0, 27),\n+ (1200001, 1002067, 450, 0, 28),\n+ (1200001, 1002066, 450, 0, 29),\n+ (1200001, 1002014, 1000, 0, 30),\n+ (1200001, 1002008, 500, 0, 31),\n+ (1200001, 1332007, 1000, 0, 32),\n+ (1200001, 1312000, 3000, 0, 33),\n+ (1200001, 1302007, 3000, 0, 34),\n+ (1200001, 1322005, 50, 0, 35),\n+ (1200001, 1312004, 50, 0, 36),\n+ (1200001, 1302000, 50, 0, 37),\n+ (1203590, 2330000, 600, 0, 104),\n+ (1203590, 2070000, 500, 0, 108),\n+ (1203590, 2061000, 1, 0, 120),\n+ (1203590, 2060000, 1, 0, 124),\n+ (1203590, 2030000, 400, 0, 132),\n+ (1203590, 2020028, 3000, 0, 136),\n+ (1203590, 2010004, 310, 0, 140),\n+ (1203590, 2010003, 100, 0, 144),\n+ (1203590, 2010001, 106, 0, 148),\n+ (1203590, 2010002, 50, 0, 152),\n+ (1203590, 2010000, 30, 0, 156),\n+ (1203590, 2002005, 500, 0, 160),\n+ (1203590, 2002004, 500, 0, 164),\n+ (1203590, 2002002, 500, 0, 168),\n+ (1203590, 2002001, 400, 0, 172),\n+ (1203590, 2002000, 500, 0, 176),\n+ (1203590, 2000006, 620, 0, 180),\n+ (1203590, 2000003, 200, 0, 184),\n+ (1203590, 2000002, 320, 0, 188),\n+ (1203590, 2000001, 160, 0, 192),\n+ (1203590, 2000000, 50, 0, 196);\n\\ No newline at end of file"}, {"sha": "ec7b35e8bb04b11f929ec00d4ddba6d4c3ae8083", "filename": "src/client/MapleCharacter.java", "status": "modified", "additions": 49, "deletions": 29, "changes": 78, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/src/client/MapleCharacter.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/src/client/MapleCharacter.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleCharacter.java?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -84,7 +84,7 @@\n import server.life.MapleMonster;\n import server.life.MobSkill;\n import server.maps.AbstractAnimatedMapleMapObject;\n-import server.maps.HiredMerchant;\n+import server.maps.MapleHiredMerchant;\n import server.maps.MapleDoor;\n import server.maps.MapleDragon;\n import server.maps.MapleMap;\n@@ -152,6 +152,7 @@\n \n public class MapleCharacter extends AbstractAnimatedMapleMapObject {\n     private static NumberFormat nf = new DecimalFormat(\"#,###,###,###\");\n+    private static MapleItemInformationProvider ii = MapleItemInformationProvider.getInstance();\n     private static final String LEVEL_200 = \"[Congrats] %s has reached Level 200! Congratulate %s on such an amazing achievement!\";\n     private static final String[] BLOCKED_NAMES = {\"admin\", \"owner\", \"moderator\", \"intern\", \"donor\", \"administrator\", \"help\", \"helper\", \"alert\", \"notice\", \"maplestory\", \"Solaxia\", \"fuck\", \"wizet\", \"fucking\", \"negro\", \"fuk\", \"fuc\", \"penis\", \"pussy\", \"asshole\", \"gay\",\n         \"nigger\", \"homo\", \"suck\", \"cum\", \"shit\", \"shitty\", \"condom\", \"security\", \"official\", \"rape\", \"nigga\", \"sex\", \"tit\", \"boner\", \"orgy\", \"clit\", \"asshole\", \"fatass\", \"bitch\", \"support\", \"gamemaster\", \"cock\", \"gaay\", \"gm\",\n@@ -190,6 +191,7 @@\n     private int warpToId;\n     private int expRate = 1, mesoRate = 1, dropRate = 1, expCoupon = 1, mesoCoupon = 1, dropCoupon = 1;\n     private int omokwins, omokties, omoklosses, matchcardwins, matchcardties, matchcardlosses;\n+    private int owlSearch;\n     private int married;\n     private long lastfametime, lastUsedCashItem, lastHealed, lastMesoDrop = -1, jailExpiration = -1;\n     private transient int localmaxhp, localmaxmp, localstr, localdex, localluk, localint_, magic, watk;\n@@ -208,7 +210,7 @@\n     private int merchantmeso;\n     private BuddyList buddylist;\n     private EventInstanceManager eventInstance = null;\n-    private HiredMerchant hiredMerchant = null;\n+    private MapleHiredMerchant hiredMerchant = null;\n     private MapleClient client;\n     private MapleGuildCharacter mgc = null;\n     private MaplePartyCharacter mpc = null;\n@@ -427,6 +429,14 @@ public long getNpcCooldown() {\n     public void setNpcCooldown(long d) {\n         npcCd = d;\n     }\n+    \n+    public void setOwlSearch(int id) {\n+        owlSearch = id;\n+    }\n+    \n+    public int getOwlSearch() {\n+        return owlSearch;\n+    }\n \n     public void addCooldown(int skillId, long startTime, long length) {\n         effLock.lock();\n@@ -699,7 +709,7 @@ public int calculateMaxBaseDamage(int watk) {\n         int maxbasedamage;\n         Item weapon_item = getInventory(MapleInventoryType.EQUIPPED).getItem((short) -11);\n         if (weapon_item != null) {\n-            MapleWeaponType weapon = MapleItemInformationProvider.getInstance().getWeaponType(weapon_item.getItemId());\n+            MapleWeaponType weapon = ii.getWeaponType(weapon_item.getItemId());\n             int mainstat, secondarystat;\n             if (getJob().isA(MapleJob.THIEF) && weapon == MapleWeaponType.DAGGER_OTHER) {\n                 weapon = MapleWeaponType.DAGGER_THIEVES;\n@@ -787,7 +797,7 @@ public String getMedalText() {\n         String medal = \"\";\n         final Item medalItem = getInventory(MapleInventoryType.EQUIPPED).getItem((short) -49);\n         if (medalItem != null) {\n-            medal = \"<\" + MapleItemInformationProvider.getInstance().getName(medalItem.getItemId()) + \"> \";\n+            medal = \"<\" + ii.getName(medalItem.getItemId()) + \"> \";\n         }\n         return medal;\n     }\n@@ -1342,7 +1352,6 @@ public void controlMonster(MapleMonster monster, boolean aggro) {\n     \n     private static boolean useItem(final MapleClient c, final int id) {\n         if (id / 1000000 == 2) {\n-            MapleItemInformationProvider ii = MapleItemInformationProvider.getInstance();\n             if (ii.isConsumeOnPickup(id)) {\n                 if (ItemConstants.isPartyItem(id)) {\n                     List<MapleCharacter> pchr = c.getPlayer().getPartyMembersOnSameMap();\n@@ -1396,7 +1405,7 @@ public final void pickupItem(MapleMapObject ob, int petIndex) {     // yes, one\n             final byte[] pickupPacket = MaplePacketCreator.removeItemFromMap(mapitem.getObjectId(), (isPet) ? 5 : 2, this.getId(), isPet, petIndex);\n             \n             boolean hasSpaceInventory = true;\n-            if (mapitem.getItemId() == 4031865 || mapitem.getItemId() == 4031866 || mapitem.getMeso() > 0 || MapleItemInformationProvider.getInstance().isConsumeOnPickup(mapitem.getItemId()) || (hasSpaceInventory = MapleInventoryManipulator.checkSpace(client, mapitem.getItemId(), mapitem.getItem().getQuantity(), mapitem.getItem().getOwner()))) {\n+            if (mapitem.getItemId() == 4031865 || mapitem.getItemId() == 4031866 || mapitem.getMeso() > 0 || ii.isConsumeOnPickup(mapitem.getItemId()) || (hasSpaceInventory = MapleInventoryManipulator.checkSpace(client, mapitem.getItemId(), mapitem.getItem().getQuantity(), mapitem.getItem().getOwner()))) {\n                 if ((this.getMapId() > 209000000 && this.getMapId() < 209000016) || (this.getMapId() >= 990000500 && this.getMapId() <= 990000502)) {//happyville trees and guild PQ\n                     if (!mapitem.isPlayerDrop() || mapitem.getDropper().getObjectId() == client.getPlayer().getObjectId()) {\n                         if(mapitem.getMeso() > 0) {\n@@ -1460,7 +1469,6 @@ public final void pickupItem(MapleMapObject ob, int petIndex) {     // yes, one\n                             this.gainMeso(mapitem.getMeso(), true, true, false);\n                         }\n                     } else if (mapitem.getItem().getItemId() / 10000 == 243) {\n-                        MapleItemInformationProvider ii = MapleItemInformationProvider.getInstance();\n                         MapleItemInformationProvider.scriptedItem info = ii.getScriptedItemInfo(mapitem.getItem().getItemId());\n                         if (info.runOnPickup()) {\n                             ItemScriptManager ism = ItemScriptManager.getInstance();\n@@ -1504,20 +1512,22 @@ public final void pickupItem(MapleMapObject ob, int petIndex) {     // yes, one\n     }\n \n     public int countItem(int itemid) {\n-        return inventory[MapleItemInformationProvider.getInstance().getInventoryType(itemid).ordinal()].countById(itemid);\n+        return inventory[ii.getInventoryType(itemid).ordinal()].countById(itemid);\n     }\n     \n     public boolean canHold(int itemid) {\n         return canHold(itemid, 1);\n     }\n         \n     public boolean canHold(int itemid, int quantity) {\n-        if(haveItem(itemid)) {\n-            if(getItemQuantity(itemid, false) + quantity <= MapleItemInformationProvider.getInstance().getSlotMax(client, itemid))\n+        int hold = getCleanItemQuantity(itemid, false);\n+        \n+        if(hold > 0) {\n+            if(hold + quantity <= ii.getSlotMax(client, itemid))\n                 return true;\n         }\n \n-        return getInventory(MapleItemInformationProvider.getInstance().getInventoryType(itemid)).getNextFreeSlot() > -1;\n+        return getInventory(ii.getInventoryType(itemid)).getNextFreeSlot() > -1;\n     }\n \n     public void decreaseBattleshipHp(int decrease) {\n@@ -2824,7 +2834,7 @@ private void dropBuffStats(List<Pair<MapleBuffStat, MapleBuffStatValueHolder>> e\n     }\n     \n     public void cancelEffect(int itemId) {\n-        cancelEffect(MapleItemInformationProvider.getInstance().getItemEffect(itemId), false, -1);\n+        cancelEffect(ii.getItemEffect(itemId), false, -1);\n     }\n \n     public void cancelEffect(MapleStatEffect effect, boolean overwrite, long startTime) {\n@@ -3534,7 +3544,7 @@ public int getHair() {\n         return hair;\n     }\n \n-    public HiredMerchant getHiredMerchant() {\n+    public MapleHiredMerchant getHiredMerchant() {\n         return hiredMerchant;\n     }\n \n@@ -3640,12 +3650,20 @@ public int getItemEffect() {\n     }\n \n     public int getItemQuantity(int itemid, boolean checkEquipped) {\n-        int possesed = inventory[MapleItemInformationProvider.getInstance().getInventoryType(itemid).ordinal()].countById(itemid);\n+        int possesed = inventory[ii.getInventoryType(itemid).ordinal()].countById(itemid);\n         if (checkEquipped) {\n             possesed += inventory[MapleInventoryType.EQUIPPED.ordinal()].countById(itemid);\n         }\n         return possesed;\n     }\n+    \n+    public int getCleanItemQuantity(int itemid, boolean checkEquipped) {\n+        int possesed = inventory[ii.getInventoryType(itemid).ordinal()].countCleanById(itemid);\n+        if (checkEquipped) {\n+            possesed += inventory[MapleInventoryType.EQUIPPED.ordinal()].countCleanById(itemid);\n+        }\n+        return possesed;\n+    }\n \n     public MapleJob getJob() {\n         return job;\n@@ -3967,6 +3985,9 @@ public void closePlayerShop() {\n         if(mps == null) return;\n         \n         if (mps.isOwner(this)) {\n+            mps.setOpen(false);\n+            client.getWorldServer().unregisterPlayerShop(mps);\n+            \n             for (MaplePlayerShopItem mpsi : mps.getItems()) {\n                 if (mpsi.getBundles() >= 2) {\n                     Item iItem = mpsi.getItem().copy();\n@@ -3976,8 +3997,7 @@ public void closePlayerShop() {\n                     MapleInventoryManipulator.addFromDrop(this.getClient(), mpsi.getItem(), true);\n                 }\n             }\n-            this.getMap().broadcastMessage(MaplePacketCreator.removeCharBox(this));\n-            mps.removeVisitors();\n+            mps.closeShop();\n         } else {\n             mps.removeVisitor(this);\n         }\n@@ -3998,7 +4018,7 @@ public void closeMiniGame() {\n     }\n     \n     public void closeHiredMerchant(boolean closeMerchant) {\n-        HiredMerchant merchant = this.getHiredMerchant();\n+        MapleHiredMerchant merchant = this.getHiredMerchant();\n         if(merchant == null) return;\n         \n         if(closeMerchant) {\n@@ -4488,8 +4508,12 @@ public boolean haveItem(int itemid) {\n         return getItemQuantity(itemid, false) > 0;\n     }\n     \n+    public boolean haveCleanItem(int itemid) {\n+        return getCleanItemQuantity(itemid, false) > 0;\n+    }\n+    \n     public boolean hasEmptySlot(int itemId) {\n-        return getInventory(MapleItemInformationProvider.getInstance().getInventoryType(itemId)).getNextFreeSlot() > -1;\n+        return getInventory(ii.getInventoryType(itemId)).getNextFreeSlot() > -1;\n     }\n     \n     public boolean hasEmptySlot(byte invType) {\n@@ -4983,7 +5007,7 @@ private void setActiveCoupons() {\n     private void commitBuffCoupon(int couponid) {\n         if(!isLoggedin() || getCashShop().isOpened()) return;\n         \n-        MapleStatEffect mse = MapleItemInformationProvider.getInstance().getItemEffect(couponid);\n+        MapleStatEffect mse = ii.getItemEffect(couponid);\n         mse.applyTo(this);\n     }\n     \n@@ -5536,7 +5560,7 @@ private void playerDead() {\n         }\n         if (possesed > 0) {\n             message(\"You have used a safety charm, so your EXP points have not been decreased.\");\n-            MapleInventoryManipulator.removeById(client, MapleItemInformationProvider.getInstance().getInventoryType(charmID[i]), charmID[i], 1, true, false);\n+            MapleInventoryManipulator.removeById(client, ii.getInventoryType(charmID[i]), charmID[i], 1, true, false);\n         } else if (mapid > 925020000 && mapid < 925030000) {\n             this.dojoStage = 0;\n         } else if (mapid > 980000100 && mapid < 980000700) {\n@@ -5686,7 +5710,7 @@ private void recalcLocalStats() {\n         if (job.isA(MapleJob.THIEF) || job.isA(MapleJob.BOWMAN) || job.isA(MapleJob.PIRATE) || job.isA(MapleJob.NIGHTWALKER1) || job.isA(MapleJob.WINDARCHER1)) {\n             Item weapon_item = getInventory(MapleInventoryType.EQUIPPED).getItem((short) -11);\n             if (weapon_item != null) {\n-                MapleWeaponType weapon = MapleItemInformationProvider.getInstance().getWeaponType(weapon_item.getItemId());\n+                MapleWeaponType weapon = ii.getWeaponType(weapon_item.getItemId());\n                 boolean bow = weapon == MapleWeaponType.BOW;\n                 boolean crossbow = weapon == MapleWeaponType.CROSSBOW;\n                 boolean claw = weapon == MapleWeaponType.CLAW;\n@@ -5700,7 +5724,7 @@ private void recalcLocalStats() {\n                             if ((claw && ItemConstants.isThrowingStar(item.getItemId())) || (gun && ItemConstants.isBullet(item.getItemId())) || (bow && ItemConstants.isArrowForBow(item.getItemId())) || (crossbow && ItemConstants.isArrowForCrossBow(item.getItemId()))) {\n                                 if (item.getQuantity() > 0) {\n                                     // Finally there!\n-                                    watk += MapleItemInformationProvider.getInstance().getWatkForProjectile(item.getItemId());\n+                                    watk += ii.getWatkForProjectile(item.getItemId());\n                                     break;\n                                 }\n                             }\n@@ -6543,7 +6567,6 @@ public void addMerchantMesos(int add) {\n         \n         try {\n             newAmount = (int)Math.min((long)merchantmeso + add, Integer.MAX_VALUE);\n-            System.out.println(\"adding\" + add + \" now\" + newAmount);\n             \n             Connection con = DatabaseConnection.getConnection();\n             try (PreparedStatement ps = con.prepareStatement(\"UPDATE characters SET MerchantMesos = ? WHERE id = ?\", Statement.RETURN_GENERATED_KEYS)) {\n@@ -6576,7 +6599,7 @@ public void setMerchantMeso(int set) {\n         merchantmeso = set;\n     }\n \n-    public void setHiredMerchant(HiredMerchant merchant) {\n+    public void setHiredMerchant(MapleHiredMerchant merchant) {\n         this.hiredMerchant = merchant;\n     }\n \n@@ -6822,7 +6845,6 @@ public boolean gainSlots(int type, int slots, boolean update) {\n     public int sellAllItemsFromName(byte invTypeId, String name) {\n         //player decides from which inventory items should be sold.\n         \n-        MapleItemInformationProvider ii = MapleItemInformationProvider.getInstance();\n         MapleInventoryType type = MapleInventoryType.getByType(invTypeId);\n         \n         Item it = getInventory(type).findByName(name);\n@@ -7539,10 +7561,9 @@ public void unequipPendantOfSpirit() {\n     public void increaseEquipExp(int expGain) {\n         if(expGain < 0) expGain = Integer.MAX_VALUE;\n         \n-        MapleItemInformationProvider mii = MapleItemInformationProvider.getInstance();\n         for (Item item : getInventory(MapleInventoryType.EQUIPPED).list()) {\n             Equip nEquip = (Equip) item;\n-            String itemName = mii.getName(nEquip.getItemId());\n+            String itemName = ii.getName(nEquip.getItemId());\n             if (itemName == null) {\n                 continue;\n             }\n@@ -7554,12 +7575,11 @@ public void increaseEquipExp(int expGain) {\n     }\n     \n     public void showAllEquipFeatures() {\n-        MapleItemInformationProvider mii = MapleItemInformationProvider.getInstance();\n         String showMsg = \"\";\n         \n         for (Item item : getInventory(MapleInventoryType.EQUIPPED).list()) {\n             Equip nEquip = (Equip) item;\n-            String itemName = mii.getName(nEquip.getItemId());\n+            String itemName = ii.getName(nEquip.getItemId());\n             if (itemName == null) {\n                 continue;\n             }"}, {"sha": "160995bfe5c532bf120c6651c932f0f6109fc9eb", "filename": "src/client/MapleClient.java", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/src/client/MapleClient.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/src/client/MapleClient.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/MapleClient.java?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -68,8 +68,6 @@\n import scripting.npc.NPCScriptManager;\n import scripting.quest.QuestActionManager;\n import scripting.quest.QuestScriptManager;\n-import server.MapleMiniGame;\n-import server.MaplePlayerShop;\n import server.life.MapleMonster;\n import server.MapleTrade;\n import server.TimerManager;\n@@ -1298,7 +1296,7 @@ public void changeChannel(int channel) {\n \t\t\tMapleTrade.cancelTrade(getPlayer());\n \t\t}\n \n-\t\tHiredMerchant merchant = player.getHiredMerchant();\n+\t\tMapleHiredMerchant merchant = player.getHiredMerchant();\n \t\tif (merchant != null) {\n \t\t\tif (merchant.isOwner(getPlayer())) {\n \t\t\t\tmerchant.setOpen(true);"}, {"sha": "145d4b1b23ac55f278fd588ef1697c9727e40569", "filename": "src/client/command/Commands.java", "status": "modified", "additions": 35, "deletions": 3, "changes": 38, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/src/client/command/Commands.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/src/client/command/Commands.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/command/Commands.java?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -1413,7 +1413,31 @@ public static boolean executeSolaxiaCommandLv3(Channel cserv, Server srv, MapleC\n                 MapleCharacter player = c.getPlayer();\n                 MapleCharacter victim;\n             \n-                switch(sub[0]) {    \n+                switch(sub[0]) {\n+                case \"fly\":\n+                        if (sub.length < 2) {\n+\t\t\t\tplayer.yellowMessage(\"Syntax: !fly <on/off>\");\n+\t\t\t\tbreak;\n+\t\t\t}\n+                        \n+                        Integer accid = c.getAccID();\n+                        \n+                        String sendStr = \"\";\n+                        if(sub[1].equalsIgnoreCase(\"on\")) {\n+                                sendStr += \"GM Fly feature enabled. With fly active, GM's cannot attack.\";\n+                                if(!srv.canFly(accid)) sendStr += \" Re-login to take effect.\";\n+                            \n+                                srv.changeFly(c.getAccID(), true);\n+                        } else {\n+                                player.dropMessage(6, \"GM Fly feature disabled. GM's can now attack.\");\n+                                if(srv.canFly(accid)) sendStr += \" Re-login to take effect.\";\n+                                \n+                                srv.changeFly(c.getAccID(), false);\n+                        }\n+                        \n+                        player.dropMessage(6, sendStr);\n+                break;\n+                    \n \t\tcase \"spawn\":\n                         if (sub.length < 2) {\n \t\t\t\tplayer.yellowMessage(\"Syntax: !spawn <mobid>\");\n@@ -1592,12 +1616,12 @@ public static boolean executeSolaxiaCommandLv3(Channel cserv, Server srv, MapleC\n \t\t\tServer.getInstance().broadcastGMMessage(MaplePacketCreator.serverNotice(5, message_));\n                     break;\n                     \n-\t\t case \"ignored\":\n+\t\tcase \"ignored\":\n \t\t\tfor (String ign : MapleLogger.ignored){\n \t\t\t\tplayer.yellowMessage(ign + \" is being ignored.\");\n \t\t\t}\n                     break;\n-                     \n+                    \n \t\tcase \"pos\":\n \t\t\tfloat xpos = player.getPosition().x;\n \t\t\tfloat ypos = player.getPosition().y;\n@@ -2552,6 +2576,14 @@ public static boolean executeSolaxiaCommandLv6(Channel cserv, Server srv, MapleC\n \t\t\tplayer.dropMessage(5, \"Quest Cache for quest \" + sub[1] + \" cleared.\");\n \t\t\tbreak;\n                             \n+                case \"fred\":\n+                        c.announce(MaplePacketCreator.fredrickMessage(Byte.valueOf(sub[1])));\n+                        break;\n+                    \n+                case \"owl\":\n+                        c.announce(MaplePacketCreator.getOwlMessage(Integer.valueOf(sub[1])));\n+                        break;\n+                    \n                 default:\n                         return false;\n                 }"}, {"sha": "e334b76157a4699c3c9979ef8eb65f2c78431dd7", "filename": "src/client/inventory/MapleInventory.java", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/src/client/inventory/MapleInventory.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/src/client/inventory/MapleInventory.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/client/inventory/MapleInventory.java?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -128,6 +128,16 @@ public int countById(int itemId) {\n         return qty;\n     }\n     \n+    public int countCleanById(int itemId) {\n+        int qty = 0;\n+        for (Item item : list()) {\n+            if (item.getItemId() == itemId && item.getOwner().equals(\"\")) {\n+                qty += item.getQuantity();\n+            }\n+        }\n+        return qty;\n+    }\n+    \n     public int freeSlotCountById(int itemId, int required) {\n         List<Item> itemList = listById(itemId);\n         int openSlot = 0;\n@@ -297,6 +307,7 @@ public boolean isFull() {\n     public boolean isFull(int margin) {\n         lock.lock();\n         try {\n+            //System.out.print(\"(\" + inventory.size() + \" \" + margin + \" <> \" + slotLimit + \")\");\n             return inventory.size() + margin >= slotLimit;\n         } finally {\n             lock.unlock();\n@@ -306,6 +317,7 @@ public boolean isFull(int margin) {\n     public boolean isFullAfterSomeItems(int margin, int used) {\n         lock.lock();\n         try {\n+            //System.out.print(\"(\" + inventory.size() + \" \" + margin + \" <> \" + slotLimit + \" -\" + used + \")\");\n             return inventory.size() + margin >= slotLimit - used;\n         } finally {\n             lock.unlock();\n@@ -445,8 +457,12 @@ public static boolean checkSpotsAndOwnership(MapleCharacter chr, List<Pair<Item,\n                 int usedSlots = typesSlotsUsed.get(itemType);\n                 \n                 Long itemId = it.getKey() >> 32L;\n+                \n+                //System.out.print(\"inserting \" + itemId.intValue() + \" with type \" + itemType + \" qty \" + it.getValue() + \" owner '\" + rcvOwners.get(it.getKey()) + \"' current usedSlots:\");\n+                //for(Integer i : typesSlotsUsed) System.out.print(\" \" + i);\n                 int result = MapleInventoryManipulator.checkSpaceProgressively(c, itemId.intValue(), it.getValue(), rcvOwners.get(it.getKey()), usedSlots);\n                 boolean hasSpace = ((result % 2) != 0);\n+                //System.out.print(\" -> hasSpace: \" + hasSpace + \" RESULT : \" + result + \"\\n\");\n                 \n                 if(!hasSpace) return false;\n                 typesSlotsUsed.set(itemType, (result >> 1));"}, {"sha": "d2d7974c964f32b1101d51faf7188e722e3cdc8a", "filename": "src/constants/GameConstants.java", "status": "modified", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/src/constants/GameConstants.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/src/constants/GameConstants.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/constants/GameConstants.java?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -2,11 +2,17 @@\n \n import client.MapleJob;\n import constants.skills.Aran;\n+import server.maps.MapleMap;\n+import server.maps.FieldLimit;\n \n /*\n  * @author kevintjuh93\n+ * @author Ronan\n  */\n public class GameConstants {\n+    //public static final int[] OWL_DATA = {2000014, 2000015, 2000016};\n+    public static final int[] OWL_DATA = new int[]{1082002, 2070005, 2070006, 1022047, 1102041, 2044705, 2340000, 2040017, 1092030, 2040804};\n+    \n     // Ronan's rates upgrade system\n     private static final int[] DROP_RATE_GAIN = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14};\n     private static final int[] MESO_RATE_GAIN = {1, 3, 6, 10, 15, 21, 28, 36, 45, 55, 66, 78, 91, 105};\n@@ -137,6 +143,23 @@ public static boolean isGMSkills(final int skill) {\n     \treturn skill >= 9001000 && skill <= 9101008 || skill >= 8001000 && skill <= 8001001; \n     }\n     \n+    public static boolean isFreeMarketRoom(int mapid) {\n+        return mapid > 910000000 && mapid < 910000023;\n+    }\n+    \n+    public static boolean isMerchantLocked(MapleMap map) {\n+        if(FieldLimit.CANNOTMIGRATE.check(map.getFieldLimit())) {   // maps that cannot access cash shop cannot access merchants too (except FM rooms).\n+            return true;\n+        }\n+        \n+        switch(map.getId()) {\n+            case 910000000:\n+                return true;\n+        }\n+        \n+        return false;\n+    }\n+    \n     public static boolean isBossRush(int mapid) {\n         return mapid >= 970030100 && mapid <= 970042711;\n     }"}, {"sha": "4f000c96d79329f19a31d481eef8c39826d52a2b", "filename": "src/constants/ServerConstants.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/src/constants/ServerConstants.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/src/constants/ServerConstants.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/constants/ServerConstants.java?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -43,13 +43,13 @@\n     public static final boolean USE_ITEM_SORT = true;\n     public static final boolean USE_ITEM_SORT_BY_NAME = false;      //Item sorting based on name rather than id.\n     public static final boolean USE_PARTY_SEARCH = false;\n-    public static final boolean USE_MERCHANT_ANYWHERE = true;       //Enables player shops and hired merchants outside FM rooms (except FM entrance).\n     public static final boolean USE_AUTOBAN = false;                //Commands the server to detect infractors automatically.\n     public static final boolean USE_AUTOSAVE = true;                //Enables server autosaving feature (saves characters to DB each 1 hour).\n     public static final boolean USE_SERVER_AUTOASSIGNER = true;     //Server-builtin autoassigner, uses algorithm based on distributing AP accordingly with required secondary stat on equipments.\n     public static final boolean USE_REFRESH_RANK_MOVE = true;\n     public static final boolean USE_ENFORCE_UNMERCHABLE_PET = true; //Forces players to not sell pets via merchants. (since non-named pets gets dirty name and other possible DB-related issues)\n     public static final boolean USE_ENFORCE_MDOOR_POSITION = true;  //Forces mystic door to be spawned near spawnpoints. (since things bugs out other way, and this helps players to locate the door faster)\n+    public static final boolean USE_ERASE_PERMIT_ON_OPENSHOP = true;//Forces \"shop permit\" item to be consumed when player deploy his/her player shop.\n     public static final boolean USE_ERASE_UNTRADEABLE_DROP = true;  //Forces flagged untradeable items to disappear when dropped.\n     public static final boolean USE_ERASE_PET_ON_EXPIRATION = false;//Forces pets to be removed from inventory when expire time comes, rather than converting it to a doll.\n     public static final boolean USE_BUFF_MOST_SIGNIFICANT = true;   //When applying buffs, the player will stick with the highest stat boost among the listed, rather than overwriting stats."}, {"sha": "d3eab38f7bd228dae5c892a62b3c12b8fb299d9f", "filename": "src/net/PacketProcessor.java", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/PacketProcessor.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/PacketProcessor.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/PacketProcessor.java?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -147,7 +147,7 @@ public void reset(int channel) {\n             registerHandler(RecvOpcode.USE_ITEM, new UseItemHandler());\n             registerHandler(RecvOpcode.USE_RETURN_SCROLL, new UseItemHandler());\n             registerHandler(RecvOpcode.USE_UPGRADE_SCROLL, new ScrollHandler());\n-            registerHandler(RecvOpcode.USE_SUMMON_BAG, new UseSummonBag());\n+            registerHandler(RecvOpcode.USE_SUMMON_BAG, new UseSummonBagHandler());\n             registerHandler(RecvOpcode.FACE_EXPRESSION, new FaceExpressionHandler());\n             registerHandler(RecvOpcode.HEAL_OVER_TIME, new HealOvertimeHandler());\n             registerHandler(RecvOpcode.ITEM_PICKUP, new ItemPickupHandler());\n@@ -182,7 +182,7 @@ public void reset(int channel) {\n             registerHandler(RecvOpcode.BBS_OPERATION, new BBSOperationHandler());\n             registerHandler(RecvOpcode.SKILL_EFFECT, new SkillEffectHandler());\n             registerHandler(RecvOpcode.MESSENGER, new MessengerHandler());\n-            registerHandler(RecvOpcode.NPC_ACTION, new NPCAnimation());\n+            registerHandler(RecvOpcode.NPC_ACTION, new NPCAnimationHandler());\n             registerHandler(RecvOpcode.CHECK_CASH, new TouchingCashShopHandler());\n             registerHandler(RecvOpcode.CASHSHOP_OPERATION, new CashOperationHandler());\n             registerHandler(RecvOpcode.COUPON_CODE, new CouponCodeHandler());\n@@ -205,6 +205,8 @@ public void reset(int channel) {\n             registerHandler(RecvOpcode.SPOUSE_CHAT, new SpouseChatHandler());\n             registerHandler(RecvOpcode.PET_AUTO_POT, new PetAutoPotHandler());\n             registerHandler(RecvOpcode.PET_EXCLUDE_ITEMS, new PetExcludeItemsHandler());\n+            registerHandler(RecvOpcode.OWL_ACTION, new UseOwlOfMinervaHandler());\n+            registerHandler(RecvOpcode.OWL_WARP, new OwlWarpHandler());\n             registerHandler(RecvOpcode.TOUCH_MONSTER_ATTACK, new TouchMonsterDamageHandler());\n             registerHandler(RecvOpcode.TROCK_ADD_MAP, new TrockAddMapHandler());\n             registerHandler(RecvOpcode.HIRED_MERCHANT_REQUEST, new HiredMerchantRequest());"}, {"sha": "5f5a2dbc7a028eb4488324945b06eb7637590491", "filename": "src/net/RecvOpcode.java", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/RecvOpcode.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/RecvOpcode.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/RecvOpcode.java?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -76,7 +76,9 @@\n     HIRED_MERCHANT_REQUEST(0x3F),\n     FREDRICK_ACTION(0x40),\n     DUEY_ACTION(0x41),\n-    ADMIN_SHOP(0x44),//oh lol\n+    OWL_ACTION(0x42),   //sends most searched info to client\n+    OWL_WARP(0x43),     //handles player warp to store\n+    ADMIN_SHOP(0x44),\n     ITEM_SORT(0x45),\n     ITEM_SORT2(0x46),\n     ITEM_MOVE(0x47),\n@@ -87,7 +89,7 @@\n     USE_MOUNT_FOOD(0x4D),\n     SCRIPTED_ITEM(0x4E),\n     USE_CASH_ITEM(0x4F),\n-\n+    //USE_OWL_ITEM(0x50), ... no idea\n     USE_CATCH_ITEM(0x51),\n     USE_SKILL_BOOK(0x52),\n     USE_TELEPORT_ROCK(0x54),"}, {"sha": "4dedeb53d07a9cbc7384fd7938cd876104ae94fe", "filename": "src/net/server/Server.java", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/server/Server.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/server/Server.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/Server.java?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -71,6 +71,7 @@\n import server.quest.MapleQuest;\n \n public class Server implements Runnable {\n+    private static final Set<Integer> activeFly = new HashSet<>();\n     private static final Map<Integer, Integer> couponRates = new LinkedHashMap<>();\n     private static final List<Integer> activeCoupons = new LinkedList<>();\n     \n@@ -699,6 +700,18 @@ public boolean isGmOnline() {\n         return false;\n     }\n     \n+    public void changeFly(Integer accountid, boolean canFly) {\n+        if(canFly) {\n+            activeFly.add(accountid);\n+        } else {\n+            activeFly.remove(accountid);\n+        }\n+    }\n+    \n+    public boolean canFly(Integer accountid) {\n+        return activeFly.contains(accountid);\n+    }\n+    \n     public World getWorld(int id) {\n         return worlds.get(id);\n     }"}, {"sha": "1c13eb0cf3a05ed70da723859080580d6032d082", "filename": "src/net/server/channel/Channel.java", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/server/channel/Channel.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/server/channel/Channel.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/Channel.java?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -57,7 +57,7 @@\n import server.events.gm.MapleEvent;\n import server.expeditions.MapleExpedition;\n import server.expeditions.MapleExpeditionType;\n-import server.maps.HiredMerchant;\n+import server.maps.MapleHiredMerchant;\n import server.maps.MapleMap;\n import server.maps.MapleMapFactory;\n import tools.MaplePacketCreator;\n@@ -73,7 +73,7 @@\n     private String ip, serverMessage;\n     private MapleMapFactory mapFactory;\n     private EventScriptManager eventSM;\n-    private Map<Integer, HiredMerchant> hiredMerchants = new HashMap<>();\n+    private Map<Integer, MapleHiredMerchant> hiredMerchants = new HashMap<>();\n     private final Map<Integer, Integer> storedVars = new HashMap<>();\n     private ReentrantReadWriteLock merchant_lock = new ReentrantReadWriteLock(true);\n     private ReadLock merchRlock = merchant_lock.readLock();\n@@ -152,7 +152,7 @@ public final void shutdown() {\n     public void closeAllMerchants() {\n         merchWlock.lock();\n         try {\n-            final Iterator<HiredMerchant> hmit = hiredMerchants.values().iterator();\n+            final Iterator<MapleHiredMerchant> hmit = hiredMerchants.values().iterator();\n             while (hmit.hasNext()) {\n                 hmit.next().forceClose();\n                 hmit.remove();\n@@ -246,7 +246,7 @@ public void run() {\n         }\n     }\n \n-    public Map<Integer, HiredMerchant> getHiredMerchants() {\n+    public Map<Integer, MapleHiredMerchant> getHiredMerchants() {\n         merchRlock.lock();\n         try {\n             return Collections.unmodifiableMap(hiredMerchants);\n@@ -255,7 +255,7 @@ public void run() {\n         }\n     }\n \n-    public void addHiredMerchant(int chrid, HiredMerchant hm) {\n+    public void addHiredMerchant(int chrid, MapleHiredMerchant hm) {\n         merchWlock.lock();\n         try {\n             hiredMerchants.put(chrid, hm);"}, {"sha": "cbc983c36bbaa37fb3b358cc9efabdd2ce06bac6", "filename": "src/net/server/channel/handlers/FredrickHandler.java", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/server/channel/handlers/FredrickHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/server/channel/handlers/FredrickHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/FredrickHandler.java?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -75,7 +75,7 @@ public void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n                             Item item = items.get(i).getLeft();\n                             MapleInventoryManipulator.addFromDrop(c, item, false);\n                             String itemName = MapleItemInformationProvider.getInstance().getName(item.getItemId());\n-                            FilePrinter.printError(FilePrinter.FREDRICK + chr.getName() + \".txt\", chr.getName() + \" gained \" + item.getQuantity() + \" \" + itemName + \" (\" + item.getItemId() + \")\\r\\n\");\n+                            FilePrinter.print(FilePrinter.FREDRICK + chr.getName() + \".txt\", chr.getName() + \" gained \" + item.getQuantity() + \" \" + itemName + \" (\" + item.getItemId() + \")\\r\\n\");\n                         }\n                         c.announce(MaplePacketCreator.fredrickMessage((byte) 0x1E));\n                         \n@@ -97,12 +97,7 @@ private static boolean check(MapleCharacter chr, List<Pair<Item, MapleInventoryT\n         if (chr.getMeso() + chr.getMerchantMeso() < 0) {\n             return false;\n         }\n-        \n-        if (!MapleInventory.checkSpots(chr, items)) {\n-        \treturn false;\n-        }\n-        \n-        return true;\n+        return MapleInventory.checkSpotsAndOwnership(chr, items);\n     }\n \n     private static boolean deleteItems(MapleCharacter chr) {"}, {"sha": "368d829aa146f814507099afb22220d305f9caa2", "filename": "src/net/server/channel/handlers/HiredMerchantRequest.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/server/channel/handlers/HiredMerchantRequest.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/server/channel/handlers/HiredMerchantRequest.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/HiredMerchantRequest.java?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -26,7 +26,7 @@\n import java.sql.SQLException;\n import java.util.Arrays;\n import client.MapleClient;\n-import constants.ServerConstants;\n+import constants.GameConstants;\n import net.AbstractMaplePacketHandler;\n import server.maps.MapleMapObjectType;\n import tools.MaplePacketCreator;\n@@ -39,7 +39,7 @@\n public final class HiredMerchantRequest extends AbstractMaplePacketHandler {\n     public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n         MapleCharacter chr = c.getPlayer();\n-        if (chr.getMap().getMapObjectsInRange(chr.getPosition(), 23000, Arrays.asList(MapleMapObjectType.HIRED_MERCHANT)).isEmpty() && ((ServerConstants.USE_MERCHANT_ANYWHERE && chr.getMapId() != 910000000) || (chr.getMapId() > 910000000 && chr.getMapId() < 910000023))) {\n+        if (chr.getMap().getMapObjectsInRange(chr.getPosition(), 23000, Arrays.asList(MapleMapObjectType.HIRED_MERCHANT)).isEmpty() && (GameConstants.isFreeMarketRoom(chr.getMapId()))) {\n             if (!chr.hasMerchant()) {\n                 try {\n                     if (ItemFactory.MERCHANT.loadItems(chr.getId(), false).isEmpty() && chr.getMerchantMeso() == 0) {"}, {"sha": "30d569709c492f1144d3e387ebeaabb022081c87", "filename": "src/net/server/channel/handlers/NPCAnimationHandler.java", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/server/channel/handlers/NPCAnimationHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/server/channel/handlers/NPCAnimationHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/NPCAnimationHandler.java?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -27,7 +27,7 @@\n import tools.data.input.SeekableLittleEndianAccessor;\n import tools.data.output.MaplePacketLittleEndianWriter;\n \n-public final class NPCAnimation extends AbstractMaplePacketHandler {\n+public final class NPCAnimationHandler extends AbstractMaplePacketHandler {\n     public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n         MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n         int length = (int) slea.available();", "previous_filename": "src/net/server/channel/handlers/NPCAnimation.java"}, {"sha": "3687fe5c589606a2facd3fe53d42a6e9a82e930b", "filename": "src/net/server/channel/handlers/OwlWarpHandler.java", "status": "added", "additions": 106, "deletions": 0, "changes": 106, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/server/channel/handlers/OwlWarpHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/server/channel/handlers/OwlWarpHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/OwlWarpHandler.java?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -0,0 +1,106 @@\n+/*\n+ This file is part of the OdinMS Maple Story Server\n+ Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+ Matthias Butz <matze@odinms.de>\n+ Jan Christian Meyer <vimes@odinms.de>\n+\n+ This program is free software: you can redistribute it and/or modify\n+ it under the terms of the GNU Affero General Public License as\n+ published by the Free Software Foundation version 3 as published by\n+ the Free Software Foundation. You may not use, modify or distribute\n+ this program under any other version of the GNU Affero General Public\n+ License.\n+\n+ This program is distributed in the hope that it will be useful,\n+ but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ GNU Affero General Public License for more details.\n+\n+ You should have received a copy of the GNU Affero General Public License\n+ along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+package net.server.channel.handlers;\n+\n+import constants.GameConstants;\n+import client.MapleClient;\n+import net.AbstractMaplePacketHandler;\n+import server.MaplePlayerShop;\n+import server.maps.MapleHiredMerchant;\n+import tools.MaplePacketCreator;\n+import tools.data.input.SeekableLittleEndianAccessor;\n+\n+/*\n+ * @author Ronan\n+ */\n+public final class OwlWarpHandler extends AbstractMaplePacketHandler {\n+\n+    @Override\n+    public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n+        int ownerid = slea.readInt();\n+        int mapid = slea.readInt();\n+        \n+        MapleHiredMerchant hm = c.getWorldServer().getHiredMerchant(ownerid);   // if both hired merchant and player shop is on the same map\n+        MaplePlayerShop ps;\n+        if(hm == null || hm.getMapId() != mapid || !hm.hasItem(c.getPlayer().getOwlSearch())) {\n+            ps = c.getWorldServer().getPlayerShop(ownerid);\n+            if(ps == null || ps.getMapId() != mapid || !ps.hasItem(c.getPlayer().getOwlSearch())) {\n+                if(hm == null && ps == null) c.announce(MaplePacketCreator.getOwlMessage(1));\n+                else c.announce(MaplePacketCreator.getOwlMessage(3));\n+                return;\n+            }\n+            \n+            if(ps.isOpen()) {\n+                if(GameConstants.isFreeMarketRoom(mapid)) {\n+                    if(ps.getChannel() == c.getChannel()) {\n+                        c.getPlayer().changeMap(mapid);\n+\n+                        if(ps.isOpen()) {   //change map has a delay, must double check\n+                            if(!ps.visitShop(c.getPlayer())) {\n+                                if(!ps.isBanned(c.getPlayer().getName())) c.announce(MaplePacketCreator.getOwlMessage(2));\n+                                else c.announce(MaplePacketCreator.getOwlMessage(17));\n+                            }\n+                        } else {\n+                            //c.announce(MaplePacketCreator.serverNotice(1, \"That merchant has either been closed or is under maintenance.\"));\n+                            c.announce(MaplePacketCreator.getOwlMessage(18));\n+                        }\n+                    } else {\n+                        c.announce(MaplePacketCreator.serverNotice(1, \"That shop is currently located in another channel. Current location: Channel \" + hm.getChannel() + \", '\" + hm.getMap().getMapName() + \"'.\"));\n+                    }\n+                } else {\n+                    c.announce(MaplePacketCreator.serverNotice(1, \"That shop is currently located outside of the FM area. Current location: Channel \" + hm.getChannel() + \", '\" + hm.getMap().getMapName() + \"'.\"));\n+                }\n+            } else {\n+                //c.announce(MaplePacketCreator.serverNotice(1, \"That merchant has either been closed or is under maintenance.\"));\n+                c.announce(MaplePacketCreator.getOwlMessage(18));\n+            }\n+        } else {\n+            if(hm.isOpen()) {\n+                if(GameConstants.isFreeMarketRoom(mapid)) {\n+                    if(hm.getChannel() == c.getChannel()) {\n+                        c.getPlayer().changeMap(mapid);\n+\n+                        if(hm.isOpen()) {   //change map has a delay, must double check\n+                            if(hm.addVisitor(c.getPlayer())) {\n+                                c.announce(MaplePacketCreator.getHiredMerchant(c.getPlayer(), hm, false));\n+                                c.getPlayer().setHiredMerchant(hm);\n+                            } else {\n+                                //c.announce(MaplePacketCreator.serverNotice(1, hm.getOwner() + \"'s merchant is full. Wait awhile before trying again.\"));\n+                                c.announce(MaplePacketCreator.getOwlMessage(2));\n+                            }\n+                        } else {\n+                            //c.announce(MaplePacketCreator.serverNotice(1, \"That merchant has either been closed or is under maintenance.\"));\n+                            c.announce(MaplePacketCreator.getOwlMessage(18));\n+                        }\n+                    } else {\n+                        c.announce(MaplePacketCreator.serverNotice(1, \"That merchant is currently located in another channel. Current location: Channel \" + hm.getChannel() + \", '\" + hm.getMap().getMapName() + \"'.\"));\n+                    }\n+                } else {\n+                    c.announce(MaplePacketCreator.serverNotice(1, \"That merchant is currently located outside of the FM area. Current location: Channel \" + hm.getChannel() + \", '\" + hm.getMap().getMapName() + \"'.\"));\n+                }\n+            } else {\n+                //c.announce(MaplePacketCreator.serverNotice(1, \"That merchant has either been closed or is under maintenance.\"));\n+                c.announce(MaplePacketCreator.getOwlMessage(18));\n+            }\n+        }\n+    }\n+}\n\\ No newline at end of file"}, {"sha": "d448b3e52fded4777353d225ae9348e7f6f43cee", "filename": "src/net/server/channel/handlers/PlayerInteractionHandler.java", "status": "modified", "additions": 42, "deletions": 38, "changes": 80, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/server/channel/handlers/PlayerInteractionHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/server/channel/handlers/PlayerInteractionHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/PlayerInteractionHandler.java?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -33,20 +33,19 @@\n import java.util.Arrays;\n \n import net.AbstractMaplePacketHandler;\n-import net.server.Server;\n import server.MapleInventoryManipulator;\n import server.MapleItemInformationProvider;\n import server.MapleMiniGame;\n import server.MaplePlayerShop;\n import server.MaplePlayerShopItem;\n import server.MapleTrade;\n+import constants.GameConstants;\n import server.maps.FieldLimit;\n-import server.maps.HiredMerchant;\n+import server.maps.MapleHiredMerchant;\n import server.maps.MapleMapObject;\n import server.maps.MapleMapObjectType;\n import tools.FilePrinter;\n import tools.MaplePacketCreator;\n-import tools.Pair;\n import tools.data.input.SeekableLittleEndianAccessor;\n \n /**\n@@ -114,6 +113,7 @@ public byte getCode() {\n     public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n         byte mode = slea.readByte();\n         MapleCharacter chr = c.getPlayer();\n+        \n         if (mode == Action.CREATE.getCode()) {\n             byte createType = slea.readByte();\n             if (createType == 3) {// trade\n@@ -164,15 +164,16 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                     return;\n                 }\n \n-                if (chr.getMapId() > 910000000 && chr.getMapId() < 910000023 || itemId > 5030000 && itemId < 5030012 || itemId > 5140000 && itemId < 5140006) {\n+                if (GameConstants.isFreeMarketRoom(chr.getMapId()) || itemId > 5030000 && itemId < 5030012 || itemId > 5140000 && itemId < 5140006) {\n                     if (createType == 4) {\n                         MaplePlayerShop shop = new MaplePlayerShop(c.getPlayer(), desc);\n                         chr.setPlayerShop(shop);\n                         chr.getMap().addMapObject(shop);\n                         shop.sendShop(c);\n-                        c.announce(MaplePacketCreator.getPlayerShopRemoveVisitor(1));\n+                        c.getWorldServer().registerPlayerShop(shop);\n+                        //c.announce(MaplePacketCreator.getPlayerShopRemoveVisitor(1));\n                     } else {\n-                        HiredMerchant merchant = new HiredMerchant(chr, itemId, desc);\n+                        MapleHiredMerchant merchant = new MapleHiredMerchant(chr, itemId, desc);\n                         chr.setHiredMerchant(merchant);\n                         c.getWorldServer().registerHiredMerchant(merchant);\n                         chr.getClient().getChannelServer().addHiredMerchant(chr.getId(), merchant);\n@@ -201,15 +202,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                 MapleMapObject ob = chr.getMap().getMapObject(oid);\n                 if (ob instanceof MaplePlayerShop) {\n                     MaplePlayerShop shop = (MaplePlayerShop) ob;\n-                    if (shop.isBanned(chr.getName())) {\n-                        chr.dropMessage(1, \"You have been banned from this store.\");\n-                        return;\n-                    }\n-                    if (shop.hasFreeSlot() && !shop.isVisitor(c.getPlayer())) {\n-                        shop.addVisitor(c.getPlayer());\n-                        chr.setPlayerShop(shop);\n-                        shop.sendShop(c);\n-                    }\n+                    shop.visitShop(chr);\n                 } else if (ob instanceof MapleMiniGame) {\n                     MapleMiniGame game = (MapleMiniGame) ob;\n                     if (game.hasFreeSlot() && !game.isVisitor(c.getPlayer())) {\n@@ -226,14 +219,15 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                     } else {\n                         chr.getClient().announce(MaplePacketCreator.getMiniGameFull());\n                     }\n-                } else if (ob instanceof HiredMerchant && chr.getHiredMerchant() == null) {\n-                    HiredMerchant merchant = (HiredMerchant) ob;\n+                } else if (ob instanceof MapleHiredMerchant && chr.getHiredMerchant() == null) {\n+                    MapleHiredMerchant merchant = (MapleHiredMerchant) ob;\n                     if (merchant.isOwner(c.getPlayer())) {\n                         merchant.setOpen(false);\n-                        merchant.removeAllVisitors(\"\");\n+                        merchant.removeAllVisitors();\n+                        \n                         c.announce(MaplePacketCreator.getHiredMerchant(chr, merchant, false));\n                     } else if (!merchant.isOpen()) {\n-                        chr.dropMessage(1, \"This shop is in maintenance, please come by later.\");\n+                        c.announce(MaplePacketCreator.hiredMerchantMaintenanceMessage());\n                         return;\n                     } else if (merchant.getFreeSlotThreadsafe() == -1) {\n                         chr.dropMessage(1, \"This shop has reached it's maximum capacity, please come by later.\");\n@@ -246,7 +240,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                 }\n             }\n         } else if (mode == Action.CHAT.getCode()) { // chat lol\n-            HiredMerchant merchant = chr.getHiredMerchant();\n+            MapleHiredMerchant merchant = chr.getHiredMerchant();\n             if (chr.getTrade() != null) {\n                 chr.getTrade().chat(slea.readMapleAsciiString());\n             } else if (chr.getPlayerShop() != null) { //mini game\n@@ -272,10 +266,18 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             }\n         } else if (mode == Action.OPEN.getCode()) {\n             MaplePlayerShop shop = chr.getPlayerShop();\n-            HiredMerchant merchant = chr.getHiredMerchant();\n+            MapleHiredMerchant merchant = chr.getHiredMerchant();\n             if (shop != null && shop.isOwner(c.getPlayer())) {\n                 slea.readByte();//01\n+                \n+                if(ServerConstants.USE_ERASE_PERMIT_ON_OPENSHOP) {\n+                    try {\n+                        MapleInventoryManipulator.removeById(c, MapleInventoryType.CASH, 5140000, 1, true, false);\n+                    } catch(RuntimeException re) {} // fella does not have a player shop permit...\n+                }\n+                \n                 chr.getMap().broadcastMessage(MaplePacketCreator.addCharBox(c.getPlayer(), 4));\n+                shop.setOpen(true);\n             } else if (merchant != null && merchant.isOwner(c.getPlayer())) {\n                 chr.setHasMerchant(true);\n                 merchant.setOpen(true);\n@@ -430,7 +432,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             sellItem.setQuantity(perBundle);\n             MaplePlayerShopItem item = new MaplePlayerShopItem(sellItem, bundles, price);\n             MaplePlayerShop shop = chr.getPlayerShop();\n-            HiredMerchant merchant = chr.getHiredMerchant();\n+            MapleHiredMerchant merchant = chr.getHiredMerchant();\n             if (shop != null && shop.isOwner(c.getPlayer())) {\n                 if (ivItem != null && ivItem.getQuantity() >= bundles * perBundle) {\n                     shop.addItem(item);\n@@ -476,7 +478,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                 c.announce(MaplePacketCreator.updateHiredMerchant(chr.getHiredMerchant(), chr));\n             }*/\n         } else if (mode == Action.MERCHANT_ORGANIZE.getCode()) {\n-            HiredMerchant merchant = chr.getHiredMerchant();\n+            MapleHiredMerchant merchant = chr.getHiredMerchant();\n             if (!merchant.isOwner(chr)) return;\n \n             if (chr.getMerchantMeso() > 0) {\n@@ -513,19 +515,16 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             \treturn;\n             }\n             MaplePlayerShop shop = chr.getPlayerShop();\n-            HiredMerchant merchant = chr.getHiredMerchant();\n-            if (merchant != null && merchant.getOwner().equals(chr.getName())) {\n-                return;\n-            }\n+            MapleHiredMerchant merchant = chr.getHiredMerchant();\n             if (shop != null && shop.isVisitor(c.getPlayer())) {\n                 shop.buy(c, item, quantity);\n                 shop.broadcast(MaplePacketCreator.getPlayerShopItemUpdate(shop));\n-            } else if (merchant != null) {\n+            } else if (merchant != null && !merchant.isOwner(chr)) {\n                 merchant.buy(c, item, quantity);\n                 merchant.broadcastToVisitorsThreadsafe(MaplePacketCreator.updateHiredMerchant(merchant, c.getPlayer()));\n             }\n         } else if (mode == Action.TAKE_ITEM_BACK.getCode()) {\n-            HiredMerchant merchant = chr.getHiredMerchant();\n+            MapleHiredMerchant merchant = chr.getHiredMerchant();\n             if (merchant != null && merchant.isOwner(c.getPlayer())) {\n                 int slot = slea.readShort();\n                 MaplePlayerShopItem item = merchant.getItems().get(slot);\n@@ -542,26 +541,31 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n                 c.announce(MaplePacketCreator.updateHiredMerchant(merchant, c.getPlayer()));\n             }\n         } else if (mode == Action.CLOSE_MERCHANT.getCode()) {\n-            HiredMerchant merchant = chr.getHiredMerchant();\n+            MapleHiredMerchant merchant = chr.getHiredMerchant();\n             if (merchant != null && merchant.isOwner(c.getPlayer())) {\n                 c.announce(MaplePacketCreator.hiredMerchantOwnerLeave());\n                 c.announce(MaplePacketCreator.leaveHiredMerchant(0x00, 0x03));\n                 merchant.closeShop(c, false);\n                 chr.setHasMerchant(false);\n             }\n         } else if (mode == Action.MAINTENANCE_OFF.getCode()) {\n-            HiredMerchant merchant = chr.getHiredMerchant();\n-            if (merchant.getItems().isEmpty() && merchant.isOwner(c.getPlayer())) {\n-                merchant.closeShop(c, false);\n-                chr.setHasMerchant(false);\n-            }\n-            if (merchant != null && merchant.isOwner(c.getPlayer())) {\n-                merchant.clearMessages();\n-                merchant.setOpen(true);\n+            MapleHiredMerchant merchant = chr.getHiredMerchant();\n+            if(merchant != null) {\n+                if (merchant.getItems().isEmpty() && merchant.isOwner(c.getPlayer())) {\n+                    merchant.closeShop(c, false);\n+                    chr.setHasMerchant(false);\n+                }\n+                if (merchant.isOwner(c.getPlayer())) {\n+                    merchant.clearMessages();\n+                    merchant.setOpen(true);\n+                }\n             }\n+            \n             chr.setHiredMerchant(null);\n             c.announce(MaplePacketCreator.enableActions());\n         } else if (mode == Action.BAN_PLAYER.getCode()) {\n+            slea.skip(1);\n+            \n             if (chr.getPlayerShop() != null && chr.getPlayerShop().isOwner(c.getPlayer())) {\n                 chr.getPlayerShop().banPlayer(slea.readMapleAsciiString());\n             }"}, {"sha": "6573b99da1979cbef396ecfb4eca03339405cbe8", "filename": "src/net/server/channel/handlers/PlayerLoggedinHandler.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/server/channel/handlers/PlayerLoggedinHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/server/channel/handlers/PlayerLoggedinHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/PlayerLoggedinHandler.java?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -278,7 +278,7 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             }\n                     */\n             if (player.isGM()){\n-            \tServer.getInstance().broadcastGMMessage(MaplePacketCreator.earnTitleMessage(\"GM \" + player.getName() + \" has logged in\"));\n+            \tServer.getInstance().broadcastGMMessage(MaplePacketCreator.earnTitleMessage((player.gmLevel() < 6 ? \"GM \" : \"Admin \") + player.getName() + \" has logged in\"));\n             }\n             \n         }"}, {"sha": "0f6aaa88776050375c17cc90b607e1f7156b1e3e", "filename": "src/net/server/channel/handlers/RemoteStoreHandler.java", "status": "modified", "additions": 7, "deletions": 12, "changes": 19, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/server/channel/handlers/RemoteStoreHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/server/channel/handlers/RemoteStoreHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/RemoteStoreHandler.java?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -25,9 +25,7 @@\n import client.MapleCharacter;\n import client.MapleClient;\n import net.AbstractMaplePacketHandler;\n-import net.server.channel.Channel;\n-import net.server.Server;\n-import server.maps.HiredMerchant;\n+import server.maps.MapleHiredMerchant;\n import tools.MaplePacketCreator;\n import tools.data.input.SeekableLittleEndianAccessor;\n \n@@ -38,30 +36,27 @@\n public class RemoteStoreHandler extends AbstractMaplePacketHandler {\n     public void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n         MapleCharacter chr = c.getPlayer();\n-        HiredMerchant hm = getMerchant(c);\n+        MapleHiredMerchant hm = getMerchant(c);\n         if (chr.hasMerchant() && hm != null) {\n             if (hm.getChannel() == chr.getClient().getChannel()) {\n                 hm.setOpen(false);\n-                hm.removeAllVisitors(\"\");\n+                hm.removeAllVisitors();\n                 chr.setHiredMerchant(hm);\n+                \n                 chr.announce(MaplePacketCreator.getHiredMerchant(chr, hm, false));\n             } else {\n                 c.announce(MaplePacketCreator.remoteChannelChange((byte) (hm.getChannel() - 1)));\n             }\n             return;\n         } else {\n-           chr.dropMessage(1, \"You don't have a Merchant open\");\n+           chr.dropMessage(1, \"You don't have a Merchant open.\");\n         }\n         c.announce(MaplePacketCreator.enableActions());\n     }\n \n-    public HiredMerchant getMerchant(MapleClient c) {\n+    private MapleHiredMerchant getMerchant(MapleClient c) {\n         if (c.getPlayer().hasMerchant()) {\n-            for (Channel cserv : Server.getInstance().getChannelsFromWorld(c.getWorld())) {\n-                if (cserv.getHiredMerchants().get(c.getPlayer().getId()) != null) {\n-                    return cserv.getHiredMerchants().get(c.getPlayer().getId());\n-                }\n-            }\n+            return c.getWorldServer().getHiredMerchant(c.getPlayer().getId());\n         }\n         return null;\n     }"}, {"sha": "6ae08f56fa06656a25ce0c1f06d06b2f74a1cc2c", "filename": "src/net/server/channel/handlers/UseCashItemHandler.java", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/server/channel/handlers/UseCashItemHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/server/channel/handlers/UseCashItemHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/UseCashItemHandler.java?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -45,9 +45,11 @@\n import scripting.npc.NPCScriptManager;\n import server.MapleInventoryManipulator;\n import server.MapleItemInformationProvider;\n+import server.MaplePlayerShopItem;\n import server.MapleShop;\n import server.MapleShopFactory;\n import server.TimerManager;\n+import server.maps.AbstractMapleMapObject;\n import server.maps.MapleMap;\n import server.maps.MapleTVEffect;\n import tools.MaplePacketCreator;\n@@ -436,6 +438,16 @@ public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c)\n             player.gainMeso(ii.getMeso(itemId), true, false, true);\n             remove(c, itemId);\n             c.announce(MaplePacketCreator.enableActions());\n+        } else if (itemType == 523) {\n+            int itemid = slea.readInt();\n+            \n+            player.setOwlSearch(itemid);\n+            List<Pair<MaplePlayerShopItem, AbstractMapleMapObject>> hmsAvailable = c.getWorldServer().getAvailableItemBundles(itemid);\n+            if(!hmsAvailable.isEmpty()) remove(c, itemId);\n+            \n+            c.announce(MaplePacketCreator.owlOfMinerva(c, itemid, hmsAvailable));\n+            c.announce(MaplePacketCreator.enableActions());\n+            \n         } else if (itemType == 524) {\n             for (byte i = 0; i < 3; i++) {\n                 MaplePet pet = player.getPet(i);"}, {"sha": "530c89139f3e17244e456cf026987fc7dc4b8fc3", "filename": "src/net/server/channel/handlers/UseOwlOfMinervaHandler.java", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/server/channel/handlers/UseOwlOfMinervaHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/server/channel/handlers/UseOwlOfMinervaHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/UseOwlOfMinervaHandler.java?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -0,0 +1,35 @@\n+/*\n+ This file is part of the OdinMS Maple Story Server\n+ Copyright (C) 2008 Patrick Huy <patrick.huy@frz.cc>\n+ Matthias Butz <matze@odinms.de>\n+ Jan Christian Meyer <vimes@odinms.de>\n+\n+ This program is free software: you can redistribute it and/or modify\n+ it under the terms of the GNU Affero General Public License as\n+ published by the Free Software Foundation version 3 as published by\n+ the Free Software Foundation. You may not use, modify or distribute\n+ this program under any other version of the GNU Affero General Public\n+ License.\n+\n+ This program is distributed in the hope that it will be useful,\n+ but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ GNU Affero General Public License for more details.\n+\n+ You should have received a copy of the GNU Affero General Public License\n+ along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+package net.server.channel.handlers;\n+\n+import client.MapleClient;\n+import net.AbstractMaplePacketHandler;\n+import tools.data.input.SeekableLittleEndianAccessor;\n+import tools.MaplePacketCreator;\n+\n+public final class UseOwlOfMinervaHandler extends AbstractMaplePacketHandler {\n+\n+    @Override\n+    public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {\n+        c.announce(MaplePacketCreator.getOwlOpen());\n+    }\n+}\n\\ No newline at end of file"}, {"sha": "4e4e2866af443b97f0e6eb6b5f9774269a138ad7", "filename": "src/net/server/channel/handlers/UseSummonBagHandler.java", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/server/channel/handlers/UseSummonBagHandler.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/server/channel/handlers/UseSummonBagHandler.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/channel/handlers/UseSummonBagHandler.java?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -36,7 +36,7 @@\n  *\n  * @author AngelSL\n  */\n-public final class UseSummonBag extends AbstractMaplePacketHandler {\n+public final class UseSummonBagHandler extends AbstractMaplePacketHandler {\n \n     @Override\n     public final void handlePacket(SeekableLittleEndianAccessor slea, MapleClient c) {", "previous_filename": "src/net/server/channel/handlers/UseSummonBag.java"}, {"sha": "74cc4b39dc6231056e10d0fb33018e29c053d8bf", "filename": "src/net/server/worker/RankingWorker.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/server/worker/RankingWorker.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/server/worker/RankingWorker.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/worker/RankingWorker.java?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -46,7 +46,7 @@ private void resetMoveRank(boolean job) throws SQLException {\n     }\n \n     private void updateRanking(int job, int world) throws SQLException {\n-        String sqlCharSelect = \"SELECT c.id, \" + (job != -1 ? \"c.jobRank, c.jobRankMove\" : \"c.rank, c.rankMove\") + \", a.lastlogin AS lastlogin, a.loggedin FROM characters AS c LEFT JOIN accounts AS a ON c.accountid = a.id WHERE c.world = ? \";\n+        String sqlCharSelect = \"SELECT c.id, \" + (job != -1 ? \"c.jobRank, c.jobRankMove\" : \"c.rank, c.rankMove\") + \", a.lastlogin AS lastlogin, a.loggedin FROM characters AS c LEFT JOIN accounts AS a ON c.accountid = a.id WHERE c.gm < 2 AND c.world = ? \";\n         if (job != -1) {\n             sqlCharSelect += \"AND c.job DIV 100 = ? \";\n         }"}, {"sha": "43eb976665728f8748807e2739709cb0361df6c4", "filename": "src/net/server/world/World.java", "status": "modified", "additions": 107, "deletions": 21, "changes": 128, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/server/world/World.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/src/net/server/world/World.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/net/server/world/World.java?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -34,6 +34,7 @@\n import java.sql.SQLException;\n import java.util.ArrayList;\n import java.util.Collections;\n+import java.util.Comparator;\n import java.util.LinkedList;\n import java.util.List;\n import java.util.HashMap;\n@@ -45,7 +46,8 @@\n import java.util.concurrent.ScheduledFuture;\n \n import server.TimerManager;\n-import server.maps.HiredMerchant;\n+import server.maps.MapleHiredMerchant;\n+import server.MaplePlayerShop;\n import net.server.worker.CharacterAutosaverWorker;\n import net.server.worker.MountTirednessWorker;\n import net.server.worker.PetFullnessWorker;\n@@ -56,8 +58,11 @@\n import net.server.guild.MapleGuild;\n import net.server.guild.MapleGuildCharacter;\n import net.server.guild.MapleGuildSummary;\n+import server.MaplePlayerShopItem;\n+import server.maps.AbstractMapleMapObject;\n import tools.DatabaseConnection;\n import tools.MaplePacketCreator;\n+import tools.Pair;\n \n /**\n  *\n@@ -85,9 +90,11 @@\n     private ScheduledFuture<?> mountsSchedule;\n     private long mountUpdate;\n     \n-    private Map<HiredMerchant, Byte> activeMerchants = new LinkedHashMap<>();\n+    private Map<Integer, Pair<MapleHiredMerchant, Byte>> activeMerchants = new LinkedHashMap<>();\n     private long merchantUpdate;\n     \n+    private Map<Integer, MaplePlayerShop> activePlayerShops = new LinkedHashMap<>();\n+    \n     private ScheduledFuture<?> charactersSchedule;\n     \n     public World(int world, int flag, String eventmsg, int exprate, int droprate, int mesorate, int bossdroprate) {\n@@ -778,47 +785,96 @@ public void runMountSchedule() {\n         }\n     }\n     \n-    public void registerHiredMerchant(HiredMerchant hm) {\n+    public void registerPlayerShop(MaplePlayerShop ps) {\n+        synchronized(activePlayerShops) {\n+            activePlayerShops.put(ps.getOwner().getId(), ps);\n+        }\n+    }\n+    \n+    public void unregisterPlayerShop(MaplePlayerShop ps) {\n+        synchronized(activePlayerShops) {\n+            activePlayerShops.remove(ps.getOwner().getId());\n+        }\n+    }\n+    \n+    public List<MaplePlayerShop> getActivePlayerShops() {\n+        List<MaplePlayerShop> psList = new ArrayList<>();\n+        synchronized(activePlayerShops) {\n+            for(MaplePlayerShop mps : activePlayerShops.values()) {\n+                psList.add(mps);\n+            }\n+            \n+            return psList;\n+        }\n+    }\n+    \n+    public MaplePlayerShop getPlayerShop(int ownerid) {\n+        synchronized(activePlayerShops) {\n+            return activePlayerShops.get(ownerid);\n+        }\n+    }\n+    \n+    public void registerHiredMerchant(MapleHiredMerchant hm) {\n         synchronized(activeMerchants) {\n             byte initProc;\n             if(System.currentTimeMillis() - merchantUpdate > 5 * 60 * 1000) initProc = 1;\n             else initProc = 0;\n             \n-            activeMerchants.put(hm, initProc);\n+            activeMerchants.put(hm.getOwnerId(), new Pair<>(hm, initProc));\n         }\n     }\n     \n-    public void unregisterHiredMerchant(HiredMerchant hm) {\n+    public void unregisterHiredMerchant(MapleHiredMerchant hm) {\n         synchronized(activeMerchants) {\n-            activeMerchants.remove(hm);\n+            activeMerchants.remove(hm.getOwnerId());\n         }\n     }\n     \n     public void runHiredMerchantSchedule() {\n-        Map<HiredMerchant, Byte> deployedMerchants;\n+        Map<Integer, Pair<MapleHiredMerchant, Byte>> deployedMerchants;\n         synchronized(activeMerchants) {\n             merchantUpdate = System.currentTimeMillis();\n-            deployedMerchants = Collections.unmodifiableMap(activeMerchants);\n-        }\n+            deployedMerchants = new LinkedHashMap<>(activeMerchants);\n         \n-        for(Map.Entry<HiredMerchant, Byte> dm: deployedMerchants.entrySet()) {\n-            byte timeOn = dm.getValue();\n-            \n-            if(timeOn <= 144) {   // 1440 minutes == 24hrs\n-                synchronized(activeMerchants) {\n-                    activeMerchants.put(dm.getKey(), (byte)(timeOn + 1));\n-                }\n-            } else {\n-                HiredMerchant hm = dm.getKey();\n-                hm.forceClose();\n-                this.getChannel(hm.getChannel()).removeHiredMerchant(hm.getOwnerId());\n+            for(Map.Entry<Integer, Pair<MapleHiredMerchant, Byte>> dm: deployedMerchants.entrySet()) {\n+                byte timeOn = dm.getValue().getRight();\n+                MapleHiredMerchant hm = dm.getValue().getLeft();\n                 \n-                synchronized(activeMerchants) {\n+                if(timeOn <= 144) {   // 1440 minutes == 24hrs\n+                    activeMerchants.put(hm.getOwnerId(), new Pair<>(dm.getValue().getLeft(), (byte)(timeOn + 1)));\n+                } else {\n+                    hm.forceClose();\n+                    this.getChannel(hm.getChannel()).removeHiredMerchant(hm.getOwnerId());\n+\n                     activeMerchants.remove(dm.getKey());\n                 }\n             }\n         }\n     }\n+    \n+    public List<MapleHiredMerchant> getActiveMerchants() {\n+        List<MapleHiredMerchant> hmList = new ArrayList<>();\n+        synchronized(activeMerchants) {\n+            for(Pair<MapleHiredMerchant, Byte> hmp : activeMerchants.values()) {\n+                MapleHiredMerchant hm = hmp.getLeft();\n+                if(hm.isOpen()) {\n+                    hmList.add(hm);\n+                }\n+            }\n+            \n+            return hmList;\n+        }\n+    }\n+    \n+    public MapleHiredMerchant getHiredMerchant(int ownerid) {\n+        synchronized(activeMerchants) {\n+            if(activeMerchants.containsKey(ownerid)) {\n+                return activeMerchants.get(ownerid).getLeft();\n+            }\n+            \n+            return null;\n+        }\n+    }\n \n     public void setServerMessage(String msg) {\n         for (Channel ch : channels) {\n@@ -832,6 +888,36 @@ public void broadcastPacket(final byte[] data) {\n         }\n     }\n \n+    public List<Pair<MaplePlayerShopItem, AbstractMapleMapObject>> getAvailableItemBundles(int itemid) {\n+            List<Pair<MaplePlayerShopItem, AbstractMapleMapObject>> hmsAvailable = new ArrayList<>();\n+\n+            for (MapleHiredMerchant hm : getActiveMerchants()) {\n+                    List<MaplePlayerShopItem> itemBundles = hm.sendAvailableBundles(itemid);\n+                    \n+                    for(MaplePlayerShopItem mpsi : itemBundles) {\n+                            hmsAvailable.add(new Pair<>(mpsi, (AbstractMapleMapObject) hm));\n+                    }\n+            }\n+            \n+            for (MaplePlayerShop ps : getActivePlayerShops()) {\n+                    List<MaplePlayerShopItem> itemBundles = ps.sendAvailableBundles(itemid);\n+                    \n+                    for(MaplePlayerShopItem mpsi : itemBundles) {\n+                            hmsAvailable.add(new Pair<>(mpsi, (AbstractMapleMapObject) ps));\n+                    }\n+            }\n+\n+            Collections.sort(hmsAvailable, new Comparator<Pair<MaplePlayerShopItem, AbstractMapleMapObject>>() {\n+                    @Override\n+                    public int compare(Pair<MaplePlayerShopItem, AbstractMapleMapObject> p1, Pair<MaplePlayerShopItem, AbstractMapleMapObject> p2) {\n+                            return p1.getLeft().getPrice() - p2.getLeft().getPrice();\n+                    }\n+            });\n+\n+            hmsAvailable.subList(0, Math.min(hmsAvailable.size(), 200));    //truncates the list to have up to 200 elements\n+            return hmsAvailable;\n+    }\n+    \n     public final void shutdown() {\n         for (Channel ch : getChannels()) {\n             ch.shutdown();"}, {"sha": "a5d13dfe19a3792985c33686824e15c17782d3e5", "filename": "src/server/MapleInventoryManipulator.java", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/src/server/MapleInventoryManipulator.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/src/server/MapleInventoryManipulator.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/MapleInventoryManipulator.java?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -267,6 +267,7 @@ public static boolean checkSpace(MapleClient c, int itemid, int quantity, String\n     public static int checkSpaceProgressively(MapleClient c, int itemid, int quantity, String owner, int usedSlots) {\n         // return value --> bit0: if has space for this one;\n         //                  value after: new slots filled;\n+        // assumption: equipments always have slotMax == 1.\n         \n         int returnValue;\n         \n@@ -302,9 +303,11 @@ public static int checkSpaceProgressively(MapleClient c, int itemid, int quantit\n             \n             returnValue = ((numSlotsNeeded + usedSlots) << 1);\n             returnValue += (numSlotsNeeded == 0 || !c.getPlayer().getInventory(type).isFullAfterSomeItems(numSlotsNeeded - 1, usedSlots)) ? 1 : 0;\n+            //System.out.print(\" needed \" + numSlotsNeeded + \" used \" + usedSlots + \" rval \" + returnValue);\n         } else {\n-            returnValue = ((1 + usedSlots) << 1);\n+            returnValue = ((quantity + usedSlots) << 1);\n             returnValue += (!c.getPlayer().getInventory(type).isFullAfterSomeItems(0, usedSlots)) ? 1 : 0;\n+            //System.out.print(\" eqpneeded \" + 1 + \" used \" + usedSlots + \" rval \" + returnValue);\n         }\n         \n         return returnValue;"}, {"sha": "7b91c3cb43b0ec4e7466dcc32915191a042d6f3f", "filename": "src/server/MapleItemInformationProvider.java", "status": "modified", "additions": 5, "deletions": 12, "changes": 17, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/src/server/MapleItemInformationProvider.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/src/server/MapleItemInformationProvider.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/MapleItemInformationProvider.java?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -916,20 +916,13 @@ public Item scrollEquipWithId(Item equip, int scrollId, boolean usingWhiteScroll\n                         }\n                         nEquip.setLevel((byte) (nEquip.getLevel() + 1));\n                     }\n-                }\n-                \n-                if (ServerConstants.USE_PERFECT_SCROLLING == false && !ItemConstants.isCleanSlate(scrollId)) {\n-                    if (!assertGM && !usingWhiteScroll) {\n+                }  else {\n+                    if (ServerConstants.USE_PERFECT_SCROLLING == false && !usingWhiteScroll && !ItemConstants.isCleanSlate(scrollId) && !assertGM) {\n                         nEquip.setUpgradeSlots((byte) (nEquip.getUpgradeSlots() - 1));\n                     }\n-                    //nEquip.setLevel((byte) (nEquip.getLevel() + 1));\n-                }\n-            } else {\n-                if (!usingWhiteScroll && !ItemConstants.isCleanSlate(scrollId) && !assertGM) {\n-                    nEquip.setUpgradeSlots((byte) (nEquip.getUpgradeSlots() - 1));\n-                }\n-                if (Randomizer.nextInt(101) < stats.get(\"cursed\")) {\n-                    return null;\n+                    if (Randomizer.nextInt(101) < stats.get(\"cursed\")) {\n+                        return null;\n+                    }\n                 }\n             }\n         }"}, {"sha": "985a25f30564362397e66d04fab3ae0372c538cd", "filename": "src/server/MaplePlayerShop.java", "status": "modified", "additions": 252, "deletions": 80, "changes": 332, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/src/server/MaplePlayerShop.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/src/server/MaplePlayerShop.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/MaplePlayerShop.java?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -26,149 +26,231 @@\n import client.inventory.Item;\n import java.util.ArrayList;\n import java.util.Collections;\n+import java.util.LinkedList;\n import java.util.List;\n+import java.util.LinkedHashMap;\n+import java.util.Map;\n+import java.util.concurrent.atomic.AtomicBoolean;\n import net.SendOpcode;\n import server.maps.AbstractMapleMapObject;\n import server.maps.MapleMapObjectType;\n import tools.MaplePacketCreator;\n+import tools.Pair;\n import tools.data.output.MaplePacketLittleEndianWriter;\n \n /**\n  *\n  * @author Matze\n+ * @author Ronan (concurrency protection)\n  */\n public class MaplePlayerShop extends AbstractMapleMapObject {\n+    private AtomicBoolean open = new AtomicBoolean(false);\n     private MapleCharacter owner;\n     private MapleCharacter[] visitors = new MapleCharacter[3];\n     private List<MaplePlayerShopItem> items = new ArrayList<>();\n-    private MapleCharacter[] slot = {null, null, null};\n     private String description;\n     private int boughtnumber = 0;\n     private List<String> bannedList = new ArrayList<>();\n+    private List<Pair<MapleCharacter, String>> chatLog = new LinkedList<>();\n+    private Map<Integer, Byte> chatSlot = new LinkedHashMap<>();\n \n     public MaplePlayerShop(MapleCharacter owner, String description) {\n         this.setPosition(owner.getPosition());\n         this.owner = owner;\n         this.description = description;\n     }\n \n+    public int getChannel() {\n+        return owner.getClient().getChannel();\n+    }\n+    \n+    public int getMapId() {\n+        return owner.getMapId();\n+    }\n+    \n+    public boolean isOpen() {\n+        return open.get();\n+    }\n+    \n+    public void setOpen(boolean openShop) {\n+        open.set(openShop);\n+    }\n+    \n     public boolean hasFreeSlot() {\n-        return visitors[0] == null || visitors[1] == null || visitors[2] == null;\n+        synchronized (visitors) {\n+            return visitors[0] == null || visitors[1] == null || visitors[2] == null;\n+        }\n     }\n \n     public boolean isOwner(MapleCharacter c) {\n         return owner.equals(c);\n     }\n \n-    public void addVisitor(MapleCharacter visitor) {\n-        for (int i = 0; i < 3; i++) {\n-            if (visitors[i] == null) {\n-                visitors[i] = visitor;\n-                if (this.getSlot(0) == null) {\n-                    this.setSlot(visitor, 0);\n-                    this.broadcast(MaplePacketCreator.getPlayerShopNewVisitor(visitor, 1));\n-                } else if (this.getSlot(1) == null) {\n-                    this.setSlot(visitor, 1);\n-                    this.broadcast(MaplePacketCreator.getPlayerShopNewVisitor(visitor, 2));\n-                } else if (this.getSlot(2) == null) {\n-                    this.setSlot(visitor, 2);\n-                    this.broadcast(MaplePacketCreator.getPlayerShopNewVisitor(visitor, 3));\n-                    visitor.getMap().broadcastMessage(MaplePacketCreator.addCharBox(this.getOwner(), 1));\n+    private void addVisitor(MapleCharacter visitor) {\n+        synchronized (visitors) {\n+            for (int i = 0; i < 3; i++) {\n+                if (visitors[i] == null) {\n+                    visitors[i] = visitor;\n+                    visitor.setSlot(i);\n+                    this.broadcast(MaplePacketCreator.getPlayerShopNewVisitor(visitor, i + 1));\n+                    \n+                    if(i == 2) visitor.getMap().broadcastMessage(MaplePacketCreator.addCharBox(this.getOwner(), 1));\n+                    break;\n                 }\n-                break;\n             }\n         }\n     }\n \n-    public void removeVisitor(MapleCharacter visitor) {\n+    public void forceRemoveVisitor(MapleCharacter visitor) {\n         if (visitor == owner) {\n             owner.getMap().removeMapObject(this);\n             owner.setPlayerShop(null);\n         }\n         for (int i = 0; i < 3; i++) {\n             if (visitors[i] != null && visitors[i].getId() == visitor.getId()) {\n-                int slot_ = visitor.getSlot();\n                 visitors[i] = null;\n-                this.setSlot(null, i);\n                 visitor.setSlot(-1);\n-                this.broadcast(MaplePacketCreator.getPlayerShopRemoveVisitor(slot_ + 1));\n+                this.broadcast(MaplePacketCreator.getPlayerShopRemoveVisitor(i + 1));\n                 return;\n             }\n         }\n     }\n+    \n+    public void removeVisitor(MapleCharacter visitor) {\n+        if (visitor == owner) {\n+            owner.getMap().removeMapObject(this);\n+            owner.setPlayerShop(null);\n+        } else {\n+            synchronized (visitors) {\n+                for (int i = 0; i < 3; i++) {\n+                    if (visitors[i] != null && visitors[i].getId() == visitor.getId()) {\n+                        visitor.setSlot(-1);    //absolutely cant remove player slot for late players without dc'ing them... heh\n+                        \n+                        for(int j = i; j < 2; j++) {\n+                            if(visitors[j] != null) owner.announce(MaplePacketCreator.getPlayerShopRemoveVisitor(j + 1));\n+                            visitors[j] = visitors[j + 1];\n+                            if(visitors[j] != null) visitors[j].setSlot(j);\n+                        }\n+                        visitors[2] = null;\n+                        for(int j = i; j < 2; j++) {\n+                            if(visitors[j] != null) owner.announce(MaplePacketCreator.getPlayerShopNewVisitor(visitors[j], j + 1));\n+                        }\n+                        \n+                        this.broadcastRestoreToVisitors();\n+                        return;\n+                    }\n+                }\n+            }\n+            \n+            if(this.getOwner().getPlayerShop() != null) visitor.getMap().broadcastMessage(MaplePacketCreator.addCharBox(this.getOwner(), 4));\n+        }\n+    }\n \n     public boolean isVisitor(MapleCharacter visitor) {\n-        return visitors[0] == visitor || visitors[1] == visitor || visitors[2] == visitor;\n+        synchronized (visitors) {\n+            return visitors[0] == visitor || visitors[1] == visitor || visitors[2] == visitor;\n+        }\n     }\n \n     public void addItem(MaplePlayerShopItem item) {\n-        items.add(item);\n+        synchronized (items) {\n+            items.add(item);\n+        }\n     }\n \n     public void removeItem(int item) {\n-        items.remove(item);\n+        synchronized (items) {\n+            items.remove(item);\n+        }\n     }\n \n     /**\n-     * no warnings for now o.op\n+     * no warnings for now o.o\n      * @param c\n      * @param item\n      * @param quantity\n      */\n     public void buy(MapleClient c, int item, short quantity) {\n-        if (isVisitor(c.getPlayer())) {\n-            MaplePlayerShopItem pItem = items.get(item);\n-            Item newItem = pItem.getItem().copy();\n-            newItem.setQuantity(newItem.getQuantity());\n-            if (quantity < 1 || pItem.getBundles() < 1 || newItem.getQuantity() > pItem.getBundles() || !pItem.isExist()) {\n-                return;\n-            } else if (newItem.getType() == 1 && newItem.getQuantity() > 1) {\n-                return;\n-            }\n-            synchronized (c.getPlayer()) {\n-                if (c.getPlayer().getMeso() >= (long) pItem.getPrice() * quantity) {\n-                    if (MapleInventoryManipulator.addFromDrop(c, newItem, false)) {\n-                        c.getPlayer().gainMeso(-pItem.getPrice() * quantity, true);\n-                        owner.gainMeso(pItem.getPrice() * quantity, true);\n-                        pItem.setBundles((short) (pItem.getBundles() - quantity));\n-                        if (pItem.getBundles() < 1) {\n-                            pItem.setDoesExist(false);\n-                            if (++boughtnumber == items.size()) {\n-                                owner.setPlayerShop(null);\n-                                owner.getMap().broadcastMessage(MaplePacketCreator.removeCharBox(owner));\n-                                this.removeVisitors();\n-                                owner.dropMessage(1, \"Your items are sold out, and therefore your shop is closed.\");\n+        synchronized (items) {\n+            if (isVisitor(c.getPlayer())) {\n+                MaplePlayerShopItem pItem = items.get(item);\n+                Item newItem = pItem.getItem().copy();\n+                newItem.setQuantity(newItem.getQuantity());\n+                if (quantity < 1 || pItem.getBundles() < 1 || newItem.getQuantity() > pItem.getBundles() || !pItem.isExist()) {\n+                    return;\n+                } else if (newItem.getType() == 1 && newItem.getQuantity() > 1) {\n+                    return;\n+                }\n+                synchronized (c.getPlayer()) {\n+                    if (c.getPlayer().getMeso() >= (long) pItem.getPrice() * quantity) {\n+                        if (MapleInventoryManipulator.addFromDrop(c, newItem, false)) {\n+                            c.getPlayer().gainMeso(-pItem.getPrice() * quantity, true);\n+                            owner.gainMeso(pItem.getPrice() * quantity, true);\n+                            pItem.setBundles((short) (pItem.getBundles() - quantity));\n+                            if (pItem.getBundles() < 1) {\n+                                pItem.setDoesExist(false);\n+                                if (++boughtnumber == items.size()) {\n+                                    owner.setPlayerShop(null);\n+                                    this.setOpen(false);\n+                                    this.closeShop();\n+                                    owner.dropMessage(1, \"Your items are sold out, and therefore your shop is closed.\");\n+                                }\n                             }\n+                        } else {\n+                            c.getPlayer().dropMessage(1, \"Your inventory is full. Please clean a slot before buying this item.\");\n                         }\n-                    } else {\n-                        c.getPlayer().dropMessage(1, \"Your inventory is full. Please clean a slot before buying this item.\");\n                     }\n                 }\n             }\n         }\n     }\n \n     public void broadcastToVisitors(final byte[] packet) {\n-        for (int i = 0; i < 3; i++) {\n-            if (visitors[i] != null) {\n-                visitors[i].getClient().announce(packet);\n+        synchronized (visitors) {\n+            for (int i = 0; i < 3; i++) {\n+                if (visitors[i] != null) {\n+                    visitors[i].getClient().announce(packet);\n+                }\n             }\n         }\n     }\n-\n-    public void removeVisitors() {\n-        try {\n+    \n+    public void broadcastRestoreToVisitors() {\n+        synchronized (visitors) {\n             for (int i = 0; i < 3; i++) {\n                 if (visitors[i] != null) {\n-                    visitors[i].getClient().announce(MaplePacketCreator.shopErrorMessage(10, 1));\n-                    removeVisitor(visitors[i]);\n+                    visitors[i].getClient().announce(MaplePacketCreator.getPlayerShopRemoveVisitor(i + 1));\n                 }\n             }\n-        } catch (Exception e) {\n-            e.printStackTrace();\n+            \n+            for (int i = 0; i < 3; i++) {\n+                if (visitors[i] != null) {\n+                    visitors[i].getClient().announce(MaplePacketCreator.getPlayerShop(this, false));\n+                }\n+            }\n+            \n+            recoverChatLog();\n         }\n+    }\n+\n+    public void removeVisitors() {\n+        List<MapleCharacter> visitorList = new ArrayList<>(3);\n+        synchronized (visitors) {\n+            try {\n+                for (int i = 0; i < 3; i++) {\n+                    if (visitors[i] != null) {\n+                        visitors[i].getClient().announce(MaplePacketCreator.shopErrorMessage(10, 1));\n+                        visitorList.add(visitors[i]);\n+                    }\n+                }\n+            } catch (Exception e) {\n+                e.printStackTrace();\n+            }\n+        }\n+        \n+        for(MapleCharacter mc : visitorList) forceRemoveVisitor(mc);\n         if (owner != null) {\n-            removeVisitor(getOwner());\n+            forceRemoveVisitor(getOwner());\n         }\n     }\n \n@@ -188,46 +270,90 @@ public void broadcast(final byte[] packet) {\n         broadcastToVisitors(packet);\n     }\n \n-    public void chat(MapleClient c, String chat) {\n+    private byte getVisitorSlot(MapleCharacter chr) {\n         byte s = 0;\n         for (MapleCharacter mc : getVisitors()) {\n             s++;\n             if (mc != null) {\n-                if (mc.getName().equalsIgnoreCase(c.getPlayer().getName())) {\n+                if (mc.getName().equalsIgnoreCase(chr.getName())) {\n                     break;\n                 }\n             } else if (s == 3) {\n                 s = 0;\n             }\n         }\n+        \n+        return s;\n+    }\n+    \n+    public void chat(MapleClient c, String chat) {\n+        byte s = getVisitorSlot(c.getPlayer());\n+        \n+        synchronized(chatLog) {\n+            chatLog.add(new Pair<>(c.getPlayer(), chat));\n+            if(chatLog.size() > 25) chatLog.remove(0);\n+            chatSlot.put(c.getPlayer().getId(), s);\n+        }\n+        \n         broadcast(MaplePacketCreator.getPlayerShopChat(c.getPlayer(), chat, s));\n     }\n+    \n+    private void recoverChatLog() {\n+        synchronized(chatLog) {\n+            for(Pair<MapleCharacter, String> it : chatLog) {\n+                MapleCharacter chr = it.getLeft();\n+                Byte pos = chatSlot.get(chr.getId());\n+                \n+                broadcastToVisitors(MaplePacketCreator.getPlayerShopChat(chr, it.getRight(), pos));\n+            }\n+        }\n+    }\n+    \n+    private void clearChatLog() {\n+        synchronized(chatLog) {\n+            chatLog.clear();\n+        }\n+    }\n+    \n+    public void closeShop() {\n+        owner.getMap().broadcastMessage(MaplePacketCreator.removeCharBox(owner));\n+        clearChatLog();\n+        removeVisitors();\n+    }\n \n     public void sendShop(MapleClient c) {\n-        c.announce(MaplePacketCreator.getPlayerShop(c, this, isOwner(c.getPlayer())));\n+        synchronized(visitors) {\n+            c.announce(MaplePacketCreator.getPlayerShop(this, isOwner(c.getPlayer())));\n+        }\n     }\n \n     public MapleCharacter getOwner() {\n         return owner;\n     }\n \n     public MapleCharacter[] getVisitors() {\n-        return visitors;\n-    }\n-\n-    public MapleCharacter getSlot(int s) {\n-        return slot[s];\n-    }\n-\n-    private void setSlot(MapleCharacter person, int s) {\n-        slot[s] = person;\n-        if (person != null) {\n-            person.setSlot(s);\n+        synchronized(visitors) {\n+            MapleCharacter[] copy = new MapleCharacter[3];\n+            for(int i = 0; i < visitors.length; i++) copy[i] = visitors[i];\n+                    \n+            return copy;\n         }\n     }\n \n     public List<MaplePlayerShopItem> getItems() {\n-        return Collections.unmodifiableList(items);\n+        synchronized (items) {\n+            return Collections.unmodifiableList(items);\n+        }\n+    }\n+    \n+    public boolean hasItem(int itemid) {\n+        for(MaplePlayerShopItem mpsi : getItems()) {\n+            if(mpsi.getItem().getItemId() == itemid && mpsi.isExist() && mpsi.getBundles() > 0) {\n+                return true;\n+            }\n+        }\n+        \n+        return false;\n     }\n \n     public String getDescription() {\n@@ -242,18 +368,64 @@ public void banPlayer(String name) {\n         if (!bannedList.contains(name)) {\n             bannedList.add(name);\n         }\n-        for (int i = 0; i < 3; i++) {\n-            if (visitors[i] != null && visitors[i].getName().equals(name)) {\n-                visitors[i].getClient().announce(MaplePacketCreator.shopErrorMessage(5, 1));\n-                removeVisitor(visitors[i]);\n-                return; //I'm guessing this was the intended action\n+        \n+        MapleCharacter target = null;\n+        synchronized(visitors) {\n+            for (int i = 0; i < 3; i++) {\n+                if (visitors[i] != null && visitors[i].getName().equals(name)) {\n+                    target = visitors[i];\n+                    break;\n+                }\n             }\n         }\n+        \n+        if(target != null) {\n+            target.getClient().announce(MaplePacketCreator.shopErrorMessage(5, 1));\n+            removeVisitor(target);\n+        }\n     }\n \n     public boolean isBanned(String name) {\n         return bannedList.contains(name);\n     }\n+    \n+    public synchronized boolean visitShop(MapleCharacter chr) {\n+        if(!open.get()) {\n+            chr.dropMessage(1, \"This store is not yet open.\");\n+            return false;\n+        }\n+        \n+        if (this.isBanned(chr.getName())) {\n+            chr.dropMessage(1, \"You have been banned from this store.\");\n+            return false;\n+        }\n+        \n+        if (this.hasFreeSlot() && !this.isVisitor(chr)) {\n+            this.addVisitor(chr);\n+            chr.setPlayerShop(this);\n+            this.sendShop(chr.getClient());\n+\n+            return true;\n+        }\n+        \n+        return false;\n+    }\n+    \n+    public List<MaplePlayerShopItem> sendAvailableBundles(int itemid) {\n+        List<MaplePlayerShopItem> list = new LinkedList<>();\n+        List<MaplePlayerShopItem> all = new ArrayList<>();\n+        \n+        synchronized (items) {\n+            for(MaplePlayerShopItem mpsi : items) all.add(mpsi);\n+        }\n+        \n+        for(MaplePlayerShopItem mpsi : all) {\n+            if(mpsi.getItem().getItemId() == itemid && mpsi.getBundles() > 0 && mpsi.isExist()) {\n+                list.add(mpsi);\n+            }\n+        }\n+        return list;\n+    }\n \n     @Override\n     public void sendDestroyData(MapleClient client) {"}, {"sha": "96a7692cd65abbbb1d18e1ab99be94a8b5b70b71", "filename": "src/server/maps/MapleHiredMerchant.java", "status": "renamed", "additions": 51, "deletions": 15, "changes": 66, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/src/server/maps/MapleHiredMerchant.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/src/server/maps/MapleHiredMerchant.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/server/maps/MapleHiredMerchant.java?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -35,6 +35,7 @@\n import java.util.Collections;\n import java.util.LinkedList;\n import java.util.List;\n+import java.util.concurrent.atomic.AtomicBoolean;\n import net.server.Server;\n import server.MapleInventoryManipulator;\n import server.MapleItemInformationProvider;\n@@ -46,8 +47,9 @@\n /**\n  *\n  * @author XoticStory\n+ * @author Ronan (concurrency protection)\n  */\n-public class HiredMerchant extends AbstractMapleMapObject {\n+public class MapleHiredMerchant extends AbstractMapleMapObject {\n \n     private int ownerId, itemId, mesos = 0;\n     private int channel, world;\n@@ -58,10 +60,10 @@\n     private final List<MaplePlayerShopItem> items = new LinkedList<>();\n     private List<Pair<String, Byte>> messages = new LinkedList<>();\n     private List<SoldItem> sold = new LinkedList<>();\n-    private boolean open;\n+    private AtomicBoolean open = new AtomicBoolean();\n     private MapleMap map;\n \n-    public HiredMerchant(final MapleCharacter owner, int itemId, String desc) {\n+    public MapleHiredMerchant(final MapleCharacter owner, int itemId, String desc) {\n         this.setPosition(owner.getPosition());\n         this.start = System.currentTimeMillis();\n         this.ownerId = owner.getId();\n@@ -87,13 +89,17 @@ private void broadcastToVisitors(final byte[] packet) {\n         }\n     }\n \n-    public void addVisitor(MapleCharacter visitor) {\n+    public boolean addVisitor(MapleCharacter visitor) {\n         synchronized(visitors) {\n             int i = this.getFreeSlot();\n             if (i > -1) {\n                 visitors[i] = visitor;\n                 broadcastToVisitors(MaplePacketCreator.hiredMerchantVisitorAdd(visitor, i + 1));\n+                \n+                return true;\n             }\n+            \n+            return false;\n         }\n     }\n \n@@ -105,9 +111,7 @@ public void removeVisitor(MapleCharacter visitor) {\n             }\n             if (visitors[slot] != null && visitors[slot].getId() == visitor.getId()) {\n                 visitors[slot] = null;\n-                if (slot != -1) {\n-                    broadcastToVisitors(MaplePacketCreator.hiredMerchantVisitorLeave(slot + 1));\n-                }\n+                broadcastToVisitors(MaplePacketCreator.hiredMerchantVisitorLeave(slot + 1));\n             }\n         }\n     }\n@@ -127,15 +131,15 @@ private int getVisitorSlot(MapleCharacter visitor) {\n         return -1; //Actually 0 because of the +1's.\n     }\n \n-    public void removeAllVisitors(String message) {\n+    public void removeAllVisitors() {\n         synchronized(visitors) {\n             for (int i = 0; i < 3; i++) {\n                 if (visitors[i] != null) {\n                     visitors[i].setHiredMerchant(null);\n+                    \n                     visitors[i].getClient().announce(MaplePacketCreator.leaveHiredMerchant(i + 1, 0x11));\n-                    if (message.length() > 0) {\n-                        visitors[i].dropMessage(1, message);\n-                    }\n+                    visitors[i].getClient().announce(MaplePacketCreator.hiredMerchantMaintenanceMessage());\n+                    \n                     visitors[i] = null;\n                 }\n             }\n@@ -163,7 +167,7 @@ public void buy(MapleClient c, int item, short quantity) {\n             }\n             int price = (int)Math.min((long)pItem.getPrice() * quantity, Integer.MAX_VALUE);\n             if (c.getPlayer().getMeso() >= price) {\n-                if (MapleInventoryManipulator.addFromDrop(c, newItem, true)) {\n+                if (MapleInventoryManipulator.addFromDrop(c, newItem, false)) {\n                     c.getPlayer().gainMeso(-price, false);\n                     \n                     synchronized (sold) {\n@@ -322,6 +326,16 @@ public String getDescription() {\n             return Collections.unmodifiableList(items);\n         }\n     }\n+    \n+    public boolean hasItem(int itemid) {\n+        for(MaplePlayerShopItem mpsi : getItems()) {\n+            if(mpsi.getItem().getItemId() == itemid && mpsi.isExist() && mpsi.getBundles() > 0) {\n+                return true;\n+            }\n+        }\n+        \n+        return false;\n+    }\n \n     public void addItem(MaplePlayerShopItem item) {\n         synchronized (items) {\n@@ -367,11 +381,11 @@ public void setDescription(String description) {\n     }\n \n     public boolean isOpen() {\n-        return open;\n+        return open.get();\n     }\n \n     public void setOpen(boolean set) {\n-        this.open = set;\n+        open.getAndSet(set);\n     }\n \n     public int getItemId() {\n@@ -389,7 +403,25 @@ public void sendMessage(MapleCharacter chr, String msg) {\n         synchronized (messages) {\n             messages.add(new Pair<>(message, slot));\n         }\n-        broadcastToVisitors(MaplePacketCreator.hiredMerchantChat(message, slot));\n+        broadcastToVisitorsThreadsafe(MaplePacketCreator.hiredMerchantChat(message, slot));\n+    }\n+    \n+    public List<MaplePlayerShopItem> sendAvailableBundles(int itemid) {\n+        List<MaplePlayerShopItem> list = new LinkedList<>();\n+        List<MaplePlayerShopItem> all = new ArrayList<>();\n+        \n+        if(!open.get()) return list;\n+        \n+        synchronized (items) {\n+            for(MaplePlayerShopItem mpsi : items) all.add(mpsi);\n+        }\n+        \n+        for(MaplePlayerShopItem mpsi : all) {\n+            if(mpsi.getItem().getItemId() == itemid && mpsi.getBundles() > 0 && mpsi.isExist()) {\n+                list.add(mpsi);\n+            }\n+        }\n+        return list;\n     }\n \n     public void saveItems(boolean shutdown) throws SQLException {\n@@ -490,6 +522,10 @@ public void clearMessages() {\n     public int getMapId() {\n         return map.getId();\n     }\n+    \n+    public MapleMap getMap() {\n+        return map;\n+    }\n \n     public List<SoldItem> getSold() {\n         synchronized (sold) {", "previous_filename": "src/server/maps/HiredMerchant.java"}, {"sha": "ce5fee095c4e06f8aeb4b35ff6daba89c08fffb2", "filename": "src/tools/MaplePacketCreator.java", "status": "modified", "additions": 107, "deletions": 40, "changes": 147, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/src/tools/MaplePacketCreator.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/src/tools/MaplePacketCreator.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/src/tools/MaplePacketCreator.java?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -62,7 +62,7 @@\n import server.life.MapleMonster;\n import server.life.MapleNPC;\n import server.life.MobSkill;\n-import server.maps.HiredMerchant;\n+import server.maps.MapleHiredMerchant;\n import server.maps.MapleDoor;\n import server.maps.MapleDoorObject;\n import server.maps.MapleDragon;\n@@ -106,6 +106,7 @@\n import constants.skills.Buccaneer;\n import constants.skills.Corsair;\n import constants.skills.ThunderBreaker;\n+import server.maps.AbstractMapleMapObject;\n \n /**\n  *\n@@ -686,7 +687,7 @@ private static void addMonsterBookInfo(final MaplePacketLittleEndianWriter mplew\n                 \n                 mplew.writeBool(c.getGMLevel() > 0);\n                 \n-                mplew.write(0); // Admin Byte. 0x80,0x40,0x20.. Rubbish.\n+                mplew.write((c.getGMLevel() > 0 && Server.getInstance().canFly(c.getAccID())) ? 0x80 : 0); // Admin Byte. 0x80,0x40,0x20.. Rubbish.\n                 mplew.write(0); // Country Code.\n                 \n                 mplew.writeMapleAsciiString(c.getAccountName());\n@@ -1856,11 +1857,13 @@ public int compare(Pair<MapleStat, Integer> o1, Pair<MapleStat, Integer> o2) {\n                         mplew.writeInt(chr.getMount().getExp());\n                         mplew.writeInt(chr.getMount().getTiredness());\n                 }\n-                if (chr.getPlayerShop() != null && chr.getPlayerShop().isOwner(chr)) {\n-                        if (chr.getPlayerShop().hasFreeSlot()) {\n-                                addAnnounceBox(mplew, chr.getPlayerShop(), chr.getPlayerShop().getVisitors().length);\n+                \n+                MaplePlayerShop mps = chr.getPlayerShop();\n+                if (mps != null && mps.isOwner(chr)) {\n+                        if (mps.hasFreeSlot()) {\n+                                addAnnounceBox(mplew, mps, mps.getVisitors().length);\n                         } else {\n-                                addAnnounceBox(mplew, chr.getPlayerShop(), 1);\n+                                addAnnounceBox(mplew, mps, 1);\n                         }\n                 } else if (chr.getMiniGame() != null && chr.getMiniGame().isOwner(chr)) {\n                         if (chr.getMiniGame().hasFreeSlot()) {\n@@ -2728,8 +2731,8 @@ private static void writeLongMaskFromList(final MaplePacketLittleEndianWriter mp\n                 final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter(4);\n                 mplew.writeShort(SendOpcode.PLAYER_INTERACTION.getValue());\n                 mplew.write(PlayerInteractionHandler.Action.EXIT.getCode());\n-                if (slot > 0) {\n-                        mplew.write(slot);\n+                if (slot != 0) {\n+                        mplew.writeShort(slot);\n                 }\n                 return mplew.getPacket();\n         }\n@@ -2794,7 +2797,7 @@ private static void writeLongMaskFromList(final MaplePacketLittleEndianWriter mp\n          * @param owner\n          * @return\n          */\n-        public static byte[] getPlayerShop(MapleClient c, MaplePlayerShop shop, boolean owner) {\n+        public static byte[] getPlayerShop(MaplePlayerShop shop, boolean owner) {\n                 final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n                 mplew.writeShort(SendOpcode.PLAYER_INTERACTION.getValue());\n                 mplew.write(PlayerInteractionHandler.Action.ROOM.getCode());\n@@ -2804,9 +2807,16 @@ private static void writeLongMaskFromList(final MaplePacketLittleEndianWriter mp\n                 mplew.write(0);\n                 addCharLook(mplew, shop.getOwner(), false);\n                 mplew.writeMapleAsciiString(shop.getOwner().getName());\n-                mplew.write(1);\n-                addCharLook(mplew, shop.getOwner(), false);\n-                mplew.writeMapleAsciiString(shop.getOwner().getName());\n+                \n+                MapleCharacter visitors[] = shop.getVisitors();\n+                for(int i = 0; i < 3; i++) {\n+                    if(visitors[i] != null) {\n+                        mplew.write(i + 1);\n+                        addCharLook(mplew, visitors[i], false);\n+                        mplew.writeMapleAsciiString(visitors[i].getName());\n+                    }\n+                }\n+                \n                 mplew.write(0xFF);\n                 mplew.writeMapleAsciiString(shop.getDescription());\n                 List<MaplePlayerShopItem> items = shop.getItems();\n@@ -4943,38 +4953,84 @@ private static void addPetInfo(final MaplePacketLittleEndianWriter mplew, MapleP\n                 return mplew.getPacket();\n         }\n \n-        public static byte[] owlOfMinerva(MapleClient c, int itemid, List<HiredMerchant> hms, List<MaplePlayerShopItem> items) { //Thanks moongra, you save me some time :)\n+        // 0: Success\n+        // 1: The room is already closed.\n+        // 2: You can't enter the room due to full capacity.\n+        // 3: Other requests are being fulfilled this minute.\n+        // 4: You can't do it while you're dead.\n+        // 7: You are not allowed to trade other items at this point.\n+        // 17: You may not enter this store.\n+        // 18: The owner of the store is currently undergoing store maintenance. Please try again in a bit.\n+        // 23: This can only be used inside the Free Market.\n+        // default: This character is unable to do it.\t\n+        public static byte[] getOwlMessage(int msg) {\n+                MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter(3);\n+\n+                mplew.writeShort(SendOpcode.SHOP_LINK_RESULT.getValue());\n+                mplew.write(msg); // depending on the byte sent, a different message is sent.\n+\n+                return mplew.getPacket();\n+        }\n+        \n+        public static byte[] owlOfMinerva(MapleClient c, int itemid, List<Pair<MaplePlayerShopItem, AbstractMapleMapObject>> hmsAvailable) {\n+                byte itemType = MapleItemInformationProvider.getInstance().getInventoryType(itemid).getType();\n+                \n                 final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n                 mplew.writeShort(SendOpcode.SHOP_SCANNER_RESULT.getValue()); // header.\n                 mplew.write(6);\n                 mplew.writeInt(0);\n                 mplew.writeInt(itemid);\n-                mplew.writeInt(hms.size());\n-                for (HiredMerchant hm : hms) {\n-                        for (MaplePlayerShopItem item : items) {\n-                                mplew.writeMapleAsciiString(hm.getOwner());\n-                                mplew.writeInt(hm.getMapId());\n-                                mplew.writeMapleAsciiString(hm.getDescription());\n-                                mplew.writeInt(item.getItem().getQuantity());\n-                                mplew.writeInt(item.getBundles());\n-                                mplew.writeInt(item.getPrice());\n-                                mplew.writeInt(hm.getOwnerId());\n-                                mplew.write(hm.getFreeSlotThreadsafe() == -1 ? 1 : 0);\n-                                MapleCharacter chr = c.getChannelServer().getPlayerStorage().getCharacterById(hm.getOwnerId());\n-                                if ((chr != null) && (c.getChannel() == hm.getChannel())) {\n-                                        mplew.write(1);\n-                                } else {\n-                                        mplew.write(2);\n-                                }\n-\n-                                if (item.getItem().getItemId() / 1000000 == 1) {\n-                                        addItemInfo(mplew, item.getItem(), true);\n-                                }\n+                mplew.writeInt(hmsAvailable.size());\n+                for (Pair<MaplePlayerShopItem, AbstractMapleMapObject> hme : hmsAvailable) {\n+                        MaplePlayerShopItem item = hme.getLeft();\n+                        AbstractMapleMapObject mo = hme.getRight();\n+                        \n+                        if(mo instanceof MaplePlayerShop) {\n+                            MaplePlayerShop ps = (MaplePlayerShop) mo;\n+                            MapleCharacter owner = ps.getOwner();\n+                            \n+                            mplew.writeMapleAsciiString(owner.getName());\n+                            mplew.writeInt(owner.getMapId());\n+                            mplew.writeMapleAsciiString(ps.getDescription());\n+                            mplew.writeInt(item.getBundles());\n+                            mplew.writeInt(item.getItem().getQuantity());\n+                            mplew.writeInt(item.getPrice());\n+                            mplew.writeInt(owner.getId());\n+                            mplew.write(owner.getClient().getChannel() - 1);\n+                        } else {\n+                            MapleHiredMerchant hm = (MapleHiredMerchant) mo;\n+                        \n+                            mplew.writeMapleAsciiString(hm.getOwner());\n+                            mplew.writeInt(hm.getMapId());\n+                            mplew.writeMapleAsciiString(hm.getDescription());\n+                            mplew.writeInt(item.getBundles());\n+                            mplew.writeInt(item.getItem().getQuantity());\n+                            mplew.writeInt(item.getPrice());\n+                            mplew.writeInt(hm.getOwnerId());\n+                            mplew.write(hm.getChannel() - 1);\n+                        }\n+                        \n+                        mplew.write(itemType);\n+                        if (itemType == MapleInventoryType.EQUIP.getType()) {\n+                                addItemInfo(mplew, item.getItem(), true);\n                         }\n                 }\n                 return mplew.getPacket();\n         }\n \n+        public static byte[] getOwlOpen() {\n+                MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n+\n+                mplew.writeShort(SendOpcode.SHOP_SCANNER_RESULT.getValue());\n+                mplew.write(7);\n+                mplew.write(GameConstants.OWL_DATA.length);\n+                for (int i : GameConstants.OWL_DATA) {\n+                        mplew.writeInt(i);\n+                }\n+\n+                return mplew.getPacket();\n+        }\n+        \n         public static byte[] retrieveFirstMessage() {\n                 final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n                 mplew.writeShort(SendOpcode.ENTRUSTED_SHOP_CHECK_RESULT.getValue()); // header.\n@@ -4998,7 +5054,7 @@ private static void addPetInfo(final MaplePacketLittleEndianWriter mplew, MapleP\n          * 0x12 = FKING POPUP LOL\n          */\n \n-        public static byte[] getHiredMerchant(MapleCharacter chr, HiredMerchant hm, boolean firstTime) {//Thanks Dustin\n+        public static byte[] getHiredMerchant(MapleCharacter chr, MapleHiredMerchant hm, boolean firstTime) {//Thanks Dustin\n                 final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n                 mplew.writeShort(SendOpcode.PLAYER_INTERACTION.getValue());\n                 mplew.write(PlayerInteractionHandler.Action.ROOM.getCode());\n@@ -5007,11 +5063,13 @@ private static void addPetInfo(final MaplePacketLittleEndianWriter mplew, MapleP\n                 mplew.writeShort(hm.getVisitorSlotThreadsafe(chr) + 1);\n                 mplew.writeInt(hm.getItemId());\n                 mplew.writeMapleAsciiString(\"Hired Merchant\");\n+                \n+                MapleCharacter visitors[] = hm.getVisitors();\n                 for (int i = 0; i < 3; i++) {\n-                        if (hm.getVisitors()[i] != null) {\n+                        if (visitors[i] != null) {\n                                 mplew.write(i + 1);\n-                                addCharLook(mplew, hm.getVisitors()[i], false);\n-                                mplew.writeMapleAsciiString(hm.getVisitors()[i].getName());\n+                                addCharLook(mplew, visitors[i], false);\n+                                mplew.writeMapleAsciiString(visitors[i].getName());\n                         }\n                 }\n                 mplew.write(-1);\n@@ -5057,7 +5115,7 @@ private static void addPetInfo(final MaplePacketLittleEndianWriter mplew, MapleP\n                 return mplew.getPacket();\n         }\n \n-        public static byte[] updateHiredMerchant(HiredMerchant hm, MapleCharacter chr) {\n+        public static byte[] updateHiredMerchant(MapleHiredMerchant hm, MapleCharacter chr) {\n                 final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n                 mplew.writeShort(SendOpcode.PLAYER_INTERACTION.getValue());\n                 mplew.write(PlayerInteractionHandler.Action.UPDATE_MERCHANT.getCode());\n@@ -5100,6 +5158,15 @@ private static void addPetInfo(final MaplePacketLittleEndianWriter mplew, MapleP\n                 return mplew.getPacket();\n         }\n \n+        public static byte[] hiredMerchantMaintenanceMessage() {\n+                MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter(5);\n+                mplew.writeShort(SendOpcode.PLAYER_INTERACTION.getValue());\n+                mplew.write(PlayerInteractionHandler.Action.ROOM.getCode());\n+                mplew.write(0x00);\n+                mplew.write(0x12);\n+                return mplew.getPacket();\n+        }\n+        \n         public static byte[] leaveHiredMerchant(int slot, int status2) {\n                 final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n                 mplew.writeShort(SendOpcode.PLAYER_INTERACTION.getValue());\n@@ -5119,7 +5186,7 @@ private static void addPetInfo(final MaplePacketLittleEndianWriter mplew, MapleP\n                 return mplew.getPacket();\n         }\n \n-        public static byte[] spawnHiredMerchant(HiredMerchant hm) {\n+        public static byte[] spawnHiredMerchant(MapleHiredMerchant hm) {\n                 final MaplePacketLittleEndianWriter mplew = new MaplePacketLittleEndianWriter();\n                 mplew.writeShort(SendOpcode.SPAWN_HIRED_MERCHANT.getValue());\n                 mplew.writeInt(hm.getOwnerId());"}, {"sha": "400ffdb4187994775d233e294f3147abb07cbe27", "filename": "tools/MapleIdRetriever/build/built-jar.properties", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/tools/MapleIdRetriever/build/built-jar.properties", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/tools/MapleIdRetriever/build/built-jar.properties", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleIdRetriever/build/built-jar.properties?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -1,4 +1,4 @@\n-#Tue, 22 Aug 2017 21:30:04 -0300\n+#Thu, 28 Sep 2017 21:15:19 -0300\n \n \n C\\:\\\\Nexon\\\\MapleSolaxia\\\\MapleSolaxiaV2\\\\tools\\\\MapleIdRetriever="}, {"sha": "dc1f25100a14046ec15417bb17aef4517d138c82", "filename": "tools/MapleIdRetriever/build/classes/mapleidretriever/MapleIdRetriever.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/tools/MapleIdRetriever/build/classes/mapleidretriever/MapleIdRetriever.class", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/tools/MapleIdRetriever/build/classes/mapleidretriever/MapleIdRetriever.class", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleIdRetriever/build/classes/mapleidretriever/MapleIdRetriever.class?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "298c2b49f7f7428d119d0d7a96861c833329ecb3", "filename": "tools/MapleIdRetriever/dist/MapleIdRetriever.jar", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/tools/MapleIdRetriever/dist/MapleIdRetriever.jar", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/tools/MapleIdRetriever/dist/MapleIdRetriever.jar", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleIdRetriever/dist/MapleIdRetriever.jar?ref=ddbd679f884f7a3172e7114edee8dec5a1180471"}, {"sha": "598b0863a2d8ae3c1255c80bc94ae6d2603fa2b5", "filename": "tools/MapleIdRetriever/lib/fetch.txt", "status": "modified", "additions": 14, "deletions": 14, "changes": 28, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/tools/MapleIdRetriever/lib/fetch.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/tools/MapleIdRetriever/lib/fetch.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleIdRetriever/lib/fetch.txt?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -1,14 +1,14 @@\n-Orihalcon Platine (M)\n-Helios\n-\n-Green Neli Shoes\n-Kage\n-\n-Green Pris (M)\n-Golden Raven\n-\n-Brown Pireta Hat\n-Dragon's Tail\n-\n-Red Martier\n-White Fangz\n+Red Potion\n+Lemon\n+W. Ramen\n+Elixir\n+Mana Elixir\n+Mushroom Miso Ramen\n+Power Elixir\n+Lunar Gloves\n+LeFay Jester\n+Eclipse Earrings\n+Herculean Crown\n+Lockewood Hat\n+Pickpocket Pilfer\n+Eclipse Cloak\n\\ No newline at end of file"}, {"sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391", "filename": "tools/MapleIdRetriever/lib/result.txt", "status": "modified", "additions": 0, "deletions": 14, "changes": 14, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/tools/MapleIdRetriever/lib/result.txt", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/tools/MapleIdRetriever/lib/result.txt", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleIdRetriever/lib/result.txt?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -1,14 +0,0 @@\n-\n-1412009 1412016 1412020 1412025 \n-\n-1072207 \n-1382008 1382024 1382029 1382034 \n-\n-\n-1462012 \n-\n-1002327 \n-1332023 1332037 1332042 1332047 \n-\n-1082210 \n-1482011 "}, {"sha": "6807a2ba1902a255b464065dd83188d73fbe6d01", "filename": "tools/MapleIdRetriever/nbproject/private/private.xml", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/tools/MapleIdRetriever/nbproject/private/private.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/tools/MapleIdRetriever/nbproject/private/private.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleIdRetriever/nbproject/private/private.xml?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -2,8 +2,6 @@\n <project-private xmlns=\"http://www.netbeans.org/ns/project-private/1\">\n     <editor-bookmarks xmlns=\"http://www.netbeans.org/ns/editor-bookmarks/2\" lastBookmarkId=\"0\"/>\n     <open-files xmlns=\"http://www.netbeans.org/ns/projectui-open-files/2\">\n-        <group>\n-            <file>file:/C:/Nexon/MapleSolaxia/MapleSolaxiaV2/tools/MapleIdRetriever/src/mapleidretriever/MapleIdRetriever.java</file>\n-        </group>\n+        <group/>\n     </open-files>\n </project-private>"}, {"sha": "3674b7b5a69e0b3b73522a18c25a2c935302d238", "filename": "tools/MapleIdRetriever/src/mapleidretriever/MapleIdRetriever.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/tools/MapleIdRetriever/src/mapleidretriever/MapleIdRetriever.java", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/tools/MapleIdRetriever/src/mapleidretriever/MapleIdRetriever.java", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/tools/MapleIdRetriever/src/mapleidretriever/MapleIdRetriever.java?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -30,7 +30,7 @@\n  * \n  */\n public class MapleIdRetriever {\n-    private final static boolean INSTALL_SQLTABLE = false;\n+    private final static boolean INSTALL_SQLTABLE = true;\n     \n     static String host = \"jdbc:mysql://localhost:3306/maplesolaxia\";\n     static String driver = \"com.mysql.jdbc.Driver\";"}, {"sha": "813bcd65400656f73ade721ac1fc8e0ed171c85a", "filename": "wz/Map.wz/Map/Map1/100000003.img.xml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/wz/Map.wz/Map/Map1/100000003.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/wz/Map.wz/Map/Map1/100000003.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map1/100000003.img.xml?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -13,6 +13,7 @@\n     <int name=\"moveLimit\" value=\"0\"/>\n     <string name=\"mapMark\" value=\"Henesys\"/>\n     <int name=\"fieldLimit\" value=\"64\"/>\n+    <string name=\"onUserEnter\" value=\"explorationPoint\"/>\n   </imgdir>\n   <imgdir name=\"back\">\n     <imgdir name=\"0\">"}, {"sha": "8d53a0e50081b030e81ee6f6494227895145ab7d", "filename": "wz/Map.wz/Map/Map1/100000006.img.xml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/wz/Map.wz/Map/Map1/100000006.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/wz/Map.wz/Map/Map1/100000006.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Map.wz/Map/Map1/100000006.img.xml?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -13,7 +13,7 @@\n     <int name=\"moveLimit\" value=\"0\"/>\n     <string name=\"mapMark\" value=\"Henesys\"/>\n     <int name=\"fieldLimit\" value=\"64\"/>\n-    <string name=\"onUserEnter\" value=\"explorationPoint\"/>\n+    <string name=\"onUserEnter\" value=\"100000006\"/>\n   </imgdir>\n   <imgdir name=\"back\">\n     <imgdir name=\"0\">"}, {"sha": "3c850a09bc31ca3a8d92350789157e453ee68941", "filename": "wz/Quest.wz/Act.img.xml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/wz/Quest.wz/Act.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/wz/Quest.wz/Act.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Quest.wz/Act.img.xml?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -11081,6 +11081,7 @@\n       <imgdir name=\"item\">\n         <imgdir name=\"0\">\n           <int name=\"id\" value=\"4031844\"/>\n+          <int name=\"count\" value=\"-1\"/>\n         </imgdir>\n       </imgdir>\n     </imgdir>"}, {"sha": "8d70d78244d0c00e97dcb02956315bb736b16cd1", "filename": "wz/Quest.wz/Check.img.xml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/ronancpl/HeavenMS/blob/ddbd679f884f7a3172e7114edee8dec5a1180471/wz/Quest.wz/Check.img.xml", "raw_url": "https://github.com/ronancpl/HeavenMS/raw/ddbd679f884f7a3172e7114edee8dec5a1180471/wz/Quest.wz/Check.img.xml", "contents_url": "https://api.github.com/repos/ronancpl/HeavenMS/contents/wz/Quest.wz/Check.img.xml?ref=ddbd679f884f7a3172e7114edee8dec5a1180471", "patch": "@@ -21342,7 +21342,7 @@\n       <imgdir name=\"item\">\n         <imgdir name=\"0\">\n           <int name=\"id\" value=\"4031844\"/>\n-          <int name=\"count\" value=\"-1\"/>\n+          <int name=\"count\" value=\"1\"/>\n         </imgdir>\n       </imgdir>\n     </imgdir>"}]}]},
